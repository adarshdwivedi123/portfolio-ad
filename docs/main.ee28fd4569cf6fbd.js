(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{154:(Am,km,Jf)=>{"use strict";function xo(n){return"function"==typeof n}function ae(n){const e=n(y=>{Error.call(y),y.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const B=ae(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((y,R)=>`${R+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function r(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class D{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const K of e)K.remove(this);else e.remove(this);const{initialTeardown:y}=this;if(xo(y))try{y()}catch(K){t=K instanceof B?K.errors:[K]}const{_finalizers:R}=this;if(R){this._finalizers=null;for(const K of R)try{S(K)}catch(pe){t=t??[],pe instanceof B?t=[...t,...pe.errors]:t.push(pe)}}if(t)throw new B(t)}}add(t){var e;if(t&&t!==this)if(this.closed)S(t);else{if(t instanceof D){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&r(e,t)}remove(t){const{_finalizers:e}=this;e&&r(e,t),t instanceof D&&t._removeParent(this)}}D.EMPTY=(()=>{const n=new D;return n.closed=!0,n})();const E=D.EMPTY;function d(n){return n instanceof D||n&&"closed"in n&&xo(n.remove)&&xo(n.add)&&xo(n.unsubscribe)}function S(n){xo(n)?n():n.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout(n,t,...e){const{delegate:y}=v;return y?.setTimeout?y.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=v;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function u(n){v.setTimeout(()=>{const{onUnhandledError:t}=M;if(!t)throw n;t(n)})}function i(){}const s=l("C",void 0,void 0);function l(n,t,e){return{kind:n,value:t,error:e}}let c=null;function f(n){if(M.useDeprecatedSynchronousErrorHandling){const t=!c;if(t&&(c={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:y}=c;if(c=null,e)throw y}}else n()}class h extends D{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,d(t)&&t.add(this)):this.destination=p}static create(t,e,y){return new b(t,e,y)}next(t){this.isStopped?A(function o(n){return l("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?A(function a(n){return l("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?A(s,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const T=Function.prototype.bind;function x(n,t){return T.call(n,t)}class m{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(y){_(y)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(y){_(y)}else _(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){_(e)}}}class b extends h{constructor(t,e,y){let R;if(super(),xo(t)||!t)R={next:t??void 0,error:e??void 0,complete:y??void 0};else{let K;this&&M.useDeprecatedNextContext?(K=Object.create(t),K.unsubscribe=()=>this.unsubscribe(),R={next:t.next&&x(t.next,K),error:t.error&&x(t.error,K),complete:t.complete&&x(t.complete,K)}):R=t}this.destination=new m(R)}}function _(n){M.useDeprecatedSynchronousErrorHandling?function g(n){M.useDeprecatedSynchronousErrorHandling&&c&&(c.errorThrown=!0,c.error=n)}(n):u(n)}function A(n,t){const{onStoppedNotification:e}=M;e&&v.setTimeout(()=>e(n,t))}const p={closed:!0,next:i,error:function w(n){throw n},complete:i},I="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(n){return n}function O(n){return 0===n.length?k:1===n.length?n[0]:function(e){return n.reduce((y,R)=>R(y),e)}}let P=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const y=new n;return y.source=this,y.operator=e,y}subscribe(e,y,R){const K=function X(n){return n&&n instanceof h||function j(n){return n&&xo(n.next)&&xo(n.error)&&xo(n.complete)}(n)&&d(n)}(e)?e:new b(e,y,R);return f(()=>{const{operator:pe,source:Ne}=this;K.add(pe?pe.call(K,Ne):Ne?this._subscribe(K):this._trySubscribe(K))}),K}_trySubscribe(e){try{return this._subscribe(e)}catch(y){e.error(y)}}forEach(e,y){return new(y=F(y))((R,K)=>{const pe=new b({next:Ne=>{try{e(Ne)}catch(Xe){K(Xe),pe.unsubscribe()}},error:K,complete:R});this.subscribe(pe)})}_subscribe(e){var y;return null===(y=this.source)||void 0===y?void 0:y.subscribe(e)}[I](){return this}pipe(...e){return O(e)(this)}toPromise(e){return new(e=F(e))((y,R)=>{let K;this.subscribe(pe=>K=pe,pe=>R(pe),()=>y(K))})}}return n.create=t=>new n(t),n})();function F(n){var t;return null!==(t=n??M.Promise)&&void 0!==t?t:Promise}const N=ae(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let q=(()=>{class n extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const y=new G(this,this);return y.operator=e,y}_throwIfClosed(){if(this.closed)throw new N}next(e){f(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const y of this.currentObservers)y.next(e)}})}error(e){f(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:y}=this;for(;y.length;)y.shift().error(e)}})}complete(){f(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:y,isStopped:R,observers:K}=this;return y||R?E:(this.currentObservers=null,K.push(e),new D(()=>{this.currentObservers=null,r(K,e)}))}_checkFinalizedStatuses(e){const{hasError:y,thrownError:R,isStopped:K}=this;y?e.error(R):K&&e.complete()}asObservable(){const e=new P;return e.source=this,e}}return n.create=(t,e)=>new G(t,e),n})();class G extends q{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,y;null===(y=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===y||y.call(e,t)}error(t){var e,y;null===(y=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===y||y.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,y;return null!==(y=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==y?y:E}}function H(n){return xo(n?.lift)}function Z(n){return t=>{if(H(t))return t.lift(function(e){try{return n(e,this)}catch(y){this.error(y)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(n,t,e,y,R){return new se(n,t,e,y,R)}class se extends h{constructor(t,e,y,R,K,pe){super(t),this.onFinalize=K,this.shouldUnsubscribe=pe,this._next=e?function(Ne){try{e(Ne)}catch(Xe){t.error(Xe)}}:super._next,this._error=R?function(Ne){try{R(Ne)}catch(Xe){t.error(Xe)}finally{this.unsubscribe()}}:super._error,this._complete=y?function(){try{y()}catch(Ne){t.error(Ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ne(n,t){return Z((e,y)=>{let R=0;e.subscribe($(y,K=>{y.next(n.call(t,K,R++))}))})}function _e(n,t,e,y){return new(e||(e=Promise))(function(K,pe){function Ne(wt){try{ot(y.next(wt))}catch(Nt){pe(Nt)}}function Xe(wt){try{ot(y.throw(wt))}catch(Nt){pe(Nt)}}function ot(wt){wt.done?K(wt.value):function R(K){return K instanceof e?K:new e(function(pe){pe(K)})}(wt.value).then(Ne,Xe)}ot((y=y.apply(n,t||[])).next())})}function Re(n){return this instanceof Re?(this.v=n,this):new Re(n)}function Ze(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Se(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],y=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&y>=n.length&&(n=void 0),{value:n&&n[y++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},y("next"),y("throw"),y("return"),e[Symbol.asyncIterator]=function(){return this},e);function y(K){e[K]=n[K]&&function(pe){return new Promise(function(Ne,Xe){!function R(K,pe,Ne,Xe){Promise.resolve(Xe).then(function(ot){K({value:ot,done:Ne})},pe)}(Ne,Xe,(pe=n[K](pe)).done,pe.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const St=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Dt(n){return xo(n?.then)}function vt(n){return xo(n[I])}function gt(n){return Symbol.asyncIterator&&xo(n?.[Symbol.asyncIterator])}function Et(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ot=function Pt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ht(n){return xo(n?.[Ot])}function zt(n){return function De(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,y=e.apply(n,t||[]),K=[];return R={},pe("next"),pe("throw"),pe("return"),R[Symbol.asyncIterator]=function(){return this},R;function pe(hn){y[hn]&&(R[hn]=function(An){return new Promise(function(Nn,Xn){K.push([hn,An,Nn,Xn])>1||Ne(hn,An)})})}function Ne(hn,An){try{!function Xe(hn){hn.value instanceof Re?Promise.resolve(hn.value.v).then(ot,wt):Nt(K[0][2],hn)}(y[hn](An))}catch(Nn){Nt(K[0][3],Nn)}}function ot(hn){Ne("next",hn)}function wt(hn){Ne("throw",hn)}function Nt(hn,An){hn(An),K.shift(),K.length&&Ne(K[0][0],K[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:y,done:R}=yield Re(e.read());if(R)return yield Re(void 0);yield yield Re(y)}}finally{e.releaseLock()}})}function nt(n){return xo(n?.getReader)}function it(n){if(n instanceof P)return n;if(null!=n){if(vt(n))return function Ke(n){return new P(t=>{const e=n[I]();if(xo(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(St(n))return function rt(n){return new P(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Dt(n))return function ft(n){return new P(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,u)})}(n);if(gt(n))return Ve(n);if(Ht(n))return function ht(n){return new P(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(nt(n))return function Ge(n){return Ve(zt(n))}(n)}throw Et(n)}function Ve(n){return new P(t=>{(function ut(n,t){var e,y,R,K;return _e(this,void 0,void 0,function*(){try{for(e=Ze(n);!(y=yield e.next()).done;)if(t.next(y.value),t.closed)return}catch(pe){R={error:pe}}finally{try{y&&!y.done&&(K=e.return)&&(yield K.call(e))}finally{if(R)throw R.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function dt(n,t,e,y=0,R=!1){const K=t.schedule(function(){e(),R?n.add(this.schedule(null,y)):this.unsubscribe()},y);if(n.add(K),!R)return K}function bt(n,t,e=1/0){return xo(t)?bt((y,R)=>ne((K,pe)=>t(y,K,R,pe))(it(n(y,R))),e):("number"==typeof t&&(e=t),Z((y,R)=>function kt(n,t,e,y,R,K,pe,Ne){const Xe=[];let ot=0,wt=0,Nt=!1;const hn=()=>{Nt&&!Xe.length&&!ot&&t.complete()},An=Xn=>ot<y?Nn(Xn):Xe.push(Xn),Nn=Xn=>{K&&t.next(Xn),ot++;let hr=!1;it(e(Xn,wt++)).subscribe($(t,Ar=>{R?.(Ar),K?An(Ar):t.next(Ar)},()=>{hr=!0},void 0,()=>{if(hr)try{for(ot--;Xe.length&&ot<y;){const Ar=Xe.shift();pe?dt(t,pe,()=>Nn(Ar)):Nn(Ar)}hn()}catch(Ar){t.error(Ar)}}))};return n.subscribe($(t,An,()=>{Nt=!0,hn()})),()=>{Ne?.()}}(y,R,n,e)))}function At(n=1/0){return bt(k,n)}const xt=new P(n=>n.complete());function It(n){return n[n.length-1]}function Wt(n){return xo(It(n))?n.pop():void 0}function Zt(n){return function Tt(n){return n&&xo(n.schedule)}(It(n))?n.pop():void 0}function dn(n,t=0){return Z((e,y)=>{e.subscribe($(y,R=>dt(y,n,()=>y.next(R),t),()=>dt(y,n,()=>y.complete(),t),R=>dt(y,n,()=>y.error(R),t)))})}function nn(n,t=0){return Z((e,y)=>{y.add(n.schedule(()=>e.subscribe(y),t))})}function Mn(n,t){if(!n)throw new Error("Iterable cannot be null");return new P(e=>{dt(e,t,()=>{const y=n[Symbol.asyncIterator]();dt(e,t,()=>{y.next().then(R=>{R.done?e.complete():e.next(R.value)})},0,!0)})})}function an(n,t){return t?function gn(n,t){if(null!=n){if(vt(n))return function cn(n,t){return it(n).pipe(nn(t),dn(t))}(n,t);if(St(n))return function En(n,t){return new P(e=>{let y=0;return t.schedule(function(){y===n.length?e.complete():(e.next(n[y++]),e.closed||this.schedule())})})}(n,t);if(Dt(n))return function rn(n,t){return it(n).pipe(nn(t),dn(t))}(n,t);if(gt(n))return Mn(n,t);if(Ht(n))return function Pn(n,t){return new P(e=>{let y;return dt(e,t,()=>{y=n[Ot](),dt(e,t,()=>{let R,K;try{({value:R,done:K}=y.next())}catch(pe){return void e.error(pe)}K?e.complete():e.next(R)},0,!0)}),()=>xo(y?.return)&&y.return()})}(n,t);if(nt(n))return function en(n,t){return Mn(zt(n),t)}(n,t)}throw Et(n)}(n,t):it(n)}function kn(n={}){const{connector:t=(()=>new q),resetOnError:e=!0,resetOnComplete:y=!0,resetOnRefCountZero:R=!0}=n;return K=>{let pe,Ne,Xe,ot=0,wt=!1,Nt=!1;const hn=()=>{Ne?.unsubscribe(),Ne=void 0},An=()=>{hn(),pe=Xe=void 0,wt=Nt=!1},Nn=()=>{const Xn=pe;An(),Xn?.unsubscribe()};return Z((Xn,hr)=>{ot++,!Nt&&!wt&&hn();const Ar=Xe=Xe??t();hr.add(()=>{ot--,0===ot&&!Nt&&!wt&&(Ne=Ln(Nn,R))}),Ar.subscribe(hr),!pe&&ot>0&&(pe=new b({next:zr=>Ar.next(zr),error:zr=>{Nt=!0,hn(),Ne=Ln(An,e,zr),Ar.error(zr)},complete:()=>{wt=!0,hn(),Ne=Ln(An,y),Ar.complete()}}),it(Xn).subscribe(pe))})(K)}}function Ln(n,t,...e){if(!0===t)return void n();if(!1===t)return;const y=new b({next:()=>{y.unsubscribe(),n()}});return it(t(...e)).subscribe(y)}function Rn(n){for(let t in n)if(n[t]===Rn)return t;throw Error("Could not find renamed property on target object.")}function Wn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Cn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Cn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Zn(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const mr=Rn({__forward_ref__:Rn});function lr(n){return n.__forward_ref__=lr,n.toString=function(){return Cn(this())},n}function er(n){return xr(n)?n():n}function xr(n){return"function"==typeof n&&n.hasOwnProperty(mr)&&n.__forward_ref__===lr}function dr(n){return n&&!!n.\u0275providers}const Kt="https://g.co/ng/security#xss";class qt extends Error{constructor(t,e){super(Tn(t,e)),this.code=t}}function Tn(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}function xn(n){return"string"==typeof n?n:null==n?"":String(n)}function vr(n,t){throw new qt(-201,!1)}function Un(n,t){null==n&&function Hn(n,t,e,y){throw new Error(`ASSERTION ERROR: ${n}`+(null==y?"":` [Expected=> ${e} ${y} ${t} <=Actual]`))}(t,n,null,"!=")}function Vn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function rr(n){return{providers:n.providers||[],imports:n.imports||[]}}function _r(n){return Lr(n,Rr)||Lr(n,ji)}function Lr(n,t){return n.hasOwnProperty(t)?n[t]:null}function fr(n){return n&&(n.hasOwnProperty(oi)||n.hasOwnProperty(ko))?n[oi]:null}const Rr=Rn({\u0275prov:Rn}),oi=Rn({\u0275inj:Rn}),ji=Rn({ngInjectableDef:Rn}),ko=Rn({ngInjectorDef:Rn});var Zr=(()=>((Zr=Zr||{})[Zr.Default=0]="Default",Zr[Zr.Host=1]="Host",Zr[Zr.Self=2]="Self",Zr[Zr.SkipSelf=4]="SkipSelf",Zr[Zr.Optional=8]="Optional",Zr))();let _o;function Bi(n){const t=_o;return _o=n,t}function Ps(n,t,e){const y=_r(n);return y&&"root"==y.providedIn?void 0===y.value?y.value=y.factory():y.value:e&Zr.Optional?null:void 0!==t?t:void vr(Cn(n))}const Vi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rc={},vs="__NG_DI_FLAG__",Rc="ngTempTokenPath",ic="ngTokenPath",oc=/\n/gm,tl="\u0275",Ho="__source";let bl;function Li(n){const t=bl;return bl=n,t}function nl(n,t=Zr.Default){if(void 0===bl)throw new qt(-203,!1);return null===bl?Ps(n,void 0,t):bl.get(n,t&Zr.Optional?null:void 0,t)}function Dr(n,t=Zr.Default){return(function ao(){return _o}()||nl)(er(n),t)}function gi(n,t=Zr.Default){return Dr(n,Rs(t))}function Rs(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fs(n){const t=[];for(let e=0;e<n.length;e++){const y=er(n[e]);if(Array.isArray(y)){if(0===y.length)throw new qt(900,!1);let R,K=Zr.Default;for(let pe=0;pe<y.length;pe++){const Ne=y[pe],Xe=Qc(Ne);"number"==typeof Xe?-1===Xe?R=Ne.token:K|=Xe:R=Ne}t.push(Dr(R,K))}else t.push(Dr(y))}return t}function ls(n,t){return n[vs]=t,n.prototype[vs]=t,n}function Qc(n){return n[vs]}function il(n){return{toString:n}.toString()}var ys=(()=>((ys=ys||{})[ys.OnPush=0]="OnPush",ys[ys.Default=1]="Default",ys))(),xs=(()=>{return(n=xs||(xs={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",xs;var n})();const Ns={},Gi=[],wl=Rn({\u0275cmp:Rn}),ol=Rn({\u0275dir:Rn}),Tl=Rn({\u0275pipe:Rn}),ac=Rn({\u0275mod:Rn}),_s=Rn({\u0275fac:Rn}),sc=Rn({__NG_ELEMENT_ID__:Rn});let vu=0;function Ki(n){return il(()=>{const t=yu(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ys.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||xs.Emulated,id:"c"+vu++,styles:n.styles||Gi,_:null,schemas:n.schemas||null,tView:null};kc(e);const y=n.dependencies;return e.directiveDefs=kl(y,!1),e.pipeDefs=kl(y,!0),e})}function al(n){return Si(n)||Go(n)}function Ml(n){return null!==n}function Ui(n){return il(()=>({type:n.type,bootstrap:n.bootstrap||Gi,declarations:n.declarations||Gi,imports:n.imports||Gi,exports:n.exports||Gi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ji(n,t){if(null==n)return Ns;const e={};for(const y in n)if(n.hasOwnProperty(y)){let R=n[y],K=R;Array.isArray(R)&&(K=R[1],R=R[0]),e[R]=y,t&&(t[R]=K)}return e}function Vr(n){return il(()=>{const t=yu(n);return kc(t),t})}function Si(n){return n[wl]||null}function Go(n){return n[ol]||null}function Xa(n){return n[Tl]||null}function Ka(n,t){const e=n[ac]||null;if(!e&&!0===t)throw new Error(`Type ${Cn(n)} does not have '\u0275mod' property.`);return e}function yu(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Gi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ji(n.inputs,t),outputs:Ji(n.outputs)}}function kc(n){n.features?.forEach(t=>t(n))}function kl(n,t){if(!n)return null;const e=t?Xa:al;return()=>("function"==typeof n?n():n).map(y=>e(y)).filter(Ml)}const cs=0,$r=1,xi=2,mo=3,ca=4,sl=5,Co=6,cc=7,qo=8,uc=9,zs=10,Mi=11,Sl=12,dc=13,fc=14,bs=15,Jo=16,ll=17,Pi=18,ka=19,us=20,Qo=21,si=22,cl=1,ul=2,Sc=7,zl=8,ds=9,ua=10;function da(n){return Array.isArray(n)&&"object"==typeof n[cl]}function ma(n){return Array.isArray(n)&&!0===n[cl]}function So(n){return 0!=(4&n.flags)}function Bs(n){return n.componentOffset>-1}function dl(n){return 1==(1&n.flags)}function so(n){return!!n.template}function Sa(n){return 0!=(256&n[xi])}function Ts(n,t){return n.hasOwnProperty(_s)?n[_s]:null}class Fc{constructor(t,e,y){this.previousValue=t,this.currentValue=e,this.firstChange=y}isFirstChange(){return this.firstChange}}function Qi(){return Ms}function Ms(n){return n.type.prototype.ngOnChanges&&(n.setInput=fs),As}function As(){const n=pl(this),t=n?.current;if(t){const e=n.previous;if(e===Ns)n.previous=t;else for(let y in t)e[y]=t[y];n.current=null,this.ngOnChanges(t)}}function fs(n,t,e,y){const R=this.declaredInputs[e],K=pl(n)||function ta(n,t){return n[Us]=t}(n,{previous:Ns,current:null}),pe=K.current||(K.current={}),Ne=K.previous,Xe=Ne[R];pe[R]=new Fc(Xe&&Xe.currentValue,t,Ne===Ns),n[y]=t}Qi.ngInherit=!0;const Us="__ngSimpleChanges__";function pl(n){return n[Us]||null}const lo=function(n,t,e){};function co(n){for(;Array.isArray(n);)n=n[cs];return n}function hs(n,t){return co(t[n])}function Ua(n,t){return co(t[n.index])}function Wi(n,t){return n.data[t]}function zo(n,t){const e=t[n];return da(e)?e:e[cs]}function pc(n){return 64==(64&n[xi])}function Ja(n,t){return null==t?null:n[t]}function Wo(n){n[Pi]=0}function ra(n,t){n[sl]+=t;let e=n,y=n[mo];for(;null!==y&&(1===t&&1===e[sl]||-1===t&&0===e[sl]);)y[sl]+=t,e=y,y=y[mo]}const Sr={lFrame:jt(null),bindingsEnabled:!0};function mc(){return Sr.bindingsEnabled}function kr(){return Sr.lFrame.lView}function Nr(){return Sr.lFrame.tView}function Po(n){return Sr.lFrame.contextLView=n,n[qo]}function Qa(n){return Sr.lFrame.contextLView=null,n}function uo(){let n=Wl();for(;null!==n&&64===n.type;)n=n.parent;return n}function Wl(){return Sr.lFrame.currentTNode}function Fa(n,t){const e=Sr.lFrame;e.currentTNode=n,e.isParent=t}function Gs(){return Sr.lFrame.isParent}function V(){Sr.lFrame.isParent=!1}function ye(){const n=Sr.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ie(){return Sr.lFrame.bindingIndex++}function de(n){const t=Sr.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Fe(n,t){const e=Sr.lFrame;e.bindingIndex=e.bindingRootIndex=n,$e(t)}function $e(n){Sr.lFrame.currentDirectiveIndex=n}function tt(){return Sr.lFrame.currentQueryIndex}function lt(n){Sr.lFrame.currentQueryIndex=n}function yt(n){const t=n[$r];return 2===t.type?t.declTNode:1===t.type?n[Co]:null}function Mt(n,t,e){if(e&Zr.SkipSelf){let R=t,K=n;for(;!(R=R.parent,null!==R||e&Zr.Host||(R=yt(K),null===R||(K=K[bs],10&R.type))););if(null===R)return!1;t=R,n=K}const y=Sr.lFrame=Ut();return y.currentTNode=t,y.lView=n,!0}function Bt(n){const t=Ut(),e=n[$r];Sr.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Ut(){const n=Sr.lFrame,t=null===n?null:n.child;return null===t?jt(n):t}function jt(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Xt(){const n=Sr.lFrame;return Sr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Vt=Xt;function pn(){const n=Xt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Sn(){return Sr.lFrame.selectedIndex}function Dn(n){Sr.lFrame.selectedIndex=n}function qn(){const n=Sr.lFrame;return Wi(n.tView,n.selectedIndex)}function Ur(n,t){for(let e=t.directiveStart,y=t.directiveEnd;e<y;e++){const K=n.data[e].type.prototype,{ngAfterContentInit:pe,ngAfterContentChecked:Ne,ngAfterViewInit:Xe,ngAfterViewChecked:ot,ngOnDestroy:wt}=K;pe&&(n.contentHooks??(n.contentHooks=[])).push(-e,pe),Ne&&((n.contentHooks??(n.contentHooks=[])).push(e,Ne),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(e,Ne)),Xe&&(n.viewHooks??(n.viewHooks=[])).push(-e,Xe),ot&&((n.viewHooks??(n.viewHooks=[])).push(e,ot),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(e,ot)),null!=wt&&(n.destroyHooks??(n.destroyHooks=[])).push(e,wt)}}function li(n,t,e){Pr(n,t,3,e)}function nr(n,t,e,y){(3&n[xi])===e&&Pr(n,t,e,y)}function wr(n,t){let e=n[xi];(3&e)===t&&(e&=2047,e+=1,n[xi]=e)}function Pr(n,t,e,y){const K=y??-1,pe=t.length-1;let Ne=0;for(let Xe=void 0!==y?65535&n[Pi]:0;Xe<pe;Xe++)if("number"==typeof t[Xe+1]){if(Ne=t[Xe],null!=y&&Ne>=y)break}else t[Xe]<0&&(n[Pi]+=65536),(Ne<K||-1==K)&&(Wr(n,e,t,Xe),n[Pi]=(4294901760&n[Pi])+Xe+2),Xe++}function Wr(n,t,e,y){const R=e[y]<0,K=e[y+1],Ne=n[R?-e[y]:e[y]];if(R){if(n[xi]>>11<n[Pi]>>16&&(3&n[xi])===t){n[xi]+=2048,lo(4,Ne,K);try{K.call(Ne)}finally{lo(5,Ne,K)}}}else{lo(4,Ne,K);try{K.call(Ne)}finally{lo(5,Ne,K)}}}const ti=-1;class di{constructor(t,e,y){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=y}}function Zo(n,t,e){let y=0;for(;y<e.length;){const R=e[y];if("number"==typeof R){if(0!==R)break;y++;const K=e[y++],pe=e[y++],Ne=e[y++];n.setAttribute(t,pe,Ne,K)}else{const K=R,pe=e[++y];Di(K)?n.setProperty(t,K,pe):n.setAttribute(t,K,pe),y++}}return y}function Ri(n){return 3===n||4===n||6===n}function Di(n){return 64===n.charCodeAt(0)}function no(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let y=0;y<t.length;y++){const R=t[y];"number"==typeof R?e=R:0===e||fo(n,e,R,null,-1===e||2===e?t[++y]:null)}}return n}function fo(n,t,e,y,R){let K=0,pe=n.length;if(-1===t)pe=-1;else for(;K<n.length;){const Ne=n[K++];if("number"==typeof Ne){if(Ne===t){pe=-1;break}if(Ne>t){pe=K-1;break}}}for(;K<n.length;){const Ne=n[K];if("number"==typeof Ne)break;if(Ne===e){if(null===y)return void(null!==R&&(n[K+1]=R));if(y===n[K+1])return void(n[K+2]=R)}K++,null!==y&&K++,null!==R&&K++}-1!==pe&&(n.splice(pe,0,t),K=pe+1),n.splice(K++,0,e),null!==y&&n.splice(K++,0,y),null!==R&&n.splice(K++,0,R)}function Eo(n){return n!==ti}function wa(n){return 32767&n}function Fi(n,t){let e=function Ro(n){return n>>16}(n),y=t;for(;e>0;)y=y[bs],e--;return y}let Cl=!0;function Ca(n){const t=Cl;return Cl=n,t}const jo=255,oa=5;let Ws=0;const Dl={};function Zd(n,t){const e=ud(n,t);if(-1!==e)return e;const y=t[$r];y.firstCreatePass&&(n.injectorIndex=t.length,cd(y.data,n),cd(t,null),cd(y.blueprint,null));const R=dd(n,t),K=n.injectorIndex;if(Eo(R)){const pe=wa(R),Ne=Fi(R,t),Xe=Ne[$r].data;for(let ot=0;ot<8;ot++)t[K+ot]=Ne[pe+ot]|Xe[pe+ot]}return t[K+8]=R,K}function cd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function ud(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function dd(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,y=null,R=t;for(;null!==R;){if(y=Rg(R),null===y)return ti;if(e++,R=R[bs],-1!==y.injectorIndex)return y.injectorIndex|e<<16}return ti}function bu(n,t,e){!function tp(n,t,e){let y;"string"==typeof e?y=e.charCodeAt(0)||0:e.hasOwnProperty(sc)&&(y=e[sc]),null==y&&(y=e[sc]=Ws++);const R=y&jo;t.data[n+(R>>oa)]|=1<<R}(n,t,e)}function wu(n,t,e){if(e&Zr.Optional||void 0!==n)return n;vr()}function Yd(n,t,e,y){if(e&Zr.Optional&&void 0===y&&(y=null),!(e&(Zr.Self|Zr.Host))){const R=n[uc],K=Bi(void 0);try{return R?R.get(t,y,e&Zr.Optional):Ps(t,y,e&Zr.Optional)}finally{Bi(K)}}return wu(y,0,e)}function $d(n,t,e,y=Zr.Default,R){if(null!==n){if(1024&t[xi]){const pe=function O1(n,t,e,y,R){let K=n,pe=t;for(;null!==K&&null!==pe&&1024&pe[xi]&&!(256&pe[xi]);){const Ne=Qf(K,pe,e,y|Zr.Self,Dl);if(Ne!==Dl)return Ne;let Xe=K.parent;if(!Xe){const ot=pe[Qo];if(ot){const wt=ot.get(e,Dl,y);if(wt!==Dl)return wt}Xe=Rg(pe),pe=pe[bs]}K=Xe}return R}(n,t,e,y,Dl);if(pe!==Dl)return pe}const K=Qf(n,t,e,y,Dl);if(K!==Dl)return K}return Yd(t,e,y,R)}function Qf(n,t,e,y,R){const K=function Zl(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(sc)?n[sc]:void 0;return"number"==typeof t?t>=0?t&jo:ap:t}(e);if("function"==typeof K){if(!Mt(t,n,y))return y&Zr.Host?wu(R,0,y):Yd(t,e,y,R);try{const pe=K(y);if(null!=pe||y&Zr.Optional)return pe;vr()}finally{Vt()}}else if("number"==typeof K){let pe=null,Ne=ud(n,t),Xe=ti,ot=y&Zr.Host?t[Jo][Co]:null;for((-1===Ne||y&Zr.SkipSelf)&&(Xe=-1===Ne?dd(n,t):t[Ne+8],Xe!==ti&&Sm(y,!1)?(pe=t[$r],Ne=wa(Xe),t=Fi(Xe,t)):Ne=-1);-1!==Ne;){const wt=t[$r];if(op(K,Ne,wt.data)){const Nt=rp(Ne,t,e,pe,y,ot);if(Nt!==Dl)return Nt}Xe=t[Ne+8],Xe!==ti&&Sm(y,t[$r].data[Ne+8]===ot)&&op(K,Ne,t)?(pe=wt,Ne=wa(Xe),t=Fi(Xe,t)):Ne=-1}}return R}function rp(n,t,e,y,R,K){const pe=t[$r],Ne=pe.data[n+8],wt=ip(Ne,pe,e,null==y?Bs(Ne)&&Cl:y!=pe&&0!=(3&Ne.type),R&Zr.Host&&K===Ne);return null!==wt?fd(t,pe,wt,Ne):Dl}function ip(n,t,e,y,R){const K=n.providerIndexes,pe=t.data,Ne=1048575&K,Xe=n.directiveStart,wt=K>>20,hn=R?Ne+wt:n.directiveEnd;for(let An=y?Ne:Ne+wt;An<hn;An++){const Nn=pe[An];if(An<Xe&&e===Nn||An>=Xe&&Nn.type===e)return An}if(R){const An=pe[Xe];if(An&&so(An)&&An.type===e)return Xe}return null}function fd(n,t,e,y){let R=n[e];const K=t.data;if(function Oi(n){return n instanceof di}(R)){const pe=R;pe.resolving&&function cr(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new qt(-200,`Circular dependency in DI detected for ${n}${e}`)}(function In(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():xn(n)}(K[e]));const Ne=Ca(pe.canSeeViewProviders);pe.resolving=!0;const Xe=pe.injectImpl?Bi(pe.injectImpl):null;Mt(n,y,Zr.Default);try{R=n[e]=pe.factory(void 0,K,n,y),t.firstCreatePass&&e>=y.directiveStart&&function Or(n,t,e){const{ngOnChanges:y,ngOnInit:R,ngDoCheck:K}=t.type.prototype;if(y){const pe=Ms(t);(e.preOrderHooks??(e.preOrderHooks=[])).push(n,pe),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n,pe)}R&&(e.preOrderHooks??(e.preOrderHooks=[])).push(0-n,R),K&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n,K),(e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n,K))}(e,K[e],t)}finally{null!==Xe&&Bi(Xe),Ca(Ne),pe.resolving=!1,Vt()}}return R}function op(n,t,e){return!!(e[t+(n>>oa)]&1<<n)}function Sm(n,t){return!(n&Zr.Self||n&Zr.Host&&t)}class Xd{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,y){return $d(this._tNode,this._lView,t,Rs(y),e)}}function ap(){return new Xd(uo(),kr())}function es(n){return il(()=>{const t=n.prototype.constructor,e=t[_s]||Kd(t),y=Object.prototype;let R=Object.getPrototypeOf(n.prototype).constructor;for(;R&&R!==y;){const K=R[_s]||Kd(R);if(K&&K!==e)return K;R=Object.getPrototypeOf(R)}return K=>new K})}function Kd(n){return xr(n)?()=>{const t=Kd(er(n));return t&&t()}:Ts(n)}function Rg(n){const t=n[$r],e=t.type;return 2===e?t.declTNode:1===e?n[Co]:null}const Uu="__parameters__";function Ha(n,t,e){return il(()=>{const y=function Tu(n){return function(...e){if(n){const y=n(...e);for(const R in y)this[R]=y[R]}}}(t);function R(...K){if(this instanceof R)return y.apply(this,K),this;const pe=new R(...K);return Ne.annotation=pe,Ne;function Ne(Xe,ot,wt){const Nt=Xe.hasOwnProperty(Uu)?Xe[Uu]:Object.defineProperty(Xe,Uu,{value:[]})[Uu];for(;Nt.length<=wt;)Nt.push(null);return(Nt[wt]=Nt[wt]||[]).push(pe),Xe}}return e&&(R.prototype=Object.create(e.prototype)),R.prototype.ngMetadataName=n,R.annotationCls=R,R})}class Hr{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Vn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function md(n,t){n.forEach(e=>Array.isArray(e)?md(e,t):t(e))}function cp(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function up(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function tu(n,t){const e=[];for(let y=0;y<n;y++)e.push(t);return e}function vl(n,t,e){let y=nu(n,t);return y>=0?n[1|y]=e:(y=~y,function dp(n,t,e,y){let R=n.length;if(R==t)n.push(e,y);else if(1===R)n.push(y,n[0]),n[0]=e;else{for(R--,n.push(n[R-1],n[R]);R>t;)n[R]=n[R-2],R--;n[t]=e,n[t+1]=y}}(n,y,t,e)),y}function Qd(n,t){const e=nu(n,t);if(e>=0)return n[1|e]}function nu(n,t){return function Dm(n,t,e){let y=0,R=n.length>>e;for(;R!==y;){const K=y+(R-y>>1),pe=n[K<<e];if(t===pe)return K<<e;pe>t?R=K:y=K+1}return~(R<<e)}(n,t,1)}const zc=ls(Ha("Optional"),8),Zs=ls(Ha("SkipSelf"),4);var Il=(()=>((Il=Il||{})[Il.Important=1]="Important",Il[Il.DashCase=2]="DashCase",Il))();const gp=new Map;let Zg=0;const Hm="__ngContext__";function yl(n,t){da(t)?(n[Hm]=t[us],function cf(n){gp.set(n[us],n)}(t)):n[Hm]=t}let Ys;function df(n,t){return Ys(n,t)}function Au(n){const t=n[mo];return ma(t)?t[mo]:t}function Hu(n){return uh(n[dc])}function ts(n){return uh(n[ca])}function uh(n){for(;null!==n&&!ma(n);)n=n[ca];return n}function ku(n,t,e,y,R){if(null!=y){let K,pe=!1;ma(y)?K=y:da(y)&&(pe=!0,y=y[cs]);const Ne=co(y);0===n&&null!==e?null==R?Jm(t,e,Ne):Gu(t,e,Ne,R||null,!0):1===n&&null!==e?Gu(t,e,Ne,R||null,!0):2===n?function n0(n,t,e){const y=dh(n,t);y&&function tx(n,t,e,y){n.removeChild(t,e,y)}(n,y,t,e)}(t,Ne,pe):3===n&&t.destroyNode(Ne),null!=K&&function a0(n,t,e,y,R){const K=e[Sc];K!==co(e)&&ku(t,n,y,K,R);for(let Ne=ua;Ne<e.length;Ne++){const Xe=e[Ne];ru(Xe[$r],Xe,n,t,y,K)}}(t,n,K,e,R)}}function Zm(n,t,e){return n.createElement(t,e)}function gd(n,t){const e=n[ds],y=e.indexOf(t),R=t[mo];512&t[xi]&&(t[xi]&=-513,ra(R,-1)),e.splice(y,1)}function gc(n,t){if(n.length<=ua)return;const e=ua+t,y=n[e];if(y){const R=y[ll];null!==R&&R!==n&&gd(R,y),t>0&&(n[e-1][ca]=y[ca]);const K=up(n,ua+t);!function tv(n,t){ru(n,t,t[Mi],2,null,null),t[cs]=null,t[Co]=null}(y[$r],y);const pe=K[ka];null!==pe&&pe.detachView(K[$r]),y[mo]=null,y[ca]=null,y[xi]&=-65}return y}function vp(n,t){if(!(128&t[xi])){const e=t[Mi];e.destroyNode&&ru(n,t,e,3,null,null),function $m(n){let t=n[dc];if(!t)return yp(n[$r],n);for(;t;){let e=null;if(da(t))e=t[dc];else{const y=t[ua];y&&(e=y)}if(!e){for(;t&&!t[ca]&&t!==n;)da(t)&&yp(t[$r],t),t=t[mo];null===t&&(t=n),da(t)&&yp(t[$r],t),e=t&&t[ca]}t=e}}(t)}}function yp(n,t){if(!(128&t[xi])){t[xi]&=-65,t[xi]|=128,function ex(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let y=0;y<e.length;y+=2){const R=t[e[y]];if(!(R instanceof di)){const K=e[y+1];if(Array.isArray(K))for(let pe=0;pe<K.length;pe+=2){const Ne=R[K[pe]],Xe=K[pe+1];lo(4,Ne,Xe);try{Xe.call(Ne)}finally{lo(5,Ne,Xe)}}else{lo(4,R,K);try{K.call(R)}finally{lo(5,R,K)}}}}}(n,t),function iv(n,t){const e=n.cleanup,y=t[cc];let R=-1;if(null!==e)for(let K=0;K<e.length-1;K+=2)if("string"==typeof e[K]){const pe=e[K+3];pe>=0?y[R=pe]():y[R=-pe].unsubscribe(),K+=2}else{const pe=y[R=e[K+1]];e[K].call(pe)}if(null!==y){for(let K=R+1;K<y.length;K++)(0,y[K])();t[cc]=null}}(n,t),1===t[$r].type&&t[Mi].destroy();const e=t[ll];if(null!==e&&ma(t[mo])){e!==t[mo]&&gd(e,t);const y=t[ka];null!==y&&y.detachView(n)}!function X1(n){gp.delete(n[us])}(t)}}function Xm(n,t,e){return function Km(n,t,e){let y=t;for(;null!==y&&40&y.type;)y=(t=y).parent;if(null===y)return e[cs];{const{componentOffset:R}=y;if(R>-1){const{encapsulation:K}=n.data[y.directiveStart+R];if(K===xs.None||K===xs.Emulated)return null}return Ua(y,e)}}(n,t.parent,e)}function Gu(n,t,e,y,R){n.insertBefore(t,e,y,R)}function Jm(n,t,e){n.appendChild(t,e)}function ov(n,t,e,y,R){null!==y?Gu(n,t,e,y,R):Jm(n,t,e)}function dh(n,t){return n.parentNode(t)}function Qm(n,t,e){return e0(n,t,e)}let hf,xp,yd,e0=function fh(n,t,e){return 40&n.type?Ua(n,e):null};function vd(n,t,e,y){const R=Xm(n,y,t),K=t[Mi],Ne=Qm(y.parent||t[Co],y,t);if(null!=R)if(Array.isArray(e))for(let Xe=0;Xe<e.length;Xe++)ov(K,R,e[Xe],Ne,!1);else ov(K,R,e,Ne,!1);void 0!==hf&&hf(K,y,t,e,R)}function Su(n,t){if(null!==t){const e=t.type;if(3&e)return Ua(t,n);if(4&e)return t0(-1,n[t.index]);if(8&e){const y=t.child;if(null!==y)return Su(n,y);{const R=n[t.index];return ma(R)?t0(-1,R):co(R)}}if(32&e)return df(t,n)()||co(n[t.index]);{const y=av(n,t);return null!==y?Array.isArray(y)?y[0]:Su(Au(n[Jo]),y):Su(n,t.next)}}return null}function av(n,t){return null!==t?n[Jo][Co].projection[t.projection]:null}function t0(n,t){const e=ua+n+1;if(e<t.length){const y=t[e],R=y[$r].firstChild;if(null!==R)return Su(y,R)}return t[Sc]}function qu(n,t,e,y,R,K,pe){for(;null!=e;){const Ne=y[e.index],Xe=e.type;if(pe&&0===t&&(Ne&&yl(co(Ne),y),e.flags|=2),32!=(32&e.flags))if(8&Xe)qu(n,t,e.child,y,R,K,!1),ku(t,n,R,Ne,K);else if(32&Xe){const ot=df(e,y);let wt;for(;wt=ot();)ku(t,n,R,wt,K);ku(t,n,R,Ne,K)}else 16&Xe?o0(n,t,y,e,R,K):ku(t,n,R,Ne,K);e=pe?e.projectionNext:e.next}}function ru(n,t,e,y,R,K){qu(e,y,n.firstChild,t,R,K,!1)}function o0(n,t,e,y,R,K){const pe=e[Jo],Xe=pe[Co].projection[y.projection];if(Array.isArray(Xe))for(let ot=0;ot<Xe.length;ot++)ku(t,n,R,Xe[ot],K);else qu(n,t,Xe,pe[mo],R,K,!0)}function s0(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function l0(n,t,e){const{mergedAttrs:y,classes:R,styles:K}=e;null!==y&&Zo(n,t,y),null!==R&&s0(n,t,R),null!==K&&function Wu(n,t,e){n.setAttribute(t,"style",e)}(n,t,K)}function pf(n){return function c0(){if(void 0===xp&&(xp=null,Vi.trustedTypes))try{xp=Vi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xp}()?.createHTML(n)||n}class xd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Kt})`}}class rx extends xd{getTypeName(){return"HTML"}}class ix extends xd{getTypeName(){return"Style"}}class ox extends xd{getTypeName(){return"Script"}}class dv extends xd{getTypeName(){return"URL"}}class fv extends xd{getTypeName(){return"ResourceURL"}}function Xl(n){return n instanceof xd?n.changingThisBreaksApplicationSecurity:n}function jc(n,t){const e=function bp(n){return n instanceof xd&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Kt})`)}return e===t}class Vo{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(pf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class pv{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=pf(t),e}}const gv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mh(n){return(n=String(n)).match(gv)?n:"unsafe:"+n}function iu(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function bd(...n){const t={};for(const e of n)for(const y in e)e.hasOwnProperty(y)&&(t[y]=!0);return t}const Yu=iu("area,br,col,hr,img,wbr"),$u=iu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),h0=iu("rp,rt"),yf=bd(Yu,bd($u,iu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bd(h0,iu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bd(h0,$u)),xf=iu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ou=bd(xf,iu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),iu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yv=iu("script,style,template");class xv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,y=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?y=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,y&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let R=this.checkClobberedElement(e,e.nextSibling);if(R){e=R;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!yf.hasOwnProperty(e))return this.sanitizedSomething=!0,!yv.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const y=t.attributes;for(let R=0;R<y.length;R++){const K=y.item(R),pe=K.name,Ne=pe.toLowerCase();if(!ou.hasOwnProperty(Ne)){this.sanitizedSomething=!0;continue}let Xe=K.value;xf[Ne]&&(Xe=mh(Xe)),this.buf.push(" ",pe,'="',Eu(Xe),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();yf.hasOwnProperty(e)&&!Yu.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Eu(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ax=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qa=/([^\#-~ |!])/g;function Eu(n){return n.replace(/&/g,"&amp;").replace(ax,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(qa,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vh;function C(n,t){let e=null;try{vh=vh||function f0(n){const t=new pv(n);return function mv(){try{return!!(new window.DOMParser).parseFromString(pf(""),"text/html")}catch{return!1}}()?new Vo(t):t}(n);let y=t?String(t):"";e=vh.getInertBodyElement(y);let R=5,K=y;do{if(0===R)throw new Error("Failed to sanitize html because the input is unstable");R--,y=K,K=e.innerHTML,e=vh.getInertBodyElement(y)}while(y!==K);return pf((new xv).sanitizeChildren(z(e)||e))}finally{if(e){const y=z(e)||e;for(;y.firstChild;)y.removeChild(y.firstChild)}}}function z(n){return"content"in n&&function J(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ge=(()=>((ge=ge||{})[ge.NONE=0]="NONE",ge[ge.HTML=1]="HTML",ge[ge.STYLE=2]="STYLE",ge[ge.SCRIPT=3]="SCRIPT",ge[ge.URL=4]="URL",ge[ge.RESOURCE_URL=5]="RESOURCE_URL",ge))();const Bn=new Hr("ENVIRONMENT_INITIALIZER"),jn=new Hr("INJECTOR",-1),Yn=new Hr("INJECTOR_DEF_TYPES");class $n{get(t,e=rc){if(e===rc){const y=new Error(`NullInjectorError: No provider for ${Cn(t)}!`);throw y.name="NullInjectorError",y}return e}}function ur(...n){return{\u0275providers:yr(0,n),\u0275fromNgModule:!0}}function yr(n,...t){const e=[],y=new Set;let R;return md(t,K=>{const pe=K;Er(pe,e,[],y)&&(R||(R=[]),R.push(pe))}),void 0!==R&&Fr(R,e),e}function Fr(n,t){for(let e=0;e<n.length;e++){const{providers:R}=n[e];Kr(R,K=>{t.push(K)})}}function Er(n,t,e,y){if(!(n=er(n)))return!1;let R=null,K=fr(n);const pe=!K&&Si(n);if(K||pe){if(pe&&!pe.standalone)return!1;R=n}else{const Xe=n.ngModule;if(K=fr(Xe),!K)return!1;R=Xe}const Ne=y.has(R);if(pe){if(Ne)return!1;if(y.add(R),pe.dependencies){const Xe="function"==typeof pe.dependencies?pe.dependencies():pe.dependencies;for(const ot of Xe)Er(ot,t,e,y)}}else{if(!K)return!1;{if(null!=K.imports&&!Ne){let ot;y.add(R);try{md(K.imports,wt=>{Er(wt,t,e,y)&&(ot||(ot=[]),ot.push(wt))})}finally{}void 0!==ot&&Fr(ot,t)}if(!Ne){const ot=Ts(R)||(()=>new R);t.push({provide:R,useFactory:ot,deps:Gi},{provide:Yn,useValue:R,multi:!0},{provide:Bn,useValue:()=>Dr(R),multi:!0})}const Xe=K.providers;null==Xe||Ne||Kr(Xe,wt=>{t.push(wt)})}}return R!==n&&void 0!==n.providers}function Kr(n,t){for(let e of n)dr(e)&&(e=e.\u0275providers),Array.isArray(e)?Kr(e,t):t(e)}const yi=Rn({provide:String,useValue:Rn});function ei(n){return null!==n&&"object"==typeof n&&yi in n}function Yr(n){return"function"==typeof n}const bi=new Hr("Set Injector scope."),vo={},pi={};let ho;function wo(){return void 0===ho&&(ho=new $n),ho}class Yi{}class Lo extends Yi{get destroyed(){return this._destroyed}constructor(t,e,y,R){super(),this.parent=e,this.source=y,this.scopes=R,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ma(t,pe=>this.processProvider(pe)),this.records.set(jn,Ta(void 0,this)),R.has("environment")&&this.records.set(Yi,Ta(void 0,this));const K=this.records.get(bi);null!=K&&"string"==typeof K.value&&this.scopes.add(K.value),this.injectorDefTypes=new Set(this.get(Yn.multi,Gi,Zr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Li(this),y=Bi(void 0);try{return t()}finally{Li(e),Bi(y)}}get(t,e=rc,y=Zr.Default){this.assertNotDestroyed(),y=Rs(y);const R=Li(this),K=Bi(void 0);try{if(!(y&Zr.SkipSelf)){let Ne=this.records.get(t);if(void 0===Ne){const Xe=function rs(n){return"function"==typeof n||"object"==typeof n&&n instanceof Hr}(t)&&_r(t);Ne=Xe&&this.injectableDefInScope(Xe)?Ta(To(t),vo):null,this.records.set(t,Ne)}if(null!=Ne)return this.hydrate(t,Ne)}return(y&Zr.Self?wo():this.parent).get(t,e=y&Zr.Optional&&e===rc?null:e)}catch(pe){if("NullInjectorError"===pe.name){if((pe[Rc]=pe[Rc]||[]).unshift(Cn(t)),R)throw pe;return function Vu(n,t,e,y){const R=n[Rc];throw t[Ho]&&R.unshift(t[Ho]),n.message=function Fl(n,t,e,y=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==tl?n.slice(2):n;let R=Cn(t);if(Array.isArray(t))R=t.map(Cn).join(" -> ");else if("object"==typeof t){let K=[];for(let pe in t)if(t.hasOwnProperty(pe)){let Ne=t[pe];K.push(pe+":"+("string"==typeof Ne?JSON.stringify(Ne):Cn(Ne)))}R=`{${K.join(", ")}}`}return`${e}${y?"("+y+")":""}[${R}]: ${n.replace(oc,"\n  ")}`}("\n"+n.message,R,e,y),n[ic]=R,n[Rc]=null,n}(pe,t,"R3InjectorError",this.source)}throw pe}finally{Bi(K),Li(R)}}resolveInjectorInitializers(){const t=Li(this),e=Bi(void 0);try{const y=this.get(Bn.multi,Gi,Zr.Self);for(const R of y)R()}finally{Li(t),Bi(e)}}toString(){const t=[],e=this.records;for(const y of e.keys())t.push(Cn(y));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qt(205,!1)}processProvider(t){let e=Yr(t=er(t))?t:er(t&&t.provide);const y=function Yo(n){return ei(n)?Ta(void 0,n.useValue):Ta(Ba(n),vo)}(t);if(Yr(t)||!0!==t.multi)this.records.get(e);else{let R=this.records.get(e);R||(R=Ta(void 0,vo,!0),R.factory=()=>Fs(R.multi),this.records.set(e,R)),e=t,R.multi.push(t)}this.records.set(e,y)}hydrate(t,e){return e.value===vo&&(e.value=pi,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Xs(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=er(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function To(n){const t=_r(n),e=null!==t?t.factory:Ts(n);if(null!==e)return e;if(n instanceof Hr)throw new qt(204,!1);if(n instanceof Function)return function Ia(n){const t=n.length;if(t>0)throw tu(t,"?"),new qt(204,!1);const e=function Jr(n){return n&&(n[Rr]||n[ji])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new qt(204,!1)}function Ba(n,t,e){let y;if(Yr(n)){const R=er(n);return Ts(R)||To(R)}if(ei(n))y=()=>er(n.useValue);else if(function ai(n){return!(!n||!n.useFactory)}(n))y=()=>n.useFactory(...Fs(n.deps||[]));else if(function mi(n){return!(!n||!n.useExisting)}(n))y=()=>Dr(er(n.useExisting));else{const R=er(n&&(n.useClass||n.provide));if(!function ns(n){return!!n.deps}(n))return Ts(R)||To(R);y=()=>new R(...Fs(n.deps))}return y}function Ta(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Ma(n,t){for(const e of n)Array.isArray(e)?Ma(e,t):e&&dr(e)?Ma(e.\u0275providers,t):t(e)}class is{}class ja{}class aa{resolveComponentFactory(t){throw function Va(n){const t=Error(`No component factory found for ${Cn(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Xi=(()=>{class n{}return n.NULL=new aa,n})();function Xo(){return Mo(uo(),kr())}function Mo(n,t){return new ci(Ua(n,t))}let ci=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Xo,n})();function sa(n){return n instanceof ci?n.nativeElement:n}class Wa{}let La=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Ss(){const n=kr(),e=zo(uo().index,n);return(da(e)?e:n)[Mi]}(),n})(),Vc=(()=>{class n{}return n.\u0275prov=Vn({token:n,providedIn:"root",factory:()=>null}),n})();class Ll{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Za=new Ll("15.2.9"),vc={},Kl="ngOriginalError";function Cu(n){return n[Kl]}class Oc{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Cu(t);for(;e&&Cu(e);)e=Cu(e);return e||null}}function yc(n){return n instanceof Function?n():n}function Td(n,t,e){let y=n.length;for(;;){const R=n.indexOf(t,e);if(-1===R)return R;if(0===R||n.charCodeAt(R-1)<=32){const K=t.length;if(R+K===y||n.charCodeAt(R+K)<=32)return R}e=R+1}}const wh="ng-template";function kp(n,t,e){let y=0,R=!0;for(;y<n.length;){let K=n[y++];if("string"==typeof K&&R){const pe=n[y++];if(e&&"class"===K&&-1!==Td(pe.toLowerCase(),t,0))return!0}else{if(1===K){for(;y<n.length&&"string"==typeof(K=n[y++]);)if(K.toLowerCase()===t)return!0;return!1}"number"==typeof K&&(R=!1)}}return!1}function wf(n){return 4===n.type&&n.value!==wh}function Th(n,t,e){return t===(4!==n.type||e?n.value:wh)}function Md(n,t,e){let y=4;const R=n.attrs||[],K=function _v(n){for(let t=0;t<n.length;t++)if(Ri(n[t]))return t;return n.length}(R);let pe=!1;for(let Ne=0;Ne<t.length;Ne++){const Xe=t[Ne];if("number"!=typeof Xe){if(!pe)if(4&y){if(y=2|1&y,""!==Xe&&!Th(n,Xe,e)||""===Xe&&1===t.length){if(Ol(y))return!1;pe=!0}}else{const ot=8&y?Xe:t[++Ne];if(8&y&&null!==n.attrs){if(!kp(n.attrs,ot,e)){if(Ol(y))return!1;pe=!0}continue}const Nt=Ad(8&y?"class":Xe,R,wf(n),e);if(-1===Nt){if(Ol(y))return!1;pe=!0;continue}if(""!==ot){let hn;hn=Nt>K?"":R[Nt+1].toLowerCase();const An=8&y?hn:null;if(An&&-1!==Td(An,ot,0)||2&y&&ot!==hn){if(Ol(y))return!1;pe=!0}}}}else{if(!pe&&!Ol(y)&&!Ol(Xe))return!1;if(pe&&Ol(Xe))continue;pe=!1,y=Xe|1&y}}return Ol(y)||pe}function Ol(n){return 0==(1&n)}function Ad(n,t,e,y){if(null===t)return-1;let R=0;if(y||!e){let K=!1;for(;R<t.length;){const pe=t[R];if(pe===n)return R;if(3===pe||6===pe)K=!0;else{if(1===pe||2===pe){let Ne=t[++R];for(;"string"==typeof Ne;)Ne=t[++R];continue}if(4===pe)break;if(0===pe){R+=4;continue}}R+=K?1:2}return-1}return function v0(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const y=n[e];if("number"==typeof y)return-1;if(y===t)return e;e++}return-1}(t,n)}function Tf(n,t,e=!1){for(let y=0;y<t.length;y++)if(Md(n,t[y],e))return!0;return!1}function bv(n,t){e:for(let e=0;e<t.length;e++){const y=t[e];if(n.length===y.length){for(let R=0;R<n.length;R++)if(n[R]!==y[R])continue e;return!0}}return!1}function Sp(n,t){return n?":not("+t.trim()+")":t}function y0(n){let t=n[0],e=1,y=2,R="",K=!1;for(;e<n.length;){let pe=n[e];if("string"==typeof pe)if(2&y){const Ne=n[++e];R+="["+pe+(Ne.length>0?'="'+Ne+'"':"")+"]"}else 8&y?R+="."+pe:4&y&&(R+=" "+pe);else""!==R&&!Ol(pe)&&(t+=Sp(K,R),R=""),y=pe,K=K||!Ol(y);e++}return""!==R&&(t+=Sp(K,R)),t}const Ii={};function fi(n){Tv(Nr(),kr(),Sn()+n,!1)}function Tv(n,t,e,y){if(!y)if(3==(3&t[xi])){const K=n.preOrderCheckHooks;null!==K&&li(t,K,e)}else{const K=n.preOrderHooks;null!==K&&nr(t,K,0,e)}Dn(e)}function Ah(n,t=null,e=null,y){const R=Af(n,t,e,y);return R.resolveInjectorInitializers(),R}function Af(n,t=null,e=null,y,R=new Set){const K=[e||Gi,ur(n)];return y=y||("object"==typeof n?void 0:Cn(n)),new Lo(K,t||wo(),y||null,R)}let Jl=(()=>{class n{static create(e,y){if(Array.isArray(e))return Ah({name:""},y,e,"");{const R=e.name??"";return Ah({name:R},e.parent,e.providers,R)}}}return n.THROW_IF_NOT_FOUND=rc,n.NULL=new $n,n.\u0275prov=Vn({token:n,providedIn:"any",factory:()=>Dr(jn)}),n.__NG_ELEMENT_ID__=-1,n})();function or(n,t=Zr.Default){const e=kr();return null===e?Dr(n,t):$d(uo(),e,er(n),t)}function T0(n,t){const e=n.contentQueries;if(null!==e)for(let y=0;y<e.length;y+=2){const K=e[y+1];if(-1!==K){const pe=n.data[K];lt(e[y]),pe.contentQueries(2,t[K],K)}}}function Ju(n,t,e,y,R,K,pe,Ne,Xe,ot,wt){const Nt=t.blueprint.slice();return Nt[cs]=R,Nt[xi]=76|y,(null!==wt||n&&1024&n[xi])&&(Nt[xi]|=1024),Wo(Nt),Nt[mo]=Nt[bs]=n,Nt[qo]=e,Nt[zs]=pe||n&&n[zs],Nt[Mi]=Ne||n&&n[Mi],Nt[Sl]=Xe||n&&n[Sl]||null,Nt[uc]=ot||n&&n[uc]||null,Nt[Co]=K,Nt[us]=function Mu(){return Zg++}(),Nt[Qo]=wt,Nt[Jo]=2==t.type?n[Jo]:Nt,Nt}function Cd(n,t,e,y,R){let K=n.data[t];if(null===K)K=function Cf(n,t,e,y,R){const K=Wl(),pe=Gs(),Xe=n.data[t]=function Rv(n,t,e,y,R,K){return{type:e,index:y,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:R,attrs:K,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,pe?K:K&&K.parent,e,t,y,R);return null===n.firstChild&&(n.firstChild=Xe),null!==K&&(pe?null==K.child&&null!==Xe.parent&&(K.child=Xe):null===K.next&&(K.next=Xe,Xe.prev=K)),Xe}(n,t,e,y,R),function be(){return Sr.lFrame.inI18n}()&&(K.flags|=32);else if(64&K.type){K.type=e,K.value=y,K.attrs=R;const pe=function ml(){const n=Sr.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();K.injectorIndex=null===pe?-1:pe.injectorIndex}return Fa(K,!0),K}function Dh(n,t,e,y){if(0===e)return-1;const R=t.length;for(let K=0;K<e;K++)t.push(y),n.blueprint.push(y),n.data.push(null);return R}function Fp(n,t,e){Bt(t);try{const y=n.viewQuery;null!==y&&vx(1,y,e);const R=n.template;null!==R&&Ov(n,t,R,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&T0(n,t),n.staticViewQueries&&vx(2,n.viewQuery,e);const K=n.components;null!==K&&function Lv(n,t){for(let e=0;e<t.length;e++)$S(n,t[e])}(t,K)}catch(y){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),y}finally{t[xi]&=-5,pn()}}function Np(n,t,e,y){const R=t[xi];if(128!=(128&R)){Bt(t);try{Wo(t),function U(n){return Sr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Ov(n,t,e,2,y);const pe=3==(3&R);if(pe){const ot=n.preOrderCheckHooks;null!==ot&&li(t,ot,null)}else{const ot=n.preOrderHooks;null!==ot&&nr(t,ot,0,null),wr(t,0)}if(function ZS(n){for(let t=Hu(n);null!==t;t=ts(t)){if(!t[ul])continue;const e=t[ds];for(let y=0;y<e.length;y++){const R=e[y];512&R[xi]||ra(R[mo],1),R[xi]|=512}}}(t),function WS(n){for(let t=Hu(n);null!==t;t=ts(t))for(let e=ua;e<t.length;e++){const y=t[e],R=y[$r];pc(y)&&Np(R,y,R.template,y[qo])}}(t),null!==n.contentQueries&&T0(n,t),pe){const ot=n.contentCheckHooks;null!==ot&&li(t,ot)}else{const ot=n.contentHooks;null!==ot&&nr(t,ot,1),wr(t,1)}!function Iv(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let y=0;y<e.length;y++){const R=e[y];if(R<0)Dn(~R);else{const K=R,pe=e[++y],Ne=e[++y];Fe(pe,K),Ne(2,t[K])}}}finally{Dn(-1)}}(n,t);const Ne=n.components;null!==Ne&&function M0(n,t){for(let e=0;e<t.length;e++)YS(n,t[e])}(t,Ne);const Xe=n.viewQuery;if(null!==Xe&&vx(2,Xe,y),pe){const ot=n.viewCheckHooks;null!==ot&&li(t,ot)}else{const ot=n.viewHooks;null!==ot&&nr(t,ot,2),wr(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[xi]&=-41,512&t[xi]&&(t[xi]&=-513,ra(t[mo],-1))}finally{pn()}}}function Ov(n,t,e,y,R){const K=Sn(),pe=2&y;try{Dn(-1),pe&&t.length>si&&Tv(n,t,si,!1),lo(pe?2:0,R),e(y,R)}finally{Dn(K),lo(pe?3:1,R)}}function A0(n,t,e){if(So(t)){const R=t.directiveEnd;for(let K=t.directiveStart;K<R;K++){const pe=n.data[K];pe.contentQueries&&pe.contentQueries(1,e[K],K)}}}function k0(n,t,e){mc()&&(function FS(n,t,e,y){const R=e.directiveStart,K=e.directiveEnd;Bs(e)&&function HS(n,t,e){const y=Ua(t,n),R=Pv(e),K=n[zs],pe=Fv(n,Ju(n,R,null,e.onPush?32:16,y,t,K,K.createRenderer(y,e),null,null,null));n[t.index]=pe}(t,e,n.data[R+e.componentOffset]),n.firstCreatePass||Zd(e,t),yl(y,t);const pe=e.initialInputs;for(let Ne=R;Ne<K;Ne++){const Xe=n.data[Ne],ot=fd(t,n,Ne,e);yl(ot,t),null!==pe&&GS(0,Ne-R,ot,Xe,0,pe),so(Xe)&&(zo(e.index,t)[qo]=fd(t,n,Ne,e))}}(n,t,e,Ua(e,t)),64==(64&e.flags)&&G2(n,t,e))}function S0(n,t,e=Ua){const y=t.localNames;if(null!==y){let R=t.index+1;for(let K=0;K<y.length;K+=2){const pe=y[K+1],Ne=-1===pe?e(t,n):n[pe];n[R++]=Ne}}}function Pv(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=E0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function E0(n,t,e,y,R,K,pe,Ne,Xe,ot){const wt=si+y,Nt=wt+R,hn=function fx(n,t){const e=[];for(let y=0;y<t;y++)e.push(y<n?null:Ii);return e}(wt,Nt),An="function"==typeof ot?ot():ot;return hn[$r]={type:n,blueprint:hn,template:e,queries:null,viewQuery:Ne,declTNode:t,data:hn.slice().fill(null,wt),bindingStartIndex:wt,expandoStartIndex:Nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof K?K():K,pipeRegistry:"function"==typeof pe?pe():pe,firstChild:null,schemas:Xe,consts:An,incompleteFirstPass:!1}}function Ih(n,t,e,y){const R=W2(t);null===e?R.push(y):(R.push(e),n.firstCreatePass&&Z2(n).push(y,R.length-1))}function Df(n,t,e,y){for(let R in n)if(n.hasOwnProperty(R)){e=null===e?{}:e;const K=n[R];null===y?C0(e,t,R,K):y.hasOwnProperty(R)&&C0(e,t,y[R],K)}return e}function C0(n,t,e,y){n.hasOwnProperty(e)?n[e].push(t,y):n[e]=[t,y]}function hx(n,t,e,y){if(mc()){const R=null===y?null:{"":-1},K=function zS(n,t){const e=n.directiveRegistry;let y=null,R=null;if(e)for(let K=0;K<e.length;K++){const pe=e[K];if(Tf(t,pe.selectors,!1))if(y||(y=[]),so(pe))if(null!==pe.findHostDirectiveDefs){const Ne=[];R=R||new Map,pe.findHostDirectiveDefs(pe,Ne,R),y.unshift(...Ne,pe),px(n,t,Ne.length)}else y.unshift(pe),px(n,t,0);else R=R||new Map,pe.findHostDirectiveDefs?.(pe,y,R),y.push(pe)}return null===y?null:[y,R]}(n,e);let pe,Ne;null===K?pe=Ne=null:[pe,Ne]=K,null!==pe&&H2(n,t,e,pe,R,Ne),R&&function BS(n,t,e){if(t){const y=n.localNames=[];for(let R=0;R<t.length;R+=2){const K=e[t[R+1]];if(null==K)throw new qt(-301,!1);y.push(t[R],K)}}}(e,y,R)}e.mergedAttrs=no(e.mergedAttrs,e.attrs)}function H2(n,t,e,y,R,K){for(let ot=0;ot<y.length;ot++)bu(Zd(e,t),n,y[ot].type);!function VS(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,y.length);for(let ot=0;ot<y.length;ot++){const wt=y[ot];wt.providersResolver&&wt.providersResolver(wt)}let pe=!1,Ne=!1,Xe=Dh(n,t,y.length,null);for(let ot=0;ot<y.length;ot++){const wt=y[ot];e.mergedAttrs=no(e.mergedAttrs,wt.hostAttrs),US(n,e,t,Xe,wt),jS(Xe,wt,R),null!==wt.contentQueries&&(e.flags|=4),(null!==wt.hostBindings||null!==wt.hostAttrs||0!==wt.hostVars)&&(e.flags|=64);const Nt=wt.type.prototype;!pe&&(Nt.ngOnChanges||Nt.ngOnInit||Nt.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e.index),pe=!0),!Ne&&(Nt.ngOnChanges||Nt.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e.index),Ne=!0),Xe++}!function DS(n,t,e){const R=t.directiveEnd,K=n.data,pe=t.attrs,Ne=[];let Xe=null,ot=null;for(let wt=t.directiveStart;wt<R;wt++){const Nt=K[wt],hn=e?e.get(Nt):null,Nn=hn?hn.outputs:null;Xe=Df(Nt.inputs,wt,Xe,hn?hn.inputs:null),ot=Df(Nt.outputs,wt,ot,Nn);const Xn=null===Xe||null===pe||wf(t)?null:qS(Xe,wt,pe);Ne.push(Xn)}null!==Xe&&(Xe.hasOwnProperty("class")&&(t.flags|=8),Xe.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=Ne,t.inputs=Xe,t.outputs=ot}(n,e,K)}function G2(n,t,e){const y=e.directiveStart,R=e.directiveEnd,K=e.index,pe=function We(){return Sr.lFrame.currentDirectiveIndex}();try{Dn(K);for(let Ne=y;Ne<R;Ne++){const Xe=n.data[Ne],ot=t[Ne];$e(Ne),(null!==Xe.hostBindings||0!==Xe.hostVars||null!==Xe.hostAttrs)&&NS(Xe,ot)}}finally{Dn(-1),$e(pe)}}function NS(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function px(n,t,e){t.componentOffset=e,(n.components??(n.components=[])).push(t.index)}function jS(n,t,e){if(e){if(t.exportAs)for(let y=0;y<t.exportAs.length;y++)e[t.exportAs[y]]=n;so(t)&&(e[""]=n)}}function US(n,t,e,y,R){n.data[y]=R;const K=R.factory||(R.factory=Ts(R.type)),pe=new di(K,so(R),or);n.blueprint[y]=pe,e[y]=pe,function PS(n,t,e,y,R){const K=R.hostBindings;if(K){let pe=n.hostBindingOpCodes;null===pe&&(pe=n.hostBindingOpCodes=[]);const Ne=~t.index;(function RS(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(pe)!=Ne&&pe.push(Ne),pe.push(e,y,K)}}(n,t,y,Dh(n,e,R.hostVars,Ii),R)}function Qu(n,t,e,y,R,K){const pe=Ua(n,t);!function mx(n,t,e,y,R,K,pe){if(null==K)n.removeAttribute(t,R,e);else{const Ne=null==pe?xn(K):pe(K,y||"",R);n.setAttribute(t,R,Ne,e)}}(t[Mi],pe,K,n.value,e,y,R)}function GS(n,t,e,y,R,K){const pe=K[t];if(null!==pe){const Ne=y.setInput;for(let Xe=0;Xe<pe.length;){const ot=pe[Xe++],wt=pe[Xe++],Nt=pe[Xe++];null!==Ne?y.setInput(e,Nt,ot,wt):e[wt]=Nt}}}function qS(n,t,e){let y=null,R=0;for(;R<e.length;){const K=e[R];if(0!==K)if(5!==K){if("number"==typeof K)break;if(n.hasOwnProperty(K)){null===y&&(y=[]);const pe=n[K];for(let Ne=0;Ne<pe.length;Ne+=2)if(pe[Ne]===t){y.push(K,pe[Ne+1],e[R+1]);break}}R+=2}else R+=2;else R+=4}return y}function q2(n,t,e,y){return[n,!0,!1,t,null,0,y,e,null,null]}function YS(n,t){const e=zo(t,n);if(pc(e)){const y=e[$r];48&e[xi]?Np(y,e,y.template,e[qo]):e[sl]>0&&gx(e)}}function gx(n){for(let y=Hu(n);null!==y;y=ts(y))for(let R=ua;R<y.length;R++){const K=y[R];if(pc(K))if(512&K[xi]){const pe=K[$r];Np(pe,K,pe.template,K[qo])}else K[sl]>0&&gx(K)}const e=n[$r].components;if(null!==e)for(let y=0;y<e.length;y++){const R=zo(e[y],n);pc(R)&&R[sl]>0&&gx(R)}}function $S(n,t){const e=zo(t,n),y=e[$r];(function XS(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(y,e),Fp(y,e,e[qo])}function Fv(n,t){return n[dc]?n[fc][ca]=t:n[dc]=t,n[fc]=t,t}function Nv(n){for(;n;){n[xi]|=32;const t=Au(n);if(Sa(n)&&!t)return n;n=t}return null}function zv(n,t,e,y=!0){const R=t[zs];R.begin&&R.begin();try{Np(n,t,n.template,e)}catch(pe){throw y&&$2(t,pe),pe}finally{R.end&&R.end()}}function vx(n,t,e){lt(0),t(n,e)}function W2(n){return n[cc]||(n[cc]=[])}function Z2(n){return n.cleanup||(n.cleanup=[])}function $2(n,t){const e=n[uc],y=e?e.get(Oc,null):null;y&&y.handleError(t)}function yx(n,t,e,y,R){for(let K=0;K<e.length;){const pe=e[K++],Ne=e[K++],Xe=t[pe],ot=n.data[pe];null!==ot.setInput?ot.setInput(Xe,R,y,Ne):Xe[Ne]=R}}function Bv(n,t,e){let y=e?n.styles:null,R=e?n.classes:null,K=0;if(null!==t)for(let pe=0;pe<t.length;pe++){const Ne=t[pe];"number"==typeof Ne?K=Ne:1==K?R=Zn(R,Ne):2==K&&(y=Zn(y,Ne+": "+t[++pe]+";"))}e?n.styles=y:n.stylesWithoutHost=y,e?n.classes=R:n.classesWithoutHost=R}function jv(n,t,e,y,R=!1){for(;null!==e;){const K=t[e.index];if(null!==K&&y.push(co(K)),ma(K))for(let Ne=ua;Ne<K.length;Ne++){const Xe=K[Ne],ot=Xe[$r].firstChild;null!==ot&&jv(Xe[$r],Xe,ot,y)}const pe=e.type;if(8&pe)jv(n,t,e.child,y);else if(32&pe){const Ne=df(e,t);let Xe;for(;Xe=Ne();)y.push(Xe)}else if(16&pe){const Ne=av(t,e);if(Array.isArray(Ne))y.push(...Ne);else{const Xe=Au(t[Jo]);jv(Xe[$r],Xe,Ne,y,!0)}}e=R?e.projectionNext:e.next}return y}class D0{get rootNodes(){const t=this._lView,e=t[$r];return jv(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qo]}set context(t){this._lView[qo]=t}get destroyed(){return 128==(128&this._lView[xi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[mo];if(ma(t)){const e=t[zl],y=e?e.indexOf(this):-1;y>-1&&(gc(t,y),up(e,y))}this._attachedToViewContainer=!1}vp(this._lView[$r],this._lView)}onDestroy(t){Ih(this._lView[$r],this._lView,null,t)}markForCheck(){Nv(this._cdRefInjectingView||this._lView)}detach(){this._lView[xi]&=-65}reattach(){this._lView[xi]|=64}detectChanges(){zv(this._lView[$r],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ym(n,t){ru(n,t,t[Mi],2,null,null)}(this._lView[$r],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new qt(902,!1);this._appRef=t}}class KS extends D0{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;zv(t[$r],t,t[qo],!1)}checkNoChanges(){}get context(){return null}}class X2 extends Xi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Si(t);return new I0(e,this.ngModule)}}function K2(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class QS{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,y){y=Rs(y);const R=this.injector.get(t,vc,y);return R!==vc||e===vc?R:this.parentInjector.get(t,e,y)}}class I0 extends ja{get inputs(){return K2(this.componentDef.inputs)}get outputs(){return K2(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function wv(n){return n.map(y0).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,y,R){let K=(R=R||this.ngModule)instanceof Yi?R:R?.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const pe=K?new QS(t,K):t,Ne=pe.get(Wa,null);if(null===Ne)throw new qt(407,!1);const Xe=pe.get(Vc,null),ot=Ne.createRenderer(null,this.componentDef),wt=this.componentDef.selectors[0][0]||"div",Nt=y?function su(n,t,e){return n.selectRootElement(t,e===xs.ShadowDom)}(ot,y,this.componentDef.encapsulation):Zm(ot,wt,function JS(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(wt)),hn=this.componentDef.onPush?288:272,An=E0(0,null,null,1,0,null,null,null,null,null),Nn=Ju(null,An,null,hn,null,null,Ne,ot,Xe,pe,null);let Xn,hr;Bt(Nn);try{const Ar=this.componentDef;let zr,br=null;Ar.findHostDirectiveDefs?(zr=[],br=new Map,Ar.findHostDirectiveDefs(Ar,zr,br),zr.push(Ar)):zr=[Ar];const ii=function t6(n,t){const e=n[$r],y=si;return n[y]=t,Cd(e,y,2,"#host",null)}(Nn,Nt),po=function n6(n,t,e,y,R,K,pe,Ne){const Xe=R[$r];!function r6(n,t,e,y){for(const R of n)t.mergedAttrs=no(t.mergedAttrs,R.hostAttrs);null!==t.mergedAttrs&&(Bv(t,t.mergedAttrs,!0),null!==e&&l0(y,e,t))}(y,n,t,pe);const ot=K.createRenderer(t,e),wt=Ju(R,Pv(e),null,e.onPush?32:16,R[n.index],n,K,ot,Ne||null,null,null);return Xe.firstCreatePass&&px(Xe,n,y.length-1),Fv(R,wt),R[n.index]=wt}(ii,Nt,Ar,zr,Nn,Ne,ot);hr=Wi(An,si),Nt&&function o6(n,t,e,y){if(y)Zo(n,e,["ng-version",Za.full]);else{const{attrs:R,classes:K}=function x0(n){const t=[],e=[];let y=1,R=2;for(;y<n.length;){let K=n[y];if("string"==typeof K)2===R?""!==K&&t.push(K,n[++y]):8===R&&e.push(K);else{if(!Ol(R))break;R=K}y++}return{attrs:t,classes:e}}(t.selectors[0]);R&&Zo(n,e,R),K&&K.length>0&&s0(n,e,K.join(" "))}}(ot,Ar,Nt,y),void 0!==e&&function a6(n,t,e){const y=n.projection=[];for(let R=0;R<t.length;R++){const K=e[R];y.push(null!=K?Array.from(K):null)}}(hr,this.ngContentSelectors,e),Xn=function i6(n,t,e,y,R,K){const pe=uo(),Ne=R[$r],Xe=Ua(pe,R);H2(Ne,R,pe,e,null,y);for(let wt=0;wt<e.length;wt++)yl(fd(R,Ne,pe.directiveStart+wt,pe),R);G2(Ne,R,pe),Xe&&yl(Xe,R);const ot=fd(R,Ne,pe.directiveStart+pe.componentOffset,pe);if(n[qo]=R[qo]=ot,null!==K)for(const wt of K)wt(ot,t);return A0(Ne,pe,n),ot}(po,Ar,zr,br,Nn,[s6]),Fp(An,Nn,null)}finally{pn()}return new e6(this.componentType,Xn,Mo(hr,Nn),Nn,hr)}}class e6 extends is{constructor(t,e,y,R,K){super(),this.location=y,this._rootLView=R,this._tNode=K,this.instance=e,this.hostView=this.changeDetectorRef=new KS(R),this.componentType=t}setInput(t,e){const y=this._tNode.inputs;let R;if(null!==y&&(R=y[t])){const K=this._rootLView;yx(K[$r],K,R,t,e),Nv(zo(this._tNode.index,K))}}get injector(){return new Xd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function s6(){const n=uo();Ur(kr()[$r],n)}function ro(n){let t=function J2(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const y=[n];for(;t;){let R;if(so(n))R=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new qt(903,!1);R=t.\u0275dir}if(R){if(e){y.push(R);const pe=n;pe.inputs=xx(n.inputs),pe.declaredInputs=xx(n.declaredInputs),pe.outputs=xx(n.outputs);const Ne=R.hostBindings;Ne&&d6(n,Ne);const Xe=R.viewQuery,ot=R.contentQueries;if(Xe&&c6(n,Xe),ot&&u6(n,ot),Wn(n.inputs,R.inputs),Wn(n.declaredInputs,R.declaredInputs),Wn(n.outputs,R.outputs),so(R)&&R.data.animation){const wt=n.data;wt.animation=(wt.animation||[]).concat(R.data.animation)}}const K=R.features;if(K)for(let pe=0;pe<K.length;pe++){const Ne=K[pe];Ne&&Ne.ngInherit&&Ne(n),Ne===ro&&(e=!1)}}t=Object.getPrototypeOf(t)}!function l6(n){let t=0,e=null;for(let y=n.length-1;y>=0;y--){const R=n[y];R.hostVars=t+=R.hostVars,R.hostAttrs=no(R.hostAttrs,e=no(e,R.hostAttrs))}}(y)}function xx(n){return n===Ns?{}:n===Gi?[]:n}function c6(n,t){const e=n.viewQuery;n.viewQuery=e?(y,R)=>{t(y,R),e(y,R)}:t}function u6(n,t){const e=n.contentQueries;n.contentQueries=e?(y,R,K)=>{t(y,R,K),e(y,R,K)}:t}function d6(n,t){const e=n.hostBindings;n.hostBindings=e?(y,R)=>{t(y,R),e(y,R)}:t}function Vv(n){return!!_x(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function _x(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ed(n,t,e){return n[t]=e}function Ql(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function os(n,t,e,y){const R=kr();return Ql(R,ie(),t)&&(Nr(),Qu(qn(),R,n,t,e,y)),os}function Bp(n,t,e,y){return Ql(n,ie(),e)?t+xn(e)+y:Ii}function io(n,t,e,y,R,K,pe,Ne){const Xe=kr(),ot=Nr(),wt=n+si,Nt=ot.firstCreatePass?function b6(n,t,e,y,R,K,pe,Ne,Xe){const ot=t.consts,wt=Cd(t,n,4,pe||null,Ja(ot,Ne));hx(t,e,wt,Ja(ot,Xe)),Ur(t,wt);const Nt=wt.tView=E0(2,wt,y,R,K,t.directiveRegistry,t.pipeRegistry,null,t.schemas,ot);return null!==t.queries&&(t.queries.template(t,wt),Nt.queries=t.queries.embeddedTView(wt)),wt}(wt,ot,Xe,t,e,y,R,K,pe):ot.data[wt];Fa(Nt,!1);const hn=Xe[Mi].createComment("");vd(ot,Xe,hn,Nt),yl(hn,Xe),Fv(Xe,Xe[wt]=q2(hn,Xe,hn,Nt)),dl(Nt)&&k0(ot,Xe,Nt),null!=pe&&S0(Xe,Nt,Ne)}function Id(n){return function ya(n,t){return n[t]}(function Y(){return Sr.lFrame.contextLView}(),si+n)}function wi(n,t,e){const y=kr();return Ql(y,ie(),t)&&function Gc(n,t,e,y,R,K,pe,Ne){const Xe=Ua(t,e);let wt,ot=t.inputs;!Ne&&null!=ot&&(wt=ot[y])?(yx(n,e,wt,y,R),Bs(t)&&function LS(n,t){const e=zo(t,n);16&e[xi]||(e[xi]|=32)}(e,t.index)):3&t.type&&(y=function IS(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(y),R=null!=pe?pe(R,t.value||"",y):R,K.setProperty(Xe,y,R))}(Nr(),qn(),y,n,t,y[Mi],e,!1),wi}function bx(n,t,e,y,R){const pe=R?"class":"style";yx(n,e,t.inputs[pe],pe,y)}function Br(n,t,e,y){const R=kr(),K=Nr(),pe=si+n,Ne=R[Mi],Xe=K.firstCreatePass?function T6(n,t,e,y,R,K){const pe=t.consts,Xe=Cd(t,n,2,y,Ja(pe,R));return hx(t,e,Xe,Ja(pe,K)),null!==Xe.attrs&&Bv(Xe,Xe.attrs,!1),null!==Xe.mergedAttrs&&Bv(Xe,Xe.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,Xe),Xe}(pe,K,R,t,e,y):K.data[pe],ot=R[pe]=Zm(Ne,t,function Mr(){return Sr.lFrame.currentNamespace}()),wt=dl(Xe);return Fa(Xe,!0),l0(Ne,ot,Xe),32!=(32&Xe.flags)&&vd(K,R,ot,Xe),0===function Ra(){return Sr.lFrame.elementDepthCount}()&&yl(ot,R),function Gl(){Sr.lFrame.elementDepthCount++}(),wt&&(k0(K,R,Xe),A0(K,Xe,R)),null!==y&&S0(R,Xe),Br}function Qr(){let n=uo();Gs()?V():(n=n.parent,Fa(n,!1));const t=n;!function xa(){Sr.lFrame.elementDepthCount--}();const e=Nr();return e.firstCreatePass&&(Ur(e,n),So(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Zi(n){return 0!=(8&n.flags)}(t)&&bx(e,t,kr(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Bo(n){return 0!=(16&n.flags)}(t)&&bx(e,t,kr(),t.stylesWithoutHost,!1),Qr}function la(n,t,e,y){return Br(n,t,e,y),Qr(),la}function Oh(n,t,e){const y=kr(),R=Nr(),K=n+si,pe=R.firstCreatePass?function M6(n,t,e,y,R){const K=t.consts,pe=Ja(K,y),Ne=Cd(t,n,8,"ng-container",pe);return null!==pe&&Bv(Ne,pe,!0),hx(t,e,Ne,Ja(K,R)),null!==t.queries&&t.queries.elementStart(t,Ne),Ne}(K,R,y,t,e):R.data[K];Fa(pe,!0);const Ne=y[K]=y[Mi].createComment("");return vd(R,y,Ne,pe),yl(Ne,y),dl(pe)&&(k0(R,y,pe),A0(R,pe,y)),null!=e&&S0(y,pe),Oh}function Ph(){let n=uo();const t=Nr();return Gs()?V():(n=n.parent,Fa(n,!1)),t.firstCreatePass&&(Ur(t,n),So(n)&&t.queries.elementEnd(n)),Ph}function If(n,t,e){return Oh(n,t,e),Ph(),If}function Hv(){return kr()}function O0(n){return!!n&&"function"==typeof n.then}const wx=function dw(n){return!!n&&"function"==typeof n.subscribe};function xl(n,t,e,y){const R=kr(),K=Nr(),pe=uo();return function hw(n,t,e,y,R,K,pe){const Ne=dl(y),ot=n.firstCreatePass&&Z2(n),wt=t[qo],Nt=W2(t);let hn=!0;if(3&y.type||pe){const Xn=Ua(y,t),hr=pe?pe(Xn):Xn,Ar=Nt.length,zr=pe?ii=>pe(co(ii[y.index])):y.index;let br=null;if(!pe&&Ne&&(br=function A6(n,t,e,y){const R=n.cleanup;if(null!=R)for(let K=0;K<R.length-1;K+=2){const pe=R[K];if(pe===e&&R[K+1]===y){const Ne=t[cc],Xe=R[K+2];return Ne.length>Xe?Ne[Xe]:null}"string"==typeof pe&&(K+=2)}return null}(n,t,R,y.index)),null!==br)(br.__ngLastListenerFn__||br).__ngNextListenerFn__=K,br.__ngLastListenerFn__=K,hn=!1;else{K=mw(y,t,wt,K,!1);const ii=e.listen(hr,R,K);Nt.push(K,ii),ot&&ot.push(R,zr,Ar,Ar+1)}}else K=mw(y,t,wt,K,!1);const An=y.outputs;let Nn;if(hn&&null!==An&&(Nn=An[R])){const Xn=Nn.length;if(Xn)for(let hr=0;hr<Xn;hr+=2){const po=t[Nn[hr]][Nn[hr+1]].subscribe(K),Fo=Nt.length;Nt.push(K,po),ot&&ot.push(R,y.index,Fo,-(Fo+1))}}}(K,R,R[Mi],pe,n,t,y),xl}function pw(n,t,e,y){try{return lo(6,t,e),!1!==e(y)}catch(R){return $2(n,R),!1}finally{lo(7,t,e)}}function mw(n,t,e,y,R){return function K(pe){if(pe===Function)return y;Nv(n.componentOffset>-1?zo(n.index,t):t);let Xe=pw(t,e,y,pe),ot=K.__ngNextListenerFn__;for(;ot;)Xe=pw(t,e,ot,pe)&&Xe,ot=ot.__ngNextListenerFn__;return R&&!1===Xe&&(pe.preventDefault(),pe.returnValue=!1),Xe}}function Ko(n=1){return function sn(n){return(Sr.lFrame.contextLView=function tn(n,t){for(;n>0;)t=t[bs],n--;return t}(n,Sr.lFrame.contextLView))[qo]}(n)}function k6(n,t){let e=null;const y=function Mh(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let R=0;R<t.length;R++){const K=t[R];if("*"!==K){if(null===y?Tf(n,K,!0):bv(y,K))return R}else e=R}return e}function cu(n){const t=kr()[Jo][Co];if(!t.projection){const y=t.projection=tu(n?n.length:1,null),R=y.slice();let K=t.child;for(;null!==K;){const pe=n?k6(K,n):0;null!==pe&&(R[pe]?R[pe].projectionNext=K:y[pe]=K,R[pe]=K),K=K.next}}}function Es(n,t=0,e){const y=kr(),R=Nr(),K=Cd(R,si+n,16,null,e||null);null===K.projection&&(K.projection=t),V(),32!=(32&K.flags)&&function r0(n,t,e){o0(t[Mi],0,t,e,Xm(n,e,t),Qm(e.parent||t[Co],e,t))}(R,y,K)}function Gv(n,t){return n<<17|t<<2}function Lf(n){return n>>17&32767}function Mx(n){return 2|n}function Rh(n){return(131068&n)>>2}function Ax(n,t){return-131069&n|t<<2}function kx(n){return 1|n}function Aw(n,t,e,y,R){const K=n[e+1],pe=null===t;let Ne=y?Lf(K):Rh(K),Xe=!1;for(;0!==Ne&&(!1===Xe||pe);){const wt=n[Ne+1];L6(n[Ne],t)&&(Xe=!0,n[Ne+1]=y?kx(wt):Mx(wt)),Ne=y?Lf(wt):Rh(wt)}Xe&&(n[e+1]=y?Mx(K):kx(K))}function L6(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&nu(n,t)>=0}const Ks={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kw(n){return n.substring(Ks.key,Ks.keyEnd)}function Sw(n,t){const e=Ks.textEnd;return e===t?-1:(t=Ks.keyEnd=function F6(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Ks.key=t,e),Zp(n,t,e))}function Zp(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Cs(n,t){return function Lu(n,t,e,y){const R=kr(),K=Nr(),pe=de(2);K.firstUpdatePass&&Pw(K,n,pe,y),t!==Ii&&Ql(R,pe,t)&&Fw(K,K.data[Sn()],R,R[Mi],n,R[pe+1]=function Y6(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Cn(Xl(n)))),n}(t,e),y,pe)}(n,t,null,!0),Cs}function nd(n,t){for(let e=function P6(n){return function Cw(n){Ks.key=0,Ks.keyEnd=0,Ks.value=0,Ks.valueEnd=0,Ks.textEnd=n.length}(n),Sw(n,Zp(n,0,Ks.textEnd))}(t);e>=0;e=Sw(t,e))vl(n,kw(t),!0)}function Ow(n,t){return t>=n.expandoStartIndex}function Pw(n,t,e,y){const R=n.data;if(null===R[e+1]){const K=R[Sn()],pe=Ow(n,e);zw(K,y)&&null===t&&!pe&&(t=!1),t=function V6(n,t,e,y){const R=function Qe(n){const t=Sr.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let K=y?t.residualClasses:t.residualStyles;if(null===R)0===(y?t.classBindings:t.styleBindings)&&(e=P0(e=Sx(null,n,t,e,y),t.attrs,y),K=null);else{const pe=t.directiveStylingLast;if(-1===pe||n[pe]!==R)if(e=Sx(R,n,t,e,y),null===K){let Xe=function U6(n,t,e){const y=e?t.classBindings:t.styleBindings;if(0!==Rh(y))return n[Lf(y)]}(n,t,y);void 0!==Xe&&Array.isArray(Xe)&&(Xe=Sx(null,n,t,Xe[1],y),Xe=P0(Xe,t.attrs,y),function H6(n,t,e,y){n[Lf(e?t.classBindings:t.styleBindings)]=y}(n,t,y,Xe))}else K=function G6(n,t,e){let y;const R=t.directiveEnd;for(let K=1+t.directiveStylingLast;K<R;K++)y=P0(y,n[K].hostAttrs,e);return P0(y,t.attrs,e)}(n,t,y)}return void 0!==K&&(y?t.residualClasses=K:t.residualStyles=K),e}(R,K,t,y),function D6(n,t,e,y,R,K){let pe=K?t.classBindings:t.styleBindings,Ne=Lf(pe),Xe=Rh(pe);n[y]=e;let wt,ot=!1;if(Array.isArray(e)?(wt=e[1],(null===wt||nu(e,wt)>0)&&(ot=!0)):wt=e,R)if(0!==Xe){const hn=Lf(n[Ne+1]);n[y+1]=Gv(hn,Ne),0!==hn&&(n[hn+1]=Ax(n[hn+1],y)),n[Ne+1]=function E6(n,t){return 131071&n|t<<17}(n[Ne+1],y)}else n[y+1]=Gv(Ne,0),0!==Ne&&(n[Ne+1]=Ax(n[Ne+1],y)),Ne=y;else n[y+1]=Gv(Xe,0),0===Ne?Ne=y:n[Xe+1]=Ax(n[Xe+1],y),Xe=y;ot&&(n[y+1]=Mx(n[y+1])),Aw(n,wt,y,!0),Aw(n,wt,y,!1),function I6(n,t,e,y,R){const K=R?n.residualClasses:n.residualStyles;null!=K&&"string"==typeof t&&nu(K,t)>=0&&(e[y+1]=kx(e[y+1]))}(t,wt,n,y,K),pe=Gv(Ne,Xe),K?t.classBindings=pe:t.styleBindings=pe}(R,K,t,e,pe,y)}}function Sx(n,t,e,y,R){let K=null;const pe=e.directiveEnd;let Ne=e.directiveStylingLast;for(-1===Ne?Ne=e.directiveStart:Ne++;Ne<pe&&(K=t[Ne],y=P0(y,K.hostAttrs,R),K!==n);)Ne++;return null!==n&&(e.directiveStylingLast=Ne),y}function P0(n,t,e){const y=e?1:2;let R=-1;if(null!==t)for(let K=0;K<t.length;K++){const pe=t[K];"number"==typeof pe?R=pe:R===y&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vl(n,pe,!!e||t[++K]))}return void 0===n?null:n}function Fw(n,t,e,y,R,K,pe,Ne){if(!(3&t.type))return;const Xe=n.data,ot=Xe[Ne+1],wt=function C6(n){return 1==(1&n)}(ot)?Nw(Xe,t,e,R,Rh(ot),pe):void 0;qv(wt)||(qv(K)||function S6(n){return 2==(2&n)}(ot)&&(K=Nw(Xe,null,e,R,Ne,pe)),function ph(n,t,e,y,R){if(t)R?n.addClass(e,y):n.removeClass(e,y);else{let K=-1===y.indexOf("-")?void 0:Il.DashCase;null==R?n.removeStyle(e,y,K):("string"==typeof R&&R.endsWith("!important")&&(R=R.slice(0,-10),K|=Il.Important),n.setStyle(e,y,R,K))}}(y,pe,hs(Sn(),e),R,K))}function Nw(n,t,e,y,R,K){const pe=null===t;let Ne;for(;R>0;){const Xe=n[R],ot=Array.isArray(Xe),wt=ot?Xe[1]:Xe,Nt=null===wt;let hn=e[R+1];hn===Ii&&(hn=Nt?Gi:void 0);let An=Nt?Qd(hn,y):wt===y?hn:void 0;if(ot&&!qv(An)&&(An=Qd(Xe,y)),qv(An)&&(Ne=An,pe))return Ne;const Nn=n[R+1];R=pe?Lf(Nn):Rh(Nn)}if(null!==t){let Xe=K?t.residualClasses:t.residualStyles;null!=Xe&&(Ne=Qd(Xe,y))}return Ne}function qv(n){return void 0!==n}function zw(n,t){return 0!=(n.flags&(t?8:16))}function _i(n,t=""){const e=kr(),y=Nr(),R=n+si,K=y.firstCreatePass?Cd(y,R,1,t,null):y.data[R],pe=e[R]=function $s(n,t){return n.createText(t)}(e[Mi],t);vd(y,e,pe,K),Fa(K,!1)}function Ld(n){return Of("",n,""),Ld}function Of(n,t,e){const y=kr(),R=Bp(y,n,t,e);return R!==Ii&&function Dd(n,t,e){const y=hs(t,n);!function Wm(n,t,e){n.setValue(t,e)}(n[Mi],y,e)}(y,Sn(),R),Of}function Zw(n,t,e){!function Ou(n,t,e,y){const R=Nr(),K=de(2);R.firstUpdatePass&&Pw(R,null,K,y);const pe=kr();if(e!==Ii&&Ql(pe,K,e)){const Ne=R.data[Sn()];if(zw(Ne,y)&&!Ow(R,K)){let Xe=y?Ne.classesWithoutHost:Ne.stylesWithoutHost;null!==Xe&&(e=Zn(Xe,e||"")),bx(R,Ne,pe,e,y)}else!function Z6(n,t,e,y,R,K,pe,Ne){R===Ii&&(R=Gi);let Xe=0,ot=0,wt=0<R.length?R[0]:null,Nt=0<K.length?K[0]:null;for(;null!==wt||null!==Nt;){const hn=Xe<R.length?R[Xe+1]:void 0,An=ot<K.length?K[ot+1]:void 0;let Xn,Nn=null;wt===Nt?(Xe+=2,ot+=2,hn!==An&&(Nn=Nt,Xn=An)):null===Nt||null!==wt&&wt<Nt?(Xe+=2,Nn=wt):(ot+=2,Nn=Nt,Xn=An),null!==Nn&&Fw(n,t,e,y,Nn,Xn,pe,Ne),wt=Xe<R.length?R[Xe]:null,Nt=ot<K.length?K[ot]:null}}(R,Ne,pe,pe[Mi],pe[K+1],pe[K+1]=function q6(n,t,e){if(null==e||""===e)return Gi;const y=[],R=Xl(e);if(Array.isArray(R))for(let K=0;K<R.length;K++)n(y,R[K],!0);else if("object"==typeof R)for(const K in R)R.hasOwnProperty(K)&&n(y,K,R[K]);else"string"==typeof R&&t(y,R);return y}(n,t,e),y,K)}}(vl,nd,Bp(kr(),n,t,e),!0)}const $p="en-US";let l3=$p;function Dx(n,t,e,y,R){if(n=er(n),Array.isArray(n))for(let K=0;K<n.length;K++)Dx(n[K],t,e,y,R);else{const K=Nr(),pe=kr();let Ne=Yr(n)?n:er(n.provide),Xe=Ba(n);const ot=uo(),wt=1048575&ot.providerIndexes,Nt=ot.directiveStart,hn=ot.providerIndexes>>20;if(Yr(n)||!n.multi){const An=new di(Xe,R,or),Nn=Lx(Ne,t,R?wt:wt+hn,Nt);-1===Nn?(bu(Zd(ot,pe),K,Ne),Ix(K,n,t.length),t.push(Ne),ot.directiveStart++,ot.directiveEnd++,R&&(ot.providerIndexes+=1048576),e.push(An),pe.push(An)):(e[Nn]=An,pe[Nn]=An)}else{const An=Lx(Ne,t,wt+hn,Nt),Nn=Lx(Ne,t,wt,wt+hn),hr=Nn>=0&&e[Nn];if(R&&!hr||!R&&!(An>=0&&e[An])){bu(Zd(ot,pe),K,Ne);const Ar=function dC(n,t,e,y,R){const K=new di(n,e,or);return K.multi=[],K.index=t,K.componentProviders=0,O3(K,R,y&&!e),K}(R?uC:cC,e.length,R,y,Xe);!R&&hr&&(e[Nn].providerFactory=Ar),Ix(K,n,t.length,0),t.push(Ne),ot.directiveStart++,ot.directiveEnd++,R&&(ot.providerIndexes+=1048576),e.push(Ar),pe.push(Ar)}else Ix(K,n,An>-1?An:Nn,O3(e[R?Nn:An],Xe,!R&&y));!R&&y&&hr&&e[Nn].componentProviders++}}}function Ix(n,t,e,y){const R=Yr(t),K=function Ni(n){return!!n.useClass}(t);if(R||K){const Xe=(K?er(t.useClass):t).prototype.ngOnDestroy;if(Xe){const ot=n.destroyHooks||(n.destroyHooks=[]);if(!R&&t.multi){const wt=ot.indexOf(e);-1===wt?ot.push(e,[y,Xe]):ot[wt+1].push(y,Xe)}else ot.push(e,Xe)}}}function O3(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Lx(n,t,e,y){for(let R=e;R<y;R++)if(t[R]===n)return R;return-1}function cC(n,t,e,y){return Ox(this.multi,[])}function uC(n,t,e,y){const R=this.multi;let K;if(this.providerFactory){const pe=this.providerFactory.componentProviders,Ne=fd(e,e[$r],this.providerFactory.index,y);K=Ne.slice(0,pe),Ox(R,K);for(let Xe=pe;Xe<Ne.length;Xe++)K.push(Ne[Xe])}else K=[],Ox(R,K);return K}function Ox(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function $o(n,t=[]){return e=>{e.providersResolver=(y,R)=>function lC(n,t,e){const y=Nr();if(y.firstCreatePass){const R=so(n);Dx(e,y.data,y.blueprint,R,!0),Dx(t,y.data,y.blueprint,R,!1)}}(y,R?R(n):n,t)}}class Xp{}class P3{}class R3 extends Xp{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new X2(this);const y=Ka(t);this._bootstrapComponents=yc(y.bootstrap),this._r3Injector=Af(t,e,[{provide:Xp,useValue:this},{provide:Xi,useValue:this.componentFactoryResolver}],Cn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Px extends P3{constructor(t){super(),this.moduleType=t}create(t){return new R3(this.moduleType,t)}}class hC extends Xp{constructor(t,e,y){super(),this.componentFactoryResolver=new X2(this),this.instance=null;const R=new Lo([...t,{provide:Xp,useValue:this},{provide:Xi,useValue:this.componentFactoryResolver}],e||wo(),y,new Set(["environment"]));this.injector=R,R.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Xv(n,t,e=null){return new hC(n,t,e).injector}let pC=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const y=yr(0,e.type),R=y.length>0?Xv([y],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,R)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Vn({token:n,providedIn:"environment",factory:()=>new n(Dr(Yi))}),n})();function F3(n){n.getStandaloneInjector=t=>t.get(pC).getOrCreateStandaloneInjector(n)}function Fx(n,t,e,y){return function H3(n,t,e,y,R,K){const pe=t+e;return Ql(n,pe,R)?ed(n,pe+1,K?y.call(K,R):y(R)):V0(n,pe+1)}(kr(),ye(),n,t,e,y)}function j0(n,t,e,y,R){return function G3(n,t,e,y,R,K,pe){const Ne=t+e;return function Lh(n,t,e,y){const R=Ql(n,t,e);return Ql(n,t+1,y)||R}(n,Ne,R,K)?ed(n,Ne+2,pe?y.call(pe,R,K):y(R,K)):V0(n,Ne+2)}(kr(),ye(),n,t,e,y,R)}function V0(n,t){const e=n[t];return e===Ii?void 0:e}function Nx(n){return t=>{setTimeout(n,void 0,t)}}const ui=class zC extends q{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,y){let R=t,K=e||(()=>null),pe=y;if(t&&"object"==typeof t){const Xe=t;R=Xe.next?.bind(Xe),K=Xe.error?.bind(Xe),pe=Xe.complete?.bind(Xe)}this.__isAsync&&(K=Nx(K),R&&(R=Nx(R)),pe&&(pe=Nx(pe)));const Ne=super.subscribe({next:R,error:K,complete:pe});return t instanceof D&&t.add(Ne),Ne}};function BC(){return this._results[Symbol.iterator]()}class Pf{get changes(){return this._changes||(this._changes=new ui)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Pf.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=BC)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const y=this;y.dirty=!1;const R=function Ic(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function F1(n,t,e){if(n.length!==t.length)return!1;for(let y=0;y<n.length;y++){let R=n[y],K=t[y];if(e&&(R=e(R),K=e(K)),K!==R)return!1}return!0}(y._results,R,e))&&(y._results=R,y.length=R.length,y.last=R[this.length-1],y.first=R[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qc=(()=>{class n{}return n.__NG_ELEMENT_ID__=UC,n})();const jC=qc,VC=class extends jC{constructor(t,e,y){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=y}createEmbeddedView(t,e){const y=this._declarationTContainer.tView,R=Ju(this._declarationLView,y,t,16,null,y.declTNode,null,null,null,null,e||null);R[ll]=this._declarationLView[this._declarationTContainer.index];const pe=this._declarationLView[ka];return null!==pe&&(R[ka]=pe.createEmbeddedView(y)),Fp(y,R,t),new D0(R)}};function UC(){return Kv(uo(),kr())}function Kv(n,t){return 4&n.type?new VC(t,n,Mo(n,t)):null}let Wc=(()=>{class n{}return n.__NG_ELEMENT_ID__=HC,n})();function HC(){return X3(uo(),kr())}const GC=Wc,Y3=class extends GC{constructor(t,e,y){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=y}get element(){return Mo(this._hostTNode,this._hostLView)}get injector(){return new Xd(this._hostTNode,this._hostLView)}get parentInjector(){const t=dd(this._hostTNode,this._hostLView);if(Eo(t)){const e=Fi(t,this._hostLView),y=wa(t);return new Xd(e[$r].data[y+8],e)}return new Xd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=$3(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ua}createEmbeddedView(t,e,y){let R,K;"number"==typeof y?R=y:null!=y&&(R=y.index,K=y.injector);const pe=t.createEmbeddedView(e||{},K);return this.insert(pe,R),pe}createComponent(t,e,y,R,K){const pe=t&&!function eh(n){return"function"==typeof n}(t);let Ne;if(pe)Ne=e;else{const Nt=e||{};Ne=Nt.index,y=Nt.injector,R=Nt.projectableNodes,K=Nt.environmentInjector||Nt.ngModuleRef}const Xe=pe?t:new I0(Si(t)),ot=y||this.parentInjector;if(!K&&null==Xe.ngModule){const hn=(pe?ot:this.parentInjector).get(Yi,null);hn&&(K=hn)}const wt=Xe.create(ot,R,void 0,K);return this.insert(wt.hostView,Ne),wt}insert(t,e){const y=t._lView,R=y[$r];if(function Hl(n){return ma(n[mo])}(y)){const wt=this.indexOf(t);if(-1!==wt)this.detach(wt);else{const Nt=y[mo],hn=new Y3(Nt,Nt[Co],Nt[mo]);hn.detach(hn.indexOf(t))}}const K=this._adjustIndex(e),pe=this._lContainer;!function Q1(n,t,e,y){const R=ua+y,K=e.length;y>0&&(e[R-1][ca]=t),y<K-ua?(t[ca]=e[R],cp(e,ua+y,t)):(e.push(t),t[ca]=null),t[mo]=e;const pe=t[ll];null!==pe&&e!==pe&&function rv(n,t){const e=n[ds];t[Jo]!==t[mo][mo][Jo]&&(n[ul]=!0),null===e?n[ds]=[t]:e.push(t)}(pe,t);const Ne=t[ka];null!==Ne&&Ne.insertView(n),t[xi]|=64}(R,y,pe,K);const Ne=t0(K,pe),Xe=y[Mi],ot=dh(Xe,pe[Sc]);return null!==ot&&function nv(n,t,e,y,R,K){y[cs]=R,y[Co]=t,ru(n,y,e,1,R,K)}(R,pe[Co],Xe,y,ot,Ne),t.attachToViewContainerRef(),cp(zx(pe),K,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=$3(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),y=gc(this._lContainer,e);y&&(up(zx(this._lContainer),e),vp(y[$r],y))}detach(t){const e=this._adjustIndex(t,-1),y=gc(this._lContainer,e);return y&&null!=up(zx(this._lContainer),e)?new D0(y):null}_adjustIndex(t,e=0){return t??this.length+e}};function $3(n){return n[zl]}function zx(n){return n[zl]||(n[zl]=[])}function X3(n,t){let e;const y=t[n.index];if(ma(y))e=y;else{let R;if(8&n.type)R=co(y);else{const K=t[Mi];R=K.createComment("");const pe=Ua(n,t);Gu(K,dh(K,pe),R,function ff(n,t){return n.nextSibling(t)}(K,pe),!1)}t[n.index]=e=q2(y,t,R,n),Fv(t,e)}return new Y3(e,n,t)}class Bx{constructor(t){this.queryList=t,this.matches=null}clone(){return new Bx(this.queryList)}setDirty(){this.queryList.setDirty()}}class jx{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const y=null!==t.contentQueries?t.contentQueries[0]:e.length,R=[];for(let K=0;K<y;K++){const pe=e.getByIndex(K);R.push(this.queries[pe.indexInDeclarationView].clone())}return new jx(R)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==tT(t,e).matches&&this.queries[e].setDirty()}}class K3{constructor(t,e,y=null){this.predicate=t,this.flags=e,this.read=y}}class Vx{constructor(t=[]){this.queries=t}elementStart(t,e){for(let y=0;y<this.queries.length;y++)this.queries[y].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let y=0;y<this.length;y++){const R=null!==e?e.length:0,K=this.getByIndex(y).embeddedTView(t,R);K&&(K.indexInDeclarationView=y,null!==e?e.push(K):e=[K])}return null!==e?new Vx(e):null}template(t,e){for(let y=0;y<this.queries.length;y++)this.queries[y].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ux{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ux(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let y=t.parent;for(;null!==y&&8&y.type&&y.index!==e;)y=y.parent;return e===(null!==y?y.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const y=this.metadata.predicate;if(Array.isArray(y))for(let R=0;R<y.length;R++){const K=y[R];this.matchTNodeWithReadOption(t,e,qC(e,K)),this.matchTNodeWithReadOption(t,e,ip(e,t,K,!1,!1))}else y===qc?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ip(e,t,y,!1,!1))}matchTNodeWithReadOption(t,e,y){if(null!==y){const R=this.metadata.read;if(null!==R)if(R===ci||R===Wc||R===qc&&4&e.type)this.addMatch(e.index,-2);else{const K=ip(e,t,R,!1,!1);null!==K&&this.addMatch(e.index,K)}else this.addMatch(e.index,y)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function qC(n,t){const e=n.localNames;if(null!==e)for(let y=0;y<e.length;y+=2)if(e[y]===t)return e[y+1];return null}function ZC(n,t,e,y){return-1===e?function WC(n,t){return 11&n.type?Mo(n,t):4&n.type?Kv(n,t):null}(t,n):-2===e?function YC(n,t,e){return e===ci?Mo(t,n):e===qc?Kv(t,n):e===Wc?X3(t,n):void 0}(n,t,y):fd(n,n[$r],e,t)}function J3(n,t,e,y){const R=t[ka].queries[y];if(null===R.matches){const K=n.data,pe=e.matches,Ne=[];for(let Xe=0;Xe<pe.length;Xe+=2){const ot=pe[Xe];Ne.push(ot<0?null:ZC(t,K[ot],pe[Xe+1],e.metadata.read))}R.matches=Ne}return R.matches}function Hx(n,t,e,y){const R=n.queries.getByIndex(e),K=R.matches;if(null!==K){const pe=J3(n,t,R,e);for(let Ne=0;Ne<K.length;Ne+=2){const Xe=K[Ne];if(Xe>0)y.push(pe[Ne/2]);else{const ot=K[Ne+1],wt=t[-Xe];for(let Nt=ua;Nt<wt.length;Nt++){const hn=wt[Nt];hn[ll]===hn[mo]&&Hx(hn[$r],hn,ot,y)}if(null!==wt[ds]){const Nt=wt[ds];for(let hn=0;hn<Nt.length;hn++){const An=Nt[hn];Hx(An[$r],An,ot,y)}}}}}return y}function Js(n){const t=kr(),e=Nr(),y=tt();lt(y+1);const R=tT(e,y);if(n.dirty&&function Hs(n){return 4==(4&n[xi])}(t)===(2==(2&R.metadata.flags))){if(null===R.matches)n.reset([]);else{const K=R.crossesNgTemplate?Hx(e,t,y,[]):J3(e,t,R,y);n.reset(K,sa),n.notifyOnChanges()}return!0}return!1}function H0(n,t,e){const y=Nr();y.firstCreatePass&&(eT(y,new K3(n,t,e),-1),2==(2&t)&&(y.staticViewQueries=!0)),Q3(y,kr(),t)}function bc(n,t,e,y){const R=Nr();if(R.firstCreatePass){const K=uo();eT(R,new K3(t,e,y),K.index),function XC(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(R,n),2==(2&e)&&(R.staticContentQueries=!0)}Q3(R,kr(),e)}function Qs(){return function $C(n,t){return n[ka].queries[t].queryList}(kr(),tt())}function Q3(n,t,e){const y=new Pf(4==(4&e));Ih(n,t,y,y.destroy),null===t[ka]&&(t[ka]=new jx),t[ka].queries.push(new Bx(y))}function eT(n,t,e){null===n.queries&&(n.queries=new Vx),n.queries.track(new Ux(t,e))}function tT(n,t){return n.queries.getByIndex(t)}function G0(n,t){return Kv(n,t)}function Qv(...n){}const ey=new Hr("Application Initializer");let ty=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Qv,this.reject=Qv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((y,R)=>{this.resolve=y,this.reject=R})}runInitializers(){if(this.initialized)return;const e=[],y=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let R=0;R<this.appInits.length;R++){const K=this.appInits[R]();if(O0(K))e.push(K);else if(wx(K)){const pe=new Promise((Ne,Xe)=>{K.subscribe({complete:Ne,error:Xe})});e.push(pe)}}Promise.all(e).then(()=>{y()}).catch(R=>{this.reject(R)}),0===e.length&&y(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(Dr(ey,8))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W0=new Hr("AppId",{providedIn:"root",factory:function xT(){return`${$x()}${$x()}${$x()}`}});function $x(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _T=new Hr("Platform Initializer"),Xx=new Hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Z0=new Hr("AnimationModuleType");let g8=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const rd=new Hr("LocaleId",{providedIn:"root",factory:()=>gi(rd,Zr.Optional|Zr.SkipSelf)||function v8(){return typeof $localize<"u"&&$localize.locale||$p}()});class x8{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let bT=(()=>{class n{compileModuleSync(e){return new Px(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const y=this.compileModuleSync(e),K=yc(Ka(e).declarations).reduce((pe,Ne)=>{const Xe=Si(Ne);return Xe&&pe.push(new I0(Xe)),pe},[]);return new x8(y,K)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w8=(()=>Promise.resolve(0))();function Kx(n){typeof Zone>"u"?w8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Uo{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:y=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ui(!1),this.onMicrotaskEmpty=new ui(!1),this.onStable=new ui(!1),this.onError=new ui(!1),typeof Zone>"u")throw new qt(908,!1);Zone.assertZonePatched();const R=this;R._nesting=0,R._outer=R._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(R._inner=R._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(R._inner=R._inner.fork(Zone.longStackTraceZoneSpec)),R.shouldCoalesceEventChangeDetection=!y&&e,R.shouldCoalesceRunChangeDetection=y,R.lastRequestAnimationFrameId=-1,R.nativeRequestAnimationFrame=function T8(){let n=Vi.requestAnimationFrame,t=Vi.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const y=t[Zone.__symbol__("OriginalDelegate")];y&&(t=y)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function k8(n){const t=()=>{!function A8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Vi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Qx(n),n.isCheckStableRunning=!0,Jx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Qx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,y,R,K,pe,Ne)=>{try{return MT(n),e.invokeTask(R,K,pe,Ne)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===K.type||n.shouldCoalesceRunChangeDetection)&&t(),AT(n)}},onInvoke:(e,y,R,K,pe,Ne,Xe)=>{try{return MT(n),e.invoke(R,K,pe,Ne,Xe)}finally{n.shouldCoalesceRunChangeDetection&&t(),AT(n)}},onHasTask:(e,y,R,K)=>{e.hasTask(R,K),y===R&&("microTask"==K.change?(n._hasPendingMicrotasks=K.microTask,Qx(n),Jx(n)):"macroTask"==K.change&&(n.hasPendingMacrotasks=K.macroTask))},onHandleError:(e,y,R,K)=>(e.handleError(R,K),n.runOutsideAngular(()=>n.onError.emit(K)),!1)})}(R)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uo.isInAngularZone())throw new qt(909,!1)}static assertNotInAngularZone(){if(Uo.isInAngularZone())throw new qt(909,!1)}run(t,e,y){return this._inner.run(t,e,y)}runTask(t,e,y,R){const K=this._inner,pe=K.scheduleEventTask("NgZoneEvent: "+R,t,M8,Qv,Qv);try{return K.runTask(pe,e,y)}finally{K.cancelTask(pe)}}runGuarded(t,e,y){return this._inner.runGuarded(t,e,y)}runOutsideAngular(t){return this._outer.run(t)}}const M8={};function Jx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Qx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function MT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function AT(n){n._nesting--,Jx(n)}class S8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ui,this.onMicrotaskEmpty=new ui,this.onStable=new ui,this.onError=new ui}run(t,e,y){return t.apply(e,y)}runGuarded(t,e,y){return t.apply(e,y)}runOutsideAngular(t){return t()}runTask(t,e,y,R){return t.apply(e,y)}}const kT=new Hr(""),ny=new Hr("");let n_,e_=(()=>{class n{constructor(e,y,R){this._ngZone=e,this.registry=y,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,n_||(function E8(n){n_=n}(R),R.addToWindow(y)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uo.assertNotInAngularZone(),Kx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kx(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(y=>!y.updateCb||!y.updateCb(e)||(clearTimeout(y.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,y,R){let K=-1;y&&y>0&&(K=setTimeout(()=>{this._callbacks=this._callbacks.filter(pe=>pe.timeoutId!==K),e(this._didWork,this.getPendingTasks())},y)),this._callbacks.push({doneCb:e,timeoutId:K,updateCb:R})}whenStable(e,y,R){if(R&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,y,R),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,y,R){return[]}}return n.\u0275fac=function(e){return new(e||n)(Dr(Uo),Dr(t_),Dr(ny))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})(),t_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,y){this._applications.set(e,y)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,y=!0){return n_?.findTestabilityInTree(this,e,y)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Od=!1;let Rf=null;const ST=new Hr("AllowMultipleToken"),r_=new Hr("PlatformDestroyListeners"),ET=new Hr("appBootstrapListener");class CT{constructor(t,e){this.name=t,this.token=e}}function IT(n,t,e=[]){const y=`Platform: ${t}`,R=new Hr(y);return(K=[])=>{let pe=i_();if(!pe||pe.injector.get(ST,!1)){const Ne=[...e,...K,{provide:R,useValue:!0}];n?n(Ne):function I8(n){if(Rf&&!Rf.get(ST,!1))throw new qt(400,!1);Rf=n;const t=n.get(OT);(function DT(n){const t=n.get(_T,null);t&&t.forEach(e=>e())})(n)}(function LT(n=[],t){return Jl.create({name:t,providers:[{provide:bi,useValue:"platform"},{provide:r_,useValue:new Set([()=>Rf=null])},...n]})}(Ne,y))}return function O8(n){const t=i_();if(!t)throw new qt(401,!1);return t}()}}function i_(){return Rf?.get(OT)??null}let OT=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,y){const R=function RT(n,t){let e;return e="noop"===n?new S8:("zone.js"===n?void 0:n)||new Uo(t),e}(y?.ngZone,function PT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(y)),K=[{provide:Uo,useValue:R}];return R.run(()=>{const pe=Jl.create({providers:K,parent:this.injector,name:e.moduleType.name}),Ne=e.create(pe),Xe=Ne.injector.get(Oc,null);if(!Xe)throw new qt(402,!1);return R.runOutsideAngular(()=>{const ot=R.onError.subscribe({next:wt=>{Xe.handleError(wt)}});Ne.onDestroy(()=>{ry(this._modules,Ne),ot.unsubscribe()})}),function FT(n,t,e){try{const y=e();return O0(y)?y.catch(R=>{throw t.runOutsideAngular(()=>n.handleError(R)),R}):y}catch(y){throw t.runOutsideAngular(()=>n.handleError(y)),y}}(Xe,R,()=>{const ot=Ne.injector.get(ty);return ot.runInitializers(),ot.donePromise.then(()=>(function c3(n){Un(n,"Expected localeId to be defined"),"string"==typeof n&&(l3=n.toLowerCase().replace(/_/g,"-"))}(Ne.injector.get(rd,$p)||$p),this._moduleDoBootstrap(Ne),Ne))})})}bootstrapModule(e,y=[]){const R=NT({},y);return function C8(n,t,e){const y=new Px(e);return Promise.resolve(y)}(0,0,e).then(K=>this.bootstrapModuleFactory(K,R))}_moduleDoBootstrap(e){const y=e.injector.get(Y0);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(R=>y.bootstrap(R));else{if(!e.instance.ngDoBootstrap)throw new qt(-403,!1);e.instance.ngDoBootstrap(y)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qt(404,!1);this._modules.slice().forEach(y=>y.destroy()),this._destroyListeners.forEach(y=>y());const e=this._injector.get(r_,null);e&&(e.forEach(y=>y()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(Dr(Jl))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function NT(n,t){return Array.isArray(t)?t.reduce(NT,n):{...n,...t}}let Y0=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,y,R){this._zone=e,this._injector=y,this._exceptionHandler=R,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const K=new P(Ne=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Ne.next(this._stable),Ne.complete()})}),pe=new P(Ne=>{let Xe;this._zone.runOutsideAngular(()=>{Xe=this._zone.onStable.subscribe(()=>{Uo.assertNotInAngularZone(),Kx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Ne.next(!0))})})});const ot=this._zone.onUnstable.subscribe(()=>{Uo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Ne.next(!1)}))});return()=>{Xe.unsubscribe(),ot.unsubscribe()}});this.isStable=function yn(...n){const t=Zt(n),e=function $t(n,t){return"number"==typeof It(n)?n.pop():t}(n,1/0),y=n;return y.length?1===y.length?it(y[0]):At(e)(an(y,t)):xt}(K,pe.pipe(kn()))}bootstrap(e,y){const R=e instanceof ja;if(!this._injector.get(ty).done){!R&&function Al(n){const t=Si(n)||Go(n)||Xa(n);return null!==t&&t.standalone}(e);throw new qt(405,Od)}let pe;pe=R?e:this._injector.get(Xi).resolveComponentFactory(e),this.componentTypes.push(pe.componentType);const Ne=function D8(n){return n.isBoundToModule}(pe)?void 0:this._injector.get(Xp),ot=pe.create(Jl.NULL,[],y||pe.selector,Ne),wt=ot.location.nativeElement,Nt=ot.injector.get(kT,null);return Nt?.registerApplication(wt),ot.onDestroy(()=>{this.detachView(ot.hostView),ry(this.components,ot),Nt?.unregisterApplication(wt)}),this._loadComponent(ot),ot}tick(){if(this._runningTick)throw new qt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const y=e;this._views.push(y),y.attachToAppRef(this)}detachView(e){const y=e;ry(this._views,y),y.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const y=this._injector.get(ET,[]);y.push(...this._bootstrapListeners),y.forEach(R=>R(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ry(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new qt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(Dr(Uo),Dr(Yi),Dr(Oc))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ry(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Ff=(()=>{class n{}return n.__NG_ELEMENT_ID__=R8,n})();function R8(n){return function F8(n,t,e){if(Bs(n)&&!e){const y=zo(n.index,t);return new D0(y,y)}return 47&n.type?new D0(t[Jo],t):null}(uo(),kr(),16==(16&n))}class UT{constructor(){}supports(t){return Vv(t)}create(t){return new U8(t)}}const V8=(n,t)=>t;class U8{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||V8}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,y=this._removalsHead,R=0,K=null;for(;e||y;){const pe=!y||e&&e.currentIndex<GT(y,R,K)?e:y,Ne=GT(pe,R,K),Xe=pe.currentIndex;if(pe===y)R--,y=y._nextRemoved;else if(e=e._next,null==pe.previousIndex)R++;else{K||(K=[]);const ot=Ne-R,wt=Xe-R;if(ot!=wt){for(let hn=0;hn<ot;hn++){const An=hn<K.length?K[hn]:K[hn]=0,Nn=An+hn;wt<=Nn&&Nn<ot&&(K[hn]=An+1)}K[pe.previousIndex]=wt-ot}}Ne!==Xe&&t(pe,Ne,Xe)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Vv(t))throw new qt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let R,K,pe,e=this._itHead,y=!1;if(Array.isArray(t)){this.length=t.length;for(let Ne=0;Ne<this.length;Ne++)K=t[Ne],pe=this._trackByFn(Ne,K),null!==e&&Object.is(e.trackById,pe)?(y&&(e=this._verifyReinsertion(e,K,pe,Ne)),Object.is(e.item,K)||this._addIdentityChange(e,K)):(e=this._mismatch(e,K,pe,Ne),y=!0),e=e._next}else R=0,function y6(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let y;for(;!(y=e.next()).done;)t(y.value)}}(t,Ne=>{pe=this._trackByFn(R,Ne),null!==e&&Object.is(e.trackById,pe)?(y&&(e=this._verifyReinsertion(e,Ne,pe,R)),Object.is(e.item,Ne)||this._addIdentityChange(e,Ne)):(e=this._mismatch(e,Ne,pe,R),y=!0),e=e._next,R++}),this.length=R;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,y,R){let K;return null===t?K=this._itTail:(K=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,K,R)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(y,R))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,K,R)):t=this._addAfter(new H8(e,y),K,R),t}_verifyReinsertion(t,e,y,R){let K=null===this._unlinkedRecords?null:this._unlinkedRecords.get(y,null);return null!==K?t=this._reinsertAfter(K,t._prev,R):t.currentIndex!=R&&(t.currentIndex=R,this._addToMoves(t,R)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,y){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const R=t._prevRemoved,K=t._nextRemoved;return null===R?this._removalsHead=K:R._nextRemoved=K,null===K?this._removalsTail=R:K._prevRemoved=R,this._insertAfter(t,e,y),this._addToMoves(t,y),t}_moveAfter(t,e,y){return this._unlink(t),this._insertAfter(t,e,y),this._addToMoves(t,y),t}_addAfter(t,e,y){return this._insertAfter(t,e,y),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,y){const R=null===e?this._itHead:e._next;return t._next=R,t._prev=e,null===R?this._itTail=t:R._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new HT),this._linkedRecords.put(t),t.currentIndex=y,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,y=t._next;return null===e?this._itHead=y:e._next=y,null===y?this._itTail=e:y._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HT),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class H8{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G8{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let y;for(y=this._head;null!==y;y=y._nextDup)if((null===e||e<=y.currentIndex)&&Object.is(y.trackById,t))return y;return null}remove(t){const e=t._prevDup,y=t._nextDup;return null===e?this._head=y:e._nextDup=y,null===y?this._tail=e:y._prevDup=e,null===this._head}}class HT{constructor(){this.map=new Map}put(t){const e=t.trackById;let y=this.map.get(e);y||(y=new G8,this.map.set(e,y)),y.add(t)}get(t,e){const R=this.map.get(t);return R?R.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GT(n,t,e){const y=n.previousIndex;if(null===y)return y;let R=0;return e&&y<e.length&&(R=e[y]),y+t+R}class qT{constructor(){}supports(t){return t instanceof Map||_x(t)}create(){return new q8}}class q8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||_x(t)))throw new qt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(y,R)=>{if(e&&e.key===R)this._maybeAddToChanges(e,y),this._appendAfter=e,e=e._next;else{const K=this._getOrCreateRecordForKey(R,y);e=this._insertBeforeOrAppend(e,K)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let y=e;null!==y;y=y._nextRemoved)y===this._mapHead&&(this._mapHead=null),this._records.delete(y.key),y._nextRemoved=y._next,y.previousValue=y.currentValue,y.currentValue=null,y._prev=null,y._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const y=t._prev;return e._next=t,e._prev=y,t._prev=e,y&&(y._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const R=this._records.get(t);this._maybeAddToChanges(R,e);const K=R._prev,pe=R._next;return K&&(K._next=pe),pe&&(pe._prev=K),R._next=null,R._prev=null,R}const y=new W8(t);return this._records.set(t,y),y.currentValue=e,this._addToAdditions(y),y}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(y=>e(t[y],y))}}class W8{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WT(){return new $0([new UT])}let $0=(()=>{class n{constructor(e){this.factories=e}static create(e,y){if(null!=y){const R=y.factories.slice();e=e.concat(R)}return new n(e)}static extend(e){return{provide:n,useFactory:y=>n.create(e,y||WT()),deps:[[n,new Zs,new zc]]}}find(e){const y=this.factories.find(R=>R.supports(e));if(null!=y)return y;throw new qt(901,!1)}}return n.\u0275prov=Vn({token:n,providedIn:"root",factory:WT}),n})();function ZT(){return new Qp([new qT])}let Qp=(()=>{class n{constructor(e){this.factories=e}static create(e,y){if(y){const R=y.factories.slice();e=e.concat(R)}return new n(e)}static extend(e){return{provide:n,useFactory:y=>n.create(e,y||ZT()),deps:[[n,new Zs,new zc]]}}find(e){const y=this.factories.find(R=>R.supports(e));if(y)return y;throw new qt(901,!1)}}return n.\u0275prov=Vn({token:n,providedIn:"root",factory:ZT}),n})();const $8=IT(null,"core",[]);let X8=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(Dr(Y0))},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({}),n})(),c_=null;function Pd(){return c_}class Q8{}const ha=new Hr("DocumentToken");let u_=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:function(){return function eD(){return Dr(YT)}()},providedIn:"platform"}),n})();const tD=new Hr("Location Initialized");let YT=(()=>{class n extends u_{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pd().getBaseHref(this._doc)}onPopState(e){const y=Pd().getGlobalEventTarget(this._doc,"window");return y.addEventListener("popstate",e,!1),()=>y.removeEventListener("popstate",e)}onHashChange(e){const y=Pd().getGlobalEventTarget(this._doc,"window");return y.addEventListener("hashchange",e,!1),()=>y.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,y,R){$T()?this._history.pushState(e,y,R):this._location.hash=R}replaceState(e,y,R){$T()?this._history.replaceState(e,y,R):this._location.hash=R}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(Dr(ha))},n.\u0275prov=Vn({token:n,factory:function(){return function nD(){return new YT(Dr(ha))}()},providedIn:"platform"}),n})();function $T(){return!!window.history.pushState}function d_(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function XT(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Rd(n){return n&&"?"!==n[0]?"?"+n:n}let zh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:function(){return gi(JT)},providedIn:"root"}),n})();const KT=new Hr("appBaseHref");let JT=(()=>{class n extends zh{constructor(e,y){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=y??this._platformLocation.getBaseHrefFromDOM()??gi(ha).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return d_(this._baseHref,e)}path(e=!1){const y=this._platformLocation.pathname+Rd(this._platformLocation.search),R=this._platformLocation.hash;return R&&e?`${y}${R}`:y}pushState(e,y,R,K){const pe=this.prepareExternalUrl(R+Rd(K));this._platformLocation.pushState(e,y,pe)}replaceState(e,y,R,K){const pe=this.prepareExternalUrl(R+Rd(K));this._platformLocation.replaceState(e,y,pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(Dr(u_),Dr(KT,8))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rD=(()=>{class n extends zh{constructor(e,y){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=y&&(this._baseHref=y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let y=this._platformLocation.hash;return null==y&&(y="#"),y.length>0?y.substring(1):y}prepareExternalUrl(e){const y=d_(this._baseHref,e);return y.length>0?"#"+y:y}pushState(e,y,R,K){let pe=this.prepareExternalUrl(R+Rd(K));0==pe.length&&(pe=this._platformLocation.pathname),this._platformLocation.pushState(e,y,pe)}replaceState(e,y,R,K){let pe=this.prepareExternalUrl(R+Rd(K));0==pe.length&&(pe=this._platformLocation.pathname),this._platformLocation.replaceState(e,y,pe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(Dr(u_),Dr(KT,8))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})(),f_=(()=>{class n{constructor(e){this._subject=new ui,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const y=this._locationStrategy.getBaseHref();this._basePath=function aD(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(XT(QT(y))),this._locationStrategy.onPopState(R=>{this._subject.emit({url:this.path(!0),pop:!0,state:R.state,type:R.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,y=""){return this.path()==this.normalize(e+Rd(y))}normalize(e){return n.stripTrailingSlash(function oD(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,QT(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,y="",R=null){this._locationStrategy.pushState(R,"",e,y),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Rd(y)),R)}replaceState(e,y="",R=null){this._locationStrategy.replaceState(R,"",e,y),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Rd(y)),R)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(y=>{this._notifyUrlChangeListeners(y.url,y.state)})),()=>{const y=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",y){this._urlChangeListeners.forEach(R=>R(e,y))}subscribe(e,y,R){return this._subject.subscribe({next:e,error:y,complete:R})}}return n.normalizeQueryParams=Rd,n.joinWithSlash=d_,n.stripTrailingSlash=XT,n.\u0275fac=function(e){return new(e||n)(Dr(zh))},n.\u0275prov=Vn({token:n,factory:function(){return function iD(){return new f_(Dr(zh))}()},providedIn:"root"}),n})();function QT(n){return n.replace(/\/index.html$/,"")}const w_=/\s+/,lM=[];let cM=(()=>{class n{constructor(e,y,R,K){this._iterableDiffers=e,this._keyValueDiffers=y,this._ngEl=R,this._renderer=K,this.initialClasses=lM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(w_):lM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(w_):e}ngDoCheck(){for(const y of this.initialClasses)this._updateState(y,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const y of e)this._updateState(y,!0);else if(null!=e)for(const y of Object.keys(e))this._updateState(y,Boolean(e[y]));this._applyStateDiff()}_updateState(e,y){const R=this.stateMap.get(e);void 0!==R?(R.enabled!==y&&(R.changed=!0,R.enabled=y),R.touched=!0):this.stateMap.set(e,{enabled:y,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const y=e[0],R=e[1];R.changed?(this._toggleClass(y,R.enabled),R.changed=!1):R.touched||(R.enabled&&this._toggleClass(y,!1),this.stateMap.delete(y)),R.touched=!1}}_toggleClass(e,y){(e=e.trim()).length>0&&e.split(w_).forEach(R=>{y?this._renderer.addClass(this._ngEl.nativeElement,R):this._renderer.removeClass(this._ngEl.nativeElement,R)})}}return n.\u0275fac=function(e){return new(e||n)(or($0),or(Qp),or(ci),or(La))},n.\u0275dir=Vr({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class qD{constructor(t,e,y,R){this.$implicit=t,this.ngForOf=e,this.index=y,this.count=R}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fM=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,y,R){this._viewContainer=e,this._template=y,this._differs=R,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const y=this._viewContainer;e.forEachOperation((R,K,pe)=>{if(null==R.previousIndex)y.createEmbeddedView(this._template,new qD(R.item,this._ngForOf,-1,-1),null===pe?void 0:pe);else if(null==pe)y.remove(null===K?void 0:K);else if(null!==K){const Ne=y.get(K);y.move(Ne,pe),hM(Ne,R)}});for(let R=0,K=y.length;R<K;R++){const Ne=y.get(R).context;Ne.index=R,Ne.count=K,Ne.ngForOf=this._ngForOf}e.forEachIdentityChange(R=>{hM(y.get(R.currentIndex),R)})}static ngTemplateContextGuard(e,y){return!0}}return n.\u0275fac=function(e){return new(e||n)(or(Wc),or(qc),or($0))},n.\u0275dir=Vr({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function hM(n,t){n.context.$implicit=t.item}let my=(()=>{class n{constructor(e,y){this._viewContainer=e,this._context=new ZD,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=y}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,y){return!0}}return n.\u0275fac=function(e){return new(e||n)(or(Wc),or(qc))},n.\u0275dir=Vr({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ZD{constructor(){this.$implicit=null,this.ngIf=null}}function pM(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Cn(t)}'.`)}class T_{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let J0=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const y=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),y}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const y of this._defaultViews)y.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vr({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),M_=(()=>{class n{constructor(e,y,R){this.ngSwitch=R,R._addCase(),this._view=new T_(e,y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(or(Wc),or(qc),or(J0,9))},n.\u0275dir=Vr({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),mM=(()=>{class n{constructor(e,y,R){R._addDefault(new T_(e,y))}}return n.\u0275fac=function(e){return new(e||n)(or(Wc),or(qc),or(J0,9))},n.\u0275dir=Vr({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),vM=(()=>{class n{constructor(e,y,R){this._ngEl=e,this._differs=y,this._renderer=R,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,y){const[R,K]=e.split("."),pe=-1===R.indexOf("-")?void 0:Il.DashCase;null!=y?this._renderer.setStyle(this._ngEl.nativeElement,R,K?`${y}${K}`:y,pe):this._renderer.removeStyle(this._ngEl.nativeElement,R,pe)}_applyChanges(e){e.forEachRemovedItem(y=>this._setStyle(y.key,null)),e.forEachAddedItem(y=>this._setStyle(y.key,y.currentValue)),e.forEachChangedItem(y=>this._setStyle(y.key,y.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(or(ci),or(Qp),or(La))},n.\u0275dir=Vr({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),gy=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const y=this._viewContainerRef;if(this._viewRef&&y.remove(y.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:R,ngTemplateOutletContext:K,ngTemplateOutletInjector:pe}=this;this._viewRef=y.createEmbeddedView(R,K,pe?{injector:pe}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(or(Wc))},n.\u0275dir=Vr({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Qi]}),n})(),Nd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({}),n})();const xM="browser";let bI=(()=>{class n{}return n.\u0275prov=Vn({token:n,providedIn:"root",factory:()=>new wI(Dr(ha),window)}),n})();class wI{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function TI(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const y=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let R=y.currentNode;for(;R;){const K=R.shadowRoot;if(K){const pe=K.getElementById(t)||K.querySelector(`[name="${t}"]`);if(pe)return pe}R=y.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),y=e.left+this.window.pageXOffset,R=e.top+this.window.pageYOffset,K=this.offset();this.window.scrollTo(y-K[0],R-K[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=_M(this.window.history)||_M(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _M(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class KI extends Q8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class C_ extends KI{static makeCurrent(){!function J8(n){c_||(c_=n)}(new C_)}onAndCancel(t,e,y){return t.addEventListener(e,y,!1),()=>{t.removeEventListener(e,y,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function JI(){return eg=eg||document.querySelector("base"),eg?eg.getAttribute("href"):null}();return null==e?null:function QI(n){xy=xy||document.createElement("a"),xy.setAttribute("href",n);const t=xy.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){eg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function HD(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const y=e.indexOf("="),[R,K]=-1==y?[e,""]:[e.slice(0,y),e.slice(y+1)];if(R.trim()===t)return decodeURIComponent(K)}return null}(document.cookie,t)}}let xy,eg=null;const AM=new Hr("TRANSITION_ID"),t7=[{provide:ey,useFactory:function e7(n,t,e){return()=>{e.get(ty).donePromise.then(()=>{const y=Pd(),R=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let K=0;K<R.length;K++)y.remove(R[K])})}},deps:[AM,ha,Jl],multi:!0}];let r7=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();const _y=new Hr("EventManagerPlugins");let by=(()=>{class n{constructor(e,y){this._zone=y,this._eventNameToPlugin=new Map,e.forEach(R=>{R.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,y,R){return this._findPluginFor(y).addEventListener(e,y,R)}addGlobalEventListener(e,y,R){return this._findPluginFor(y).addGlobalEventListener(e,y,R)}getZone(){return this._zone}_findPluginFor(e){const y=this._eventNameToPlugin.get(e);if(y)return y;const R=this._plugins;for(let K=0;K<R.length;K++){const pe=R[K];if(pe.supports(e))return this._eventNameToPlugin.set(e,pe),pe}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(Dr(_y),Dr(Uo))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();class kM{constructor(t){this._doc=t}addGlobalEventListener(t,e,y){const R=Pd().getGlobalEventTarget(this._doc,t);if(!R)throw new Error(`Unsupported event target ${R} for event ${e}`);return this.addEventListener(R,e,y)}}let SM=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const y of e)1===this.changeUsageCount(y,1)&&this.onStyleAdded(y)}removeStyles(e){for(const y of e)0===this.changeUsageCount(y,-1)&&this.onStyleRemoved(y)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,y){const R=this.usageCount;let K=R.get(e)??0;return K+=y,K>0?R.set(e,K):R.delete(e),K}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})(),tg=(()=>{class n extends SM{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const y of this.hostNodes)this.addStyleToHost(y,e)}onStyleRemoved(e){const y=this.styleRef;y.get(e)?.forEach(K=>K.remove()),y.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const y of this.getAllStyles())this.addStyleToHost(e,y)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,y){const R=this.doc.createElement("style");R.textContent=y,e.appendChild(R);const K=this.styleRef.get(y);K?K.push(R):this.styleRef.set(y,[R])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(Dr(ha))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();const D_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},I_=/%COMP%/g,DM=new Hr("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function IM(n,t){return t.flat(100).map(e=>e.replace(I_,n))}function LM(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let wy=(()=>{class n{constructor(e,y,R,K){this.eventManager=e,this.sharedStylesHost=y,this.appId=R,this.removeStylesOnCompDestory=K,this.rendererByCompId=new Map,this.defaultRenderer=new L_(e)}createRenderer(e,y){if(!e||!y)return this.defaultRenderer;const R=this.getOrCreateRenderer(e,y);return R instanceof RM?R.applyToHost(e):R instanceof O_&&R.applyStyles(),R}getOrCreateRenderer(e,y){const R=this.rendererByCompId;let K=R.get(y.id);if(!K){const pe=this.eventManager,Ne=this.sharedStylesHost,Xe=this.removeStylesOnCompDestory;switch(y.encapsulation){case xs.Emulated:K=new RM(pe,Ne,y,this.appId,Xe);break;case xs.ShadowDom:return new u7(pe,Ne,e,y);default:K=new O_(pe,Ne,y,Xe)}K.onDestroy=()=>R.delete(y.id),R.set(y.id,K)}return K}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(Dr(by),Dr(tg),Dr(W0),Dr(DM))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();class L_{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(D_[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(PM(t)?t.content:t).appendChild(e)}insertBefore(t,e,y){t&&(PM(t)?t.content:t).insertBefore(e,y)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let y="string"==typeof t?document.querySelector(t):t;if(!y)throw new Error(`The selector "${t}" did not match any elements`);return e||(y.textContent=""),y}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,y,R){if(R){e=R+":"+e;const K=D_[R];K?t.setAttributeNS(K,e,y):t.setAttribute(e,y)}else t.setAttribute(e,y)}removeAttribute(t,e,y){if(y){const R=D_[y];R?t.removeAttributeNS(R,e):t.removeAttribute(`${y}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,y,R){R&(Il.DashCase|Il.Important)?t.style.setProperty(e,y,R&Il.Important?"important":""):t.style[e]=y}removeStyle(t,e,y){y&Il.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,y){t[e]=y}setValue(t,e){t.nodeValue=e}listen(t,e,y){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,LM(y)):this.eventManager.addEventListener(t,e,LM(y))}}function PM(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class u7 extends L_{constructor(t,e,y,R){super(t),this.sharedStylesHost=e,this.hostEl=y,this.shadowRoot=y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const K=IM(R.id,R.styles);for(const pe of K){const Ne=document.createElement("style");Ne.textContent=pe,this.shadowRoot.appendChild(Ne)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,y){return super.insertBefore(this.nodeOrShadowRoot(t),e,y)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class O_ extends L_{constructor(t,e,y,R,K=y.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=R,this.rendererUsageCount=0,this.styles=IM(K,y.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class RM extends O_{constructor(t,e,y,R,K){const pe=R+"-"+y.id;super(t,e,y,K,pe),this.contentAttr=function s7(n){return"_ngcontent-%COMP%".replace(I_,n)}(pe),this.hostAttr=function l7(n){return"_nghost-%COMP%".replace(I_,n)}(pe)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const y=super.createElement(t,e);return super.setAttribute(y,this.contentAttr,""),y}}let d7=(()=>{class n extends kM{constructor(e){super(e)}supports(e){return!0}addEventListener(e,y,R){return e.addEventListener(y,R,!1),()=>this.removeEventListener(e,y,R)}removeEventListener(e,y,R){return e.removeEventListener(y,R)}}return n.\u0275fac=function(e){return new(e||n)(Dr(ha))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();const FM=["alt","control","meta","shift"],f7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let p7=(()=>{class n extends kM{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,y,R){const K=n.parseEventName(y),pe=n.eventCallback(K.fullKey,R,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pd().onAndCancel(e,K.domEventName,pe))}static parseEventName(e){const y=e.toLowerCase().split("."),R=y.shift();if(0===y.length||"keydown"!==R&&"keyup"!==R)return null;const K=n._normalizeKey(y.pop());let pe="",Ne=y.indexOf("code");if(Ne>-1&&(y.splice(Ne,1),pe="code."),FM.forEach(ot=>{const wt=y.indexOf(ot);wt>-1&&(y.splice(wt,1),pe+=ot+".")}),pe+=K,0!=y.length||0===K.length)return null;const Xe={};return Xe.domEventName=R,Xe.fullKey=pe,Xe}static matchEventFullKeyCode(e,y){let R=f7[e.key]||e.key,K="";return y.indexOf("code.")>-1&&(R=e.code,K="code."),!(null==R||!R)&&(R=R.toLowerCase()," "===R?R="space":"."===R&&(R="dot"),FM.forEach(pe=>{pe!==R&&(0,h7[pe])(e)&&(K+=pe+".")}),K+=R,K===y)}static eventCallback(e,y,R){return K=>{n.matchEventFullKeyCode(K,e)&&R.runGuarded(()=>y(K))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(Dr(ha))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();const y7=IT($8,"browser",[{provide:Xx,useValue:xM},{provide:_T,useValue:function m7(){C_.makeCurrent()},multi:!0},{provide:ha,useFactory:function v7(){return function bo(n){yd=n}(document),document},deps:[]}]),BM=new Hr(""),jM=[{provide:ny,useClass:class n7{addToWindow(t){Vi.getAngularTestability=(y,R=!0)=>{const K=t.findTestabilityInTree(y,R);if(null==K)throw new Error("Could not find testability for element.");return K},Vi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Vi.getAllAngularRootElements=()=>t.getAllRootElements(),Vi.frameworkStabilizers||(Vi.frameworkStabilizers=[]),Vi.frameworkStabilizers.push(y=>{const R=Vi.getAllAngularTestabilities();let K=R.length,pe=!1;const Ne=function(Xe){pe=pe||Xe,K--,0==K&&y(pe)};R.forEach(function(Xe){Xe.whenStable(Ne)})})}findTestabilityInTree(t,e,y){return null==e?null:t.getTestability(e)??(y?Pd().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:kT,useClass:e_,deps:[Uo,t_,ny]},{provide:e_,useClass:e_,deps:[Uo,t_,ny]}],VM=[{provide:bi,useValue:"root"},{provide:Oc,useFactory:function g7(){return new Oc},deps:[]},{provide:_y,useClass:d7,multi:!0,deps:[ha,Uo,Xx]},{provide:_y,useClass:p7,multi:!0,deps:[ha]},{provide:wy,useClass:wy,deps:[by,tg,W0,DM]},{provide:Wa,useExisting:wy},{provide:SM,useExisting:tg},{provide:tg,useClass:tg,deps:[ha]},{provide:by,useClass:by,deps:[_y,Uo]},{provide:class MI{},useClass:r7,deps:[]},[]];let UM=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:W0,useValue:e.appId},{provide:AM,useExisting:W0},t7]}}}return n.\u0275fac=function(e){return new(e||n)(Dr(BM,12))},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({providers:[...VM,...jM],imports:[Nd,X8]}),n})(),HM=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(Dr(ha))},n.\u0275prov=Vn({token:n,factory:function(e){let y=null;return y=e?new e:function _7(){return new HM(Dr(ha))}(),y},providedIn:"root"}),n})();typeof window<"u"&&window;let F_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:function(e){let y=null;return y=e?new(e||n):Dr(WM),y},providedIn:"root"}),n})(),WM=(()=>{class n extends F_{constructor(e){super(),this._doc=e}sanitize(e,y){if(null==y)return null;switch(e){case ge.NONE:return y;case ge.HTML:return jc(y,"HTML")?Xl(y):C(this._doc,String(y)).toString();case ge.STYLE:return jc(y,"Style")?Xl(y):y;case ge.SCRIPT:if(jc(y,"Script"))return Xl(y);throw new Error("unsafe value used in a script context");case ge.URL:return jc(y,"URL")?Xl(y):mh(String(y));case ge.RESOURCE_URL:if(jc(y,"ResourceURL"))return Xl(y);throw new Error(`unsafe value used in a resource URL context (see ${Kt})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${Kt})`)}}bypassSecurityTrustHtml(e){return function _d(n){return new rx(n)}(e)}bypassSecurityTrustStyle(e){return function d0(n){return new ix(n)}(e)}bypassSecurityTrustScript(e){return function vf(n){return new ox(n)}(e)}bypassSecurityTrustUrl(e){return function hv(n){return new dv(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Da(n){return new fv(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(Dr(ha))},n.\u0275prov=Vn({token:n,factory:function(e){let y=null;return y=e?new e:function A7(n){return new WM(n.get(ha))}(Dr(Jl)),y},providedIn:"root"}),n})();function vi(...n){return an(n,Zt(n))}class fu extends q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:y}=this;if(t)throw e;return this._throwIfClosed(),y}next(t){super.next(this._value=t)}}const Ty=ae(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:k7}=Array,{getPrototypeOf:S7,prototype:E7,keys:C7}=Object;function ZM(n){if(1===n.length){const t=n[0];if(k7(t))return{args:t,keys:null};if(function D7(n){return n&&"object"==typeof n&&S7(n)===E7}(t)){const e=C7(t);return{args:e.map(y=>t[y]),keys:e}}}return{args:n,keys:null}}const{isArray:I7}=Array;function YM(n){return ne(t=>function L7(n,t){return I7(t)?n(...t):n(t)}(n,t))}function $M(n,t){return n.reduce((e,y,R)=>(e[y]=t[R],e),{})}function N_(...n){const t=Zt(n),e=Wt(n),{args:y,keys:R}=ZM(n);if(0===y.length)return an([],t);const K=new P(function O7(n,t,e=k){return y=>{XM(t,()=>{const{length:R}=n,K=new Array(R);let pe=R,Ne=R;for(let Xe=0;Xe<R;Xe++)XM(t,()=>{const ot=an(n[Xe],t);let wt=!1;ot.subscribe($(y,Nt=>{K[Xe]=Nt,wt||(wt=!0,Ne--),Ne||y.next(e(K.slice()))},()=>{--pe||y.complete()}))},y)},y)}}(y,t,R?pe=>$M(R,pe):k));return e?K.pipe(YM(e)):K}function XM(n,t,e){n?dt(e,n,t):t()}function My(...n){return function P7(){return At(1)}()(an(n,Zt(n)))}function KM(n){return new P(t=>{it(n()).subscribe(t)})}function tm(n,t){const e=xo(n)?n:()=>n,y=R=>R.error(e());return new P(t?R=>t.schedule(y,0,R):y)}function z_(){return Z((n,t)=>{let e=null;n._refCount++;const y=$(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const R=n._connection,K=e;e=null,R&&(!K||R===K)&&R.unsubscribe(),t.unsubscribe()});n.subscribe(y),y.closed||(e=n.connect())})}class JM extends P{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,H(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new D;const e=this.getSubject();t.add(this.source.subscribe($(e,void 0,()=>{this._teardown(),e.complete()},y=>{this._teardown(),e.error(y)},()=>this._teardown()))),t.closed&&(this._connection=null,t=D.EMPTY)}return t}refCount(){return z_()(this)}}function Nu(n,t){return Z((e,y)=>{let R=null,K=0,pe=!1;const Ne=()=>pe&&!R&&y.complete();e.subscribe($(y,Xe=>{R?.unsubscribe();let ot=0;const wt=K++;it(n(Xe,wt)).subscribe(R=$(y,Nt=>y.next(t?t(Xe,Nt,wt,ot++):Nt),()=>{R=null,Ne()}))},()=>{pe=!0,Ne()}))})}function zf(n){return n<=0?()=>xt:Z((t,e)=>{let y=0;t.subscribe($(e,R=>{++y<=n&&(e.next(R),n<=y&&e.complete())}))})}function nm(...n){const t=Zt(n);return Z((e,y)=>{(t?My(n,e,t):My(n,e)).subscribe(y)})}function zu(n,t){return Z((e,y)=>{let R=0;e.subscribe($(y,K=>n.call(t,K,R++)&&y.next(K)))})}function Ay(n){return Z((t,e)=>{let y=!1;t.subscribe($(e,R=>{y=!0,e.next(R)},()=>{y||e.next(n),e.complete()}))})}function QM(n=R7){return Z((t,e)=>{let y=!1;t.subscribe($(e,R=>{y=!0,e.next(R)},()=>y?e.complete():e.error(n())))})}function R7(){return new Ty}function Bf(n,t){const e=arguments.length>=2;return y=>y.pipe(n?zu((R,K)=>n(R,K,y)):k,zf(1),e?Ay(t):QM(()=>new Ty))}function jf(n,t){return xo(t)?bt(n,t,1):bt(n,1)}function Ls(n,t,e){const y=xo(n)||t||e?{next:n,error:t,complete:e}:n;return y?Z((R,K)=>{var pe;null===(pe=y.subscribe)||void 0===pe||pe.call(y);let Ne=!0;R.subscribe($(K,Xe=>{var ot;null===(ot=y.next)||void 0===ot||ot.call(y,Xe),K.next(Xe)},()=>{var Xe;Ne=!1,null===(Xe=y.complete)||void 0===Xe||Xe.call(y),K.complete()},Xe=>{var ot;Ne=!1,null===(ot=y.error)||void 0===ot||ot.call(y,Xe),K.error(Xe)},()=>{var Xe,ot;Ne&&(null===(Xe=y.unsubscribe)||void 0===Xe||Xe.call(y)),null===(ot=y.finalize)||void 0===ot||ot.call(y)}))}):k}function zd(n){return Z((t,e)=>{let K,y=null,R=!1;y=t.subscribe($(e,void 0,void 0,pe=>{K=it(n(pe,zd(n)(t))),y?(y.unsubscribe(),y=null,K.subscribe(e)):R=!0})),R&&(y.unsubscribe(),y=null,K.subscribe(e))})}function e5(n,t){return Z(function F7(n,t,e,y,R){return(K,pe)=>{let Ne=e,Xe=t,ot=0;K.subscribe($(pe,wt=>{const Nt=ot++;Xe=Ne?n(Xe,wt,Nt):(Ne=!0,wt),y&&pe.next(Xe)},R&&(()=>{Ne&&pe.next(Xe),pe.complete()})))}}(n,t,arguments.length>=2,!0))}function B_(n){return n<=0?()=>xt:Z((t,e)=>{let y=[];t.subscribe($(e,R=>{y.push(R),n<y.length&&y.shift()},()=>{for(const R of y)e.next(R);e.complete()},void 0,()=>{y=null}))})}function t5(n,t){const e=arguments.length>=2;return y=>y.pipe(n?zu((R,K)=>n(R,K,y)):k,B_(1),e?Ay(t):QM(()=>new Ty))}function ky(n){return Z((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const zi="primary",ng=Symbol("RouteTitle");class B7{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function rm(n){return new B7(n)}function j7(n,t,e){const y=e.path.split("/");if(y.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||y.length<n.length))return null;const R={};for(let K=0;K<y.length;K++){const pe=y[K],Ne=n[K];if(pe.startsWith(":"))R[pe.substring(1)]=Ne;else if(pe!==Ne.path)return null}return{consumed:n.slice(0,y.length),posParams:R}}function id(n,t){const e=n?Object.keys(n):void 0,y=t?Object.keys(t):void 0;if(!e||!y||e.length!=y.length)return!1;let R;for(let K=0;K<e.length;K++)if(R=e[K],!n5(n[R],t[R]))return!1;return!0}function n5(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),y=[...t].sort();return e.every((R,K)=>y[K]===R)}return n===t}function r5(n){return Array.prototype.concat.apply([],n)}function i5(n){return n.length>0?n[n.length-1]:null}function Pl(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Vf(n){return wx(n)?n:O0(n)?an(Promise.resolve(n)):vi(n)}const Sy=!1,U7={exact:function s5(n,t,e){if(!Bh(n.segments,t.segments)||!Ey(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const y in t.children)if(!n.children[y]||!s5(n.children[y],t.children[y],e))return!1;return!0},subset:l5},o5={exact:function H7(n,t){return id(n,t)},subset:function G7(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>n5(n[e],t[e]))},ignored:()=>!0};function a5(n,t,e){return U7[e.paths](n.root,t.root,e.matrixParams)&&o5[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function l5(n,t,e){return c5(n,t,t.segments,e)}function c5(n,t,e,y){if(n.segments.length>e.length){const R=n.segments.slice(0,e.length);return!(!Bh(R,e)||t.hasChildren()||!Ey(R,e,y))}if(n.segments.length===e.length){if(!Bh(n.segments,e)||!Ey(n.segments,e,y))return!1;for(const R in t.children)if(!n.children[R]||!l5(n.children[R],t.children[R],y))return!1;return!0}{const R=e.slice(0,n.segments.length),K=e.slice(n.segments.length);return!!(Bh(n.segments,R)&&Ey(n.segments,R,y)&&n.children[zi])&&c5(n.children[zi],t,K,y)}}function Ey(n,t,e){return t.every((y,R)=>o5[e](n[R].parameters,y.parameters))}class Uf{constructor(t=new oo([],{}),e={},y=null){this.root=t,this.queryParams=e,this.fragment=y}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rm(this.queryParams)),this._queryParamMap}toString(){return Z7.serialize(this)}}class oo{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Pl(e,(y,R)=>y.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cy(this)}}class rg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=rm(this.parameters)),this._parameterMap}toString(){return f5(this)}}function Bh(n,t){return n.length===t.length&&n.every((e,y)=>e.path===t[y].path)}let ig=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:function(){return new j_},providedIn:"root"}),n})();class j_{parse(t){const e=new n9(t);return new Uf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${og(t.root,!0)}`,y=function X7(n){const t=Object.keys(n).map(e=>{const y=n[e];return Array.isArray(y)?y.map(R=>`${Dy(e)}=${Dy(R)}`).join("&"):`${Dy(e)}=${Dy(y)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${y}${"string"==typeof t.fragment?`#${function Y7(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Z7=new j_;function Cy(n){return n.segments.map(t=>f5(t)).join("/")}function og(n,t){if(!n.hasChildren())return Cy(n);if(t){const e=n.children[zi]?og(n.children[zi],!1):"",y=[];return Pl(n.children,(R,K)=>{K!==zi&&y.push(`${K}:${og(R,!1)}`)}),y.length>0?`${e}(${y.join("//")})`:e}{const e=function W7(n,t){let e=[];return Pl(n.children,(y,R)=>{R===zi&&(e=e.concat(t(y,R)))}),Pl(n.children,(y,R)=>{R!==zi&&(e=e.concat(t(y,R)))}),e}(n,(y,R)=>R===zi?[og(n.children[zi],!1)]:[`${R}:${og(y,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zi]?`${Cy(n)}/${e[0]}`:`${Cy(n)}/(${e.join("//")})`}}function u5(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dy(n){return u5(n).replace(/%3B/gi,";")}function V_(n){return u5(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iy(n){return decodeURIComponent(n)}function d5(n){return Iy(n.replace(/\+/g,"%20"))}function f5(n){return`${V_(n.path)}${function $7(n){return Object.keys(n).map(t=>`;${V_(t)}=${V_(n[t])}`).join("")}(n.parameters)}`}const K7=/^[^\/()?;=#]+/;function Ly(n){const t=n.match(K7);return t?t[0]:""}const J7=/^[^=?&#]+/,e9=/^[^&#]+/;class n9{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oo([],{}):new oo([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let y={};return this.peekStartsWith("(")&&(y=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(y[zi]=new oo(t,e)),y}parseSegment(){const t=Ly(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new qt(4009,Sy);return this.capture(t),new rg(Iy(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ly(this.remaining);if(!e)return;this.capture(e);let y="";if(this.consumeOptional("=")){const R=Ly(this.remaining);R&&(y=R,this.capture(y))}t[Iy(e)]=Iy(y)}parseQueryParam(t){const e=function Q7(n){const t=n.match(J7);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let y="";if(this.consumeOptional("=")){const pe=function t9(n){const t=n.match(e9);return t?t[0]:""}(this.remaining);pe&&(y=pe,this.capture(y))}const R=d5(e),K=d5(y);if(t.hasOwnProperty(R)){let pe=t[R];Array.isArray(pe)||(pe=[pe],t[R]=pe),pe.push(K)}else t[R]=K}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const y=Ly(this.remaining),R=this.remaining[y.length];if("/"!==R&&")"!==R&&";"!==R)throw new qt(4010,Sy);let K;y.indexOf(":")>-1?(K=y.slice(0,y.indexOf(":")),this.capture(K),this.capture(":")):t&&(K=zi);const pe=this.parseChildren();e[K]=1===Object.keys(pe).length?pe[zi]:new oo([],pe),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new qt(4011,Sy)}}function U_(n){return n.segments.length>0?new oo([],{[zi]:n}):n}function Oy(n){const t={};for(const y of Object.keys(n.children)){const K=Oy(n.children[y]);(K.segments.length>0||K.hasChildren())&&(t[y]=K)}return function r9(n){if(1===n.numberOfChildren&&n.children[zi]){const t=n.children[zi];return new oo(n.segments.concat(t.segments),t.children)}return n}(new oo(n.segments,t))}function jh(n){return n instanceof Uf}const H_=!1;function i9(n,t,e,y,R){if(0===e.length)return im(t.root,t.root,t.root,y,R);const K=function v5(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new g5(!0,0,n);let t=0,e=!1;const y=n.reduce((R,K,pe)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Ne={};return Pl(K.outlets,(Xe,ot)=>{Ne[ot]="string"==typeof Xe?Xe.split("/"):Xe}),[...R,{outlets:Ne}]}if(K.segmentPath)return[...R,K.segmentPath]}return"string"!=typeof K?[...R,K]:0===pe?(K.split("/").forEach((Ne,Xe)=>{0==Xe&&"."===Ne||(0==Xe&&""===Ne?e=!0:".."===Ne?t++:""!=Ne&&R.push(Ne))}),R):[...R,K]},[]);return new g5(e,t,y)}(e);return K.toRoot()?im(t.root,t.root,new oo([],{}),y,R):function pe(Xe){const ot=function a9(n,t,e,y){if(n.isAbsolute)return new om(t.root,!0,0);if(-1===y)return new om(e,e===t.root,0);return function y5(n,t,e){let y=n,R=t,K=e;for(;K>R;){if(K-=R,y=y.parent,!y)throw new qt(4005,H_&&"Invalid number of '../'");R=y.segments.length}return new om(y,!1,R-K)}(e,y+(ag(n.commands[0])?0:1),n.numberOfDoubleDots)}(K,t,n.snapshot?._urlSegment,Xe),wt=ot.processChildren?am(ot.segmentGroup,ot.index,K.commands):G_(ot.segmentGroup,ot.index,K.commands);return im(t.root,ot.segmentGroup,wt,y,R)}(n.snapshot?._lastPathIndex)}function ag(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sg(n){return"object"==typeof n&&null!=n&&n.outlets}function im(n,t,e,y,R){let pe,K={};y&&Pl(y,(Xe,ot)=>{K[ot]=Array.isArray(Xe)?Xe.map(wt=>`${wt}`):`${Xe}`}),pe=n===t?e:m5(n,t,e);const Ne=U_(Oy(pe));return new Uf(Ne,K,R)}function m5(n,t,e){const y={};return Pl(n.children,(R,K)=>{y[K]=R===t?e:m5(R,t,e)}),new oo(n.segments,y)}class g5{constructor(t,e,y){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=y,t&&y.length>0&&ag(y[0]))throw new qt(4003,H_&&"Root segment cannot have matrix parameters");const R=y.find(sg);if(R&&R!==i5(y))throw new qt(4004,H_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class om{constructor(t,e,y){this.segmentGroup=t,this.processChildren=e,this.index=y}}function G_(n,t,e){if(n||(n=new oo([],{})),0===n.segments.length&&n.hasChildren())return am(n,t,e);const y=function l9(n,t,e){let y=0,R=t;const K={match:!1,pathIndex:0,commandIndex:0};for(;R<n.segments.length;){if(y>=e.length)return K;const pe=n.segments[R],Ne=e[y];if(sg(Ne))break;const Xe=`${Ne}`,ot=y<e.length-1?e[y+1]:null;if(R>0&&void 0===Xe)break;if(Xe&&ot&&"object"==typeof ot&&void 0===ot.outlets){if(!_5(Xe,ot,pe))return K;y+=2}else{if(!_5(Xe,{},pe))return K;y++}R++}return{match:!0,pathIndex:R,commandIndex:y}}(n,t,e),R=e.slice(y.commandIndex);if(y.match&&y.pathIndex<n.segments.length){const K=new oo(n.segments.slice(0,y.pathIndex),{});return K.children[zi]=new oo(n.segments.slice(y.pathIndex),n.children),am(K,0,R)}return y.match&&0===R.length?new oo(n.segments,{}):y.match&&!n.hasChildren()?q_(n,t,e):y.match?am(n,0,R):q_(n,t,e)}function am(n,t,e){if(0===e.length)return new oo(n.segments,{});{const y=function s9(n){return sg(n[0])?n[0].outlets:{[zi]:n}}(e),R={};if(!y[zi]&&n.children[zi]&&1===n.numberOfChildren&&0===n.children[zi].segments.length){const K=am(n.children[zi],t,e);return new oo(n.segments,K.children)}return Pl(y,(K,pe)=>{"string"==typeof K&&(K=[K]),null!==K&&(R[pe]=G_(n.children[pe],t,K))}),Pl(n.children,(K,pe)=>{void 0===y[pe]&&(R[pe]=K)}),new oo(n.segments,R)}}function q_(n,t,e){const y=n.segments.slice(0,t);let R=0;for(;R<e.length;){const K=e[R];if(sg(K)){const Xe=c9(K.outlets);return new oo(y,Xe)}if(0===R&&ag(e[0])){y.push(new rg(n.segments[t].path,x5(e[0]))),R++;continue}const pe=sg(K)?K.outlets[zi]:`${K}`,Ne=R<e.length-1?e[R+1]:null;pe&&Ne&&ag(Ne)?(y.push(new rg(pe,x5(Ne))),R+=2):(y.push(new rg(pe,{})),R++)}return new oo(y,{})}function c9(n){const t={};return Pl(n,(e,y)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[y]=q_(new oo([],{}),0,e))}),t}function x5(n){const t={};return Pl(n,(e,y)=>t[y]=`${e}`),t}function _5(n,t,e){return n==e.path&&id(t,e.parameters)}const lg="imperative";class od{constructor(t,e){this.id=t,this.url=e}}class W_ extends od{constructor(t,e,y="imperative",R=null){super(t,e),this.type=0,this.navigationTrigger=y,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vh extends od{constructor(t,e,y){super(t,e),this.urlAfterRedirects=y,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Py extends od{constructor(t,e,y,R){super(t,e),this.reason=y,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ry extends od{constructor(t,e,y,R){super(t,e),this.reason=y,this.code=R,this.type=16}}class Z_ extends od{constructor(t,e,y,R){super(t,e),this.error=y,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class u9 extends od{constructor(t,e,y,R){super(t,e),this.urlAfterRedirects=y,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d9 extends od{constructor(t,e,y,R){super(t,e),this.urlAfterRedirects=y,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f9 extends od{constructor(t,e,y,R,K){super(t,e),this.urlAfterRedirects=y,this.state=R,this.shouldActivate=K,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class h9 extends od{constructor(t,e,y,R){super(t,e),this.urlAfterRedirects=y,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p9 extends od{constructor(t,e,y,R){super(t,e),this.urlAfterRedirects=y,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m9{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class g9{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class v9{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y9{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x9{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _9{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b5{constructor(t,e,y){this.routerEvent=t,this.position=e,this.anchor=y,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let T9=(()=>{class n{createUrlTree(e,y,R,K,pe,Ne){return i9(e||y.root,R,K,pe,Ne)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})(),A9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:function(t){return T9.\u0275fac(t)},providedIn:"root"}),n})();class w5{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Y_(t,this._root);return e?e.children.map(y=>y.value):[]}firstChild(t){const e=Y_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=$_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(R=>R.value).filter(R=>R!==t)}pathFromRoot(t){return $_(t,this._root).map(e=>e.value)}}function Y_(n,t){if(n===t.value)return t;for(const e of t.children){const y=Y_(n,e);if(y)return y}return null}function $_(n,t){if(n===t.value)return[t];for(const e of t.children){const y=$_(n,e);if(y.length)return y.unshift(t),y}return[]}class Bd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sm(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class T5 extends w5{constructor(t,e){super(t),this.snapshot=e,X_(this,t)}toString(){return this.snapshot.toString()}}function M5(n,t){const e=function k9(n,t){const pe=new Fy([],{},{},"",{},zi,t,null,n.root,-1,{});return new k5("",new Bd(pe,[]))}(n,t),y=new fu([new rg("",{})]),R=new fu({}),K=new fu({}),pe=new fu({}),Ne=new fu(""),Xe=new lm(y,R,pe,Ne,K,zi,t,e.root);return Xe.snapshot=e.root,new T5(new Bd(Xe,[]),e)}class lm{constructor(t,e,y,R,K,pe,Ne,Xe){this.url=t,this.params=e,this.queryParams=y,this.fragment=R,this.data=K,this.outlet=pe,this.component=Ne,this.title=this.data?.pipe(ne(ot=>ot[ng]))??vi(void 0),this._futureSnapshot=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ne(t=>rm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ne(t=>rm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function A5(n,t="emptyOnly"){const e=n.pathFromRoot;let y=0;if("always"!==t)for(y=e.length-1;y>=1;){const R=e[y],K=e[y-1];if(R.routeConfig&&""===R.routeConfig.path)y--;else{if(K.component)break;y--}}return function S9(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(y))}class Fy{get title(){return this.data?.[ng]}constructor(t,e,y,R,K,pe,Ne,Xe,ot,wt,Nt){this.url=t,this.params=e,this.queryParams=y,this.fragment=R,this.data=K,this.outlet=pe,this.component=Ne,this.routeConfig=Xe,this._urlSegment=ot,this._lastPathIndex=wt,this._resolve=Nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(y=>y.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class k5 extends w5{constructor(t,e){super(e),this.url=t,X_(this,e)}toString(){return S5(this._root)}}function X_(n,t){t.value._routerState=n,t.children.forEach(e=>X_(n,e))}function S5(n){const t=n.children.length>0?` { ${n.children.map(S5).join(", ")} } `:"";return`${n.value}${t}`}function K_(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,id(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),id(t.params,e.params)||n.params.next(e.params),function V7(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!id(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),id(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function J_(n,t){const e=id(n.params,t.params)&&function q7(n,t){return Bh(n,t)&&n.every((e,y)=>id(e.parameters,t[y].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||J_(n.parent,t.parent))}function cg(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const y=e.value;y._futureSnapshot=t.value;const R=function C9(n,t,e){return t.children.map(y=>{for(const R of e.children)if(n.shouldReuseRoute(y.value,R.value.snapshot))return cg(n,y,R);return cg(n,y)})}(n,t,e);return new Bd(y,R)}{if(n.shouldAttach(t.value)){const K=n.retrieve(t.value);if(null!==K){const pe=K.route;return pe.value._futureSnapshot=t.value,pe.children=t.children.map(Ne=>cg(n,Ne)),pe}}const y=function D9(n){return new lm(new fu(n.url),new fu(n.params),new fu(n.queryParams),new fu(n.fragment),new fu(n.data),n.outlet,n.component,n)}(t.value),R=t.children.map(K=>cg(n,K));return new Bd(y,R)}}const Q_="ngNavigationCancelingError";function E5(n,t){const{redirectTo:e,navigationBehaviorOptions:y}=jh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,R=C5(!1,0,t);return R.url=e,R.navigationBehaviorOptions=y,R}function C5(n,t,e){const y=new Error("NavigationCancelingError: "+(n||""));return y[Q_]=!0,y.cancellationCode=t,e&&(y.url=e),y}function D5(n){return I5(n)&&jh(n.url)}function I5(n){return n&&n[Q_]}class I9{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ug,this.attachRef=null}}let ug=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,y){const R=this.getOrCreateContext(e);R.outlet=y,this.contexts.set(e,R)}onChildOutletDestroyed(e){const y=this.getContext(e);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let y=this.getContext(e);return y||(y=new I9,this.contexts.set(e,y)),y}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ny=!1;let eb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=zi,this.activateEvents=new ui,this.deactivateEvents=new ui,this.attachEvents=new ui,this.detachEvents=new ui,this.parentContexts=gi(ug),this.location=gi(Wc),this.changeDetector=gi(Ff),this.environmentInjector=gi(Yi)}ngOnChanges(e){if(e.name){const{firstChange:y,previousValue:R}=e.name;if(y)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new qt(4012,Ny);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new qt(4012,Ny);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new qt(4012,Ny);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,y){this.activated=e,this._activatedRoute=y,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,y){if(this.isActivated)throw new qt(4013,Ny);this._activatedRoute=e;const R=this.location,pe=e.snapshot.component,Ne=this.parentContexts.getOrCreateContext(this.name).children,Xe=new L9(e,Ne,R.injector);if(y&&function O9(n){return!!n.resolveComponentFactory}(y)){const ot=y.resolveComponentFactory(pe);this.activated=R.createComponent(ot,R.length,Xe)}else this.activated=R.createComponent(pe,{index:R.length,injector:Xe,environmentInjector:y??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vr({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qi]}),n})();class L9{constructor(t,e,y){this.route=t,this.childContexts=e,this.parent=y}get(t,e){return t===lm?this.route:t===ug?this.childContexts:this.parent.get(t,e)}}let tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ki({type:n,selectors:[["ng-component"]],standalone:!0,features:[F3],decls:1,vars:0,template:function(e,y){1&e&&la(0,"router-outlet")},dependencies:[eb],encapsulation:2}),n})();function L5(n,t){return n.providers&&!n._injector&&(n._injector=Xv(n.providers,t,`Route: ${n.path}`)),n._injector??t}function rb(n){const t=n.children&&n.children.map(rb),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==zi&&(e.component=tb),e}function hu(n){return n.outlet||zi}function O5(n,t){const e=n.filter(y=>hu(y)===t);return e.push(...n.filter(y=>hu(y)!==t)),e}function dg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class z9{constructor(t,e,y,R){this.routeReuseStrategy=t,this.futureState=e,this.currState=y,this.forwardEvent=R}activate(t){const e=this.futureState._root,y=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,y,t),K_(this.futureState.root),this.activateChildRoutes(e,y,t)}deactivateChildRoutes(t,e,y){const R=sm(e);t.children.forEach(K=>{const pe=K.value.outlet;this.deactivateRoutes(K,R[pe],y),delete R[pe]}),Pl(R,(K,pe)=>{this.deactivateRouteAndItsChildren(K,y)})}deactivateRoutes(t,e,y){const R=t.value,K=e?e.value:null;if(R===K)if(R.component){const pe=y.getContext(R.outlet);pe&&this.deactivateChildRoutes(t,e,pe.children)}else this.deactivateChildRoutes(t,e,y);else K&&this.deactivateRouteAndItsChildren(e,y)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const y=e.getContext(t.value.outlet),R=y&&t.value.component?y.children:e,K=sm(t);for(const pe of Object.keys(K))this.deactivateRouteAndItsChildren(K[pe],R);if(y&&y.outlet){const pe=y.outlet.detach(),Ne=y.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:pe,route:t,contexts:Ne})}}deactivateRouteAndOutlet(t,e){const y=e.getContext(t.value.outlet),R=y&&t.value.component?y.children:e,K=sm(t);for(const pe of Object.keys(K))this.deactivateRouteAndItsChildren(K[pe],R);y&&(y.outlet&&(y.outlet.deactivate(),y.children.onOutletDeactivated()),y.attachRef=null,y.resolver=null,y.route=null)}activateChildRoutes(t,e,y){const R=sm(e);t.children.forEach(K=>{this.activateRoutes(K,R[K.value.outlet],y),this.forwardEvent(new _9(K.value.snapshot))}),t.children.length&&this.forwardEvent(new y9(t.value.snapshot))}activateRoutes(t,e,y){const R=t.value,K=e?e.value:null;if(K_(R),R===K)if(R.component){const pe=y.getOrCreateContext(R.outlet);this.activateChildRoutes(t,e,pe.children)}else this.activateChildRoutes(t,e,y);else if(R.component){const pe=y.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Ne=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),pe.children.onOutletReAttached(Ne.contexts),pe.attachRef=Ne.componentRef,pe.route=Ne.route.value,pe.outlet&&pe.outlet.attach(Ne.componentRef,Ne.route.value),K_(Ne.route.value),this.activateChildRoutes(t,null,pe.children)}else{const Ne=dg(R.snapshot),Xe=Ne?.get(Xi)??null;pe.attachRef=null,pe.route=R,pe.resolver=Xe,pe.injector=Ne,pe.outlet&&pe.outlet.activateWith(R,pe.injector),this.activateChildRoutes(t,null,pe.children)}}else this.activateChildRoutes(t,null,y)}}class P5{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zy{constructor(t,e){this.component=t,this.route=e}}function B9(n,t,e){const y=n._root;return fg(y,t?t._root:null,e,[y.value])}function cm(n,t){const e=Symbol(),y=t.get(n,e);return y===e?"function"!=typeof n||function Ir(n){return null!==_r(n)}(n)?t.get(n):n:y}function fg(n,t,e,y,R={canDeactivateChecks:[],canActivateChecks:[]}){const K=sm(t);return n.children.forEach(pe=>{(function V9(n,t,e,y,R={canDeactivateChecks:[],canActivateChecks:[]}){const K=n.value,pe=t?t.value:null,Ne=e?e.getContext(n.value.outlet):null;if(pe&&K.routeConfig===pe.routeConfig){const Xe=function U9(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Bh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Bh(n.url,t.url)||!id(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!J_(n,t)||!id(n.queryParams,t.queryParams);default:return!J_(n,t)}}(pe,K,K.routeConfig.runGuardsAndResolvers);Xe?R.canActivateChecks.push(new P5(y)):(K.data=pe.data,K._resolvedData=pe._resolvedData),fg(n,t,K.component?Ne?Ne.children:null:e,y,R),Xe&&Ne&&Ne.outlet&&Ne.outlet.isActivated&&R.canDeactivateChecks.push(new zy(Ne.outlet.component,pe))}else pe&&hg(t,Ne,R),R.canActivateChecks.push(new P5(y)),fg(n,null,K.component?Ne?Ne.children:null:e,y,R)})(pe,K[pe.value.outlet],e,y.concat([pe.value]),R),delete K[pe.value.outlet]}),Pl(K,(pe,Ne)=>hg(pe,e.getContext(Ne),R)),R}function hg(n,t,e){const y=sm(n),R=n.value;Pl(y,(K,pe)=>{hg(K,R.component?t?t.children.getContext(pe):null:t,e)}),e.canDeactivateChecks.push(new zy(R.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,R))}function pg(n){return"function"==typeof n}function ib(n){return n instanceof Ty||"EmptyError"===n?.name}const By=Symbol("INITIAL_VALUE");function um(){return Nu(n=>N_(n.map(t=>t.pipe(zf(1),nm(By)))).pipe(ne(t=>{for(const e of t)if(!0!==e){if(e===By)return By;if(!1===e||e instanceof Uf)return e}return!0}),zu(t=>t!==By),zf(1)))}function R5(n){return function L(...n){return O(n)}(Ls(t=>{if(jh(t))throw E5(0,t)}),ne(t=>!0===t))}const ob={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F5(n,t,e,y,R){const K=ab(n,t,e);return K.matched?function oL(n,t,e,y){const R=t.canMatch;return R&&0!==R.length?vi(R.map(pe=>{const Ne=cm(pe,n);return Vf(function Y9(n){return n&&pg(n.canMatch)}(Ne)?Ne.canMatch(t,e):n.runInContext(()=>Ne(t,e)))})).pipe(um(),R5()):vi(!0)}(y=L5(t,y),t,e).pipe(ne(pe=>!0===pe?K:{...ob})):vi(K)}function ab(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...ob}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const R=(t.matcher||j7)(e,n,t);if(!R)return{...ob};const K={};Pl(R.posParams,(Ne,Xe)=>{K[Xe]=Ne.path});const pe=R.consumed.length>0?{...K,...R.consumed[R.consumed.length-1].parameters}:K;return{matched:!0,consumedSegments:R.consumed,remainingSegments:e.slice(R.consumed.length),parameters:pe,positionalParamSegments:R.posParams??{}}}function jy(n,t,e,y){if(e.length>0&&function lL(n,t,e){return e.some(y=>Vy(n,t,y)&&hu(y)!==zi)}(n,e,y)){const K=new oo(t,function sL(n,t,e,y){const R={};R[zi]=y,y._sourceSegment=n,y._segmentIndexShift=t.length;for(const K of e)if(""===K.path&&hu(K)!==zi){const pe=new oo([],{});pe._sourceSegment=n,pe._segmentIndexShift=t.length,R[hu(K)]=pe}return R}(n,t,y,new oo(e,n.children)));return K._sourceSegment=n,K._segmentIndexShift=t.length,{segmentGroup:K,slicedSegments:[]}}if(0===e.length&&function cL(n,t,e){return e.some(y=>Vy(n,t,y))}(n,e,y)){const K=new oo(n.segments,function aL(n,t,e,y,R){const K={};for(const pe of y)if(Vy(n,e,pe)&&!R[hu(pe)]){const Ne=new oo([],{});Ne._sourceSegment=n,Ne._segmentIndexShift=t.length,K[hu(pe)]=Ne}return{...R,...K}}(n,t,e,y,n.children));return K._sourceSegment=n,K._segmentIndexShift=t.length,{segmentGroup:K,slicedSegments:e}}const R=new oo(n.segments,n.children);return R._sourceSegment=n,R._segmentIndexShift=t.length,{segmentGroup:R,slicedSegments:e}}function Vy(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function N5(n,t,e,y){return!!(hu(n)===y||y!==zi&&Vy(t,e,n))&&("**"===n.path||ab(t,n,e).matched)}function z5(n,t,e){return 0===t.length&&!n.children[e]}const Uy=!1;class Hy{constructor(t){this.segmentGroup=t||null}}class B5{constructor(t){this.urlTree=t}}function mg(n){return tm(new Hy(n))}function j5(n){return tm(new B5(n))}class hL{constructor(t,e,y,R,K){this.injector=t,this.configLoader=e,this.urlSerializer=y,this.urlTree=R,this.config=K,this.allowRedirects=!0}apply(){const t=jy(this.urlTree.root,[],[],this.config).segmentGroup,e=new oo(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,zi).pipe(ne(K=>this.createUrlTree(Oy(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zd(K=>{if(K instanceof B5)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof Hy?this.noMatchError(K):K}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,zi).pipe(ne(R=>this.createUrlTree(Oy(R),t.queryParams,t.fragment))).pipe(zd(R=>{throw R instanceof Hy?this.noMatchError(R):R}))}noMatchError(t){return new qt(4002,Uy)}createUrlTree(t,e,y){const R=U_(t);return new Uf(R,e,y)}expandSegmentGroup(t,e,y,R){return 0===y.segments.length&&y.hasChildren()?this.expandChildren(t,e,y).pipe(ne(K=>new oo([],K))):this.expandSegment(t,y,e,y.segments,R,!0)}expandChildren(t,e,y){const R=[];for(const K of Object.keys(y.children))"primary"===K?R.unshift(K):R.push(K);return an(R).pipe(jf(K=>{const pe=y.children[K],Ne=O5(e,K);return this.expandSegmentGroup(t,Ne,pe,K).pipe(ne(Xe=>({segment:Xe,outlet:K})))}),e5((K,pe)=>(K[pe.outlet]=pe.segment,K),{}),t5())}expandSegment(t,e,y,R,K,pe){return an(y).pipe(jf(Ne=>this.expandSegmentAgainstRoute(t,e,y,Ne,R,K,pe).pipe(zd(ot=>{if(ot instanceof Hy)return vi(null);throw ot}))),Bf(Ne=>!!Ne),zd((Ne,Xe)=>{if(ib(Ne))return z5(e,R,K)?vi(new oo([],{})):mg(e);throw Ne}))}expandSegmentAgainstRoute(t,e,y,R,K,pe,Ne){return N5(R,e,K,pe)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(t,e,R,K,pe):Ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,y,R,K,pe):mg(e):mg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,y,R,K,pe){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,y,R,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,y,R,K,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,y,R){const K=this.applyRedirectCommands([],y.redirectTo,{});return y.redirectTo.startsWith("/")?j5(K):this.lineralizeSegments(y,K).pipe(bt(pe=>{const Ne=new oo(pe,{});return this.expandSegment(t,Ne,e,pe,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,y,R,K,pe){const{matched:Ne,consumedSegments:Xe,remainingSegments:ot,positionalParamSegments:wt}=ab(e,R,K);if(!Ne)return mg(e);const Nt=this.applyRedirectCommands(Xe,R.redirectTo,wt);return R.redirectTo.startsWith("/")?j5(Nt):this.lineralizeSegments(R,Nt).pipe(bt(hn=>this.expandSegment(t,e,y,hn.concat(ot),pe,!1)))}matchSegmentAgainstRoute(t,e,y,R,K){return"**"===y.path?(t=L5(y,t),y.loadChildren?(y._loadedRoutes?vi({routes:y._loadedRoutes,injector:y._loadedInjector}):this.configLoader.loadChildren(t,y)).pipe(ne(Ne=>(y._loadedRoutes=Ne.routes,y._loadedInjector=Ne.injector,new oo(R,{})))):vi(new oo(R,{}))):F5(e,y,R,t).pipe(Nu(({matched:pe,consumedSegments:Ne,remainingSegments:Xe})=>pe?this.getChildConfig(t=y._injector??t,y,R).pipe(bt(wt=>{const Nt=wt.injector??t,hn=wt.routes,{segmentGroup:An,slicedSegments:Nn}=jy(e,Ne,Xe,hn),Xn=new oo(An.segments,An.children);if(0===Nn.length&&Xn.hasChildren())return this.expandChildren(Nt,hn,Xn).pipe(ne(br=>new oo(Ne,br)));if(0===hn.length&&0===Nn.length)return vi(new oo(Ne,{}));const hr=hu(y)===K;return this.expandSegment(Nt,Xn,hn,Nn,hr?zi:K,!0).pipe(ne(zr=>new oo(Ne.concat(zr.segments),zr.children)))})):mg(e)))}getChildConfig(t,e,y){return e.children?vi({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?vi({routes:e._loadedRoutes,injector:e._loadedInjector}):function iL(n,t,e,y){const R=t.canLoad;return void 0===R||0===R.length?vi(!0):vi(R.map(pe=>{const Ne=cm(pe,n);return Vf(function G9(n){return n&&pg(n.canLoad)}(Ne)?Ne.canLoad(t,e):n.runInContext(()=>Ne(t,e)))})).pipe(um(),R5())}(t,e,y).pipe(bt(R=>R?this.configLoader.loadChildren(t,e).pipe(Ls(K=>{e._loadedRoutes=K.routes,e._loadedInjector=K.injector})):function dL(n){return tm(C5(Uy,3))}())):vi({routes:[],injector:t})}lineralizeSegments(t,e){let y=[],R=e.root;for(;;){if(y=y.concat(R.segments),0===R.numberOfChildren)return vi(y);if(R.numberOfChildren>1||!R.children[zi])return t.redirectTo,tm(new qt(4e3,Uy));R=R.children[zi]}}applyRedirectCommands(t,e,y){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,y)}applyRedirectCreateUrlTree(t,e,y,R){const K=this.createSegmentGroup(t,e.root,y,R);return new Uf(K,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const y={};return Pl(t,(R,K)=>{if("string"==typeof R&&R.startsWith(":")){const Ne=R.substring(1);y[K]=e[Ne]}else y[K]=R}),y}createSegmentGroup(t,e,y,R){const K=this.createSegments(t,e.segments,y,R);let pe={};return Pl(e.children,(Ne,Xe)=>{pe[Xe]=this.createSegmentGroup(t,Ne,y,R)}),new oo(K,pe)}createSegments(t,e,y,R){return e.map(K=>K.path.startsWith(":")?this.findPosParam(t,K,R):this.findOrReturn(K,y))}findPosParam(t,e,y){const R=y[e.path.substring(1)];if(!R)throw new qt(4001,Uy);return R}findOrReturn(t,e){let y=0;for(const R of e){if(R.path===t.path)return e.splice(y),R;y++}return t}}class mL{}class yL{constructor(t,e,y,R,K,pe,Ne){this.injector=t,this.rootComponentType=e,this.config=y,this.urlTree=R,this.url=K,this.paramsInheritanceStrategy=pe,this.urlSerializer=Ne}recognize(){const t=jy(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,zi).pipe(ne(e=>{if(null===e)return null;const y=new Fy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zi,this.rootComponentType,null,this.urlTree.root,-1,{}),R=new Bd(y,e),K=new k5(this.url,R);return this.inheritParamsAndData(K._root),K}))}inheritParamsAndData(t){const e=t.value,y=A5(e,this.paramsInheritanceStrategy);e.params=Object.freeze(y.params),e.data=Object.freeze(y.data),t.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(t,e,y,R){return 0===y.segments.length&&y.hasChildren()?this.processChildren(t,e,y):this.processSegment(t,e,y,y.segments,R)}processChildren(t,e,y){return an(Object.keys(y.children)).pipe(jf(R=>{const K=y.children[R],pe=O5(e,R);return this.processSegmentGroup(t,pe,K,R)}),e5((R,K)=>R&&K?(R.push(...K),R):null),function N7(n,t=!1){return Z((e,y)=>{let R=0;e.subscribe($(y,K=>{const pe=n(K,R++);(pe||t)&&y.next(K),!pe&&y.complete()}))})}(R=>null!==R),Ay(null),t5(),ne(R=>{if(null===R)return null;const K=U5(R);return function xL(n){n.sort((t,e)=>t.value.outlet===zi?-1:e.value.outlet===zi?1:t.value.outlet.localeCompare(e.value.outlet))}(K),K}))}processSegment(t,e,y,R,K){return an(e).pipe(jf(pe=>this.processSegmentAgainstRoute(pe._injector??t,pe,y,R,K)),Bf(pe=>!!pe),zd(pe=>{if(ib(pe))return z5(y,R,K)?vi([]):vi(null);throw pe}))}processSegmentAgainstRoute(t,e,y,R,K){if(e.redirectTo||!N5(e,y,R,K))return vi(null);let pe;if("**"===e.path){const Ne=R.length>0?i5(R).parameters:{},Xe=G5(y)+R.length;pe=vi({snapshot:new Fy(R,Ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q5(e),hu(e),e.component??e._loadedComponent??null,e,H5(y),Xe,W5(e)),consumedSegments:[],remainingSegments:[]})}else pe=F5(y,e,R,t).pipe(ne(({matched:Ne,consumedSegments:Xe,remainingSegments:ot,parameters:wt})=>{if(!Ne)return null;const Nt=G5(y)+Xe.length;return{snapshot:new Fy(Xe,wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q5(e),hu(e),e.component??e._loadedComponent??null,e,H5(y),Nt,W5(e)),consumedSegments:Xe,remainingSegments:ot}}));return pe.pipe(Nu(Ne=>{if(null===Ne)return vi(null);const{snapshot:Xe,consumedSegments:ot,remainingSegments:wt}=Ne;t=e._injector??t;const Nt=e._loadedInjector??t,hn=function _L(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:An,slicedSegments:Nn}=jy(y,ot,wt,hn.filter(hr=>void 0===hr.redirectTo));if(0===Nn.length&&An.hasChildren())return this.processChildren(Nt,hn,An).pipe(ne(hr=>null===hr?null:[new Bd(Xe,hr)]));if(0===hn.length&&0===Nn.length)return vi([new Bd(Xe,[])]);const Xn=hu(e)===K;return this.processSegment(Nt,hn,An,Nn,Xn?zi:K).pipe(ne(hr=>null===hr?null:[new Bd(Xe,hr)]))}))}}function bL(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function U5(n){const t=[],e=new Set;for(const y of n){if(!bL(y)){t.push(y);continue}const R=t.find(K=>y.value.routeConfig===K.value.routeConfig);void 0!==R?(R.children.push(...y.children),e.add(R)):t.push(y)}for(const y of e){const R=U5(y.children);t.push(new Bd(y.value,R))}return t.filter(y=>!e.has(y))}function H5(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function G5(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function q5(n){return n.data||{}}function W5(n){return n.resolve||{}}function Z5(n){return"string"==typeof n.title||null===n.title}function sb(n){return Nu(t=>{const e=n(t);return e?an(e).pipe(ne(()=>t)):vi(t)})}const dm=new Hr("ROUTES");let lb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=gi(bT)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return vi(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const y=Vf(e.loadComponent()).pipe(ne($5),Ls(K=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=K}),ky(()=>{this.componentLoaders.delete(e)})),R=new JM(y,()=>new q).pipe(z_());return this.componentLoaders.set(e,R),R}loadChildren(e,y){if(this.childrenLoaders.get(y))return this.childrenLoaders.get(y);if(y._loadedRoutes)return vi({routes:y._loadedRoutes,injector:y._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(y);const K=this.loadModuleFactoryOrRoutes(y.loadChildren).pipe(ne(Ne=>{this.onLoadEndListener&&this.onLoadEndListener(y);let Xe,ot,wt=!1;Array.isArray(Ne)?ot=Ne:(Xe=Ne.create(e).injector,ot=r5(Xe.get(dm,[],Zr.Self|Zr.Optional)));return{routes:ot.map(rb),injector:Xe}}),ky(()=>{this.childrenLoaders.delete(y)})),pe=new JM(K,()=>new q).pipe(z_());return this.childrenLoaders.set(y,pe),pe}loadModuleFactoryOrRoutes(e){return Vf(e()).pipe(ne($5),bt(y=>y instanceof P3||Array.isArray(y)?vi(y):an(this.compiler.compileModuleAsync(y))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $5(n){return function CL(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let qy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new q,this.configLoader=gi(lb),this.environmentInjector=gi(Yi),this.urlSerializer=gi(ig),this.rootContexts=gi(ug),this.navigationId=0,this.afterPreactivation=()=>vi(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new g9(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new m9(R))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const y=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:y})}setupNavigations(e){return this.transitions=new fu({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lg,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zu(y=>0!==y.id),ne(y=>({...y,extractedUrl:e.urlHandlingStrategy.extract(y.rawUrl)})),Nu(y=>{let R=!1,K=!1;return vi(y).pipe(Ls(pe=>{this.currentNavigation={id:pe.id,initialUrl:pe.rawUrl,extractedUrl:pe.extractedUrl,trigger:pe.source,extras:pe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nu(pe=>{const Ne=e.browserUrlTree.toString(),Xe=!e.navigated||pe.extractedUrl.toString()!==Ne||Ne!==e.currentUrlTree.toString();if(!Xe&&"reload"!==(pe.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const wt="";return this.events.next(new Ry(pe.id,e.serializeUrl(y.rawUrl),wt,0)),e.rawUrlTree=pe.rawUrl,pe.resolve(null),xt}if(e.urlHandlingStrategy.shouldProcessUrl(pe.rawUrl))return X5(pe.source)&&(e.browserUrlTree=pe.extractedUrl),vi(pe).pipe(Nu(wt=>{const Nt=this.transitions?.getValue();return this.events.next(new W_(wt.id,this.urlSerializer.serialize(wt.extractedUrl),wt.source,wt.restoredState)),Nt!==this.transitions?.getValue()?xt:Promise.resolve(wt)}),function pL(n,t,e,y){return Nu(R=>function fL(n,t,e,y,R){return new hL(n,t,e,y,R).apply()}(n,t,e,R.extractedUrl,y).pipe(ne(K=>({...R,urlAfterRedirects:K}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Ls(wt=>{this.currentNavigation={...this.currentNavigation,finalUrl:wt.urlAfterRedirects},y.urlAfterRedirects=wt.urlAfterRedirects}),function TL(n,t,e,y,R){return bt(K=>function vL(n,t,e,y,R,K,pe="emptyOnly"){return new yL(n,t,e,y,R,pe,K).recognize().pipe(Nu(Ne=>null===Ne?function gL(n){return new P(t=>t.error(n))}(new mL):vi(Ne)))}(n,t,e,K.urlAfterRedirects,y.serialize(K.urlAfterRedirects),y,R).pipe(ne(pe=>({...K,targetSnapshot:pe}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ls(wt=>{if(y.targetSnapshot=wt.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!wt.extras.skipLocationChange){const hn=e.urlHandlingStrategy.merge(wt.urlAfterRedirects,wt.rawUrl);e.setBrowserUrl(hn,wt)}e.browserUrlTree=wt.urlAfterRedirects}const Nt=new u9(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects),wt.targetSnapshot);this.events.next(Nt)}));if(Xe&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:wt,extractedUrl:Nt,source:hn,restoredState:An,extras:Nn}=pe,Xn=new W_(wt,this.urlSerializer.serialize(Nt),hn,An);this.events.next(Xn);const hr=M5(Nt,this.rootComponentType).snapshot;return vi(y={...pe,targetSnapshot:hr,urlAfterRedirects:Nt,extras:{...Nn,skipLocationChange:!1,replaceUrl:!1}})}{const wt="";return this.events.next(new Ry(pe.id,e.serializeUrl(y.extractedUrl),wt,1)),e.rawUrlTree=pe.rawUrl,pe.resolve(null),xt}}),Ls(pe=>{const Ne=new d9(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot);this.events.next(Ne)}),ne(pe=>y={...pe,guards:B9(pe.targetSnapshot,pe.currentSnapshot,this.rootContexts)}),function X9(n,t){return bt(e=>{const{targetSnapshot:y,currentSnapshot:R,guards:{canActivateChecks:K,canDeactivateChecks:pe}}=e;return 0===pe.length&&0===K.length?vi({...e,guardsResult:!0}):function K9(n,t,e,y){return an(n).pipe(bt(R=>function rL(n,t,e,y,R){const K=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return K&&0!==K.length?vi(K.map(Ne=>{const Xe=dg(t)??R,ot=cm(Ne,Xe);return Vf(function Z9(n){return n&&pg(n.canDeactivate)}(ot)?ot.canDeactivate(n,t,e,y):Xe.runInContext(()=>ot(n,t,e,y))).pipe(Bf())})).pipe(um()):vi(!0)}(R.component,R.route,e,t,y)),Bf(R=>!0!==R,!0))}(pe,y,R,n).pipe(bt(Ne=>Ne&&function H9(n){return"boolean"==typeof n}(Ne)?function J9(n,t,e,y){return an(t).pipe(jf(R=>My(function eL(n,t){return null!==n&&t&&t(new v9(n)),vi(!0)}(R.route.parent,y),function Q9(n,t){return null!==n&&t&&t(new x9(n)),vi(!0)}(R.route,y),function nL(n,t,e){const y=t[t.length-1],K=t.slice(0,t.length-1).reverse().map(pe=>function j9(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(pe)).filter(pe=>null!==pe).map(pe=>KM(()=>vi(pe.guards.map(Xe=>{const ot=dg(pe.node)??e,wt=cm(Xe,ot);return Vf(function W9(n){return n&&pg(n.canActivateChild)}(wt)?wt.canActivateChild(y,n):ot.runInContext(()=>wt(y,n))).pipe(Bf())})).pipe(um())));return vi(K).pipe(um())}(n,R.path,e),function tL(n,t,e){const y=t.routeConfig?t.routeConfig.canActivate:null;if(!y||0===y.length)return vi(!0);const R=y.map(K=>KM(()=>{const pe=dg(t)??e,Ne=cm(K,pe);return Vf(function q9(n){return n&&pg(n.canActivate)}(Ne)?Ne.canActivate(t,n):pe.runInContext(()=>Ne(t,n))).pipe(Bf())}));return vi(R).pipe(um())}(n,R.route,e))),Bf(R=>!0!==R,!0))}(y,K,n,t):vi(Ne)),ne(Ne=>({...e,guardsResult:Ne})))})}(this.environmentInjector,pe=>this.events.next(pe)),Ls(pe=>{if(y.guardsResult=pe.guardsResult,jh(pe.guardsResult))throw E5(0,pe.guardsResult);const Ne=new f9(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(pe.urlAfterRedirects),pe.targetSnapshot,!!pe.guardsResult);this.events.next(Ne)}),zu(pe=>!!pe.guardsResult||(e.restoreHistory(pe),this.cancelNavigationTransition(pe,"",3),!1)),sb(pe=>{if(pe.guards.canActivateChecks.length)return vi(pe).pipe(Ls(Ne=>{const Xe=new h9(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(Xe)}),Nu(Ne=>{let Xe=!1;return vi(Ne).pipe(function ML(n,t){return bt(e=>{const{targetSnapshot:y,guards:{canActivateChecks:R}}=e;if(!R.length)return vi(e);let K=0;return an(R).pipe(jf(pe=>function AL(n,t,e,y){const R=n.routeConfig,K=n._resolve;return void 0!==R?.title&&!Z5(R)&&(K[ng]=R.title),function kL(n,t,e,y){const R=function SL(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===R.length)return vi({});const K={};return an(R).pipe(bt(pe=>function EL(n,t,e,y){const R=dg(t)??y,K=cm(n,R);return Vf(K.resolve?K.resolve(t,e):R.runInContext(()=>K(t,e)))}(n[pe],t,e,y).pipe(Bf(),Ls(Ne=>{K[pe]=Ne}))),B_(1),function z7(n){return ne(()=>n)}(K),zd(pe=>ib(pe)?xt:tm(pe)))}(K,n,t,y).pipe(ne(pe=>(n._resolvedData=pe,n.data=A5(n,e).resolve,R&&Z5(R)&&(n.data[ng]=R.title),null)))}(pe.route,y,n,t)),Ls(()=>K++),B_(1),bt(pe=>K===R.length?vi(e):xt))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ls({next:()=>Xe=!0,complete:()=>{Xe||(e.restoreHistory(Ne),this.cancelNavigationTransition(Ne,"",2))}}))}),Ls(Ne=>{const Xe=new p9(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(Xe)}))}),sb(pe=>{const Ne=Xe=>{const ot=[];Xe.routeConfig?.loadComponent&&!Xe.routeConfig._loadedComponent&&ot.push(this.configLoader.loadComponent(Xe.routeConfig).pipe(Ls(wt=>{Xe.component=wt}),ne(()=>{})));for(const wt of Xe.children)ot.push(...Ne(wt));return ot};return N_(Ne(pe.targetSnapshot.root)).pipe(Ay(),zf(1))}),sb(()=>this.afterPreactivation()),ne(pe=>{const Ne=function E9(n,t,e){const y=cg(n,t._root,e?e._root:void 0);return new T5(y,t)}(e.routeReuseStrategy,pe.targetSnapshot,pe.currentRouterState);return y={...pe,targetRouterState:Ne}}),Ls(pe=>{e.currentUrlTree=pe.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(pe.urlAfterRedirects,pe.rawUrl),e.routerState=pe.targetRouterState,"deferred"===e.urlUpdateStrategy&&(pe.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,pe),e.browserUrlTree=pe.urlAfterRedirects)}),((n,t,e)=>ne(y=>(new z9(t,y.targetRouterState,y.currentRouterState,e).activate(n),y)))(this.rootContexts,e.routeReuseStrategy,pe=>this.events.next(pe)),zf(1),Ls({next:pe=>{R=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Vh(pe.id,this.urlSerializer.serialize(pe.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(pe.targetRouterState.snapshot),pe.resolve(!0)},complete:()=>{R=!0}}),ky(()=>{R||K||this.cancelNavigationTransition(y,"",1),this.currentNavigation?.id===y.id&&(this.currentNavigation=null)}),zd(pe=>{if(K=!0,I5(pe)){D5(pe)||(e.navigated=!0,e.restoreHistory(y,!0));const Ne=new Py(y.id,this.urlSerializer.serialize(y.extractedUrl),pe.message,pe.cancellationCode);if(this.events.next(Ne),D5(pe)){const Xe=e.urlHandlingStrategy.merge(pe.url,e.rawUrlTree),ot={skipLocationChange:y.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||X5(y.source)};e.scheduleNavigation(Xe,lg,null,ot,{resolve:y.resolve,reject:y.reject,promise:y.promise})}else y.resolve(!1)}else{e.restoreHistory(y,!0);const Ne=new Z_(y.id,this.urlSerializer.serialize(y.extractedUrl),pe,y.targetSnapshot??void 0);this.events.next(Ne);try{y.resolve(e.errorHandler(pe))}catch(Xe){y.reject(Xe)}}return xt}))}))}cancelNavigationTransition(e,y,R){const K=new Py(e.id,this.urlSerializer.serialize(e.extractedUrl),y,R);this.events.next(K),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X5(n){return n!==lg}let K5=(()=>{class n{buildTitle(e){let y,R=e.root;for(;void 0!==R;)y=this.getResolvedTitleForRoute(R)??y,R=R.children.find(K=>K.outlet===zi);return y}getResolvedTitleForRoute(e){return e.data[ng]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:function(){return gi(DL)},providedIn:"root"}),n})(),DL=(()=>{class n extends K5{constructor(e){super(),this.title=e}updateTitle(e){const y=this.buildTitle(e);void 0!==y&&this.title.setTitle(y)}}return n.\u0275fac=function(e){return new(e||n)(Dr(HM))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:function(){return gi(OL)},providedIn:"root"}),n})();class LL{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let OL=(()=>{class n extends LL{}return n.\u0275fac=function(){let t;return function(y){return(t||(t=es(n)))(y||n)}}(),n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wy=new Hr("",{providedIn:"root",factory:()=>({})});let RL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:function(){return gi(FL)},providedIn:"root"}),n})(),FL=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,y){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NL(n){throw n}function zL(n,t,e){return t.parse("/")}const BL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zc=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=gi(g8),this.isNgZoneEnabled=!1,this.options=gi(Wy,{optional:!0})||{},this.errorHandler=this.options.errorHandler||NL,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zL,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=gi(RL),this.routeReuseStrategy=gi(IL),this.urlCreationStrategy=gi(A9),this.titleStrategy=gi(K5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=r5(gi(dm,{optional:!0})??[]),this.navigationTransitions=gi(qy),this.urlSerializer=gi(ig),this.location=gi(f_),this.isNgZoneEnabled=gi(Uo)instanceof Uo&&Uo.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Uf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=M5(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lg,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const y="popstate"===e.type?"popstate":"hashchange";"popstate"===y&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,y,e.state)},0)}))}navigateToSyncWithBrowser(e,y,R){const K={replaceUrl:!0},pe=R?.navigationId?R:null;if(R){const Xe={...R};delete Xe.navigationId,delete Xe.\u0275routerPageId,0!==Object.keys(Xe).length&&(K.state=Xe)}const Ne=this.parseUrl(e);this.scheduleNavigation(Ne,y,pe,K)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(rb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,y={}){const{relativeTo:R,queryParams:K,fragment:pe,queryParamsHandling:Ne,preserveFragment:Xe}=y,ot=Xe?this.currentUrlTree.fragment:pe;let wt=null;switch(Ne){case"merge":wt={...this.currentUrlTree.queryParams,...K};break;case"preserve":wt=this.currentUrlTree.queryParams;break;default:wt=K||null}return null!==wt&&(wt=this.removeEmptyProps(wt)),this.urlCreationStrategy.createUrlTree(R,this.routerState,this.currentUrlTree,e,wt,ot??null)}navigateByUrl(e,y={skipLocationChange:!1}){const R=jh(e)?e:this.parseUrl(e),K=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(K,lg,null,y)}navigate(e,y={skipLocationChange:!1}){return function VL(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new qt(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,y),y)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let y;try{y=this.urlSerializer.parse(e)}catch(R){y=this.malformedUriErrorHandler(R,this.urlSerializer,e)}return y}isActive(e,y){let R;if(R=!0===y?{...BL}:!1===y?{...jL}:y,jh(e))return a5(this.currentUrlTree,e,R);const K=this.parseUrl(e);return a5(this.currentUrlTree,K,R)}removeEmptyProps(e){return Object.keys(e).reduce((y,R)=>{const K=e[R];return null!=K&&(y[R]=K),y},{})}scheduleNavigation(e,y,R,K,pe){if(this.disposed)return Promise.resolve(!1);let Ne,Xe,ot,wt;return pe?(Ne=pe.resolve,Xe=pe.reject,ot=pe.promise):ot=new Promise((Nt,hn)=>{Ne=Nt,Xe=hn}),wt="computed"===this.canceledNavigationResolution?R&&R.\u0275routerPageId?R.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:wt,source:y,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:K,resolve:Ne,reject:Xe,promise:ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ot.catch(Nt=>Promise.reject(Nt))}setBrowserUrl(e,y){const R=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(R)||y.extras.replaceUrl){const pe={...y.extras.state,...this.generateNgRouterState(y.id,this.browserPageId)};this.location.replaceState(R,"",pe)}else{const K={...y.extras.state,...this.generateNgRouterState(y.id,y.targetPageId)};this.location.go(R,"",K)}}restoreHistory(e,y=!1){if("computed"===this.canceledNavigationResolution){const K=this.currentPageId-(this.browserPageId??this.currentPageId);0!==K?this.location.historyGo(K):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===K&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(y&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,y){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:y}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class J5{}let GL=(()=>{class n{constructor(e,y,R,K,pe){this.router=e,this.injector=R,this.preloadingStrategy=K,this.loader=pe}setUpPreloading(){this.subscription=this.router.events.pipe(zu(e=>e instanceof Vh),jf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,y){const R=[];for(const K of y){K.providers&&!K._injector&&(K._injector=Xv(K.providers,e,`Route: ${K.path}`));const pe=K._injector??e,Ne=K._loadedInjector??pe;(K.loadChildren&&!K._loadedRoutes&&void 0===K.canLoad||K.loadComponent&&!K._loadedComponent)&&R.push(this.preloadConfig(pe,K)),(K.children||K._loadedRoutes)&&R.push(this.processRoutes(Ne,K.children??K._loadedRoutes))}return an(R).pipe(At())}preloadConfig(e,y){return this.preloadingStrategy.preload(y,()=>{let R;R=y.loadChildren&&void 0===y.canLoad?this.loader.loadChildren(e,y):vi(null);const K=R.pipe(bt(pe=>null===pe?vi(void 0):(y._loadedRoutes=pe.routes,y._loadedInjector=pe.injector,this.processRoutes(pe.injector??e,pe.routes))));return y.loadComponent&&!y._loadedComponent?an([K,this.loader.loadComponent(y)]).pipe(At()):K})}}return n.\u0275fac=function(e){return new(e||n)(Dr(Zc),Dr(bT),Dr(Yi),Dr(J5),Dr(lb))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const db=new Hr("");let Q5=(()=>{class n{constructor(e,y,R,K,pe={}){this.urlSerializer=e,this.transitions=y,this.viewportScroller=R,this.zone=K,this.options=pe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pe.scrollPositionRestoration=pe.scrollPositionRestoration||"disabled",pe.anchorScrolling=pe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof W_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof b5&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,y){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new b5(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,y))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){!function Rp(){throw new Error("invalid")}()},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();var Yc=(()=>((Yc=Yc||{})[Yc.COMPLETE=0]="COMPLETE",Yc[Yc.FAILED=1]="FAILED",Yc[Yc.REDIRECTING=2]="REDIRECTING",Yc))();const fm=!1;function Hf(n,t){return{\u0275kind:n,\u0275providers:t}}const fb=new Hr("",{providedIn:"root",factory:()=>!1});function tA(){const n=gi(Jl);return t=>{const e=n.get(Y0);if(t!==e.components[0])return;const y=n.get(Zc),R=n.get(nA);1===n.get(hb)&&y.initialNavigation(),n.get(rA,null,Zr.Optional)?.setUpPreloading(),n.get(db,null,Zr.Optional)?.init(),y.resetRootComponentType(e.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const nA=new Hr(fm?"bootstrap done indicator":"",{factory:()=>new q}),hb=new Hr(fm?"initial navigation":"",{providedIn:"root",factory:()=>1});function $L(){let n=[];return n=fm?[{provide:Bn,multi:!0,useFactory:()=>{const t=gi(Zc);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function b9(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Hf(1,n)}const rA=new Hr(fm?"router preloader":"");function XL(n){return Hf(0,[{provide:rA,useExisting:GL},{provide:J5,useExisting:n}])}const gg=!1,iA=new Hr(gg?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),KL=[f_,{provide:ig,useClass:j_},Zc,ug,{provide:lm,useFactory:function eA(n){return n.routerState.root},deps:[Zc]},lb,gg?{provide:fb,useValue:!0}:[]];function JL(){return new CT("Router",Zc)}let oA=(()=>{class n{constructor(e){}static forRoot(e,y){return{ngModule:n,providers:[KL,gg&&y?.enableTracing?$L().\u0275providers:[],{provide:dm,multi:!0,useValue:e},{provide:iA,useFactory:nO,deps:[[Zc,new zc,new Zs]]},{provide:Wy,useValue:y||{}},y?.useHash?{provide:zh,useClass:rD}:{provide:zh,useClass:JT},{provide:db,useFactory:()=>{const n=gi(bI),t=gi(Uo),e=gi(Wy),y=gi(qy),R=gi(ig);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Q5(R,y,n,t,e)}},y?.preloadingStrategy?XL(y.preloadingStrategy).\u0275providers:[],{provide:CT,multi:!0,useFactory:JL},y?.initialNavigation?rO(y):[],[{provide:aA,useFactory:tA},{provide:ET,multi:!0,useExisting:aA}]]}}static forChild(e){return{ngModule:n,providers:[{provide:dm,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(Dr(iA,8))},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[tb]}),n})();function nO(n){if(gg&&n)throw new qt(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function rO(n){return["disabled"===n.initialNavigation?Hf(3,[{provide:ey,multi:!0,useFactory:()=>{const t=gi(Zc);return()=>{t.setUpLocationChangeListener()}}},{provide:hb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Hf(2,[{provide:hb,useValue:0},{provide:ey,multi:!0,deps:[Jl],useFactory:t=>{const e=t.get(tD,Promise.resolve());return()=>e.then(()=>new Promise(y=>{const R=t.get(Zc),K=t.get(nA);(function qL(n,t){n.events.pipe(zu(e=>e instanceof Vh||e instanceof Py||e instanceof Z_||e instanceof Ry),ne(e=>e instanceof Vh||e instanceof Ry?Yc.COMPLETE:e instanceof Py&&(0===e.code||1===e.code)?Yc.REDIRECTING:Yc.FAILED),zu(e=>e!==Yc.REDIRECTING),zf(1)).subscribe(()=>{t()})})(R,()=>{y(!0)}),t.get(qy).afterPreactivation=()=>(y(!0),K.closed?vi(void 0):K),R.initialNavigation()}))}}]).\u0275providers:[]]}const aA=new Hr(gg?"Router Initializer":"");let pb;try{pb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pb=!1}let vg,mb,Uh=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function _I(n){return n===xM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Dr(Xx))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zy(n){return function oO(){if(null==vg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vg=!0}))}finally{vg=vg||!1}return vg}()?n:!!n.capture}function pm(n){return n.composedPath?n.composedPath()[0]:n.target}function gb(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class kO extends D{constructor(t,e){super()}schedule(t,e=0){return this}}const $y={setInterval(n,t,...e){const{delegate:y}=$y;return y?.setInterval?y.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=$y;return(t?.clearInterval||clearInterval)(n)},delegate:void 0},fA={now:()=>(fA.delegate||Date).now(),delegate:void 0};class yg{constructor(t,e=yg.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,y){return new this.schedulerActionCtor(this,t).schedule(y,e)}}yg.now=fA.now;const CO=new class EO extends yg{constructor(t,e=yg.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let y;this._active=!0;do{if(y=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,y){for(;t=e.shift();)t.unsubscribe();throw y}}}(class SO extends kO{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var y;if(this.closed)return this;this.state=t;const R=this.id,K=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(K,R,e)),this.pending=!0,this.delay=e,this.id=null!==(y=this.id)&&void 0!==y?y:this.requestAsyncId(K,this.id,e),this}requestAsyncId(t,e,y=0){return $y.setInterval(t.flush.bind(t,this),y)}recycleAsyncId(t,e,y=0){if(null!=y&&this.delay===y&&!1===this.pending)return e;null!=e&&$y.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const y=this._execute(t,e);if(y)return y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let R,y=!1;try{this.work(t)}catch(K){y=!0,R=K||new Error("Scheduled action threw falsy error")}if(y)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:y}=e;this.work=this.state=this.scheduler=null,this.pending=!1,r(y,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}});function vb(n,t=CO){return Z((e,y)=>{let R=null,K=null,pe=null;const Ne=()=>{if(R){R.unsubscribe(),R=null;const ot=K;K=null,y.next(ot)}};function Xe(){const ot=pe+n,wt=t.now();if(wt<ot)return R=this.schedule(void 0,ot-wt),void y.add(R);Ne()}e.subscribe($(y,ot=>{K=ot,pe=t.now(),R||(R=t.schedule(Xe,n),y.add(R))},()=>{Ne(),y.complete()},void 0,()=>{K=R=null}))})}function hA(n){return zu((t,e)=>n<=e)}function pA(n,t=k){return n=n??DO,Z((e,y)=>{let R,K=!0;e.subscribe($(y,pe=>{const Ne=t(pe);(K||!n(R,Ne))&&(K=!1,R=Ne,y.next(pe))}))})}function DO(n,t){return n===t}function jd(n){return Z((t,e)=>{it(n).subscribe($(e,()=>e.complete(),i)),!e.closed&&t.subscribe(e)})}function Tc(n){return null!=n&&"false"!=`${n}`}function mm(n,t=0){return function IO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function mA(n){return Array.isArray(n)?n:[n]}function gm(n){return n instanceof ci?n.nativeElement:n}const gA=new Set;let vm,LO=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):PO}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function OO(n){if(!gA.has(n))try{vm||(vm=document.createElement("style"),vm.setAttribute("type","text/css"),document.head.appendChild(vm)),vm.sheet&&(vm.sheet.insertRule(`@media ${n} {body{ }}`,0),gA.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(Dr(Uh))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PO(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let RO=(()=>{class n{constructor(e,y){this._mediaMatcher=e,this._zone=y,this._queries=new Map,this._destroySubject=new q}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return vA(mA(e)).some(R=>this._registerQuery(R).mql.matches)}observe(e){let K=N_(vA(mA(e)).map(pe=>this._registerQuery(pe).observable));return K=My(K.pipe(zf(1)),K.pipe(hA(1),vb(0))),K.pipe(ne(pe=>{const Ne={matches:!1,breakpoints:{}};return pe.forEach(({matches:Xe,query:ot})=>{Ne.matches=Ne.matches||Xe,Ne.breakpoints[ot]=Xe}),Ne}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const y=this._mediaMatcher.matchMedia(e),K={observable:new P(pe=>{const Ne=Xe=>this._zone.run(()=>pe.next(Xe));return y.addListener(Ne),()=>{y.removeListener(Ne)}}).pipe(nm(y),ne(({matches:pe})=>({query:e,matches:pe})),jd(this._destroySubject)),mql:y};return this._queries.set(e,K),K}}return n.\u0275fac=function(e){return new(e||n)(Dr(LO),Dr(Uo))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vA(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class zO{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new q,this._typeaheadSubscription=D.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new q,this.change=new q,t instanceof Pf&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const R=e.toArray().indexOf(this._activeItem);R>-1&&R!==this._activeItemIndex&&(this._activeItemIndex=R)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ls(e=>this._pressedLetters.push(e)),vb(t),zu(()=>this._pressedLetters.length>0),ne(()=>this._pressedLetters.join(""))).subscribe(e=>{const y=this._getItemsArray();for(let R=1;R<y.length+1;R++){const K=(this._activeItemIndex+R)%y.length,pe=y[K];if(!this._skipPredicateFn(pe)&&0===pe.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(K);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,R=["altKey","ctrlKey","metaKey","shiftKey"].every(K=>!t[K]||this._allowedModifierKeys.indexOf(K)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&R){this.setNextItemActive();break}return;case 38:if(this._vertical&&R){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&R){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&R){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&R){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&R){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&R){const K=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(K>0?K:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&R){const K=this._activeItemIndex+this._pageUpAndDown.delta,pe=this._getItemsArray().length;this._setActiveItemByIndex(K<pe?K:pe-1,-1);break}return;default:return void((R||gb(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),y="number"==typeof t?t:e.indexOf(t);this._activeItem=e[y]??null,this._activeItemIndex=y}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let y=1;y<=e.length;y++){const R=(this._activeItemIndex+t*y+e.length)%e.length;if(!this._skipPredicateFn(e[R]))return void this.setActiveItem(R)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const y=this._getItemsArray();if(y[t]){for(;this._skipPredicateFn(y[t]);)if(!y[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Pf?this._items.toArray():this._items}}class _A extends zO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function wA(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function TA(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const GO=new Hr("cdk-input-modality-detector-options"),qO={ignoreKeys:[18,17,224,91,16]},ym=Zy({passive:!0,capture:!0});let WO=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,y,R,K){this._platform=e,this._mostRecentTarget=null,this._modality=new fu(null),this._lastTouchMs=0,this._onKeydown=pe=>{this._options?.ignoreKeys?.some(Ne=>Ne===pe.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=pm(pe))},this._onMousedown=pe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(wA(pe)?"keyboard":"mouse"),this._mostRecentTarget=pm(pe))},this._onTouchstart=pe=>{TA(pe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=pm(pe))},this._options={...qO,...K},this.modalityDetected=this._modality.pipe(hA(1)),this.modalityChanged=this.modalityDetected.pipe(pA()),e.isBrowser&&y.runOutsideAngular(()=>{R.addEventListener("keydown",this._onKeydown,ym),R.addEventListener("mousedown",this._onMousedown,ym),R.addEventListener("touchstart",this._onTouchstart,ym)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ym),document.removeEventListener("mousedown",this._onMousedown,ym),document.removeEventListener("touchstart",this._onTouchstart,ym))}}return n.\u0275fac=function(e){return new(e||n)(Dr(Uh),Dr(Uo),Dr(ha),Dr(GO,8))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YO=new Hr("cdk-focus-monitor-default-options"),Xy=Zy({passive:!0,capture:!0});let $O=(()=>{class n{constructor(e,y,R,K,pe){this._ngZone=e,this._platform=y,this._inputModalityDetector=R,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new q,this._rootNodeFocusAndBlurListener=Ne=>{for(let ot=pm(Ne);ot;ot=ot.parentElement)"focus"===Ne.type?this._onFocus(Ne,ot):this._onBlur(Ne,ot)},this._document=K,this._detectionMode=pe?.detectionMode||0}monitor(e,y=!1){const R=gm(e);if(!this._platform.isBrowser||1!==R.nodeType)return vi(null);const K=function sO(n){if(function aO(){if(null==mb){const n=typeof document<"u"?document.head:null;mb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mb}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(R)||this._getDocument(),pe=this._elementInfo.get(R);if(pe)return y&&(pe.checkChildren=!0),pe.subject;const Ne={checkChildren:y,subject:new q,rootNode:K};return this._elementInfo.set(R,Ne),this._registerGlobalListeners(Ne),Ne.subject}stopMonitoring(e){const y=gm(e),R=this._elementInfo.get(y);R&&(R.subject.complete(),this._setClasses(y),this._elementInfo.delete(y),this._removeGlobalListeners(R))}focusVia(e,y,R){const K=gm(e);K===this._getDocument().activeElement?this._getClosestElementsInfo(K).forEach(([Ne,Xe])=>this._originChanged(Ne,y,Xe)):(this._setOrigin(y),"function"==typeof K.focus&&K.focus(R))}ngOnDestroy(){this._elementInfo.forEach((e,y)=>this.stopMonitoring(y))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,y){e.classList.toggle("cdk-focused",!!y),e.classList.toggle("cdk-touch-focused","touch"===y),e.classList.toggle("cdk-keyboard-focused","keyboard"===y),e.classList.toggle("cdk-mouse-focused","mouse"===y),e.classList.toggle("cdk-program-focused","program"===y)}_setOrigin(e,y=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&y,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,y){const R=this._elementInfo.get(y),K=pm(e);!R||!R.checkChildren&&y!==K||this._originChanged(y,this._getFocusOrigin(K),R)}_onBlur(e,y){const R=this._elementInfo.get(y);!R||R.checkChildren&&e.relatedTarget instanceof Node&&y.contains(e.relatedTarget)||(this._setClasses(y),this._emitOrigin(R,null))}_emitOrigin(e,y){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(y))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const y=e.rootNode,R=this._rootNodeFocusListenerCount.get(y)||0;R||this._ngZone.runOutsideAngular(()=>{y.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xy),y.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xy)}),this._rootNodeFocusListenerCount.set(y,R+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(jd(this._stopInputModalityDetector)).subscribe(K=>{this._setOrigin(K,!0)}))}_removeGlobalListeners(e){const y=e.rootNode;if(this._rootNodeFocusListenerCount.has(y)){const R=this._rootNodeFocusListenerCount.get(y);R>1?this._rootNodeFocusListenerCount.set(y,R-1):(y.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xy),y.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xy),this._rootNodeFocusListenerCount.delete(y))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,y,R){this._setClasses(e,y),this._emitOrigin(R,y),this._lastFocusOrigin=y}_getClosestElementsInfo(e){const y=[];return this._elementInfo.forEach((R,K)=>{(K===e||R.checkChildren&&K.contains(e))&&y.push([K,R])}),y}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:y,mostRecentModality:R}=this._inputModalityDetector;if("mouse"!==R||!y||y===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const K=e.labels;if(K)for(let pe=0;pe<K.length;pe++)if(K[pe].contains(y))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(Dr(Uo),Dr(Uh),Dr(WO),Dr(ha,8),Dr(YO,8))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AA="cdk-high-contrast-black-on-white",kA="cdk-high-contrast-white-on-black",yb="cdk-high-contrast-active";let XO=(()=>{class n{constructor(e,y){this._platform=e,this._document=y,this._breakpointSubscription=gi(RO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const y=this._document.defaultView||window,R=y&&y.getComputedStyle?y.getComputedStyle(e):null,K=(R&&R.backgroundColor||"").replace(/ /g,"");switch(e.remove(),K){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(yb,AA,kA),this._hasCheckedHighContrastMode=!0;const y=this.getHighContrastMode();1===y?e.add(yb,AA):2===y&&e.add(yb,kA)}}}return n.\u0275fac=function(e){return new(e||n)(Dr(Uh),Dr(ha))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KO=new Hr("cdk-dir-doc",{providedIn:"root",factory:function JO(){return gi(ha)}}),QO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let xb=(()=>{class n{constructor(e){this.value="ltr",this.change=new ui,e&&(this.value=function eP(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?QO.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Dr(KO,8))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({}),n})();const nP=new Hr("mat-sanity-checks",{providedIn:"root",factory:function tP(){return!0}});let Os=(()=>{class n{constructor(e,y,R){this._sanityChecks=y,this._document=R,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function lO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(Dr(XO),Dr(nP,8),Dr(ha))},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[_b,_b]}),n})();function CA(n,t){return class extends n{get color(){return this._color}set color(e){const y=e||this.defaultColor;y!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),y&&this._elementRef.nativeElement.classList.add(`mat-${y}`),this._color=y)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}let bb=(()=>{class n{isErrorState(e,y){return!!(e&&e.invalid&&(e.touched||y&&y.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Os,Os]}),n})();class iP{constructor(t,e,y,R=!1){this._renderer=t,this.element=e,this.config=y,this._animationForciblyDisabledThroughCss=R,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const IA=Zy({passive:!0,capture:!0});class oP{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=pm(t);e&&this._events.get(t.type)?.forEach((y,R)=>{(R===e||R.contains(e))&&y.forEach(K=>K.handleEvent(t))})}}addHandler(t,e,y,R){const K=this._events.get(e);if(K){const pe=K.get(y);pe?pe.add(R):K.set(y,new Set([R]))}else this._events.set(e,new Map([[y,new Set([R])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,IA)})}removeHandler(t,e,y){const R=this._events.get(t);if(!R)return;const K=R.get(e);K&&(K.delete(y),0===K.size&&R.delete(e),0===R.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,IA)))}}const LA={enterDuration:225,exitDuration:150},OA=Zy({passive:!0,capture:!0}),PA=["mousedown","touchstart"],RA=["mouseup","mouseleave","touchend","touchcancel"];class xm{constructor(t,e,y,R){this._target=t,this._ngZone=e,this._platform=R,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,R.isBrowser&&(this._containerElement=gm(y))}fadeInRipple(t,e,y={}){const R=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),K={...LA,...y.animation};y.centered&&(t=R.left+R.width/2,e=R.top+R.height/2);const pe=y.radius||function sP(n,t,e){const y=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),R=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(y*y+R*R)}(t,e,R),Ne=t-R.left,Xe=e-R.top,ot=K.enterDuration,wt=document.createElement("div");wt.classList.add("mat-ripple-element"),wt.style.left=Ne-pe+"px",wt.style.top=Xe-pe+"px",wt.style.height=2*pe+"px",wt.style.width=2*pe+"px",null!=y.color&&(wt.style.backgroundColor=y.color),wt.style.transitionDuration=`${ot}ms`,this._containerElement.appendChild(wt);const Nt=window.getComputedStyle(wt),An=Nt.transitionDuration,Nn="none"===Nt.transitionProperty||"0s"===An||"0s, 0s"===An||0===R.width&&0===R.height,Xn=new iP(this,wt,y,Nn);wt.style.transform="scale3d(1, 1, 1)",Xn.state=0,y.persistent||(this._mostRecentTransientRipple=Xn);let hr=null;return!Nn&&(ot||K.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ar=()=>this._finishRippleTransition(Xn),zr=()=>this._destroyRipple(Xn);wt.addEventListener("transitionend",Ar),wt.addEventListener("transitioncancel",zr),hr={onTransitionEnd:Ar,onTransitionCancel:zr}}),this._activeRipples.set(Xn,hr),(Nn||!ot)&&this._finishRippleTransition(Xn),Xn}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,y={...LA,...t.config.animation};e.style.transitionDuration=`${y.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!y.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=gm(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,PA.forEach(y=>{xm._eventManager.addHandler(this._ngZone,y,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{RA.forEach(e=>{this._triggerElement.addEventListener(e,this,OA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:y}=t.config;t.state=1,!y&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=wA(t),y=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!y&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!TA(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let y=0;y<e.length;y++)this.fadeInRipple(e[y].clientX,e[y].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(PA.forEach(e=>xm._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&RA.forEach(e=>t.removeEventListener(e,this,OA)))}}xm._eventManager=new oP;const wb=new Hr("mat-ripple-global-options");let lP=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,y,R,K,pe){this._elementRef=e,this._animationMode=pe,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=K||{},this._rippleRenderer=new xm(this,y,e,R)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,y=0,R){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,y,{...this.rippleConfig,...R}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(or(ci),or(Uo),or(Uh),or(wb,8),or(Z0,8))},n.\u0275dir=Vr({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,y){2&e&&Cs("mat-ripple-unbounded",y.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),FA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Os,Os]}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Os]}),n})();const uP=["*"],mP=new Hr("MAT_CARD_CONFIG");let Tb=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(or(mP,8))},n.\u0275cmp=Ki({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,y){2&e&&Cs("mat-mdc-card-outlined","outlined"===y.appearance)("mdc-card--outlined","outlined"===y.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:uP,decls:1,vars:0,template:function(e,y){1&e&&(cu(),Es(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),NA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vr({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),zA=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vr({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(e,y){2&e&&Cs("mat-mdc-card-actions-align-end","end"===y.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),BA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vr({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Os,Nd,Os]}),n})();const SP=["plot"],EP=["*"];class Ao{static setModuleName(t){Ao.moduleName=t}static getModuleName(){return Ao.moduleName}static setPlotly(t){if("object"==typeof t&&"function"!=typeof t.react)throw new Error("Invalid plotly.js version. Please, use any version above 1.40.0");Ao.plotly=t}static insert(t){return-1===Ao.instances.indexOf(t)&&Ao.instances.push(t),t}static remove(t){const e=Ao.instances.indexOf(t);e>=0&&(Ao.instances.splice(e,1),Ao.plotly.purge(t))}getInstanceByDivId(t){for(const e of Ao.instances)if(e&&e.id===t)return e}getPlotly(){return _e(this,void 0,void 0,function*(){return yield this.waitFor(()=>"waiting"!==this._getPlotly()),this._getPlotly()})}_getPlotly(){if(typeof Ao.plotly>"u")throw new Error("ViaCDN"===Ao.moduleName?"Error loading Peer dependency plotly.js from CDN url":"Peer dependency plotly.js isn't installed");return Ao.plotly}waitFor(t){return new Promise(e=>{const y=()=>{t()?e():setTimeout(y,10)};y()})}newPlot(t,e,y,R,K){return _e(this,void 0,void 0,function*(){if(yield this.waitFor(()=>"waiting"!==this._getPlotly()),K){const pe={data:e,layout:y,config:R,frames:K};return this._getPlotly().newPlot(t,pe).then(()=>Ao.insert(t))}return this._getPlotly().newPlot(t,e,y,R).then(()=>Ao.insert(t))})}plot(t,e,y,R,K){if(K){const pe={data:e,layout:y,config:R,frames:K};return"function"==typeof this._getPlotly().plot?this._getPlotly().plot(t,pe):this._getPlotly().newPlot(t,pe)}return"function"==typeof this._getPlotly().plot?this._getPlotly().plot(t,e,y,R):this._getPlotly().newPlot(t,e,y,R)}update(t,e,y,R,K){if(K){const pe={data:e,layout:y,config:R,frames:K};return this._getPlotly().react(t,pe)}return this._getPlotly().react(t,e,y,R)}resize(t){return this._getPlotly().Plots.resize(t)}}Ao.\u0275fac=function(t){return new(t||Ao)},Ao.instances=[],Ao.plotly=void 0,Ao.moduleName=void 0,Ao.\u0275prov=Vn({factory:function(){return new Ao},token:Ao,providedIn:"root"});let CP=(()=>{class n{constructor(e,y,R){this.plotly=e,this.iterableDiffers=y,this.keyValueDiffers=R,this.defaultClassName="js-plotly-plot",this.revision=0,this.debug=!1,this.useResizeHandler=!1,this.updateOnLayoutChange=!0,this.updateOnDataChange=!0,this.updateOnlyWithRevision=!1,this.initialized=new ui,this.update=new ui,this.purge=new ui,this.error=new ui,this.afterExport=new ui,this.afterPlot=new ui,this.animated=new ui,this.animatingFrame=new ui,this.animationInterrupted=new ui,this.autoSize=new ui,this.beforeExport=new ui,this.buttonClicked=new ui,this.click=new ui,this.plotlyClick=new ui,this.clickAnnotation=new ui,this.deselect=new ui,this.doubleClick=new ui,this.framework=new ui,this.hover=new ui,this.legendClick=new ui,this.legendDoubleClick=new ui,this.react=new ui,this.relayout=new ui,this.restyle=new ui,this.redraw=new ui,this.selected=new ui,this.selecting=new ui,this.sliderChange=new ui,this.sliderEnd=new ui,this.sliderStart=new ui,this.transitioning=new ui,this.transitionInterrupted=new ui,this.unhover=new ui,this.relayouting=new ui,this.treemapclick=new ui,this.sunburstclick=new ui,this.eventNames=["afterExport","afterPlot","animated","animatingFrame","animationInterrupted","autoSize","beforeExport","buttonClicked","clickAnnotation","deselect","doubleClick","framework","hover","legendClick","legendDoubleClick","react","relayout","restyle","redraw","selected","selecting","sliderChange","sliderEnd","sliderStart","transitioning","transitionInterrupted","unhover","relayouting","treemapclick","sunburstclick"]}ngOnInit(){this.createPlot().then(()=>{const e=this.createFigure();this.initialized.emit(e)}),this.click.observers.length>0&&console.error("DEPRECATED: Reconsider using `(plotlyClick)` instead of `(click)` to avoid event conflict. Please check https://github.com/plotly/angular-plotly.js#FAQ")}ngOnDestroy(){"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0);const e=this.createFigure();this.purge.emit(e),Ao.remove(this.plotlyInstance)}ngOnChanges(e){let y=!1;const R=e.revision;R&&!R.isFirstChange()&&(y=!0);const K=e.debug;K&&!K.isFirstChange()&&(y=!0),y&&this.updatePlot(),this.updateWindowResizeHandler()}ngDoCheck(){if(this.updateOnlyWithRevision)return!1;let e=!1;this.updateOnLayoutChange&&(this.layoutDiffer?this.layoutDiffer.diff(this.layout)&&(e=!0):this.layoutDiffer=this.layout?this.keyValueDiffers.find(this.layout).create():void 0),this.updateOnDataChange&&(this.dataDiffer?this.dataDiffer.diff(this.data)&&(e=!0):this.dataDiffer=Array.isArray(this.data)?this.iterableDiffers.find(this.data).create(this.dataDifferTrackBy):void 0),e&&this.plotlyInstance&&this.updatePlot()}getWindow(){return window}getClassName(){let e=[this.defaultClassName];return Array.isArray(this.className)?e=e.concat(this.className):this.className&&e.push(this.className),e.join(" ")}createPlot(){return this.plotly.newPlot(this.plotEl.nativeElement,this.data,this.layout,this.config,this.frames).then(e=>{this.plotlyInstance=e,this.getWindow().gd=this.debug?e:void 0,this.eventNames.forEach(y=>{const R=`plotly_${y.toLowerCase()}`;e.on(R,K=>this[y].emit(K))}),e.on("plotly_click",y=>{this.click.emit(y),this.plotlyClick.emit(y)}),this.updateWindowResizeHandler()},e=>{console.error("Error while plotting:",e),this.error.emit(e)})}createFigure(){const e=this.plotlyInstance;return{data:e.data,layout:e.layout,frames:e._transitionData?e._transitionData._frames:null}}updatePlot(){if(!this.plotlyInstance){const y=new Error("Plotly component wasn't initialized");throw this.error.emit(y),y}const e=Object.assign({},this.layout);return this.plotly.update(this.plotlyInstance,this.data,e,this.config,this.frames).then(()=>{const y=this.createFigure();this.update.emit(y)},y=>{console.error("Error while updating plot:",y),this.error.emit(y)})}updateWindowResizeHandler(){this.useResizeHandler?void 0===this.resizeHandler&&(this.resizeHandler=()=>this.plotly.resize(this.plotlyInstance),this.getWindow().addEventListener("resize",this.resizeHandler)):"function"==typeof this.resizeHandler&&(this.getWindow().removeEventListener("resize",this.resizeHandler),this.resizeHandler=void 0)}dataDifferTrackBy(e,y){const R=Object.assign({},y,{uid:""});return JSON.stringify(R)}}return n.\u0275fac=function(e){return new(e||n)(or(Ao),or($0),or(Qp))},n.\u0275cmp=Ki({type:n,selectors:[["plotly-plot"]],viewQuery:function(e,y){if(1&e&&H0(SP,7),2&e){let R;Js(R=Qs())&&(y.plotEl=R.first)}},inputs:{revision:"revision",debug:"debug",useResizeHandler:"useResizeHandler",updateOnLayoutChange:"updateOnLayoutChange",updateOnDataChange:"updateOnDataChange",updateOnlyWithRevision:"updateOnlyWithRevision",data:"data",layout:"layout",config:"config",frames:"frames",style:"style",divId:"divId",className:"className"},outputs:{initialized:"initialized",update:"update",purge:"purge",error:"error",afterExport:"afterExport",afterPlot:"afterPlot",animated:"animated",animatingFrame:"animatingFrame",animationInterrupted:"animationInterrupted",autoSize:"autoSize",beforeExport:"beforeExport",buttonClicked:"buttonClicked",click:"click",plotlyClick:"plotlyClick",clickAnnotation:"clickAnnotation",deselect:"deselect",doubleClick:"doubleClick",framework:"framework",hover:"hover",legendClick:"legendClick",legendDoubleClick:"legendDoubleClick",react:"react",relayout:"relayout",restyle:"restyle",redraw:"redraw",selected:"selected",selecting:"selecting",sliderChange:"sliderChange",sliderEnd:"sliderEnd",sliderStart:"sliderStart",transitioning:"transitioning",transitionInterrupted:"transitionInterrupted",unhover:"unhover",relayouting:"relayouting",treemapclick:"treemapclick",sunburstclick:"sunburstclick"},features:[$o([Ao]),Qi],ngContentSelectors:EP,decls:3,vars:3,consts:[[3,"ngClass","ngStyle"],["plot",""]],template:function(e,y){1&e&&(cu(),Br(0,"div",0,1),Es(2),Qr()),2&e&&(wi("ngClass",y.getClassName())("ngStyle",y.style),os("id",y.divId))},dependencies:[cM,vM],encapsulation:2}),n})(),_m=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({providers:[Ao],imports:[Nd]}),n})(),jA=(()=>{class n{constructor(){if(!this.isValid())throw new Error("Invalid PlotlyJS object. Please check https://github.com/plotly/angular-plotly.js#quick-start to see how to add PlotlyJS to your project.");Ao.setPlotly(n.plotlyjs)}isValid(){return void 0!==n.plotlyjs&&("function"==typeof n.plotlyjs.plot||"function"==typeof n.plotlyjs.newPlot)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({providers:[Ao],imports:[Nd,_m,_m]}),n.plotlyjs={},n})(),DP=(()=>{var n;class t{}return(n=t).\u0275fac=function(y){return new(y||n)},n.\u0275cmp=Ki({type:n,selectors:[["app-nav-bar"]],decls:0,vars:0,template:function(y,R){},styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:#6495ed;color:#fff}.mat-button[_ngcontent-%COMP%]{color:#fff}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();function VA(...n){const t=Wt(n),{args:e,keys:y}=ZM(n),R=new P(K=>{const{length:pe}=e;if(!pe)return void K.complete();const Ne=new Array(pe);let Xe=pe,ot=pe;for(let wt=0;wt<pe;wt++){let Nt=!1;it(e[wt]).subscribe($(K,hn=>{Nt||(Nt=!0,ot--),Ne[wt]=hn},()=>Xe--,void 0,()=>{(!Xe||!Nt)&&(ot||K.next(y?$M(y,Ne):Ne),K.complete())}))}});return t?R.pipe(YM(t)):R}const RP=!1,ec=new Hr("NgValidators"),qf=new Hr("NgAsyncValidators");function QA(n){return null!=n}function ek(n){const t=O0(n)?an(n):n;if(RP&&!wx(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new qt(-1101,e)}return t}function tk(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function nk(n,t){return t.map(e=>e(n))}function rk(n){return n.map(t=>function NP(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ab(n){return null!=n?function ik(n){if(!n)return null;const t=n.filter(QA);return 0==t.length?null:function(e){return tk(nk(e,t))}}(rk(n)):null}function kb(n){return null!=n?function ok(n){if(!n)return null;const t=n.filter(QA);return 0==t.length?null:function(e){return VA(nk(e,t).map(ek)).pipe(ne(tk))}}(rk(n)):null}function ak(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function sk(n){return n._rawValidators}function lk(n){return n._rawAsyncValidators}function Sb(n){return n?Array.isArray(n)?n:[n]:[]}function Jy(n,t){return Array.isArray(n)?n.includes(t):n===t}function ck(n,t){const e=Sb(t);return Sb(n).forEach(R=>{Jy(e,R)||e.push(R)}),e}function uk(n,t){return Sb(t).filter(e=>!Jy(n,e))}class dk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ab(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Mc extends dk{get formDirective(){return null}get path(){return null}}class fk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hk=(()=>{class n extends fk{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(or(Mc,10))},n.\u0275dir=Vr({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,y){2&e&&Cs("ng-untouched",y.isUntouched)("ng-touched",y.isTouched)("ng-pristine",y.isPristine)("ng-dirty",y.isDirty)("ng-valid",y.isValid)("ng-invalid",y.isInvalid)("ng-pending",y.isPending)("ng-submitted",y.isSubmitted)},features:[ro]}),n})();function pk(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const Db=!1,_g="VALID",e1="INVALID",bm="PENDING",bg="DISABLED";function Ib(n){return(t1(n)?n.validators:n)||null}function Lb(n,t){return(t1(t)?t.asyncValidators:n)||null}function t1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function mk(n,t,e){const y=n.controls;if(!(t?Object.keys(y):y).length)throw new qt(1e3,Db?function UP(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!y[e])throw new qt(1001,Db?function HP(n,t){return`Cannot find form control ${pk(n,t)}`}(t,e):"")}function gk(n,t,e){n._forEachChild((y,R)=>{if(void 0===e[R])throw new qt(1002,Db?function GP(n,t){return`Must supply a value for form control ${pk(n,t)}`}(t,R):"")})}class n1{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_g}get invalid(){return this.status===e1}get pending(){return this.status==bm}get disabled(){return this.status===bg}get enabled(){return this.status!==bg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ck(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ck(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(uk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(uk(t,this._rawAsyncValidators))}hasValidator(t){return Jy(this._rawValidators,t)}hasAsyncValidator(t){return Jy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=bm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bg,this.errors=null,this._forEachChild(y=>{y.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(y=>y(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_g,this._forEachChild(y=>{y.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(y=>y(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_g||this.status===bm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bg:_g}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=bm,this._hasOwnPendingAsyncValidator=!0;const e=ek(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(y,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((y,R)=>y&&y._find(R),this)}getError(t,e){const y=e?this.get(e):this;return y&&y.errors?y.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ui,this.statusChanges=new ui}_calculateStatus(){return this._allControlsDisabled()?bg:this.errors?e1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bm)?bm:this._anyControlsHaveStatus(e1)?e1:_g}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){t1(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function qP(n){return Array.isArray(n)?Ab(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function WP(n){return Array.isArray(n)?kb(n):n||null}(this._rawAsyncValidators)}}class wg extends n1{constructor(t,e,y){super(Ib(e),Lb(y,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,y={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,y={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){gk(this,!0,t),Object.keys(t).forEach(y=>{mk(this,!0,y),this.controls[y].setValue(t[y],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(y=>{const R=this.controls[y];R&&R.patchValue(t[y],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((y,R)=>{y.reset(t[R],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,y)=>(t[y]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,y)=>!!y._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const y=this.controls[e];y&&t(y,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,y]of Object.entries(this.controls))if(this.contains(e)&&t(y))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,y,R)=>((y.enabled||this.disabled)&&(e[R]=y.value),e))}_reduceChildren(t,e){let y=t;return this._forEachChild((R,K)=>{y=e(y,R,K)}),y}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class vk extends wg{}const qh=new Hr("CallSetDisabledState",{providedIn:"root",factory:()=>Tg}),Tg="always";function Mg(n,t,e=Tg){Ob(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function YP(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yk(n,t)})}(n,t),function XP(n,t){const e=(y,R)=>{t.valueAccessor.writeValue(y),R&&t.viewToModelUpdate(y)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function $P(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yk(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ZP(n,t){if(t.valueAccessor.setDisabledState){const e=y=>{t.valueAccessor.setDisabledState(y)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function o1(n,t,e=!0){const y=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(y),t.valueAccessor.registerOnTouched(y)),s1(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function a1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ob(n,t){const e=sk(n);null!==t.validator?n.setValidators(ak(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const y=lk(n);null!==t.asyncValidator?n.setAsyncValidators(ak(y,t.asyncValidator)):"function"==typeof y&&n.setAsyncValidators([y]);const R=()=>n.updateValueAndValidity();a1(t._rawValidators,R),a1(t._rawAsyncValidators,R)}function s1(n,t){let e=!1;if(null!==n){if(null!==t.validator){const R=sk(n);if(Array.isArray(R)&&R.length>0){const K=R.filter(pe=>pe!==t.validator);K.length!==R.length&&(e=!0,n.setValidators(K))}}if(null!==t.asyncValidator){const R=lk(n);if(Array.isArray(R)&&R.length>0){const K=R.filter(pe=>pe!==t.asyncValidator);K.length!==R.length&&(e=!0,n.setAsyncValidators(K))}}}const y=()=>{};return a1(t._rawValidators,y),a1(t._rawAsyncValidators,y),e}function yk(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bk(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function wk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kg=class extends n1{constructor(t=null,e,y){super(Ib(e),Lb(y,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),t1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=wk(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(y=>y(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){wk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Sk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vr({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({}),n})();const zb=new Hr("NgModelWithFormControlWarning"),uR={provide:Mc,useExisting:lr(()=>l1)};let l1=(()=>{class n extends Mc{constructor(e,y,R){super(),this.callSetDisabledState=R,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ui,this._setValidators(e),this._setAsyncValidators(y)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(s1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const y=this.form.get(e.path);return Mg(y,e,this.callSetDisabledState),y.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),y}getControl(e){return this.form.get(e.path)}removeControl(e){o1(e.control||null,e,!1),function eR(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,y){this.form.get(e.path).setValue(y)}onSubmit(e){return this.submitted=!0,function _k(n,t){n._syncPendingControls(),t.forEach(e=>{const y=e.control;"submit"===y.updateOn&&y._pendingChange&&(e.viewToModelUpdate(y._pendingValue),y._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const y=e.control,R=this.form.get(e.path);y!==R&&(o1(y||null,e),(n=>n instanceof kg)(R)&&(Mg(R,e,this.callSetDisabledState),e.control=R))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const y=this.form.get(e.path);(function xk(n,t){Ob(n,t)})(y,e),y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const y=this.form.get(e.path);y&&function KP(n,t){return s1(n,t)}(y,e)&&y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ob(this.form,this),this._oldForm&&s1(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(or(ec,10),or(qf,10),or(qh,8))},n.\u0275dir=Vr({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,y){1&e&&xl("submit",function(K){return y.onSubmit(K)})("reset",function(){return y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$o([uR]),ro,Qi]}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Ck]}),n})();class Zk extends n1{constructor(t,e,y){super(Ib(e),Lb(y,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,y={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:y.emitEvent})}removeAt(t,e={}){let y=this._adjustIndex(t);y<0&&(y=0),this.controls[y]&&this.controls[y]._registerOnCollectionChange(()=>{}),this.controls.splice(y,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,y={}){let R=this._adjustIndex(t);R<0&&(R=0),this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),e&&(this.controls.splice(R,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){gk(this,!1,t),t.forEach((y,R)=>{mk(this,!1,R),this.at(R).setValue(y,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((y,R)=>{this.at(R)&&this.at(R).patchValue(y,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((y,R)=>{y.reset(t[R],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,y)=>!!y._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,y)=>{t(e,y)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Yk(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ER=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,y=null){const R=this._reduceControls(e);let K={};return Yk(y)?K=y:null!==y&&(K.validators=y.validator,K.asyncValidators=y.asyncValidator),new wg(R,K)}record(e,y=null){const R=this._reduceControls(e);return new vk(R,y)}control(e,y,R){let K={};return this.useNonNullable?(Yk(y)?K=y:(K.validators=y,K.asyncValidators=R),new kg(e,{...K,nonNullable:!0})):new kg(e,y,R)}array(e,y,R){const K=e.map(pe=>this._createControl(pe));return new Zk(K,y,R)}_reduceControls(e){const y={};return Object.keys(e).forEach(R=>{y[R]=this._createControl(e[R])}),y}_createControl(e){return e instanceof kg||e instanceof n1?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:qh,useValue:e.callSetDisabledState??Tg}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Wk]}),n})(),DR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:zb,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:qh,useValue:e.callSetDisabledState??Tg}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Wk]}),n})();const $k=["*"];class LR{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(y=>this._trackTile(y))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new OR(this.rowIndex,e)}_findMatchingGap(t){let e=-1,y=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),y=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(y=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),y=this._findGapEndIndex(e)))}while(y-e<t||0==y);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let y=0;y<e.colspan;y++)this.tracker[t+y]=e.rowspan}}class OR{constructor(t,e){this.row=t,this.col=e}}const Xk=new Hr("MAT_GRID_LIST");let Kk=(()=>{class n{constructor(e,y){this._element=e,this._gridList=y,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(mm(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(mm(e))}_setStyle(e,y){this._element.nativeElement.style[e]=y}}return n.\u0275fac=function(e){return new(e||n)(or(ci),or(Xk,8))},n.\u0275cmp=Ki({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,y){2&e&&os("rowspan",y.rowspan)("colspan",y.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:$k,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,y){1&e&&(cu(),Br(0,"div",0),Es(1),Qr())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const PR=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Gb{constructor(){this._rows=0,this._rowspan=0}init(t,e,y,R){this._gutterSize=Jk(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=y,this._direction=R}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Zh(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,y){let R=100/this._cols,K=(this._cols-1)/this._cols;this.setColStyles(t,y,R,K),this.setRowStyles(t,e,R,K)}setColStyles(t,e,y,R){let K=this.getBaseTileSize(y,R);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(K,e)),t._setStyle("width",Zh(this.getTileSize(K,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class RR extends Gb{constructor(t){super(),this.fixedRowHeight=t}init(t,e,y,R){super.init(t,e,y,R),this.fixedRowHeight=Jk(this.fixedRowHeight),PR.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Zh(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Zh(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class FR extends Gb{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,y,R){this.baseTileHeight=this.getBaseTileSize(y/this.rowHeightRatio,R),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Zh(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Zh(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class NR extends Gb{setRowStyles(t,e){let K=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(K,e)),t._setStyle("height",Zh(this.getTileSize(K,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Zh(n){return`calc(${n})`}function Jk(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let BR=(()=>{class n{constructor(e,y){this._element=e,this._dir=y,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(mm(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const y=`${e??""}`;y!==this._rowHeight&&(this._rowHeight=y,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new NR:e&&e.indexOf(":")>-1?new FR(e):new RR(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new LR);const e=this._tileCoordinator,y=this._tiles.filter(K=>!K._gridList||K._gridList===this),R=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,y),this._tileStyler.init(this.gutterSize,e,this.cols,R),y.forEach((K,pe)=>{const Ne=e.positions[pe];this._tileStyler.setStyle(K,Ne.row,Ne.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(or(ci),or(xb,8))},n.\u0275cmp=Ki({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,y,R){if(1&e&&bc(R,Kk,5),2&e){let K;Js(K=Qs())&&(y._tiles=K)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,y){2&e&&os("cols",y.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[$o([{provide:Xk,useExisting:n}])],ngContentSelectors:$k,decls:2,vars:0,template:function(e,y){1&e&&(cu(),Br(0,"div"),Es(1),Qr())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),jR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[DA,Os,DA,Os]}),n})();class qb{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class VR extends qb{constructor(t,e,y,R,K){super(),this.component=t,this.viewContainerRef=e,this.injector=y,this.componentFactoryResolver=R,this.projectableNodes=K}}class Qk extends qb{constructor(t,e,y,R){super(),this.templateRef=t,this.viewContainerRef=e,this.context=y,this.injector=R}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class UR extends qb{constructor(t){super(),this.element=t instanceof ci?t.nativeElement:t}}class HR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof VR?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Qk?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof UR?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let GR=(()=>{class n extends HR{constructor(e,y,R){super(),this._componentFactoryResolver=e,this._viewContainerRef=y,this._isInitialized=!1,this.attached=new ui,this.attachDomPortal=K=>{const pe=K.element,Ne=this._document.createComment("dom-portal");K.setAttachedHost(this),pe.parentNode.insertBefore(Ne,pe),this._getRootNode().appendChild(pe),this._attachedPortal=K,super.setDisposeFn(()=>{Ne.parentNode&&Ne.parentNode.replaceChild(pe,Ne)})},this._document=R}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const y=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,K=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),pe=y.createComponent(K,y.length,e.injector||y.injector,e.projectableNodes||void 0);return y!==this._viewContainerRef&&this._getRootNode().appendChild(pe.hostView.rootNodes[0]),super.setDisposeFn(()=>pe.destroy()),this._attachedPortal=e,this._attachedRef=pe,this.attached.emit(pe),pe}attachTemplatePortal(e){e.setAttachedHost(this);const y=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=y,this.attached.emit(y),y}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(or(Xi),or(Wc),or(ha))},n.\u0275dir=Vr({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ro]}),n})(),qR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({}),n})();function WR(n,t){1&n&&Es(0)}const ZR=["*"];let e4=(()=>{class n{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(or(ci))},n.\u0275dir=Vr({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),t4=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(or(qc))},n.\u0275dir=Vr({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),YR=0;const n4=new Hr("STEPPER_GLOBAL_OPTIONS");let Wb=(()=>{class n{get editable(){return this._editable}set editable(e){this._editable=Tc(e)}get optional(){return this._optional}set optional(e){this._optional=Tc(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=Tc(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=Tc(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,y){this._stepper=e,this.interacted=!1,this.interactedStream=new ui,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=y||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return n.\u0275fac=function(e){return new(e||n)(or(lr(()=>Zb)),or(n4,8))},n.\u0275cmp=Ki({type:n,selectors:[["cdk-step"]],contentQueries:function(e,y,R){if(1&e&&bc(R,t4,5),2&e){let K;Js(K=Qs())&&(y.stepLabel=K.first)}},viewQuery:function(e,y){if(1&e&&H0(qc,7),2&e){let R;Js(R=Qs())&&(y.content=R.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[Qi],ngContentSelectors:ZR,decls:1,vars:0,template:function(e,y){1&e&&(cu(),io(0,WR,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),Zb=(()=>{class n{get linear(){return this._linear}set linear(e){this._linear=Tc(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const y=mm(e);this.steps&&this._steps?(this._isValidIndex(y),this.selected?._markAsInteracted(),this._selectedIndex!==y&&!this._anyControlsInvalidOrPending(y)&&(y>=this._selectedIndex||this.steps.toArray()[y].editable)&&this._updateSelectedItemIndex(y)):this._selectedIndex=y}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}constructor(e,y,R){this._dir=e,this._changeDetectorRef=y,this._elementRef=R,this._destroyed=new q,this.steps=new Pf,this._sortedHeaders=new Pf,this._linear=!1,this._selectedIndex=0,this.selectionChange=new ui,this._orientation="horizontal",this._groupId=YR++}ngAfterContentInit(){this._steps.changes.pipe(nm(this._steps),jd(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(y=>y._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(nm(this._stepHeader),jd(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((y,R)=>y._elementRef.nativeElement.compareDocumentPosition(R._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new _A(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:vi()).pipe(nm(this._layoutDirection()),jd(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const y=e-this._selectedIndex;return y<0?"rtl"===this._layoutDirection()?"next":"previous":y>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,y="number"){const R=this.steps.toArray()[e],K=this._isCurrentStep(e);return R._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(R,K):this._getGuidelineLogic(R,K,y)}_getDefaultIndicatorLogic(e,y){return e._showError()&&e.hasError&&!y?"error":!e.completed||y?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,y,R="number"){return e._showError()&&e.hasError&&!y?"error":e.completed&&!y?"done":e.completed&&y?R:e.editable&&y?"edit":R}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const y=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:y[e],previouslySelectedStep:y[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const y=gb(e),R=e.keyCode,K=this._keyManager;null==K.activeItemIndex||y||32!==R&&13!==R?K.setFocusOrigin("keyboard").onKeydown(e):(this.selectedIndex=K.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(y=>{const R=y.stepControl;return(R?R.invalid||R.pending||!y.interacted:!y.completed)&&!y.optional&&!y._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,y=function lA(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}();return e===y||e.contains(y)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return n.\u0275fac=function(e){return new(e||n)(or(xb,8),or(Ff),or(ci))},n.\u0275dir=Vr({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(e,y,R){if(1&e&&(bc(R,Wb,5),bc(R,e4,5)),2&e){let K;Js(K=Qs())&&(y._steps=K),Js(K=Qs())&&(y._stepHeader=K)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),$R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[_b]}),n})();class Yb{}class Zf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const y=e.indexOf(":");if(y>0){const R=e.slice(0,y),K=R.toLowerCase(),pe=e.slice(y+1).trim();this.maybeSetNormalizedName(R,K),this.headers.has(K)?this.headers.get(K).push(pe):this.headers.set(K,[pe])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,y])=>{let R;if(R="string"==typeof y?[y]:"number"==typeof y?[y.toString()]:y.map(K=>K.toString()),R.length>0){const K=e.toLowerCase();this.headers.set(K,R),this.maybeSetNormalizedName(e,K)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let y=t.value;if("string"==typeof y&&(y=[y]),0===y.length)return;this.maybeSetNormalizedName(t.name,e);const R=("a"===t.op?this.headers.get(e):void 0)||[];R.push(...y),this.headers.set(e,R);break;case"d":const K=t.value;if(K){let pe=this.headers.get(e);if(!pe)return;pe=pe.filter(Ne=>-1===K.indexOf(Ne)),0===pe.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,pe)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class XR{encodeKey(t){return o4(t)}encodeValue(t){return o4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const JR=/%(\d[a-f0-9])/gi,QR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function o4(n){return encodeURIComponent(n).replace(JR,(t,e)=>QR[e]??t)}function c1(n){return`${n}`}class Yf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new XR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function KR(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(R=>{const K=R.indexOf("="),[pe,Ne]=-1==K?[t.decodeKey(R),""]:[t.decodeKey(R.slice(0,K)),t.decodeValue(R.slice(K+1))],Xe=e.get(pe)||[];Xe.push(Ne),e.set(pe,Xe)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const y=t.fromObject[e],R=Array.isArray(y)?y.map(c1):[c1(y)];this.map.set(e,R)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(y=>{const R=t[y];Array.isArray(R)?R.forEach(K=>{e.push({param:y,value:K,op:"a"})}):e.push({param:y,value:R,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(y=>e+"="+this.encoder.encodeValue(y)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Yf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(c1(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let y=this.map.get(t.param)||[];const R=y.indexOf(c1(t.value));-1!==R&&y.splice(R,1),y.length>0?this.map.set(t.param,y):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class eF{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function a4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function s4(n){return typeof Blob<"u"&&n instanceof Blob}function l4(n){return typeof FormData<"u"&&n instanceof FormData}class Sg{constructor(t,e,y,R){let K;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function tF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||R?(this.body=void 0!==y?y:null,K=R):K=y,K&&(this.reportProgress=!!K.reportProgress,this.withCredentials=!!K.withCredentials,K.responseType&&(this.responseType=K.responseType),K.headers&&(this.headers=K.headers),K.context&&(this.context=K.context),K.params&&(this.params=K.params)),this.headers||(this.headers=new Zf),this.context||(this.context=new eF),this.params){const pe=this.params.toString();if(0===pe.length)this.urlWithParams=e;else{const Ne=e.indexOf("?");this.urlWithParams=e+(-1===Ne?"?":Ne<e.length-1?"&":"")+pe}}else this.params=new Yf,this.urlWithParams=e}serializeBody(){return null===this.body?null:a4(this.body)||s4(this.body)||l4(this.body)||function nF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||l4(this.body)?null:s4(this.body)?this.body.type||null:a4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,y=t.url||this.url,R=t.responseType||this.responseType,K=void 0!==t.body?t.body:this.body,pe=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,Ne=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let Xe=t.headers||this.headers,ot=t.params||this.params;const wt=t.context??this.context;return void 0!==t.setHeaders&&(Xe=Object.keys(t.setHeaders).reduce((Nt,hn)=>Nt.set(hn,t.setHeaders[hn]),Xe)),t.setParams&&(ot=Object.keys(t.setParams).reduce((Nt,hn)=>Nt.set(hn,t.setParams[hn]),ot)),new Sg(e,y,K,{params:ot,headers:Xe,context:wt,reportProgress:Ne,responseType:R,withCredentials:pe})}}var Rl=(()=>((Rl=Rl||{})[Rl.Sent=0]="Sent",Rl[Rl.UploadProgress=1]="UploadProgress",Rl[Rl.ResponseHeader=2]="ResponseHeader",Rl[Rl.DownloadProgress=3]="DownloadProgress",Rl[Rl.Response=4]="Response",Rl[Rl.User=5]="User",Rl))();class rF{constructor(t,e=200,y="OK"){this.headers=t.headers||new Zf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||y,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $b extends rF{constructor(t={}){super(t),this.type=Rl.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $b({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Xb(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Kb=(()=>{class n{constructor(e){this.handler=e}request(e,y,R={}){let K;if(e instanceof Sg)K=e;else{let Xe,ot;Xe=R.headers instanceof Zf?R.headers:new Zf(R.headers),R.params&&(ot=R.params instanceof Yf?R.params:new Yf({fromObject:R.params})),K=new Sg(e,y,void 0!==R.body?R.body:null,{headers:Xe,context:R.context,params:ot,reportProgress:R.reportProgress,responseType:R.responseType||"json",withCredentials:R.withCredentials})}const pe=vi(K).pipe(jf(Xe=>this.handler.handle(Xe)));if(e instanceof Sg||"events"===R.observe)return pe;const Ne=pe.pipe(zu(Xe=>Xe instanceof $b));switch(R.observe||"body"){case"body":switch(K.responseType){case"arraybuffer":return Ne.pipe(ne(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Xe.body}));case"blob":return Ne.pipe(ne(Xe=>{if(null!==Xe.body&&!(Xe.body instanceof Blob))throw new Error("Response is not a Blob.");return Xe.body}));case"text":return Ne.pipe(ne(Xe=>{if(null!==Xe.body&&"string"!=typeof Xe.body)throw new Error("Response is not a string.");return Xe.body}));default:return Ne.pipe(ne(Xe=>Xe.body))}case"response":return Ne;default:throw new Error(`Unreachable: unhandled observe type ${R.observe}}`)}}delete(e,y={}){return this.request("DELETE",e,y)}get(e,y={}){return this.request("GET",e,y)}head(e,y={}){return this.request("HEAD",e,y)}jsonp(e,y){return this.request("JSONP",e,{params:(new Yf).append(y,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,y={}){return this.request("OPTIONS",e,y)}patch(e,y,R={}){return this.request("PATCH",e,Xb(R,y))}post(e,y,R={}){return this.request("POST",e,Xb(R,y))}put(e,y,R={}){return this.request("PUT",e,Xb(R,y))}}return n.\u0275fac=function(e){return new(e||n)(Dr(Yb))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();const gF=["*"];let d1;function Eg(n){return function vF(){if(void 0===d1&&(d1=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(d1=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return d1}()?.createHTML(n)||n}function g4(n){return Error(`Unable to find icon with the name "${n}"`)}function v4(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function y4(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Yh{constructor(t,e,y){this.url=t,this.svgText=e,this.options=y}}let f1=(()=>{class n{constructor(e,y,R,K){this._httpClient=e,this._sanitizer=y,this._errorHandler=K,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=R}addSvgIcon(e,y,R){return this.addSvgIconInNamespace("",e,y,R)}addSvgIconLiteral(e,y,R){return this.addSvgIconLiteralInNamespace("",e,y,R)}addSvgIconInNamespace(e,y,R,K){return this._addSvgIconConfig(e,y,new Yh(R,null,K))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,y,R,K){const pe=this._sanitizer.sanitize(ge.HTML,R);if(!pe)throw y4(R);const Ne=Eg(pe);return this._addSvgIconConfig(e,y,new Yh("",Ne,K))}addSvgIconSet(e,y){return this.addSvgIconSetInNamespace("",e,y)}addSvgIconSetLiteral(e,y){return this.addSvgIconSetLiteralInNamespace("",e,y)}addSvgIconSetInNamespace(e,y,R){return this._addSvgIconSetConfig(e,new Yh(y,null,R))}addSvgIconSetLiteralInNamespace(e,y,R){const K=this._sanitizer.sanitize(ge.HTML,y);if(!K)throw y4(y);const pe=Eg(K);return this._addSvgIconSetConfig(e,new Yh("",pe,R))}registerFontClassAlias(e,y=e){return this._fontCssClassesByAlias.set(e,y),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const y=this._sanitizer.sanitize(ge.RESOURCE_URL,e);if(!y)throw v4(e);const R=this._cachedIconsByUrl.get(y);return R?vi(h1(R)):this._loadSvgIconFromConfig(new Yh(e,null)).pipe(Ls(K=>this._cachedIconsByUrl.set(y,K)),ne(K=>h1(K)))}getNamedSvgIcon(e,y=""){const R=x4(y,e);let K=this._svgIconConfigs.get(R);if(K)return this._getSvgFromConfig(K);if(K=this._getIconConfigFromResolvers(y,e),K)return this._svgIconConfigs.set(R,K),this._getSvgFromConfig(K);const pe=this._iconSetConfigs.get(y);return pe?this._getSvgFromIconSetConfigs(e,pe):tm(g4(R))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?vi(h1(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ne(y=>h1(y)))}_getSvgFromIconSetConfigs(e,y){const R=this._extractIconWithNameFromAnySet(e,y);return R?vi(R):VA(y.filter(pe=>!pe.svgText).map(pe=>this._loadSvgIconSetFromConfig(pe).pipe(zd(Ne=>{const ot=`Loading icon set URL: ${this._sanitizer.sanitize(ge.RESOURCE_URL,pe.url)} failed: ${Ne.message}`;return this._errorHandler.handleError(new Error(ot)),vi(null)})))).pipe(ne(()=>{const pe=this._extractIconWithNameFromAnySet(e,y);if(!pe)throw g4(e);return pe}))}_extractIconWithNameFromAnySet(e,y){for(let R=y.length-1;R>=0;R--){const K=y[R];if(K.svgText&&K.svgText.toString().indexOf(e)>-1){const pe=this._svgElementFromConfig(K),Ne=this._extractSvgIconFromSet(pe,e,K.options);if(Ne)return Ne}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ls(y=>e.svgText=y),ne(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?vi(null):this._fetchIcon(e).pipe(Ls(y=>e.svgText=y))}_extractSvgIconFromSet(e,y,R){const K=e.querySelector(`[id="${y}"]`);if(!K)return null;const pe=K.cloneNode(!0);if(pe.removeAttribute("id"),"svg"===pe.nodeName.toLowerCase())return this._setSvgAttributes(pe,R);if("symbol"===pe.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(pe),R);const Ne=this._svgElementFromString(Eg("<svg></svg>"));return Ne.appendChild(pe),this._setSvgAttributes(Ne,R)}_svgElementFromString(e){const y=this._document.createElement("DIV");y.innerHTML=e;const R=y.querySelector("svg");if(!R)throw Error("<svg> tag not found");return R}_toSvgElement(e){const y=this._svgElementFromString(Eg("<svg></svg>")),R=e.attributes;for(let K=0;K<R.length;K++){const{name:pe,value:Ne}=R[K];"id"!==pe&&y.setAttribute(pe,Ne)}for(let K=0;K<e.childNodes.length;K++)e.childNodes[K].nodeType===this._document.ELEMENT_NODE&&y.appendChild(e.childNodes[K].cloneNode(!0));return y}_setSvgAttributes(e,y){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),y&&y.viewBox&&e.setAttribute("viewBox",y.viewBox),e}_fetchIcon(e){const{url:y,options:R}=e,K=R?.withCredentials??!1;if(!this._httpClient)throw function yF(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==y)throw Error(`Cannot fetch icon from URL "${y}".`);const pe=this._sanitizer.sanitize(ge.RESOURCE_URL,y);if(!pe)throw v4(y);const Ne=this._inProgressUrlFetches.get(pe);if(Ne)return Ne;const Xe=this._httpClient.get(pe,{responseType:"text",withCredentials:K}).pipe(ne(ot=>Eg(ot)),ky(()=>this._inProgressUrlFetches.delete(pe)),kn());return this._inProgressUrlFetches.set(pe,Xe),Xe}_addSvgIconConfig(e,y,R){return this._svgIconConfigs.set(x4(e,y),R),this}_addSvgIconSetConfig(e,y){const R=this._iconSetConfigs.get(e);return R?R.push(y):this._iconSetConfigs.set(e,[y]),this}_svgElementFromConfig(e){if(!e.svgElement){const y=this._svgElementFromString(e.svgText);this._setSvgAttributes(y,e.options),e.svgElement=y}return e.svgElement}_getIconConfigFromResolvers(e,y){for(let R=0;R<this._resolvers.length;R++){const K=this._resolvers[R](y,e);if(K)return _F(K)?new Yh(K.url,null,K.options):new Yh(K,null)}}}return n.\u0275fac=function(e){return new(e||n)(Dr(Kb,8),Dr(F_),Dr(ha,8),Dr(Oc))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h1(n){return n.cloneNode(!0)}function x4(n,t){return n+":"+t}function _F(n){return!(!n.url||!n.options)}const bF=CA(class{constructor(n){this._elementRef=n}}),wF=new Hr("MAT_ICON_DEFAULT_OPTIONS"),TF=new Hr("mat-icon-location",{providedIn:"root",factory:function MF(){const n=gi(ha),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),_4=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],AF=_4.map(n=>`[${n}]`).join(", "),kF=/^url\(['"]?#(.*?)['"]?\)$/;let SF=(()=>{class n extends bF{get inline(){return this._inline}set inline(e){this._inline=Tc(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const y=this._cleanupFontValue(e);y!==this._fontSet&&(this._fontSet=y,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const y=this._cleanupFontValue(e);y!==this._fontIcon&&(this._fontIcon=y,this._updateFontIconClasses())}constructor(e,y,R,K,pe,Ne){super(e),this._iconRegistry=y,this._location=K,this._errorHandler=pe,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=D.EMPTY,Ne&&(Ne.color&&(this.color=this.defaultColor=Ne.color),Ne.fontSet&&(this.fontSet=Ne.fontSet)),R||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const y=e.split(":");switch(y.length){case 1:return["",y[0]];case 2:return y;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const y=this._location.getPathname();y!==this._previousPath&&(this._previousPath=y,this._prependPathToReferences(y))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const y=this._location.getPathname();this._previousPath=y,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(y),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let y=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();y--;){const R=e.childNodes[y];(1!==R.nodeType||"svg"===R.nodeName.toLowerCase())&&R.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,y=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(R=>R.length>0);this._previousFontSetClass.forEach(R=>e.classList.remove(R)),y.forEach(R=>e.classList.add(R)),this._previousFontSetClass=y,this.fontIcon!==this._previousFontIconClass&&!y.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const y=this._elementsWithExternalReferences;y&&y.forEach((R,K)=>{R.forEach(pe=>{K.setAttribute(pe.name,`url('${e}#${pe.value}')`)})})}_cacheChildrenWithExternalReferences(e){const y=e.querySelectorAll(AF),R=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let K=0;K<y.length;K++)_4.forEach(pe=>{const Ne=y[K],Xe=Ne.getAttribute(pe),ot=Xe?Xe.match(kF):null;if(ot){let wt=R.get(Ne);wt||(wt=[],R.set(Ne,wt)),wt.push({name:pe,value:ot[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[y,R]=this._splitIconName(e);y&&(this._svgNamespace=y),R&&(this._svgName=R),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(R,y).pipe(zf(1)).subscribe(K=>this._setSvgElement(K),K=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${y}:${R}! ${K.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(or(ci),or(f1),function Jd(n){return function np(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const y=e.length;let R=0;for(;R<y;){const K=e[R];if(Ri(K))break;if(0===K)R+=2;else if("number"==typeof K)for(R++;R<y&&"string"==typeof e[R];)R++;else{if(K===t)return e[R+1];R+=2}}}return null}(uo(),n)}("aria-hidden"),or(TF),or(Oc),or(wF,8))},n.\u0275cmp=Ki({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,y){2&e&&(os("data-mat-icon-type",y._usingFontIcon()?"font":"svg")("data-mat-icon-name",y._svgName||y.fontIcon)("data-mat-icon-namespace",y._svgNamespace||y.fontSet)("fontIcon",y._usingFontIcon()?y.fontIcon:null),Cs("mat-icon-inline",y.inline)("mat-icon-no-color","primary"!==y.color&&"accent"!==y.color&&"warn"!==y.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ro],ngContentSelectors:gF,decls:1,vars:0,template:function(e,y){1&e&&(cu(),Es(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),EF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Os,Os]}),n})();class b4{}class CF{}const Ud="*";function Qb(n,t){return{type:7,name:n,definitions:t,options:{}}}function e2(n,t=null){return{type:4,styles:t,timings:n}}function w4(n,t=null){return{type:2,steps:n,options:t}}function ad(n){return{type:6,styles:n,offset:null}}function $h(n,t,e){return{type:0,name:n,styles:t,options:e}}function t2(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function T4(n){Promise.resolve().then(n)}class Cg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){T4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(y=>y()),e.length=0}}class M4{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,y=0,R=0;const K=this.players.length;0==K?T4(()=>this._onFinish()):this.players.forEach(pe=>{pe.onDone(()=>{++e==K&&this._onFinish()}),pe.onDestroy(()=>{++y==K&&this._onDestroy()}),pe.onStart(()=>{++R==K&&this._onStart()})}),this.totalTime=this.players.reduce((pe,Ne)=>Math.max(pe,Ne.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(y=>{const R=y.totalTime?Math.min(1,e/y.totalTime):1;y.setPosition(R)})}getPosition(){const t=this.players.reduce((e,y)=>null===e||y.totalTime>e.totalTime?y:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(y=>y()),e.length=0}}const n2="!";function DF(n,t){if(1&n&&If(0,8),2&n){const e=Ko();wi("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function IF(n,t){if(1&n&&(Br(0,"span",13),_i(1),Qr()),2&n){const e=Ko(2);fi(1),Ld(e._getDefaultTextForState(e.state))}}function LF(n,t){if(1&n&&(Br(0,"span",14),_i(1),Qr()),2&n){const e=Ko(2);fi(1),Ld(e._intl.completedLabel)}}function OF(n,t){if(1&n&&(Br(0,"span",14),_i(1),Qr()),2&n){const e=Ko(2);fi(1),Ld(e._intl.editableLabel)}}function PF(n,t){if(1&n&&(Br(0,"mat-icon",13),_i(1),Qr()),2&n){const e=Ko(2);fi(1),Ld(e._getDefaultTextForState(e.state))}}function RF(n,t){if(1&n&&(Oh(0,9),io(1,IF,2,1,"span",10),io(2,LF,2,1,"span",11),io(3,OF,2,1,"span",11),io(4,PF,2,1,"mat-icon",12),Ph()),2&n){const e=Ko();wi("ngSwitch",e.state),fi(1),wi("ngSwitchCase","number"),fi(1),wi("ngIf","done"===e.state),fi(1),wi("ngIf","edit"===e.state)}}function FF(n,t){if(1&n&&(Br(0,"div",15),If(1,16),Qr()),2&n){const e=Ko();fi(1),wi("ngTemplateOutlet",e._templateLabel().template)}}function NF(n,t){if(1&n&&(Br(0,"div",15),_i(1),Qr()),2&n){const e=Ko();fi(1),Ld(e.label)}}function zF(n,t){if(1&n&&(Br(0,"div",17),_i(1),Qr()),2&n){const e=Ko();fi(1),Ld(e._intl.optionalLabel)}}function BF(n,t){if(1&n&&(Br(0,"div",18),_i(1),Qr()),2&n){const e=Ko();fi(1),Ld(e.errorMessage)}}function jF(n,t){}function VF(n,t){if(1&n&&(Es(0),io(1,jF,0,0,"ng-template",0)),2&n){const e=Ko();fi(1),wi("cdkPortalOutlet",e._portal)}}const UF=["*"];function HF(n,t){1&n&&la(0,"div",11)}const A4=function(n,t){return{step:n,i:t}};function GF(n,t){if(1&n&&(Oh(0),If(1,9),io(2,HF,1,0,"div",10),Ph()),2&n){const e=t.$implicit,y=t.index,R=t.last;Ko(2);const K=Id(4);fi(1),wi("ngTemplateOutlet",K)("ngTemplateOutletContext",j0(3,A4,e,y)),fi(1),wi("ngIf",!R)}}const k4=function(n){return{animationDuration:n}},S4=function(n,t){return{value:n,params:t}};function qF(n,t){if(1&n){const e=Hv();Br(0,"div",12),xl("@horizontalStepTransition.done",function(R){return Po(e),Qa(Ko(2)._animationDone.next(R))}),If(1,13),Qr()}if(2&n){const e=t.$implicit,y=t.index,R=Ko(2);Cs("mat-horizontal-stepper-content-inactive",R.selectedIndex!==y),wi("@horizontalStepTransition",j0(8,S4,R._getAnimationDirection(y),Fx(6,k4,R._getAnimationDuration())))("id",R._getStepContentId(y)),os("aria-labelledby",R._getStepLabelId(y)),fi(1),wi("ngTemplateOutlet",e.content)}}function WF(n,t){if(1&n&&(Br(0,"div",4)(1,"div",5),io(2,GF,3,6,"ng-container",6),Qr(),Br(3,"div",7),io(4,qF,2,11,"div",8),Qr()()),2&n){const e=Ko();fi(2),wi("ngForOf",e.steps),fi(2),wi("ngForOf",e.steps)}}function ZF(n,t){if(1&n){const e=Hv();Br(0,"div",15),If(1,9),Br(2,"div",16)(3,"div",17),xl("@verticalStepTransition.done",function(R){return Po(e),Qa(Ko(2)._animationDone.next(R))}),Br(4,"div",18),If(5,13),Qr()()()()}if(2&n){const e=t.$implicit,y=t.index,R=t.last,K=Ko(2),pe=Id(4);fi(1),wi("ngTemplateOutlet",pe)("ngTemplateOutletContext",j0(10,A4,e,y)),fi(1),Cs("mat-stepper-vertical-line",!R),fi(1),Cs("mat-vertical-stepper-content-inactive",K.selectedIndex!==y),wi("@verticalStepTransition",j0(15,S4,K._getAnimationDirection(y),Fx(13,k4,K._getAnimationDuration())))("id",K._getStepContentId(y)),os("aria-labelledby",K._getStepLabelId(y)),fi(2),wi("ngTemplateOutlet",e.content)}}function YF(n,t){if(1&n&&(Oh(0),io(1,ZF,6,18,"div",14),Ph()),2&n){const e=Ko();fi(1),wi("ngForOf",e.steps)}}function $F(n,t){if(1&n){const e=Hv();Br(0,"mat-step-header",19),xl("click",function(){return Qa(Po(e).step.select())})("keydown",function(R){return Po(e),Qa(Ko()._onKeydown(R))}),Qr()}if(2&n){const e=t.step,y=t.i,R=Ko();Cs("mat-horizontal-stepper-header","horizontal"===R.orientation)("mat-vertical-stepper-header","vertical"===R.orientation),wi("tabIndex",R._getFocusIndex()===y?0:-1)("id",R._getStepLabelId(y))("index",y)("state",R._getIndicatorType(y,e.state))("label",e.stepLabel||e.label)("selected",R.selectedIndex===y)("active",R._stepIsNavigable(y,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",R._iconOverrides)("disableRipple",R.disableRipple||!R._stepIsNavigable(y,e))("color",e.color||R.color),os("aria-posinset",y+1)("aria-setsize",R.steps.length)("aria-controls",R._getStepContentId(y))("aria-selected",R.selectedIndex==y)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!R._stepIsNavigable(y,e)||null)}}let p1=(()=>{class n extends t4{}return n.\u0275fac=function(){let t;return function(y){return(t||(t=es(n)))(y||n)}}(),n.\u0275dir=Vr({type:n,selectors:[["","matStepLabel",""]],features:[ro]}),n})(),m1=(()=>{class n{constructor(){this.changes=new q,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KF={provide:m1,deps:[[new zc,new Zs,m1]],useFactory:function XF(n){return n||new m1}},JF=CA(class extends e4{constructor(t){super(t)}},"primary");let E4=(()=>{class n extends JF{constructor(e,y,R,K){super(R),this._intl=e,this._focusMonitor=y,this._intlSubscription=e.changes.subscribe(()=>K.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,y){e?this._focusMonitor.focusVia(this._elementRef,e,y):this._elementRef.nativeElement.focus(y)}_stringLabel(){return this.label instanceof p1?null:this.label}_templateLabel(){return this.label instanceof p1?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return n.\u0275fac=function(e){return new(e||n)(or(m1),or($O),or(ci),or(Ff))},n.\u0275cmp=Ki({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[ro],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,y){1&e&&(la(0,"div",0),Br(1,"div")(2,"div",1),io(3,DF,1,2,"ng-container",2),io(4,RF,5,4,"ng-container",3),Qr()(),Br(5,"div",4),io(6,FF,2,1,"div",5),io(7,NF,2,1,"div",5),io(8,zF,2,1,"div",6),io(9,BF,2,1,"div",7),Qr()),2&e&&(wi("matRippleTrigger",y._getHostElement())("matRippleDisabled",y.disableRipple),fi(1),Zw("mat-step-icon-state-",y.state," mat-step-icon"),Cs("mat-step-icon-selected",y.selected),fi(1),wi("ngSwitch",!(!y.iconOverrides||!y.iconOverrides[y.state])),fi(1),wi("ngSwitchCase",!0),fi(2),Cs("mat-step-label-active",y.active)("mat-step-label-selected",y.selected)("mat-step-label-error","error"==y.state),fi(1),wi("ngIf",y._templateLabel()),fi(1),wi("ngIf",y._stringLabel()),fi(1),wi("ngIf",y.optional&&"error"!=y.state),fi(1),wi("ngIf","error"==y.state))},dependencies:[my,gy,J0,M_,mM,SF,lP],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),n})();const I4={horizontalStepTransition:Qb("horizontalStepTransition",[$h("previous",ad({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),$h("current",ad({transform:"none",visibility:"inherit"})),$h("next",ad({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),t2("* => *",e2("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:Qb("verticalStepTransition",[$h("previous",ad({height:"0px",visibility:"hidden"})),$h("next",ad({height:"0px",visibility:"hidden"})),$h("current",ad({height:"*",visibility:"inherit"})),t2("* <=> current",e2("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let QF=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(or(qc))},n.\u0275dir=Vr({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),eN=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(or(qc))},n.\u0275dir=Vr({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),L4=(()=>{class n extends Wb{constructor(e,y,R,K){super(e,K),this._errorStateMatcher=y,this._viewContainerRef=R,this._isSelected=D.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Nu(()=>this._stepper.selectionChange.pipe(ne(e=>e.selectedStep===this),nm(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Qk(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,y){return this._errorStateMatcher.isErrorState(e,y)||!!(e&&e.invalid&&this.interacted)}}return n.\u0275fac=function(e){return new(e||n)(or(lr(()=>O4)),or(bb,4),or(Wc),or(n4,8))},n.\u0275cmp=Ki({type:n,selectors:[["mat-step"]],contentQueries:function(e,y,R){if(1&e&&(bc(R,p1,5),bc(R,eN,5)),2&e){let K;Js(K=Qs())&&(y.stepLabel=K.first),Js(K=Qs())&&(y._lazyContent=K.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[$o([{provide:bb,useExisting:n},{provide:Wb,useExisting:n}]),ro],ngContentSelectors:UF,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,y){1&e&&(cu(),io(0,VF,2,1,"ng-template"))},dependencies:[GR],encapsulation:2,changeDetection:0}),n})(),O4=(()=>{class n extends Zb{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,y,R){super(e,y,R),this.steps=new Pf,this.animationDone=new ui,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new q,this._animationDuration="";const K=R.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===K?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:y})=>this._iconOverrides[e]=y),this.steps.changes.pipe(jd(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(pA((e,y)=>e.fromState===y.fromState&&e.toState===y.toState),jd(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,y){return y.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return n.\u0275fac=function(e){return new(e||n)(or(xb,8),or(Ff),or(ci))},n.\u0275cmp=Ki({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,y,R){if(1&e&&(bc(R,L4,5),bc(R,QF,5)),2&e){let K;Js(K=Qs())&&(y._steps=K),Js(K=Qs())&&(y._icons=K)}},viewQuery:function(e,y){if(1&e&&H0(E4,5),2&e){let R;Js(R=Qs())&&(y._stepHeader=R)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,y){2&e&&(os("aria-orientation",y.orientation),Cs("mat-stepper-horizontal","horizontal"===y.orientation)("mat-stepper-vertical","vertical"===y.orientation)("mat-stepper-label-position-end","horizontal"===y.orientation&&"end"==y.labelPosition)("mat-stepper-label-position-bottom","horizontal"===y.orientation&&"bottom"==y.labelPosition)("mat-stepper-header-position-bottom","bottom"===y.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[$o([{provide:Zb,useExisting:n}]),ro],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,y){1&e&&(Oh(0,0),io(1,WF,5,2,"div",1),io(2,YF,2,1,"ng-container",2),Ph(),io(3,$F,1,23,"ng-template",null,3,G0)),2&e&&(wi("ngSwitch",y.orientation),fi(1),wi("ngSwitchCase","horizontal"),fi(1),wi("ngSwitchCase","vertical"))},dependencies:[fM,my,gy,J0,M_,E4],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[I4.horizontalStepTransition,I4.verticalStepTransition]},changeDetection:0}),n})(),tN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({providers:[KF,bb],imports:[Os,Nd,qR,$R,EF,FA,Os]}),n})(),P4=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({providers:[P4]}),n})(),uN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vr({type:n,selectors:[["mat-label"]]}),n})(),dN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Os,Nd,R4,Os]}),n})();function fN(n,t){1&n&&(Br(0,"b"),_i(1,"About Me"),Qr())}function hN(n,t){1&n&&_i(0,"Angular")}function pN(n,t){1&n&&_i(0,"Android and Other Technology")}let mN=(()=>{var n;class t{constructor(y){this._formBuilder=y,this.firstFormGroup=this._formBuilder.group({firstCtrl:[""]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:[""]})}}return(n=t).\u0275fac=function(y){return new(y||n)(or(ER))},n.\u0275cmp=Ki({type:n,selectors:[["app-about"]],decls:76,vars:9,consts:[[2,"width","98.5%"],[2,"text-align","center"],[3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],["cols","2","rowHeight","160px",3,"gutterSize"],[2,"list-style-type","circle"],[2,"height","100px","width","200px"],[1,"table-hight"],[2,"margin-left","20px"],[1,"th-left"],[1,"td-center"],[2,"margin-left","10px"],[3,"formGroup"]],template:function(y,R){1&y&&(Br(0,"mat-card",0)(1,"h1",1),_i(2,"About & Experience"),Qr(),Br(3,"mat-vertical-stepper",2,3)(5,"mat-step",4),io(6,fN,2,0,"ng-template",5),Br(7,"mat-grid-list",6)(8,"mat-grid-tile")(9,"ul",7)(10,"li"),_i(11,"I am "),Br(12,"b"),_i(13,"Angular Developer"),Qr(),_i(14," with 2+ Year Of Experincee In Tata Consultancy Services"),Qr(),_i(15," \xa0 "),Br(16,"li"),_i(17,"Worked with Software Development Life Cycle(SDLC) and agile methodologies"),Qr(),_i(18," \xa0 "),Br(19,"li"),_i(20,"Have a good understanding about Android, Azure also basic knowledge about Nodejs"),Qr(),_i(21," \xa0 "),Br(22,"li"),_i(23,"I am Very Passionate About Learning new Things keep me Update with Latest Trends"),Qr()()(),Br(24,"mat-grid-tile")(25,"table",8)(26,"tr",9)(27,"th")(28,"mat-label"),_i(29," Email"),Qr()(),Br(30,"td",10)(31,"mat-label"),_i(32),Qr()()(),_i(33," \xa0 "),Br(34,"tr",9)(35,"th",11)(36,"mat-label"),_i(37," Phone"),Qr()(),Br(38,"td",12)(39,"mat-label"),_i(40),Qr()()(),_i(41," \xa0 "),Br(42,"tr",9)(43,"th",13)(44,"mat-label"),_i(45," Lang"),Qr()(),Br(46,"td")(47,"mat-label"),_i(48),Qr()()(),_i(49," \xa0 "),Br(50,"tr",9)(51,"th")(52,"mat-label"),_i(53," DOB"),Qr()(),Br(54,"td")(55,"mat-label"),_i(56),Qr()()()()()()(),Br(57,"mat-step",4)(58,"form",14),io(59,hN,1,0,"ng-template",5),Br(60,"ul",7)(61,"li"),_i(62,"Working On Reusabale components to make the application more modular"),Qr(),Br(63,"li"),_i(64,"Implement the infinte Scroll to avoid the page being unresposive and handle a large amount of notification on ui side"),Qr(),Br(65,"li"),_i(66,"Update the angular Application from 13 to 14 version"),Qr(),Br(67,"li"),_i(68,"Enhance the ui of angular application build a dynamics form using fromly form"),Qr()()()(),Br(69,"mat-step"),io(70,pN,1,0,"ng-template",5),Br(71,"ul",7)(72,"li"),_i(73,"In Android working on Ui part of the app design the screen Using Contraint Layout"),Qr(),Br(74,"li"),_i(75,"Implment The splunk in Android to Capture the Logs of Android see in Splunk"),Qr()()()()()),2&y&&(fi(3),wi("linear",!1),fi(2),wi("stepControl",R.firstFormGroup),fi(2),wi("gutterSize","20px"),fi(25),Of(" ","adarsh.alld100@gmail.com"," "),fi(8),Of(" ","7665282012"," "),fi(8),Of(" ","Hindi ,English"," "),fi(8),Of(" ","06/05/1999"," "),fi(1),wi("stepControl",R.secondFormGroup),fi(1),wi("formGroup",R.secondFormGroup))},dependencies:[Tb,BR,Kk,Sk,hk,l1,L4,p1,O4,uN],styles:[".example-input-wrapper[_ngcontent-%COMP%]{margin-bottom:16px}label[_ngcontent-%COMP%]{margin-right:4px}"]}),t})(),F4=(()=>{var n;class t{constructor(){this.graph={data:[{labels:["C++","java","C"],domain:{column:1},name:"Core Programming",hoverinfo:"label+percent+name",hole:.6,type:"pie"}],layout:{title:"Core Programming",annotations:[{font:{size:20},showarrow:!1,text:"Programing",x:.5,y:.5}],height:400,width:410,showlegend:!0,legend:{x:1.3,y:.5}}},this.graph2={data2:[{x:[1,2,3,4],y:[10,15,13,17]},{x:[1,2,3,4],y:[16,5,11,9]}],layout:{width:410,height:400,title:"Developement VS DSA",type:"scatter"}},this.graph3={data3:[{labels:["Html","Css","JavaScript","Nodejs"],domain:{column:1},hoverinfo:"label+percent+name",type:"pie"}],layout:{title:"Frontend Development",annotations:[{font:{size:20},showarrow:!1,text:"",x:.5,y:.5}],height:400,width:410,showlegend:!0,legend:{x:1.3,y:.5}}}}}return(n=t).\u0275fac=function(y){return new(y||n)},n.\u0275cmp=Ki({type:n,selectors:[["app-home"]],decls:85,vars:7,consts:[[1,"hero-image"],["src","assets/profilePort.png",2,"display","block","margin-left","auto","margin-right","auto","border-radius","50%","width","220px"],[1,"hero-text"],[2,"font-size","50px"],["href","assets/adarsh_dwivedi_resume.pdf","download","",2,"text-decoration","none"],[1,"Resume"],[1,"grid-container"],[2,"text-align","center","font-weight","bold"],[1,"skill"],[3,"data","layout"],[2,"margin-left","30px"],[2,"text-align","center","font-weight","bold","margin-top","15px"],[2,"margin-top","20px"],[1,"card-wrapper"],[1,"example-card"],["mat-card-image","","src","assets/weatherApp.png","alt","Photo of a Shiba Inu",2,"height","330px"],[2,"text-align","center"],[2,"display","flex","justify-content","center","padding","10px"],["href","https://github.com/adarshdwivedi123/weatherAppProject"],["mat-card-image","","src","assets/gitIcon.png",2,"height","40px","width","40px"],["mat-card-image","","src","assets/cameraApp.png","alt","Photo of a Shiba Inu",2,"height","330px"],["href","https://github.com/adarshdwivedi123/Camera-JS"],["mat-card-image","","src","assets/todo.png",2,"height","330px"],["href","https://github.com/adarshdwivedi123/TODO_APP"],[1,"Contact"],[2,"background-color","#E1F5FE"],[2,"margin-right","400px"],["href","https://www.linkedin.com/in/adarsh-dwivedi-778791187/"],["mat-card-image","","src","assets/linkedin.png",2,"height","50px","margin-left","400px"],["href","https://github.com/adarshdwivedi123"],["mat-card-image","","src","assets/gitIcon.png",2,"height","50px","margin-left","30px"],["href","mailto:adarsh.alld100@gmail.com"],["mat-card-image","","src","assets/gmail.png",2,"height","50px","margin-left","30px"],["href","https://www.google.com/"],["mat-card-image","","src","assets/call.png",2,"height","50px","margin-left","30px"],["href","https://leetcode.com/adarsh13/"],["mat-card-image","","src","assets/LeetCode.png",2,"height","50px","margin-left","30px"]],template:function(y,R){1&y&&(Br(0,"div",0),la(1,"img",1),Br(2,"div",2)(3,"h1",3),_i(4,"Adarsh Dwivedi"),Qr(),Br(5,"h3"),_i(6,"Angular Developer"),Qr(),Br(7,"a",4)(8,"button",5),_i(9),Qr()()()(),Br(10,"div",6),la(11,"app-nav-bar")(12,"app-about")(13,"mat-card"),Br(14,"h1",7),_i(15,"Skills"),Qr(),Br(16,"div",8)(17,"mat-card"),la(18,"plotly-plot",9),Qr(),Br(19,"mat-card",10),la(20,"plotly-plot",9),Qr(),Br(21,"mat-card",10),la(22,"plotly-plot",9),Qr()(),Br(23,"h1",11),_i(24,"Projects"),Qr(),Br(25,"section",12)(26,"div",13)(27,"mat-card",14),la(28,"img",15),Br(29,"mat-card-content")(30,"h1",16),_i(31,"Weather App"),Qr(),Br(32,"ul")(33,"li"),_i(34,"Weather App See The Current User weather"),Qr(),Br(35,"li"),_i(36,"User Can Search a Sepecfic Location Know"),Qr(),Br(37,"li"),_i(38,"Weather of that Place "),Qr()()(),Br(39,"mat-card-actions",17)(40,"a",18),la(41,"img",19),Qr()()(),Br(42,"mat-card",14),la(43,"img",20),Br(44,"mat-card-content")(45,"h1",16),_i(46,"Camera App"),Qr(),Br(47,"ul")(48,"li"),_i(49,"Record The Vedio & Capture The Image"),Qr(),Br(50,"li"),_i(51," Display The Vedio And Image in Gallery"),Qr(),Br(52,"li"),_i(53,"In Gallery we can Download and Delete the image and vedio"),Qr()()(),Br(54,"mat-card-actions",17)(55,"a",21),la(56,"img",19),Qr()()(),Br(57,"mat-card",14),la(58,"img",22),Br(59,"mat-card-content")(60,"h1",16),_i(61,"Todo List App"),Qr(),Br(62,"ul")(63,"li"),_i(64," User is able to create Todo item "),Qr(),Br(65,"li"),_i(66," Store the Todo item in Local Storage "),Qr()()(),Br(67,"mat-card-actions",17)(68,"a",23),la(69,"img",19),Qr()()()()(),Br(70,"section",24)(71,"h1",16),_i(72,"Contact"),Qr(),Br(73,"mat-card",25)(74,"mat-card-content",26)(75,"a",27),la(76,"img",28),Qr(),Br(77,"a",29),la(78,"img",30),Qr(),Br(79,"a",31),la(80,"img",32),Qr(),Br(81,"a",33),la(82,"img",34),Qr(),Br(83,"a",35),la(84,"img",36),Qr()()()()()),2&y&&(fi(9),Of(" ","Download Resume"," "),fi(9),wi("data",R.graph.data)("layout",R.graph.layout),fi(2),wi("data",R.graph2.data2)("layout",R.graph2.layout),fi(2),wi("data",R.graph3.data3)("layout",R.graph3.layout))},dependencies:[Tb,zA,NA,BA,CP,DP,mN],styles:[".grid-container[_ngcontent-%COMP%]{margin:20px}.home-sec[_ngcontent-%COMP%]{background-color:#0078d4;color:#fff!important}.example-card[_ngcontent-%COMP%]{width:410px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.example-card[_ngcontent-%COMP%]{display:flex}.card-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,2fr);gap:1rem}.btnResume[_ngcontent-%COMP%]{width:180px;height:40px;margin-top:300px;margin-right:180px}.hero-image[_ngcontent-%COMP%]{background-image:url(/assets/background.png);background-color:#ccc;height:500px;background-position:center;background-repeat:no-repeat;background-size:cover;position:relative}.hero-text[_ngcontent-%COMP%]{text-align:center;position:absolute;margin-top:100px;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff}.Resume[_ngcontent-%COMP%]{all:unset;border-radius:100px;width:200px;height:40px;background-color:#ccc;color:#000;cursor:pointer}.skill[_ngcontent-%COMP%]{cursor:pointer;position:relative;transition:1s;display:flex;height:400px}"]}),t})();const gN=[{path:"home",component:F4},{path:"contact",component:(()=>{var n;class t{}return(n=t).\u0275fac=function(y){return new(y||n)},n.\u0275cmp=Ki({type:n,selectors:[["app-contact"]],decls:2,vars:0,template:function(y,R){1&y&&(Br(0,"p"),_i(1,"contact works!"),Qr())}}),t})()}];let vN=(()=>{var n;class t{}return(n=t).\u0275fac=function(y){return new(y||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[oA.forRoot(gN),oA]}),t})(),yN=(()=>{var n;class t{constructor(){this.title="portfolio"}}return(n=t).\u0275fac=function(y){return new(y||n)},n.\u0275cmp=Ki({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(y,R){1&y&&la(0,"app-home")(1,"router-outlet")},dependencies:[eb,F4]}),t})();function N4(n){return new qt(3e3,!1)}function QN(){return typeof window<"u"&&typeof window.document<"u"}function r2(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $f(n){switch(n.length){case 0:return new Cg;case 1:return n[0];default:return new M4(n)}}function z4(n,t,e,y,R=new Map,K=new Map){const pe=[],Ne=[];let Xe=-1,ot=null;if(y.forEach(wt=>{const Nt=wt.get("offset"),hn=Nt==Xe,An=hn&&ot||new Map;wt.forEach((Nn,Xn)=>{let hr=Xn,Ar=Nn;if("offset"!==Xn)switch(hr=t.normalizePropertyName(hr,pe),Ar){case n2:Ar=R.get(Xn);break;case Ud:Ar=K.get(Xn);break;default:Ar=t.normalizeStyleValue(Xn,hr,Ar,pe)}An.set(hr,Ar)}),hn||Ne.push(An),ot=An,Xe=Nt}),pe.length)throw function VN(n){return new qt(3502,!1)}();return Ne}function o2(n,t,e,y){switch(t){case"start":n.onStart(()=>y(e&&a2(e,"start",n)));break;case"done":n.onDone(()=>y(e&&a2(e,"done",n)));break;case"destroy":n.onDestroy(()=>y(e&&a2(e,"destroy",n)))}}function a2(n,t,e){const K=s2(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),pe=n._data;return null!=pe&&(K._data=pe),K}function s2(n,t,e,y,R="",K=0,pe){return{element:n,triggerName:t,fromState:e,toState:y,phaseName:R,totalTime:K,disabled:!!pe}}function $c(n,t,e){let y=n.get(t);return y||n.set(t,y=e),y}function B4(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let l2=(n,t)=>!1,j4=(n,t,e)=>[],V4=null;function c2(n){const t=n.parentNode||n.host;return t===V4?null:t}(r2()||typeof Element<"u")&&(QN()?(V4=(()=>document.documentElement)(),l2=(n,t)=>{for(;t;){if(t===n)return!0;t=c2(t)}return!1}):l2=(n,t)=>n.contains(t),j4=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const y=n.querySelector(t);return y?[y]:[]});let Xh=null,U4=!1;const H4=l2,G4=j4;let q4=(()=>{class n{validateStyleProperty(e){return function tz(n){Xh||(Xh=function nz(){return typeof document<"u"?document.body:null}()||{},U4=!!Xh.style&&"WebkitAppearance"in Xh.style);let t=!0;return Xh.style&&!function ez(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Xh.style,!t&&U4&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xh.style)),t}(e)}matchesElement(e,y){return!1}containsElement(e,y){return H4(e,y)}getParentElement(e){return c2(e)}query(e,y,R){return G4(e,y,R)}computeStyle(e,y,R){return R||""}animate(e,y,R,K,pe,Ne=[],Xe){return new Cg(R,K)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})(),u2=(()=>{class n{}return n.NOOP=new q4,n})();const rz=1e3,d2="ng-enter",g1="ng-leave",v1="ng-trigger",y1=".ng-trigger",Z4="ng-animating",f2=".ng-animating";function Hd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:h2(parseFloat(t[1]),t[2])}function h2(n,t){return"s"===t?n*rz:n}function x1(n,t,e){return n.hasOwnProperty("duration")?n:function oz(n,t,e){let R,K=0,pe="";if("string"==typeof n){const Ne=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ne)return t.push(N4()),{duration:0,delay:0,easing:""};R=h2(parseFloat(Ne[1]),Ne[2]);const Xe=Ne[3];null!=Xe&&(K=h2(parseFloat(Xe),Ne[4]));const ot=Ne[5];ot&&(pe=ot)}else R=n;if(!e){let Ne=!1,Xe=t.length;R<0&&(t.push(function xN(){return new qt(3100,!1)}()),Ne=!0),K<0&&(t.push(function _N(){return new qt(3101,!1)}()),Ne=!0),Ne&&t.splice(Xe,0,N4())}return{duration:R,delay:K,easing:pe}}(n,t,e)}function Dg(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Y4(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Xf(n,t=new Map,e){if(e)for(let[y,R]of e)t.set(y,R);for(let[y,R]of n)t.set(y,R);return t}function X4(n,t,e){return e?t+":"+e+";":""}function K4(n){let t="";for(let e=0;e<n.style.length;e++){const y=n.style.item(e);t+=X4(0,y,n.style.getPropertyValue(y))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=X4(0,cz(e),n.style[e]));n.setAttribute("style",t)}function sd(n,t,e){n.style&&(t.forEach((y,R)=>{const K=m2(R);e&&!e.has(R)&&e.set(R,n.style[K]),n.style[K]=y}),r2()&&K4(n))}function Kh(n,t){n.style&&(t.forEach((e,y)=>{const R=m2(y);n.style[R]=""}),r2()&&K4(n))}function Ig(n){return Array.isArray(n)?1==n.length?n[0]:w4(n):n}const p2=new RegExp("{{\\s*(.+?)\\s*}}","g");function J4(n){let t=[];if("string"==typeof n){let e;for(;e=p2.exec(n);)t.push(e[1]);p2.lastIndex=0}return t}function Lg(n,t,e){const y=n.toString(),R=y.replace(p2,(K,pe)=>{let Ne=t[pe];return null==Ne&&(e.push(function wN(n){return new qt(3003,!1)}()),Ne=""),Ne.toString()});return R==y?n:R}function _1(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const lz=/-+([a-z0-9])/g;function m2(n){return n.replace(lz,(...t)=>t[1].toUpperCase())}function cz(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xc(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function TN(n){return new qt(3004,!1)}()}}function Q4(n,t){return window.getComputedStyle(n)[t]}const T1="*";function mz(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(y=>function gz(n,t,e){if(":"==n[0]){const Xe=function vz(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,y)=>parseFloat(y)>parseFloat(e);case":decrement":return(e,y)=>parseFloat(y)<parseFloat(e);default:return t.push(function NN(n){return new qt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof Xe)return void t.push(Xe);n=Xe}const y=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return e.push(function FN(n){return new qt(3015,!1)}()),t;const R=y[1],K=y[2],pe=y[3];t.push(eS(R,pe));"<"==K[0]&&!(R==T1&&pe==T1)&&t.push(eS(pe,R))}(y,e,t)):e.push(n),e}const M1=new Set(["true","1"]),A1=new Set(["false","0"]);function eS(n,t){const e=M1.has(n)||A1.has(n),y=M1.has(t)||A1.has(t);return(R,K)=>{let pe=n==T1||n==R,Ne=t==T1||t==K;return!pe&&e&&"boolean"==typeof R&&(pe=R?M1.has(n):A1.has(n)),!Ne&&y&&"boolean"==typeof K&&(Ne=K?M1.has(t):A1.has(t)),pe&&Ne}}const yz=new RegExp("s*:selfs*,?","g");function g2(n,t,e,y){return new xz(n).build(t,e,y)}class xz{constructor(t){this._driver=t}build(t,e,y){const R=new wz(e);return this._resetContextStyleTimingState(R),Xc(this,Ig(t),R)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let y=e.queryCount=0,R=e.depCount=0;const K=[],pe=[];return"@"==t.name.charAt(0)&&e.errors.push(function AN(){return new qt(3006,!1)}()),t.definitions.forEach(Ne=>{if(this._resetContextStyleTimingState(e),0==Ne.type){const Xe=Ne,ot=Xe.name;ot.toString().split(/\s*,\s*/).forEach(wt=>{Xe.name=wt,K.push(this.visitState(Xe,e))}),Xe.name=ot}else if(1==Ne.type){const Xe=this.visitTransition(Ne,e);y+=Xe.queryCount,R+=Xe.depCount,pe.push(Xe)}else e.errors.push(function kN(){return new qt(3007,!1)}())}),{type:7,name:t.name,states:K,transitions:pe,queryCount:y,depCount:R,options:null}}visitState(t,e){const y=this.visitStyle(t.styles,e),R=t.options&&t.options.params||null;if(y.containsDynamicStyles){const K=new Set,pe=R||{};y.styles.forEach(Ne=>{Ne instanceof Map&&Ne.forEach(Xe=>{J4(Xe).forEach(ot=>{pe.hasOwnProperty(ot)||K.add(ot)})})}),K.size&&(_1(K.values()),e.errors.push(function SN(n,t){return new qt(3008,!1)}()))}return{type:0,name:t.name,style:y,options:R?{params:R}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const y=Xc(this,Ig(t.animation),e);return{type:1,matchers:mz(t.expr,e.errors),animation:y,queryCount:e.queryCount,depCount:e.depCount,options:Jh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(y=>Xc(this,y,e)),options:Jh(t.options)}}visitGroup(t,e){const y=e.currentTime;let R=0;const K=t.steps.map(pe=>{e.currentTime=y;const Ne=Xc(this,pe,e);return R=Math.max(R,e.currentTime),Ne});return e.currentTime=R,{type:3,steps:K,options:Jh(t.options)}}visitAnimate(t,e){const y=function Mz(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return v2(x1(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=v2(0,0,"");return K.dynamic=!0,K.strValue=e,K}const R=x1(e,t);return v2(R.duration,R.delay,R.easing)}(t.timings,e.errors);e.currentAnimateTimings=y;let R,K=t.styles?t.styles:ad({});if(5==K.type)R=this.visitKeyframes(K,e);else{let pe=t.styles,Ne=!1;if(!pe){Ne=!0;const ot={};y.easing&&(ot.easing=y.easing),pe=ad(ot)}e.currentTime+=y.duration+y.delay;const Xe=this.visitStyle(pe,e);Xe.isEmptyStep=Ne,R=Xe}return e.currentAnimateTimings=null,{type:4,timings:y,style:R,options:null}}visitStyle(t,e){const y=this._makeStyleAst(t,e);return this._validateStyleAst(y,e),y}_makeStyleAst(t,e){const y=[],R=Array.isArray(t.styles)?t.styles:[t.styles];for(let Ne of R)"string"==typeof Ne?Ne===Ud?y.push(Ne):e.errors.push(new qt(3002,!1)):y.push(Y4(Ne));let K=!1,pe=null;return y.forEach(Ne=>{if(Ne instanceof Map&&(Ne.has("easing")&&(pe=Ne.get("easing"),Ne.delete("easing")),!K))for(let Xe of Ne.values())if(Xe.toString().indexOf("{{")>=0){K=!0;break}}),{type:6,styles:y,easing:pe,offset:t.offset,containsDynamicStyles:K,options:null}}_validateStyleAst(t,e){const y=e.currentAnimateTimings;let R=e.currentTime,K=e.currentTime;y&&K>0&&(K-=y.duration+y.delay),t.styles.forEach(pe=>{"string"!=typeof pe&&pe.forEach((Ne,Xe)=>{const ot=e.collectedStyles.get(e.currentQuerySelector),wt=ot.get(Xe);let Nt=!0;wt&&(K!=R&&K>=wt.startTime&&R<=wt.endTime&&(e.errors.push(function CN(n,t,e,y,R){return new qt(3010,!1)}()),Nt=!1),K=wt.startTime),Nt&&ot.set(Xe,{startTime:K,endTime:R}),e.options&&function sz(n,t,e){const y=t.params||{},R=J4(n);R.length&&R.forEach(K=>{y.hasOwnProperty(K)||e.push(function bN(n){return new qt(3001,!1)}())})}(Ne,e.options,e.errors)})})}visitKeyframes(t,e){const y={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function DN(){return new qt(3011,!1)}()),y;let K=0;const pe=[];let Ne=!1,Xe=!1,ot=0;const wt=t.steps.map(Ar=>{const zr=this._makeStyleAst(Ar,e);let br=null!=zr.offset?zr.offset:function Tz(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const y=e;t=parseFloat(y.get("offset")),y.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(zr.styles),ii=0;return null!=br&&(K++,ii=zr.offset=br),Xe=Xe||ii<0||ii>1,Ne=Ne||ii<ot,ot=ii,pe.push(ii),zr});Xe&&e.errors.push(function IN(){return new qt(3012,!1)}()),Ne&&e.errors.push(function LN(){return new qt(3200,!1)}());const Nt=t.steps.length;let hn=0;K>0&&K<Nt?e.errors.push(function ON(){return new qt(3202,!1)}()):0==K&&(hn=1/(Nt-1));const An=Nt-1,Nn=e.currentTime,Xn=e.currentAnimateTimings,hr=Xn.duration;return wt.forEach((Ar,zr)=>{const br=hn>0?zr==An?1:hn*zr:pe[zr],ii=br*hr;e.currentTime=Nn+Xn.delay+ii,Xn.duration=ii,this._validateStyleAst(Ar,e),Ar.offset=br,y.styles.push(Ar)}),y}visitReference(t,e){return{type:8,animation:Xc(this,Ig(t.animation),e),options:Jh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Jh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Jh(t.options)}}visitQuery(t,e){const y=e.currentQuerySelector,R=t.options||{};e.queryCount++,e.currentQuery=t;const[K,pe]=function _z(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(yz,"")),n=n.replace(/@\*/g,y1).replace(/@\w+/g,e=>y1+"-"+e.slice(1)).replace(/:animating/g,f2),[n,t]}(t.selector);e.currentQuerySelector=y.length?y+" "+K:K,$c(e.collectedStyles,e.currentQuerySelector,new Map);const Ne=Xc(this,Ig(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=y,{type:11,selector:K,limit:R.limit||0,optional:!!R.optional,includeSelf:pe,animation:Ne,originalSelector:t.selector,options:Jh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function PN(){return new qt(3013,!1)}());const y="full"===t.timings?{duration:0,delay:0,easing:"full"}:x1(t.timings,e.errors,!0);return{type:12,animation:Xc(this,Ig(t.animation),e),timings:y,options:null}}}class wz{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jh(n){return n?(n=Dg(n)).params&&(n.params=function bz(n){return n?Dg(n):null}(n.params)):n={},n}function v2(n,t,e){return{duration:n,delay:t,easing:e}}function y2(n,t,e,y,R,K,pe=null,Ne=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:y,duration:R,delay:K,totalTime:R+K,easing:pe,subTimeline:Ne}}class k1{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let y=this._map.get(t);y||this._map.set(t,y=[]),y.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Sz=new RegExp(":enter","g"),Cz=new RegExp(":leave","g");function x2(n,t,e,y,R,K=new Map,pe=new Map,Ne,Xe,ot=[]){return(new Dz).buildKeyframes(n,t,e,y,R,K,pe,Ne,Xe,ot)}class Dz{buildKeyframes(t,e,y,R,K,pe,Ne,Xe,ot,wt=[]){ot=ot||new k1;const Nt=new _2(t,e,ot,R,K,wt,[]);Nt.options=Xe;const hn=Xe.delay?Hd(Xe.delay):0;Nt.currentTimeline.delayNextStep(hn),Nt.currentTimeline.setStyles([pe],null,Nt.errors,Xe),Xc(this,y,Nt);const An=Nt.timelines.filter(Nn=>Nn.containsAnimation());if(An.length&&Ne.size){let Nn;for(let Xn=An.length-1;Xn>=0;Xn--){const hr=An[Xn];if(hr.element===e){Nn=hr;break}}Nn&&!Nn.allowOnlyTimelineStyles()&&Nn.setStyles([Ne],null,Nt.errors,Xe)}return An.length?An.map(Nn=>Nn.buildKeyframes()):[y2(e,[],[],[],0,hn,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const y=e.subInstructions.get(e.element);if(y){const R=e.createSubContext(t.options),K=e.currentTimeline.currentTime,pe=this._visitSubInstructions(y,R,R.options);K!=pe&&e.transformIntoNewTimeline(pe)}e.previousNode=t}visitAnimateRef(t,e){const y=e.createSubContext(t.options);y.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,y),this.visitReference(t.animation,y),e.transformIntoNewTimeline(y.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,y){for(const R of t){const K=R?.delay;if(K){const pe="number"==typeof K?K:Hd(Lg(K,R?.params??{},e.errors));y.delayNextStep(pe)}}}_visitSubInstructions(t,e,y){let K=e.currentTimeline.currentTime;const pe=null!=y.duration?Hd(y.duration):null,Ne=null!=y.delay?Hd(y.delay):null;return 0!==pe&&t.forEach(Xe=>{const ot=e.appendInstructionToTimeline(Xe,pe,Ne);K=Math.max(K,ot.duration+ot.delay)}),K}visitReference(t,e){e.updateOptions(t.options,!0),Xc(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const y=e.subContextCount;let R=e;const K=t.options;if(K&&(K.params||K.delay)&&(R=e.createSubContext(K),R.transformIntoNewTimeline(),null!=K.delay)){6==R.previousNode.type&&(R.currentTimeline.snapshotCurrentStyles(),R.previousNode=S1);const pe=Hd(K.delay);R.delayNextStep(pe)}t.steps.length&&(t.steps.forEach(pe=>Xc(this,pe,R)),R.currentTimeline.applyStylesToKeyframe(),R.subContextCount>y&&R.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const y=[];let R=e.currentTimeline.currentTime;const K=t.options&&t.options.delay?Hd(t.options.delay):0;t.steps.forEach(pe=>{const Ne=e.createSubContext(t.options);K&&Ne.delayNextStep(K),Xc(this,pe,Ne),R=Math.max(R,Ne.currentTimeline.currentTime),y.push(Ne.currentTimeline)}),y.forEach(pe=>e.currentTimeline.mergeTimelineCollectedStyles(pe)),e.transformIntoNewTimeline(R),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const y=t.strValue;return x1(e.params?Lg(y,e.params,e.errors):y,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const y=e.currentAnimateTimings=this._visitTiming(t.timings,e),R=e.currentTimeline;y.delay&&(e.incrementTime(y.delay),R.snapshotCurrentStyles());const K=t.style;5==K.type?this.visitKeyframes(K,e):(e.incrementTime(y.duration),this.visitStyle(K,e),R.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const y=e.currentTimeline,R=e.currentAnimateTimings;!R&&y.hasCurrentStyleProperties()&&y.forwardFrame();const K=R&&R.easing||t.easing;t.isEmptyStep?y.applyEmptyStep(K):y.setStyles(t.styles,K,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const y=e.currentAnimateTimings,R=e.currentTimeline.duration,K=y.duration,Ne=e.createSubContext().currentTimeline;Ne.easing=y.easing,t.styles.forEach(Xe=>{Ne.forwardTime((Xe.offset||0)*K),Ne.setStyles(Xe.styles,Xe.easing,e.errors,e.options),Ne.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(Ne),e.transformIntoNewTimeline(R+K),e.previousNode=t}visitQuery(t,e){const y=e.currentTimeline.currentTime,R=t.options||{},K=R.delay?Hd(R.delay):0;K&&(6===e.previousNode.type||0==y&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=S1);let pe=y;const Ne=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!R.optional,e.errors);e.currentQueryTotal=Ne.length;let Xe=null;Ne.forEach((ot,wt)=>{e.currentQueryIndex=wt;const Nt=e.createSubContext(t.options,ot);K&&Nt.delayNextStep(K),ot===e.element&&(Xe=Nt.currentTimeline),Xc(this,t.animation,Nt),Nt.currentTimeline.applyStylesToKeyframe(),pe=Math.max(pe,Nt.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(pe),Xe&&(e.currentTimeline.mergeTimelineCollectedStyles(Xe),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const y=e.parentContext,R=e.currentTimeline,K=t.timings,pe=Math.abs(K.duration),Ne=pe*(e.currentQueryTotal-1);let Xe=pe*e.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":Xe=Ne-Xe;break;case"full":Xe=y.currentStaggerTime}const wt=e.currentTimeline;Xe&&wt.delayNextStep(Xe);const Nt=wt.currentTime;Xc(this,t.animation,e),e.previousNode=t,y.currentStaggerTime=R.currentTime-Nt+(R.startTime-y.currentTimeline.startTime)}}const S1={};class _2{constructor(t,e,y,R,K,pe,Ne,Xe){this._driver=t,this.element=e,this.subInstructions=y,this._enterClassName=R,this._leaveClassName=K,this.errors=pe,this.timelines=Ne,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=S1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xe||new E1(this._driver,e,0),Ne.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const y=t;let R=this.options;null!=y.duration&&(R.duration=Hd(y.duration)),null!=y.delay&&(R.delay=Hd(y.delay));const K=y.params;if(K){let pe=R.params;pe||(pe=this.options.params={}),Object.keys(K).forEach(Ne=>{(!e||!pe.hasOwnProperty(Ne))&&(pe[Ne]=Lg(K[Ne],pe,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const y=t.params={};Object.keys(e).forEach(R=>{y[R]=e[R]})}}return t}createSubContext(t=null,e,y){const R=e||this.element,K=new _2(this._driver,R,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(R,y||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(t),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(t){return this.previousNode=S1,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,y){const R={duration:e??t.duration,delay:this.currentTimeline.currentTime+(y??0)+t.delay,easing:""},K=new Iz(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,R,t.stretchStartingKeyframe);return this.timelines.push(K),R}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,y,R,K,pe){let Ne=[];if(R&&Ne.push(this.element),t.length>0){t=(t=t.replace(Sz,"."+this._enterClassName)).replace(Cz,"."+this._leaveClassName);let ot=this._driver.query(this.element,t,1!=y);0!==y&&(ot=y<0?ot.slice(ot.length+y,ot.length):ot.slice(0,y)),Ne.push(...ot)}return!K&&0==Ne.length&&pe.push(function RN(n){return new qt(3014,!1)}()),Ne}}class E1{constructor(t,e,y,R){this._driver=t,this.element=e,this.startTime=y,this._elementTimelineStylesLookup=R,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new E1(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,y]of this._globalTimelineStyles)this._backFill.set(e,y||Ud),this._currentKeyframe.set(e,Ud);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,y,R){e&&this._previousKeyframe.set("easing",e);const K=R&&R.params||{},pe=function Lz(n,t){const e=new Map;let y;return n.forEach(R=>{if("*"===R){y=y||t.keys();for(let K of y)e.set(K,Ud)}else Xf(R,e)}),e}(t,this._globalTimelineStyles);for(let[Ne,Xe]of pe){const ot=Lg(Xe,K,y);this._pendingStyles.set(Ne,ot),this._localTimelineStyles.has(Ne)||this._backFill.set(Ne,this._globalTimelineStyles.get(Ne)??Ud),this._updateStyle(Ne,ot)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,y)=>{const R=this._styleSummary.get(y);(!R||e.time>R.time)&&this._updateStyle(y,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,y=1===this._keyframes.size&&0===this.duration;let R=[];this._keyframes.forEach((Ne,Xe)=>{const ot=Xf(Ne,new Map,this._backFill);ot.forEach((wt,Nt)=>{wt===n2?t.add(Nt):wt===Ud&&e.add(Nt)}),y||ot.set("offset",Xe/this.duration),R.push(ot)});const K=t.size?_1(t.values()):[],pe=e.size?_1(e.values()):[];if(y){const Ne=R[0],Xe=new Map(Ne);Ne.set("offset",0),Xe.set("offset",1),R=[Ne,Xe]}return y2(this.element,R,K,pe,this.duration,this.startTime,this.easing,!1)}}class Iz extends E1{constructor(t,e,y,R,K,pe,Ne=!1){super(t,e,pe.delay),this.keyframes=y,this.preStyleProps=R,this.postStyleProps=K,this._stretchStartingKeyframe=Ne,this.timings={duration:pe.duration,delay:pe.delay,easing:pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:y,easing:R}=this.timings;if(this._stretchStartingKeyframe&&e){const K=[],pe=y+e,Ne=e/pe,Xe=Xf(t[0]);Xe.set("offset",0),K.push(Xe);const ot=Xf(t[0]);ot.set("offset",rS(Ne)),K.push(ot);const wt=t.length-1;for(let Nt=1;Nt<=wt;Nt++){let hn=Xf(t[Nt]);const An=hn.get("offset");hn.set("offset",rS((e+An*y)/pe)),K.push(hn)}y=pe,e=0,R="",t=K}return y2(this.element,t,this.preStyleProps,this.postStyleProps,y,e,R,!0)}}function rS(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class b2{}const Oz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Pz extends b2{normalizePropertyName(t,e){return m2(t)}normalizeStyleValue(t,e,y,R){let K="";const pe=y.toString().trim();if(Oz.has(e)&&0!==y&&"0"!==y)if("number"==typeof y)K="px";else{const Ne=y.match(/^[+-]?[\d\.]+([a-z]*)$/);Ne&&0==Ne[1].length&&R.push(function MN(n,t){return new qt(3005,!1)}())}return pe+K}}function iS(n,t,e,y,R,K,pe,Ne,Xe,ot,wt,Nt,hn){return{type:0,element:n,triggerName:t,isRemovalTransition:R,fromState:e,fromStyles:K,toState:y,toStyles:pe,timelines:Ne,queriedElements:Xe,preStyleProps:ot,postStyleProps:wt,totalTime:Nt,errors:hn}}const w2={};class oS{constructor(t,e,y){this._triggerName=t,this.ast=e,this._stateStyles=y}match(t,e,y,R){return function Rz(n,t,e,y,R){return n.some(K=>K(t,e,y,R))}(this.ast.matchers,t,e,y,R)}buildStyles(t,e,y){let R=this._stateStyles.get("*");return void 0!==t&&(R=this._stateStyles.get(t?.toString())||R),R?R.buildStyles(e,y):new Map}build(t,e,y,R,K,pe,Ne,Xe,ot,wt){const Nt=[],hn=this.ast.options&&this.ast.options.params||w2,Nn=this.buildStyles(y,Ne&&Ne.params||w2,Nt),Xn=Xe&&Xe.params||w2,hr=this.buildStyles(R,Xn,Nt),Ar=new Set,zr=new Map,br=new Map,ii="void"===R,po={params:Fz(Xn,hn),delay:this.ast.options?.delay},Fo=wt?[]:x2(t,e,this.ast.animation,K,pe,Nn,hr,po,ot,Nt);let tc=0;if(Fo.forEach(qd=>{tc=Math.max(qd.duration+qd.delay,tc)}),Nt.length)return iS(e,this._triggerName,y,R,ii,Nn,hr,[],[],zr,br,tc,Nt);Fo.forEach(qd=>{const Wd=qd.element,kS=$c(zr,Wd,new Set);qd.preStyleProps.forEach(Qh=>kS.add(Qh));const Pg=$c(br,Wd,new Set);qd.postStyleProps.forEach(Qh=>Pg.add(Qh)),Wd!==e&&Ar.add(Wd)});const Gd=_1(Ar.values());return iS(e,this._triggerName,y,R,ii,Nn,hr,Fo,Gd,zr,br,tc)}}function Fz(n,t){const e=Dg(t);for(const y in n)n.hasOwnProperty(y)&&null!=n[y]&&(e[y]=n[y]);return e}class Nz{constructor(t,e,y){this.styles=t,this.defaultParams=e,this.normalizer=y}buildStyles(t,e){const y=new Map,R=Dg(this.defaultParams);return Object.keys(t).forEach(K=>{const pe=t[K];null!==pe&&(R[K]=pe)}),this.styles.styles.forEach(K=>{"string"!=typeof K&&K.forEach((pe,Ne)=>{pe&&(pe=Lg(pe,R,e));const Xe=this.normalizer.normalizePropertyName(Ne,e);pe=this.normalizer.normalizeStyleValue(Ne,Xe,pe,e),y.set(Ne,pe)})}),y}}class Bz{constructor(t,e,y){this.name=t,this.ast=e,this._normalizer=y,this.transitionFactories=[],this.states=new Map,e.states.forEach(R=>{this.states.set(R.name,new Nz(R.style,R.options&&R.options.params||{},y))}),aS(this.states,"true","1"),aS(this.states,"false","0"),e.transitions.forEach(R=>{this.transitionFactories.push(new oS(t,R,this.states))}),this.fallbackTransition=function jz(n,t,e){return new oS(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pe,Ne)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,y,R){return this.transitionFactories.find(pe=>pe.match(t,e,y,R))||null}matchStyles(t,e,y){return this.fallbackTransition.buildStyles(t,e,y)}}function aS(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Vz=new k1;class Uz{constructor(t,e,y){this.bodyNode=t,this._driver=e,this._normalizer=y,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const y=[],R=[],K=g2(this._driver,e,y,R);if(y.length)throw function UN(n){return new qt(3503,!1)}();this._animations.set(t,K)}_buildPlayer(t,e,y){const R=t.element,K=z4(0,this._normalizer,0,t.keyframes,e,y);return this._driver.animate(R,K,t.duration,t.delay,t.easing,[],!0)}create(t,e,y={}){const R=[],K=this._animations.get(t);let pe;const Ne=new Map;if(K?(pe=x2(this._driver,e,K,d2,g1,new Map,new Map,y,Vz,R),pe.forEach(wt=>{const Nt=$c(Ne,wt.element,new Map);wt.postStyleProps.forEach(hn=>Nt.set(hn,null))})):(R.push(function HN(){return new qt(3300,!1)}()),pe=[]),R.length)throw function GN(n){return new qt(3504,!1)}();Ne.forEach((wt,Nt)=>{wt.forEach((hn,An)=>{wt.set(An,this._driver.computeStyle(Nt,An,Ud))})});const ot=$f(pe.map(wt=>{const Nt=Ne.get(wt.element);return this._buildPlayer(wt,new Map,Nt)}));return this._playersById.set(t,ot),ot.onDestroy(()=>this.destroy(t)),this.players.push(ot),ot}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const y=this.players.indexOf(e);y>=0&&this.players.splice(y,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function qN(n){return new qt(3301,!1)}();return e}listen(t,e,y,R){const K=s2(e,"","","");return o2(this._getPlayer(t),y,K,R),()=>{}}command(t,e,y,R){if("register"==y)return void this.register(t,R[0]);if("create"==y)return void this.create(t,e,R[0]||{});const K=this._getPlayer(t);switch(y){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(R[0]));break;case"destroy":this.destroy(t)}}}const sS="ng-animate-queued",T2="ng-animate-disabled",Zz=[],lS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Yz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pu="__ng_removed";class M2{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const y=t&&t.hasOwnProperty("value");if(this.value=function Jz(n){return n??null}(y?t.value:t),y){const K=Dg(t);delete K.value,this.options=K}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const y=this.options.params;Object.keys(e).forEach(R=>{null==y[R]&&(y[R]=e[R])})}}}const Og="void",A2=new M2(Og);class $z{constructor(t,e,y){this.id=t,this.hostElement=e,this._engine=y,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,mu(e,this._hostClassName)}listen(t,e,y,R){if(!this._triggers.has(e))throw function WN(n,t){return new qt(3302,!1)}();if(null==y||0==y.length)throw function ZN(n){return new qt(3303,!1)}();if(!function Qz(n){return"start"==n||"done"==n}(y))throw function YN(n,t){return new qt(3400,!1)}();const K=$c(this._elementListeners,t,[]),pe={name:e,phase:y,callback:R};K.push(pe);const Ne=$c(this._engine.statesByElement,t,new Map);return Ne.has(e)||(mu(t,v1),mu(t,v1+"-"+e),Ne.set(e,A2)),()=>{this._engine.afterFlush(()=>{const Xe=K.indexOf(pe);Xe>=0&&K.splice(Xe,1),this._triggers.has(e)||Ne.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $N(n){return new qt(3401,!1)}();return e}trigger(t,e,y,R=!0){const K=this._getTrigger(e),pe=new k2(this.id,e,t);let Ne=this._engine.statesByElement.get(t);Ne||(mu(t,v1),mu(t,v1+"-"+e),this._engine.statesByElement.set(t,Ne=new Map));let Xe=Ne.get(e);const ot=new M2(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&Xe&&ot.absorbOptions(Xe.options),Ne.set(e,ot),Xe||(Xe=A2),ot.value!==Og&&Xe.value===ot.value){if(!function nB(n,t){const e=Object.keys(n),y=Object.keys(t);if(e.length!=y.length)return!1;for(let R=0;R<e.length;R++){const K=e[R];if(!t.hasOwnProperty(K)||n[K]!==t[K])return!1}return!0}(Xe.params,ot.params)){const Xn=[],hr=K.matchStyles(Xe.value,Xe.params,Xn),Ar=K.matchStyles(ot.value,ot.params,Xn);Xn.length?this._engine.reportError(Xn):this._engine.afterFlush(()=>{Kh(t,hr),sd(t,Ar)})}return}const hn=$c(this._engine.playersByElement,t,[]);hn.forEach(Xn=>{Xn.namespaceId==this.id&&Xn.triggerName==e&&Xn.queued&&Xn.destroy()});let An=K.matchTransition(Xe.value,ot.value,t,ot.params),Nn=!1;if(!An){if(!R)return;An=K.fallbackTransition,Nn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:An,fromState:Xe,toState:ot,player:pe,isFallbackTransition:Nn}),Nn||(mu(t,sS),pe.onStart(()=>{Mm(t,sS)})),pe.onDone(()=>{let Xn=this.players.indexOf(pe);Xn>=0&&this.players.splice(Xn,1);const hr=this._engine.playersByElement.get(t);if(hr){let Ar=hr.indexOf(pe);Ar>=0&&hr.splice(Ar,1)}}),this.players.push(pe),hn.push(pe),pe}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,y)=>{this._elementListeners.set(y,e.filter(R=>R.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(y=>y.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const y=this._engine.driver.query(t,y1,!0);y.forEach(R=>{if(R[pu])return;const K=this._engine.fetchNamespacesByElement(R);K.size?K.forEach(pe=>pe.triggerLeaveAnimation(R,e,!1,!0)):this.clearElementCache(R)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(R=>this.clearElementCache(R)))}triggerLeaveAnimation(t,e,y,R){const K=this._engine.statesByElement.get(t),pe=new Map;if(K){const Ne=[];if(K.forEach((Xe,ot)=>{if(pe.set(ot,Xe.value),this._triggers.has(ot)){const wt=this.trigger(t,ot,Og,R);wt&&Ne.push(wt)}}),Ne.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,pe),y&&$f(Ne).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),y=this._engine.statesByElement.get(t);if(e&&y){const R=new Set;e.forEach(K=>{const pe=K.name;if(R.has(pe))return;R.add(pe);const Xe=this._triggers.get(pe).fallbackTransition,ot=y.get(pe)||A2,wt=new M2(Og),Nt=new k2(this.id,pe,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:pe,transition:Xe,fromState:ot,toState:wt,player:Nt,isFallbackTransition:!0})})}}removeNode(t,e){const y=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let R=!1;if(y.totalAnimations){const K=y.players.length?y.playersByQueriedElement.get(t):[];if(K&&K.length)R=!0;else{let pe=t;for(;pe=pe.parentNode;)if(y.statesByElement.get(pe)){R=!0;break}}}if(this.prepareLeaveAnimationListeners(t),R)y.markElementAsRemoved(this.id,t,!1,e);else{const K=t[pu];(!K||K===lS)&&(y.afterFlush(()=>this.clearElementCache(t)),y.destroyInnerAnimations(t),y._onRemovalComplete(t,e))}}insertNode(t,e){mu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(y=>{const R=y.player;if(R.destroyed)return;const K=y.element,pe=this._elementListeners.get(K);pe&&pe.forEach(Ne=>{if(Ne.name==y.triggerName){const Xe=s2(K,y.triggerName,y.fromState.value,y.toState.value);Xe._data=t,o2(y.player,Ne.phase,Xe,Ne.callback)}}),R.markedForDestroy?this._engine.afterFlush(()=>{R.destroy()}):e.push(y)}),this._queue=[],e.sort((y,R)=>{const K=y.transition.ast.depCount,pe=R.transition.ast.depCount;return 0==K||0==pe?K-pe:this._engine.driver.containsElement(y.element,R.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(y=>y.element===t)||e,e}}class Xz{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,y){this.bodyNode=t,this.driver=e,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(R,K)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(y=>{y.queued&&t.push(y)})}),t}createNamespace(t,e){const y=new $z(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(y,e):(this.newHostElements.set(e,y),this.collectEnterElement(e)),this._namespaceLookup[t]=y}_balanceNamespaceList(t,e){const y=this._namespaceList,R=this.namespacesByHostElement;if(y.length-1>=0){let pe=!1,Ne=this.driver.getParentElement(e);for(;Ne;){const Xe=R.get(Ne);if(Xe){const ot=y.indexOf(Xe);y.splice(ot+1,0,t),pe=!0;break}Ne=this.driver.getParentElement(Ne)}pe||y.unshift(t)}else y.push(t);return R.set(e,t),t}register(t,e){let y=this._namespaceLookup[t];return y||(y=this.createNamespace(t,e)),y}registerTrigger(t,e,y){let R=this._namespaceLookup[t];R&&R.register(e,y)&&this.totalAnimations++}destroy(t,e){if(!t)return;const y=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(y.hostElement),delete this._namespaceLookup[t];const R=this._namespaceList.indexOf(y);R>=0&&this._namespaceList.splice(R,1)}),this.afterFlushAnimationsDone(()=>y.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,y=this.statesByElement.get(t);if(y)for(let R of y.values())if(R.namespaceId){const K=this._fetchNamespace(R.namespaceId);K&&e.add(K)}return e}trigger(t,e,y,R){if(C1(e)){const K=this._fetchNamespace(t);if(K)return K.trigger(e,y,R),!0}return!1}insertNode(t,e,y,R){if(!C1(e))return;const K=e[pu];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const pe=this.collectedLeaveElements.indexOf(e);pe>=0&&this.collectedLeaveElements.splice(pe,1)}if(t){const pe=this._fetchNamespace(t);pe&&pe.insertNode(e,y)}R&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),mu(t,T2)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Mm(t,T2))}removeNode(t,e,y,R){if(C1(e)){const K=t?this._fetchNamespace(t):null;if(K?K.removeNode(e,R):this.markElementAsRemoved(t,e,!1,R),y){const pe=this.namespacesByHostElement.get(e);pe&&pe.id!==t&&pe.removeNode(e,R)}}else this._onRemovalComplete(e,R)}markElementAsRemoved(t,e,y,R,K){this.collectedLeaveElements.push(e),e[pu]={namespaceId:t,setForRemoval:R,hasAnimation:y,removedBeforeQueried:!1,previousTriggersValues:K}}listen(t,e,y,R,K){return C1(e)?this._fetchNamespace(t).listen(e,y,R,K):()=>{}}_buildInstruction(t,e,y,R,K){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,y,R,t.fromState.options,t.toState.options,e,K)}destroyInnerAnimations(t){let e=this.driver.query(t,y1,!0);e.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,f2,!0),e.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $f(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[pu];if(e&&e.setForRemoval){if(t[pu]=lS,e.namespaceId){this.destroyInnerAnimations(t);const y=this._fetchNamespace(e.namespaceId);y&&y.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(T2)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,R)=>this._balanceNamespaceList(y,R)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)mu(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{e=this._flushAnimations(y,t)}finally{for(let R=0;R<y.length;R++)y[R]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],e.length?$f(e).onDone(()=>{y.forEach(R=>R())}):y.forEach(R=>R())}}reportError(t){throw function XN(n){return new qt(3402,!1)}()}_flushAnimations(t,e){const y=new k1,R=[],K=new Map,pe=[],Ne=new Map,Xe=new Map,ot=new Map,wt=new Set;this.disabledNodes.forEach(hi=>{wt.add(hi);const Ti=this.driver.query(hi,".ng-animate-queued",!0);for(let Ci=0;Ci<Ti.length;Ci++)wt.add(Ti[Ci])});const Nt=this.bodyNode,hn=Array.from(this.statesByElement.keys()),An=dS(hn,this.collectedEnterElements),Nn=new Map;let Xn=0;An.forEach((hi,Ti)=>{const Ci=d2+Xn++;Nn.set(Ti,Ci),hi.forEach(Oo=>mu(Oo,Ci))});const hr=[],Ar=new Set,zr=new Set;for(let hi=0;hi<this.collectedLeaveElements.length;hi++){const Ti=this.collectedLeaveElements[hi],Ci=Ti[pu];Ci&&Ci.setForRemoval&&(hr.push(Ti),Ar.add(Ti),Ci.hasAnimation?this.driver.query(Ti,".ng-star-inserted",!0).forEach(Oo=>Ar.add(Oo)):zr.add(Ti))}const br=new Map,ii=dS(hn,Array.from(Ar));ii.forEach((hi,Ti)=>{const Ci=g1+Xn++;br.set(Ti,Ci),hi.forEach(Oo=>mu(Oo,Ci))}),t.push(()=>{An.forEach((hi,Ti)=>{const Ci=Nn.get(Ti);hi.forEach(Oo=>Mm(Oo,Ci))}),ii.forEach((hi,Ti)=>{const Ci=br.get(Ti);hi.forEach(Oo=>Mm(Oo,Ci))}),hr.forEach(hi=>{this.processLeaveNode(hi)})});const po=[],Fo=[];for(let hi=this._namespaceList.length-1;hi>=0;hi--)this._namespaceList[hi].drainQueuedTransitions(e).forEach(Ci=>{const Oo=Ci.player,_l=Ci.element;if(po.push(Oo),this.collectedEnterElements.length){const nc=_l[pu];if(nc&&nc.setForMove){if(nc.previousTriggersValues&&nc.previousTriggersValues.has(Ci.triggerName)){const ep=nc.previousTriggersValues.get(Ci.triggerName),gu=this.statesByElement.get(Ci.element);if(gu&&gu.has(Ci.triggerName)){const L1=gu.get(Ci.triggerName);L1.value=ep,gu.set(Ci.triggerName,L1)}}return void Oo.destroy()}}const ld=!Nt||!this.driver.containsElement(Nt,_l),Kc=br.get(_l),Kf=Nn.get(_l),$a=this._buildInstruction(Ci,y,Kf,Kc,ld);if($a.errors&&$a.errors.length)return void Fo.push($a);if(ld)return Oo.onStart(()=>Kh(_l,$a.fromStyles)),Oo.onDestroy(()=>sd(_l,$a.toStyles)),void R.push(Oo);if(Ci.isFallbackTransition)return Oo.onStart(()=>Kh(_l,$a.fromStyles)),Oo.onDestroy(()=>sd(_l,$a.toStyles)),void R.push(Oo);const CS=[];$a.timelines.forEach(nc=>{nc.stretchStartingKeyframe=!0,this.disabledNodes.has(nc.element)||CS.push(nc)}),$a.timelines=CS,y.append(_l,$a.timelines),pe.push({instruction:$a,player:Oo,element:_l}),$a.queriedElements.forEach(nc=>$c(Ne,nc,[]).push(Oo)),$a.preStyleProps.forEach((nc,ep)=>{if(nc.size){let gu=Xe.get(ep);gu||Xe.set(ep,gu=new Set),nc.forEach((L1,D2)=>gu.add(D2))}}),$a.postStyleProps.forEach((nc,ep)=>{let gu=ot.get(ep);gu||ot.set(ep,gu=new Set),nc.forEach((L1,D2)=>gu.add(D2))})});if(Fo.length){const hi=[];Fo.forEach(Ti=>{hi.push(function KN(n,t){return new qt(3505,!1)}())}),po.forEach(Ti=>Ti.destroy()),this.reportError(hi)}const tc=new Map,Gd=new Map;pe.forEach(hi=>{const Ti=hi.element;y.has(Ti)&&(Gd.set(Ti,Ti),this._beforeAnimationBuild(hi.player.namespaceId,hi.instruction,tc))}),R.forEach(hi=>{const Ti=hi.element;this._getPreviousPlayers(Ti,!1,hi.namespaceId,hi.triggerName,null).forEach(Oo=>{$c(tc,Ti,[]).push(Oo),Oo.destroy()})});const qd=hr.filter(hi=>hS(hi,Xe,ot)),Wd=new Map;uS(Wd,this.driver,zr,ot,Ud).forEach(hi=>{hS(hi,Xe,ot)&&qd.push(hi)});const Pg=new Map;An.forEach((hi,Ti)=>{uS(Pg,this.driver,new Set(hi),Xe,n2)}),qd.forEach(hi=>{const Ti=Wd.get(hi),Ci=Pg.get(hi);Wd.set(hi,new Map([...Array.from(Ti?.entries()??[]),...Array.from(Ci?.entries()??[])]))});const Qh=[],SS=[],ES={};pe.forEach(hi=>{const{element:Ti,player:Ci,instruction:Oo}=hi;if(y.has(Ti)){if(wt.has(Ti))return Ci.onDestroy(()=>sd(Ti,Oo.toStyles)),Ci.disabled=!0,Ci.overrideTotalTime(Oo.totalTime),void R.push(Ci);let _l=ES;if(Gd.size>1){let Kc=Ti;const Kf=[];for(;Kc=Kc.parentNode;){const $a=Gd.get(Kc);if($a){_l=$a;break}Kf.push(Kc)}Kf.forEach($a=>Gd.set($a,_l))}const ld=this._buildAnimation(Ci.namespaceId,Oo,tc,K,Pg,Wd);if(Ci.setRealPlayer(ld),_l===ES)Qh.push(Ci);else{const Kc=this.playersByElement.get(_l);Kc&&Kc.length&&(Ci.parentPlayer=$f(Kc)),R.push(Ci)}}else Kh(Ti,Oo.fromStyles),Ci.onDestroy(()=>sd(Ti,Oo.toStyles)),SS.push(Ci),wt.has(Ti)&&R.push(Ci)}),SS.forEach(hi=>{const Ti=K.get(hi.element);if(Ti&&Ti.length){const Ci=$f(Ti);hi.setRealPlayer(Ci)}}),R.forEach(hi=>{hi.parentPlayer?hi.syncPlayerEvents(hi.parentPlayer):hi.destroy()});for(let hi=0;hi<hr.length;hi++){const Ti=hr[hi],Ci=Ti[pu];if(Mm(Ti,g1),Ci&&Ci.hasAnimation)continue;let Oo=[];if(Ne.size){let ld=Ne.get(Ti);ld&&ld.length&&Oo.push(...ld);let Kc=this.driver.query(Ti,f2,!0);for(let Kf=0;Kf<Kc.length;Kf++){let $a=Ne.get(Kc[Kf]);$a&&$a.length&&Oo.push(...$a)}}const _l=Oo.filter(ld=>!ld.destroyed);_l.length?eB(this,Ti,_l):this.processLeaveNode(Ti)}return hr.length=0,Qh.forEach(hi=>{this.players.push(hi),hi.onDone(()=>{hi.destroy();const Ti=this.players.indexOf(hi);this.players.splice(Ti,1)}),hi.play()}),Qh}elementContainsData(t,e){let y=!1;const R=e[pu];return R&&R.setForRemoval&&(y=!0),this.playersByElement.has(e)&&(y=!0),this.playersByQueriedElement.has(e)&&(y=!0),this.statesByElement.has(e)&&(y=!0),this._fetchNamespace(t).elementContainsData(e)||y}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,y,R,K){let pe=[];if(e){const Ne=this.playersByQueriedElement.get(t);Ne&&(pe=Ne)}else{const Ne=this.playersByElement.get(t);if(Ne){const Xe=!K||K==Og;Ne.forEach(ot=>{ot.queued||!Xe&&ot.triggerName!=R||pe.push(ot)})}}return(y||R)&&(pe=pe.filter(Ne=>!(y&&y!=Ne.namespaceId||R&&R!=Ne.triggerName))),pe}_beforeAnimationBuild(t,e,y){const K=e.element,pe=e.isRemovalTransition?void 0:t,Ne=e.isRemovalTransition?void 0:e.triggerName;for(const Xe of e.timelines){const ot=Xe.element,wt=ot!==K,Nt=$c(y,ot,[]);this._getPreviousPlayers(ot,wt,pe,Ne,e.toState).forEach(An=>{const Nn=An.getRealPlayer();Nn.beforeDestroy&&Nn.beforeDestroy(),An.destroy(),Nt.push(An)})}Kh(K,e.fromStyles)}_buildAnimation(t,e,y,R,K,pe){const Ne=e.triggerName,Xe=e.element,ot=[],wt=new Set,Nt=new Set,hn=e.timelines.map(Nn=>{const Xn=Nn.element;wt.add(Xn);const hr=Xn[pu];if(hr&&hr.removedBeforeQueried)return new Cg(Nn.duration,Nn.delay);const Ar=Xn!==Xe,zr=function tB(n){const t=[];return fS(n,t),t}((y.get(Xn)||Zz).map(tc=>tc.getRealPlayer())).filter(tc=>!!tc.element&&tc.element===Xn),br=K.get(Xn),ii=pe.get(Xn),po=z4(0,this._normalizer,0,Nn.keyframes,br,ii),Fo=this._buildPlayer(Nn,po,zr);if(Nn.subTimeline&&R&&Nt.add(Xn),Ar){const tc=new k2(t,Ne,Xn);tc.setRealPlayer(Fo),ot.push(tc)}return Fo});ot.forEach(Nn=>{$c(this.playersByQueriedElement,Nn.element,[]).push(Nn),Nn.onDone(()=>function Kz(n,t,e){let y=n.get(t);if(y){if(y.length){const R=y.indexOf(e);y.splice(R,1)}0==y.length&&n.delete(t)}return y}(this.playersByQueriedElement,Nn.element,Nn))}),wt.forEach(Nn=>mu(Nn,Z4));const An=$f(hn);return An.onDestroy(()=>{wt.forEach(Nn=>Mm(Nn,Z4)),sd(Xe,e.toStyles)}),Nt.forEach(Nn=>{$c(R,Nn,[]).push(An)}),An}_buildPlayer(t,e,y){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,y):new Cg(t.duration,t.delay)}}class k2{constructor(t,e,y){this.namespaceId=t,this.triggerName=e,this.element=y,this._player=new Cg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,y)=>{e.forEach(R=>o2(t,y,void 0,R))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){$c(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function C1(n){return n&&1===n.nodeType}function cS(n,t){const e=n.style.display;return n.style.display=t??"none",e}function uS(n,t,e,y,R){const K=[];e.forEach(Xe=>K.push(cS(Xe)));const pe=[];y.forEach((Xe,ot)=>{const wt=new Map;Xe.forEach(Nt=>{const hn=t.computeStyle(ot,Nt,R);wt.set(Nt,hn),(!hn||0==hn.length)&&(ot[pu]=Yz,pe.push(ot))}),n.set(ot,wt)});let Ne=0;return e.forEach(Xe=>cS(Xe,K[Ne++])),pe}function dS(n,t){const e=new Map;if(n.forEach(Ne=>e.set(Ne,[])),0==t.length)return e;const y=1,R=new Set(t),K=new Map;function pe(Ne){if(!Ne)return y;let Xe=K.get(Ne);if(Xe)return Xe;const ot=Ne.parentNode;return Xe=e.has(ot)?ot:R.has(ot)?y:pe(ot),K.set(Ne,Xe),Xe}return t.forEach(Ne=>{const Xe=pe(Ne);Xe!==y&&e.get(Xe).push(Ne)}),e}function mu(n,t){n.classList?.add(t)}function Mm(n,t){n.classList?.remove(t)}function eB(n,t,e){$f(e).onDone(()=>n.processLeaveNode(t))}function fS(n,t){for(let e=0;e<n.length;e++){const y=n[e];y instanceof M4?fS(y.players,t):t.push(y)}}function hS(n,t,e){const y=e.get(n);if(!y)return!1;let R=t.get(n);return R?y.forEach(K=>R.add(K)):t.set(n,y),e.delete(n),!0}class D1{constructor(t,e,y){this.bodyNode=t,this._driver=e,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(R,K)=>{},this._transitionEngine=new Xz(t,e,y),this._timelineEngine=new Uz(t,e,y),this._transitionEngine.onRemovalComplete=(R,K)=>this.onRemovalComplete(R,K)}registerTrigger(t,e,y,R,K){const pe=t+"-"+R;let Ne=this._triggerCache[pe];if(!Ne){const Xe=[],ot=[],wt=g2(this._driver,K,Xe,ot);if(Xe.length)throw function jN(n,t){return new qt(3404,!1)}();Ne=function zz(n,t,e){return new Bz(n,t,e)}(R,wt,this._normalizer),this._triggerCache[pe]=Ne}this._transitionEngine.registerTrigger(e,R,Ne)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,y,R){this._transitionEngine.insertNode(t,e,y,R)}onRemove(t,e,y,R){this._transitionEngine.removeNode(t,e,R||!1,y)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,y,R){if("@"==y.charAt(0)){const[K,pe]=B4(y);this._timelineEngine.command(K,e,pe,R)}else this._transitionEngine.trigger(t,e,y,R)}listen(t,e,y,R,K){if("@"==y.charAt(0)){const[pe,Ne]=B4(y);return this._timelineEngine.listen(pe,e,Ne,K)}return this._transitionEngine.listen(t,e,y,R,K)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let iB=(()=>{class n{constructor(e,y,R){this._element=e,this._startStyles=y,this._endStyles=R,this._state=0;let K=n.initialStylesByElement.get(e);K||n.initialStylesByElement.set(e,K=new Map),this._initialStyles=K}start(){this._state<1&&(this._startStyles&&sd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sd(this._element,this._initialStyles),this._endStyles&&(sd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Kh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kh(this._element,this._endStyles),this._endStyles=null),sd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function S2(n){let t=null;return n.forEach((e,y)=>{(function oB(n){return"display"===n||"position"===n})(y)&&(t=t||new Map,t.set(y,e))}),t}class pS{constructor(t,e,y,R){this.element=t,this.keyframes=e,this.options=y,this._specialStyles=R,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(y=>{e.push(Object.fromEntries(y))}),e}_triggerWebAnimation(t,e,y){return t.animate(this._convertKeyframesToObject(e),y)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((y,R)=>{"offset"!==R&&t.set(R,this._finished?y:Q4(this.element,R))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(y=>y()),e.length=0}}class aB{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return H4(t,e)}getParentElement(t){return c2(t)}query(t,e,y){return G4(t,e,y)}computeStyle(t,e,y){return window.getComputedStyle(t)[e]}animate(t,e,y,R,K,pe=[]){const Xe={duration:y,delay:R,fill:0==R?"both":"forwards"};K&&(Xe.easing=K);const ot=new Map,wt=pe.filter(An=>An instanceof pS);(function uz(n,t){return 0===n||0===t})(y,R)&&wt.forEach(An=>{An.currentSnapshot.forEach((Nn,Xn)=>ot.set(Xn,Nn))});let Nt=function az(n){return n.length?n[0]instanceof Map?n:n.map(t=>Y4(t)):[]}(e).map(An=>Xf(An));Nt=function dz(n,t,e){if(e.size&&t.length){let y=t[0],R=[];if(e.forEach((K,pe)=>{y.has(pe)||R.push(pe),y.set(pe,K)}),R.length)for(let K=1;K<t.length;K++){let pe=t[K];R.forEach(Ne=>pe.set(Ne,Q4(n,Ne)))}}return t}(t,Nt,ot);const hn=function rB(n,t){let e=null,y=null;return Array.isArray(t)&&t.length?(e=S2(t[0]),t.length>1&&(y=S2(t[t.length-1]))):t instanceof Map&&(e=S2(t)),e||y?new iB(n,e,y):null}(t,Nt);return new pS(t,Nt,Xe,hn)}}let sB=(()=>{class n extends b4{constructor(e,y){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(y.body,{id:"0",encapsulation:xs.None,styles:[],data:{animation:[]}})}build(e){const y=this._nextAnimationId.toString();this._nextAnimationId++;const R=Array.isArray(e)?w4(e):e;return mS(this._renderer,null,y,"register",[R]),new lB(y,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(Dr(Wa),Dr(ha))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();class lB extends CF{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new cB(this._id,t,e||{},this._renderer)}}class cB{constructor(t,e,y,R){this.id=t,this.element=e,this._renderer=R,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return mS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mS(n,t,e,y,R){return n.setProperty(t,`@@${e}:${y}`,R)}const gS="@.disabled";let uB=(()=>{class n{constructor(e,y,R){this.delegate=e,this.engine=y,this._zone=R,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),y.onRemovalComplete=(K,pe)=>{const Ne=pe?.parentNode(K);Ne&&pe.removeChild(Ne,K)}}createRenderer(e,y){const K=this.delegate.createRenderer(e,y);if(!(e&&y&&y.data&&y.data.animation)){let wt=this._rendererCache.get(K);return wt||(wt=new vS("",K,this.engine,()=>this._rendererCache.delete(K)),this._rendererCache.set(K,wt)),wt}const pe=y.id,Ne=y.id+"-"+this._currentId;this._currentId++,this.engine.register(Ne,e);const Xe=wt=>{Array.isArray(wt)?wt.forEach(Xe):this.engine.registerTrigger(pe,Ne,e,wt.name,wt)};return y.data.animation.forEach(Xe),new dB(this,Ne,K,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,y,R){e>=0&&e<this._microtaskId?this._zone.run(()=>y(R)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(K=>{const[pe,Ne]=K;pe(Ne)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,R]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(Dr(Wa),Dr(D1),Dr(Uo))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})();class vS{constructor(t,e,y,R){this.namespaceId=t,this.delegate=e,this.engine=y,this._onDestroy=R,this.destroyNode=this.delegate.destroyNode?K=>e.destroyNode(K):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,y,R=!0){this.delegate.insertBefore(t,e,y),this.engine.onInsert(this.namespaceId,e,t,R)}removeChild(t,e,y){this.engine.onRemove(this.namespaceId,e,this.delegate,y)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,y,R){this.delegate.setAttribute(t,e,y,R)}removeAttribute(t,e,y){this.delegate.removeAttribute(t,e,y)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,y,R){this.delegate.setStyle(t,e,y,R)}removeStyle(t,e,y){this.delegate.removeStyle(t,e,y)}setProperty(t,e,y){"@"==e.charAt(0)&&e==gS?this.disableAnimations(t,!!y):this.delegate.setProperty(t,e,y)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,y){return this.delegate.listen(t,e,y)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dB extends vS{constructor(t,e,y,R,K){super(e,y,R,K),this.factory=t,this.namespaceId=e}setProperty(t,e,y){"@"==e.charAt(0)?"."==e.charAt(1)&&e==gS?this.disableAnimations(t,y=void 0===y||!!y):this.engine.process(this.namespaceId,t,e.slice(1),y):this.delegate.setProperty(t,e,y)}listen(t,e,y){if("@"==e.charAt(0)){const R=function fB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let K=e.slice(1),pe="";return"@"!=K.charAt(0)&&([K,pe]=function hB(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(K)),this.engine.listen(this.namespaceId,R,K,pe,Ne=>{this.factory.scheduleListenerCallback(Ne._data||-1,y,Ne)})}return this.delegate.listen(t,e,y)}}const yS=[{provide:b4,useClass:sB},{provide:b2,useFactory:function mB(){return new Pz}},{provide:D1,useClass:(()=>{class n extends D1{constructor(e,y,R,K){super(e.body,y,R)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(Dr(ha),Dr(u2),Dr(b2),Dr(Y0))},n.\u0275prov=Vn({token:n,factory:n.\u0275fac}),n})()},{provide:Wa,useFactory:function gB(n,t,e){return new uB(n,t,e)},deps:[wy,D1,Uo]}],E2=[{provide:u2,useFactory:()=>new aB},{provide:Z0,useValue:"BrowserAnimations"},...yS],xS=[{provide:u2,useClass:q4},{provide:Z0,useValue:"NoopAnimations"},...yS];let vB=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?xS:E2}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({providers:E2,imports:[UM]}),n})(),yB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Os,Os]}),n})(),AS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[R4,Nd,Os,FA,cP,yB]}),n})();var YB=Jf(102);let $B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ui({type:n}),n.\u0275inj=rr({imports:[Os,Os]}),n})();jA.plotlyjs=YB;let XB=(()=>{var n;class t{}return(n=t).\u0275fac=function(y){return new(y||n)},n.\u0275mod=Ui({type:n,bootstrap:[yN]}),n.\u0275inj=rr({imports:[UM,vN,vB,kP,AS,jR,jA,$B,CR,DR,AS,tN,dN]}),t})();y7().bootstrapModule(XB).catch(n=>console.error(n))},102:Am=>{self,Am.exports=function(){var km={98847:function(ae,B,r){"use strict";var D=r(71828),E={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var d in E){var S=d.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");D.addStyleRule(S,E[d])}},98222:function(ae,B,r){"use strict";ae.exports=r(82887)},27206:function(ae,B,r){"use strict";ae.exports=r(60822)},59893:function(ae,B,r){"use strict";ae.exports=r(23381)},5224:function(ae,B,r){"use strict";ae.exports=r(83832)},59509:function(ae,B,r){"use strict";ae.exports=r(72201)},75557:function(ae,B,r){"use strict";ae.exports=r(91815)},40338:function(ae,B,r){"use strict";ae.exports=r(21462)},35080:function(ae,B,r){"use strict";ae.exports=r(51319)},61396:function(ae,B,r){"use strict";ae.exports=r(57516)},40549:function(ae,B,r){"use strict";ae.exports=r(98128)},49866:function(ae,B,r){"use strict";ae.exports=r(99442)},36089:function(ae,B,r){"use strict";ae.exports=r(93740)},19548:function(ae,B,r){"use strict";ae.exports=r(8729)},35831:function(ae,B,r){"use strict";ae.exports=r(93814)},61039:function(ae,B,r){"use strict";ae.exports=r(14382)},97040:function(ae,B,r){"use strict";ae.exports=r(51759)},77986:function(ae,B,r){"use strict";ae.exports=r(10421)},24296:function(ae,B,r){"use strict";ae.exports=r(43102)},58872:function(ae,B,r){"use strict";ae.exports=r(92165)},29626:function(ae,B,r){"use strict";ae.exports=r(3325)},65591:function(ae,B,r){"use strict";ae.exports=r(36071)},69738:function(ae,B,r){"use strict";ae.exports=r(43905)},92650:function(ae,B,r){"use strict";ae.exports=r(35902)},35630:function(ae,B,r){"use strict";ae.exports=r(69816)},73434:function(ae,B,r){"use strict";ae.exports=r(94507)},27909:function(ae,B,r){"use strict";var D=r(19548);D.register([r(27206),r(5224),r(58872),r(65591),r(69738),r(92650),r(49866),r(25743),r(6197),r(97040),r(85461),r(73434),r(54201),r(81299),r(47645),r(35630),r(77986),r(83043),r(93005),r(96881),r(4534),r(50581),r(40549),r(77900),r(47582),r(35080),r(21641),r(17280),r(5861),r(29626),r(10021),r(65317),r(96268),r(61396),r(35831),r(16122),r(46163),r(40344),r(40338),r(48131),r(36089),r(55334),r(75557),r(19440),r(99488),r(59893),r(97393),r(98222),r(61039),r(24296),r(66398),r(59509)]),ae.exports=D},46163:function(ae,B,r){"use strict";ae.exports=r(15154)},96881:function(ae,B,r){"use strict";ae.exports=r(64943)},50581:function(ae,B,r){"use strict";ae.exports=r(21164)},55334:function(ae,B,r){"use strict";ae.exports=r(54186)},65317:function(ae,B,r){"use strict";ae.exports=r(94873)},10021:function(ae,B,r){"use strict";ae.exports=r(67618)},54201:function(ae,B,r){"use strict";ae.exports=r(58810)},5861:function(ae,B,r){"use strict";ae.exports=r(20593)},16122:function(ae,B,r){"use strict";ae.exports=r(29396)},83043:function(ae,B,r){"use strict";ae.exports=r(13551)},48131:function(ae,B,r){"use strict";ae.exports=r(46858)},47582:function(ae,B,r){"use strict";ae.exports=r(17988)},21641:function(ae,B,r){"use strict";ae.exports=r(68868)},96268:function(ae,B,r){"use strict";ae.exports=r(20467)},19440:function(ae,B,r){"use strict";ae.exports=r(91271)},99488:function(ae,B,r){"use strict";ae.exports=r(21461)},97393:function(ae,B,r){"use strict";ae.exports=r(85956)},25743:function(ae,B,r){"use strict";ae.exports=r(52979)},66398:function(ae,B,r){"use strict";ae.exports=r(32275)},17280:function(ae,B,r){"use strict";ae.exports=r(6419)},77900:function(ae,B,r){"use strict";ae.exports=r(61510)},81299:function(ae,B,r){"use strict";ae.exports=r(87619)},93005:function(ae,B,r){"use strict";ae.exports=r(93601)},40344:function(ae,B,r){"use strict";ae.exports=r(96595)},47645:function(ae,B,r){"use strict";ae.exports=r(70954)},6197:function(ae,B,r){"use strict";ae.exports=r(47462)},4534:function(ae,B,r){"use strict";ae.exports=r(17659)},85461:function(ae,B,r){"use strict";ae.exports=r(19990)},82884:function(ae){"use strict";ae.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(ae,B,r){"use strict";var D=r(82884),E=r(41940),d=r(85555),S=r(44467).templatedArray;r(24695),ae.exports=S("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:D.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:D.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",d.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",d.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",d.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",d.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:E({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(92605).draw;function S(v){D.filterVisible(v._fullLayout.annotations).forEach(function(i){var s=E.getFromId(v,i.xref),a=E.getFromId(v,i.yref),o=E.getRefType(i.xref),l=E.getRefType(i.yref);i._extremes={},"range"===o&&M(i,s),"range"===l&&M(i,a)})}function M(v,u){var i,s=u._id,a=s.charAt(0),o=v[a],l=v["a"+a],g=v["_"+a+"padplus"],h=v["_"+a+"padminus"],T={x:1,y:-1}[a]*v[a+"shift"],x=3*v.arrowsize*v.arrowwidth||0,m=x+T,b=x-T,_=3*v.startarrowsize*v.arrowwidth||0,w=_+T,A=_-T;if(v["a"+a+"ref"]===v[a+"ref"]){var p=E.findExtremes(u,[u.r2c(o)],{ppadplus:m,ppadminus:b}),I=E.findExtremes(u,[u.r2c(l)],{ppadplus:Math.max(g,w),ppadminus:Math.max(h,A)});i={min:[p.min[0],I.min[0]],max:[p.max[0],I.max[0]]}}else w=l?w+l:w,A=l?A-l:A,i=E.findExtremes(u,[u.r2c(o)],{ppadplus:Math.max(g,m,w),ppadminus:Math.max(h,b,A)});v._extremes[s]=i}ae.exports=function(v){if(D.filterVisible(v._fullLayout.annotations).length&&v._fullData.length)return D.syncOrAsync([d,S],v)}},44317:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),d=r(44467).arrayEditor;function S(v,u){var i,s,a,o,l,c,f,g=v._fullLayout.annotations,h=[],T=[],x=[],m=(u||[]).length;for(i=0;i<g.length;i++)if(o=(a=g[i]).clicktoshow){for(s=0;s<m;s++)if(c=(l=u[s]).xaxis,f=l.yaxis,c._id===a.xref&&f._id===a.yref&&c.d2r(l.x)===M(a._xclick,c)&&f.d2r(l.y)===M(a._yclick,f)){(a.visible?"onout"===o?T:x:h).push(i);break}s===m&&a.visible&&"onout"===o&&T.push(i)}return{on:h,off:T,explicitOff:x}}function M(v,u){return"log"===u.type?u.l2r(v):u.d2r(v)}ae.exports={hasClickToShow:function(v,u){var i=S(v,u);return i.on.length>0||i.explicitOff.length>0},onClick:function(v,u){var i,s,a=S(v,u),o=a.on,l=a.off.concat(a.explicitOff),c={},f=v._fullLayout.annotations;if(o.length||l.length){for(i=0;i<o.length;i++)(s=d(v.layout,"annotations",f[o[i]])).modifyItem("visible",!0),D.extendFlat(c,s.getUpdateObj());for(i=0;i<l.length;i++)(s=d(v.layout,"annotations",f[l[i]])).modifyItem("visible",!1),D.extendFlat(c,s.getUpdateObj());return E.call("update",v,{},c)}}}},25625:function(ae,B,r){"use strict";var D=r(71828),E=r(7901);ae.exports=function(d,S,M,v){v("opacity");var u=v("bgcolor"),i=v("bordercolor"),s=E.opacity(i);v("borderpad");var a=v("borderwidth"),o=v("showarrow");if(v("text",o?" ":M._dfltTitle.annotation),v("textangle"),D.coerceFont(v,"font",M.font),v("width"),v("align"),v("height")&&v("valign"),o){var l,c,f=v("arrowside");-1!==f.indexOf("end")&&(l=v("arrowhead"),c=v("arrowsize")),-1!==f.indexOf("start")&&(v("startarrowhead",l),v("startarrowsize",c)),v("arrowcolor",s?S.bordercolor:E.defaultLine),v("arrowwidth",2*(s&&a||1)),v("standoff"),v("startstandoff")}var g=v("hovertext"),h=M.hoverlabel||{};if(g){var T=v("hoverlabel.bgcolor",h.bgcolor||(E.opacity(u)?E.rgb(u):E.defaultLine)),x=v("hoverlabel.bordercolor",h.bordercolor||E.contrast(T));D.coerceFont(v,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||x})}v("captureevents",!!g)}},94128:function(ae,B,r){"use strict";var D=r(92770),E=r(58163);ae.exports=function(d,S,M,v){S=S||{};var u="log"===M&&"linear"===S.type;if(u||"linear"===M&&"log"===S.type)for(var s,a,o=d._fullLayout.annotations,l=S._id.charAt(0),c=0;c<o.length;c++)a="annotations["+c+"].",(s=o[c])[l+"ref"]===S._id&&f(l),s["a"+l+"ref"]===S._id&&f("a"+l);function f(g){var h=s[g],T=null;T=u?E(h,S.range):Math.pow(10,h),D(T)||(T=null),v(a+g,T)}}},84046:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(85501),S=r(25625),M=r(50215);function v(u,i,s){function a(I,k){return D.coerce(u,i,M,I,k)}var o=a("visible"),l=a("clicktoshow");if(o||l){S(u,i,s,a);for(var c=i.showarrow,f=["x","y"],g=[-10,-30],h={_fullLayout:s},T=0;T<2;T++){var x=f[T],m=E.coerceRef(u,i,h,x,"","paper");if("paper"!==m&&E.getFromId(h,m)._annIndices.push(i._index),E.coercePosition(i,h,a,m,x,.5),c){var b="a"+x,_=E.coerceRef(u,i,h,b,"pixel",["pixel","paper"]);"pixel"!==_&&_!==m&&(_=i[b]="pixel"),E.coercePosition(i,h,a,_,b,"pixel"===_?g[T]:.4)}a(x+"anchor"),a(x+"shift")}if(D.noneOrAll(u,i,["x","y"]),c&&D.noneOrAll(u,i,["ax","ay"]),l){var A=a("xclick"),p=a("yclick");i._xclick=void 0===A?i.x:E.cleanPosition(A,h,i.xref),i._yclick=void 0===p?i.y:E.cleanPosition(p,h,i.yref)}}}ae.exports=function(u,i){d(u,i,{name:"annotations",handleItemDefaults:v})}},92605:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(74875),S=r(71828),M=S.strTranslate,v=r(89298),u=r(7901),i=r(91424),s=r(30211),a=r(63893),o=r(6964),l=r(28569),c=r(44467).arrayEditor,f=r(13011);function g(x,m){var b=x._fullLayout.annotations[m]||{},_=v.getFromId(x,b.xref),w=v.getFromId(x,b.yref);_&&_.setScale(),w&&w.setScale(),T(x,b,m,!1,_,w)}function h(x,m,b,_,w){var A=w[b],p=w[b+"ref"],I=-1!==b.indexOf("y"),k="domain"===v.getRefType(p),L=I?_.h:_.w;return x?k?A+(I?-m:m)/x._length:x.p2r(x.r2p(A)+m):A+(I?-m:m)/L}function T(x,m,b,_,w,A){var p,I,k=x._fullLayout,L=x._fullLayout._size,O=x._context.edits;_?(p="annotation-"+_,I=_+".annotations"):(p="annotation",I="annotations");var P=c(x.layout,I,m),F=P.modifyBase,j=P.modifyItem,X=P.getUpdateObj;k._infolayer.selectAll("."+p+'[data-index="'+b+'"]').remove();var N="clip"+k._uid+"_ann"+b;if(m._input&&!1!==m.visible){var q={x:{},y:{}},G=+m.textangle||0,H=k._infolayer.append("g").classed(p,!0).attr("data-index",String(b)).style("opacity",m.opacity),Z=H.append("g").classed("annotation-text-g",!0),$=O[m.showarrow?"annotationTail":"annotationPosition"],se=m.captureevents||O.annotationText||$,ne=Z.append("g").style("pointer-events",se?"all":null).call(o,"pointer").on("click",function(){x._dragging=!1,x.emit("plotly_clickannotation",Ie(D.event))});m.hovertext&&ne.on("mouseover",function(){var we=m.hoverlabel,ze=we.font,Ee=this.getBoundingClientRect(),Se=x.getBoundingClientRect();s.loneHover({x0:Ee.left-Se.left,x1:Ee.right-Se.left,y:(Ee.top+Ee.bottom)/2-Se.top,text:m.hovertext,color:we.bgcolor,borderColor:we.bordercolor,fontFamily:ze.family,fontSize:ze.size,fontColor:ze.color},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:x})}).on("mouseout",function(){s.loneUnhover(k._hoverlayer.node())});var re=m.borderwidth,ee=re+m.borderpad,oe=ne.append("rect").attr("class","bg").style("stroke-width",re+"px").call(u.stroke,m.bordercolor).call(u.fill,m.bgcolor),ce=m.width||m.height,ue=k._topclips.selectAll("#"+N).data(ce?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),ue.exit().remove();var he=m.font,ve=k._meta?S.templateString(m.text,k._meta):m.text,ke=ne.append("text").classed("annotation-text",!0).text(ve);O.annotationText?ke.call(a.makeEditable,{delegate:ne,gd:x}).call(Me).on("edit",function(we){m.text=we,this.call(Me),j("text",we),w&&w.autorange&&F(w._name+".autorange",!0),A&&A.autorange&&F(A._name+".autorange",!0),E.call("_guiRelayout",x,X())}):ke.call(Me)}else D.selectAll("#"+N).remove();function Ie(we){var ze={index:b,annotation:m._input,fullAnnotation:m,event:we};return _&&(ze.subplotId=_),ze}function Me(we){return we.call(i.font,he).attr({"text-anchor":{left:"start",right:"end"}[m.align]||"middle"}),a.convertToTspans(we,x,_e),we}function _e(){var we=ke.selectAll("a");1===we.size()&&we.text()===ke.text()&&ne.insert("a",":first-child").attr({"xlink:xlink:href":we.attr("xlink:href"),"xlink:xlink:show":we.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(oe.node());var ze=ne.select(".annotation-text-math-group"),Ee=!ze.empty(),Se=i.bBox((Ee?ze:ke).node()),me=Se.width,fe=Se.height,le=m.width||me,Te=m.height||fe,Re=Math.round(le+2*ee),De=Math.round(Te+2*ee);function Ue(At,xt){return"auto"===xt&&(xt=At<.3333333333333333?"left":At>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[xt]}for(var Ze=!1,xe=["x","y"],Oe=0;Oe<xe.length;Oe++){var Ce,Be,qe,He,Je,et=xe[Oe],st=m[et+"ref"]||et,pt=m["a"+et+"ref"],ct={x:w,y:A}[et],St=(G+("x"===et?0:-90))*Math.PI/180,Dt=Re*Math.cos(St),vt=De*Math.sin(St),gt=Math.abs(Dt)+Math.abs(vt),Et=m[et+"anchor"],Pt=m[et+"shift"]*("x"===et?1:-1),Ot=q[et],Ht=v.getRefType(st);if(ct&&"domain"!==Ht){var zt=ct.r2fraction(m[et]);(zt<0||zt>1)&&(pt===st?((zt=ct.r2fraction(m["a"+et]))<0||zt>1)&&(Ze=!0):Ze=!0),Ce=ct._offset+ct.r2p(m[et]),He=.5}else{var nt="domain"===Ht;"x"===et?(qe=m[et],Ce=nt?ct._offset+ct._length*qe:Ce=L.l+L.w*qe):(qe=1-m[et],Ce=nt?ct._offset+ct._length*qe:Ce=L.t+L.h*qe),He=m.showarrow?.5:qe}if(m.showarrow){Ot.head=Ce;var it=m["a"+et];if(Je=Dt*Ue(.5,m.xanchor)-vt*Ue(.5,m.yanchor),pt===st){var Ke=v.getRefType(pt);"domain"===Ke?("y"===et&&(it=1-it),Ot.tail=ct._offset+ct._length*it):Ot.tail="paper"===Ke?"y"===et?L.t+L.h*(it=1-it):L.l+L.w*it:ct._offset+ct.r2p(it),Be=Je}else Ot.tail=Ce+it,Be=Je+it;Ot.text=Ot.tail+Je;var rt=k["x"===et?"width":"height"];if("paper"===st&&(Ot.head=S.constrain(Ot.head,1,rt-1)),"pixel"===pt){var ft=-Math.max(Ot.tail-3,Ot.text),ht=Math.min(Ot.tail+3,Ot.text)-rt;ft>0?(Ot.tail+=ft,Ot.text+=ft):ht>0&&(Ot.tail-=ht,Ot.text-=ht)}Ot.tail+=Pt,Ot.head+=Pt}else Be=Je=gt*Ue(He,Et),Ot.text=Ce+Je;Ot.text+=Pt,Je+=Pt,m["_"+et+"padplus"]=gt/2+(Be+=Pt),m["_"+et+"padminus"]=gt/2-Be,m["_"+et+"size"]=gt,m["_"+et+"shift"]=Je}if(Ze)ne.remove();else{var Ve=0,Ge=0;"left"!==m.align&&(Ve=(le-me)*("center"===m.align?.5:1)),"top"!==m.valign&&(Ge=(Te-fe)*("middle"===m.valign?.5:1)),Ee?ze.select("svg").attr({x:ee+Ve-1,y:ee+Ge}).call(i.setClipUrl,ce?N:null,x):ke.call(a.positionText,ee+Ve-Se.left,ee+Ge-Se.top).call(i.setClipUrl,ce?N:null,x),ue.select("rect").call(i.setRect,ee,ee,le,Te),oe.call(i.setRect,re/2,re/2,Re-re,De-re),ne.call(i.setTranslate,Math.round(q.x.text-Re/2),Math.round(q.y.text-De/2)),Z.attr({transform:"rotate("+G+","+q.x.text+","+q.y.text+")"});var kt,bt=function(At,xt){H.selectAll(".annotation-arrow-g").remove();var Rt=q.x.head,_t=q.y.head,Tt=q.x.tail+At,It=q.y.tail+xt,Wt=q.x.text+At,Zt=q.y.text+xt,$t=S.rotationXYMatrix(G,Wt,Zt),dn=S.apply2DTransform($t),nn=S.apply2DTransform2($t),cn=+oe.attr("width"),rn=+oe.attr("height"),En=Wt-.5*cn,Pn=En+cn,Mn=Zt-.5*rn,en=Mn+rn,gn=[[En,Mn,En,en],[En,en,Pn,en],[Pn,en,Pn,Mn],[Pn,Mn,En,Mn]].map(nn);if(!gn.reduce(function(xr,dr){return xr^!!S.segmentsIntersect(Rt,_t,Rt+1e6,_t+1e6,dr[0],dr[1],dr[2],dr[3])},!1)){gn.forEach(function(xr){var dr=S.segmentsIntersect(Tt,It,Rt,_t,xr[0],xr[1],xr[2],xr[3]);dr&&(Tt=dr.x,It=dr.y)});var an=m.arrowwidth,yn=m.arrowcolor,kn=m.arrowside,Ln=H.append("g").style({opacity:u.opacity(yn)}).classed("annotation-arrow-g",!0),Rn=Ln.append("path").attr("d","M"+Tt+","+It+"L"+Rt+","+_t).style("stroke-width",an+"px").call(u.stroke,u.rgb(yn));if(f(Rn,kn,m),O.annotationPosition&&Rn.node().parentNode&&!_){var Wn=Rt,Cn=_t;if(m.standoff){var Zn=Math.sqrt(Math.pow(Rt-Tt,2)+Math.pow(_t-It,2));Wn+=m.standoff*(Tt-Rt)/Zn,Cn+=m.standoff*(It-_t)/Zn}var mr,lr,er=Ln.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Tt-Wn)+","+(It-Cn),transform:M(Wn,Cn)}).style("stroke-width",an+6+"px").call(u.stroke,"rgba(0,0,0,0)").call(u.fill,"rgba(0,0,0,0)");l.init({element:er.node(),gd:x,prepFn:function(){var xr=i.getTranslate(ne);mr=xr.x,lr=xr.y,w&&w.autorange&&F(w._name+".autorange",!0),A&&A.autorange&&F(A._name+".autorange",!0)},moveFn:function(xr,dr){var jr=dn(mr,lr),Kt=jr[0]+xr,qt=jr[1]+dr;ne.call(i.setTranslate,Kt,qt),j("x",h(w,xr,"x",L,m)),j("y",h(A,dr,"y",L,m)),m.axref===m.xref&&j("ax",h(w,xr,"ax",L,m)),m.ayref===m.yref&&j("ay",h(A,dr,"ay",L,m)),Ln.attr("transform",M(xr,dr)),Z.attr({transform:"rotate("+G+","+Kt+","+qt+")"})},doneFn:function(){E.call("_guiRelayout",x,X());var xr=document.querySelector(".js-notes-box-panel");xr&&xr.redraw(xr.selectedObj)}})}}};m.showarrow&&bt(0,0),$&&l.init({element:ne.node(),gd:x,prepFn:function(){kt=Z.attr("transform")},moveFn:function(At,xt){var Rt="pointer";if(m.showarrow)j("ax",m.axref===m.xref?h(w,At,"ax",L,m):m.ax+At),j("ay",m.ayref===m.yref?h(A,xt,"ay",L.w,m):m.ay+xt),bt(At,xt);else{if(_)return;var _t,Tt;if(w)_t=h(w,At,"x",L,m);else{var It=m._xsize/L.w;_t=l.align(m.x+(m._xshift-m.xshift)/L.w-It/2+At/L.w,It,0,1,m.xanchor)}if(A)Tt=h(A,xt,"y",L,m);else{var Zt=m._ysize/L.h;Tt=l.align(m.y-(m._yshift+m.yshift)/L.h-Zt/2-xt/L.h,Zt,0,1,m.yanchor)}j("x",_t),j("y",Tt),w&&A||(Rt=l.getCursor(w?.5:_t,A?.5:Tt,m.xanchor,m.yanchor))}Z.attr({transform:M(At,xt)+kt}),o(ne,Rt)},clickFn:function(At,xt){m.captureevents&&x.emit("plotly_clickannotation",Ie(xt))},doneFn:function(){o(ne),E.call("_guiRelayout",x,X());var At=document.querySelector(".js-notes-box-panel");At&&At.redraw(At.selectedObj)}})}}}ae.exports={draw:function(x){var m=x._fullLayout;m._infolayer.selectAll(".annotation").remove();for(var b=0;b<m.annotations.length;b++)m.annotations[b].visible&&g(x,b);return d.previousPromises(x)},drawOne:g,drawRaw:T}},13011:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),d=r(82884),S=r(71828),M=S.strScale,v=S.strRotate,u=S.strTranslate;ae.exports=function(i,s,a){var o,l,c,f,g=i.node(),h=d[a.arrowhead||0],T=d[a.startarrowhead||0],x=(a.arrowwidth||1)*(a.arrowsize||1),m=(a.arrowwidth||1)*(a.startarrowsize||1),b=s.indexOf("start")>=0,_=s.indexOf("end")>=0,w=h.backoff*x+a.standoff,A=T.backoff*m+a.startstandoff;if("line"===g.nodeName){o={x:+i.attr("x1"),y:+i.attr("y1")},l={x:+i.attr("x2"),y:+i.attr("y2")};var p=o.x-l.x,I=o.y-l.y;if(f=(c=Math.atan2(I,p))+Math.PI,w&&A&&w+A>Math.sqrt(p*p+I*I))return void H();if(w){if(w*w>p*p+I*I)return void H();var k=w*Math.cos(c),L=w*Math.sin(c);l.x+=k,l.y+=L,i.attr({x2:l.x,y2:l.y})}if(A){if(A*A>p*p+I*I)return void H();var O=A*Math.cos(c),P=A*Math.sin(c);o.x-=O,o.y-=P,i.attr({x1:o.x,y1:o.y})}}else if("path"===g.nodeName){var F=g.getTotalLength(),j="";if(F<w+A)return void H();var X=g.getPointAtLength(0),N=g.getPointAtLength(.1);c=Math.atan2(X.y-N.y,X.x-N.x),o=g.getPointAtLength(Math.min(A,F)),j="0px,"+A+"px,";var q=g.getPointAtLength(F),G=g.getPointAtLength(F-.1);f=Math.atan2(q.y-G.y,q.x-G.x),l=g.getPointAtLength(Math.max(0,F-w)),i.style("stroke-dasharray",j+=F-(j?A+w:w)+"px,"+F+"px")}function H(){i.style("stroke-dasharray","0px,100px")}function Z($,se,ne,re){$.path&&($.noRotate&&(ne=0),D.select(g.parentNode).append("path").attr({class:i.attr("class"),d:$.path,transform:u(se.x,se.y)+v(180*ne/Math.PI)+M(re)}).style({fill:E.rgb(a.arrowcolor),"stroke-width":0}))}b&&Z(T,o,c,m),_&&Z(h,l,f,x)}},32745:function(ae,B,r){"use strict";var D=r(92605),E=r(44317);ae.exports={moduleType:"component",name:"annotations",layoutAttributes:r(50215),supplyLayoutDefaults:r(84046),includeBasePlot:r(76325)("annotations"),calcAutorange:r(3749),draw:D.draw,drawOne:D.drawOne,drawRaw:D.drawRaw,hasClickToShow:E.hasClickToShow,onClick:E.onClick,convertCoords:r(94128)}},26997:function(ae,B,r){"use strict";var D=r(50215),E=r(30962).overrideAll,d=r(44467).templatedArray;ae.exports=E(d("annotation",{visible:D.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:D.xanchor,xshift:D.xshift,yanchor:D.yanchor,yshift:D.yshift,text:D.text,textangle:D.textangle,font:D.font,width:D.width,height:D.height,opacity:D.opacity,align:D.align,valign:D.valign,bgcolor:D.bgcolor,bordercolor:D.bordercolor,borderpad:D.borderpad,borderwidth:D.borderwidth,showarrow:D.showarrow,arrowcolor:D.arrowcolor,arrowhead:D.arrowhead,startarrowhead:D.startarrowhead,arrowside:D.arrowside,arrowsize:D.arrowsize,startarrowsize:D.startarrowsize,arrowwidth:D.arrowwidth,standoff:D.standoff,startstandoff:D.startstandoff,hovertext:D.hovertext,hoverlabel:D.hoverlabel,captureevents:D.captureevents}),"calc","from-root")},5485:function(ae,B,r){"use strict";var D=r(71828),E=r(89298);function d(S,M){var v=M.fullSceneLayout.domain,u=M.fullLayout._size,i={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};S._xa={},D.extendFlat(S._xa,i),E.setConvert(S._xa),S._xa._offset=u.l+v.x[0]*u.w,S._xa.l2p=function(){return.5*(1+S._pdata[0]/S._pdata[3])*u.w*(v.x[1]-v.x[0])},S._ya={},D.extendFlat(S._ya,i),E.setConvert(S._ya),S._ya._offset=u.t+(1-v.y[1])*u.h,S._ya.l2p=function(){return.5*(1-S._pdata[1]/S._pdata[3])*u.h*(v.y[1]-v.y[0])}}ae.exports=function(S){for(var M=S.fullSceneLayout.annotations,v=0;v<M.length;v++)d(M[v],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()}},20226:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(85501),S=r(25625),M=r(26997);function v(u,i,s,a){function o(c,f){return D.coerce(u,i,M,c,f)}function l(c){var f=c+"axis",g={_fullLayout:{}};return g._fullLayout[f]=s[f],E.coercePosition(i,g,o,c,c,.5)}o("visible")&&(S(u,i,a.fullLayout,o),l("x"),l("y"),l("z"),D.noneOrAll(u,i,["x","y","z"]),i.xref="x",i.yref="y",i.zref="z",o("xanchor"),o("yanchor"),o("xshift"),o("yshift"),i.showarrow&&(i.axref="pixel",i.ayref="pixel",o("ax",-10),o("ay",-30),D.noneOrAll(u,i,["ax","ay"])))}ae.exports=function(u,i,s){d(u,i,{name:"annotations",handleItemDefaults:v,fullLayout:s.fullLayout})}},82188:function(ae,B,r){"use strict";var D=r(92605).drawRaw,E=r(63538),d=["x","y","z"];ae.exports=function(S){for(var M=S.fullSceneLayout,v=S.dataScale,u=M.annotations,i=0;i<u.length;i++){for(var s=u[i],a=!1,o=0;o<3;o++){var l=d[o],f=M[l+"axis"].r2fraction(s[l]);if(f<0||f>1){a=!0;break}}a?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+i+'"]').remove():(s._pdata=E(S.glplot.cameraParams,[M.xaxis.r2l(s.x)*v[0],M.yaxis.r2l(s.y)*v[1],M.zaxis.r2l(s.z)*v[2]]),D(S.graphDiv,s,i,S.id,s._xa,s._ya))}}},2468:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r(26997)}}},layoutAttributes:r(26997),handleDefaults:r(20226),includeBasePlot:function(d,S){var M=D.subplotsRegistry.gl3d;if(M)for(var v=M.attrRegex,u=Object.keys(d),i=0;i<u.length;i++){var s=u[i];v.test(s)&&(d[s].annotations||[]).length&&(E.pushUnique(S._basePlotModules,M),E.pushUnique(S._subplots.gl3d,s))}},convert:r(5485),draw:r(82188)}},7561:function(ae,B,r){"use strict";ae.exports=r(63489),r(94338),r(3961),r(38751),r(86825),r(37715),r(99384),r(43805),r(88874),r(83290),r(29108),r(55422),r(94320),r(31320),r(51367),r(21457)},72201:function(ae,B,r){"use strict";var D=r(7561),E=r(71828),d=r(50606),S=d.EPOCHJD,M=d.ONEDAY,v={valType:"enumerated",values:E.sortObjectKeys(D.calendars),editType:"calc",dflt:"gregorian"},u=function(x,m,b,_){var w={};return w[b]=v,E.coerce(x,m,w,b,_)},i="##",s={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:i,w:i,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},a={};function o(x){return a[x]||(a[x]=D.instance(x))}function l(x){return E.extendFlat({},v,{description:x})}function c(x){return"Sets the calendar system to use with `"+x+"` date data."}var f={xcalendar:l(c("x"))},g=E.extendFlat({},f,{ycalendar:l(c("y"))}),h=E.extendFlat({},g,{zcalendar:l(c("z"))}),T=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ae.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:g,bar:g,box:g,heatmap:g,contour:g,histogram:g,histogram2d:g,histogram2dcontour:g,scatter3d:h,surface:h,mesh3d:h,scattergl:g,ohlc:f,candlestick:f},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:u,handleTraceDefaults:function(x,m,b,_){for(var w=0;w<b.length;w++)u(x,m,b[w]+"calendar",_.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:o,worldCalFmt:function(x,m,b){for(var _,w,A,p,I,k=Math.floor((m+.05)/M)+S,L=o(b).fromJD(k),O=0;-1!==(O=x.indexOf("%",O));)"0"===(_=x.charAt(O+1))||"-"===_||"_"===_?(A=3,w=x.charAt(O+2),"_"===_&&(_="-")):(w=_,_="0",A=2),(p=s[w])?(I=p===i?i:L.formatDate(p[_]),x=x.substr(0,O)+I+x.substr(O+A),O+=I.length):O+=A;return x}}},22399:function(ae,B){"use strict";B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=90.9090909090909},7901:function(ae,B,r){"use strict";var D=r(84267),E=r(92770),d=r(73627).isTypedArray,S=ae.exports={},M=r(22399);S.defaults=M.defaults;var v=S.defaultLine=M.defaultLine;S.lightLine=M.lightLine;var u=S.background=M.background;function i(s){if(E(s)||"string"!=typeof s)return s;var a=s.trim();if("rgb"!==a.substr(0,3))return s;var o=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!o)return s;var l=o[1].trim().split(/\s*[\s,]\s*/),c="a"===a.charAt(3)&&4===l.length;if(!c&&3!==l.length)return s;for(var f=0;f<l.length;f++){if(!(l[f].length&&(l[f]=Number(l[f]),l[f]>=0)))return s;if(3===f)l[f]>1&&(l[f]=1);else if(l[f]>=1)return s}var g=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return c?"rgba("+g+", "+l[3]+")":"rgb("+g+")"}S.tinyRGB=function(s){var a=s.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},S.rgb=function(s){return S.tinyRGB(D(s))},S.opacity=function(s){return s?D(s).getAlpha():0},S.addOpacity=function(s,a){var o=D(s).toRgb();return"rgba("+Math.round(o.r)+", "+Math.round(o.g)+", "+Math.round(o.b)+", "+a+")"},S.combine=function(s,a){var o=D(s).toRgb();if(1===o.a)return D(s).toRgbString();var l=D(a||u).toRgb(),c=1===l.a?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a};return D({r:c.r*(1-o.a)+o.r*o.a,g:c.g*(1-o.a)+o.g*o.a,b:c.b*(1-o.a)+o.b*o.a}).toRgbString()},S.contrast=function(s,a,o){var l=D(s);return 1!==l.getAlpha()&&(l=D(S.combine(s,u))),(l.isDark()?a?l.lighten(a):u:o?l.darken(o):v).toString()},S.stroke=function(s,a){var o=D(a);s.style({stroke:S.tinyRGB(o),"stroke-opacity":o.getAlpha()})},S.fill=function(s,a){var o=D(a);s.style({fill:S.tinyRGB(o),"fill-opacity":o.getAlpha()})},S.clean=function(s){if(s&&"object"==typeof s){var a,o,l,c,f=Object.keys(s);for(a=0;a<f.length;a++)if(c=s[l=f[a]],"color"===l.substr(l.length-5))if(Array.isArray(c))for(o=0;o<c.length;o++)c[o]=i(c[o]);else s[l]=i(c);else if("colorscale"===l.substr(l.length-10)&&Array.isArray(c))for(o=0;o<c.length;o++)Array.isArray(c[o])&&(c[o][1]=i(c[o][1]));else if(Array.isArray(c)){var g=c[0];if(!Array.isArray(g)&&g&&"object"==typeof g)for(o=0;o<c.length;o++)S.clean(c[o])}else c&&"object"==typeof c&&!d(c)&&S.clean(c)}}},63583:function(ae,B,r){"use strict";var D=r(13838),E=r(41940),d=r(1426).extendFlat,S=r(30962).overrideAll;ae.exports=S({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:D.linecolor,outlinewidth:D.linewidth,bordercolor:D.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:D.minor.tickmode,nticks:D.nticks,tick0:D.tick0,dtick:D.dtick,tickvals:D.tickvals,ticktext:D.ticktext,ticks:d({},D.ticks,{dflt:""}),ticklabeloverflow:d({},D.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:D.ticklen,tickwidth:D.tickwidth,tickcolor:D.tickcolor,ticklabelstep:D.ticklabelstep,showticklabels:D.showticklabels,labelalias:D.labelalias,tickfont:E({}),tickangle:D.tickangle,tickformat:D.tickformat,tickformatstops:D.tickformatstops,tickprefix:D.tickprefix,showtickprefix:D.showtickprefix,ticksuffix:D.ticksuffix,showticksuffix:D.showticksuffix,separatethousands:D.separatethousands,exponentformat:D.exponentformat,minexponent:D.minexponent,showexponent:D.showexponent,title:{text:{valType:"string"},font:E({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:E({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(ae){"use strict";ae.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),d=r(26218),S=r(38701),M=r(96115),v=r(89426),u=r(63583);ae.exports=function(i,s,a){var o=E.newContainer(s,"colorbar"),l=i.colorbar||{};function c(j,X){return D.coerce(l,o,u,j,X)}var f=a.margin||{t:0,b:0,l:0,r:0},g=a.width-f.l-f.r,h=a.height-f.t-f.b,T="v"===c("orientation"),x=c("thicknessmode");c("thickness","fraction"===x?30/(T?g:h):30);var m=c("lenmode");c("len","fraction"===m?1:T?h:g);var b,_,w,A="paper"===c("yref"),p="paper"===c("xref"),I="left";T?(w="middle",I=p?"left":"right",b=p?1.02:1,_=.5):(w=A?"bottom":"top",I="center",b=.5,_=A?1.02:1),D.coerce(l,o,{x:{valType:"number",min:p?-2:0,max:p?3:1,dflt:b}},"x"),D.coerce(l,o,{y:{valType:"number",min:A?-2:0,max:A?3:1,dflt:_}},"y"),c("xanchor",I),c("xpad"),c("yanchor",w),c("ypad"),D.noneOrAll(l,o,["x","y"]),c("outlinecolor"),c("outlinewidth"),c("bordercolor"),c("borderwidth"),c("bgcolor");var k=D.coerce(l,o,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:T?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");c("ticklabeloverflow",-1!==k.indexOf("inside")?"hide past domain":"hide past div"),d(l,o,c,"linear");var L=a.font,O={outerTicks:!1,font:L};-1!==k.indexOf("inside")&&(O.bgColor="black"),v(l,o,c,"linear",O),M(l,o,c,"linear",O),S(l,o,c,"linear",O),c("title.text",a._dfltTitle.colorbar);var P=o.showticklabels?o.tickfont:L,F=D.extendFlat({},P,{color:L.color,size:D.bigFont(P.size)});D.coerceFont(c,"title.font",F),c("title.side",T?"top":"right")}},98981:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),d=r(74875),S=r(73972),M=r(89298),v=r(28569),u=r(71828),i=u.strTranslate,s=r(1426).extendFlat,a=r(6964),o=r(91424),l=r(7901),c=r(92998),f=r(63893),g=r(52075).flipScale,h=r(71453),T=r(52830),x=r(13838),m=r(18783),b=m.LINE_SPACING,_=m.FROM_TL,w=m.FROM_BR,A=r(30939).cn;ae.exports={draw:function(p){var I=p._fullLayout._infolayer.selectAll("g."+A.colorbar).data(function(k){var L,O,P,F,j=k._fullLayout,X=k.calcdata,N=[];function q(ce){return s(ce,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function G(){"function"==typeof F.calc?F.calc(k,P,L):(L._fillgradient=O.reversescale?g(O.colorscale):O.colorscale,L._zrange=[O[F.min],O[F.max]])}for(var H=0;H<X.length;H++)if((P=X[H][0].trace)._module){var $=P._module.colorbar;if(!0===P.visible&&$)for(var se=Array.isArray($),ne=se?$:[$],re=0;re<ne.length;re++){var Q=(F=ne[re]).container;(O=Q?P[Q]:P)&&O.showscale&&((L=q(O.colorbar))._id="cb"+P.uid+(se&&Q?"-"+Q:""),L._traceIndex=P.index,L._propPrefix=(Q?Q+".":"")+"colorbar.",L._meta=P._meta,G(),N.push(L))}}for(var ee in j._colorAxes)if((O=j[ee]).showscale){var oe=j._colorAxes[ee];(L=q(O.colorbar))._id="cb"+ee,L._propPrefix=ee+".colorbar.",L._meta=j._meta,F={min:"cmin",max:"cmax"},"heatmap"!==oe[0]&&(F.calc=(P=oe[1])._module.colorbar.calc),G(),N.push(L)}return N}(p),function(k){return k._id});I.enter().append("g").attr("class",function(k){return k._id}).classed(A.colorbar,!0),I.each(function(k){var L=D.select(this);u.ensureSingle(L,"rect",A.cbbg),u.ensureSingle(L,"g",A.cbfills),u.ensureSingle(L,"g",A.cblines),u.ensureSingle(L,"g",A.cbaxis,function(P){P.classed(A.crisp,!0)}),u.ensureSingle(L,"g",A.cbtitleunshift,function(P){P.append("g").classed(A.cbtitle,!0)}),u.ensureSingle(L,"rect",A.cboutline);var P,F,j,X,N,q,G,H,O=function(P,F,j){var X="v"===F.orientation,N=F.len,q=F.lenmode,G=F.thickness,H=F.thicknessmode,Z=F.outlinewidth,$=F.borderwidth,se=F.bgcolor,ne=F.xanchor,re=F.yanchor,Q=F.xpad,ee=F.ypad,oe=F.x,ce=X?F.y:1-F.y,ue="paper"===F.yref,he="paper"===F.xref,ve=j._fullLayout,ke=ve._size,Ie=F._fillcolor,Me=F._line,_e=F.title,we=_e.side,ze=F._zrange||D.extent(("function"==typeof Ie?Ie:Me.color).domain()),Ee="function"==typeof Me.color?Me.color:function(){return Me.color},Se="function"==typeof Ie?Ie:function(){return Ie},me=F._levels,fe=function(Ke,rt,ft){var ht,Ve,Ge=rt._levels,ut=[],dt=[],kt=Ge.end+Ge.size/100,bt=Ge.size,At=1.001*ft[0]-.001*ft[1],xt=1.001*ft[1]-.001*ft[0];for(Ve=0;Ve<1e5&&(ht=Ge.start+Ve*bt,!(bt>0?ht>=kt:ht<=kt));Ve++)ht>At&&ht<xt&&ut.push(ht);if(rt._fillgradient)dt=[0];else if("function"==typeof rt._fillcolor){var Rt=rt._filllevels;if(Rt)for(kt=Rt.end+Rt.size/100,bt=Rt.size,Ve=0;Ve<1e5&&(ht=Rt.start+Ve*bt,!(bt>0?ht>=kt:ht<=kt));Ve++)ht>ft[0]&&ht<ft[1]&&dt.push(ht);else(dt=ut.map(function(_t){return _t-Ge.size/2})).push(dt[dt.length-1]+Ge.size)}else rt._fillcolor&&"string"==typeof rt._fillcolor&&(dt=[0]);return Ge.size<0&&(ut.reverse(),dt.reverse()),{line:ut,fill:dt}}(0,F,ze),le=fe.fill,Te=fe.line,Re=Math.round(G*("fraction"===H?X?ke.w:ke.h:1)),De=Re/(X?ke.w:ke.h),Ue=Math.round(N*("fraction"===q?X?ke.h:ke.w:1)),Ze=Ue/(X?ke.h:ke.w),xe=he?ke.w:j._fullLayout.width,Oe=ue?ke.h:j._fullLayout.height,Ce=Math.round(X?oe*xe+Q:ce*Oe+ee),Be={center:.5,right:1}[ne]||0,qe={top:1,middle:.5}[re]||0,He=X?oe-Be*De:ce-qe*De,Je=X?ce-qe*Ze:oe-Be*Ze,et=Math.round(X?Oe*(1-Je):xe*Je);F._lenFrac=Ze,F._thickFrac=De,F._uFrac=He,F._vFrac=Je;var st=F._axis=function(Ke,rt,ft){var ht=Ke._fullLayout,Ve="v"===rt.orientation,Ge={type:"linear",range:ft,tickmode:rt.tickmode,nticks:rt.nticks,tick0:rt.tick0,dtick:rt.dtick,tickvals:rt.tickvals,ticktext:rt.ticktext,ticks:rt.ticks,ticklen:rt.ticklen,tickwidth:rt.tickwidth,tickcolor:rt.tickcolor,showticklabels:rt.showticklabels,labelalias:rt.labelalias,ticklabelposition:rt.ticklabelposition,ticklabeloverflow:rt.ticklabeloverflow,ticklabelstep:rt.ticklabelstep,tickfont:rt.tickfont,tickangle:rt.tickangle,tickformat:rt.tickformat,exponentformat:rt.exponentformat,minexponent:rt.minexponent,separatethousands:rt.separatethousands,showexponent:rt.showexponent,showtickprefix:rt.showtickprefix,tickprefix:rt.tickprefix,showticksuffix:rt.showticksuffix,ticksuffix:rt.ticksuffix,title:rt.title,showline:!0,anchor:"free",side:Ve?"right":"bottom",position:1},ut=Ve?"y":"x",dt={type:"linear",_id:ut+rt._id},kt={letter:ut,font:ht.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:ht.calendar};function bt(At,xt){return u.coerce(Ge,dt,x,At,xt)}return h(Ge,dt,bt,kt,ht),T(Ge,dt,bt,kt),dt}(j,F,ze);st.position=De+(X?oe+Q/ke.w:ce+ee/ke.h);var pt=-1!==["top","bottom"].indexOf(we);if(X&&pt&&(st.title.side=we,st.titlex=oe+Q/ke.w,st.titley=Je+("top"===_e.side?Ze-ee/ke.h:ee/ke.h)),X||pt||(st.title.side=we,st.titley=ce+ee/ke.h,st.titlex=Je+Q/ke.w),Me.color&&"auto"===F.tickmode){st.tickmode="linear",st.tick0=me.start;var ct=me.size,St=u.constrain(Ue/50,4,15)+1,Dt=(ze[1]-ze[0])/((F.nticks||St)*ct);if(Dt>1){var vt=Math.pow(10,Math.floor(Math.log(Dt)/Math.LN10));ct*=vt*u.roundUp(Dt/vt,[2,5,10]),(Math.abs(me.start)/me.size+1e-6)%1<2e-6&&(st.tick0=0)}st.dtick=ct}st.domain=X?[Je+ee/ke.h,Je+Ze-ee/ke.h]:[Je+Q/ke.w,Je+Ze-Q/ke.w],st.setScale(),P.attr("transform",i(Math.round(ke.l),Math.round(ke.t)));var gt,Et=P.select("."+A.cbtitleunshift).attr("transform",i(-Math.round(ke.l),-Math.round(ke.t))),Pt=st.ticklabelposition,Ot=st.title.font.size,Ht=P.select("."+A.cbaxis),zt=0,nt=0;function it(Ke,rt){var ft={propContainer:st,propName:F._propPrefix+"title",traceIndex:F._traceIndex,_meta:F._meta,placeholder:ve._dfltTitle.colorbar,containerGroup:P.select("."+A.cbtitle)},ht="h"===Ke.charAt(0)?Ke.substr(1):"h"+Ke;P.selectAll("."+ht+",."+ht+"-math-group").remove(),c.draw(j,Ke,s(ft,rt||{}))}return u.syncOrAsync([d.previousPromises,function(){var Ke,rt;(X&&pt||!X&&!pt)&&("top"===we&&(Ke=Q+ke.l+xe*oe,rt=ee+ke.t+Oe*(1-Je-Ze)+3+.75*Ot),"bottom"===we&&(Ke=Q+ke.l+xe*oe,rt=ee+ke.t+Oe*(1-Je)-3-.25*Ot),"right"===we&&(rt=ee+ke.t+Oe*ce+3+.75*Ot,Ke=Q+ke.l+xe*Je),it(st._id+"title",{attributes:{x:Ke,y:rt,"text-anchor":X?"start":"middle"}}))},function(){if(!X&&!pt||X&&pt){var Ke,rt=P.select("."+A.cbtitle),ft=rt.select("text"),ht=[-Z/2,Z/2],Ve=rt.select(".h"+st._id+"title-math-group").node(),Ge=15.6;if(ft.node()&&(Ge=parseInt(ft.node().style.fontSize,10)*b),Ve?(Ke=o.bBox(Ve),nt=Ke.width,(zt=Ke.height)>Ge&&(ht[1]-=(zt-Ge)/2)):ft.node()&&!ft.classed(A.jsPlaceholder)&&(Ke=o.bBox(ft.node()),nt=Ke.width,zt=Ke.height),X){if(zt){if(zt+=5,"top"===we)st.domain[1]-=zt/ke.h,ht[1]*=-1;else{st.domain[0]+=zt/ke.h;var ut=f.lineCount(ft);ht[1]+=(1-ut)*Ge}rt.attr("transform",i(ht[0],ht[1])),st.setScale()}}else nt&&("right"===we&&(st.domain[0]+=(nt+Ot/2)/ke.w),rt.attr("transform",i(ht[0],ht[1])),st.setScale())}P.selectAll("."+A.cbfills+",."+A.cblines).attr("transform",X?i(0,Math.round(ke.h*(1-st.domain[1]))):i(Math.round(ke.w*st.domain[0]),0)),Ht.attr("transform",X?i(0,Math.round(-ke.t)):i(Math.round(-ke.l),0));var dt=P.select("."+A.cbfills).selectAll("rect."+A.cbfill).attr("style","").data(le);dt.enter().append("rect").classed(A.cbfill,!0).attr("style",""),dt.exit().remove();var kt=ze.map(st.c2p).map(Math.round).sort(function(_t,Tt){return _t-Tt});dt.each(function(_t,Tt){var It=[0===Tt?ze[0]:(le[Tt]+le[Tt-1])/2,Tt===le.length-1?ze[1]:(le[Tt]+le[Tt+1])/2].map(st.c2p).map(Math.round);X&&(It[1]=u.constrain(It[1]+(It[1]>It[0])?1:-1,kt[0],kt[1]));var Wt=D.select(this).attr(X?"x":"y",Ce).attr(X?"y":"x",D.min(It)).attr(X?"width":"height",Math.max(Re,2)).attr(X?"height":"width",Math.max(D.max(It)-D.min(It),2));if(F._fillgradient)o.gradient(Wt,j,F._id,X?"vertical":"horizontalreversed",F._fillgradient,"fill");else{var Zt=Se(_t).replace("e-","");Wt.attr("fill",E(Zt).toHexString())}});var bt=P.select("."+A.cblines).selectAll("path."+A.cbline).data(Me.color&&Me.width?Te:[]);bt.enter().append("path").classed(A.cbline,!0),bt.exit().remove(),bt.each(function(_t){var Tt=Ce,It=Math.round(st.c2p(_t))+Me.width/2%1;D.select(this).attr("d","M"+(X?Tt+","+It:It+","+Tt)+(X?"h":"v")+Re).call(o.lineGroupStyle,Me.width,Ee(_t),Me.dash)}),Ht.selectAll("g."+st._id+"tick,path").remove();var At=Ce+Re+(Z||0)/2-("outside"===F.ticks?1:0),xt=M.calcTicks(st),Rt=M.getTickSigns(st)[2];return M.drawTicks(j,st,{vals:"inside"===st.ticks?M.clipEnds(st,xt):xt,layer:Ht,path:M.makeTickPath(st,At,Rt),transFn:M.makeTransTickFn(st)}),M.drawLabels(j,st,{vals:xt,layer:Ht,transFn:M.makeTransTickLabelFn(st),labelFns:M.makeLabelFns(st,At)})},function(){if(X&&!pt||!X&&pt){var Ke,rt,ft=st.position||0,ht=st._offset+st._length/2;if("right"===we)rt=ht,Ke=ke.l+xe*ft+10+Ot*(st.showticklabels?1:.5);else if(Ke=ht,"bottom"===we&&(rt=ke.t+Oe*ft+10+(-1===Pt.indexOf("inside")?st.tickfont.size:0)+("intside"!==st.ticks&&F.ticklen||0)),"top"===we){var Ve=_e.text.split("<br>").length;rt=ke.t+Oe*ft+10-Re-b*Ot*Ve}it((X?"h":"v")+st._id+"title",{avoid:{selection:D.select(j).selectAll("g."+st._id+"tick"),side:we,offsetTop:X?0:ke.t,offsetLeft:X?ke.l:0,maxShift:X?ve.width:ve.height},attributes:{x:Ke,y:rt,"text-anchor":"middle"},transform:{rotate:X?-90:0,offset:0}})}},d.previousPromises,function(){var Ke,rt=Re+Z/2;-1===Pt.indexOf("inside")&&(Ke=o.bBox(Ht.node()),rt+=X?Ke.width:Ke.height),gt=Et.select("text");var ft=0,ht=X&&"top"===we,Ve=!X&&"right"===we,Ge=0;if(gt.node()&&!gt.classed(A.jsPlaceholder)){var ut,dt=Et.select(".h"+st._id+"title-math-group").node();dt&&(X&&pt||!X&&!pt)?(ft=(Ke=o.bBox(dt)).width,ut=Ke.height):(ft=(Ke=o.bBox(Et.node())).right-ke.l-(X?Ce:et),ut=Ke.bottom-ke.t-(X?et:Ce),X||"top"!==we||(rt+=Ke.height,Ge=Ke.height)),Ve&&(gt.attr("transform",i(ft/2+Ot/2,0)),ft*=2),rt=Math.max(rt,X?ft:ut)}var kt=2*(X?Q:ee)+rt+$+Z/2,bt=0;!X&&_e.text&&"bottom"===re&&ce<=0&&(kt+=bt=kt/2,Ge+=bt),ve._hColorbarMoveTitle=bt,ve._hColorbarMoveCBTitle=Ge;var At=$+Z,xt=(X?Ce:et)-At/2-(X?Q:0),Rt=(X?et:Ce)-(X?Ue:ee+Ge-bt);P.select("."+A.cbbg).attr("x",xt).attr("y",Rt).attr(X?"width":"height",Math.max(kt-bt,2)).attr(X?"height":"width",Math.max(Ue+At,2)).call(l.fill,se).call(l.stroke,F.bordercolor).style("stroke-width",$);var _t=Ve?Math.max(ft-10,0):0;P.selectAll("."+A.cboutline).attr("x",(X?Ce:et+Q)+_t).attr("y",(X?et+ee-Ue:Ce)+(ht?zt:0)).attr(X?"width":"height",Math.max(Re,2)).attr(X?"height":"width",Math.max(Ue-(X?2*ee+zt:2*Q+_t),2)).call(l.stroke,F.outlinecolor).style({fill:"none","stroke-width":Z});var Tt=X?Be*kt:0,It=X?0:(1-qe)*kt-Ge;if(P.attr("transform",i(Tt=he?ke.l-Tt:-Tt,It=ue?ke.t-It:-It)),!X&&($||E(se).getAlpha()&&!E.equals(ve.paper_bgcolor,se))){var Wt=Ht.selectAll("text"),Zt=Wt[0].length,$t=P.select("."+A.cbbg).node(),dn=o.bBox($t),nn=o.getTranslate(P);Wt.each(function(kn,Ln){var Rn=Zt-1;if(0===Ln||Ln===Rn){var Wn,Cn=o.bBox(this),Zn=o.getTranslate(this);Ln===Rn?(Wn=dn.right+nn.x+et-$-2+oe-(Cn.right+Zn.x))>0&&(Wn=0):0===Ln&&(Wn=dn.left+nn.x+et+$+2-(Cn.left+Zn.x))<0&&(Wn=0),Wn&&(Zt<3?this.setAttribute("transform","translate("+Wn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var cn={},rn=_[ne],En=w[ne],Pn=_[re],Mn=w[re],en=kt-Re;X?("pixels"===q?(cn.y=ce,cn.t=Ue*Pn,cn.b=Ue*Mn):(cn.t=cn.b=0,cn.yt=ce+N*Pn,cn.yb=ce-N*Mn),"pixels"===H?(cn.x=oe,cn.l=kt*rn,cn.r=kt*En):(cn.l=en*rn,cn.r=en*En,cn.xl=oe-G*rn,cn.xr=oe+G*En)):("pixels"===q?(cn.x=oe,cn.l=Ue*rn,cn.r=Ue*En):(cn.l=cn.r=0,cn.xl=oe+N*rn,cn.xr=oe-N*En),"pixels"===H?(cn.y=1-ce,cn.t=kt*Pn,cn.b=kt*Mn):(cn.t=en*Pn,cn.b=en*Mn,cn.yt=ce-G*Pn,cn.yb=ce+G*Mn));var gn=F.y<.5?"b":"t",an=F.x<.5?"l":"r";j._fullLayout._reservedMargin[F._id]={};var yn={r:ve.width-xt-Tt,l:xt+cn.r,b:ve.height-Rt-It,t:Rt+cn.b};he&&ue?d.autoMargin(j,F._id,cn):he?j._fullLayout._reservedMargin[F._id][gn]=yn[gn]:ue||X?j._fullLayout._reservedMargin[F._id][an]=yn[an]:j._fullLayout._reservedMargin[F._id][gn]=yn[gn]}],j)}(L,k,p);O&&O.then&&(p._promises||[]).push(O),p._context.edits.colorbarPosition&&(G="v"===(F=k).orientation,H=(j=p)._fullLayout._size,v.init({element:(P=L).node(),gd:j,prepFn:function(){X=P.attr("transform"),a(P)},moveFn:function(Z,$){P.attr("transform",X+i(Z,$)),N=v.align((G?F._uFrac:F._vFrac)+Z/H.w,G?F._thickFrac:F._lenFrac,0,1,F.xanchor),q=v.align((G?F._vFrac:1-F._uFrac)-$/H.h,G?F._lenFrac:F._thickFrac,0,1,F.yanchor);var se=v.getCursor(N,q,F.xanchor,F.yanchor);a(P,se)},doneFn:function(){if(a(P),void 0!==N&&void 0!==q){var Z={};Z[F._propPrefix+"x"]=N,Z[F._propPrefix+"y"]=q,void 0!==F._traceIndex?S.call("_guiRestyle",j,Z,F._traceIndex):S.call("_guiRelayout",j,Z)}}}))}),I.exit().each(function(k){d.autoMargin(p,k._id)}).remove(),I.order()}}},76228:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E){return D.isPlainObject(E.colorbar)}},12311:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"colorbar",attributes:r(63583),supplyDefaults:r(62499),draw:r(98981).draw,hasColorbar:r(76228)}},50693:function(ae,B,r){"use strict";var D=r(63583),E=r(30587).counter,d=r(78607),S=r(63282).scales;function M(v){return"`"+v+"`"}d(S),ae.exports=function(v,u){v=v||"";var i,s=(u=u||{}).cLetter||"c",a=("onlyIfNumerical"in u||Boolean(v),"noScale"in u?u.noScale:"marker.line"===v),o="showScaleDflt"in u?u.showScaleDflt:"z"===s,l="string"==typeof u.colorscaleDflt?S[u.colorscaleDflt]:null,c=u.editTypeOverride||"",f=v?v+".":"";"colorAttr"in u?i=u.colorAttr:M(f+(i={z:"z",c:"color"}[s]));var g=s+"auto",h=s+"min",T=s+"max",x=s+"mid",m=(M(f+g),M(f+h),M(f+T),{});m[h]=m[T]=void 0;var b={};b[g]=!1;var _={};return"color"===i&&(_.color={valType:"color",arrayOk:!0,editType:c||"style"},u.anim&&(_.color.anim=!0)),_[g]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:m},_[h]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:b},_[T]={valType:"number",dflt:null,editType:c||"plot",impliedEdits:b},_[x]={valType:"number",dflt:null,editType:"calc",impliedEdits:m},_.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},_.autocolorscale={valType:"boolean",dflt:!1!==u.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},_.reversescale={valType:"boolean",dflt:!1,editType:"plot"},a||(_.showscale={valType:"boolean",dflt:o,editType:"calc"},_.colorbar=D),u.noColorAxis||(_.coloraxis={valType:"subplotid",regex:E("coloraxis"),dflt:null,editType:"calc"}),_}},78803:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(52075).extractOpts;ae.exports=function(S,M,v){var i=S._fullLayout,s=v.vals,a=v.containerStr,o=a?E.nestedProperty(M,a).get():M,l=d(o),c=!1!==l.auto,f=l.min,g=l.max,h=l.mid,T=function(){return E.aggNums(Math.min,null,s)},x=function(){return E.aggNums(Math.max,null,s)};void 0===f?f=T():c&&(f=o._colorAx&&D(f)?Math.min(f,T()):T()),void 0===g?g=x():c&&(g=o._colorAx&&D(g)?Math.max(g,x()):x()),c&&void 0!==h&&(g-h>h-f?f=h-(g-h):g-h<h-f&&(g=h+(h-f))),f===g&&(f-=.5,g+=.5),l._sync("min",f),l._sync("max",g),l.autocolorscale&&l._sync("colorscale",f*g<0?i.colorscale.diverging:f>=0?i.colorscale.sequential:i.colorscale.sequentialminus)}},33046:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,d=r(52075).extractOpts;ae.exports=function(S,M){function v(c,f){var g=c["_"+f];void 0!==g&&(c[f]=g)}function u(c,f){var g=f.container?D.nestedProperty(c,f.container).get():c;if(g)if(g.coloraxis)g._colorAx=M[g.coloraxis];else{var h=d(g),T=h.auto;(T||void 0===h.min)&&v(g,f.min),(T||void 0===h.max)&&v(g,f.max),h.autocolorscale&&v(g,"colorscale")}}for(var i=0;i<S.length;i++){var s=S[i],a=s._module.colorbar;if(a)if(Array.isArray(a))for(var o=0;o<a.length;o++)u(s,a[o]);else u(s,a);E(s,"marker.line")&&u(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in M._colorAxes)u(M[l],{min:"cmin",max:"cmax"})}},1586:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(76228),S=r(62499),M=r(63282).isValid,v=r(73972).traceIs;function u(i,s){var a=s.slice(0,s.length-1);return s?E.nestedProperty(i,a).get()||{}:i}ae.exports=function i(s,a,o,l,c){var f=c.prefix,g=c.cLetter,h="_module"in a,T=u(s,f),x=u(a,f),m=u(a._template||{},f)||{},b=function(){return delete s.coloraxis,delete a.coloraxis,i(s,a,o,l,c)};if(h){var _=o._colorAxes||{},w=l(f+"coloraxis");if(w){var A=v(a,"contour")&&E.nestedProperty(a,"contours.coloring").get()||"heatmap",p=_[w];return void(p?(p[2].push(b),p[0]!==A&&(p[0]=!1,E.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):_[w]=[A,a,[b]])}}var I=T[g+"min"],k=T[g+"max"],L=D(I)&&D(k)&&I<k;l(f+g+"auto",!L)?l(f+g+"mid"):(l(f+g+"min"),l(f+g+"max"));var O,P,F=T.colorscale,j=m.colorscale;void 0!==F&&(O=!M(F)),void 0!==j&&(O=!M(j)),l(f+"autocolorscale",O),l(f+"colorscale"),l(f+"reversescale"),"marker.line."!==f&&(f&&h&&(P=d(T)),l(f+"showscale",P)&&(f&&m&&(x._template=m),S(T,x,o)))}},52075:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),d=r(92770),S=r(71828),M=r(7901),v=r(63282).isValid,u=["showscale","autocolorscale","colorscale","reversescale","colorbar"],i=["min","max","mid","auto"];function s(f){var g,h,T,x=f._colorAx,m=x||f,b={};for(h=0;h<u.length;h++)b[T=u[h]]=m[T];if(x)for(g="c",h=0;h<i.length;h++)b[T=i[h]]=m["c"+T];else{var _;for(h=0;h<i.length;h++)((_="c"+(T=i[h]))in m||(_="z"+T)in m)&&(b[T]=m[_]);g=_.charAt(0)}return b._sync=function(w,A){var p=-1!==i.indexOf(w)?g+w:w;m[p]=m["_"+p]=A},b}function a(f){for(var g=s(f),h=g.min,T=g.max,x=g.reversescale?o(g.colorscale):g.colorscale,m=x.length,b=new Array(m),_=new Array(m),w=0;w<m;w++){var A=x[w];b[w]=h+A[0]*(T-h),_[w]=A[1]}return{domain:b,range:_}}function o(f){for(var g=f.length,h=new Array(g),T=g-1,x=0;T>=0;T--,x++){var m=f[T];h[x]=[1-m[0],m[1]]}return h}function l(f,g){g=g||{};for(var h=f.domain,T=f.range,x=T.length,m=new Array(x),b=0;b<x;b++){var _=E(T[b]).toRgb();m[b]=[_.r,_.g,_.b,_.a]}var w,A=D.scale.linear().domain(h).range(m).clamp(!0),p=g.noNumericCheck,I=g.returnArray;return(w=p&&I?A:p?function(k){return c(A(k))}:I?function(k){return d(k)?A(k):E(k).isValid()?k:M.defaultLine}:function(k){return d(k)?c(A(k)):E(k).isValid()?k:M.defaultLine}).domain=A.domain,w.range=function(){return T},w}function c(f){return E({r:f[0],g:f[1],b:f[2],a:f[3]}).toRgbString()}ae.exports={hasColorscale:function(f,g,h){var T=g?S.nestedProperty(f,g).get()||{}:f,x=T[h||"color"],m=!1;if(S.isArrayOrTypedArray(x))for(var b=0;b<x.length;b++)if(d(x[b])){m=!0;break}return S.isPlainObject(T)&&(m||!0===T.showscale||d(T.cmin)&&d(T.cmax)||v(T.colorscale)||S.isPlainObject(T.colorbar))},extractOpts:s,extractScale:a,flipScale:o,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(f,g){return l(a(f),g)}}},21081:function(ae,B,r){"use strict";var D=r(63282),E=r(52075);ae.exports={moduleType:"component",name:"colorscale",attributes:r(50693),layoutAttributes:r(72673),supplyLayoutDefaults:r(30959),handleDefaults:r(1586),crossTraceDefaults:r(33046),calc:r(78803),scales:D.scales,defaultScale:D.defaultScale,getScale:D.get,isValidScale:D.isValid,hasColorscale:E.hasColorscale,extractOpts:E.extractOpts,extractScale:E.extractScale,flipScale:E.flipScale,makeColorScaleFunc:E.makeColorScaleFunc,makeColorScaleFuncFromTrace:E.makeColorScaleFuncFromTrace}},72673:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(50693),d=r(63282).scales;ae.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:d.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:d.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:d.RdBu,editType:"calc"}},coloraxis:D({_isSubplotObj:!0,editType:"calc"},E("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),d=r(72673),S=r(1586);ae.exports=function(M,v){function u(g,h){return D.coerce(M,v,d,g,h)}u("colorscale.sequential"),u("colorscale.sequentialminus"),u("colorscale.diverging");var i,s,a=v._colorAxes;function o(g,h){return D.coerce(i,s,d.coloraxis,g,h)}for(var l in a){var c=a[l];if(c[0])i=M[l]||{},(s=E.newContainer(v,l,"coloraxis"))._name=l,S(i,s,v,o,{prefix:"",cLetter:"c"});else{for(var f=0;f<c[2].length;f++)c[2][f]();delete v._colorAxes[l]}}}},63282:function(ae,B,r){"use strict";var D=r(84267),E={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},d=E.RdBu;function S(M){var v=0;if(!Array.isArray(M)||M.length<2||!M[0]||!M[M.length-1]||0!=+M[0][0]||1!=+M[M.length-1][0])return!1;for(var u=0;u<M.length;u++){var i=M[u];if(2!==i.length||+i[0]<v||!D(i[1]).isValid())return!1;v=+i[0]}return!0}ae.exports={scales:E,defaultScale:d,get:function(M,v){if(v||(v=d),!M)return v;function u(){try{M=E[M]||JSON.parse(M)}catch{M=v}}return"string"==typeof M&&(u(),"string"==typeof M&&u()),S(M)?M:v},isValid:function(M){return void 0!==E[M]||S(M)}}},92807:function(ae){"use strict";ae.exports=function(B,r,D,E,d){var S=(B-D)/(E-D),M=S+r/(E-D),v=(S+M)/2;return"left"===d||"bottom"===d?S:"center"===d||"middle"===d?v:"right"===d||"top"===d?M:S<.6666666666666666-v?S:M>1.3333333333333333-v?M:v}},70461:function(ae,B,r){"use strict";var D=r(71828),E=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ae.exports=function(d,S,M,v){return d="left"===M?0:"center"===M?1:"right"===M?2:D.constrain(Math.floor(3*d),0,2),S="bottom"===v?0:"middle"===v?1:"top"===v?2:D.constrain(Math.floor(3*S),0,2),E[S][d]}},64505:function(ae,B){"use strict";B.selectMode=function(r){return"lasso"===r||"select"===r},B.drawMode=function(r){return"drawclosedpath"===r||"drawopenpath"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},B.openMode=function(r){return"drawline"===r||"drawopenpath"===r},B.rectMode=function(r){return"select"===r||"drawline"===r||"drawrect"===r||"drawcircle"===r},B.freeMode=function(r){return"lasso"===r||"drawclosedpath"===r||"drawopenpath"===r},B.selectingOrDrawing=function(r){return B.freeMode(r)||B.rectMode(r)}},28569:function(ae,B,r){"use strict";var D=r(48956),E=r(57035),d=r(38520),S=r(71828).removeElement,M=r(85555),v=ae.exports={};v.align=r(92807),v.getCursor=r(70461);var u=r(26041);function i(){var a=document.createElement("div");a.className="dragcover";var o=a.style;return o.position="fixed",o.left=0,o.right=0,o.top=0,o.bottom=0,o.zIndex=999999999,o.background="none",document.body.appendChild(a),a}function s(a){return D(a.changedTouches?a.changedTouches[0]:a,document.body)}v.unhover=u.wrapped,v.unhoverRaw=u.raw,v.init=function(a){var o,l,c,f,g,h,T,x,m=a.gd,b=1,_=m._context.doubleClickDelay,w=a.element;m._mouseDownTime||(m._mouseDownTime=0),w.style.pointerEvents="all",w.onmousedown=p,d?(w._ontouchstart&&w.removeEventListener("touchstart",w._ontouchstart),w._ontouchstart=p,w.addEventListener("touchstart",p,{passive:!1})):w.ontouchstart=p;var A=a.clampFn||function(L,O,P){return Math.abs(L)<P&&(L=0),Math.abs(O)<P&&(O=0),[L,O]};function p(L){m._dragged=!1,m._dragging=!0;var O=s(L);o=O[0],l=O[1],T=L.target,h=L,x=2===L.buttons||L.ctrlKey,void 0===L.clientX&&void 0===L.clientY&&(L.clientX=o,L.clientY=l),(c=(new Date).getTime())-m._mouseDownTime<_?b+=1:(b=1,m._mouseDownTime=c),a.prepFn&&a.prepFn(L,o,l),E&&!x?(g=i()).style.cursor=window.getComputedStyle(w).cursor:E||(g=document,f=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(w).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==a.dragmode&&(L.preventDefault(),document.addEventListener("mousemove",I),document.addEventListener("touchmove",I,{passive:!1}))}function I(L){L.preventDefault();var O=s(L),F=A(O[0]-o,O[1]-l,a.minDrag||M.MINDRAG),j=F[0],X=F[1];(j||X)&&(m._dragged=!0,v.unhover(m,L)),m._dragged&&a.moveFn&&!x&&(m._dragdata={element:w,dx:j,dy:X},a.moveFn(j,X))}function k(L){if(delete m._dragdata,!1!==a.dragmode&&(L.preventDefault(),document.removeEventListener("mousemove",I),document.removeEventListener("touchmove",I)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),E?S(g):f&&(g.documentElement.style.cursor=f,f=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>_&&(b=Math.max(b-1,1)),m._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(b,h),!x){var O;try{O=new MouseEvent("click",L)}catch{var P=s(L);(O=document.createEvent("MouseEvents")).initMouseEvent("click",L.bubbles,L.cancelable,L.view,L.detail,L.screenX,L.screenY,P[0],P[1],L.ctrlKey,L.altKey,L.shiftKey,L.metaKey,L.button,L.relatedTarget)}T.dispatchEvent(O)}m._dragging=!1,m._dragged=!1}else m._dragged=!1}},v.coverSlip=i},26041:function(ae,B,r){"use strict";var D=r(11086),E=r(79990),d=r(24401).getGraphDiv,S=r(26675),M=ae.exports={};M.wrapped=function(v,u,i){(v=d(v))._fullLayout&&E.clear(v._fullLayout._uid+S.HOVERID),M.raw(v,u,i)},M.raw=function(v,u){var i=v._fullLayout,s=v._hoverdata;u||(u={}),u.target&&!v._dragged&&!1===D.triggerHandler(v,"plotly_beforehover",u)||(i._hoverlayer.selectAll("g").remove(),i._hoverlayer.selectAll("line").remove(),i._hoverlayer.selectAll("circle").remove(),v._hoverdata=void 0,u.target&&s&&v.emit("plotly_unhover",{event:u,points:s}))}},79952:function(ae,B){"use strict";B.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=E.numberFormat,S=r(92770),M=r(84267),v=r(73972),u=r(7901),i=r(21081),s=E.strTranslate,a=r(63893),o=r(77922),l=r(18783).LINE_SPACING,c=r(37822).DESELECTDIM,f=r(34098),g=r(39984),h=r(23469).appendArrayPointValue,T=ae.exports={};function x(Ee,Se,me){var fe=Se.fillpattern,le=fe&&T.getPatternAttr(fe.shape,0,"");if(le){var Te=T.getPatternAttr(fe.bgcolor,0,null),Re=T.getPatternAttr(fe.fgcolor,0,null),De=fe.fgopacity,Ue=T.getPatternAttr(fe.size,0,8),Ze=T.getPatternAttr(fe.solidity,0,.3);T.pattern(Ee,"point",me,Se.uid,le,Ue,Ze,void 0,fe.fillmode,Te,Re,De)}else Se.fillcolor&&Ee.call(u.fill,Se.fillcolor)}T.font=function(Ee,Se,me,fe){E.isPlainObject(Se)&&(fe=Se.color,me=Se.size,Se=Se.family),Se&&Ee.style("font-family",Se),me+1&&Ee.style("font-size",me+"px"),fe&&Ee.call(u.fill,fe)},T.setPosition=function(Ee,Se,me){Ee.attr("x",Se).attr("y",me)},T.setSize=function(Ee,Se,me){Ee.attr("width",Se).attr("height",me)},T.setRect=function(Ee,Se,me,fe,le){Ee.call(T.setPosition,Se,me).call(T.setSize,fe,le)},T.translatePoint=function(Ee,Se,me,fe){var le=me.c2p(Ee.x),Te=fe.c2p(Ee.y);return!!(S(le)&&S(Te)&&Se.node())&&("text"===Se.node().nodeName?Se.attr("x",le).attr("y",Te):Se.attr("transform",s(le,Te)),!0)},T.translatePoints=function(Ee,Se,me){Ee.each(function(fe){var le=D.select(this);T.translatePoint(fe,le,Se,me)})},T.hideOutsideRangePoint=function(Ee,Se,me,fe,le,Te){Se.attr("display",me.isPtWithinRange(Ee,le)&&fe.isPtWithinRange(Ee,Te)?null:"none")},T.hideOutsideRangePoints=function(Ee,Se){if(Se._hasClipOnAxisFalse){var me=Se.xaxis,fe=Se.yaxis;Ee.each(function(le){var Te=le[0].trace,Re=Te.xcalendar,De=Te.ycalendar,Ue=v.traceIs(Te,"bar-like")?".bartext":".point,.textpoint";Ee.selectAll(Ue).each(function(Ze){T.hideOutsideRangePoint(Ze,D.select(this),me,fe,Re,De)})})}},T.crispRound=function(Ee,Se,me){return Se&&S(Se)?Ee._context.staticPlot?Se:Se<1?1:Math.round(Se):me||0},T.singleLineStyle=function(Ee,Se,me,fe,le){Se.style("fill","none");var Te=(((Ee||[])[0]||{}).trace||{}).line||{},Re=me||Te.width||0,De=le||Te.dash||"";u.stroke(Se,fe||Te.color),T.dashLine(Se,De,Re)},T.lineGroupStyle=function(Ee,Se,me,fe){Ee.style("fill","none").each(function(le){var Te=(((le||[])[0]||{}).trace||{}).line||{},Re=Se||Te.width||0,De=fe||Te.dash||"";D.select(this).call(u.stroke,me||Te.color).call(T.dashLine,De,Re)})},T.dashLine=function(Ee,Se,me){Se=T.dashStyle(Se,me=+me||0),Ee.style({"stroke-dasharray":Se,"stroke-width":me+"px"})},T.dashStyle=function(Ee,Se){Se=+Se||1;var me=Math.max(Se,3);return"solid"===Ee?Ee="":"dot"===Ee?Ee=me+"px,"+me+"px":"dash"===Ee?Ee=3*me+"px,"+3*me+"px":"longdash"===Ee?Ee=5*me+"px,"+5*me+"px":"dashdot"===Ee?Ee=3*me+"px,"+me+"px,"+me+"px,"+me+"px":"longdashdot"===Ee&&(Ee=5*me+"px,"+2*me+"px,"+me+"px,"+2*me+"px"),Ee},T.singleFillStyle=function(Ee,Se){var me=D.select(Ee.node());x(Ee,((me.data()[0]||[])[0]||{}).trace||{},Se)},T.fillGroupStyle=function(Ee,Se){Ee.style("stroke-width",0).each(function(me){var fe=D.select(this);me[0].trace&&x(fe,me[0].trace,Se)})};var m=r(90998);T.symbolNames=[],T.symbolFuncs=[],T.symbolBackOffs=[],T.symbolNeedLines={},T.symbolNoDot={},T.symbolNoFill={},T.symbolList=[],Object.keys(m).forEach(function(Ee){var Se=m[Ee],me=Se.n;T.symbolList.push(me,String(me),Ee,me+100,String(me+100),Ee+"-open"),T.symbolNames[me]=Ee,T.symbolFuncs[me]=Se.f,T.symbolBackOffs[me]=Se.backoff||0,Se.needLine&&(T.symbolNeedLines[me]=!0),Se.noDot?T.symbolNoDot[me]=!0:T.symbolList.push(me+200,String(me+200),Ee+"-dot",me+300,String(me+300),Ee+"-open-dot"),Se.noFill&&(T.symbolNoFill[me]=!0)});var b=T.symbolNames.length;function _(Ee,Se,me,fe){return T.symbolFuncs[Ee%100](Se,me,fe)+(Ee>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}T.symbolNumber=function(Ee){if(S(Ee))Ee=+Ee;else if("string"==typeof Ee){var Se=0;Ee.indexOf("-open")>0&&(Se=100,Ee=Ee.replace("-open","")),Ee.indexOf("-dot")>0&&(Se+=200,Ee=Ee.replace("-dot","")),(Ee=T.symbolNames.indexOf(Ee))>=0&&(Ee+=Se)}return Ee%100>=b||Ee>=400?0:Math.floor(Math.max(Ee,0))};var w={x1:1,x2:0,y1:0,y2:0},A={x1:0,x2:0,y1:1,y2:0},p=d("~f"),I={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:w},horizontalreversed:{node:"linearGradient",attrs:w,reversed:!0},vertical:{node:"linearGradient",attrs:A},verticalreversed:{node:"linearGradient",attrs:A,reversed:!0}};T.gradient=function(Ee,Se,me,fe,le,Te){for(var Re=le.length,De=I[fe],Ue=new Array(Re),Ze=0;Ze<Re;Ze++)De.reversed?Ue[Re-1-Ze]=[p(100*(1-le[Ze][0])),le[Ze][1]]:Ue[Ze]=[p(100*le[Ze][0]),le[Ze][1]];var xe=Se._fullLayout,Oe="g"+xe._uid+"-"+me,Ce=xe._defs.select(".gradients").selectAll("#"+Oe).data([fe+Ue.join(";")],E.identity);Ce.exit().remove(),Ce.enter().append(De.node).each(function(){var Be=D.select(this);De.attrs&&Be.attr(De.attrs),Be.attr("id",Oe);var qe=Be.selectAll("stop").data(Ue);qe.exit().remove(),qe.enter().append("stop"),qe.each(function(He){var Je=M(He[1]);D.select(this).attr({offset:He[0]+"%","stop-color":u.tinyRGB(Je),"stop-opacity":Je.getAlpha()})})}),Ee.style(Te,ne(Oe,Se)).style(Te+"-opacity",null),Ee.classed("gradient_filled",!0)},T.pattern=function(Ee,Se,me,fe,le,Te,Re,De,Ue,Ze,xe,Oe){var Ce="legend"===Se;De&&("overlay"===Ue?xe=u.contrast(Ze=De):(Ze=void 0,xe=De));var Be,qe,He,Je,et,st,pt,ct,St,Dt=me._fullLayout,vt="p"+Dt._uid+"-"+fe,gt={},Et=M(xe),Pt=u.tinyRGB(Et),Ot=Oe*Et.getAlpha();switch(le){case"/":Be=Te*Math.sqrt(2),qe=Te*Math.sqrt(2),st="path",gt={d:He="M-"+Be/4+","+qe/4+"l"+Be/2+",-"+qe/2+"M0,"+qe+"L"+Be+",0M"+Be/4*3+","+qe/4*5+"l"+Be/2+",-"+qe/2,opacity:Ot,stroke:Pt,"stroke-width":(Je=Re*Te)+"px"};break;case"\\":Be=Te*Math.sqrt(2),qe=Te*Math.sqrt(2),st="path",gt={d:He="M"+Be/4*3+",-"+qe/4+"l"+Be/2+","+qe/2+"M0,0L"+Be+","+qe+"M-"+Be/4+","+qe/4*3+"l"+Be/2+","+qe/2,opacity:Ot,stroke:Pt,"stroke-width":(Je=Re*Te)+"px"};break;case"x":Be=Te*Math.sqrt(2),qe=Te*Math.sqrt(2),He="M-"+Be/4+","+qe/4+"l"+Be/2+",-"+qe/2+"M0,"+qe+"L"+Be+",0M"+Be/4*3+","+qe/4*5+"l"+Be/2+",-"+qe/2+"M"+Be/4*3+",-"+qe/4+"l"+Be/2+","+qe/2+"M0,0L"+Be+","+qe+"M-"+Be/4+","+qe/4*3+"l"+Be/2+","+qe/2,Je=Te-Te*Math.sqrt(1-Re),st="path",gt={d:He,opacity:Ot,stroke:Pt,"stroke-width":Je+"px"};break;case"|":st="path",st="path",gt={d:He="M"+(Be=Te)/2+",0L"+Be/2+","+(qe=Te),opacity:Ot,stroke:Pt,"stroke-width":(Je=Re*Te)+"px"};break;case"-":st="path",st="path",gt={d:He="M0,"+(qe=Te)/2+"L"+(Be=Te)+","+qe/2,opacity:Ot,stroke:Pt,"stroke-width":(Je=Re*Te)+"px"};break;case"+":st="path",He="M"+(Be=Te)/2+",0L"+Be/2+","+(qe=Te)+"M0,"+qe/2+"L"+Be+","+qe/2,Je=Te-Te*Math.sqrt(1-Re),st="path",gt={d:He,opacity:Ot,stroke:Pt,"stroke-width":Je+"px"};break;case".":Be=Te,qe=Te,Re<Math.PI/4?et=Math.sqrt(Re*Te*Te/Math.PI):(pt=Re,ct=Math.PI/4,et=(St=Te/2)+(Te/Math.sqrt(2)-St)*(pt-ct)/(1-ct)),st="circle",gt={cx:Be/2,cy:qe/2,r:et,opacity:Ot,fill:Pt}}var Ht=[le||"noSh",Ze||"noBg",xe||"noFg",Te,Re].join(";"),zt=Dt._defs.select(".patterns").selectAll("#"+vt).data([Ht],E.identity);zt.exit().remove(),zt.enter().append("pattern").each(function(){var nt=D.select(this);if(nt.attr({id:vt,width:Be+"px",height:qe+"px",patternUnits:"userSpaceOnUse",patternTransform:Ce?"scale(0.8)":""}),Ze){var it=M(Ze),Ke=u.tinyRGB(it),rt=it.getAlpha(),ft=nt.selectAll("rect").data([0]);ft.exit().remove(),ft.enter().append("rect").attr({width:Be+"px",height:qe+"px",fill:Ke,"fill-opacity":rt})}var ht=nt.selectAll(st).data([0]);ht.exit().remove(),ht.enter().append(st).attr(gt)}),Ee.style("fill",ne(vt,me)).style("fill-opacity",null),Ee.classed("pattern_filled",!0)},T.initGradients=function(Ee){E.ensureSingle(Ee._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),D.select(Ee).selectAll(".gradient_filled").classed("gradient_filled",!1)},T.initPatterns=function(Ee){E.ensureSingle(Ee._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),D.select(Ee).selectAll(".pattern_filled").classed("pattern_filled",!1)},T.getPatternAttr=function(Ee,Se,me){return Ee&&E.isArrayOrTypedArray(Ee)?Se<Ee.length?Ee[Se]:me:Ee},T.pointStyle=function(Ee,Se,me,fe){if(Ee.size()){var le=T.makePointStyleFns(Se);Ee.each(function(Te){T.singlePointStyle(Te,D.select(this),Se,le,me,fe)})}},T.singlePointStyle=function(Ee,Se,me,fe,le,Te){var Re=me.marker,De=Re.line;if(Te&&Te.i>=0&&void 0===Ee.i&&(Ee.i=Te.i),Se.style("opacity",fe.selectedOpacityFn?fe.selectedOpacityFn(Ee):void 0===Ee.mo?Re.opacity:Ee.mo),fe.ms2mrc){var Ue;Ue="various"===Ee.ms||"various"===Re.size?3:fe.ms2mrc(Ee.ms),Ee.mrc=Ue,fe.selectedSizeFn&&(Ue=Ee.mrc=fe.selectedSizeFn(Ee));var Ze=T.symbolNumber(Ee.mx||Re.symbol)||0;Ee.om=Ze%200>=100;var xe=ze(Ee,me),Oe=ee(Ee,me);Se.attr("d",_(Ze,Ue,xe,Oe))}var Ce,Be,qe,He=!1;if(Ee.so?(qe=De.outlierwidth,Be=De.outliercolor,Ce=Re.outliercolor):(qe=(Ee.mlw+1||(De||{}).width+1||(Ee.trace?(Ee.trace.marker.line||{}).width:0)+1)-1||0,Be="mlc"in Ee?Ee.mlcc=fe.lineScale(Ee.mlc):E.isArrayOrTypedArray(De.color)?u.defaultLine:De.color,E.isArrayOrTypedArray(Re.color)&&(Ce=u.defaultLine,He=!0),Ce="mc"in Ee?Ee.mcc=fe.markerScale(Ee.mc):Re.color||Re.colors||"rgba(0,0,0,0)",fe.selectedColorFn&&(Ce=fe.selectedColorFn(Ee))),Ee.om)Se.call(u.stroke,Ce).style({"stroke-width":(qe||1)+"px",fill:"none"});else{Se.style("stroke-width",(Ee.isBlank?0:qe)+"px");var et=Re.gradient,st=Ee.mgt;st?He=!0:st=et&&et.type,E.isArrayOrTypedArray(st)&&(I[st=st[0]]||(st=0));var pt=Re.pattern,ct=pt&&T.getPatternAttr(pt.shape,Ee.i,"");if(st&&"none"!==st){var St=Ee.mgc;St?He=!0:St=et.color;var Dt=me.uid;He&&(Dt+="-"+Ee.i),T.gradient(Se,le,Dt,st,[[0,St],[1,Ce]],"fill")}else if(ct){var vt=!1,gt=pt.fgcolor;!gt&&Te&&Te.color&&(gt=Te.color,vt=!0);var Et=T.getPatternAttr(gt,Ee.i,Te&&Te.color||null),Pt=T.getPatternAttr(pt.bgcolor,Ee.i,null),Ot=pt.fgopacity,Ht=T.getPatternAttr(pt.size,Ee.i,8),zt=T.getPatternAttr(pt.solidity,Ee.i,.3);vt=vt||Ee.mcc||E.isArrayOrTypedArray(pt.shape)||E.isArrayOrTypedArray(pt.bgcolor)||E.isArrayOrTypedArray(pt.fgcolor)||E.isArrayOrTypedArray(pt.size)||E.isArrayOrTypedArray(pt.solidity);var nt=me.uid;vt&&(nt+="-"+Ee.i),T.pattern(Se,"point",le,nt,ct,Ht,zt,Ee.mcc,pt.fillmode,Pt,Et,Ot)}else E.isArrayOrTypedArray(Ce)?u.fill(Se,Ce[Ee.i]):u.fill(Se,Ce);qe&&u.stroke(Se,Be)}},T.makePointStyleFns=function(Ee){var Se={},me=Ee.marker;return Se.markerScale=T.tryColorscale(me,""),Se.lineScale=T.tryColorscale(me,"line"),v.traceIs(Ee,"symbols")&&(Se.ms2mrc=f.isBubble(Ee)?g(Ee):function(){return(me.size||6)/2}),Ee.selectedpoints&&E.extendFlat(Se,T.makeSelectedPointStyleFns(Ee)),Se},T.makeSelectedPointStyleFns=function(Ee){var Se={},le=Ee.marker||{},Te=(Ee.selected||{}).marker||{},Re=(Ee.unselected||{}).marker||{},Ue=Te.opacity,Ze=Re.opacity,xe=void 0!==Ue,Oe=void 0!==Ze;(E.isArrayOrTypedArray(le.opacity)||xe||Oe)&&(Se.selectedOpacityFn=function(ct){var St=void 0===ct.mo?le.opacity:ct.mo;return ct.selected?xe?Ue:St:Oe?Ze:c*St});var Ce=le.color,Be=Te.color,qe=Re.color;(Be||qe)&&(Se.selectedColorFn=function(ct){var St=ct.mcc||Ce;return ct.selected?Be||St:qe||St});var He=le.size,Je=Te.size,et=Re.size,st=void 0!==Je,pt=void 0!==et;return v.traceIs(Ee,"symbols")&&(st||pt)&&(Se.selectedSizeFn=function(ct){var St=ct.mrc||He/2;return ct.selected?st?Je/2:St:pt?et/2:St}),Se},T.makeSelectedTextStyleFns=function(Ee){var Se={},De=(Ee.textfont||{}).color,Ue=((Ee.selected||{}).textfont||{}).color,Ze=((Ee.unselected||{}).textfont||{}).color;return Se.selectedTextColorFn=function(xe){var Oe=xe.tc||De;return xe.selected?Ue||Oe:Ze||(Ue?Oe:u.addOpacity(Oe,c))},Se},T.selectedPointStyle=function(Ee,Se){if(Ee.size()&&Se.selectedpoints){var me=T.makeSelectedPointStyleFns(Se),fe=Se.marker||{},le=[];me.selectedOpacityFn&&le.push(function(Te,Re){Te.style("opacity",me.selectedOpacityFn(Re))}),me.selectedColorFn&&le.push(function(Te,Re){u.fill(Te,me.selectedColorFn(Re))}),me.selectedSizeFn&&le.push(function(Te,Re){var De=Re.mx||fe.symbol||0,Ue=me.selectedSizeFn(Re);Te.attr("d",_(T.symbolNumber(De),Ue,ze(Re,Se),ee(Re,Se))),Re.mrc2=Ue}),le.length&&Ee.each(function(Te){for(var Re=D.select(this),De=0;De<le.length;De++)le[De](Re,Te)})}},T.tryColorscale=function(Ee,Se){var me=Se?E.nestedProperty(Ee,Se).get():Ee;return me&&(me.colorscale||me._colorAx)&&E.isArrayOrTypedArray(me.color)?i.makeColorScaleFuncFromTrace(me):E.identity};var k,L,O={start:1,end:-1,middle:0,bottom:1,top:-1};function P(Ee,Se,me,fe,le){var Te=D.select(Ee.node().parentNode),Re=-1!==Se.indexOf("top")?"top":-1!==Se.indexOf("bottom")?"bottom":"middle",De=-1!==Se.indexOf("left")?"end":-1!==Se.indexOf("right")?"start":"middle",Ue=fe?fe/.8+1:0,Ze=(a.lineCount(Ee)-1)*l+1,xe=O[De]*Ue,Oe=.75*me+O[Re]*Ue+(O[Re]-1)*Ze*me/2;Ee.attr("text-anchor",De),le||Te.attr("transform",s(xe,Oe))}function F(Ee,Se){var me=Ee.ts||Se.textfont.size;return S(me)&&me>0?me:0}function j(Ee,Se,me){return me&&(Ee=Z(Ee)),Se?N(Ee[1]):X(Ee[0])}function X(Ee){var Se=D.round(Ee,2);return k=Se,Se}function N(Ee){var Se=D.round(Ee,2);return L=Se,Se}function q(Ee,Se,me,fe){var le=Ee[0]-Se[0],Te=Ee[1]-Se[1],Re=me[0]-Se[0],De=me[1]-Se[1],Ue=Math.pow(le*le+Te*Te,.25),Ze=Math.pow(Re*Re+De*De,.25),xe=(Ze*Ze*le-Ue*Ue*Re)*fe,Oe=(Ze*Ze*Te-Ue*Ue*De)*fe,Ce=3*Ze*(Ue+Ze),Be=3*Ue*(Ue+Ze);return[[X(Se[0]+(Ce&&xe/Ce)),N(Se[1]+(Ce&&Oe/Ce))],[X(Se[0]-(Be&&xe/Be)),N(Se[1]-(Be&&Oe/Be))]]}T.textPointStyle=function(Ee,Se,me){if(Ee.size()){var fe;if(Se.selectedpoints){var le=T.makeSelectedTextStyleFns(Se);fe=le.selectedTextColorFn}var Te=Se.texttemplate,Re=me._fullLayout;Ee.each(function(De){var Ue=D.select(this),Ze=Te?E.extractOption(De,Se,"txt","texttemplate"):E.extractOption(De,Se,"tx","text");if(Ze||0===Ze){if(Te){var xe=Se._module.formatLabels,Oe=xe?xe(De,Se,Re):{},Ce={};h(Ce,Se,De.i),Ze=E.texttemplateString(Ze,Oe,Re._d3locale,Ce,De,Se._meta||{})}var qe=De.tp||Se.textposition,He=F(De,Se),Je=fe?fe(De):De.tc||Se.textfont.color;Ue.call(T.font,De.tf||Se.textfont.family,He,Je).text(Ze).call(a.convertToTspans,me).call(P,qe,He,De.mrc)}else Ue.remove()})}},T.selectedTextStyle=function(Ee,Se){if(Ee.size()&&Se.selectedpoints){var me=T.makeSelectedTextStyleFns(Se);Ee.each(function(fe){var le=D.select(this),Te=me.selectedTextColorFn(fe),Re=fe.tp||Se.textposition,De=F(fe,Se);u.fill(le,Te);var Ue=v.traceIs(Se,"bar-like");P(le,Re,De,fe.mrc2||fe.mrc,Ue)})}},T.smoothopen=function(Ee,Se){if(Ee.length<3)return"M"+Ee.join("L");var me,fe="M"+Ee[0],le=[];for(me=1;me<Ee.length-1;me++)le.push(q(Ee[me-1],Ee[me],Ee[me+1],Se));for(fe+="Q"+le[0][0]+" "+Ee[1],me=2;me<Ee.length-1;me++)fe+="C"+le[me-2][1]+" "+le[me-1][0]+" "+Ee[me];return fe+"Q"+le[Ee.length-3][1]+" "+Ee[Ee.length-1]},T.smoothclosed=function(Ee,Se){if(Ee.length<3)return"M"+Ee.join("L")+"Z";var me,fe="M"+Ee[0],le=Ee.length-1,Te=[q(Ee[le],Ee[0],Ee[1],Se)];for(me=1;me<le;me++)Te.push(q(Ee[me-1],Ee[me],Ee[me+1],Se));for(Te.push(q(Ee[le-1],Ee[le],Ee[0],Se)),me=1;me<=le;me++)fe+="C"+Te[me-1][1]+" "+Te[me][0]+" "+Ee[me];return fe+"C"+Te[le][1]+" "+Te[0][0]+" "+Ee[0]+"Z"};var G={hv:function(Ee,Se,me){return"H"+X(Se[0])+"V"+j(Se,1,me)},vh:function(Ee,Se,me){return"V"+N(Se[1])+"H"+j(Se,0,me)},hvh:function(Ee,Se,me){return"H"+X((Ee[0]+Se[0])/2)+"V"+N(Se[1])+"H"+j(Se,0,me)},vhv:function(Ee,Se,me){return"V"+N((Ee[1]+Se[1])/2)+"H"+X(Se[0])+"V"+j(Se,1,me)}},H=function(Ee,Se,me){return"L"+j(Se,0,me)+","+j(Se,1,me)};function Z(Ee,Se){var me=Ee.backoff,fe=Ee.trace,le=Ee.d,Te=Ee.i;if(me&&fe&&fe.marker&&fe.marker.angle%360==0&&fe.line&&"spline"!==fe.line.shape){var Re=E.isArrayOrTypedArray(me),De=Ee,Ue=Se?Se[0]:k||0,Ze=Se?Se[1]:L||0,xe=De[0],Oe=De[1],qe=Math.atan2(Oe-Ze,xe-Ue),He=Re?me[Te]:me;if("auto"===He){var Je=De.i;"scatter"===fe.type&&Je--;var et=De.marker,st=et.symbol;E.isArrayOrTypedArray(st)&&(st=st[Je]);var pt=et.size;E.isArrayOrTypedArray(pt)&&(pt=pt[Je]),He=et?T.symbolBackOffs[T.symbolNumber(st)]*pt:0,He+=T.getMarkerStandoff(le[Je],fe)||0}var ct=xe-He*Math.cos(qe),St=Oe-He*Math.sin(qe);(ct<=xe&&ct>=Ue||ct>=xe&&ct<=Ue)&&(St<=Oe&&St>=Ze||St>=Oe&&St<=Ze)&&(Ee=[ct,St])}return Ee}T.steps=function(Ee){var Se=G[Ee]||H;return function(me){for(var fe="M"+X(me[0][0])+","+N(me[0][1]),le=me.length,Te=1;Te<le;Te++)fe+=Se(me[Te-1],me[Te],Te===le-1);return fe}},T.applyBackoff=Z,T.makeTester=function(){var Ee=E.ensureSingleById(D.select("body"),"svg","js-plotly-tester",function(me){me.attr(o.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Se=E.ensureSingle(Ee,"path","js-reference-point",function(me){me.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});T.tester=Ee,T.testref=Se},T.savedBBoxes={};var $=0;function se(Ee){var Se=Ee.getAttribute("data-unformatted");if(null!==Se)return Se+Ee.getAttribute("data-math")+Ee.getAttribute("text-anchor")+Ee.getAttribute("style")}function ne(Ee,Se){if(!Ee)return null;var me=Se._context,fe=me._exportedPlot?"":me._baseUrl||"";return fe?"url('"+fe+"#"+Ee+"')":"url(#"+Ee+")"}T.bBox=function(Ee,Se,me){var fe,le,Te;if(me||(me=se(Ee)),me){if(fe=T.savedBBoxes[me])return E.extendFlat({},fe)}else if(1===Ee.childNodes.length){var Re=Ee.childNodes[0];if(me=se(Re)){var De=+Re.getAttribute("x")||0,Ue=+Re.getAttribute("y")||0,Ze=Re.getAttribute("transform");if(!Ze){var xe=T.bBox(Re,!1,me);return De&&(xe.left+=De,xe.right+=De),Ue&&(xe.top+=Ue,xe.bottom+=Ue),xe}if(fe=T.savedBBoxes[me+="~"+De+"~"+Ue+"~"+Ze])return E.extendFlat({},fe)}}Se?le=Ee:(Te=T.tester.node(),le=Ee.cloneNode(!0),Te.appendChild(le)),D.select(le).attr("transform",null).call(a.positionText,0,0);var Oe=le.getBoundingClientRect(),Ce=T.testref.node().getBoundingClientRect();Se||Te.removeChild(le);var Be={height:Oe.height,width:Oe.width,left:Oe.left-Ce.left,top:Oe.top-Ce.top,right:Oe.right-Ce.left,bottom:Oe.bottom-Ce.top};return $>=1e4&&(T.savedBBoxes={},$=0),me&&(T.savedBBoxes[me]=Be),$++,E.extendFlat({},Be)},T.setClipUrl=function(Ee,Se,me){Ee.attr("clip-path",ne(Se,me))},T.getTranslate=function(Ee){var Se=(Ee[Ee.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(me,fe,le){return[fe,le].join(" ")}).split(" ");return{x:+Se[0]||0,y:+Se[1]||0}},T.setTranslate=function(Ee,Se,me){var le=Ee.attr?"attr":"setAttribute",Te=Ee[Ee.attr?"attr":"getAttribute"]("transform")||"";return Se=Se||0,me=me||0,Te=Te.replace(/(\btranslate\(.*?\);?)/,"").trim(),Te=(Te+=s(Se,me)).trim(),Ee[le]("transform",Te),Te},T.getScale=function(Ee){var Se=(Ee[Ee.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(me,fe,le){return[fe,le].join(" ")}).split(" ");return{x:+Se[0]||1,y:+Se[1]||1}},T.setScale=function(Ee,Se,me){var le=Ee.attr?"attr":"setAttribute",Te=Ee[Ee.attr?"attr":"getAttribute"]("transform")||"";return Se=Se||1,me=me||1,Te=Te.replace(/(\bscale\(.*?\);?)/,"").trim(),Te=(Te+="scale("+Se+","+me+")").trim(),Ee[le]("transform",Te),Te};var re=/\s*sc.*/;T.setPointGroupScale=function(Ee,Se,me){if(Se=Se||1,me=me||1,Ee){var fe=1===Se&&1===me?"":"scale("+Se+","+me+")";Ee.each(function(){var le=(this.getAttribute("transform")||"").replace(re,"");le=(le+=fe).trim(),this.setAttribute("transform",le)})}};var Q=/translate\([^)]*\)\s*$/;function ee(Ee,Se){var me;return Ee&&(me=Ee.mf),void 0===me&&(me=Se.marker&&Se.marker.standoff||0),Se._geo||Se._xA?me:-me}T.setTextPointsScale=function(Ee,Se,me){Ee&&Ee.each(function(){var fe,le=D.select(this),Te=le.select("text");if(Te.node()){var Re=parseFloat(Te.attr("x")||0),De=parseFloat(Te.attr("y")||0),Ue=(le.attr("transform")||"").match(Q);fe=1===Se&&1===me?[]:[s(Re,De),"scale("+Se+","+me+")",s(-Re,-De)],Ue&&fe.push(Ue),le.attr("transform",fe.join(""))}})},T.getMarkerStandoff=ee;var oe,ce,ue,he,ve,ke,Ie=Math.atan2,Me=Math.cos,_e=Math.sin;function we(Ee,Se){var me=Se[0],fe=Se[1];return[me*Me(Ee)-fe*_e(Ee),me*_e(Ee)+fe*Me(Ee)]}function ze(Ee,Se){var me,fe,le=Ee.ma;void 0===le&&(le=Se.marker.angle||0);var Te=Se.marker.angleref;if("previous"===Te||"north"===Te){if(Se._geo){var Re=Se._geo.project(Ee.lonlat);me=Re[0],fe=Re[1]}else{var De=Se._xA,Ue=Se._yA;if(!De||!Ue)return 90;me=De.c2p(Ee.x),fe=Ue.c2p(Ee.y)}if(Se._geo){var Ze,xe=Ee.lonlat[0],Oe=Ee.lonlat[1],Ce=Se._geo.project([xe,Oe+1e-5]),Be=Se._geo.project([xe+1e-5,Oe]),qe=Ie(Be[1]-fe,Be[0]-me),He=Ie(Ce[1]-fe,Ce[0]-me);if("north"===Te)Ze=le/180*Math.PI;else if("previous"===Te){var Je=xe/180*Math.PI,et=Oe/180*Math.PI,st=oe/180*Math.PI,pt=ce/180*Math.PI,ct=st-Je,St=Me(pt)*_e(ct),Dt=_e(pt)*Me(et)-Me(pt)*_e(et)*Me(ct);Ze=-Ie(St,Dt)-Math.PI,oe=xe,ce=Oe}var vt=we(qe,[Me(Ze),0]),gt=we(He,[_e(Ze),0]);le=Ie(vt[1]+gt[1],vt[0]+gt[0])/Math.PI*180,"previous"!==Te||ke===Se.uid&&Ee.i===ve+1||(le=null)}if("previous"===Te&&!Se._geo)if(ke===Se.uid&&Ee.i===ve+1&&S(me)&&S(fe)){var Et=me-ue,Pt=fe-he,Ot=Se.line&&Se.line.shape||"",Ht=Ot.slice(Ot.length-1);"h"===Ht&&(Pt=0),"v"===Ht&&(Et=0),le+=Ie(Pt,Et)/Math.PI*180+90}else le=null}return ue=me,he=fe,ve=Ee.i,ke=Se.uid,le}T.getMarkerAngle=ze},90998:function(ae,B,r){"use strict";var D,E,d,S,M=r(95616),v=r(39898).round,u="M0,0Z",i=Math.sqrt(2),s=Math.sqrt(3),a=Math.PI,o=Math.cos,l=Math.sin;function c(g){return null===g}function f(g,h,T){if(!(g&&g%360!=0||h))return T;if(d===g&&S===h&&D===T)return E;function x(j,X){var N=o(j),q=l(j),G=X[0],H=X[1]+(h||0);return[G*N-H*q,G*q+H*N]}d=g,S=h,D=T;for(var m=g/180*a,b=0,_=0,w=M(T),A="",p=0;p<w.length;p++){var I=w[p],k=I[0],L=b,O=_;if("M"===k||"L"===k)b=+I[1],_=+I[2];else if("m"===k||"l"===k)b+=+I[1],_+=+I[2];else if("H"===k)b=+I[1];else if("h"===k)b+=+I[1];else if("V"===k)_=+I[1];else if("v"===k)_+=+I[1];else if("A"===k){b=+I[1],_=+I[2];var P=x(m,[+I[6],+I[7]]);I[6]=P[0],I[7]=P[1],I[3]=+I[3]+g}"H"!==k&&"V"!==k||(k="L"),"h"!==k&&"v"!==k||(k="l"),"m"!==k&&"l"!==k||(b-=L,_-=O);var F=x(m,[b,_]);"H"!==k&&"V"!==k||(k="L"),"M"!==k&&"L"!==k&&"m"!==k&&"l"!==k||(I[1]=F[0],I[2]=F[1]),I[0]=k,A+=I[0]+I.slice(1).join(",")}return E=A,A}ae.exports={circle:{n:0,f:function(g,h,T){if(c(h))return u;var x=v(g,2),m="M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z";return T?f(h,T,m):m}},square:{n:1,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")}},diamond:{n:2,f:function(g,h,T){if(c(h))return u;var x=v(1.3*g,2);return f(h,T,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"Z")}},cross:{n:3,f:function(g,h,T){if(c(h))return u;var x=v(.4*g,2),m=v(1.2*g,2);return f(h,T,"M"+m+","+x+"H"+x+"V"+m+"H-"+x+"V"+x+"H-"+m+"V-"+x+"H-"+x+"V-"+m+"H"+x+"V-"+x+"H"+m+"Z")}},x:{n:4,f:function(g,h,T){if(c(h))return u;var x=v(.8*g/i,2),m="l"+x+","+x,b="l"+x+",-"+x,_="l-"+x+",-"+x,w="l-"+x+","+x;return f(h,T,"M0,"+x+m+b+_+b+_+w+_+w+m+w+m+"Z")}},"triangle-up":{n:5,f:function(g,h,T){if(c(h))return u;var x=v(2*g/s,2);return f(h,T,"M-"+x+","+v(g/2,2)+"H"+x+"L0,-"+v(g,2)+"Z")}},"triangle-down":{n:6,f:function(g,h,T){if(c(h))return u;var x=v(2*g/s,2);return f(h,T,"M-"+x+",-"+v(g/2,2)+"H"+x+"L0,"+v(g,2)+"Z")}},"triangle-left":{n:7,f:function(g,h,T){if(c(h))return u;var x=v(2*g/s,2);return f(h,T,"M"+v(g/2,2)+",-"+x+"V"+x+"L-"+v(g,2)+",0Z")}},"triangle-right":{n:8,f:function(g,h,T){if(c(h))return u;var x=v(2*g/s,2);return f(h,T,"M-"+v(g/2,2)+",-"+x+"V"+x+"L"+v(g,2)+",0Z")}},"triangle-ne":{n:9,f:function(g,h,T){if(c(h))return u;var x=v(.6*g,2),m=v(1.2*g,2);return f(h,T,"M-"+m+",-"+x+"H"+x+"V"+m+"Z")}},"triangle-se":{n:10,f:function(g,h,T){if(c(h))return u;var x=v(.6*g,2),m=v(1.2*g,2);return f(h,T,"M"+x+",-"+m+"V"+x+"H-"+m+"Z")}},"triangle-sw":{n:11,f:function(g,h,T){if(c(h))return u;var x=v(.6*g,2),m=v(1.2*g,2);return f(h,T,"M"+m+","+x+"H-"+x+"V-"+m+"Z")}},"triangle-nw":{n:12,f:function(g,h,T){if(c(h))return u;var x=v(.6*g,2),m=v(1.2*g,2);return f(h,T,"M-"+x+","+m+"V-"+x+"H"+m+"Z")}},pentagon:{n:13,f:function(g,h,T){if(c(h))return u;var x=v(.951*g,2),m=v(.588*g,2),b=v(-g,2),_=v(-.309*g,2);return f(h,T,"M"+x+","+_+"L"+m+","+v(.809*g,2)+"H-"+m+"L-"+x+","+_+"L0,"+b+"Z")}},hexagon:{n:14,f:function(g,h,T){if(c(h))return u;var x=v(g,2),m=v(g/2,2),b=v(g*s/2,2);return f(h,T,"M"+b+",-"+m+"V"+m+"L0,"+x+"L-"+b+","+m+"V-"+m+"L0,-"+x+"Z")}},hexagon2:{n:15,f:function(g,h,T){if(c(h))return u;var x=v(g,2),m=v(g/2,2),b=v(g*s/2,2);return f(h,T,"M-"+m+","+b+"H"+m+"L"+x+",0L"+m+",-"+b+"H-"+m+"L-"+x+",0Z")}},octagon:{n:16,f:function(g,h,T){if(c(h))return u;var x=v(.924*g,2),m=v(.383*g,2);return f(h,T,"M-"+m+",-"+x+"H"+m+"L"+x+",-"+m+"V"+m+"L"+m+","+x+"H-"+m+"L-"+x+","+m+"V-"+m+"Z")}},star:{n:17,f:function(g,h,T){if(c(h))return u;var x=1.4*g,m=v(.225*x,2),b=v(.951*x,2),_=v(.363*x,2),w=v(.588*x,2),A=v(-x,2),p=v(-.309*x,2),I=v(.118*x,2),k=v(.809*x,2);return f(h,T,"M"+m+","+p+"H"+b+"L"+_+","+I+"L"+w+","+k+"L0,"+v(.382*x,2)+"L-"+w+","+k+"L-"+_+","+I+"L-"+b+","+p+"H-"+m+"L0,"+A+"Z")}},hexagram:{n:18,f:function(g,h,T){if(c(h))return u;var x=v(.66*g,2),m=v(.38*g,2),b=v(.76*g,2);return f(h,T,"M-"+b+",0l-"+m+",-"+x+"h"+b+"l"+m+",-"+x+"l"+m+","+x+"h"+b+"l-"+m+","+x+"l"+m+","+x+"h-"+b+"l-"+m+","+x+"l-"+m+",-"+x+"h-"+b+"Z")}},"star-triangle-up":{n:19,f:function(g,h,T){if(c(h))return u;var x=v(g*s*.8,2),m=v(.8*g,2),b=v(1.6*g,2),_=v(4*g,2),w="A "+_+","+_+" 0 0 1 ";return f(h,T,"M-"+x+","+m+w+x+","+m+w+"0,-"+b+w+"-"+x+","+m+"Z")}},"star-triangle-down":{n:20,f:function(g,h,T){if(c(h))return u;var x=v(g*s*.8,2),m=v(.8*g,2),b=v(1.6*g,2),_=v(4*g,2),w="A "+_+","+_+" 0 0 1 ";return f(h,T,"M"+x+",-"+m+w+"-"+x+",-"+m+w+"0,"+b+w+x+",-"+m+"Z")}},"star-square":{n:21,f:function(g,h,T){if(c(h))return u;var x=v(1.1*g,2),m=v(2*g,2),b="A "+m+","+m+" 0 0 1 ";return f(h,T,"M-"+x+",-"+x+b+"-"+x+","+x+b+x+","+x+b+x+",-"+x+b+"-"+x+",-"+x+"Z")}},"star-diamond":{n:22,f:function(g,h,T){if(c(h))return u;var x=v(1.4*g,2),m=v(1.9*g,2),b="A "+m+","+m+" 0 0 1 ";return f(h,T,"M-"+x+",0"+b+"0,"+x+b+x+",0"+b+"0,-"+x+b+"-"+x+",0Z")}},"diamond-tall":{n:23,f:function(g,h,T){if(c(h))return u;var x=v(.7*g,2),m=v(1.4*g,2);return f(h,T,"M0,"+m+"L"+x+",0L0,-"+m+"L-"+x+",0Z")}},"diamond-wide":{n:24,f:function(g,h,T){if(c(h))return u;var x=v(1.4*g,2),m=v(.7*g,2);return f(h,T,"M0,"+m+"L"+x+",0L0,-"+m+"L-"+x+",0Z")}},hourglass:{n:25,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M"+x+","+x+"H-"+x+"L"+x+",-"+x+"H-"+x+"Z")},noDot:!0},bowtie:{n:26,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M"+x+","+x+"V-"+x+"L-"+x+","+x+"V-"+x+"Z")},noDot:!0},"circle-cross":{n:27,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g,h,T){if(c(h))return u;var x=v(g,2),m=v(g/i,2);return f(h,T,"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m+"M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M"+x+","+x+"L-"+x+",-"+x+"M"+x+",-"+x+"L-"+x+","+x+"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g,h,T){if(c(h))return u;var x=v(1.3*g,2);return f(h,T,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"ZM0,-"+x+"V"+x+"M-"+x+",0H"+x)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g,h,T){if(c(h))return u;var x=v(1.3*g,2),m=v(.65*g,2);return f(h,T,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"ZM-"+m+",-"+m+"L"+m+","+m+"M-"+m+","+m+"L"+m+",-"+m)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g,h,T){if(c(h))return u;var x=v(1.4*g,2);return f(h,T,"M0,"+x+"V-"+x+"M"+x+",0H-"+x)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M"+x+","+x+"L-"+x+",-"+x+"M"+x+",-"+x+"L-"+x+","+x)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g,h,T){if(c(h))return u;var x=v(1.2*g,2),m=v(.85*g,2);return f(h,T,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+m+","+m+"L-"+m+",-"+m+"M"+m+",-"+m+"L-"+m+","+m)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g,h,T){if(c(h))return u;var x=v(g/2,2),m=v(g,2);return f(h,T,"M"+x+","+m+"V-"+m+"M"+(x-m)+",-"+m+"V"+m+"M"+m+","+x+"H-"+m+"M-"+m+","+(x-m)+"H"+m)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g,h,T){if(c(h))return u;var x=v(1.2*g,2),m=v(1.6*g,2),b=v(.8*g,2);return f(h,T,"M-"+x+","+b+"L0,0M"+x+","+b+"L0,0M0,-"+m+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g,h,T){if(c(h))return u;var x=v(1.2*g,2),m=v(1.6*g,2),b=v(.8*g,2);return f(h,T,"M-"+x+",-"+b+"L0,0M"+x+",-"+b+"L0,0M0,"+m+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g,h,T){if(c(h))return u;var x=v(1.2*g,2),m=v(1.6*g,2),b=v(.8*g,2);return f(h,T,"M"+b+","+x+"L0,0M"+b+",-"+x+"L0,0M-"+m+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g,h,T){if(c(h))return u;var x=v(1.2*g,2),m=v(1.6*g,2),b=v(.8*g,2);return f(h,T,"M-"+b+","+x+"L0,0M-"+b+",-"+x+"L0,0M"+m+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g,h,T){if(c(h))return u;var x=v(1.4*g,2);return f(h,T,"M"+x+",0H-"+x)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g,h,T){if(c(h))return u;var x=v(1.4*g,2);return f(h,T,"M0,"+x+"V-"+x)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M"+x+",-"+x+"L-"+x+","+x)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M"+x+","+x+"L-"+x+",-"+x)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M0,0L-"+x+","+v(2*g,2)+"H"+x+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M0,0L-"+x+",-"+v(2*g,2)+"H"+x+"Z")},noDot:!0},"arrow-left":{n:47,f:function(g,h,T){if(c(h))return u;var x=v(2*g,2),m=v(g,2);return f(h,T,"M0,0L"+x+",-"+m+"V"+m+"Z")},noDot:!0},"arrow-right":{n:48,f:function(g,h,T){if(c(h))return u;var x=v(2*g,2),m=v(g,2);return f(h,T,"M0,0L-"+x+",-"+m+"V"+m+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M-"+x+",0H"+x+"M0,0L-"+x+","+v(2*g,2)+"H"+x+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g,h,T){if(c(h))return u;var x=v(g,2);return f(h,T,"M-"+x+",0H"+x+"M0,0L-"+x+",-"+v(2*g,2)+"H"+x+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g,h,T){if(c(h))return u;var x=v(2*g,2),m=v(g,2);return f(h,T,"M0,-"+m+"V"+m+"M0,0L"+x+",-"+m+"V"+m+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g,h,T){if(c(h))return u;var x=v(2*g,2),m=v(g,2);return f(h,T,"M0,-"+m+"V"+m+"M0,0L-"+x+",-"+m+"V"+m+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(g,h,T){if(c(h))return u;var x=a/2.5,m=2*g*o(x),b=2*g*l(x);return f(h,T,"M0,0L"+-m+","+b+"L"+m+","+b+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(g,h,T){if(c(h))return u;var x=a/4,m=2*g*o(x),b=2*g*l(x);return f(h,T,"M0,0L"+-m+","+b+"A "+2*g+","+2*g+" 0 0 1 "+m+","+b+"Z")},backoff:.4,noDot:!0}}},25673:function(ae){"use strict";ae.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),d=r(89298),S=r(71828),M=r(45827);function v(u,i,s,a){var o=i["error_"+a]||{},l=[];if(o.visible&&-1!==["linear","log"].indexOf(s.type)){for(var c=M(o),f=0;f<u.length;f++){var g=u[f],h=g.i;if(void 0===h)h=f;else if(null===h)continue;var T=g[a];if(D(s.c2l(T))){var x=c(T,h);if(D(x[0])&&D(x[1])){var m=g[a+"s"]=T-x[0],b=g[a+"h"]=T+x[1];l.push(m,b)}}}var w=i._extremes[s._id],A=d.findExtremes(s,l,S.extendFlat({tozero:w.opts.tozero},{padded:!0}));w.min=w.min.concat(A.min),w.max=w.max.concat(A.max)}}ae.exports=function(u){for(var i=u.calcdata,s=0;s<i.length;s++){var a=i[s],o=a[0].trace;if(!0===o.visible&&E.traceIs(o,"errorBarsOK")){var l=d.getFromId(u,o.xaxis),c=d.getFromId(u,o.yaxis);v(a,o,l,"x"),v(a,o,c,"y")}}}},45827:function(ae){"use strict";function B(r,D){return"percent"===r?function(E){return Math.abs(E*D/100)}:"constant"===r?function(){return Math.abs(D)}:"sqrt"===r?function(E){return Math.sqrt(Math.abs(E))}:void 0}ae.exports=function(r){var D=r.type,E=r.symmetric;if("data"===D){var d=r.array||[];if(E)return function(u,i){var s=+d[i];return[s,s]};var S=r.arrayminus||[];return function(u,i){var s=+d[i],a=+S[i];return isNaN(s)&&isNaN(a)?[NaN,NaN]:[a||0,s||0]}}var M=B(D,r.value),v=B(D,r.valueminus);return E||void 0===r.valueminus?function(u){var i=M(u);return[i,i]}:function(u){return[v(u),M(u)]}}},97587:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),d=r(71828),S=r(44467),M=r(25673);ae.exports=function(v,u,i,s){var a="error_"+s.axis,o=S.newContainer(u,a),l=v[a]||{};function c(T,x){return d.coerce(l,o,M,T,x)}if(!1!==c("visible",void 0!==l.array||void 0!==l.value||"sqrt"===l.type)){var f=c("type","array"in l?"data":"percent"),g=!0;"sqrt"!==f&&(g=c("symmetric",!(("data"===f?"arrayminus":"valueminus")in l))),"data"===f?(c("array"),c("traceref"),g||(c("arrayminus"),c("tracerefminus"))):"percent"!==f&&"constant"!==f||(c("value"),g||c("valueminus"));var h="copy_"+s.inherit+"style";s.inherit&&(u["error_"+s.inherit]||{}).visible&&c(h,!(l.color||D(l.thickness)||D(l.width))),s.inherit&&o[h]||(c("color",i),c("thickness"),c("width",E.traceIs(u,"gl3d")?0:4))}}},37369:function(ae,B,r){"use strict";var D=r(71828),E=r(30962).overrideAll,d=r(25673),S={error_x:D.extendFlat({},d),error_y:D.extendFlat({},d)};delete S.error_x.copy_zstyle,delete S.error_y.copy_zstyle,delete S.error_y.copy_ystyle;var M={error_x:D.extendFlat({},d),error_y:D.extendFlat({},d),error_z:D.extendFlat({},d)};delete M.error_x.copy_ystyle,delete M.error_y.copy_ystyle,delete M.error_z.copy_ystyle,delete M.error_z.copy_zstyle,ae.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:S,bar:S,histogram:S,scatter3d:E(M,"calc","nested"),scattergl:E(S,"calc","nested")}},supplyDefaults:r(97587),calc:r(84532),makeComputeError:r(45827),plot:r(19398),style:r(62662),hoverInfo:function(v,u,i){(u.error_y||{}).visible&&(i.yerr=v.yh-v.y,u.error_y.symmetric||(i.yerrneg=v.y-v.ys)),(u.error_x||{}).visible&&(i.xerr=v.xh-v.x,u.error_x.symmetric||(i.xerrneg=v.x-v.xs))}}},19398:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(91424),S=r(34098);ae.exports=function(M,v,u,i){var s=u.xaxis,a=u.yaxis,o=i&&i.duration>0,l=M._context.staticPlot;v.each(function(c){var f,g=c[0].trace,h=g.error_x||{},T=g.error_y||{};g.ids&&(f=function(_){return _.id});var x=S.hasMarkers(g)&&g.marker.maxdisplayed>0;T.visible||h.visible||(c=[]);var m=D.select(this).selectAll("g.errorbar").data(c,f);if(m.exit().remove(),c.length){h.visible||m.selectAll("path.xerror").remove(),T.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var b=m.enter().append("g").classed("errorbar",!0);o&&b.style("opacity",0).transition().duration(i.duration).style("opacity",1),d.setClipUrl(m,u.layerClipId,M),m.each(function(_){var P,F,j,X,w=D.select(this),A=(j=a,X={x:(F=s).c2p((P=_).x),y:j.c2p(P.y)},void 0!==P.yh&&(X.yh=j.c2p(P.yh),X.ys=j.c2p(P.ys),E(X.ys)||(X.noYS=!0,X.ys=j.c2p(P.ys,!0))),void 0!==P.xh&&(X.xh=F.c2p(P.xh),X.xs=F.c2p(P.xs),E(X.xs)||(X.noXS=!0,X.xs=F.c2p(P.xs,!0))),X);if(!x||_.vis){var p,I=w.select("path.yerror");if(T.visible&&E(A.x)&&E(A.yh)&&E(A.ys)){var k=T.width;p="M"+(A.x-k)+","+A.yh+"h"+2*k+"m-"+k+",0V"+A.ys,A.noYS||(p+="m-"+k+",0h"+2*k),I.size()?o&&(I=I.transition().duration(i.duration).ease(i.easing)):I=w.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),I.attr("d",p)}else I.remove();var L=w.select("path.xerror");if(h.visible&&E(A.y)&&E(A.xh)&&E(A.xs)){var O=(h.copy_ystyle?T:h).width;p="M"+A.xh+","+(A.y-O)+"v"+2*O+"m0,-"+O+"H"+A.xs,A.noXS||(p+="m0,-"+O+"v"+2*O),L.size()?o&&(L=L.transition().duration(i.duration).ease(i.easing)):L=w.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),L.attr("d",p)}else L.remove()}})}})}},62662:function(ae,B,r){"use strict";var D=r(39898),E=r(7901);ae.exports=function(d){d.each(function(S){var M=S[0].trace,v=M.error_y||{},u=M.error_x||{},i=D.select(this);i.selectAll("path.yerror").style("stroke-width",v.thickness+"px").call(E.stroke,v.color),u.copy_ystyle&&(u=v),i.selectAll("path.xerror").style("stroke-width",u.thickness+"px").call(E.stroke,u.color)})}},77914:function(ae,B,r){"use strict";var D=r(41940),E=r(528).hoverlabel,d=r(1426).extendFlat;ae.exports={hoverlabel:{bgcolor:d({},E.bgcolor,{arrayOk:!0}),bordercolor:d({},E.bordercolor,{arrayOk:!0}),font:D({arrayOk:!0,editType:"none"}),align:d({},E.align,{arrayOk:!0}),namelength:d({},E.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(ae,B,r){"use strict";var D=r(71828),E=r(73972);function d(S,M,v,u){u=u||D.identity,Array.isArray(S)&&(M[0][v]=u(S))}ae.exports=function(S){var M=S.calcdata,v=S._fullLayout;function u(l){return function(c){return D.coerceHoverinfo({hoverinfo:c},{_module:l._module},v)}}for(var i=0;i<M.length;i++){var s=M[i],a=s[0].trace;if(!E.traceIs(a,"pie-like")){var o=E.traceIs(a,"2dMap")?d:D.fillArray;o(a.hoverinfo,s,"hi",u(a)),a.hovertemplate&&o(a.hovertemplate,s,"ht"),a.hoverlabel&&(o(a.hoverlabel.bgcolor,s,"hbg"),o(a.hoverlabel.bordercolor,s,"hbc"),o(a.hoverlabel.font.size,s,"hts"),o(a.hoverlabel.font.color,s,"htc"),o(a.hoverlabel.font.family,s,"htf"),o(a.hoverlabel.namelength,s,"hnl"),o(a.hoverlabel.align,s,"hta"))}}}},75914:function(ae,B,r){"use strict";var D=r(73972),E=r(88335).hover;ae.exports=function(d,S,M){var v=D.getComponentMethod("annotations","onClick")(d,d._hoverdata);function u(){d.emit("plotly_click",{points:d._hoverdata,event:S})}void 0!==M&&E(d,S,M,!0),d._hoverdata&&S&&S.target&&(v&&v.then?v.then(u):u(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},26675:function(ae){"use strict";ae.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(ae,B,r){"use strict";var D=r(71828),E=r(77914),d=r(38048);ae.exports=function(S,M,v,u){var i=D.extendFlat({},u.hoverlabel);M.hovertemplate&&(i.namelength=-1),d(S,M,function(s,a){return D.coerce(S,M,E,s,a)},i)}},23469:function(ae,B,r){"use strict";var D=r(71828);B.getSubplot=function(u){return u.subplot||u.xaxis+u.yaxis||u.geo},B.isTraceInSubplots=function(u,i){if("splom"===u.type){for(var s=u.xaxes||[],a=u.yaxes||[],o=0;o<s.length;o++)for(var l=0;l<a.length;l++)if(-1!==i.indexOf(s[o]+a[l]))return!0;return!1}return-1!==i.indexOf(B.getSubplot(u))},B.flat=function(u,i){for(var s=new Array(u.length),a=0;a<u.length;a++)s[a]=i;return s},B.p2c=function(u,i){for(var s=new Array(u.length),a=0;a<u.length;a++)s[a]=u[a].p2c(i);return s},B.getDistanceFunction=function(u,i,s,a){return"closest"===u?a||B.quadrature(i,s):"x"===u.charAt(0)?i:s},B.getClosest=function(u,i,s){if(!1!==s.index)s.index>=0&&s.index<u.length?s.distance=0:s.index=!1;else for(var a=0;a<u.length;a++){var o=i(u[a]);o<=s.distance&&(s.index=a,s.distance=o)}return s},B.inbox=function(u,i,s){return u*i<0||0===u?s:1/0},B.quadrature=function(u,i){return function(s){var a=u(s),o=i(s);return Math.sqrt(a*a+o*o)}},B.makeEventData=function(u,i,s){var a="index"in u?u.index:u.pointNumber,o={data:i._input,fullData:i,curveNumber:i.index,pointNumber:a};if(i._indexToPoints){var l=i._indexToPoints[a];1===l.length?o.pointIndex=l[0]:o.pointIndices=l}else o.pointIndex=a;return i._module.eventData?o=i._module.eventData(o,u,i,s,a):("xVal"in u?o.x=u.xVal:"x"in u&&(o.x=u.x),"yVal"in u?o.y=u.yVal:"y"in u&&(o.y=u.y),u.xa&&(o.xaxis=u.xa),u.ya&&(o.yaxis=u.ya),void 0!==u.zLabelVal&&(o.z=u.zLabelVal)),B.appendArrayPointValue(o,i,a),o},B.appendArrayPointValue=function(u,i,s){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],c=d(l);if(void 0===u[c]){var f=S(D.nestedProperty(i,l).get(),s);void 0!==f&&(u[c]=f)}}},B.appendArrayMultiPointValues=function(u,i,s){var a=i._arrayAttrs;if(a)for(var o=0;o<a.length;o++){var l=a[o],c=d(l);if(void 0===u[c]){for(var f=D.nestedProperty(i,l).get(),g=new Array(s.length),h=0;h<s.length;h++)g[h]=S(f,s[h]);u[c]=g}}};var E={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function d(u){return E[u]||u}function S(u,i){return Array.isArray(i)?Array.isArray(u)&&Array.isArray(u[i[0]])?u[i[0]][i[1]]:void 0:u[i]}var M={x:!0,y:!0},v={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(u){return"string"==typeof u&&!!v[u]},B.isXYhover=function(u){return"string"==typeof u&&!!M[u]}},88335:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(84267),S=r(71828),M=S.strTranslate,v=S.strRotate,u=r(11086),i=r(63893),s=r(39918),a=r(91424),o=r(7901),l=r(28569),c=r(89298),f=r(73972),g=r(23469),h=r(26675),T=r(99017),x=r(43969),m=h.YANGLE,b=Math.PI*m/180,_=1/Math.sin(b),w=Math.cos(b),A=Math.sin(b),p=h.HOVERARROWSIZE,I=h.HOVERTEXTPAD,k={box:!0,ohlc:!0,violin:!0,candlestick:!0},L={scatter:!0,scattergl:!0,splom:!0};function O(Q){return[Q.trace.index,Q.index,Q.x0,Q.y0,Q.name,Q.attr,Q.xa?Q.xa._id:"",Q.ya?Q.ya._id:""].join(",")}B.hover=function(Q,ee,oe,ce){Q=S.getGraphDiv(Q);var ue=ee.target;S.throttle(Q._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){!function(he,ve,ke,Ie,Me){ke||(ke="xy");var _e=Array.isArray(ke)?ke:[ke],we=he._fullLayout,ze=we._plots||[],Ee=ze[ke],Se=we._has("cartesian");if(Ee){var me=Ee.overlays.map(function(Kt){return Kt.id});_e=_e.concat(me)}for(var fe=_e.length,le=new Array(fe),Te=new Array(fe),Re=!1,De=0;De<fe;De++){var Ue=_e[De];if(ze[Ue])Re=!0,le[De]=ze[Ue].xaxis,Te[De]=ze[Ue].yaxis;else{if(!we[Ue]||!we[Ue]._subplot)return void S.warn("Unrecognized subplot: "+Ue);var Ze=we[Ue]._subplot;le[De]=Ze.xaxis,Te[De]=Ze.yaxis}}var xe=ve.hovermode||we.hovermode;if(xe&&!Re&&(xe="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(xe)||!he.calcdata||he.querySelector(".zoombox")||he._dragging)return l.unhoverRaw(he,ve);var Oe=we.hoverdistance;-1===Oe&&(Oe=1/0);var Ce=we.spikedistance;-1===Ce&&(Ce=1/0);var Be,qe,He,Je,et,st,pt,ct,St,Dt,vt,gt,Et,Pt=[],Ot=[],Ht={hLinePoint:null,vLinePoint:null},zt=!1;if(Array.isArray(ve))for(xe="array",He=0;He<ve.length;He++)(et=he.calcdata[ve[He].curveNumber||0])&&(st=et[0].trace,"skip"!==et[0].trace.hoverinfo&&(Ot.push(et),"h"===st.orientation&&(zt=!0)));else{for(Je=0;Je<he.calcdata.length;Je++)"skip"!==(st=(et=he.calcdata[Je])[0].trace).hoverinfo&&g.isTraceInSubplots(st,_e)&&(Ot.push(et),"h"===st.orientation&&(zt=!0));var nt,it;if(Me){if(!1===u.triggerHandler(he,"plotly_beforehover",ve))return;var Ke=Me.getBoundingClientRect();nt=ve.clientX-Ke.left,it=ve.clientY-Ke.top,we._calcInverseTransform(he);var rt=S.apply3DTransform(we._invTransform)(nt,it);if(it=rt[1],(nt=rt[0])<0||nt>le[0]._length||it<0||it>Te[0]._length)return l.unhoverRaw(he,ve)}else nt="xpx"in ve?ve.xpx:le[0]._length/2,it="ypx"in ve?ve.ypx:Te[0]._length/2;if(ve.pointerX=nt+le[0]._offset,ve.pointerY=it+Te[0]._offset,Be="xval"in ve?g.flat(_e,ve.xval):g.p2c(le,nt),qe="yval"in ve?g.flat(_e,ve.yval):g.p2c(Te,it),!E(Be[0])||!E(qe[0]))return S.warn("Fx.hover failed",ve,he),l.unhoverRaw(he,ve)}var ft=1/0;function ht(Kt,qt){for(Je=0;Je<Ot.length;Je++)if((et=Ot[Je])&&et[0]&&et[0].trace&&!0===(st=et[0].trace).visible&&0!==st._length&&-1===["carpet","contourcarpet"].indexOf(st._module.name)){if("splom"===st.type?pt=_e[ct=0]:(pt=g.getSubplot(st),ct=_e.indexOf(pt)),g.isUnifiedHover(St=xe)&&(St=St.charAt(0)),gt={cd:et,trace:st,xa:le[ct],ya:Te[ct],maxHoverDistance:Oe,maxSpikeDistance:Ce,index:!1,distance:Math.min(ft,Oe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:o.defaultLine,name:st.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},we[pt]&&(gt.subplot=we[pt]._subplot),we._splomScenes&&we._splomScenes[st.uid]&&(gt.scene=we._splomScenes[st.uid]),Et=Pt.length,"array"===St){var Tn=ve[Je];"pointNumber"in Tn?(gt.index=Tn.pointNumber,St="closest"):(St="","xval"in Tn&&(Dt=Tn.xval,St="x"),"yval"in Tn&&(vt=Tn.yval,St=St?"closest":"y"))}else void 0!==Kt&&void 0!==qt?(Dt=Kt,vt=qt):(Dt=Be[ct],vt=qe[ct]);if(0!==Oe)if(st._module&&st._module.hoverPoints){var xn=st._module.hoverPoints(gt,Dt,vt,St,{finiteRange:!0,hoverLayer:we._hoverlayer});if(xn)for(var In,cr=0;cr<xn.length;cr++)E((In=xn[cr]).x0)&&E(In.y0)&&Pt.push(q(In,xe))}else S.log("Unrecognized trace type in hover:",st);if("closest"===xe&&Pt.length>Et&&(Pt.splice(0,Et),ft=Pt[0].distance),Se&&0!==Ce&&0===Pt.length){gt.distance=Ce,gt.index=!1;var Kn=st._module.hoverPoints(gt,Dt,vt,"closest",{hoverLayer:we._hoverlayer});if(Kn&&(Kn=Kn.filter(function(on){return on.spikeDistance<=Ce})),Kn&&Kn.length){var Jn,vr=Kn.filter(function(on){return on.xa.showspikes&&"hovered data"!==on.xa.spikesnap});if(vr.length){var Qt=vr[0];E(Qt.x0)&&E(Qt.y0)&&(Jn=Ge(Qt),(!Ht.vLinePoint||Ht.vLinePoint.spikeDistance>Jn.spikeDistance)&&(Ht.vLinePoint=Jn))}var zn=Kn.filter(function(on){return on.ya.showspikes&&"hovered data"!==on.ya.spikesnap});if(zn.length){var Ft=zn[0];E(Ft.x0)&&E(Ft.y0)&&(Jn=Ge(Ft),(!Ht.hLinePoint||Ht.hLinePoint.spikeDistance>Jn.spikeDistance)&&(Ht.hLinePoint=Jn))}}}}}function Ve(Kt,qt,Tn){for(var xn,In=null,cr=1/0,Kn=0;Kn<Kt.length;Kn++)xn=Kt[Kn].spikeDistance,Tn&&0===Kn&&(xn=-1/0),xn<=cr&&xn<=qt&&(In=Kt[Kn],cr=xn);return In}function Ge(Kt){return Kt?{xa:Kt.xa,ya:Kt.ya,x:void 0!==Kt.xSpike?Kt.xSpike:(Kt.x0+Kt.x1)/2,y:void 0!==Kt.ySpike?Kt.ySpike:(Kt.y0+Kt.y1)/2,distance:Kt.distance,spikeDistance:Kt.spikeDistance,curveNumber:Kt.trace.index,color:Kt.color,pointNumber:Kt.index}:null}ht();var ut={fullLayout:we,container:we._hoverlayer,event:ve},dt=he._spikepoints;he._spikepoints={vLinePoint:Ht.vLinePoint,hLinePoint:Ht.hLinePoint};var bt=function(){Pt.sort(function(Kt,qt){return Kt.distance-qt.distance}),Pt=function(Kt,qt){for(var Tn=qt.charAt(0),xn=[],In=[],cr=[],Kn=0;Kn<Kt.length;Kn++){var Jn=Kt[Kn];f.traceIs(Jn.trace,"bar-like")||f.traceIs(Jn.trace,"box-violin")?cr.push(Jn):Jn.trace[Tn+"period"]?In.push(Jn):xn.push(Jn)}return xn.concat(In).concat(cr)}(Pt,xe)};bt();var At=xe.charAt(0),xt=("x"===At||"y"===At)&&Pt[0]&&L[Pt[0].trace.type];if(Se&&0!==Ce&&0!==Pt.length){var Rt=Ve(Pt.filter(function(Kt){return Kt.ya.showspikes}),Ce,xt);Ht.hLinePoint=Ge(Rt);var _t=Ve(Pt.filter(function(Kt){return Kt.xa.showspikes}),Ce,xt);Ht.vLinePoint=Ge(_t)}if(0===Pt.length){var Tt=l.unhoverRaw(he,ve);return!Se||null===Ht.hLinePoint&&null===Ht.vLinePoint||H(dt)&&G(he,Ht,ut),Tt}if(Se&&H(dt)&&G(he,Ht,ut),g.isXYhover(St)&&0!==Pt[0].length&&"splom"!==Pt[0].trace.type){var It=Pt[0],Wt=(Pt=k[It.trace.type]?Pt.filter(function(Kt){return Kt.trace.index===It.trace.index}):[It]).length;ht($("x",It,we),$("y",It,we));var Zt,$t=[],dn={},nn=0,cn=function(Kt){var qt=k[Kt.trace.type]?O(Kt):Kt.trace.index;if(dn[qt]){var Tn=dn[qt]-1,xn=$t[Tn];Tn>0&&Math.abs(Kt.distance)<Math.abs(xn.distance)&&($t[Tn]=Kt)}else nn++,dn[qt]=nn,$t.push(Kt)};for(Zt=0;Zt<Wt;Zt++)cn(Pt[Zt]);for(Zt=Pt.length-1;Zt>Wt-1;Zt--)cn(Pt[Zt]);Pt=$t,bt()}var rn=he._hoverdata,En=[],Pn=se(he),Mn=ne(he);for(He=0;He<Pt.length;He++){var en=Pt[He],gn=g.makeEventData(en,en.trace,en.cd);if(!1!==en.hovertemplate){var an=!1;en.cd[en.index]&&en.cd[en.index].ht&&(an=en.cd[en.index].ht),en.hovertemplate=an||en.trace.hovertemplate||!1}if(en.xa&&en.ya){var yn=en.x0+en.xa._offset,kn=en.x1+en.xa._offset,Ln=en.y0+en.ya._offset,Rn=en.y1+en.ya._offset,Wn=Math.min(yn,kn),Cn=Math.max(yn,kn),Zn=Math.min(Ln,Rn),mr=Math.max(Ln,Rn);gn.bbox={x0:Wn+Mn,x1:Cn+Mn,y0:Zn+Pn,y1:mr+Pn}}en.eventData=[gn],En.push(gn)}he._hoverdata=En;var lr="y"===xe&&(Ot.length>1||Pt.length>1)||"closest"===xe&&zt&&Pt.length>1,er=o.combine(we.plot_bgcolor||o.background,we.paper_bgcolor),xr=F(Pt,{gd:he,hovermode:xe,rotateLabels:lr,bgColor:er,container:we._hoverlayer,outerContainer:we._paper.node(),commonLabelOpts:we.hoverlabel,hoverdistance:we.hoverdistance}),dr=xr.hoverLabels;if(g.isUnifiedHover(xe)||(function(Kt,qt,Tn,xn){var In,cr,Kn,Jn,vr,Qt,zn,Ft=qt?"xa":"ya",on=qt?"ya":"xa",un=0,On=1,Fn=Kt.size(),Gn=new Array(Fn),bn=0,ln=xn.minX,fn=xn.maxX,_n=xn.minY,wn=xn.maxY,Un=function(Lr){return Lr*Tn._invScaleX},Hn=function(Lr){return Lr*Tn._invScaleY};function ar(Lr){var Jr=Lr[0],fr=Lr[Lr.length-1];if(Kn=fr.pos+fr.dp+fr.size-Jr.pmax,(cr=Jr.pmin-Jr.pos-Jr.dp+Jr.size)>.01){for(vr=Lr.length-1;vr>=0;vr--)Lr[vr].dp+=cr;In=!1}if(!(Kn<.01)){if(cr<-.01){for(vr=Lr.length-1;vr>=0;vr--)Lr[vr].dp-=Kn;In=!1}if(In){var Rr=0;for(Jn=0;Jn<Lr.length;Jn++)(Qt=Lr[Jn]).pos+Qt.dp+Qt.size>Jr.pmax&&Rr++;for(Jn=Lr.length-1;Jn>=0&&!(Rr<=0);Jn--)(Qt=Lr[Jn]).pos>Jr.pmax-1&&(Qt.del=!0,Rr--);for(Jn=0;Jn<Lr.length&&!(Rr<=0);Jn++)if((Qt=Lr[Jn]).pos<Jr.pmin+1)for(Qt.del=!0,Rr--,Kn=2*Qt.size,vr=Lr.length-1;vr>=0;vr--)Lr[vr].dp-=Kn;for(Jn=Lr.length-1;Jn>=0&&!(Rr<=0);Jn--)(Qt=Lr[Jn]).pos+Qt.dp+Qt.size>Jr.pmax&&(Qt.del=!0,Rr--)}}}for(Kt.each(function(Lr){var Jr=Lr[Ft],fr=Lr[on],Rr="x"===Jr._id.charAt(0),oi=Jr.range;0===bn&&oi&&oi[0]>oi[1]!==Rr&&(On=-1);var ji=0,ko=Rr?Tn.width:Tn.height;if("x"===Tn.hovermode||"y"===Tn.hovermode){var Zr,_o,ao=X(Lr,qt),Bi=Lr.anchor,Ps="end"===Bi?-1:1;if("middle"===Bi)_o=(Zr=Lr.crossPos+(Rr?Hn(ao.y-Lr.by/2):Un(Lr.bx/2+Lr.tx2width/2)))+(Rr?Hn(Lr.by):Un(Lr.bx));else if(Rr)_o=(Zr=Lr.crossPos+Hn(p+ao.y)-Hn(Lr.by/2-p))+Hn(Lr.by);else{var ss=Un(Ps*p+ao.x),Vi=ss+Un(Ps*Lr.bx);Zr=Lr.crossPos+Math.min(ss,Vi),_o=Lr.crossPos+Math.max(ss,Vi)}Rr?void 0!==_n&&void 0!==wn&&Math.min(_o,wn)-Math.max(Zr,_n)>1&&("left"===fr.side?(ji=fr._mainLinePosition,ko=Tn.width):ko=fr._mainLinePosition):void 0!==ln&&void 0!==fn&&Math.min(_o,fn)-Math.max(Zr,ln)>1&&("top"===fr.side?(ji=fr._mainLinePosition,ko=Tn.height):ko=fr._mainLinePosition)}Gn[bn++]=[{datum:Lr,traceIndex:Lr.trace.index,dp:0,pos:Lr.pos,posref:Lr.posref,size:Lr.by*(Rr?_:1)/2,pmin:ji,pmax:ko}]}),Gn.sort(function(Lr,Jr){return Lr[0].posref-Jr[0].posref||On*(Jr[0].traceIndex-Lr[0].traceIndex)});!In&&un<=Fn;){for(un++,In=!0,Jn=0;Jn<Gn.length-1;){var tr=Gn[Jn],gr=Gn[Jn+1],Vn=tr[tr.length-1],Tr=gr[0];if((cr=Vn.pos+Vn.dp+Vn.size-Tr.pos-Tr.dp+Tr.size)>.01&&Vn.pmin===Tr.pmin&&Vn.pmax===Tr.pmax){for(vr=gr.length-1;vr>=0;vr--)gr[vr].dp+=cr;for(tr.push.apply(tr,gr),Gn.splice(Jn+1,1),zn=0,vr=tr.length-1;vr>=0;vr--)zn+=tr[vr].dp;for(Kn=zn/tr.length,vr=tr.length-1;vr>=0;vr--)tr[vr].dp-=Kn;In=!1}else Jn++}Gn.forEach(ar)}for(Jn=Gn.length-1;Jn>=0;Jn--){var rr=Gn[Jn];for(vr=rr.length-1;vr>=0;vr--){var _r=rr[vr],Ir=_r.datum;Ir.offset=_r.dp,Ir.del=_r.del}}}(dr,lr,we,xr.commonLabelBoundingBox),N(dr,lr,we._invScaleX,we._invScaleY)),Me&&Me.tagName){var jr=f.getComponentMethod("annotations","hasClickToShow")(he,En);s(D.select(Me),jr?"pointer":"")}Me&&!Ie&&function(Kt,qt,Tn){if(!Tn||Tn.length!==Kt._hoverdata.length)return!0;for(var xn=Tn.length-1;xn>=0;xn--){var In=Tn[xn],cr=Kt._hoverdata[xn];if(In.curveNumber!==cr.curveNumber||String(In.pointNumber)!==String(cr.pointNumber)||String(In.pointNumbers)!==String(cr.pointNumbers))return!0}return!1}(he,0,rn)&&(rn&&he.emit("plotly_unhover",{event:ve,points:rn}),he.emit("plotly_hover",{event:ve,points:he._hoverdata,xaxes:le,yaxes:Te,xvals:Be,yvals:qe}))}(Q,ee,oe,ce,ue)})},B.loneHover=function(Q,ee){var oe=!0;Array.isArray(Q)||(oe=!1,Q=[Q]);var ce=ee.gd,ue=se(ce),he=ne(ce),ve=F(Q.map(function(Me){var _e=Me._x0||Me.x0||Me.x||0,we=Me._x1||Me.x1||Me.x||0,ze=Me._y0||Me.y0||Me.y||0,Ee=Me._y1||Me.y1||Me.y||0,Se=Me.eventData;if(Se){var me=Math.min(_e,we),fe=Math.max(_e,we),le=Math.min(ze,Ee),Te=Math.max(ze,Ee),Re=Me.trace;if(f.traceIs(Re,"gl3d")){var De=ce._fullLayout[Re.scene]._scene.container,Ue=De.offsetLeft,Ze=De.offsetTop;me+=Ue,fe+=Ue,le+=Ze,Te+=Ze}Se.bbox={x0:me+he,x1:fe+he,y0:le+ue,y1:Te+ue},ee.inOut_bbox&&ee.inOut_bbox.push(Se.bbox)}else Se=!1;return{color:Me.color||o.defaultLine,x0:Me.x0||Me.x||0,x1:Me.x1||Me.x||0,y0:Me.y0||Me.y||0,y1:Me.y1||Me.y||0,xLabel:Me.xLabel,yLabel:Me.yLabel,zLabel:Me.zLabel,text:Me.text,name:Me.name,idealAlign:Me.idealAlign,borderColor:Me.borderColor,fontFamily:Me.fontFamily,fontSize:Me.fontSize,fontColor:Me.fontColor,nameLength:Me.nameLength,textAlign:Me.textAlign,trace:Me.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Me.hovertemplate||!1,hovertemplateLabels:Me.hovertemplateLabels||!1,eventData:Se}}),{gd:ce,hovermode:"closest",rotateLabels:!1,bgColor:ee.bgColor||o.background,container:D.select(ee.container),outerContainer:ee.outerContainer||ee.container}).hoverLabels,ke=0,Ie=0;return ve.sort(function(Me,_e){return Me.y0-_e.y0}).each(function(Me,_e){var we=Me.y0-Me.by/2;Me.offset=we-5<ke?ke-we+5:0,ke=we+Me.by+Me.offset,_e===ee.anchorIndex&&(Ie=Me.offset)}).each(function(Me){Me.offset-=Ie}),N(ve,!1,ce._fullLayout._invScaleX,ce._fullLayout._invScaleY),oe?ve:ve.node()};var P=/<extra>([\s\S]*)<\/extra>/;function F(Q,ee){var oe=ee.gd,ce=oe._fullLayout,ue=ee.hovermode,he=ee.rotateLabels,ve=ee.bgColor,ke=ee.container,Ie=ee.outerContainer,Me=ee.commonLabelOpts||{};if(0===Q.length)return[[]];var _e=ee.fontFamily||h.HOVERFONT,we=ee.fontSize||h.HOVERFONTSIZE,ze=Q[0],Ee=ze.xa,Se=ze.ya,me=ue.charAt(0),fe=me+"Label",le=ze[fe];if(void 0===le&&"multicategory"===Ee.type)for(var Te=0;Te<Q.length&&void 0===(le=Q[Te][fe]);Te++);var Re=re(oe,Ie),De=Re.top,Ue=Re.width,Ze=Re.height,xe=void 0!==le&&ze.distance<=ee.hoverdistance&&("x"===ue||"y"===ue);if(xe){var Oe,Ce,Be=!0;for(Oe=0;Oe<Q.length;Oe++)if(Be&&void 0===Q[Oe].zLabel&&(Be=!1),Ce=Q[Oe].hoverinfo||Q[Oe].trace.hoverinfo){var qe=Array.isArray(Ce)?Ce:Ce.split("+");if(-1===qe.indexOf("all")&&-1===qe.indexOf(ue)){xe=!1;break}}Be&&(xe=!1)}var He=ke.selectAll("g.axistext").data(xe?[0]:[]);He.enter().append("g").classed("axistext",!0),He.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(He.each(function(){var Tt=D.select(this),It=S.ensureSingle(Tt,"path","",function(Zn){Zn.style({"stroke-width":"1px"})}),Wt=S.ensureSingle(Tt,"text","",function(Zn){Zn.attr("data-notex",1)}),Zt=Me.bgcolor||o.defaultLine,$t=Me.bordercolor||o.contrast(Zt),dn=o.contrast(Zt),nn={family:Me.font.family||_e,size:Me.font.size||we,color:Me.font.color||dn};It.style({fill:Zt,stroke:$t}),Wt.text(le).call(a.font,nn).call(i.positionText,0,0).call(i.convertToTspans,oe),Tt.attr("transform","");var cn,rn,En=re(oe,Wt.node());if("x"===ue){var Pn="top"===Ee.side?"-":"";Wt.attr("text-anchor","middle").call(i.positionText,0,"top"===Ee.side?De-En.bottom-p-I:De-En.top+p+I),rn=Se._offset+("top"===Ee.side?0:Se._length);var Mn=En.width/2+I;(cn=Ee._offset+(ze.x0+ze.x1)/2)<Mn?(cn=Mn,It.attr("d","M-"+(Mn-p)+",0L-"+(Mn-2*p)+","+Pn+p+"H"+Mn+"v"+Pn+(2*I+En.height)+"H-"+Mn+"V"+Pn+p+"Z")):cn>ce.width-Mn?(cn=ce.width-Mn,It.attr("d","M"+(Mn-p)+",0L"+Mn+","+Pn+p+"v"+Pn+(2*I+En.height)+"H-"+Mn+"V"+Pn+p+"H"+(Mn-2*p)+"Z")):It.attr("d","M0,0L"+p+","+Pn+p+"H"+Mn+"v"+Pn+(2*I+En.height)+"H-"+Mn+"V"+Pn+p+"H-"+p+"Z"),Je.minX=cn-Mn,Je.maxX=cn+Mn,"top"===Ee.side?(Je.minY=rn-(2*I+En.height),Je.maxY=rn-I):(Je.minY=rn+I,Je.maxY=rn+(2*I+En.height))}else{var en,gn,an;"right"===Se.side?(en="start",gn=1,an="",cn=Ee._offset+Ee._length):(en="end",gn=-1,an="-",cn=Ee._offset),rn=Se._offset+(ze.y0+ze.y1)/2,Wt.attr("text-anchor",en),It.attr("d","M0,0L"+an+p+","+p+"V"+(I+En.height/2)+"h"+an+(2*I+En.width)+"V-"+(I+En.height/2)+"H"+an+p+"V-"+p+"Z"),Je.minY=rn-(I+En.height/2),Je.maxY=rn+(I+En.height/2),"right"===Se.side?(Je.minX=cn+p,Je.maxX=cn+p+(2*I+En.width)):(Je.minX=cn-p-(2*I+En.width),Je.maxX=cn-p);var yn,kn=En.height/2,Ln=De-En.top-kn,Rn="clip"+ce._uid+"commonlabel"+Se._id;if(cn<En.width+2*I+p){yn="M-"+(p+I)+"-"+kn+"h-"+(En.width-I)+"V"+kn+"h"+(En.width-I)+"Z";var Wn=En.width-cn+I;i.positionText(Wt,Wn,Ln),"end"===en&&Wt.selectAll("tspan").each(function(){var Zn=D.select(this),mr=a.tester.append("text").text(Zn.text()).call(a.font,nn),lr=re(oe,mr.node());Math.round(lr.width)<Math.round(En.width)&&Zn.attr("x",Wn-lr.width),mr.remove()})}else i.positionText(Wt,gn*(I+p),Ln),yn=null;var Cn=ce._topclips.selectAll("#"+Rn).data(yn?[0]:[]);Cn.enter().append("clipPath").attr("id",Rn).append("path"),Cn.exit().remove(),Cn.select("path").attr("d",yn),a.setClipUrl(Wt,yn?Rn:null,oe)}Tt.attr("transform",M(cn,rn))}),g.isUnifiedHover(ue)){ke.selectAll("g.hovertext").remove();var et=Q.filter(function(Tt){return"none"!==Tt.hoverinfo});if(0===et.length)return[];var st=ce.hoverlabel,pt=st.font,St={font:pt};T({showlegend:!0,legend:{title:{text:le,font:pt},font:pt,bgcolor:st.bgcolor,bordercolor:st.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ce.legend?ce.legend.traceorder:void 0,orientation:"v"}},St,oe._fullData);var Dt=St.legend;Dt.entries=[];for(var vt=0;vt<et.length;vt++){var gt=et[vt];if("none"!==gt.hoverinfo){var Et=j(gt,!0,ue,ce,le),Pt=Et[0],Ot=Et[1];gt.name=Ot,gt.text=""!==Ot?Ot+" : "+Pt:Pt;var Ht=gt.cd[gt.index];Ht&&(Ht.mc&&(gt.mc=Ht.mc),Ht.mcc&&(gt.mc=Ht.mcc),Ht.mlc&&(gt.mlc=Ht.mlc),Ht.mlcc&&(gt.mlc=Ht.mlcc),Ht.mlw&&(gt.mlw=Ht.mlw),Ht.mrc&&(gt.mrc=Ht.mrc),Ht.dir&&(gt.dir=Ht.dir)),gt._distinct=!0,Dt.entries.push([gt])}}Dt.entries.sort(function(Tt,It){return Tt[0].trace.index-It[0].trace.index}),Dt.layer=ke,Dt._inHover=!0,Dt._groupTitleFont=st.grouptitlefont,x(oe,Dt);var zt,nt,it,Ke,rt=ke.select("g.legend"),ft=re(oe,rt.node()),ht=ft.width+2*I,Ve=ft.height+2*I,Ge=et[0],ut=(Ge.x0+Ge.x1)/2,dt=(Ge.y0+Ge.y1)/2,kt=!(f.traceIs(Ge.trace,"bar-like")||f.traceIs(Ge.trace,"box-violin"));"y"===me?kt?(nt=dt-I,zt=dt+I):(nt=Math.min.apply(null,et.map(function(Tt){return Math.min(Tt.y0,Tt.y1)})),zt=Math.max.apply(null,et.map(function(Tt){return Math.max(Tt.y0,Tt.y1)}))):nt=zt=S.mean(et.map(function(Tt){return(Tt.y0+Tt.y1)/2}))-Ve/2,"x"===me?kt?(it=ut+I,Ke=ut-I):(it=Math.max.apply(null,et.map(function(Tt){return Math.max(Tt.x0,Tt.x1)})),Ke=Math.min.apply(null,et.map(function(Tt){return Math.min(Tt.x0,Tt.x1)}))):it=Ke=S.mean(et.map(function(Tt){return(Tt.x0+Tt.x1)/2}))-ht/2;var bt,At,xt=Ee._offset,Rt=Se._offset;return Ke+=xt-ht,nt+=Rt-Ve,bt=(it+=xt)+ht<Ue&&it>=0?it:Ke+ht<Ue&&Ke>=0?Ke:xt+ht<Ue?xt:it-ut<ut-Ke+ht?Ue-ht:0,At=(zt+=Rt)+Ve<Ze&&zt>=0?zt:nt+Ve<Ze&&nt>=0?nt:Rt+Ve<Ze?Rt:zt-dt<dt-nt+Ve?Ze-Ve:0,rt.attr("transform",M((bt+=I)-1,(At+=I)-1)),rt}var _t=ke.selectAll("g.hovertext").data(Q,function(Tt){return O(Tt)});return _t.enter().append("g").classed("hovertext",!0).each(function(){var Tt=D.select(this);Tt.append("rect").call(o.fill,o.addOpacity(ve,.8)),Tt.append("text").classed("name",!0),Tt.append("path").style("stroke-width","1px"),Tt.append("text").classed("nums",!0).call(a.font,_e,we)}),_t.exit().remove(),_t.each(function(Tt){var It=D.select(this).attr("transform",""),Wt=Tt.color;Array.isArray(Wt)&&(Wt=Wt[Tt.eventData[0].pointNumber]);var Zt=Tt.bgcolor||Wt,$t=o.combine(o.opacity(Zt)?Zt:o.defaultLine,ve),dn=o.combine(o.opacity(Wt)?Wt:o.defaultLine,ve),nn=Tt.borderColor||o.contrast($t),cn=j(Tt,xe,ue,ce,le,It),rn=cn[0],En=cn[1],Pn=It.select("text.nums").call(a.font,Tt.fontFamily||_e,Tt.fontSize||we,Tt.fontColor||nn).text(rn).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,oe),Mn=It.select("text.name"),en=0,gn=0;if(En&&En!==rn){Mn.call(a.font,Tt.fontFamily||_e,Tt.fontSize||we,dn).text(En).attr("data-notex",1).call(i.positionText,0,0).call(i.convertToTspans,oe);var an=re(oe,Mn.node());en=an.width+2*I,gn=an.height+2*I}else Mn.remove(),It.select("rect").remove();It.select("path").style({fill:$t,stroke:nn});var yn=Tt.xa._offset+(Tt.x0+Tt.x1)/2,kn=Tt.ya._offset+(Tt.y0+Tt.y1)/2,Ln=Math.abs(Tt.x1-Tt.x0),Rn=Math.abs(Tt.y1-Tt.y0),Wn=re(oe,Pn.node()),Cn=Wn.width/ce._invScaleX,Zn=Wn.height/ce._invScaleY;Tt.ty0=(De-Wn.top)/ce._invScaleY,Tt.bx=Cn+2*I,Tt.by=Math.max(Zn+2*I,gn),Tt.anchor="start",Tt.txwidth=Cn,Tt.tx2width=en,Tt.offset=0;var mr,lr,er=(Cn+p+I+en)*ce._invScaleX;if(he)Tt.pos=yn,mr=kn+Rn/2+er<=Ze,lr=kn-Rn/2-er>=0,"top"!==Tt.idealAlign&&mr||!lr?mr?(kn+=Rn/2,Tt.anchor="start"):Tt.anchor="middle":(kn-=Rn/2,Tt.anchor="end"),Tt.crossPos=kn;else{if(Tt.pos=kn,mr=yn+Ln/2+er<=Ue,lr=yn-Ln/2-er>=0,"left"!==Tt.idealAlign&&mr||!lr)if(mr)yn+=Ln/2,Tt.anchor="start";else{Tt.anchor="middle";var xr=er/2,dr=yn+xr-Ue,jr=yn-xr;dr>0&&(yn-=dr),jr<0&&(yn+=-jr)}else yn-=Ln/2,Tt.anchor="end";Tt.crossPos=yn}Pn.attr("text-anchor",Tt.anchor),en&&Mn.attr("text-anchor",Tt.anchor),It.attr("transform",M(yn,kn)+(he?v(m):""))}),{hoverLabels:_t,commonLabelBoundingBox:Je}}function j(Q,ee,oe,ce,ue,he){var ve="",ke="";void 0!==Q.nameOverride&&(Q.name=Q.nameOverride),Q.name&&(Q.trace._meta&&(Q.name=S.templateString(Q.name,Q.trace._meta)),ve=Z(Q.name,Q.nameLength));var Ie=oe.charAt(0);void 0!==Q.zLabel?(void 0!==Q.xLabel&&(ke+="x: "+Q.xLabel+"<br>"),void 0!==Q.yLabel&&(ke+="y: "+Q.yLabel+"<br>"),"choropleth"!==Q.trace.type&&"choroplethmapbox"!==Q.trace.type&&(ke+=(ke?"z: ":"")+Q.zLabel)):ee&&Q[Ie+"Label"]===ue?ke=Q[("x"===Ie?"y":"x")+"Label"]||"":void 0===Q.xLabel?void 0!==Q.yLabel&&"scattercarpet"!==Q.trace.type&&(ke=Q.yLabel):ke=void 0===Q.yLabel?Q.xLabel:"("+Q.xLabel+", "+Q.yLabel+")",!Q.text&&0!==Q.text||Array.isArray(Q.text)||(ke+=(ke?"<br>":"")+Q.text),void 0!==Q.extraText&&(ke+=(ke?"<br>":"")+Q.extraText),he&&""===ke&&!Q.hovertemplate&&(""===ve&&he.remove(),ke=ve);var _e=Q.hovertemplate||!1;if(_e){var we=Q.hovertemplateLabels||Q;Q[Ie+"Label"]!==ue&&(we[Ie+"other"]=we[Ie+"Val"],we[Ie+"otherLabel"]=we[Ie+"Label"]),ke=(ke=S.hovertemplateString(_e,we,ce._d3locale,Q.eventData[0]||{},Q.trace._meta)).replace(P,function(ze,Ee){return ve=Z(Ee,Q.nameLength),""})}return[ke,ve]}function X(Q,ee){var oe=0,ce=Q.offset;return ee&&(ce*=-A,oe=Q.offset*w),{x:oe,y:ce}}function N(Q,ee,oe,ce){var ue=function(ve){return ve*oe},he=function(ve){return ve*ce};Q.each(function(ve){var ke=D.select(this);if(ve.del)return ke.remove();var Ie,Me,_e,we,ze=ke.select("text.nums"),Ee=ve.anchor,Se="end"===Ee?-1:1,me=(we=(_e=(Me={start:1,end:-1,middle:0}[(Ie=ve).anchor])*(p+I))+Me*(Ie.txwidth+I),"middle"===Ie.anchor&&(_e-=Ie.tx2width/2,we+=Ie.txwidth/2+I),{alignShift:Me,textShiftX:_e,text2ShiftX:we}),fe=X(ve,ee),le=fe.x,Te=fe.y,Re="middle"===Ee;ke.select("path").attr("d",Re?"M-"+ue(ve.bx/2+ve.tx2width/2)+","+he(Te-ve.by/2)+"h"+ue(ve.bx)+"v"+he(ve.by)+"h-"+ue(ve.bx)+"Z":"M0,0L"+ue(Se*p+le)+","+he(p+Te)+"v"+he(ve.by/2-p)+"h"+ue(Se*ve.bx)+"v-"+he(ve.by)+"H"+ue(Se*p+le)+"V"+he(Te-p)+"Z");var De=le+me.textShiftX,Ue=Te+ve.ty0-ve.by/2+I,Ze=ve.textAlign||"auto";"auto"!==Ze&&("left"===Ze&&"start"!==Ee?(ze.attr("text-anchor","start"),De=Re?-ve.bx/2-ve.tx2width/2+I:-ve.bx-I):"right"===Ze&&"end"!==Ee&&(ze.attr("text-anchor","end"),De=Re?ve.bx/2-ve.tx2width/2-I:ve.bx+I)),ze.call(i.positionText,ue(De),he(Ue)),ve.tx2width&&(ke.select("text.name").call(i.positionText,ue(me.text2ShiftX+me.alignShift*I+le),he(Te+ve.ty0-ve.by/2+I)),ke.select("rect").call(a.setRect,ue(me.text2ShiftX+(me.alignShift-1)*ve.tx2width/2+le),he(Te-ve.by/2-1),ue(ve.tx2width),he(ve.by+2)))})}function q(Q,ee){var oe=Q.index,ce=Q.trace||{},ue=Q.cd[0],he=Q.cd[oe]||{};function ve(ze){return ze||E(ze)&&0===ze}var ke=Array.isArray(oe)?function(ze,Ee){var Se=S.castOption(ue,oe,ze);return ve(Se)?Se:S.extractOption({},ce,"",Ee)}:function(ze,Ee){return S.extractOption(he,ce,ze,Ee)};function Ie(ze,Ee,Se){var me=ke(Ee,Se);ve(me)&&(Q[ze]=me)}if(Ie("hoverinfo","hi","hoverinfo"),Ie("bgcolor","hbg","hoverlabel.bgcolor"),Ie("borderColor","hbc","hoverlabel.bordercolor"),Ie("fontFamily","htf","hoverlabel.font.family"),Ie("fontSize","hts","hoverlabel.font.size"),Ie("fontColor","htc","hoverlabel.font.color"),Ie("nameLength","hnl","hoverlabel.namelength"),Ie("textAlign","hta","hoverlabel.align"),Q.posref="y"===ee||"closest"===ee&&"h"===ce.orientation?Q.xa._offset+(Q.x0+Q.x1)/2:Q.ya._offset+(Q.y0+Q.y1)/2,Q.x0=S.constrain(Q.x0,0,Q.xa._length),Q.x1=S.constrain(Q.x1,0,Q.xa._length),Q.y0=S.constrain(Q.y0,0,Q.ya._length),Q.y1=S.constrain(Q.y1,0,Q.ya._length),void 0!==Q.xLabelVal&&(Q.xLabel="xLabel"in Q?Q.xLabel:c.hoverLabelText(Q.xa,Q.xLabelVal,ce.xhoverformat),Q.xVal=Q.xa.c2d(Q.xLabelVal)),void 0!==Q.yLabelVal&&(Q.yLabel="yLabel"in Q?Q.yLabel:c.hoverLabelText(Q.ya,Q.yLabelVal,ce.yhoverformat),Q.yVal=Q.ya.c2d(Q.yLabelVal)),void 0!==Q.zLabelVal&&void 0===Q.zLabel&&(Q.zLabel=String(Q.zLabelVal)),!(isNaN(Q.xerr)||"log"===Q.xa.type&&Q.xerr<=0)){var Me=c.tickText(Q.xa,Q.xa.c2l(Q.xerr),"hover").text;Q.xLabel+=void 0!==Q.xerrneg?" +"+Me+" / -"+c.tickText(Q.xa,Q.xa.c2l(Q.xerrneg),"hover").text:" \xb1 "+Me,"x"===ee&&(Q.distance+=1)}if(!(isNaN(Q.yerr)||"log"===Q.ya.type&&Q.yerr<=0)){var _e=c.tickText(Q.ya,Q.ya.c2l(Q.yerr),"hover").text;Q.yLabel+=void 0!==Q.yerrneg?" +"+_e+" / -"+c.tickText(Q.ya,Q.ya.c2l(Q.yerrneg),"hover").text:" \xb1 "+_e,"y"===ee&&(Q.distance+=1)}var we=Q.hoverinfo||Q.trace.hoverinfo;return we&&"all"!==we&&(-1===(we=Array.isArray(we)?we:we.split("+")).indexOf("x")&&(Q.xLabel=void 0),-1===we.indexOf("y")&&(Q.yLabel=void 0),-1===we.indexOf("z")&&(Q.zLabel=void 0),-1===we.indexOf("text")&&(Q.text=void 0),-1===we.indexOf("name")&&(Q.name=void 0)),Q}function G(Q,ee,oe){var ce,ue,he=oe.container,ve=oe.fullLayout,ke=ve._size,Ie=oe.event,Me=!!ee.hLinePoint,_e=!!ee.vLinePoint;if(he.selectAll(".spikeline").remove(),_e||Me){var we=o.combine(ve.plot_bgcolor,ve.paper_bgcolor);if(Me){var ze,Ee,Se=ee.hLinePoint;ce=Se&&Se.xa,"cursor"===(ue=Se&&Se.ya).spikesnap?(ze=Ie.pointerX,Ee=Ie.pointerY):(ze=ce._offset+Se.x,Ee=ue._offset+Se.y);var me,fe,le=d.readability(Se.color,we)<1.5?o.contrast(we):Se.color,Te=ue.spikemode,Re=ue.spikethickness,De=ue.spikecolor||le,Ue=c.getPxPosition(Q,ue);if(-1!==Te.indexOf("toaxis")||-1!==Te.indexOf("across")){if(-1!==Te.indexOf("toaxis")&&(me=Ue,fe=ze),-1!==Te.indexOf("across")){var Ze=ue._counterDomainMin,xe=ue._counterDomainMax;"free"===ue.anchor&&(Ze=Math.min(Ze,ue.position),xe=Math.max(xe,ue.position)),me=ke.l+Ze*ke.w,fe=ke.l+xe*ke.w}he.insert("line",":first-child").attr({x1:me,x2:fe,y1:Ee,y2:Ee,"stroke-width":Re,stroke:De,"stroke-dasharray":a.dashStyle(ue.spikedash,Re)}).classed("spikeline",!0).classed("crisp",!0),he.insert("line",":first-child").attr({x1:me,x2:fe,y1:Ee,y2:Ee,"stroke-width":Re+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}-1!==Te.indexOf("marker")&&he.insert("circle",":first-child").attr({cx:Ue+("right"!==ue.side?Re:-Re),cy:Ee,r:Re,fill:De}).classed("spikeline",!0)}if(_e){var Oe,Ce,Be=ee.vLinePoint;ue=Be&&Be.ya,"cursor"===(ce=Be&&Be.xa).spikesnap?(Oe=Ie.pointerX,Ce=Ie.pointerY):(Oe=ce._offset+Be.x,Ce=ue._offset+Be.y);var qe,He,Je=d.readability(Be.color,we)<1.5?o.contrast(we):Be.color,et=ce.spikemode,st=ce.spikethickness,pt=ce.spikecolor||Je,ct=c.getPxPosition(Q,ce);if(-1!==et.indexOf("toaxis")||-1!==et.indexOf("across")){if(-1!==et.indexOf("toaxis")&&(qe=ct,He=Ce),-1!==et.indexOf("across")){var St=ce._counterDomainMin,Dt=ce._counterDomainMax;"free"===ce.anchor&&(St=Math.min(St,ce.position),Dt=Math.max(Dt,ce.position)),qe=ke.t+(1-Dt)*ke.h,He=ke.t+(1-St)*ke.h}he.insert("line",":first-child").attr({x1:Oe,x2:Oe,y1:qe,y2:He,"stroke-width":st,stroke:pt,"stroke-dasharray":a.dashStyle(ce.spikedash,st)}).classed("spikeline",!0).classed("crisp",!0),he.insert("line",":first-child").attr({x1:Oe,x2:Oe,y1:qe,y2:He,"stroke-width":st+2,stroke:we}).classed("spikeline",!0).classed("crisp",!0)}-1!==et.indexOf("marker")&&he.insert("circle",":first-child").attr({cx:Oe,cy:ct-("top"!==ce.side?st:-st),r:st,fill:pt}).classed("spikeline",!0)}}}function H(Q,ee){return!ee||ee.vLinePoint!==Q._spikepoints.vLinePoint||ee.hLinePoint!==Q._spikepoints.hLinePoint}function Z(Q,ee){return i.plainText(Q||"",{len:ee,allowedTags:["br","sub","sup","b","i","em"]})}function $(Q,ee,oe){var ce=ee[Q+"a"],ue=ee[Q+"Val"],he=ee.cd[0];if("category"===ce.type||"multicategory"===ce.type)ue=ce._categoriesMap[ue];else if("date"===ce.type){var ve=ee.trace[Q+"periodalignment"];if(ve){var ke=ee.cd[ee.index],Ie=ke[Q+"Start"];void 0===Ie&&(Ie=ke[Q]);var Me=ke[Q+"End"];void 0===Me&&(Me=ke[Q]);var _e=Me-Ie;"end"===ve?ue+=_e:"middle"===ve&&(ue+=_e/2)}ue=ce.d2c(ue)}return he&&he.t&&he.t.posLetter===ce._id&&("group"!==oe.boxmode&&"group"!==oe.violinmode||(ue+=he.t.dPos)),ue}function se(Q){return Q.offsetTop+Q.clientTop}function ne(Q){return Q.offsetLeft+Q.clientLeft}function re(Q,ee){var oe=Q._fullLayout,ce=ee.getBoundingClientRect(),ue=ce.left,he=ce.top,ve=ue+ce.width,ke=he+ce.height,Ie=S.apply3DTransform(oe._invTransform)(ue,he),Me=S.apply3DTransform(oe._invTransform)(ve,ke),_e=Ie[0],we=Ie[1],ze=Me[0],Ee=Me[1];return{x:_e,y:we,width:ze-_e,height:Ee-we,top:Math.min(we,Ee),left:Math.min(_e,ze),right:Math.max(_e,ze),bottom:Math.max(we,Ee)}}},38048:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(23469).isUnifiedHover;ae.exports=function(S,M,v,u){u=u||{};var i=M.legend;function s(a){u.font[a]||(u.font[a]=i?M.legend.font[a]:M.font[a])}M&&d(M.hovermode)&&(u.font||(u.font={}),s("size"),s("family"),s("color"),i?(u.bgcolor||(u.bgcolor=E.combine(M.legend.bgcolor,M.paper_bgcolor)),u.bordercolor||(u.bordercolor=M.legend.bordercolor)):u.bgcolor||(u.bgcolor=M.paper_bgcolor)),v("hoverlabel.bgcolor",u.bgcolor),v("hoverlabel.bordercolor",u.bordercolor),v("hoverlabel.namelength",u.namelength),D.coerceFont(v,"hoverlabel.font",u.font),v("hoverlabel.align",u.align)}},98212:function(ae,B,r){"use strict";var D=r(71828),E=r(528);ae.exports=function(d,S){function M(v,u){return void 0!==S[v]?S[v]:D.coerce(d,S,E,v,u)}return M("clickmode"),M("hovermode")}},30211:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(28569),S=r(23469),M=r(528),v=r(88335);ae.exports={moduleType:"component",name:"fx",constants:r(26675),schema:{layout:M},attributes:r(77914),layoutAttributes:M,supplyLayoutGlobalDefaults:r(22774),supplyDefaults:r(54268),supplyLayoutDefaults:r(34938),calc:r(30732),getDistanceFunction:S.getDistanceFunction,getClosest:S.getClosest,inbox:S.inbox,quadrature:S.quadrature,appendArrayPointValue:S.appendArrayPointValue,castHoverOption:function(u,i,s){return E.castOption(u,i,"hoverlabel."+s)},castHoverinfo:function(u,i,s){return E.castOption(u,s,"hoverinfo",function(a){return E.coerceHoverinfo({hoverinfo:a},{_module:u._module},i)})},hover:v.hover,unhover:d.unhover,loneHover:v.loneHover,loneUnhover:function(u){var i=E.isD3Selection(u)?u:D.select(u);i.selectAll("g.hovertext").remove(),i.selectAll(".spikeline").remove()},click:r(75914)}},528:function(ae,B,r){"use strict";var D=r(26675),E=r(41940),d=E({editType:"none"});d.family.dflt=D.HOVERFONT,d.size.dflt=D.HOVERFONTSIZE,ae.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:d,grouptitlefont:E({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(ae,B,r){"use strict";var D=r(71828),E=r(528),d=r(98212),S=r(38048);ae.exports=function(M,v){function u(o,l){return D.coerce(M,v,E,o,l)}d(M,v)&&(u("hoverdistance"),u("spikedistance")),"select"===u("dragmode")&&u("selectdirection");var i=v._has("mapbox"),s=v._has("geo"),a=v._basePlotModules.length;"zoom"===v.dragmode&&((i||s)&&1===a||i&&s&&2===a)&&(v.dragmode="pan"),S(M,v,u),D.coerceFont(u,"hoverlabel.grouptitlefont",v.hoverlabel.font)}},22774:function(ae,B,r){"use strict";var D=r(71828),E=r(38048),d=r(528);ae.exports=function(S,M){E(S,M,function(v,u){return D.coerce(S,M,d,v,u)})}},83312:function(ae,B,r){"use strict";var D=r(71828),E=r(30587).counter,d=r(27670).Y,S=r(85555).idRegex,M=r(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[E("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[S.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:d({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function u(a,o,l){var c=o[l+"axes"],f=Object.keys((a._splomAxes||{})[l]||{});return Array.isArray(c)?c:f.length?f:void 0}function i(a,o,l,c,f,g){var h=o(a+"gap",l),T=o("domain."+a);o(a+"side",c);for(var x=new Array(f),m=T[0],b=(T[1]-m)/(f-h),_=b*(1-h),w=0;w<f;w++){var A=m+b*w;x[g?f-1-w:w]=[A,A+_]}return x}function s(a,o,l,c,f){var g,h=new Array(l);function T(x,m){-1!==o.indexOf(m)&&void 0===c[m]?(h[x]=m,c[m]=x):h[x]=""}if(Array.isArray(a))for(g=0;g<l;g++)T(g,a[g]);else for(T(0,f),g=1;g<l;g++)T(g,f+(g+1));return h}ae.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:function(a,o){var l=a.grid||{},c=u(o,l,"x"),f=u(o,l,"y");if(a.grid||c||f){var g,h,T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),x=Array.isArray(c),m=Array.isArray(f),b=x&&c!==l.xaxes&&m&&f!==l.yaxes;T?(g=l.subplots.length,h=l.subplots[0].length):(m&&(g=f.length),x&&(h=c.length));var _=M.newContainer(o,"grid"),w=P("rows",g),A=P("columns",h);if(w*A>1){T||x||m||"independent"===P("pattern")&&(T=!0),_._hasSubplotGrid=T;var p,I,k="top to bottom"===P("roworder"),O=T?.3:.1;b&&o._splomGridDflt&&(p=o._splomGridDflt.xside,I=o._splomGridDflt.yside),_._domains={x:i("x",P,T?.2:.1,p,A),y:i("y",P,O,I,w,k)}}else delete o.grid}function P(F,j){return D.coerce(l,_,v,F,j)}},contentDefaults:function(a,o){var l=o.grid;if(l&&l._domains){var c,f,g,h,T,x,m,b=a.grid||{},_=o._subplots,w=l._hasSubplotGrid,A=l.rows,p=l.columns,I="independent"===l.pattern,k=l._axisMap={};if(w){var L=b.subplots||[];x=l.subplots=new Array(A);var O=1;for(c=0;c<A;c++){var P=x[c]=new Array(p),F=L[c]||[];for(f=0;f<p;f++)if(I?(T=1===O?"xy":"x"+O+"y"+O,O++):T=F[f],P[f]="",-1!==_.cartesian.indexOf(T)){if(m=T.indexOf("y"),g=T.slice(0,m),h=T.slice(m),void 0!==k[g]&&k[g]!==f||void 0!==k[h]&&k[h]!==c)continue;P[f]=T,k[g]=f,k[h]=c}}}else{var j=u(o,b,"x"),X=u(o,b,"y");l.xaxes=s(j,_.xaxis,p,k,"x"),l.yaxes=s(X,_.yaxis,A,k,"y")}var N=l._anchors={},q="top to bottom"===l.roworder;for(var G in k){var H,Z,$,se=G.charAt(0),ne=l[se+"side"];if(ne.length<8)N[G]="free";else if("x"===se){if("t"===ne.charAt(0)===q?(H=0,Z=1,$=A):(H=A-1,Z=-1,$=-1),w){var re=k[G];for(c=H;c!==$;c+=Z)if((T=x[c][re])&&(m=T.indexOf("y"),T.slice(0,m)===G)){N[G]=T.slice(m);break}}else for(c=H;c!==$;c+=Z)if(-1!==_.cartesian.indexOf(G+(h=l.yaxes[c]))){N[G]=h;break}}else if("l"===ne.charAt(0)?(H=0,Z=1,$=p):(H=p-1,Z=-1,$=-1),w){var Q=k[G];for(c=H;c!==$;c+=Z)if((T=x[Q][c])&&(m=T.indexOf("y"),T.slice(m)===G)){N[G]=T.slice(0,m);break}}else for(c=H;c!==$;c+=Z)if(-1!==_.cartesian.indexOf((g=l.xaxes[c])+G)){N[G]=g;break}}}}}},69819:function(ae,B,r){"use strict";var D=r(85555),E=r(44467).templatedArray;r(24695),ae.exports=E("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",D.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",D.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(ae,B,r){"use strict";var D=r(92770),E=r(58163);ae.exports=function(d,S,M,v){S=S||{};var u="log"===M&&"linear"===S.type;if(u||"linear"===M&&"log"===S.type)for(var s,a,o=d._fullLayout.images,l=S._id.charAt(0),c=0;c<o.length;c++)if(a="images["+c+"].",(s=o[c])[l+"ref"]===S._id){var f=s[l],g=s["size"+l],h=null,T=null;if(u){h=E(f,S.range);var x=g/Math.pow(10,h)/2;T=2*Math.log(x+Math.sqrt(1+x*x))/Math.LN10}else T=(h=Math.pow(10,f))*(Math.pow(10,g/2)-Math.pow(10,-g/2));D(h)?D(T)||(T=null):(h=null,T=null),v(a+l,h),v(a+"size"+l,T)}}},81603:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(85501),S=r(69819);function M(v,u,i){function s(h,T){return D.coerce(v,u,S,h,T)}var a=s("source");if(!s("visible",!!a))return u;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var o={_fullLayout:i},l=["x","y"],c=0;c<2;c++){var f=l[c],g=E.coerceRef(v,u,o,f,"paper",void 0);"paper"!==g&&E.getFromId(o,g)._imgIndices.push(u._index),E.coercePosition(u,o,s,g,f,0)}return u}ae.exports=function(v,u){d(v,u,{name:"images",handleItemDefaults:M})}},80750:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(89298),S=r(41675),M=r(77922);ae.exports=function(v){var u,i,s=v._fullLayout,a=[],o={},l=[];for(i=0;i<s.images.length;i++){var c=s.images[i];if(c.visible)if("below"===c.layer&&"paper"!==c.xref&&"paper"!==c.yref){u=S.ref2id(c.xref)+S.ref2id(c.yref);var f=s._plots[u];if(!f){l.push(c);continue}f.mainplot&&(u=f.mainplot.id),o[u]||(o[u]=[]),o[u].push(c)}else"above"===c.layer?a.push(c):l.push(c)}var g={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},h={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function T(p){var I=D.select(this);if(this._imgSrc!==p.source)if(I.attr("xmlns",M.svg),p.source&&"data:"===p.source.slice(0,5))I.attr("xlink:href",p.source),this._imgSrc=p.source;else{var k=new Promise(function(L){var O=new Image;function P(){I.remove(),L()}this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=P,O.onload=function(){var F=document.createElement("canvas");F.width=this.width,F.height=this.height,F.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var j=F.toDataURL("image/png");I.attr("xlink:href",j),L()},I.on("error",P),O.src=p.source,this._imgSrc=p.source}.bind(this));v._promises.push(k)}}function x(p){var I,k,L=D.select(this),O=d.getFromId(v,p.xref),P=d.getFromId(v,p.yref),F="domain"===d.getRefType(p.xref),j="domain"===d.getRefType(p.yref),X=s._size;I=void 0!==O?"string"==typeof p.xref&&F?O._length*p.sizex:Math.abs(O.l2p(p.sizex)-O.l2p(0)):p.sizex*X.w,k=void 0!==P?"string"==typeof p.yref&&j?P._length*p.sizey:Math.abs(P.l2p(p.sizey)-P.l2p(0)):p.sizey*X.h;var N,q,G=I*g[p.xanchor].offset,H=k*h[p.yanchor].offset,Z=g[p.xanchor].sizing+h[p.yanchor].sizing;switch(N=void 0!==O?"string"==typeof p.xref&&F?O._length*p.x+O._offset:O.r2p(p.x)+O._offset:p.x*X.w+X.l,N+=G,q=void 0!==P?"string"==typeof p.yref&&j?P._length*(1-p.y)+P._offset:P.r2p(p.y)+P._offset:X.h-p.y*X.h+X.t,q+=H,p.sizing){case"fill":Z+=" slice";break;case"stretch":Z="none"}L.attr({x:N,y:q,width:I,height:k,preserveAspectRatio:Z,opacity:p.opacity});var $=(O&&"domain"!==d.getRefType(p.xref)?O._id:"")+(P&&"domain"!==d.getRefType(p.yref)?P._id:"");E.setClipUrl(L,$?"clip"+s._uid+$:null,v)}var m=s._imageLowerLayer.selectAll("image").data(l),b=s._imageUpperLayer.selectAll("image").data(a);m.enter().append("image"),b.enter().append("image"),m.exit().remove(),b.exit().remove(),m.each(function(p){T.bind(this)(p),x.bind(this)(p)}),b.each(function(p){T.bind(this)(p),x.bind(this)(p)});var _=Object.keys(s._plots);for(i=0;i<_.length;i++){var w=s._plots[u=_[i]];if(w.imagelayer){var A=w.imagelayer.selectAll("image").data(o[u]||[]);A.enter().append("image"),A.exit().remove(),A.each(function(p){T.bind(this)(p),x.bind(this)(p)})}}}},68804:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"images",layoutAttributes:r(69819),supplyLayoutDefaults:r(81603),includeBasePlot:r(76325)("images"),draw:r(80750),convertCoords:r(75378)}},33030:function(ae,B,r){"use strict";var D=r(41940),E=r(22399);ae.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:D({editType:"legend"}),grouptitlefont:D({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:D({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(ae){"use strict";ae.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(44467),S=r(9012),M=r(33030),v=r(10820),u=r(10130);function i(s,a,o,l){var c=a[s]||{},f=d.newContainer(o,s);function g(Z,$){return E.coerce(c,f,M,Z,$)}var h=E.coerceFont(g,"font",o.font);if(g("bgcolor",o.paper_bgcolor),g("bordercolor"),g("visible")){for(var T,x=function(Z,$){return E.coerce(T._input,T,S,Z,$)},m=o.font||{},b=E.coerceFont(g,"grouptitlefont",E.extendFlat({},m,{size:Math.round(1.1*m.size)})),_=0,w=!1,A="normal",p=(o.shapes||[]).filter(function(Z){return Z.showlegend}),I=l.concat(p).filter(function(Z){return s===(Z.legend||"legend")}),k=0;k<I.length;k++)if((T=I[k]).visible){var L=T._isShape;(T.showlegend||T._dfltShowLegend&&!(T._module&&T._module.attributes&&T._module.attributes.showlegend&&!1===T._module.attributes.showlegend.dflt))&&(_++,T.showlegend&&(w=!0,(!L&&D.traceIs(T,"pie-like")||!0===T._input.showlegend)&&_++),E.coerceFont(x,"legendgrouptitle.font",b)),(!L&&D.traceIs(T,"bar")&&"stack"===o.barmode||-1!==["tonextx","tonexty"].indexOf(T.fill))&&(A=u.isGrouped({traceorder:A})?"grouped+reversed":"reversed"),void 0!==T.legendgroup&&""!==T.legendgroup&&(A=u.isReversed({traceorder:A})?"reversed+grouped":"grouped")}var O=E.coerce(a,o,v,"showlegend",w&&_>("legend"===s?1:0));if(!1===O&&(o[s]=void 0),(!1!==O||c.uirevision)&&(g("uirevision",o.uirevision),!1!==O)){g("borderwidth");var P,F,j,X="h"===g("orientation"),N="paper"===g("yref"),q="paper"===g("xref"),G="left";if(X?(P=0,D.getComponentMethod("rangeslider","isVisible")(a.xaxis)?N?(F=1.1,j="bottom"):(F=1,j="top"):N?(F=-.1,j="top"):(F=0,j="bottom")):(F=1,j="auto",q?P=1.02:(P=1,G="right")),E.coerce(c,f,{x:{valType:"number",editType:"legend",min:q?-2:0,max:q?3:1,dflt:P}},"x"),E.coerce(c,f,{y:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:F}},"y"),g("traceorder",A),u.isGrouped(o[s])&&g("tracegroupgap"),g("entrywidth"),g("entrywidthmode"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("xanchor",G),g("yanchor",j),g("valign"),E.noneOrAll(c,f,["x","y"]),g("title.text")){g("title.side",X?"left":"top");var H=E.extendFlat({},h,{size:E.bigFont(h.size)});E.coerceFont(g,"title.font",H)}}}}ae.exports=function(s,a,o){var l,c=o.slice(),f=a.shapes;if(f)for(l=0;l<f.length;l++){var g=f[l];g.showlegend&&c.push({_input:g._input,visible:g.visible,showlegend:g.showlegend,legend:g.legend})}var T=["legend"];for(l=0;l<c.length;l++)E.pushUnique(T,c[l].legend);for(a._legends=[],l=0;l<T.length;l++){var x=T[l];i(x,s,a,c),a[x]&&a[x].visible&&(a[x]._id=x),a._legends.push(x)}}},43969:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(74875),S=r(73972),M=r(11086),v=r(28569),u=r(91424),i=r(7901),s=r(63893),a=r(85167),o=r(14928),l=r(18783),c=l.LINE_SPACING,f=l.FROM_TL,g=l.FROM_BR,h=r(82424),T=r(53630),x=r(10130),m=1,b=/^legend[0-9]*$/;function _(j,X){var N,q,G=X||{},H=j._fullLayout,Z=F(G),$=G._inHover;if($?(q=G.layer,N="hover"):(q=H._infolayer,N=Z),q){var se;if(N+=H._uid,j._legendMouseDownTime||(j._legendMouseDownTime=0),$){if(!G.entries)return;se=h(G.entries,G)}else{for(var ne=(j.calcdata||[]).slice(),re=H.shapes,Q=0;Q<re.length;Q++){var ee=re[Q];ee.showlegend&&ne.push([{trace:{_isShape:!0,_fullInput:ee,index:ee._index,name:ee.name||ee.label.text||"shape "+ee._index,legend:ee.legend,legendgroup:ee.legendgroup,legendgrouptitle:ee.legendgrouptitle,legendrank:ee.legendrank,legendwidth:ee.legendwidth,showlegend:ee.showlegend,visible:ee.visible,opacity:ee.opacity,mode:"line"===ee.type?"lines":"markers",line:ee.line,marker:{line:ee.line,color:ee.fillcolor,size:12,symbol:"rect"===ee.type?"square":"circle"===ee.type?"circle":"hexagon2"}}}])}se=H.showlegend&&h(ne,G,H._legends.length>1)}var ce=H.hiddenlabels||[];if(!($||H.showlegend&&se.length))return q.selectAll("."+Z).remove(),H._topdefs.select("#"+N).remove(),d.autoMargin(j,Z);var ue=E.ensureSingle(q,"g",Z,function(Ee){$||Ee.attr("pointer-events","all")}),he=E.ensureSingleById(H._topdefs,"clipPath",N,function(Ee){Ee.append("rect")}),ve=E.ensureSingle(ue,"rect","bg",function(Ee){Ee.attr("shape-rendering","crispEdges")});ve.call(i.stroke,G.bordercolor).call(i.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px");var ke=E.ensureSingle(ue,"g","scrollbox"),Ie=G.title;if(G._titleWidth=0,G._titleHeight=0,Ie.text){var Me=E.ensureSingle(ke,"text",Z+"titletext");Me.attr("text-anchor","start").call(u.font,Ie.font).text(Ie.text),L(Me,ke,j,G,m)}else ke.selectAll("."+Z+"titletext").remove();var _e=E.ensureSingle(ue,"rect","scrollbar",function(Ee){Ee.attr(o.scrollBarEnterAttrs).call(i.fill,o.scrollBarColor)}),we=ke.selectAll("g.groups").data(se);we.enter().append("g").attr("class","groups"),we.exit().remove();var ze=we.selectAll("g.traces").data(E.identity);ze.enter().append("g").attr("class","traces"),ze.exit().remove(),ze.style("opacity",function(Ee){var Se=Ee[0].trace;return S.traceIs(Se,"pie-like")?-1!==ce.indexOf(Ee[0].label)?.5:1:"legendonly"===Se.visible?.5:1}).each(function(){D.select(this).call(p,j,G)}).call(T,j,G).each(function(){$||D.select(this).call(k,j,Z)}),E.syncOrAsync([d.previousPromises,function(){return function(Ee,Se,me,fe){var le=Ee._fullLayout,Te=F(fe);fe||(fe=le[Te]);var Re=le._size,De=x.isVertical(fe),Ue=x.isGrouped(fe),Ze="fraction"===fe.entrywidthmode,xe=fe.borderwidth,Oe=2*xe,Ce=o.itemGap,Be=fe.itemwidth+2*Ce,qe=2*(xe+Ce),He=P(fe),Je=fe.y<0||0===fe.y&&"top"===He,et=fe.y>1||1===fe.y&&"bottom"===He,st=fe.tracegroupgap,pt={};fe._maxHeight=Math.max(Je||et?le.height/2:Re.h,30);var ct=0;fe._width=0,fe._height=0;var bt,At,xt,Rt,St=(At=0,xt=0,(Rt=(bt=fe).title.side)&&(-1!==Rt.indexOf("left")&&(At=bt._titleWidth),-1!==Rt.indexOf("top")&&(xt=bt._titleHeight)),[At,xt]);if(De)me.each(function(bt){var At=bt[0].height;u.setTranslate(this,xe+St[0],xe+St[1]+fe._height+At/2+Ce),fe._height+=At,fe._width=Math.max(fe._width,bt[0].width)}),ct=Be+fe._width,fe._width+=Ce+Be+Oe,fe._height+=qe,Ue&&(Se.each(function(bt,At){u.setTranslate(this,0,At*fe.tracegroupgap)}),fe._height+=(fe._lgroupsLength-1)*fe.tracegroupgap);else{var Dt=O(fe),Et=et||Je,Pt=le.width/2;fe._maxWidth=Math.max(fe.x<0||0===fe.x&&"right"===Dt?Et&&"left"===Dt?Re.l+Re.w:Pt:fe.x>1||1===fe.x&&"left"===Dt?Et&&"right"===Dt?Re.r+Re.w:Pt:Re.w,2*Be);var Ot=0,Ht=0;me.each(function(bt){var At=w(bt,fe,Be);Ot=Math.max(Ot,At),Ht+=At}),ct=null;var zt=0;if(Ue){var nt=0,it=0,Ke=0;Se.each(function(){var bt=0,At=0;D.select(this).selectAll("g.traces").each(function(Rt){var _t=w(Rt,fe,Be),Tt=Rt[0].height;u.setTranslate(this,St[0],St[1]+xe+Ce+Tt/2+At),At+=Tt,bt=Math.max(bt,_t),pt[Rt[0].trace.legendgroup]=bt});var xt=bt+Ce;it>0&&xt+xe+it>fe._maxWidth?(zt=Math.max(zt,it),it=0,Ke+=nt+st,nt=At):nt=Math.max(nt,At),u.setTranslate(this,it,Ke),it+=xt}),fe._width=Math.max(zt,it)+xe,fe._height=Ke+nt+qe}else{var rt=me.size(),ft=Ht+Oe+(rt-1)*Ce<fe._maxWidth,ht=0,Ve=0,Ge=0,ut=0;me.each(function(bt){var At=bt[0].height,xt=w(bt,fe,Be),Rt=ft?xt:Ot;Ze||(Rt+=Ce),Rt+xe+Ve-Ce>=fe._maxWidth&&(zt=Math.max(zt,ut),Ve=0,Ge+=ht,fe._height+=ht,ht=0),u.setTranslate(this,St[0]+xe+Ve,St[1]+xe+Ge+At/2+Ce),ut=Ve+xt+Ce,Ve+=Rt,ht=Math.max(ht,At)}),ft?(fe._width=Ve+Oe,fe._height=ht+qe):(fe._width=Math.max(zt,ut)+Oe,fe._height+=ht+qe)}}fe._width=Math.ceil(Math.max(fe._width+St[0],fe._titleWidth+2*(xe+o.titlePad))),fe._height=Math.ceil(Math.max(fe._height+St[1],fe._titleHeight+2*(xe+o.itemGap))),fe._effHeight=Math.min(fe._height,fe._maxHeight);var dt=Ee._context.edits,kt=dt.legendText||dt.legendPosition;me.each(function(bt){var At=D.select(this).select("."+Te+"toggle"),xt=bt[0].height,Rt=bt[0].trace.legendgroup,_t=w(bt,fe,Be);Ue&&""!==Rt&&(_t=pt[Rt]);var Tt=kt?Be:ct||_t;De||Ze||(Tt+=Ce/2),u.setRect(At,0,-xt/2,Tt,xt)})}(j,we,ze,G)},function(){var Ee,Se,me,fe,le=H._size,Te=G.borderwidth,Re="paper"===G.xref,De="paper"===G.yref;if(!$){var Ue,Ze;if(Ue=Re?le.l+le.w*G.x-f[O(G)]*G._width:H.width*G.x-f[O(G)]*G._width,Ze=De?le.t+le.h*(1-G.y)-f[P(G)]*G._effHeight:H.height*(1-G.y)-f[P(G)]*G._effHeight,function(Et,Pt,Ot,Ht){var zt=Et._fullLayout,nt=zt[Pt],it=O(nt),Ke=P(nt),rt="paper"===nt.xref,ft="paper"===nt.yref;Et._fullLayout._reservedMargin[Pt]={};var ht=nt.y<.5?"b":"t",Ve=nt.x<.5?"l":"r",Ge={r:zt.width-Ot,l:Ot+nt._width,b:zt.height-Ht,t:Ht+nt._effHeight};if(rt&&ft)return d.autoMargin(Et,Pt,{x:nt.x,y:nt.y,l:nt._width*f[it],r:nt._width*g[it],b:nt._effHeight*g[Ke],t:nt._effHeight*f[Ke]});rt?Et._fullLayout._reservedMargin[Pt][ht]=Ge[ht]:ft||"v"===nt.orientation?Et._fullLayout._reservedMargin[Pt][Ve]=Ge[Ve]:Et._fullLayout._reservedMargin[Pt][ht]=Ge[ht]}(j,Z,Ue,Ze))return;if(H.margin.autoexpand){var Oe=Ue,Ce=Ze;Ue=Re?E.constrain(Ue,0,H.width-G._width):Oe,Ze=De?E.constrain(Ze,0,H.height-G._effHeight):Ce,Ue!==Oe&&E.log("Constrain "+Z+".x to make legend fit inside graph"),Ze!==Ce&&E.log("Constrain "+Z+".y to make legend fit inside graph")}u.setTranslate(ue,Ue,Ze)}if(_e.on(".drag",null),ue.on("wheel",null),$||G._height<=G._maxHeight||j._context.staticPlot){var Be=G._effHeight;$&&(Be=G._height),ve.attr({width:G._width-Te,height:Be-Te,x:Te/2,y:Te/2}),u.setTranslate(ke,0,0),he.select("rect").attr({width:G._width-2*Te,height:Be-2*Te,x:Te,y:Te}),u.setClipUrl(ke,N,j),u.setRect(_e,0,0,0,0),delete G._scrollY}else{var qe,Je,et=Math.max(o.scrollBarMinHeight,G._effHeight*G._effHeight/G._height),st=G._effHeight-et-2*o.scrollBarMargin,pt=G._height-G._effHeight,ct=st/pt,St=Math.min(G._scrollY||0,pt);ve.attr({width:G._width-2*Te+o.scrollBarWidth+o.scrollBarMargin,height:G._effHeight-Te,x:Te/2,y:Te/2}),he.select("rect").attr({width:G._width-2*Te+o.scrollBarWidth+o.scrollBarMargin,height:G._effHeight-2*Te,x:Te,y:Te+St}),u.setClipUrl(ke,N,j),gt(St,et,ct),ue.on("wheel",function(){gt(St=E.constrain(G._scrollY+D.event.deltaY/st*pt,0,pt),et,ct),0!==St&&St!==pt&&D.event.preventDefault()});var Dt=D.behavior.drag().on("dragstart",function(){var Et=D.event.sourceEvent;qe="touchstart"===Et.type?Et.changedTouches[0].clientY:Et.clientY,Je=St}).on("drag",function(){var Et=D.event.sourceEvent;2===Et.buttons||Et.ctrlKey||gt(St=E.constrain((("touchmove"===Et.type?Et.changedTouches[0].clientY:Et.clientY)-qe)/ct+Je,0,pt),et,ct)});_e.call(Dt);var vt=D.behavior.drag().on("dragstart",function(){var Et=D.event.sourceEvent;"touchstart"===Et.type&&(qe=Et.changedTouches[0].clientY,Je=St)}).on("drag",function(){var Et=D.event.sourceEvent;"touchmove"===Et.type&&gt(St=E.constrain((qe-Et.changedTouches[0].clientY)/ct+Je,0,pt),et,ct)});ke.call(vt)}function gt(Et,Pt,Ot){G._scrollY=j._fullLayout[Z]._scrollY=Et,u.setTranslate(ke,0,-Et),u.setRect(_e,G._width,o.scrollBarMargin+Et*Ot,o.scrollBarWidth,Pt),he.select("rect").attr("y",Te+Et)}j._context.edits.legendPosition&&(ue.classed("cursor-move",!0),v.init({element:ue.node(),gd:j,prepFn:function(){var Et=u.getTranslate(ue);me=Et.x,fe=Et.y},moveFn:function(Et,Pt){var Ot=me+Et,Ht=fe+Pt;u.setTranslate(ue,Ot,Ht),Ee=v.align(Ot,G._width,le.l,le.l+le.w,G.xanchor),Se=v.align(Ht+G._height,-G._height,le.t+le.h,le.t,G.yanchor)},doneFn:function(){if(void 0!==Ee&&void 0!==Se){var Et={};Et[Z+".x"]=Ee,Et[Z+".y"]=Se,S.call("_guiRelayout",j,Et)}},clickFn:function(Et,Pt){var Ot=q.selectAll("g.traces").filter(function(){var Ht=this.getBoundingClientRect();return Pt.clientX>=Ht.left&&Pt.clientX<=Ht.right&&Pt.clientY>=Ht.top&&Pt.clientY<=Ht.bottom});Ot.size()>0&&A(j,ue,Ot,Et,Pt)}}))}],j)}}function w(j,X,N){var q=j[0],Z=q.trace.legendwidth||X.entrywidth;return"fraction"===X.entrywidthmode?X._maxWidth*Z:N+(Z||q.width)}function A(j,X,N,q,G){var H=N.data()[0][0].trace,Z={event:G,node:N.node(),curveNumber:H.index,expandedIndex:H._expandedIndex,data:j.data,layout:j.layout,frames:j._transitionData._frames,config:j._context,fullData:j._fullData,fullLayout:j._fullLayout};H._group&&(Z.group=H._group),S.traceIs(H,"pie-like")&&(Z.label=N.datum()[0].label),!1!==M.triggerHandler(j,"plotly_legendclick",Z)&&(1===q?X._clickTimeout=setTimeout(function(){j._fullLayout&&a(N,j,q)},j._context.doubleClickDelay):2===q&&(X._clickTimeout&&clearTimeout(X._clickTimeout),j._legendMouseDownTime=0,!1!==M.triggerHandler(j,"plotly_legenddoubleclick",Z)&&a(N,j,q)))}function p(j,X,N){var q,G,H=F(N),Z=j.data()[0][0],$=Z.trace,se=S.traceIs($,"pie-like"),ne=!N._inHover&&X._context.edits.legendText&&!se,re=N._maxNameLength;Z.groupTitle?(q=Z.groupTitle.text,G=Z.groupTitle.font):(G=N.font,N.entries?q=Z.text:(q=se?Z.label:$.name,$._meta&&(q=E.templateString(q,$._meta))));var Q=E.ensureSingle(j,"text",H+"text");Q.attr("text-anchor","start").call(u.font,G).text(ne?I(q,re):q),s.positionText(Q,N.itemwidth+2*o.itemGap,0),ne?Q.call(s.makeEditable,{gd:X,text:q}).call(L,j,X,N).on("edit",function(oe){this.text(I(oe,re)).call(L,j,X,N);var ce=Z.trace._fullInput||{},ue={};if(S.hasTransform(ce,"groupby")){var he=S.getTransformIndices(ce,"groupby"),ke=E.keyedContainer(ce,"transforms["+he[he.length-1]+"].styles","target","value.name");ke.set(Z.trace._group,oe),ue=ke.constructUpdate()}else ue.name=oe;return ce._isShape?S.call("_guiRelayout",X,"shapes["+$.index+"].name",ue.name):S.call("_guiRestyle",X,ue,$.index)}):L(Q,j,X,N)}function I(j,X){var N=Math.max(4,X);if(j&&j.trim().length>=N/2)return j;for(var q=N-(j=j||"").length;q>0;q--)j+=" ";return j}function k(j,X,N){var q,G=X._context.doubleClickDelay,H=1,Z=E.ensureSingle(j,"rect",N+"toggle",function($){X._context.staticPlot||$.style("cursor","pointer").attr("pointer-events","all"),$.call(i.fill,"rgba(0,0,0,0)")});X._context.staticPlot||(Z.on("mousedown",function(){(q=(new Date).getTime())-X._legendMouseDownTime<G?H+=1:(H=1,X._legendMouseDownTime=q)}),Z.on("mouseup",function(){if(!X._dragged&&!X._editing){var $=X._fullLayout[N];(new Date).getTime()-X._legendMouseDownTime>G&&(H=Math.max(H-1,1)),A(X,$,j,H,D.event)}}))}function L(j,X,N,q,G){q._inHover&&j.attr("data-notex",!0),s.convertToTspans(j,N,function(){!function(H,Z,$,se){var ne=H.data()[0][0];if($._inHover||!ne||ne.trace.showlegend){var re=H.select("g[class*=math-group]"),Q=re.node(),ee=F($);$||($=Z._fullLayout[ee]);var oe,ce,ue=$.borderwidth,he=(se===m?$.title.font:ne.groupTitle?ne.groupTitle.font:$.font).size*c;if(Q){var ve=u.bBox(Q);oe=ve.height,ce=ve.width,se===m?u.setTranslate(re,ue,ue+.75*oe):u.setTranslate(re,0,.25*oe)}else{var Ie=H.select("."+ee+(se===m?"title":"")+"text"),Me=s.lineCount(Ie),_e=Ie.node();if(oe=he*Me,ce=_e?u.bBox(_e).width:0,se===m){var we=0;"left"===$.title.side?ce+=2*o.itemGap:"top center"===$.title.side?$._width&&(we=.5*($._width-2*ue-2*o.titlePad-ce)):"top right"===$.title.side&&$._width&&(we=$._width-2*ue-2*o.titlePad-ce),s.positionText(Ie,ue+o.titlePad+we,ue+he)}else{var ze=2*o.itemGap+$.itemwidth;ne.groupTitle&&(ze=o.itemGap,ce-=$.itemwidth),s.positionText(Ie,ze,-he*((Me-1)/2-.3))}}se===m?($._titleWidth=ce,$._titleHeight=oe):(ne.lineHeight=he,ne.height=Math.max(oe,16)+3,ne.width=ce)}else H.remove()}(X,N,q,G)})}function O(j){return E.isRightAnchor(j)?"right":E.isCenterAnchor(j)?"center":"left"}function P(j){return E.isBottomAnchor(j)?"bottom":E.isMiddleAnchor(j)?"middle":"top"}function F(j){return j._id||"legend"}ae.exports=function(j,X){if(X)_(j,X);else{var N=j._fullLayout,q=N._legends;N._infolayer.selectAll('[class^="legend"]').each(function(){var Z=D.select(this),$=Z.attr("class").split(" ")[0];$.match(b)&&-1===q.indexOf($)&&Z.remove()});for(var G=0;G<q.length;G++)_(j,j._fullLayout[q[G]])}}},82424:function(ae,B,r){"use strict";var D=r(73972),E=r(10130);ae.exports=function(d,S,M){var v,u,i=S._inHover,s=E.isGrouped(S),a=E.isReversed(S),o={},l=[],c=!1,f={},g=0,h=0;function T(q,G,H){if(!1!==S.visible&&(!M||q===S._id))if(""!==G&&E.isGrouped(S))-1===l.indexOf(G)?(l.push(G),c=!0,o[G]=[H]):o[G].push(H);else{var Z="~~i"+g;l.push(Z),o[Z]=[H],g++}}for(v=0;v<d.length;v++){var x=d[v],m=x[0],b=m.trace,_=b.legend,w=b.legendgroup;if(i||b.visible&&b.showlegend)if(D.traceIs(b,"pie-like"))for(f[w]||(f[w]={}),u=0;u<x.length;u++){var A=x[u].label;f[w][A]||(T(_,w,{label:A,color:x[u].color,i:x[u].i,trace:b,pts:x[u].pts}),f[w][A]=!0,h=Math.max(h,(A||"").length))}else T(_,w,m),h=Math.max(h,(b.name||"").length)}if(!l.length)return[];var p=!c||!s,I=[];for(v=0;v<l.length;v++){var k=o[l[v]];I.push(p?k[0]:k)}for(p&&(I=[I]),v=0;v<I.length;v++){var L=1/0;for(u=0;u<I[v].length;u++){var O=I[v][u].trace.legendrank;L>O&&(L=O)}I[v][0]._groupMinRank=L,I[v][0]._preGroupSort=v}var P=function(q,G){return q.trace.legendrank-G.trace.legendrank||q._preSort-G._preSort};for(I.forEach(function(q,G){q[0]._preGroupSort=G}),I.sort(function(q,G){return q[0]._groupMinRank-G[0]._groupMinRank||q[0]._preGroupSort-G[0]._preGroupSort}),v=0;v<I.length;v++){I[v].forEach(function(q,G){q._preSort=G}),I[v].sort(P);var F=I[v][0].trace,j=null;for(u=0;u<I[v].length;u++){var X=I[v][u].trace.legendgrouptitle;if(X&&X.text){j=X,i&&(X.font=S._groupTitleFont);break}}if(a&&I[v].reverse(),j){var N=!1;for(u=0;u<I[v].length;u++)if(D.traceIs(I[v][u].trace,"pie-like")){N=!0;break}I[v].unshift({i:-1,groupTitle:j,noClick:N,trace:{showlegend:F.showlegend,legendgroup:F.legendgroup,visible:"toggleitem"===S.groupclick||F.visible}})}for(u=0;u<I[v].length;u++)I[v][u]=[I[v][u]]}return S._lgroupsLength=I.length,S._maxNameLength=h,I}},85167:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=E.pushUnique,S=!0;ae.exports=function(M,v,u){var i=v._fullLayout;if(!v._dragged&&!v._editing){var s,a=i.legend.itemclick,o=i.legend.itemdoubleclick,l=i.legend.groupclick;if(1===u&&"toggle"===a&&"toggleothers"===o&&S&&v.data&&v._context.showTips&&E.notifier(E._(v,"Double-click on legend to isolate one trace"),"long"),S=!1,1===u?s=a:2===u&&(s=o),s){var c="togglegroup"===l,f=i.hiddenlabels?i.hiddenlabels.slice():[],g=M.data()[0][0];if(!g.groupTitle||!g.noClick){var h=v._fullData,T=(i.shapes||[]).filter(function(Se){return Se.showlegend}),x=h.concat(T),m=g.trace;m._isShape&&(m=m._fullInput);var b,_,w,A,p,I=m.legendgroup,k={},L=[],O=[],P=[],F=(i.shapes||[]).map(function(Se){return Se._input}),j=!1,X=m.legend,N=m._fullInput;if(N&&N._isShape||!D.traceIs(m,"pie-like")){var q,G=I&&I.length,H=[];if(G)for(b=0;b<x.length;b++)(q=x[b]).visible&&q.legendgroup===I&&H.push(b);if("toggle"===s){var Z;switch(m.visible){case!0:Z="legendonly";break;case!1:Z=!1;break;case"legendonly":Z=!0}if(G)if(c)for(b=0;b<x.length;b++){var $=x[b];!1!==$.visible&&$.legendgroup===I&&Ee($,Z)}else Ee(m,Z);else Ee(m,Z)}else if("toggleothers"===s){var se,ne,Q,ee=!0;for(b=0;b<x.length;b++)if(se=(Q=x[b])===m,ne=!0!==Q.showlegend,!(se||ne||G&&Q.legendgroup===I||Q.legend!==X||!0!==Q.visible||D.traceIs(Q,"notLegendIsolatable"))){ee=!1;break}for(b=0;b<x.length;b++)if(!1!==(Q=x[b]).visible&&Q.legend===X&&!D.traceIs(Q,"notLegendIsolatable"))switch(m.visible){case"legendonly":Ee(Q,!0);break;case!0:ne=!0!==Q.showlegend&&!Q.legendgroup,Ee(Q,!!((se=Q===m)||G&&Q.legendgroup===I||ne)||!!ee||"legendonly")}}for(b=0;b<O.length;b++)if(w=O[b]){var oe=w.constructUpdate(),ce=Object.keys(oe);for(_=0;_<ce.length;_++)(k[A=ce[_]]=k[A]||[])[P[b]]=oe[A]}for(p=Object.keys(k),b=0;b<p.length;b++)for(A=p[b],_=0;_<L.length;_++)k[A].hasOwnProperty(_)||(k[A][_]=void 0);j?D.call("_guiUpdate",v,k,{shapes:F},L):D.call("_guiRestyle",v,k,L)}else{var ue=g.label,he=f.indexOf(ue);if("toggle"===s)-1===he?f.push(ue):f.splice(he,1);else if("toggleothers"===s){var ve=-1!==he,ke=[];for(b=0;b<v.calcdata.length;b++){var Ie=v.calcdata[b];for(_=0;_<Ie.length;_++){var Me=Ie[_].label;X===Ie[0].trace.legend&&ue!==Me&&(-1===f.indexOf(Me)&&(ve=!0),d(f,Me),ke.push(Me))}}if(!ve)for(var _e=0;_e<ke.length;_e++){var we=f.indexOf(ke[_e]);-1!==we&&f.splice(we,1)}}D.call("_guiRelayout",v,"hiddenlabels",f)}}}}function ze(Se,me){var fe=L.indexOf(Se),le=k.visible;return le||(le=k.visible=[]),-1===L.indexOf(Se)&&(L.push(Se),fe=L.length-1),le[fe]=me,fe}function Ee(Se,me){if(!g.groupTitle||c){var le=Se._fullInput||Se,Te=le._isShape,Re=le.index;if(void 0===Re&&(Re=le._index),D.hasTransform(le,"groupby")){var De=O[Re];if(!De){var Ue=D.getTransformIndices(le,"groupby");De=E.keyedContainer(le,"transforms["+Ue[Ue.length-1]+"].styles","target","value.visible"),O[Re]=De}var xe=De.get(Se._group);void 0===xe&&(xe=!0),!1!==xe&&De.set(Se._group,me),P[Re]=ze(Re,!1!==le.visible)}else{var Oe=!1!==le.visible&&me;Te?(F[Re].visible=Oe,j=!0):ze(Re,Oe)}}}}},10130:function(ae,B){"use strict";B.isGrouped=function(r){return-1!==(r.traceorder||"").indexOf("grouped")},B.isVertical=function(r){return"h"!==r.orientation},B.isReversed=function(r){return-1!==(r.traceorder||"").indexOf("reversed")}},2199:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"legend",layoutAttributes:r(33030),supplyLayoutDefaults:r(99017),draw:r(43969),style:r(53630)}},53630:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(71828),S=d.strTranslate,M=r(91424),v=r(7901),u=r(52075).extractOpts,i=r(34098),s=r(63463),a=r(53581).castOption,o=r(14928);function l(g,h){return(h?"radial":"horizontal")+(g?"":"reversed")}function c(g){var h=g[0].trace,T=h.contours,x=i.hasLines(h),m=i.hasMarkers(h),b=h.visible&&h.fill&&"none"!==h.fill,_=!1,w=!1;if(T){var A=T.coloring;"lines"===A?_=!0:x="none"===A||"heatmap"===A||T.showlines,"constraint"===T.type?b="="!==T._operation:"fill"!==A&&"heatmap"!==A||(w=!0)}return{showMarker:m,showLine:x,showFill:b,showGradientLine:_,showGradientFill:w,anyLine:x||_,anyFill:b||w}}function f(g,h,T){return g&&d.isArrayOrTypedArray(g)?h:g>T?T:g}ae.exports=function(g,h,T){T||(T=h._fullLayout.legend);var m="constant"===T.itemsizing,b=T.itemwidth,w=S((b+2*o.itemGap)/2,0),A=function(k,L,O,P){var F;if(k+1)F=k;else{if(!(L&&L.width>0))return 0;F=L.width}return m?P:Math.min(F,O)};function p(k,L,O){var P=k[0].trace,F=P.marker||{},j=F.line||{},X=O?P.visible&&P.type===O:E.traceIs(P,"bar"),N=D.select(L).select("g.legendpoints").selectAll("path.legend"+O).data(X?[k]:[]);N.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",w),N.exit().remove(),N.each(function(q){var G=D.select(this),H=q[0],Z=A(H.mlw,F.line,5,2);G.style("stroke-width",Z+"px");var $=H.mcc;if(!T._inHover&&"mc"in H){var se=u(F),ne=se.mid;void 0===ne&&(ne=(se.max+se.min)/2),$=M.tryColorscale(F,"")(ne)}var re=$||H.mc||F.color,Q=F.pattern,ee=Q&&M.getPatternAttr(Q.shape,0,"");if(ee){var oe=M.getPatternAttr(Q.bgcolor,0,null),ce=M.getPatternAttr(Q.fgcolor,0,null),ue=Q.fgopacity,he=f(Q.size,8,10),ve=f(Q.solidity,.5,1);G.call(M.pattern,"legend",h,"legend-"+P.uid,ee,he,ve,$,Q.fillmode,oe,ce,ue)}else G.call(v.fill,re);Z&&v.stroke(G,H.mlc||j.color)})}function I(k,L,O){var P=k[0],F=P.trace,j=O?F.visible&&F.type===O:E.traceIs(F,O),X=D.select(L).select("g.legendpoints").selectAll("path.legend"+O).data(j?[k]:[]);if(X.enter().append("path").classed("legend"+O,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",w),X.exit().remove(),X.size()){var N=F.marker||{},q=A(a(N.line.width,P.pts),N.line,5,2),G="pieLike",H=d.minExtend(F,{marker:{line:{width:q}}},G),Z=d.minExtend(P,{trace:H},G);s(X,Z,H,h)}}g.each(function(k){var L=D.select(this),O=d.ensureSingle(L,"g","layers");O.style("opacity",k[0].trace.opacity);var P=T.valign,F=k[0].lineHeight,j=k[0].height;O.attr("transform","middle"!==P&&F&&j?S(0,{top:1,bottom:-1}[P]*(.5*(F-j+3))):null),O.selectAll("g.legendfill").data([k]).enter().append("g").classed("legendfill",!0),O.selectAll("g.legendlines").data([k]).enter().append("g").classed("legendlines",!0);var N=O.selectAll("g.legendsymbols").data([k]);N.enter().append("g").classed("legendsymbols",!0),N.selectAll("g.legendpoints").data([k]).enter().append("g").classed("legendpoints",!0)}).each(function(k){var L,O=k[0].trace,P=[];if(O.visible)switch(O.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],L=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],L=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],L="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],L=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],L=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],L=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],L=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],L=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],L=!1}var F=D.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);F.enter().append("path").classed("legend3dandfriends",!0).attr("transform",w).style("stroke-miterlimit",1),F.exit().remove(),F.each(function(j,X){var N,q=D.select(this),G=u(O),H=G.colorscale,Z=G.reversescale;if(H){if(!L){var $=H.length;N=0===X?H[Z?$-1:0][1]:1===X?H[Z?0:$-1][1]:H[Math.floor(($-1)/2)][1]}}else{var se=O.vertexcolor||O.facecolor||O.color;N=d.isArrayOrTypedArray(se)?se[X]||se[0]:se}q.attr("d",j[0]),N?q.call(v.fill,N):q.call(function(ne){ne.size()&&M.gradient(ne,h,"legendfill-"+O.uid,l(Z,"radial"===L),H,"fill")})})}).each(function(k){var L=k[0].trace,O="waterfall"===L.type;if(k[0]._distinct&&O){var P=k[0].trace[k[0].dir].marker;return k[0].mc=P.color,k[0].mlw=P.line.width,k[0].mlc=P.line.color,p(k,this,"waterfall")}var F=[];L.visible&&O&&(F=k[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var j=D.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(F);j.enter().append("path").classed("legendwaterfall",!0).attr("transform",w).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(X){var N=D.select(this),q=L[X[0]].marker,G=A(void 0,q.line,5,2);N.attr("d",X[1]).style("stroke-width",G+"px").call(v.fill,q.color),G&&N.call(v.stroke,q.line.color)})}).each(function(k){p(k,this,"funnel")}).each(function(k){p(k,this)}).each(function(k){var L=k[0].trace,O=D.select(this).select("g.legendpoints").selectAll("path.legendbox").data(L.visible&&E.traceIs(L,"box-violin")?[k]:[]);O.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",w),O.exit().remove(),O.each(function(){var P=D.select(this);if("all"!==L.boxpoints&&"all"!==L.points||0!==v.opacity(L.fillcolor)||0!==v.opacity((L.line||{}).color)){var F=A(void 0,L.line,5,2);P.style("stroke-width",F+"px").call(v.fill,L.fillcolor),F&&v.stroke(P,L.line.color)}else{var j=d.minExtend(L,{marker:{size:m?12:d.constrain(L.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});O.call(M.pointStyle,j,h)}})}).each(function(k){I(k,this,"funnelarea")}).each(function(k){I(k,this,"pie")}).each(function(k){var L,O,P=c(k),F=P.showFill,j=P.showLine,X=P.showGradientLine,N=P.showGradientFill,q=P.anyFill,G=P.anyLine,H=k[0],Z=H.trace,$=u(Z),se=$.colorscale,ne=$.reversescale,re=i.hasMarkers(Z)||!q?"M5,0":G?"M5,-2":"M5,-3",Q=D.select(this),ee=Q.select(".legendfill").selectAll("path").data(F||N?[k]:[]);if(ee.enter().append("path").classed("js-fill",!0),ee.exit().remove(),ee.attr("d",re+"h"+b+"v6h-"+b+"z").call(function(ue){ue.size()&&(F?M.fillGroupStyle(ue,h):M.gradient(ue,h,"legendfill-"+Z.uid,l(ne),se,"fill"))}),j||X){var oe=A(void 0,Z.line,10,5);O=d.minExtend(Z,{line:{width:oe}}),L=[d.minExtend(H,{trace:O})]}var ce=Q.select(".legendlines").selectAll("path").data(j||X?[L]:[]);ce.enter().append("path").classed("js-line",!0),ce.exit().remove(),ce.attr("d",re+(X?"l"+b+",0.0001":"h"+b)).call(j?M.lineGroupStyle:function(ue){if(ue.size()){var he="legendline-"+Z.uid;M.lineGroupStyle(ue),M.gradient(ue,h,he,l(ne),se,"stroke")}})}).each(function(k){var L,O,P=c(k),X=P.showLine,N=P.showMarker,q=k[0],G=q.trace,H=!N&&!P.anyLine&&!P.anyFill&&i.hasText(G);function Z(ce,ue,he,ve){var ke=d.nestedProperty(G,ce).get(),Ie=d.isArrayOrTypedArray(ke)&&ue?ue(ke):ke;if(m&&Ie&&void 0!==ve&&(Ie=ve),he){if(Ie<he[0])return he[0];if(Ie>he[1])return he[1]}return Ie}function $(ce){return q._distinct&&q.index&&ce[q.index]?ce[q.index]:ce[0]}if(N||H||X){var se={},ne={};if(N){se.mc=Z("marker.color",$),se.mx=Z("marker.symbol",$),se.mo=Z("marker.opacity",d.mean,[.2,1]),se.mlc=Z("marker.line.color",$),se.mlw=Z("marker.line.width",d.mean,[0,5],2),ne.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var re=Z("marker.size",d.mean,[2,16],12);se.ms=re,ne.marker.size=re}X&&(ne.line={width:Z("line.width",$,[0,10],5)}),H&&(se.tx="Aa",se.tp=Z("textposition",$),se.ts=10,se.tc=Z("textfont.color",$),se.tf=Z("textfont.family",$)),L=[d.minExtend(q,se)],(O=d.minExtend(G,ne)).selectedpoints=null,O.texttemplate=null}var Q=D.select(this).select("g.legendpoints"),ee=Q.selectAll("path.scatterpts").data(N?L:[]);ee.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",w),ee.exit().remove(),ee.call(M.pointStyle,O,h),N&&(L[0].mrc=3);var oe=Q.selectAll("g.pointtext").data(H?L:[]);oe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",w),oe.exit().remove(),oe.selectAll("text").call(M.textPointStyle,O,h)}).each(function(k){var L=k[0].trace,O=D.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(L.visible&&"candlestick"===L.type?[k,k]:[]);O.enter().append("path").classed("legendcandle",!0).attr("d",function(P,F){return F?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",w).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(P,F){var j=D.select(this),X=L[F?"increasing":"decreasing"],N=A(void 0,X.line,5,2);j.style("stroke-width",N+"px").call(v.fill,X.fillcolor),N&&v.stroke(j,X.line.color)})}).each(function(k){var L=k[0].trace,O=D.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(L.visible&&"ohlc"===L.type?[k,k]:[]);O.enter().append("path").classed("legendohlc",!0).attr("d",function(P,F){return F?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",w).style("stroke-miterlimit",1),O.exit().remove(),O.each(function(P,F){var j=D.select(this),X=L[F?"increasing":"decreasing"],N=A(void 0,X.line,5,2);j.style("fill","none").call(M.dashLine,X.line.dash,N),N&&v.stroke(j,X.line.color)})})}},42068:function(ae,B,r){"use strict";r(93348),ae.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(ae,B,r){"use strict";var D=r(73972),E=r(74875),d=r(41675),S=r(24255),M=r(34031).eraseActiveShape,v=r(71828),u=v._,i=ae.exports={};function s(x,m){var b,_,w=m.currentTarget,A=w.getAttribute("data-attr"),p=w.getAttribute("data-val")||!0,I=x._fullLayout,k={},L=d.list(x,null,!0),O=I._cartesianSpikesEnabled;if("zoom"===A){var P,F="in"===p?.5:2,j=(1+F)/2,X=(1-F)/2;for(_=0;_<L.length;_++)if(!(b=L[_]).fixedrange)if(P=b._name,"auto"===p)k[P+".autorange"]=!0;else if("reset"===p)void 0===b._rangeInitial0&&void 0===b._rangeInitial1?k[P+".autorange"]=!0:void 0===b._rangeInitial0?(k[P+".autorange"]=b._autorangeInitial,k[P+".range"]=[null,b._rangeInitial1]):void 0===b._rangeInitial1?(k[P+".range"]=[b._rangeInitial0,null],k[P+".autorange"]=b._autorangeInitial):k[P+".range"]=[b._rangeInitial0,b._rangeInitial1],void 0!==b._showSpikeInitial&&(k[P+".showspikes"]=b._showSpikeInitial,"on"!==O||b._showSpikeInitial||(O="off"));else{var N=[b.r2l(b.range[0]),b.r2l(b.range[1])],q=[j*N[0]+X*N[1],j*N[1]+X*N[0]];k[P+".range[0]"]=b.l2r(q[0]),k[P+".range[1]"]=b.l2r(q[1])}}else"hovermode"!==A||"x"!==p&&"y"!==p||w.setAttribute("data-val",p=I._isHoriz?"y":"x"),k[A]=p;I._cartesianSpikesEnabled=O,D.call("_guiRelayout",x,k)}function a(x,m){for(var b=m.currentTarget,_=b.getAttribute("data-attr"),w=b.getAttribute("data-val")||!0,A=x._fullLayout._subplots.gl3d||[],p={},I=_.split("."),k=0;k<A.length;k++)p[A[k]+"."+I[1]]=w;p.dragmode="pan"===w?w:"zoom",D.call("_guiRelayout",x,p)}function o(x,m){for(var b=m.currentTarget.getAttribute("data-attr"),_="resetLastSave"===b,w="resetDefault"===b,A=x._fullLayout,p=A._subplots.gl3d||[],I={},k=0;k<p.length;k++){var L,O=p[k],P=O+".camera",F=O+".aspectratio",j=O+".aspectmode",X=A[O]._scene;_?(I[P+".up"]=X.viewInitial.up,I[P+".eye"]=X.viewInitial.eye,I[P+".center"]=X.viewInitial.center,L=!0):w&&(I[P+".up"]=null,I[P+".eye"]=null,I[P+".center"]=null,L=!0),L&&(I[F+".x"]=X.viewInitial.aspectratio.x,I[F+".y"]=X.viewInitial.aspectratio.y,I[F+".z"]=X.viewInitial.aspectratio.z,I[j]=X.viewInitial.aspectmode)}D.call("_guiRelayout",x,I)}function l(x,m){var b=m.currentTarget,_=b._previousVal,w=x._fullLayout,A=w._subplots.gl3d||[],p=["xaxis","yaxis","zaxis"],I={},k={};if(_)k=_,b._previousVal=null;else{for(var L=0;L<A.length;L++){var O=A[L],P=w[O],F=O+".hovermode";I[F]=P.hovermode,k[F]=!1;for(var j=0;j<3;j++){var X=p[j],N=O+"."+X+".showspikes";k[N]=!1,I[N]=P[X].showspikes}}b._previousVal=I}return k}function c(x,m){for(var b=m.currentTarget,_=b.getAttribute("data-attr"),w=b.getAttribute("data-val")||!0,A=x._fullLayout,p=A._subplots.geo||[],I=0;I<p.length;I++){var k=p[I];if("zoom"===_){var O=A[k].projection.scale;D.call("_guiRelayout",x,k+".projection.scale","in"===w?2*O:.5*O)}}"reset"===_&&T(x,"geo")}function f(x){var m=x._fullLayout;return!m.hovermode&&(m._has("cartesian")?m._isHoriz?"y":"x":"closest")}function g(x){var m=f(x);D.call("_guiRelayout",x,"hovermode",m)}function h(x,m){for(var b=m.currentTarget.getAttribute("data-val"),_=x._fullLayout,w=_._subplots.mapbox||[],A={},p=0;p<w.length;p++){var I=w[p],k=_[I].zoom;A[I+".zoom"]="in"===b?1.05*k:k/1.05}D.call("_guiRelayout",x,A)}function T(x,m){for(var b=x._fullLayout,_=b._subplots[m]||[],w={},A=0;A<_.length;A++)for(var p=_[A],I=b[p]._subplot.viewInitial,k=Object.keys(I),L=0;L<k.length;L++){var O=k[L];w[p+"."+O]=I[O]}D.call("_guiRelayout",x,w)}i.toImage={name:"toImage",title:function(x){return u(x,"png"===((x._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:S.camera,click:function(x){var m=x._context.toImageButtonOptions,b={format:m.format||"png"};v.notifier(u(x,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==b.format&&v.isIE()&&(v.notifier(u(x,"IE only supports svg.  Changing format to svg."),"long"),b.format="svg"),["filename","width","height","scale"].forEach(function(_){_ in m&&(b[_]=m[_])}),D.call("downloadImage",x,b).then(function(_){v.notifier(u(x,"Snapshot succeeded")+" - "+_,"long")}).catch(function(){v.notifier(u(x,"Sorry, there was a problem downloading your snapshot!"),"long")})}},i.sendDataToCloud={name:"sendDataToCloud",title:function(x){return u(x,"Edit in Chart Studio")},icon:S.disk,click:function(x){E.sendDataToCloud(x)}},i.editInChartStudio={name:"editInChartStudio",title:function(x){return u(x,"Edit in Chart Studio")},icon:S.pencil,click:function(x){E.sendDataToCloud(x)}},i.zoom2d={name:"zoom2d",_cat:"zoom",title:function(x){return u(x,"Zoom")},attr:"dragmode",val:"zoom",icon:S.zoombox,click:s},i.pan2d={name:"pan2d",_cat:"pan",title:function(x){return u(x,"Pan")},attr:"dragmode",val:"pan",icon:S.pan,click:s},i.select2d={name:"select2d",_cat:"select",title:function(x){return u(x,"Box Select")},attr:"dragmode",val:"select",icon:S.selectbox,click:s},i.lasso2d={name:"lasso2d",_cat:"lasso",title:function(x){return u(x,"Lasso Select")},attr:"dragmode",val:"lasso",icon:S.lasso,click:s},i.drawclosedpath={name:"drawclosedpath",title:function(x){return u(x,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:S.drawclosedpath,click:s},i.drawopenpath={name:"drawopenpath",title:function(x){return u(x,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:S.drawopenpath,click:s},i.drawline={name:"drawline",title:function(x){return u(x,"Draw line")},attr:"dragmode",val:"drawline",icon:S.drawline,click:s},i.drawrect={name:"drawrect",title:function(x){return u(x,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:S.drawrect,click:s},i.drawcircle={name:"drawcircle",title:function(x){return u(x,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:S.drawcircle,click:s},i.eraseshape={name:"eraseshape",title:function(x){return u(x,"Erase active shape")},icon:S.eraseshape,click:M},i.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(x){return u(x,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:s},i.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(x){return u(x,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:s},i.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(x){return u(x,"Autoscale")},attr:"zoom",val:"auto",icon:S.autoscale,click:s},i.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(x){return u(x,"Reset axes")},attr:"zoom",val:"reset",icon:S.home,click:s},i.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(x){return u(x,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:s},i.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(x){return u(x,"Compare data on hover")},attr:"hovermode",val:function(x){return x._fullLayout._isHoriz?"y":"x"},icon:S.tooltip_compare,gravity:"ne",click:s},i.zoom3d={name:"zoom3d",_cat:"zoom",title:function(x){return u(x,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:S.zoombox,click:a},i.pan3d={name:"pan3d",_cat:"pan",title:function(x){return u(x,"Pan")},attr:"scene.dragmode",val:"pan",icon:S.pan,click:a},i.orbitRotation={name:"orbitRotation",title:function(x){return u(x,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:S["3d_rotate"],click:a},i.tableRotation={name:"tableRotation",title:function(x){return u(x,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:S["z-axis"],click:a},i.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(x){return u(x,"Reset camera to default")},attr:"resetDefault",icon:S.home,click:o},i.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(x){return u(x,"Reset camera to last save")},attr:"resetLastSave",icon:S.movie,click:o},i.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(x){return u(x,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(x,m){var b=l(x,m);D.call("_guiRelayout",x,b)}},i.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(x){return u(x,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:c},i.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(x){return u(x,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:c},i.resetGeo={name:"resetGeo",_cat:"reset",title:function(x){return u(x,"Reset")},attr:"reset",val:null,icon:S.autoscale,click:c},i.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(x){return u(x,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:g},i.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(x){return u(x,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:g},i.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(x){return u(x,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:S.tooltip_basic,gravity:"ne",click:g},i.resetViewSankey={name:"resetSankeyGroup",title:function(x){return u(x,"Reset view")},icon:S.home,click:function(x){for(var m={"node.groups":[],"node.x":[],"node.y":[]},b=0;b<x._fullData.length;b++){var _=x._fullData[b]._viewInitial;m["node.groups"].push(_.node.groups.slice()),m["node.x"].push(_.node.x.slice()),m["node.y"].push(_.node.y.slice())}D.call("restyle",x,m)}},i.toggleHover={name:"toggleHover",title:function(x){return u(x,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:S.tooltip_basic,gravity:"ne",click:function(x,m){var b=l(x,m);b.hovermode=f(x),D.call("_guiRelayout",x,b)}},i.resetViews={name:"resetViews",title:function(x){return u(x,"Reset views")},icon:S.home,click:function(x,m){var b=m.currentTarget;b.setAttribute("data-attr","zoom"),b.setAttribute("data-val","reset"),s(x,m),b.setAttribute("data-attr","resetLastSave"),o(x,m),T(x,"geo"),T(x,"mapbox")}},i.toggleSpikelines={name:"toggleSpikelines",title:function(x){return u(x,"Toggle Spike Lines")},icon:S.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(x){var m=x._fullLayout;m._cartesianSpikesEnabled="on"===m._cartesianSpikesEnabled?"off":"on",D.call("_guiRelayout",x,function(_){for(var w="on"===_._fullLayout._cartesianSpikesEnabled,A=d.list(_,null,!0),p={},I=0;I<A.length;I++){var k=A[I];p[k._name+".showspikes"]=!!w||k._showSpikeInitial}return p}(x))}},i.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(x){return u(x,"Reset view")},attr:"reset",icon:S.home,click:function(x){T(x,"mapbox")}},i.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(x){return u(x,"Zoom in")},attr:"zoom",val:"in",icon:S.zoom_plus,click:h},i.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(x){return u(x,"Zoom out")},attr:"zoom",val:"out",icon:S.zoom_minus,click:h}},93348:function(ae,B,r){"use strict";var D=r(26023),E=Object.keys(D),d=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],S=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(d),M=[];E.forEach(function(v){!function(u){if(-1===S.indexOf(u._cat||u.name)){var i=u.name,s=(u._cat||u.name).toLowerCase();-1===M.indexOf(i)&&M.push(i),-1===M.indexOf(s)&&M.push(s)}}(D[v])}),M.sort(),ae.exports={DRAW_MODES:d,backButtons:S,foreButtons:M}},35750:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(44467),S=r(42068);ae.exports=function(M,v){var u=M.modebar||{},i=d.newContainer(v,"modebar");function s(o,l){return D.coerce(u,i,S,o,l)}s("orientation"),s("bgcolor",E.addOpacity(v.paper_bgcolor,.5));var a=E.contrast(E.rgb(v.modebar.bgcolor));s("color",E.addOpacity(a,.3)),s("activecolor",E.addOpacity(a,.7)),s("uirevision",v.uirevision),s("add"),s("remove")}},64168:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"modebar",layoutAttributes:r(42068),supplyLayoutDefaults:r(35750),manage:r(14192)}},14192:function(ae,B,r){"use strict";var D=r(41675),E=r(34098),d=r(73972),S=r(23469).isUnifiedHover,M=r(37676),v=r(26023),u=r(93348).DRAW_MODES,i=r(71828).extendDeep;ae.exports=function(s){var a=s._fullLayout,o=s._context,l=a._modeBar;if(o.displayModeBar||o.watermark){if(!Array.isArray(o.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(o.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var c,f=o.modeBarButtons;c=Array.isArray(f)&&f.length?function(g){for(var h=i([],g),T=0;T<h.length;T++)for(var x=h[T],m=0;m<x.length;m++){var b=x[m];if("string"==typeof b){if(void 0===v[b])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));h[T][m]=v[b]}}return h}(f):!o.displayModeBar&&o.watermark?[]:function(g){var h=g._fullLayout,T=g._fullData,x=g._context;function m(ke,Ie){if("string"==typeof Ie){if(Ie.toLowerCase()===ke.toLowerCase())return!0}else if(Ie.name===ke||(Ie._cat||Ie.name)===ke.toLowerCase())return!0;return!1}var b=h.modebar.add;"string"==typeof b&&(b=[b]);var _=h.modebar.remove;"string"==typeof _&&(_=[_]);var w=x.modeBarButtonsToAdd.concat(b.filter(function(ke){for(var Ie=0;Ie<x.modeBarButtonsToRemove.length;Ie++)if(m(ke,x.modeBarButtonsToRemove[Ie]))return!1;return!0})),A=x.modeBarButtonsToRemove.concat(_.filter(function(ke){for(var Ie=0;Ie<x.modeBarButtonsToAdd.length;Ie++)if(m(ke,x.modeBarButtonsToAdd[Ie]))return!1;return!0})),p=h._has("cartesian"),I=h._has("gl3d"),k=h._has("geo"),L=h._has("pie"),O=h._has("funnelarea"),P=h._has("gl2d"),F=h._has("ternary"),j=h._has("mapbox"),X=h._has("polar"),N=h._has("smith"),q=h._has("sankey"),G=function(ke){for(var Ie=D.list({_fullLayout:ke},null,!0),Me=0;Me<Ie.length;Me++)if(!Ie[Me].fixedrange)return!1;return!0}(h),H=S(h.hovermode),Z=[];function $(ke){if(ke.length){for(var Ie=[],Me=0;Me<ke.length;Me++){for(var _e=ke[Me],we=v[_e],ze=we.name.toLowerCase(),Ee=(we._cat||we.name).toLowerCase(),Se=!1,me=0;me<A.length;me++){var fe=A[me].toLowerCase();if(fe===ze||fe===Ee){Se=!0;break}}Se||Ie.push(v[_e])}Z.push(Ie)}}var se=["toImage"];x.showEditInChartStudio?se.push("editInChartStudio"):x.showSendToCloud&&se.push("sendDataToCloud"),$(se);var ne=[],re=[],Q=[],ee=[];(p||P||L||O||F)+k+I+j+X+N>1?(re=["toggleHover"],Q=["resetViews"]):k?(ne=["zoomInGeo","zoomOutGeo"],re=["hoverClosestGeo"],Q=["resetGeo"]):I?(re=["hoverClosest3d"],Q=["resetCameraDefault3d","resetCameraLastSave3d"]):j?(ne=["zoomInMapbox","zoomOutMapbox"],re=["toggleHover"],Q=["resetViewMapbox"]):P?re=["hoverClosestGl2d"]:L?re=["hoverClosestPie"]:q?(re=["hoverClosestCartesian","hoverCompareCartesian"],Q=["resetViewSankey"]):re=["toggleHover"],p&&(re=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(ke){for(var Ie=0;Ie<ke.length;Ie++)if(!d.traceIs(ke[Ie],"noHover"))return!1;return!0}(T)||H)&&(re=[]),!p&&!P||G||(ne=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==Q[0]&&(Q=["resetScale2d"])),I?ee=["zoom3d","pan3d","orbitRotation","tableRotation"]:(p||P)&&!G||F?ee=["zoom2d","pan2d"]:j||k?ee=["pan2d"]:X&&(ee=["zoom2d"]),function(ke){for(var Ie=!1,Me=0;Me<ke.length&&!Ie;Me++){var _e=ke[Me];_e._module&&_e._module.selectPoints&&(d.traceIs(_e,"scatter-like")?(E.hasMarkers(_e)||E.hasText(_e))&&(Ie=!0):d.traceIs(_e,"box-violin")&&"all"!==_e.boxpoints&&"all"!==_e.points||(Ie=!0))}return Ie}(T)&&ee.push("select2d","lasso2d");var oe=[],ce=function(ke){-1===oe.indexOf(ke)&&-1!==re.indexOf(ke)&&oe.push(ke)};if(Array.isArray(w)){for(var ue=[],he=0;he<w.length;he++){var ve=w[he];"string"==typeof ve?(ve=ve.toLowerCase(),-1!==u.indexOf(ve)?(h._has("mapbox")||h._has("cartesian"))&&ee.push(ve):"togglespikelines"===ve?ce("toggleSpikelines"):"togglehover"===ve?ce("toggleHover"):"hovercompare"===ve?ce("hoverCompareCartesian"):"hoverclosest"===ve?(ce("hoverClosestCartesian"),ce("hoverClosestGeo"),ce("hoverClosest3d"),ce("hoverClosestGl2d"),ce("hoverClosestPie")):"v1hovermode"===ve&&(ce("toggleHover"),ce("hoverClosestCartesian"),ce("hoverCompareCartesian"),ce("hoverClosestGeo"),ce("hoverClosest3d"),ce("hoverClosestGl2d"),ce("hoverClosestPie"))):ue.push(ve)}w=ue}return $(ee),$(ne.concat(Q)),$(oe),function(ke,Ie){if(Ie.length)if(Array.isArray(Ie[0]))for(var Me=0;Me<Ie.length;Me++)ke.push(Ie[Me]);else ke.push(Ie);return ke}(Z,w)}(s),l?l.update(s,c):a._modeBar=M(s,c)}else l&&(l.destroy(),delete a._modeBar)}},37676:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(71828),S=r(24255),M=r(11506).version,v=new DOMParser;function u(s){this.container=s.container,this.element=document.createElement("div"),this.update(s.graphInfo,s.buttons),this.container.appendChild(this.element)}var i=u.prototype;i.update=function(s,a){this.graphInfo=s;var o=this.graphInfo._context,l=this.graphInfo._fullLayout,c="modebar-"+l._uid;this.element.setAttribute("id",c),this._uid=c,this.element.className="modebar","hover"===o.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===l.modebar.orientation&&(this.element.className+=" vertical",a=a.reverse());var f=l.modebar,g="hover"===o.displayModeBar?".js-plotly-plot .plotly:hover ":"";d.deleteRelatedStyleRule(c),d.addRelatedStyleRule(c,g+"#"+c+" .modebar-group","background-color: "+f.bgcolor),d.addRelatedStyleRule(c,"#"+c+" .modebar-btn .icon path","fill: "+f.color),d.addRelatedStyleRule(c,"#"+c+" .modebar-btn:hover .icon path","fill: "+f.activecolor),d.addRelatedStyleRule(c,"#"+c+" .modebar-btn.active .icon path","fill: "+f.activecolor);var h=!this.hasButtons(a),T=this.hasLogo!==o.displaylogo,x=this.locale!==o.locale;if(this.locale=o.locale,(h||T||x)&&(this.removeAllButtons(),this.updateButtons(a),o.watermark||o.displaylogo)){var m=this.getLogo();o.watermark&&(m.className=m.className+" watermark"),"v"===l.modebar.orientation?this.element.insertBefore(m,this.element.childNodes[0]):this.element.appendChild(m),this.hasLogo=!0}this.updateActiveButton()},i.updateButtons=function(s){var a=this;this.buttons=s,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(o){var l=a.createGroup();o.forEach(function(c){var f=c.name;if(!f)throw new Error("must provide button 'name' in button config");if(-1!==a.buttonsNames.indexOf(f))throw new Error("button name '"+f+"' is taken");a.buttonsNames.push(f);var g=a.createButton(c);a.buttonElements.push(g),l.appendChild(g)}),a.element.appendChild(l)})},i.createGroup=function(){var s=document.createElement("div");return s.className="modebar-group",s},i.createButton=function(s){var a=this,o=document.createElement("a");o.setAttribute("rel","tooltip"),o.className="modebar-btn";var l=s.title;void 0===l?l=s.name:"function"==typeof l&&(l=l(this.graphInfo)),(l||0===l)&&o.setAttribute("data-title",l),void 0!==s.attr&&o.setAttribute("data-attr",s.attr);var c=s.val;if(void 0!==c&&("function"==typeof c&&(c=c(this.graphInfo)),o.setAttribute("data-val",c)),"function"!=typeof s.click)throw new Error("must provide button 'click' function in button config");o.addEventListener("click",function(g){s.click(a.graphInfo,g),a.updateActiveButton(g.currentTarget)}),o.setAttribute("data-toggle",s.toggle||!1),s.toggle&&D.select(o).classed("active",!0);var f=s.icon;return o.appendChild("function"==typeof f?f():this.createIcon(f||S.question)),o.setAttribute("data-gravity",s.gravity||"n"),o},i.createIcon=function(s){var a,o=E(s.height)?Number(s.height):s.ascent-s.descent,l="http://www.w3.org/2000/svg";if(s.path){(a=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,s.width,o].join(" ")),a.setAttribute("class","icon");var c=document.createElementNS(l,"path");c.setAttribute("d",s.path),s.transform?c.setAttribute("transform",s.transform):void 0!==s.ascent&&c.setAttribute("transform","matrix(1 0 0 -1 0 "+s.ascent+")"),a.appendChild(c)}return s.svg&&(a=v.parseFromString(s.svg,"application/xml").childNodes[0]),a.setAttribute("height","1em"),a.setAttribute("width","1em"),a},i.updateActiveButton=function(s){var a=this.graphInfo._fullLayout,o=void 0!==s?s.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var c=l.getAttribute("data-val")||!0,f=l.getAttribute("data-attr"),g="true"===l.getAttribute("data-toggle"),h=D.select(l);if(g)f===o&&h.classed("active",!h.classed("active"));else{var T=null===f?f:d.nestedProperty(a,f).get();h.classed("active",T===c)}})},i.hasButtons=function(s){var a=this.buttons;if(!a||s.length!==a.length)return!1;for(var o=0;o<s.length;++o){if(s[o].length!==a[o].length)return!1;for(var l=0;l<s[o].length;l++)if(s[o][l].name!==a[o][l].name)return!1}return!0},i.getLogo=function(){var s=this.createGroup(),a=document.createElement("a");return a.href="https://plotly.com/",a.target="_blank",a.setAttribute("data-title",d._(this.graphInfo,"Produced with Plotly.js")+" (v"+M+")"),a.className="modebar-btn plotlyjsicon modebar-btn--logo",a.appendChild(this.createIcon(S.newplotlylogo)),s.appendChild(a),s},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){d.removeElement(this.container.querySelector(".modebar")),d.deleteRelatedStyleRule(this._uid)},ae.exports=function(s,a){var o=s._fullLayout,l=new u({graphInfo:s,container:o._modebardiv.node(),buttons:a});return o._privateplot&&D.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},37113:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),d=(0,r(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ae.exports={visible:{valType:"boolean",editType:"plot"},buttons:d,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:D({editType:"plot"}),bgcolor:{valType:"color",dflt:E.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:E.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(ae){"use strict";ae.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(44467),S=r(85501),M=r(37113),v=r(89573);function u(i,s,a,o){var l=o.calendar;function c(g,h){return D.coerce(i,s,M.buttons,g,h)}if(c("visible")){var f=c("step");"all"!==f&&(!l||"gregorian"===l||"month"!==f&&"year"!==f?c("stepmode"):s.stepmode="backward",c("count")),c("label")}}ae.exports=function(i,s,a,o,l){var c=i.rangeselector||{},f=d.newContainer(s,"rangeselector");function g(x,m){return D.coerce(c,f,M,x,m)}if(g("visible",S(c,f,{name:"buttons",handleItemDefaults:u,calendar:l}).length>0)){var h=function(x,m,b){for(var _=b.filter(function(I){return m[I].anchor===x._id}),w=0,A=0;A<_.length;A++){var p=m[_[A]].domain;p&&(w=Math.max(p[1],w))}return[x.domain[0],w+v.yPad]}(s,a,o);g("x",h[0]),g("y",h[1]),D.noneOrAll(i,s,["x","y"]),g("xanchor"),g("yanchor"),D.coerceFont(g,"font",a.font);var T=g("bgcolor");g("activecolor",E.contrast(T,v.lightAmount,v.darkAmount)),g("bordercolor"),g("borderwidth")}}},21598:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(74875),S=r(7901),M=r(91424),v=r(71828),u=v.strTranslate,i=r(63893),s=r(41675),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,c=a.FROM_BR,f=r(89573),g=r(70565);function h(m){return m._id}function T(m,b,_){var A,p,w=v.ensureSingle(m,"rect","selector-rect",function(A){A.attr("shape-rendering","crispEdges")});w.attr({rx:f.rx,ry:f.ry}),w.call(S.stroke,b.bordercolor).call(S.fill,(A=b,p=_,p._isActive||p._isHovered?A.activecolor:A.bgcolor)).style("stroke-width",b.borderwidth+"px")}function x(m,b,_,w){var A,p;v.ensureSingle(m,"text","selector-text",function(I){I.attr("text-anchor","middle")}).call(M.font,b.font).text((A=_,p=w._fullLayout._meta,A.label?p?v.templateString(A.label,p):A.label:"all"===A.step?"all":A.count+A.step.charAt(0))).call(function(I){i.convertToTspans(I,w)})}ae.exports=function(m){var b=m._fullLayout._infolayer.selectAll(".rangeselector").data(function(_){for(var w=s.list(_,"x",!0),A=[],p=0;p<w.length;p++){var I=w[p];I.rangeselector&&I.rangeselector.visible&&A.push(I)}return A}(m),h);b.enter().append("g").classed("rangeselector",!0),b.exit().remove(),b.style({cursor:"pointer","pointer-events":"all"}),b.each(function(_){var w=D.select(this),A=_,p=A.rangeselector,I=w.selectAll("g.button").data(v.filterVisible(p.buttons));I.enter().append("g").classed("button",!0),I.exit().remove(),I.each(function(k){var L=D.select(this),O=g(A,k);k._isActive=function(P,F,j){if("all"===F.step)return!0===P.autorange;var X=Object.keys(j);return P.range[0]===j[X[0]]&&P.range[1]===j[X[1]]}(A,k,O),L.call(T,p,k),L.call(x,p,k,m),L.on("click",function(){m._dragged||E.call("_guiRelayout",m,O)}),L.on("mouseover",function(){k._isHovered=!0,L.call(T,p,k)}),L.on("mouseout",function(){k._isHovered=!1,L.call(T,p,k)})}),function(k,L,O,P,F){var j=0,X=0,N=O.borderwidth;L.each(function(){var se=D.select(this).select(".selector-text"),re=Math.max(O.font.size*o*i.lineCount(se),16)+3;X=Math.max(X,re)}),L.each(function(){var se=D.select(this),ne=se.select(".selector-rect"),re=se.select(".selector-text"),Q=re.node()&&M.bBox(re.node()).width,ee=O.font.size*o,oe=i.lineCount(re),ce=Math.max(Q+10,f.minButtonWidth);se.attr("transform",u(N+j,N)),ne.attr({x:0,y:0,width:ce,height:X}),i.positionText(re,ce/2,X/2-(oe-1)*ee/2+3),j+=ce+5});var q=k._fullLayout._size,G=q.l+q.w*O.x,H=q.t+q.h*(1-O.y),Z="left";v.isRightAnchor(O)&&(G-=j,Z="right"),v.isCenterAnchor(O)&&(G-=j/2,Z="center");var $="top";v.isBottomAnchor(O)&&(H-=X,$="bottom"),v.isMiddleAnchor(O)&&(H-=X/2,$="middle"),j=Math.ceil(j),X=Math.ceil(X),G=Math.round(G),H=Math.round(H),d.autoMargin(k,P+"-range-selector",{x:O.x,y:O.y,l:j*l[Z],r:j*c[Z],b:X*c[$],t:X*l[$]}),F.attr("transform",u(G,H))}(m,I,p,A._name,w)})}},70565:function(ae,B,r){"use strict";var D=r(81041),E=r(71828).titleCase;ae.exports=function(d,S){var M=d._name,v={};if("all"===S.step)v[M+".autorange"]=!0;else{var u=function(i,s){var a,o=i.range,l=new Date(i.r2l(o[1])),f=D["utc"+E(s.step)],g=s.count;switch(s.stepmode){case"backward":a=i.l2r(+f.offset(l,-g));break;case"todate":var h=f.offset(l,-g);a=i.l2r(+f.ceil(h))}return[a,o[1]]}(d,S);v[M+".range[0]"]=u[0],v[M+".range[1]"]=u[1]}return v}},97218:function(ae,B,r){"use strict";ae.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r(37113)}}},layoutAttributes:r(37113),handleDefaults:r(28674),draw:r(21598)}},75148:function(ae,B,r){"use strict";var D=r(22399);ae.exports={bgcolor:{valType:"color",dflt:D.background,editType:"plot"},bordercolor:{valType:"color",dflt:D.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(ae,B,r){"use strict";var D=r(41675).list,E=r(71739).getAutoRange,d=r(73251);ae.exports=function(S){for(var M=D(S,"x",!0),v=0;v<M.length;v++){var u=M[v],i=u[d.name];i&&i.visible&&i.autorange&&(i._input.autorange=!0,i._input.range=i.range=E(S,u))}}},73251:function(ae){"use strict";ae.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),d=r(41675),S=r(75148),M=r(47850);ae.exports=function(v,u,i){var s=v[i],a=u[i];if(s.rangeslider||u._requestRangeslider[a._id]){D.isPlainObject(s.rangeslider)||(s.rangeslider={});var o,l,c=s.rangeslider,f=E.newContainer(a,"rangeslider");if(w("visible")){w("bgcolor",u.plot_bgcolor),w("bordercolor"),w("borderwidth"),w("thickness"),w("autorange",!a.isValidRange(c.range)),w("range");var g=u._subplots;if(g)for(var h=g.cartesian.filter(function(p){return p.substr(0,p.indexOf("y"))===d.name2id(i)}).map(function(p){return p.substr(p.indexOf("y"),p.length)}),T=D.simpleMap(h,d.id2name),x=0;x<T.length;x++){var m=T[x];o=c[m]||{},l=E.newContainer(f,m,"yaxis");var b,_=u[m];o.range&&_.isValidRange(o.range)&&(b="fixed"),"match"!==A("rangemode",b)&&A("range",_.range.slice())}f._input=c}}function w(p,I){return D.coerce(c,f,S,p,I)}function A(p,I){return D.coerce(o,l,M,p,I)}}},72413:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(74875),S=r(71828),M=S.strTranslate,v=r(91424),u=r(7901),i=r(92998),s=r(93612),a=r(41675),o=r(28569),l=r(6964),c=r(73251);function f(b,_,w,A){var p=S.ensureSingle(b,"rect",c.bgClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),I=A.borderwidth%2==0?A.borderwidth:A.borderwidth-1,k=-A._offsetShift,L=v.crispRound(_,A.borderwidth);p.attr({width:A._width+I,height:A._height+I,transform:M(k,k),"stroke-width":L}).call(u.stroke,A.bordercolor).call(u.fill,A.bgcolor)}function g(b,_,w,A){S.ensureSingleById(_._fullLayout._topdefs,"clipPath",A._clipId,function(I){I.append("rect").attr({x:0,y:0})}).select("rect").attr({width:A._width,height:A._height})}function h(b,_,w,A){var p,I=_.calcdata,k=b.selectAll("g."+c.rangePlotClassName).data(w._subplotsWith,S.identity);k.enter().append("g").attr("class",function(L){return c.rangePlotClassName+" "+L}).call(v.setClipUrl,A._clipId,_),k.order(),k.exit().remove(),k.each(function(L,O){var P=D.select(this),F=0===O,j=a.getFromId(_,L,"y"),X=j._name,N=A[X],q={data:[],layout:{xaxis:{type:w.type,domain:[0,1],range:A.range.slice(),calendar:w.calendar},width:A._width,height:A._height,margin:{t:0,b:0,l:0,r:0}},_context:_._context};w.rangebreaks&&(q.layout.xaxis.rangebreaks=w.rangebreaks),q.layout[X]={type:j.type,domain:[0,1],range:"match"!==N.rangemode?N.range.slice():j.range.slice(),calendar:j.calendar},j.rangebreaks&&(q.layout[X].rangebreaks=j.rangebreaks),d.supplyDefaults(q);var G=q._fullLayout.xaxis,H=q._fullLayout[X];G.clearCalc(),G.setScale(),H.clearCalc(),H.setScale();var Z={id:L,plotgroup:P,xaxis:G,yaxis:H,isRangePlot:!0};F?p=Z:(Z.mainplot="xy",Z.mainplotinfo=p),s.rangePlot(_,Z,function($,se){for(var ne=[],re=0;re<$.length;re++){var Q=$[re],ee=Q[0].trace;ee.xaxis+ee.yaxis===se&&ne.push(Q)}return ne}(I,L))})}function T(b,_,w,A,p){S.ensureSingle(b,"rect",c.maskMinClassName,function(I){I.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",A._height).call(u.fill,c.maskColor),S.ensureSingle(b,"rect",c.maskMaxClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",A._height).call(u.fill,c.maskColor),"match"!==p.rangemode&&(S.ensureSingle(b,"rect",c.maskMinOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",A._width).call(u.fill,c.maskOppAxisColor),S.ensureSingle(b,"rect",c.maskMaxOppAxisClassName,function(I){I.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",A._width).style("border-top",c.maskOppBorder).call(u.fill,c.maskOppAxisColor))}function x(b,_,w,A){_._context.staticPlot||S.ensureSingle(b,"rect",c.slideBoxClassName,function(p){p.attr({y:0,cursor:c.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:A._height,fill:c.slideBoxFill})}function m(b,_,w,A){var p=S.ensureSingle(b,"g",c.grabberMinClassName),I=S.ensureSingle(b,"g",c.grabberMaxClassName),k={x:0,width:c.handleWidth,rx:c.handleRadius,fill:u.background,stroke:u.defaultLine,"stroke-width":c.handleStrokeWidth,"shape-rendering":"crispEdges"},L={y:Math.round(A._height/4),height:Math.round(A._height/2)};S.ensureSingle(p,"rect",c.handleMinClassName,function(P){P.attr(k)}).attr(L),S.ensureSingle(I,"rect",c.handleMaxClassName,function(P){P.attr(k)}).attr(L);var O={width:c.grabAreaWidth,x:0,y:0,fill:c.grabAreaFill,cursor:_._context.staticPlot?void 0:c.grabAreaCursor};S.ensureSingle(p,"rect",c.grabAreaMinClassName,function(P){P.attr(O)}).attr("height",A._height),S.ensureSingle(I,"rect",c.grabAreaMaxClassName,function(P){P.attr(O)}).attr("height",A._height)}ae.exports=function(b){for(var _=b._fullLayout,w=_._rangeSliderData,A=0;A<w.length;A++){var p=w[A][c.name];p._clipId=p._id+"-"+_._uid}var I=_._infolayer.selectAll("g."+c.containerClassName).data(w,function(k){return k._name});I.exit().each(function(k){_._topdefs.select("#"+k[c.name]._clipId).remove()}).remove(),0!==w.length&&(I.enter().append("g").classed(c.containerClassName,!0).attr("pointer-events","all"),I.each(function(k){var L=D.select(this),O=k[c.name],P=_[a.id2name(k.anchor)],F=O[a.id2name(k.anchor)];if(O.range){var j,X=S.simpleMap(O.range,k.r2l),N=S.simpleMap(k.range,k.r2l);j=N[0]<N[1]?[Math.min(X[0],N[0]),Math.max(X[1],N[1])]:[Math.max(X[0],N[0]),Math.min(X[1],N[1])],O.range=O._input.range=S.simpleMap(j,k.l2r)}k.cleanRange("rangeslider.range");var q=_._size,G=k.domain;O._width=q.w*(G[1]-G[0]);var H=Math.round(q.l+q.w*G[0]),Z=Math.round(q.t+q.h*(1-k._counterDomainMin)+("bottom"===k.side?k._depth:0)+O._offsetShift+c.extraPad);L.attr("transform",M(H,Z)),O._rl=S.simpleMap(O.range,k.r2l);var $=O._rl[0],se=O._rl[1],ne=se-$;if(O.p2d=function(ke){return ke/O._width*ne+$},O.d2p=function(ke){return(ke-$)/ne*O._width},k.rangebreaks){var re=k.locateBreaks($,se);if(re.length){var Q,ee,oe=0;for(Q=0;Q<re.length;Q++)oe+=(ee=re[Q]).max-ee.min;var ce=O._width/(se-$-oe),ue=[-ce*$];for(Q=0;Q<re.length;Q++)ue.push(ue[ue.length-1]-ce*((ee=re[Q]).max-ee.min));for(O.d2p=function(ke){for(var Ie=ue[0],Me=0;Me<re.length;Me++){var _e=re[Me];if(ke>=_e.max)Ie=ue[Me+1];else if(ke<_e.min)break}return Ie+ce*ke},Q=0;Q<re.length;Q++)(ee=re[Q]).pmin=O.d2p(ee.min),ee.pmax=O.d2p(ee.max);O.p2d=function(ke){for(var Ie=ue[0],Me=0;Me<re.length;Me++){var _e=re[Me];if(ke>=_e.pmax)Ie=ue[Me+1];else if(ke<_e.pmin)break}return(ke-Ie)/ce}}}if("match"!==F.rangemode){var he=P.r2l(F.range[0]),ve=P.r2l(F.range[1])-he;O.d2pOppAxis=function(ke){return(ke-he)/ve*O._height}}L.call(f,b,k,O).call(g,b,k,O).call(h,b,k,O).call(T,b,k,O,F).call(x,b,k,O).call(m,b,k,O),function(ke,Ie,Me,_e){if(!Ie._context.staticPlot){var we=ke.select("rect."+c.slideBoxClassName).node(),ze=ke.select("rect."+c.grabAreaMinClassName).node(),Ee=ke.select("rect."+c.grabAreaMaxClassName).node();ke.on("mousedown",Se),ke.on("touchstart",Se)}function Se(){var me=D.event,fe=me.target,le=me.clientX||me.touches[0].clientX,Te=le-ke.node().getBoundingClientRect().left,Re=_e.d2p(Me._rl[0]),De=_e.d2p(Me._rl[1]),Ue=o.coverSlip();function Ze(Oe){var Ce,Be,qe,He=+(Oe.clientX||Oe.touches[0].clientX)-le;switch(fe){case we:if(qe="ew-resize",Re+He>Me._length||De+He<0)return;Ce=Re+He,Be=De+He;break;case ze:if(qe="col-resize",Re+He>Me._length)return;Ce=Re+He,Be=De;break;case Ee:if(qe="col-resize",De+He<0)return;Ce=Re,Be=De+He;break;default:qe="ew-resize",Ce=Te,Be=Te+He}if(Be<Ce){var Je=Be;Be=Ce,Ce=Je}_e._pixelMin=Ce,_e._pixelMax=Be,l(D.select(Ue),qe),function(et,st,pt,ct){function St(gt){return pt.l2r(S.constrain(gt,ct._rl[0],ct._rl[1]))}var Dt=St(ct.p2d(ct._pixelMin)),vt=St(ct.p2d(ct._pixelMax));window.requestAnimationFrame(function(){E.call("_guiRelayout",st,pt._name+".range",[Dt,vt])})}(0,Ie,Me,_e)}function xe(){Ue.removeEventListener("mousemove",Ze),Ue.removeEventListener("mouseup",xe),this.removeEventListener("touchmove",Ze),this.removeEventListener("touchend",xe),S.removeElement(Ue)}this.addEventListener("touchmove",Ze),this.addEventListener("touchend",xe),Ue.addEventListener("mousemove",Ze),Ue.addEventListener("mouseup",xe)}}(L,b,k,O),function(ke,Ie,Me,_e,we,ze){var Ee=c.handleWidth/2;function Se(Oe){return S.constrain(Oe,0,_e._width)}function me(Oe){return S.constrain(Oe,0,_e._height)}function fe(Oe){return S.constrain(Oe,-Ee,_e._width+Ee)}var le=Se(_e.d2p(Me._rl[0])),Te=Se(_e.d2p(Me._rl[1]));if(ke.select("rect."+c.slideBoxClassName).attr("x",le).attr("width",Te-le),ke.select("rect."+c.maskMinClassName).attr("width",le),ke.select("rect."+c.maskMaxClassName).attr("x",Te).attr("width",_e._width-Te),"match"!==ze.rangemode){var Re=_e._height-me(_e.d2pOppAxis(we._rl[1])),De=_e._height-me(_e.d2pOppAxis(we._rl[0]));ke.select("rect."+c.maskMinOppAxisClassName).attr("x",le).attr("height",Re).attr("width",Te-le),ke.select("rect."+c.maskMaxOppAxisClassName).attr("x",le).attr("y",De).attr("height",_e._height-De).attr("width",Te-le),ke.select("rect."+c.slideBoxClassName).attr("y",Re).attr("height",De-Re)}var Ze=Math.round(fe(le-Ee))-.5,xe=Math.round(fe(Te-Ee))+.5;ke.select("g."+c.grabberMinClassName).attr("transform",M(Ze,.5)),ke.select("g."+c.grabberMaxClassName).attr("transform",M(xe,.5))}(L,0,k,O,P,F),"bottom"===k.side&&i.draw(b,k._id+"title",{propContainer:k,propName:k._name+".title",placeholder:_._dfltTitle.x,attributes:{x:k._offset+k._length/2,y:Z+O._height+O._offsetShift+10+1.5*k.title.font.size,"text-anchor":"middle"}})}))}},549:function(ae,B,r){"use strict";var D=r(41675),E=r(63893),d=r(73251),S=r(18783).LINE_SPACING,M=d.name;function v(u){var i=u&&u[M];return i&&i.visible}B.isVisible=v,B.makeData=function(u){var i=D.list({_fullLayout:u},"x",!0),s=u.margin,a=[];if(!u._has("gl2d"))for(var o=0;o<i.length;o++){var l=i[o];if(v(l)){a.push(l);var c=l[M];c._id=M+l._id,c._height=(u.height-s.b-s.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}u._rangeSliderData=a},B.autoMarginOpts=function(u,i){var s=u._fullLayout,a=i[M],o=i._id.charAt(0),l=0,c=0;return"bottom"===i.side&&(l=i._depth,i.title.text!==s._dfltTitle[o]&&(c=1.5*i.title.font.size+10+a._offsetShift,c+=(i.title.text.match(E.BR_TAG_ALL)||[]).length*i.title.font.size*S)),{x:0,y:i._counterDomainMin,l:0,r:0,t:0,b:a._height+l+Math.max(s.margin.b,c),pad:d.extraPad+2*a._offsetShift}}},13137:function(ae,B,r){"use strict";var D=r(71828),E=r(75148),d=r(47850),S=r(549);ae.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:D.extendFlat({},E,{yaxis:d})}}},layoutAttributes:r(75148),handleDefaults:r(26377),calcAutorange:r(88443),draw:r(72413),isVisible:S.isVisible,makeData:S.makeData,autoMarginOpts:S.autoMarginOpts}},47850:function(ae){"use strict";ae.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(ae,B,r){"use strict";var D=r(50215),E=r(82196).line,d=r(79952).P,S=r(1426).extendFlat,M=r(30962).overrideAll,v=r(44467).templatedArray;r(24695),ae.exports=M(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:S({},D.xref,{}),yref:S({},D.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:E.color,width:S({},E.width,{min:1,dflt:1}),dash:S({},d,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(ae){"use strict";ae.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(85501),S=r(8389),M=r(30477);function v(u,i,s){function a(L,O){return D.coerce(u,i,S,L,O)}var o=a("path"),l="path"!==a("type",o?"path":"rect");l&&delete i.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var c=["x","y"],f=0;f<2;f++){var g,h,T,x=c[f],m={_fullLayout:s},b=E.coerceRef(u,i,m,x);if((g=E.getFromId(m,b))._selectionIndices.push(i._index),T=M.rangeToShapePosition(g),h=M.shapePositionToRange(g),l){var _=x+"0",w=x+"1",A=u[_],p=u[w];u[_]=h(u[_],!0),u[w]=h(u[w],!0),E.coercePosition(i,m,a,b,_),E.coercePosition(i,m,a,b,w);var I=i[_],k=i[w];void 0!==I&&void 0!==k&&(i[_]=T(I),i[w]=T(k),u[_]=A,u[w]=p)}}l&&D.noneOrAll(u,i,["x0","x1","y0","y1"])}ae.exports=function(u,i){d(u,i,{name:"selections",handleItemDefaults:v});for(var s=i.selections,a=0;a<s.length;a++){var o=s[a];o&&void 0===o.path&&(void 0!==o.x0&&void 0!==o.x1&&void 0!==o.y0&&void 0!==o.y1||(i.selections[a]=null))}}},32485:function(ae,B,r){"use strict";var D=r(60165).readPaths,E=r(42359),d=r(51873).clearOutlineControllers,S=r(7901),M=r(91424),v=r(44467).arrayEditor,u=r(30477),i=u.getPathString;function s(f){var g=f._fullLayout;for(var h in d(f),g._selectionLayer.selectAll("path").remove(),g._plots){var T=g._plots[h].selectionLayer;T&&T.selectAll("path").remove()}for(var x=0;x<g.selections.length;x++)o(f,x)}function a(f){return f._context.editSelection}function o(f,g){f._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+g+'"]').remove();var h=u.makeSelectionsOptionsAndPlotinfo(f,g),T=h.options,x=h.plotinfo;T._input&&function(m){var b=i(f,T),_={"data-index":g,"fill-rule":"evenodd",d:b},w=T.opacity,A="rgba(0,0,0,0)",p=T.line.color||S.contrast(f._fullLayout.plot_bgcolor),I=T.line.width,k=T.line.dash;I||(I=5,k="solid");var L=a(f)&&f._fullLayout._activeSelectionIndex===g;L&&(A=f._fullLayout.activeselection.fillcolor,w=f._fullLayout.activeselection.opacity);for(var O=[],P=1;P>=0;P--){var F=m.append("path").attr(_).style("opacity",P?.1:w).call(S.stroke,p).call(S.fill,A).call(M.dashLine,P?"solid":k,P?4+I:I);if(l(F,f,T),L){var j=v(f.layout,"selections",T);F.style({cursor:"move"});var X={element:F.node(),plotinfo:x,gd:f,editHelpers:j,isActiveSelection:!0},N=D(b,f);E(N,F,X)}else F.style("pointer-events",P?"all":"none");O[P]=F}var q=O[0];O[1].node().addEventListener("click",function(){return function(G,H){if(a(G)){var Z=+H.node().getAttribute("data-index");if(Z>=0){if(Z===G._fullLayout._activeSelectionIndex)return void c(G);G._fullLayout._activeSelectionIndex=Z,G._fullLayout._deactivateSelection=c,s(G)}}}(f,q)})}(f._fullLayout._selectionLayer)}function l(f,g,h){M.setClipUrl(f,"clip"+g._fullLayout._uid+(h.xref+h.yref),g)}function c(f){a(f)&&f._fullLayout._activeSelectionIndex>=0&&(d(f),delete f._fullLayout._activeSelectionIndex,s(f))}ae.exports={draw:s,drawOne:o,activateLastSelection:function(f){a(f)&&(f._fullLayout._activeSelectionIndex=f._fullLayout.selections.length-1,f._fullLayout._deactivateSelection=c,s(f))}}},53777:function(ae,B,r){"use strict";var D=r(79952).P,E=r(1426).extendFlat;ae.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:E({},D,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(ae){"use strict";ae.exports=function(B,r,D){D("newselection.mode"),D("newselection.line.width")&&(D("newselection.line.color"),D("newselection.line.dash")),D("activeselection.fillcolor"),D("activeselection.opacity")}},35855:function(ae,B,r){"use strict";var D=r(64505).selectMode,E=r(51873).clearOutline,d=r(60165),S=d.readPaths,M=d.writePaths,v=d.fixDatesForPaths;ae.exports=function(u,i){if(u.length){var s=u[0][0];if(s){var a=s.getAttribute("d"),o=i.gd,l=o._fullLayout.newselection,c=i.plotinfo,f=c.xaxis,g=c.yaxis,h=i.isActiveSelection,T=i.dragmode,x=(o.layout||{}).selections||[];if(!D(T)&&void 0!==h){var m=o._fullLayout._activeSelectionIndex;if(m<x.length)switch(o._fullLayout.selections[m].type){case"rect":T="select";break;case"path":T="lasso"}}var b,_=S(a,o,c,h),w={xref:f._id,yref:g._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};1===_.length&&(b=_[0]),b&&5===b.length&&"select"===T?(w.type="rect",w.x0=b[0][1],w.y0=b[0][2],w.x1=b[2][1],w.y1=b[2][2]):(w.type="path",f&&g&&v(_,f,g),w.path=M(_),b=null),E(o);for(var A=i.editHelpers,p=(A||{}).modifyItem,I=[],k=0;k<x.length;k++){var L=o._fullLayout.selections[k];if(L){if(I[k]=L._input,void 0!==h&&k===o._fullLayout._activeSelectionIndex){var O=w;switch(L.type){case"rect":p("x0",O.x0),p("x1",O.x1),p("y0",O.y0),p("y1",O.y1);break;case"path":p("path",O.path)}}}else I[k]=L}return void 0===h?(I.push(w),I):A?A.getUpdateObj():{}}}}},75549:function(ae,B,r){"use strict";var D=r(71828).strTranslate;function E(d,S){switch(d.type){case"log":return d.p2d(S);case"date":return d.p2r(S,0,d.calendar);default:return d.p2r(S)}}ae.exports={p2r:E,r2p:function(d,S){switch(d.type){case"log":return d.d2p(S);case"date":return d.r2p(S,0,d.calendar);default:return d.r2p(S)}},axValue:function(d){var S="y"===d._id.charAt(0)?1:0;return function(M){return E(d,M[S])}},getTransform:function(d){return D(d.xaxis._offset,d.yaxis._offset)}}},47322:function(ae,B,r){"use strict";var D=r(32485),E=r(3937);ae.exports={moduleType:"component",name:"selections",layoutAttributes:r(8389),supplyLayoutDefaults:r(59402),supplyDrawNewSelectionDefaults:r(90849),includeBasePlot:r(76325)("selections"),draw:D.draw,drawOne:D.drawOne,reselect:E.reselect,prepSelect:E.prepSelect,clearOutline:E.clearOutline,clearSelectionsCache:E.clearSelectionsCache,selectOnClick:E.selectOnClick}},3937:function(ae,B,r){"use strict";var D=r(52142),E=r(38258),d=r(73972),S=r(91424).dashStyle,M=r(7901),v=r(30211),u=r(23469).makeEventData,i=r(64505),s=i.freeMode,a=i.rectMode,o=i.drawMode,l=i.openMode,c=i.selectMode,f=r(30477),g=r(21459),h=r(42359),T=r(51873).clearOutline,x=r(60165),m=x.handleEllipse,b=x.readPaths,_=r(90551).newShapes,w=r(35855),A=r(32485).activateLastSelection,p=r(71828),I=p.sorterAsc,k=r(61082),L=r(79990),O=r(41675).getFromId,P=r(33306),F=r(61549).redrawReglTraces,j=r(34122),X=j.MINSELECT,N=k.filter,q=k.tester,G=r(75549),H=G.p2r,Z=G.axValue,$=G.getTransform;function se(xe){return void 0!==xe.subplot}function ne(xe,Oe,Ce,Be,qe,He,Je){var et,st,pt,ct,St,Dt,vt,gt,Et,rt,Pt=Oe._hoverdata,Ot=Oe._fullLayout.clickmode.indexOf("event")>-1,Ht=[];if((rt=Pt)&&Array.isArray(rt)&&!0!==rt[0].hoverOnBox){oe(xe,Oe,He);var zt=function(rt,ft){var ht,Ve,Ge=rt[0],ut=-1,dt=[];for(Ve=0;Ve<ft.length;Ve++)if(Ge.fullData._expandedIndex===(ht=ft[Ve]).cd[0].trace._expandedIndex){if(!0===Ge.hoverOnBox)break;void 0!==Ge.pointNumber?ut=Ge.pointNumber:void 0!==Ge.binNumber&&(ut=Ge.binNumber,dt=Ge.pointNumbers);break}return{pointNumber:ut,pointNumbers:dt,searchInfo:ht}}(Pt,et=he(Oe,Ce,Be,qe));if(zt.pointNumbers.length>0?function(rt,ft){var ht,Ve,Ge,ut=[];for(Ge=0;Ge<rt.length;Ge++)(ht=rt[Ge]).cd[0].trace.selectedpoints&&ht.cd[0].trace.selectedpoints.length>0&&ut.push(ht);if(1===ut.length&&ut[0]===ft.searchInfo&&(Ve=ft.searchInfo.cd[0].trace).selectedpoints.length===ft.pointNumbers.length){for(Ge=0;Ge<ft.pointNumbers.length;Ge++)if(Ve.selectedpoints.indexOf(ft.pointNumbers[Ge])<0)return!1;return!0}return!1}(et,zt):function(rt){var ft,ht,Ve=0;for(ht=0;ht<rt.length;ht++)if((ft=rt[ht].cd[0].trace).selectedpoints&&(ft.selectedpoints.length>1||(Ve+=ft.selectedpoints.length)>1))return!1;return 1===Ve}(et)&&(Dt=ke(zt))){for(Je&&Je.remove(),Et=0;Et<et.length;Et++)(st=et[Et])._module.selectPoints(st,!1);Ie(Oe,et),ce(He),Ot&&Ze(Oe)}else{for(vt=xe.shiftKey&&(void 0!==Dt?Dt:ke(zt)),pt=function(rt,ft,ht){return{pointNumber:rt,searchInfo:ft,subtract:!!ht}}(zt.pointNumber,zt.searchInfo,vt),ct=ee(He.selectionDefs.concat([pt])),Et=0;Et<et.length;Et++)if(St=_e(et[Et]._module.selectPoints(et[Et],ct),et[Et]),Ht.length)for(var nt=0;nt<St.length;nt++)Ht.push(St[nt]);else Ht=St;if(Ie(Oe,et,gt={points:Ht}),pt&&He&&He.selectionDefs.push(pt),Je){var it=He.mergedPolygons,Ke=l(He.dragmode);h(we(it,Ke),Je,He)}Ot&&Ue(Oe,gt)}}}function re(xe){return"pointNumber"in xe&&"searchInfo"in xe}function Q(xe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Oe,Ce,Be,qe){return qe.cd[0].trace._expandedIndex===xe.searchInfo.cd[0].trace._expandedIndex&&Be===xe.pointNumber},isRect:!1,degenerate:!1,subtract:!!xe.subtract}}function ee(xe){if(xe.length){for(var Oe=[],Ce=re(xe[0])?0:xe[0][0][0],Be=Ce,qe=re(xe[0])?0:xe[0][0][1],He=qe,Je=0;Je<xe.length;Je++)if(re(xe[Je]))Oe.push(Q(xe[Je]));else{var et=q(xe[Je]);et.subtract=!!xe[Je].subtract,Oe.push(et),Ce=Math.min(Ce,et.xmin),Be=Math.max(Be,et.xmax),qe=Math.min(qe,et.ymin),He=Math.max(He,et.ymax)}return{xmin:Ce,xmax:Be,ymin:qe,ymax:He,pts:[],contains:function(st,pt,ct,St){for(var Dt=!1,vt=0;vt<Oe.length;vt++)Oe[vt].contains(st,pt,ct,St)&&(Dt=!Oe[vt].subtract);return Dt},isRect:!1,degenerate:!1}}}function oe(xe,Oe,Ce){var Be=Oe._fullLayout,qe=Ce.plotinfo,He=Ce.dragmode,Je=Be._lastSelectedSubplot&&Be._lastSelectedSubplot===qe.id,et=(xe.shiftKey||xe.altKey)&&!(o(He)&&l(He));Je&&et&&qe.selection&&qe.selection.selectionDefs&&!Ce.selectionDefs?(Ce.selectionDefs=qe.selection.selectionDefs,Ce.mergedPolygons=qe.selection.mergedPolygons):et&&qe.selection||ce(Ce),Je||(T(Oe),Be._lastSelectedSubplot=qe.id)}function ce(xe,Oe){var Ce=xe.dragmode,Be=xe.plotinfo,qe=xe.gd;qe._fullLayout._activeShapeIndex>=0&&qe._fullLayout._deactivateShape(qe),qe._fullLayout._activeSelectionIndex>=0&&qe._fullLayout._deactivateSelection(qe);var He=qe._fullLayout._zoomlayer,Je=o(Ce),et=c(Ce);if(Je||et){var st,pt,ct=He.selectAll(".select-outline-"+Be.id);ct&&qe._fullLayout._outlining&&(Je&&(st=_(ct,xe)),st&&d.call("_guiRelayout",qe,{shapes:st}),et&&!se(xe)&&(pt=w(ct,xe)),pt&&(qe._fullLayout._noEmitSelectedAtStart=!0,d.call("_guiRelayout",qe,{selections:pt}).then(function(){Oe&&A(qe)})),qe._fullLayout._outlining=!1)}Be.selection={},Be.selection.selectionDefs=xe.selectionDefs=[],Be.selection.mergedPolygons=xe.mergedPolygons=[]}function ue(xe){return xe._id}function he(xe,Oe,Ce,Be){if(!xe.calcdata)return[];var qe,He,Je,et=[],st=Oe.map(ue),pt=Ce.map(ue);for(Je=0;Je<xe.calcdata.length;Je++)if(!0===(He=(qe=xe.calcdata[Je])[0].trace).visible&&He._module&&He._module.selectPoints)if(!se({subplot:Be})||He.subplot!==Be&&He.geo!==Be)if("splom"===He.type){if(He._xaxes[st[0]]&&He._yaxes[pt[0]]){var ct=ve(He._module,qe,Oe[0],Ce[0]);ct.scene=xe._fullLayout._splomScenes[He.uid],et.push(ct)}}else if("sankey"===He.type){var St=ve(He._module,qe,Oe[0],Ce[0]);et.push(St)}else{if(-1===st.indexOf(He.xaxis)||-1===pt.indexOf(He.yaxis))continue;et.push(ve(He._module,qe,O(xe,He.xaxis),O(xe,He.yaxis)))}else et.push(ve(He._module,qe,Oe[0],Ce[0]));return et}function ve(xe,Oe,Ce,Be){return{_module:xe,cd:Oe,xaxis:Ce,yaxis:Be}}function ke(xe){var Oe=xe.searchInfo.cd[0].trace,Be=xe.pointNumbers;return!!Oe.selectedpoints&&Oe.selectedpoints.indexOf(Be.length>0?Be[0]:xe.pointNumber)>-1}function Ie(xe,Oe,Ce){var Be,qe;for(Be=0;Be<Oe.length;Be++){var He=Oe[Be].cd[0].trace._fullInput,Je=xe._fullLayout._tracePreGUI[He.uid]||{};void 0===Je.selectedpoints&&(Je.selectedpoints=He._input.selectedpoints||null)}if(Ce){var et=Ce.points||[];for(Be=0;Be<Oe.length;Be++)(qe=Oe[Be].cd[0].trace)._input.selectedpoints=qe._fullInput.selectedpoints=[],qe._fullInput!==qe&&(qe.selectedpoints=[]);for(var st=0;st<et.length;st++){var pt=et[st],ct=pt.data,St=pt.fullData,Dt=pt.pointIndex,vt=pt.pointIndices;vt?([].push.apply(ct.selectedpoints,vt),qe._fullInput!==qe&&[].push.apply(St.selectedpoints,vt)):(ct.selectedpoints.push(Dt),qe._fullInput!==qe&&St.selectedpoints.push(Dt))}}else for(Be=0;Be<Oe.length;Be++)delete(qe=Oe[Be].cd[0].trace).selectedpoints,delete qe._input.selectedpoints,qe._fullInput!==qe&&delete qe._fullInput.selectedpoints;!function(gt,Et){for(var Pt=!1,Ot=0;Ot<Et.length;Ot++){var Ht=Et[Ot],zt=Ht.cd;d.traceIs(zt[0].trace,"regl")&&(Pt=!0);var nt=Ht._module,it=nt.styleOnSelect||nt.style;it&&(it(gt,zt,zt[0].node3),zt[0].nodeRangePlot3&&it(gt,zt,zt[0].nodeRangePlot3))}Pt&&(P(gt),F(gt))}(xe,Oe)}function Me(xe,Oe,Ce){for(var Be=(Ce?D.difference:D.union)({regions:xe},{regions:[Oe]}).regions.reverse(),qe=0;qe<Be.length;qe++){var He=Be[qe];He.subtract=le(He,Be.slice(0,qe))}return Be}function _e(xe,Oe){if(Array.isArray(xe))for(var Ce=Oe.cd,Be=Oe.cd[0].trace,qe=0;qe<xe.length;qe++)xe[qe]=u(xe[qe],Be,Ce);return xe}function we(xe,Oe){for(var Ce=[],Be=0;Be<xe.length;Be++){Ce[Be]=[];for(var qe=0;qe<xe[Be].length;qe++){Ce[Be][qe]=[],Ce[Be][qe][0]=qe?"L":"M";for(var He=0;He<xe[Be][qe].length;He++)Ce[Be][qe].push(xe[Be][qe][He])}Oe||Ce[Be].push(["Z",Ce[Be][0][1],Ce[Be][0][2]])}return Ce}function ze(xe,Oe){for(var Ce,Be,qe=[],He=[],Je=0;Je<Oe.length;Je++){var et=Oe[Je];Be=et._module.selectPoints(et,xe),He.push(Be),Ce=_e(Be,et),qe=qe.concat(Ce)}return qe}function Ee(xe,Oe,Ce,Be,qe){var He,Je,et,st=!!Be;qe&&(He=qe.plotinfo,Je=qe.xaxes[0]._id,et=qe.yaxes[0]._id);var pt=[],ct=[],St=fe(xe),Dt=xe._fullLayout;if(He){var vt=Dt._zoomlayer,gt=Dt.dragmode,Et=o(gt),Pt=c(gt);if(Et||Pt){var Ot=O(xe,Je,"x"),Ht=O(xe,et,"y");if(Ot&&Ht){var zt=vt.selectAll(".select-outline-"+He.id);if(zt&&xe._fullLayout._outlining&&zt.length){for(var nt=zt[0][0].getAttribute("d"),it=b(nt,xe,He),Ke=[],rt=0;rt<it.length;rt++){for(var ft=it[rt],ht=[],Ve=0;Ve<ft.length;Ve++)ht.push([Te(Ot,ft[Ve][1]),Te(Ht,ft[Ve][2])]);ht.xref=Je,ht.yref=et,ht.subtract=le(ht,Ke),Ke.push(ht)}St=St.concat(Ke)}}}}var Ge=Je&&et?[Je+et]:Dt._subplots.cartesian;!function(Rn){var Wn=Rn.calcdata;if(Wn)for(var Cn=0;Cn<Wn.length;Cn++){var mr=Rn._fullLayout._splomScenes;if(mr){var lr=mr[Wn[Cn][0].trace.uid];lr&&(lr.selectBatch=[])}}}(xe);for(var ut={},dt=0;dt<Ge.length;dt++){var kt=Ge[dt],bt=kt.indexOf("y"),At=kt.slice(0,bt),xt=kt.slice(bt),Rt=Je&&et?Ce:void 0;if(Rt=me(St,At,xt,Rt)){var _t=Be;if(!st){var Tt=O(xe,At,"x"),It=O(xe,xt,"y");_t=he(xe,[Tt],[It],kt);for(var Wt=0;Wt<_t.length;Wt++){var Zt=_t[Wt],$t=Zt.cd[0],dn=$t.trace;if("scattergl"===Zt._module.name&&!$t.t.xpx){var nn=dn.x,cn=dn.y,rn=dn._length;$t.t.xpx=[],$t.t.ypx=[];for(var En=0;En<rn;En++)$t.t.xpx[En]=Tt.c2p(nn[En]),$t.t.ypx[En]=It.c2p(cn[En])}"splom"===Zt._module.name&&(ut[dn.uid]||(ut[dn.uid]=!0))}}var Pn=ze(Rt,_t);pt=pt.concat(Pn),ct=ct.concat(_t)}}var Mn={points:pt};Ie(xe,ct,Mn);var en=Dt.clickmode.indexOf("event")>-1&&Oe;if(!He&&Oe){var gn=fe(xe,!0);if(gn.length){var an=gn[0].xref,yn=gn[0].yref;if(an&&yn){var kn=Re(gn);De([O(xe,an,"x"),O(xe,yn,"y")])(Mn,kn)}}xe._fullLayout._noEmitSelectedAtStart?xe._fullLayout._noEmitSelectedAtStart=!1:en&&Ue(xe,Mn),Dt._reselect=!1}if(!He&&Dt._deselect){var Ln=Dt._deselect;(function(Rn,Wn,Cn){for(var Zn=0;Zn<Cn.length;Zn++){var mr=Cn[Zn];if(mr.xaxis&&mr.xaxis._id===Rn&&mr.yaxis&&mr.yaxis._id===Wn)return!0}return!1})(Je=Ln.xref,et=Ln.yref,ct)||Se(xe,Je,et,Be),en&&(Mn.points.length?Ue(xe,Mn):Ze(xe)),Dt._deselect=!1}return{eventData:Mn,selectionTesters:Ce}}function Se(xe,Oe,Ce,Be){Be=he(xe,[O(xe,Oe,"x")],[O(xe,Ce,"y")],Oe+Ce);for(var qe=0;qe<Be.length;qe++){var He=Be[qe];He._module.selectPoints(He,!1)}Ie(xe,Be)}function me(xe,Oe,Ce,Be){for(var qe,He=0;He<xe.length;He++){var Je=xe[He];Oe===Je.xref&&Ce===Je.yref&&(qe?Be=ee(qe=Me(qe,Je,!!Je.subtract)):(qe=[Je],Be=q(Je)))}return Be}function fe(xe,Oe){for(var Ce=[],Be=xe._fullLayout,qe=Be.selections,He=qe.length,Je=0;Je<He;Je++)if(!Oe||Je===Be._activeSelectionIndex){var et=qe[Je];if(et){var st,pt,ct,St,Dt,vt=et.xref,gt=et.yref,Et=O(xe,vt,"x"),Pt=O(xe,gt,"y");if("rect"===et.type){Dt=[];var Ot=Te(Et,et.x0),Ht=Te(Et,et.x1),zt=Te(Pt,et.y0),nt=Te(Pt,et.y1);Dt=[[Ot,zt],[Ot,nt],[Ht,nt],[Ht,zt]],st=Math.min(Ot,Ht),pt=Math.max(Ot,Ht),ct=Math.min(zt,nt),St=Math.max(zt,nt),Dt.xmin=st,Dt.xmax=pt,Dt.ymin=ct,Dt.ymax=St,Dt.xref=vt,Dt.yref=gt,Dt.subtract=!1,Dt.isRect=!0,Ce.push(Dt)}else if("path"===et.type)for(var it=et.path.split("Z"),Ke=[],rt=0;rt<it.length;rt++){var ft=it[rt];if(ft){var ht=f.extractPathCoords(ft+="Z",g.paramIsX,"raw"),Ve=f.extractPathCoords(ft,g.paramIsY,"raw");st=1/0,pt=-1/0,ct=1/0,St=-1/0,Dt=[];for(var Ge=0;Ge<ht.length;Ge++){var ut=Te(Et,ht[Ge]),dt=Te(Pt,Ve[Ge]);Dt.push([ut,dt]),st=Math.min(ut,st),pt=Math.max(ut,pt),ct=Math.min(dt,ct),St=Math.max(dt,St)}Dt.xmin=st,Dt.xmax=pt,Dt.ymin=ct,Dt.ymax=St,Dt.xref=vt,Dt.yref=gt,Dt.subtract=le(Dt,Ke),Ke.push(Dt),Ce.push(Dt)}}}}return Ce}function le(xe,Oe){for(var Ce=!1,Be=0;Be<Oe.length;Be++)for(var qe=Oe[Be],He=0;He<xe.length;He++)if(E(xe[He],qe)){Ce=!Ce;break}return Ce}function Te(xe,Oe){return"date"===xe.type&&(Oe=Oe.replace("_"," ")),"log"===xe.type?xe.c2p(Oe):xe.r2p(Oe,null,xe.calendar)}function Re(xe){for(var Oe=xe.length,Ce=[],Be=0;Be<Oe;Be++){var qe=xe[Be];Ce=(Ce=Ce.concat(qe)).concat([qe[0]])}return(He=Ce).isRect=5===He.length&&He[0][0]===He[4][0]&&He[0][1]===He[4][1]&&He[0][0]===He[1][0]&&He[2][0]===He[3][0]&&He[0][1]===He[3][1]&&He[1][1]===He[2][1]||He[0][1]===He[1][1]&&He[2][1]===He[3][1]&&He[0][0]===He[3][0]&&He[1][0]===He[2][0],He.isRect&&(He.xmin=Math.min(He[0][0],He[2][0]),He.xmax=Math.max(He[0][0],He[2][0]),He.ymin=Math.min(He[0][1],He[2][1]),He.ymax=Math.max(He[0][1],He[2][1])),He;var He}function De(xe){return function(Oe,Ce){for(var Be,qe,He=0;He<xe.length;He++){var Je=xe[He],et=Je._id,st=et.charAt(0);if(Ce.isRect){Be||(Be={});var pt=Ce[st+"min"],ct=Ce[st+"max"];void 0!==pt&&void 0!==ct&&(Be[et]=[H(Je,pt),H(Je,ct)].sort(I))}else qe||(qe={}),qe[et]=Ce.map(Z(Je))}Be&&(Oe.range=Be),qe&&(Oe.lassoPoints=qe)}}function Ue(xe,Oe){Oe&&(Oe.selections=(xe.layout||{}).selections||[]),xe.emit("plotly_selected",Oe)}function Ze(xe){xe.emit("plotly_deselect",null)}ae.exports={reselect:Ee,prepSelect:function(xe,Oe,Ce,Be,qe){var He=!se(Be),Je=s(qe),et=a(qe),st=l(qe),pt=o(qe),ct=c(qe),St="drawcircle"===qe,Dt="drawline"===qe||St,vt=Be.gd,gt=vt._fullLayout,Et=ct&&"immediate"===gt.newselection.mode&&He,Pt=gt._zoomlayer,Ot=Be.element.getBoundingClientRect(),Ht=Be.plotinfo,zt=$(Ht),nt=Oe-Ot.left,it=Ce-Ot.top;gt._calcInverseTransform(vt);var rt,ft,ht,Ve,Ge,ut,dt,Ke=p.apply3DTransform(gt._invTransform)(nt,it),kt=gt._invScaleX,bt=gt._invScaleY,At=nt=Ke[0],xt=it=Ke[1],Rt="M"+nt+","+it,_t=Be.xaxes[0],Tt=Be.yaxes[0],It=_t._length,Wt=Tt._length,Zt=xe.altKey&&!(o(qe)&&st);oe(xe,vt,Be),Je&&(rt=N([[nt,it]],j.BENDPX));var $t=Pt.selectAll("path.select-outline-"+Ht.id).data([1]),dn=pt?gt.newshape:gt.newselection;pt&&(Be.hasText=dn.label.text||dn.label.texttemplate);var nn=pt&&!st?dn.fillcolor:"rgba(0,0,0,0)",cn=dn.line.color||(He?M.contrast(vt._fullLayout.plot_bgcolor):"#7f7f7f");$t.enter().append("path").attr("class","select-outline select-outline-"+Ht.id).style({opacity:pt?dn.opacity/2:1,"stroke-dasharray":S(dn.line.dash,dn.line.width),"stroke-width":dn.line.width+"px","shape-rendering":"crispEdges"}).call(M.stroke,cn).call(M.fill,nn).attr("fill-rule","evenodd").classed("cursor-move",!!pt).attr("transform",zt).attr("d",Rt+"Z");var rn=Pt.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1}).attr("transform",zt).attr("d","M0,0Z");if(pt&&Be.hasText){var En=Pt.select(".label-temp");En.empty()&&(En=Pt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Pn=gt._uid+j.SELECTID,Mn=[],en=he(vt,Be.xaxes,Be.yaxes,Be.subplot);Et&&!xe.shiftKey&&(Be._clearSubplotSelections=function(){if(He){var an=_t._id,yn=Tt._id;Se(vt,an,yn,en);for(var kn=(vt.layout||{}).selections||[],Ln=[],Rn=!1,Wn=0;Wn<kn.length;Wn++){var Cn=gt.selections[Wn];Cn.xref!==an||Cn.yref!==yn?Ln.push(kn[Wn]):Rn=!0}Rn&&(vt._fullLayout._noEmitSelectedAtStart=!0,d.call("_guiRelayout",vt,{selections:Ln}))}});var an,gn=(an=Be).plotinfo.fillRangeItems||De(an.xaxes.concat(an.yaxes));Be.moveFn=function(an,yn){Be._clearSubplotSelections&&(Be._clearSubplotSelections(),Be._clearSubplotSelections=void 0),At=Math.max(0,Math.min(It,kt*an+nt)),xt=Math.max(0,Math.min(Wt,bt*yn+it));var kn=Math.abs(At-nt),Ln=Math.abs(xt-it);if(et){var Rn,Wn,Cn;if(ct){var Zn=gt.selectdirection;switch(Rn="any"===Zn?Ln<Math.min(.6*kn,X)?"h":kn<Math.min(.6*Ln,X)?"v":"d":Zn){case"h":Wn=St?Wt/2:0,Cn=Wt;break;case"v":Wn=St?It/2:0,Cn=It}}if(pt)switch(gt.newshape.drawdirection){case"vertical":Rn="h",Wn=St?Wt/2:0,Cn=Wt;break;case"horizontal":Rn="v",Wn=St?It/2:0,Cn=It;break;case"ortho":kn<Ln?(Rn="h",Wn=it,Cn=xt):(Rn="v",Wn=nt,Cn=At);break;default:Rn="d"}"h"===Rn?((Ve=Dt?m(St,[At,Wn],[At,Cn]):[[nt,Wn],[nt,Cn],[At,Cn],[At,Wn]]).xmin=Dt?At:Math.min(nt,At),Ve.xmax=Dt?At:Math.max(nt,At),Ve.ymin=Math.min(Wn,Cn),Ve.ymax=Math.max(Wn,Cn),rn.attr("d","M"+Ve.xmin+","+(it-X)+"h-4v"+2*X+"h4ZM"+(Ve.xmax-1)+","+(it-X)+"h4v"+2*X+"h-4Z")):"v"===Rn?((Ve=Dt?m(St,[Wn,xt],[Cn,xt]):[[Wn,it],[Wn,xt],[Cn,xt],[Cn,it]]).xmin=Math.min(Wn,Cn),Ve.xmax=Math.max(Wn,Cn),Ve.ymin=Dt?xt:Math.min(it,xt),Ve.ymax=Dt?xt:Math.max(it,xt),rn.attr("d","M"+(nt-X)+","+Ve.ymin+"v-4h"+2*X+"v4ZM"+(nt-X)+","+(Ve.ymax-1)+"v4h"+2*X+"v-4Z")):"d"===Rn&&((Ve=Dt?m(St,[nt,it],[At,xt]):[[nt,it],[nt,xt],[At,xt],[At,it]]).xmin=Math.min(nt,At),Ve.xmax=Math.max(nt,At),Ve.ymin=Math.min(it,xt),Ve.ymax=Math.max(it,xt),rn.attr("d","M0,0Z"))}else Je&&(rt.addPt([At,xt]),Ve=rt.filtered);if(Be.selectionDefs&&Be.selectionDefs.length?(ht=Me(Be.mergedPolygons,Ve,Zt),Ve.subtract=Zt,ft=ee(Be.selectionDefs.concat([Ve]))):(ht=[Ve],ft=q(Ve)),h(we(ht,st),$t,Be),ct){var mr,lr=Ee(vt,!1),er=lr.eventData?lr.eventData.points.slice():[];lr=Ee(vt,!1,ft,en,Be),ft=lr.selectionTesters,dt=lr.eventData,mr=rt?rt.filtered:Re(ht),L.throttle(Pn,j.SELECTDELAY,function(){for(var xr=(Mn=ze(ft,en)).slice(),dr=0;dr<er.length;dr++){for(var jr=er[dr],Kt=!1,qt=0;qt<xr.length;qt++)if(xr[qt].curveNumber===jr.curveNumber&&xr[qt].pointNumber===jr.pointNumber){Kt=!0;break}Kt||xr.push(jr)}xr.length&&(dt||(dt={}),dt.points=xr),gn(dt,mr),vt.emit("plotly_selecting",dt)})}},Be.clickFn=function(an,yn){if(rn.remove(),vt._fullLayout._activeShapeIndex>=0)vt._fullLayout._deactivateShape(vt);else if(!pt){var kn=gt.clickmode;L.done(Pn).then(function(){if(L.clear(Pn),2===an){for($t.remove(),Ge=0;Ge<en.length;Ge++)(ut=en[Ge])._module.selectPoints(ut,!1);if(Ie(vt,en),ce(Be),Ze(vt),en.length){var Ln=en[0].xaxis,Rn=en[0].yaxis;if(Ln&&Rn){for(var Wn=[],Cn=vt._fullLayout.selections,Zn=0;Zn<Cn.length;Zn++){var mr=Cn[Zn];mr&&(mr.xref===Ln._id&&mr.yref===Rn._id||Wn.push(mr))}Wn.length<Cn.length&&(vt._fullLayout._noEmitSelectedAtStart=!0,d.call("_guiRelayout",vt,{selections:Wn}))}}}else kn.indexOf("select")>-1&&ne(yn,vt,Be.xaxes,Be.yaxes,Be.subplot,Be,$t),"event"===kn&&Ue(vt,void 0);v.click(vt,yn)}).catch(p.error)}},Be.doneFn=function(){rn.remove(),L.done(Pn).then(function(){L.clear(Pn),!Et&&Ve&&Be.selectionDefs&&(Ve.subtract=Zt,Be.selectionDefs.push(Ve),Be.mergedPolygons.length=0,[].push.apply(Be.mergedPolygons,ht)),(Et||pt)&&ce(Be,Et),Be.doneFnCompleted&&Be.doneFnCompleted(Mn),ct&&Ue(vt,dt)}).catch(p.error)}},clearOutline:T,clearSelectionsCache:ce,selectOnClick:ne}},89827:function(ae,B,r){"use strict";var D=r(50215),E=r(41940),d=r(82196).line,S=r(79952).P,M=r(1426).extendFlat,v=r(44467).templatedArray,u=(r(24695),r(9012)),i=r(5386).R,s=r(37281);ae.exports=v("shape",{visible:M({},u.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:M({},u.legend,{editType:"calc+arraydraw"}),legendgroup:M({},u.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:M({},u.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:E({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:M({},u.legendrank,{editType:"calc+arraydraw"}),legendwidth:M({},u.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:M({},D.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:M({},D.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:M({},d.color,{editType:"arraydraw"}),width:M({},d.width,{editType:"calc+arraydraw"}),dash:M({},S,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:i({},{keys:Object.keys(s)}),font:E({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(21459),S=r(30477);function M(s){return u(s.line.width,s.xsizemode,s.x0,s.x1,s.path,!1)}function v(s){return u(s.line.width,s.ysizemode,s.y0,s.y1,s.path,!0)}function u(s,a,o,l,c,f){var g=s/2,h=f;if("pixel"===a){var T=c?S.extractPathCoords(c,f?d.paramIsY:d.paramIsX):[o,l],x=D.aggNums(Math.max,null,T),m=D.aggNums(Math.min,null,T),b=m<0?Math.abs(m)+g:g,_=x>0?x+g:g;return{ppad:g,ppadplus:h?b:_,ppadminus:h?_:b}}return{ppad:g}}function i(s,a,o,l,c){var f="category"===s.type||"multicategory"===s.type?s.r2c:s.d2c;if(void 0!==a)return[f(a),f(o)];if(l){var g,h,T,x,m=1/0,b=-1/0,_=l.match(d.segmentRE);for("date"===s.type&&(f=S.decodeDate(f)),g=0;g<_.length;g++)void 0!==(h=c[_[g].charAt(0)].drawn)&&(!(T=_[g].substr(1).match(d.paramRE))||T.length<h||((x=f(T[h]))<m&&(m=x),x>b&&(b=x)));return b>=m?[m,b]:void 0}}ae.exports=function(s){var o=D.filterVisible(s._fullLayout.shapes);if(o.length&&s._fullData.length)for(var l=0;l<o.length;l++){var c,f,g=o[l];g._extremes={};var h=E.getRefType(g.xref),T=E.getRefType(g.yref);if("paper"!==g.xref&&"domain"!==h){var x="pixel"===g.xsizemode?g.xanchor:g.x0,m="pixel"===g.xsizemode?g.xanchor:g.x1;(f=i(c=E.getFromId(s,g.xref),x,m,g.path,d.paramIsX))&&(g._extremes[c._id]=E.findExtremes(c,f,M(g)))}if("paper"!==g.yref&&"domain"!==T){var b="pixel"===g.ysizemode?g.yanchor:g.y0,_="pixel"===g.ysizemode?g.yanchor:g.y1;(f=i(c=E.getFromId(s,g.yref),b,_,g.path,d.paramIsY))&&(g._extremes[c._id]=E.findExtremes(c,f,v(g)))}}}},21459:function(ae){"use strict";ae.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(85501),S=r(89827),M=r(30477);function v(u,i,s){function a(G,H){return D.coerce(u,i,S,G,H)}if(i._isShape=!0,a("visible")){a("showlegend")&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),D.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var o=a("path"),l=a("type",o?"path":"rect"),c="path"!==l;c&&delete i.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule"),a("line.width")&&(a("line.color"),a("line.dash"));for(var f=a("xsizemode"),g=a("ysizemode"),h=["x","y"],T=0;T<2;T++){var x,m,b,_=h[T],w=_+"anchor",A="x"===_?f:g,p={_fullLayout:s},I=E.coerceRef(u,i,p,_,void 0,"paper");if("range"===E.getRefType(I)?((x=E.getFromId(p,I))._shapeIndices.push(i._index),b=M.rangeToShapePosition(x),m=M.shapePositionToRange(x)):m=b=D.identity,c){var k=_+"0",L=_+"1",O=u[k],P=u[L];u[k]=m(u[k],!0),u[L]=m(u[L],!0),"pixel"===A?(a(k,0),a(L,10)):(E.coercePosition(i,p,a,I,k,.25),E.coercePosition(i,p,a,I,L,.75)),i[k]=b(i[k]),i[L]=b(i[L]),u[k]=O,u[L]=P}if("pixel"===A){var F=u[w];u[w]=m(u[w],!0),E.coercePosition(i,p,a,I,w,.25),i[w]=b(i[w]),u[w]=F}}c&&D.noneOrAll(u,i,["x0","x1","y0","y1"]);var j,X,N="line"===l;if(c&&(j=a("label.texttemplate")),j||(X=a("label.text")),X||j){a("label.textangle");var q=a("label.textposition",N?"middle":"middle center");a("label.xanchor"),a("label.yanchor",(H=q,N?"bottom":-1!==H.indexOf("top")?"top":-1!==H.indexOf("bottom")?"bottom":"middle")),a("label.padding"),D.coerceFont(a,"label.font",s.font)}}var H}ae.exports=function(u,i){d(u,i,{name:"shapes",handleItemDefaults:v})}},48100:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(63893),S=r(91424),M=r(60165).readPaths,v=r(30477),u=v.getPathString,i=r(37281),s=r(18783).FROM_TL;ae.exports=function(a,o,l,c){if(c.selectAll(".shape-label").remove(),l.label.text||l.label.texttemplate){var f;if(l.label.texttemplate){var g={};if("path"!==l.type){var h=E.getFromId(a,l.xref),T=E.getFromId(a,l.yref);for(var x in i){var m=i[x](l,h,T);void 0!==m&&(g[x]=m)}}f=D.texttemplateStringForShapes(l.label.texttemplate,{},a._fullLayout._d3locale,g)}else f=l.label.text;var b,_,w,A,p={"data-index":o},I=l.label.font,k=c.append("g").attr(p).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(f);if(l.path){var L=u(a,l),O=M(L,a);b=1/0,w=1/0,_=-1/0,A=-1/0;for(var P=0;P<O.length;P++)for(var F=0;F<O[P].length;F++)for(var j=O[P][F],X=1;X<j.length;X+=2){var N=j[X],q=j[X+1];b=Math.min(b,N),_=Math.max(_,N),w=Math.min(w,q),A=Math.max(A,q)}}else{var G=E.getFromId(a,l.xref),H=E.getRefType(l.xref),Z=E.getFromId(a,l.yref),$=E.getRefType(l.yref),se=v.getDataToPixel(a,G,!1,H),ne=v.getDataToPixel(a,Z,!0,$);b=se(l.x0),_=se(l.x1),w=ne(l.y0),A=ne(l.y1)}var re=l.label.textangle;"auto"===re&&(re="line"===l.type?(ue=b,he=w,ve=_,ke=A,Me=Math.abs(ve-ue),-180/Math.PI*Math.atan2(ve>=ue?he-ke:ke-he,Me)):0),k.call(function(ue){return ue.call(S.font,I).attr({}),d.convertToTspans(ue,a),ue});var Q=function(ue,he,ve,ke,Ie,Me,_e){var we,ze,Ee,Se,me=Ie.label.textposition,fe=Ie.label.textangle,le=Ie.label.padding,Te=Ie.type,Re=Math.PI/180*Me,De=Math.sin(Re),Ue=Math.cos(Re),Ze=Ie.label.xanchor,xe=Ie.label.yanchor;if("line"===Te){"start"===me?(we=ue,ze=he):"end"===me?(we=ve,ze=ke):(we=(ue+ve)/2,ze=(he+ke)/2),"auto"===Ze&&(Ze="start"===me?"auto"===fe?ve>ue?"left":ve<ue?"right":"center":ve>ue?"right":ve<ue?"left":"center":"end"===me?"auto"===fe?ve>ue?"right":ve<ue?"left":"center":ve>ue?"left":ve<ue?"right":"center":"center");var Oe={bottom:-1,middle:0,top:1};if("auto"===fe){var Ce=Oe[xe];Ee=-le*De*Ce,Se=le*Ue*Ce}else Ee=le*{left:1,center:0,right:-1}[Ze],Se=le*Oe[xe];we+=Ee,ze+=Se}else Ee=le+3,-1!==me.indexOf("right")?(we=Math.max(ue,ve)-Ee,"auto"===Ze&&(Ze="right")):-1!==me.indexOf("left")?(we=Math.min(ue,ve)+Ee,"auto"===Ze&&(Ze="left")):(we=(ue+ve)/2,"auto"===Ze&&(Ze="center")),ze=-1!==me.indexOf("top")?Math.min(he,ke):-1!==me.indexOf("bottom")?Math.max(he,ke):(he+ke)/2,Se=le,"bottom"===xe?ze-=Se:"top"===xe&&(ze+=Se);var Be=s[xe],qe=Ie.label.font.size,He=_e.height;return{textx:we+(He*Be-qe)*De,texty:ze+-(He*Be-qe)*Ue,xanchor:Ze}}(b,w,_,A,l,re,S.bBox(k.node())),ee=Q.textx,oe=Q.texty;k.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Q.xanchor],y:oe,x:ee,transform:"rotate("+re+","+ee+","+oe+")"}).call(d.positionText,ee,oe)}var ue,he,ve,ke,Me}},42359:function(ae,B,r){"use strict";var D=r(71828).strTranslate,E=r(28569),d=r(64505),S=d.drawMode,M=d.selectMode,v=r(73972),u=r(7901),i=r(89995),s=i.i000,a=i.i090,o=i.i180,l=i.i270,c=r(51873).clearOutlineControllers,f=r(60165),g=f.pointsOnRectangle,h=f.pointsOnEllipse,T=f.writePaths,x=r(90551).newShapes,m=r(90551).createShapeObj,b=r(35855),_=r(48100);function w(A,p){var I,k,L,F=A.length;return k=A[I=(p+1)%F][1],L=A[I][2],k===A[p][1]&&L===A[p][2]&&(k=A[I=(p+2)%F][1],L=A[I][2]),[I,k,L]}ae.exports=function A(p,I,k,L){L||(L=0);var O=k.gd;function P(){A(p,I,k,L++),(h(p[0])||k.hasText)&&F({redrawing:!0})}function F(Ie){var Me={};void 0!==k.isActiveShape&&(k.isActiveShape=!1,Me=x(I,k)),void 0!==k.isActiveSelection&&(k.isActiveSelection=!1,Me=b(I,k),O._fullLayout._reselect=!0),Object.keys(Me).length&&v.call((Ie||{}).redrawing?"relayout":"_guiRelayout",O,Me)}var j,X,N,q,G,H=O._fullLayout._zoomlayer,Z=k.dragmode,$=S(Z),se=M(Z);if(($||se)&&(O._fullLayout._outlining=!0),c(O),I.attr("d",T(p)),L||!k.isActiveShape&&!k.isActiveSelection||(G=function(Ie,Me){for(var _e=0;_e<Me.length;_e++){var we=Me[_e];Ie[_e]=[];for(var ze=0;ze<we.length;ze++){Ie[_e][ze]=[];for(var Ee=0;Ee<we[ze].length;Ee++)Ie[_e][ze][Ee]=we[ze][Ee]}}return Ie}([],p),function(Ie){j=[];for(var Me=0;Me<p.length;Me++){var _e=p[Me],we=g(_e),ze=!we&&h(_e);j[Me]=[];for(var Ee=_e.length,Se=0;Se<Ee;Se++)if("Z"!==_e[Se][0]&&(!ze||Se===s||Se===a||Se===o||Se===l)){var me,fe=we&&k.isActiveSelection;fe&&(me=w(_e,Se));var le=_e[Se][1],Te=_e[Se][2],Re=Ie.append(fe?"rect":"circle").attr("data-i",Me).attr("data-j",Se).style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(fe){var De=me[1]-le,Ue=me[2]-Te,Ze=Ue?5:Math.max(Math.min(25,Math.abs(De)-5),5),xe=De?5:Math.max(Math.min(25,Math.abs(Ue)-5),5);Re.classed(Ue?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ze).attr("height",xe).attr("x",le-Ze/2).attr("y",Te-xe/2).attr("transform",D(De/2,Ue/2))}else Re.classed("cursor-grab",!0).attr("r",5).attr("cx",le).attr("cy",Te);j[Me][Se]={element:Re.node(),gd:O,prepFn:Q,doneFn:oe,clickFn:ce},E.init(j[Me][Se])}}}(H.append("g").attr("class","outline-controllers")),X=[],p.length&&(X[0]={element:I[0][0],gd:O,prepFn:function he(Ie){(N=+Ie.srcElement.getAttribute("data-i"))||(N=0),X[N].moveFn=ue},doneFn:function ve(){F()},clickFn:function ke(Ie){2===Ie&&function(Me){if(M(Me._fullLayout.dragmode)){c(Me);var _e=Me._fullLayout._activeSelectionIndex,we=(Me.layout||{}).selections||[];if(_e<we.length){for(var ze=[],Ee=0;Ee<we.length;Ee++)Ee!==_e&&ze.push(we[Ee]);delete Me._fullLayout._activeSelectionIndex;var Se=Me._fullLayout.selections[_e];Me._fullLayout._deselect={xref:Se.xref,yref:Se.yref},v.call("_guiRelayout",Me,{selections:ze})}}}(O)}},E.init(X[0]))),$&&k.hasText){var ne=H.select(".label-temp"),re=m(I,k,k.dragmode);_(O,"label-temp",re,ne)}function Q(Ie){N=+Ie.srcElement.getAttribute("data-i"),q=+Ie.srcElement.getAttribute("data-j"),j[N][q].moveFn=ee}function ee(Ie,Me){if(p.length){var _e=G[N][q][1],we=G[N][q][2],ze=p[N],Ee=ze.length;if(g(ze)){var Se=Ie,me=Me;k.isActiveSelection&&(w(ze,q)[1]===ze[q][1]?me=0:Se=0);for(var fe=0;fe<Ee;fe++)if(fe!==q){var le=ze[fe];le[1]===ze[q][1]&&(le[1]=_e+Se),le[2]===ze[q][2]&&(le[2]=we+me)}if(ze[q][1]=_e+Se,ze[q][2]=we+me,!g(ze))for(var Te=0;Te<Ee;Te++)for(var Re=0;Re<ze[Te].length;Re++)ze[Te][Re]=G[N][Te][Re]}else ze[q][1]=_e+Ie,ze[q][2]=we+Me;P()}}function oe(){F()}function ce(Ie,Me){if(2===Ie){N=+Me.srcElement.getAttribute("data-i"),q=+Me.srcElement.getAttribute("data-j");var _e=p[N];g(_e)||h(_e)||function(){if(p.length&&p[N]&&p[N].length){for(var we=[],ze=0;ze<p[N].length;ze++)ze!==q&&we.push(p[N][ze]);we.length>1&&(2!==we.length||"Z"!==we[1][0])&&(0===q&&(we[0][0]="M"),p[N]=we,P(),F())}}()}}function ue(Ie,Me){(function(_e,we){if(p.length)for(var ze=0;ze<p.length;ze++)for(var Ee=0;Ee<p[ze].length;Ee++)for(var Se=0;Se+2<p[ze][Ee].length;Se+=2)p[ze][Ee][Se+1]=G[ze][Ee][Se+1]+_e,p[ze][Ee][Se+2]=G[ze][Ee][Se+2]+we})(Ie,Me),P()}}},34031:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(71828),S=r(89298),M=r(60165).readPaths,v=r(42359),u=r(48100),i=r(51873).clearOutlineControllers,s=r(7901),a=r(91424),o=r(44467).arrayEditor,l=r(28569),c=r(6964),f=r(21459),g=r(30477),h=g.getPathString;function T(p){var I=p._fullLayout;for(var k in I._shapeUpperLayer.selectAll("path").remove(),I._shapeLowerLayer.selectAll("path").remove(),I._shapeUpperLayer.selectAll("text").remove(),I._shapeLowerLayer.selectAll("text").remove(),I._plots){var L=I._plots[k].shapelayer;L&&(L.selectAll("path").remove(),L.selectAll("text").remove())}for(var O=0;O<I.shapes.length;O++)!0===I.shapes[O].visible&&b(p,O)}function x(p){return!!p._fullLayout._outlining}function m(p){return!p._context.edits.shapePosition}function b(p,I){p._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+I+'"]').remove();var k=g.makeShapesOptionsAndPlotinfo(p,I),L=k.options,O=k.plotinfo;L._input&&!0===L.visible&&function P(F){var j=h(p,L),X={"data-index":I,"fill-rule":L.fillrule,d:j},N=L.opacity,q=L.fillcolor,G=L.line.width?L.line.color:"rgba(0,0,0,0)",H=L.line.width,Z=L.line.dash;H||!0!==L.editable||(H=5,Z="solid");var $="Z"!==j[j.length-1],se=m(p)&&L.editable&&p._fullLayout._activeShapeIndex===I;se&&(q=$?"rgba(0,0,0,0)":p._fullLayout.activeshape.fillcolor,N=p._fullLayout.activeshape.opacity);var ne,re=F.append("g").classed("shape-group",!0).attr({"data-index":I}),Q=re.append("path").attr(X).style("opacity",N).call(s.stroke,G).call(s.fill,q).call(a.dashLine,Z,H);if(_(re,p,L),u(p,I,L,re),(se||p._context.edits.shapePosition)&&(ne=o(p.layout,"shapes",L)),se){Q.style({cursor:"move"});var ee={element:Q.node(),plotinfo:O,gd:p,editHelpers:ne,hasText:L.label.text||L.label.texttemplate,isActiveShape:!0},oe=M(j,p);v(oe,Q,ee)}else p._context.edits.shapePosition?function(ce,ue,he,ve,ke,Ie){var Me,_e,we,ze,Ee,Se,me,fe,le,Te,Re,De,Ue,Ze,xe,Oe,Ce=10,Be=10,qe="pixel"===he.xsizemode,He="pixel"===he.ysizemode,Je="line"===he.type,et="path"===he.type,st=Ie.modifyItem,pt=D.select(ue.node().parentNode),ct=S.getFromId(ce,he.xref),St=S.getRefType(he.xref),Dt=S.getFromId(ce,he.yref),vt=S.getRefType(he.yref),gt=g.getDataToPixel(ce,ct,!1,St),Et=g.getDataToPixel(ce,Dt,!0,vt),Pt=g.getPixelToData(ce,ct,!1,St),Ot=g.getPixelToData(ce,Dt,!0,vt),Ht=Je?function(){var Ve=Math.max(he.line.width,10),Ge=ke.append("g").attr("data-index",ve).attr("drag-helper",!0);Ge.append("path").attr("d",ue.attr("d")).style({cursor:"move","stroke-width":Ve,"stroke-opacity":"0"});var ut={"fill-opacity":"0"},dt=Math.max(Ve/2,10);return Ge.append("circle").attr({"data-line-point":"start-point",cx:qe?gt(he.xanchor)+he.x0:gt(he.x0),cy:He?Et(he.yanchor)-he.y0:Et(he.y0),r:dt}).style(ut).classed("cursor-grab",!0),Ge.append("circle").attr({"data-line-point":"end-point",cx:qe?gt(he.xanchor)+he.x1:gt(he.x1),cy:He?Et(he.yanchor)-he.y1:Et(he.y1),r:dt}).style(ut).classed("cursor-grab",!0),Ge}():ue,zt={element:Ht.node(),gd:ce,prepFn:function(ht){var Ve,Ge,ut,dt,kt,bt,At,xt;x(ce)||(qe&&(Ee=gt(he.xanchor)),He&&(Se=Et(he.yanchor)),"path"===he.type?xe=he.path:(Me=qe?he.x0:gt(he.x0),_e=He?he.y0:Et(he.y0),we=qe?he.x1:gt(he.x1),ze=He?he.y1:Et(he.y1)),Me<we?(le=Me,Ue="x0",Te=we,Ze="x1"):(le=we,Ue="x1",Te=Me,Ze="x0"),!He&&_e<ze||He&&_e>ze?(me=_e,Re="y0",fe=ze,De="y1"):(me=ze,Re="y1",fe=_e,De="y0"),nt(ht),rt(ke,he),Ve=ue,kt=(Ge=he).yref,bt=S.getFromId(ut=ce,dt=Ge.xref),At=S.getFromId(ut,kt),xt="","paper"===dt||bt.autorange||(xt+=dt),"paper"===kt||At.autorange||(xt+=kt),a.setClipUrl(Ve,xt?"clip"+ut._fullLayout._uid+xt:null,ut),zt.moveFn="move"===Oe?it:Ke,zt.altKey=ht.altKey)},doneFn:function(){x(ce)||(c(ue),ft(ke),_(ue,ce,he),E.call("_guiRelayout",ce,Ie.getUpdateObj()))},clickFn:function(){x(ce)||ft(ke)}};function nt(ht){if(x(ce))Oe=null;else if(Je)Oe="path"===ht.target.tagName?"move":"start-point"===ht.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Ve=zt.element.getBoundingClientRect(),Ge=Ve.right-Ve.left,ut=Ve.bottom-Ve.top,bt=!et&&Ge>Ce&&ut>Be&&!ht.shiftKey?l.getCursor((ht.clientX-Ve.left)/Ge,1-(ht.clientY-Ve.top)/ut):"move";c(ue,bt),Oe=bt.split("-")[0]}}function it(ht,Ve){if("path"===he.type){var Ge=function(kt){return kt},ut=Ge,dt=Ge;qe?st("xanchor",he.xanchor=Pt(Ee+ht)):(ut=function(kt){return Pt(gt(kt)+ht)},ct&&"date"===ct.type&&(ut=g.encodeDate(ut))),He?st("yanchor",he.yanchor=Ot(Se+Ve)):(dt=function(kt){return Ot(Et(kt)+Ve)},Dt&&"date"===Dt.type&&(dt=g.encodeDate(dt))),st("path",he.path=w(xe,ut,dt))}else qe?st("xanchor",he.xanchor=Pt(Ee+ht)):(st("x0",he.x0=Pt(Me+ht)),st("x1",he.x1=Pt(we+ht))),He?st("yanchor",he.yanchor=Ot(Se+Ve)):(st("y0",he.y0=Ot(_e+Ve)),st("y1",he.y1=Ot(ze+Ve)));ue.attr("d",h(ce,he)),rt(ke,he),u(ce,ve,he,pt)}function Ke(ht,Ve){if(et){var Ge=function(cn){return cn},ut=Ge,dt=Ge;qe?st("xanchor",he.xanchor=Pt(Ee+ht)):(ut=function(cn){return Pt(gt(cn)+ht)},ct&&"date"===ct.type&&(ut=g.encodeDate(ut))),He?st("yanchor",he.yanchor=Ot(Se+Ve)):(dt=function(cn){return Ot(Et(cn)+Ve)},Dt&&"date"===Dt.type&&(dt=g.encodeDate(dt))),st("path",he.path=w(xe,ut,dt))}else if(Je){if("resize-over-start-point"===Oe){var kt=Me+ht,bt=He?_e-Ve:_e+Ve;st("x0",he.x0=qe?kt:Pt(kt)),st("y0",he.y0=He?bt:Ot(bt))}else if("resize-over-end-point"===Oe){var At=we+ht,xt=He?ze-Ve:ze+Ve;st("x1",he.x1=qe?At:Pt(At)),st("y1",he.y1=He?xt:Ot(xt))}}else{var Rt=function(cn){return-1!==Oe.indexOf(cn)},_t=Rt("n"),Tt=Rt("s"),It=Rt("w"),Wt=Rt("e"),Zt=_t?me+Ve:me,$t=Tt?fe+Ve:fe,dn=It?le+ht:le,nn=Wt?Te+ht:Te;He&&(_t&&(Zt=me-Ve),Tt&&($t=fe-Ve)),(!He&&$t-Zt>Be||He&&Zt-$t>Be)&&(st(Re,he[Re]=He?Zt:Ot(Zt)),st(De,he[De]=He?$t:Ot($t))),nn-dn>Ce&&(st(Ue,he[Ue]=qe?dn:Pt(dn)),st(Ze,he[Ze]=qe?nn:Pt(nn)))}ue.attr("d",h(ce,he)),rt(ke,he),u(ce,ve,he,pt)}function rt(ht,Ve){(qe||He)&&function(){var Ge="path"!==Ve.type,ut=ht.selectAll(".visual-cue").data([0]);ut.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var dt=gt(qe?Ve.xanchor:d.midRange(Ge?[Ve.x0,Ve.x1]:g.extractPathCoords(Ve.path,f.paramIsX))),kt=Et(He?Ve.yanchor:d.midRange(Ge?[Ve.y0,Ve.y1]:g.extractPathCoords(Ve.path,f.paramIsY)));dt=g.roundPositionForSharpStrokeRendering(dt,1),kt=g.roundPositionForSharpStrokeRendering(kt,1),ut.attr("d",qe&&He?"M"+(dt-1-1)+","+(kt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":qe?"M"+(dt-1-1)+","+(kt-9-1)+"v18 h2 v-18 Z":"M"+(dt-9-1)+","+(kt-1-1)+"h18 v2 h-18 Z")}()}function ft(ht){ht.selectAll(".visual-cue").remove()}l.init(zt),Ht.node().onmousemove=nt}(p,Q,L,I,F,ne):!0===L.editable&&Q.style("pointer-events",$||s.opacity(q)*N<=.5?"stroke":"all");Q.node().addEventListener("click",function(){return function(ce,ue){if(m(ce)){var he=+ue.node().getAttribute("data-index");if(he>=0){if(he===ce._fullLayout._activeShapeIndex)return void A(ce);ce._fullLayout._activeShapeIndex=he,ce._fullLayout._deactivateShape=A,T(ce)}}}(p,Q)})}("below"!==L.layer?p._fullLayout._shapeUpperLayer:"paper"===L.xref||"paper"===L.yref?p._fullLayout._shapeLowerLayer:O._hadPlotinfo?(O.mainplotinfo||O).shapelayer:p._fullLayout._shapeLowerLayer)}function _(p,I,k){var L=(k.xref+k.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(p,L?"clip"+I._fullLayout._uid+L:null,I)}function w(p,I,k){return p.replace(f.segmentRE,function(L){var O=0,P=L.charAt(0),F=f.paramIsX[P],j=f.paramIsY[P],X=f.numParams[P];return P+L.substr(1).replace(f.paramRE,function(N){return O>=X||(F[O]?N=I(N):j[O]&&(N=k(N)),O++),N})})}function A(p){m(p)&&p._fullLayout._activeShapeIndex>=0&&(i(p),delete p._fullLayout._activeShapeIndex,T(p))}ae.exports={draw:T,drawOne:b,eraseActiveShape:function(p){if(m(p)){i(p);var I=p._fullLayout._activeShapeIndex,k=(p.layout||{}).shapes||[];if(I<k.length){for(var L=[],O=0;O<k.length;O++)O!==I&&L.push(k[O]);return delete p._fullLayout._activeShapeIndex,E.call("_guiRelayout",p,{shapes:L})}}},drawLabel:u}},29241:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(9012),d=r(41940),S=r(79952).P,M=r(1426).extendFlat,v=r(5386).R,u=r(37281);ae.exports=D({newshape:{visible:M({},E.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:M({},E.legend,{}),legendgroup:M({},E.legendgroup,{}),legendgrouptitle:{text:M({},E.legendgrouptitle.text,{}),font:d({})},legendrank:M({},E.legendrank,{}),legendwidth:M({},E.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:M({},S,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:M({},E.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(u)}),font:d({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(ae){"use strict";ae.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(ae,B,r){"use strict";var D=r(7901),E=r(71828);ae.exports=function(d,S,M){M("newshape.visible"),M("newshape.name"),M("newshape.showlegend"),M("newshape.legend"),M("newshape.legendwidth"),M("newshape.legendgroup"),M("newshape.legendgrouptitle.text"),E.coerceFont(M,"newshape.legendgrouptitle.font"),M("newshape.legendrank"),M("newshape.drawdirection"),M("newshape.layer"),M("newshape.fillcolor"),M("newshape.fillrule"),M("newshape.opacity"),M("newshape.line.width")&&(M("newshape.line.color",D.contrast((d||{}).plot_bgcolor||"#FFF")),M("newshape.line.dash"));var l,u="drawline"===d.dragmode,i=M("newshape.label.text"),s=M("newshape.label.texttemplate");if(i||s){M("newshape.label.textangle");var a=M("newshape.label.textposition",u?"middle":"middle center");M("newshape.label.xanchor"),M("newshape.label.yanchor",(l=a,u?"bottom":-1!==l.indexOf("top")?"top":-1!==l.indexOf("bottom")?"bottom":"middle")),M("newshape.label.padding"),E.coerceFont(M,"newshape.label.font",S.font)}M("activeshape.fillcolor"),M("activeshape.opacity")}},60165:function(ae,B,r){"use strict";var D=r(95616),E=r(89995),d=E.CIRCLE_SIDES,S=E.SQRT2,M=r(75549),v=M.p2r,u=M.r2p,i=[0,3,4,5,6,1,2],s=[0,3,4,1,2];function a(l,c){return Math.abs(l-c)<=1e-6}function o(l,c){var f=c[1]-l[1],g=c[2]-l[2];return Math.sqrt(f*f+g*g)}B.writePaths=function(l){var c=l.length;if(!c)return"M0,0Z";for(var f="",g=0;g<c;g++)for(var h=l[g].length,T=0;T<h;T++){var x=l[g][T][0];if("Z"===x)f+="Z";else for(var m=l[g][T].length,b=0;b<m;b++){var _=b;"Q"===x||"S"===x?_=s[b]:"C"===x&&(_=i[b]),f+=l[g][T][_],b>0&&b<m-1&&(f+=",")}}return f},B.readPaths=function(l,c,f,g){var h,T,x,m=D(l),b=[],_=-1,w=0,A=0,p=function(){T=w,x=A};p();for(var I=0;I<m.length;I++){var F=[],j=m[I][0],X=j;switch(j){case"M":b[++_]=[],F.push([X,w=+m[I][1],A=+m[I][2]]),p();break;case"Q":case"S":F.push([X,w=+m[I][3],A=+m[I][4],+m[I][1],+m[I][2]]);break;case"C":F.push([X,w=+m[I][5],A=+m[I][6],+m[I][1],+m[I][2],+m[I][3],+m[I][4]]);break;case"T":case"L":F.push([X,w=+m[I][1],A=+m[I][2]]);break;case"H":F.push([X="L",w=+m[I][1],A]);break;case"V":F.push([X="L",w,A=+m[I][1]]);break;case"A":X="L";var N=+m[I][1],q=+m[I][2];+m[I][4]||(N=-N,q=-q);var G=w-N,H=A;for(h=1;h<=d/2;h++){var Z=2*Math.PI*h/d;F.push([X,G+N*Math.cos(Z),H+q*Math.sin(Z)])}break;case"Z":w===T&&A===x||F.push([X,w=T,A=x])}for(var $=(f||{}).domain,se=c._fullLayout._size,ne=f&&"pixel"===f.xsizemode,re=f&&"pixel"===f.ysizemode,Q=!1===g,ee=0;ee<F.length;ee++){for(h=0;h+2<7;h+=2){var oe=F[ee][h+1],ce=F[ee][h+2];void 0!==oe&&void 0!==ce&&(w=oe,A=ce,f&&(f.xaxis&&f.xaxis.p2r?(Q&&(oe-=f.xaxis._offset),oe=ne?u(f.xaxis,f.xanchor)+oe:v(f.xaxis,oe)):(Q&&(oe-=se.l),$?oe=$.x[0]+oe/se.w:oe/=se.w),f.yaxis&&f.yaxis.p2r?(Q&&(ce-=f.yaxis._offset),ce=re?u(f.yaxis,f.yanchor)-ce:v(f.yaxis,ce)):(Q&&(ce-=se.t),ce=$?$.y[1]-ce/se.h:1-ce/se.h)),F[ee][h+1]=oe,F[ee][h+2]=ce)}b[_].push(F[ee].slice())}}return b},B.pointsOnRectangle=function(l){if(5!==l.length)return!1;for(var c=1;c<3;c++)if(!a(l[0][c]-l[1][c],l[3][c]-l[2][c])||!a(l[0][c]-l[3][c],l[1][c]-l[2][c]))return!1;return!(!a(l[0][1],l[1][1])&&!a(l[0][1],l[3][1])||!(o(l[0],l[1])*o(l[0],l[3])))},B.pointsOnEllipse=function(l){var c=l.length;if(c!==d+1)return!1;c=d;for(var f=0;f<c;f++){var g=(2*c-f)%c,h=(c/2+g)%c;if(!a(o(l[f],l[(c/2+f)%c]),o(l[g],l[h])))return!1}return!0},B.handleEllipse=function(l,c,f){if(!l)return[c,f];var g=B.ellipseOver({x0:c[0],y0:c[1],x1:f[0],y1:f[1]}),h=(g.x1+g.x0)/2,T=(g.y1+g.y0)/2,x=(g.x1-g.x0)/2,m=(g.y1-g.y0)/2;x||(x=m/=S),m||(m=x/=S);for(var b=[],_=0;_<d;_++){var w=2*_*Math.PI/d;b.push([h+x*Math.cos(w),T+m*Math.sin(w)])}return b},B.ellipseOver=function(l){var c=l.x0,f=l.y0,g=l.x1,h=l.y1,T=g-c,x=h-f,m=((c-=T)+g)/2,b=((f-=x)+h)/2;return{x0:m-(T*=S),y0:b-(x*=S),x1:m+T,y1:b+x}},B.fixDatesForPaths=function(l,c,f){var g="date"===c.type,h="date"===f.type;if(!g&&!h)return l;for(var T=0;T<l.length;T++)for(var x=0;x<l[T].length;x++)for(var m=0;m+2<l[T][x].length;m+=2)g&&(l[T][x][m+1]=l[T][x][m+1].replace(" ","_")),h&&(l[T][x][m+2]=l[T][x][m+2].replace(" ","_"));return l}},90551:function(ae,B,r){"use strict";var D=r(64505),E=D.drawMode,d=D.openMode,S=r(89995),M=S.i000,v=S.i090,u=S.i180,i=S.i270,s=S.cos45,a=S.sin45,o=r(75549),l=o.p2r,c=o.r2p,f=r(51873).clearOutline,g=r(60165),h=g.readPaths,T=g.writePaths,x=g.ellipseOver,m=g.fixDatesForPaths;function b(_,w,A){var p,k=w.gd,L=_[0][0].getAttribute("d"),O=k._fullLayout.newshape,P=w.plotinfo,F=w.isActiveShape,j=P.xaxis,X=P.yaxis,N=!!P.domain||!P.xaxis,q=!!P.domain||!P.yaxis,G=d(A),H=h(L,k,P,F),Z={editable:!0,visible:O.visible,name:O.name,showlegend:O.showlegend,legend:O.legend,legendwidth:O.legendwidth,legendgroup:O.legendgroup,legendgrouptitle:{text:O.legendgrouptitle.text,font:O.legendgrouptitle.font},legendrank:O.legendrank,label:O.label,xref:N?"paper":j._id,yref:q?"paper":X._id,layer:O.layer,opacity:O.opacity,line:{color:O.line.color,width:O.line.width,dash:O.line.dash}};if(G||(Z.fillcolor=O.fillcolor,Z.fillrule=O.fillrule),1===H.length&&(p=H[0]),p&&5===p.length&&"drawrect"===A)Z.type="rect",Z.x0=p[0][1],Z.y0=p[0][2],Z.x1=p[2][1],Z.y1=p[2][2];else if(p&&"drawline"===A)Z.type="line",Z.x0=p[0][1],Z.y0=p[0][2],Z.x1=p[1][1],Z.y1=p[1][2];else if(p&&"drawcircle"===A){Z.type="circle";var $=p[M][1],se=p[v][1],ne=p[u][1],re=p[i][1],Q=p[M][2],ee=p[v][2],oe=p[u][2],ce=p[i][2],ue=P.xaxis&&("date"===P.xaxis.type||"log"===P.xaxis.type),he=P.yaxis&&("date"===P.yaxis.type||"log"===P.yaxis.type);ue&&($=c(P.xaxis,$),se=c(P.xaxis,se),ne=c(P.xaxis,ne),re=c(P.xaxis,re)),he&&(Q=c(P.yaxis,Q),ee=c(P.yaxis,ee),oe=c(P.yaxis,oe),ce=c(P.yaxis,ce));var ve=(se+re)/2,ke=(Q+oe)/2,Ie=x({x0:ve,y0:ke,x1:ve+(re-se+ne-$)/2*s,y1:ke+(ce-ee+oe-Q)/2*a});ue&&(Ie.x0=l(P.xaxis,Ie.x0),Ie.x1=l(P.xaxis,Ie.x1)),he&&(Ie.y0=l(P.yaxis,Ie.y0),Ie.y1=l(P.yaxis,Ie.y1)),Z.x0=Ie.x0,Z.y0=Ie.y0,Z.x1=Ie.x1,Z.y1=Ie.y1}else Z.type="path",j&&X&&m(H,j,X),Z.path=T(H),p=null;return Z}ae.exports={newShapes:function(_,w){if(_.length&&_[0][0]){var A=w.gd,p=w.isActiveShape,I=w.dragmode,k=(A.layout||{}).shapes||[];if(!E(I)&&void 0!==p){var L=A._fullLayout._activeShapeIndex;if(L<k.length)switch(A._fullLayout.shapes[L].type){case"rect":I="drawrect";break;case"circle":I="drawcircle";break;case"line":I="drawline";break;case"path":var O=k[L].path||"";I="Z"===O[O.length-1]?"drawclosedpath":"drawopenpath"}}var P=b(_,w,I);f(A);for(var F=w.editHelpers,j=(F||{}).modifyItem,X=[],N=0;N<k.length;N++){var q=A._fullLayout.shapes[N];if(X[N]=q._input,void 0!==p&&N===A._fullLayout._activeShapeIndex){var G=P;switch(q.type){case"line":case"rect":case"circle":j("x0",G.x0),j("x1",G.x1),j("y0",G.y0),j("y1",G.y1);break;case"path":j("path",G.path)}}}return void 0===p?(X.push(P),X):F?F.getUpdateObj():{}}},createShapeObj:b}},51873:function(ae){"use strict";ae.exports={clearOutlineControllers:function(B){var r=B._fullLayout._zoomlayer;r&&r.selectAll(".outline-controllers").remove()},clearOutline:function(B){var r=B._fullLayout._zoomlayer;r&&r.selectAll(".select-outline").remove(),B._fullLayout._outlining=!1}}},30477:function(ae,B,r){"use strict";var D=r(21459),E=r(71828),d=r(89298);B.rangeToShapePosition=function(S){return"log"===S.type?S.r2d:function(M){return M}},B.shapePositionToRange=function(S){return"log"===S.type?S.d2r:function(M){return M}},B.decodeDate=function(S){return function(M){return M.replace&&(M=M.replace("_"," ")),S(M)}},B.encodeDate=function(S){return function(M){return S(M).replace(" ","_")}},B.extractPathCoords=function(S,M,v){var u=[];return S.match(D.segmentRE).forEach(function(i){var s=M[i.charAt(0)].drawn;if(void 0!==s){var a=i.substr(1).match(D.paramRE);if(a&&!(a.length<s)){var o=a[s],l=v?o:E.cleanNumber(o);u.push(l)}}}),u},B.getDataToPixel=function(S,M,v,u){var i,s=S._fullLayout._size;if(M)if("domain"===u)i=function(o){return M._length*(v?1-o:o)+M._offset};else{var a=B.shapePositionToRange(M);i=function(o){return M._offset+M.r2p(a(o,!0))},"date"===M.type&&(i=B.decodeDate(i))}else i=v?function(o){return s.t+s.h*(1-o)}:function(o){return s.l+s.w*o};return i},B.getPixelToData=function(S,M,v,u){var i,s=S._fullLayout._size;if(M)if("domain"===u)i=function(o){var l=(o-M._offset)/M._length;return v?1-l:l};else{var a=B.rangeToShapePosition(M);i=function(o){return a(M.p2r(o-M._offset))}}else i=v?function(o){return 1-(o-s.t)/s.h}:function(o){return(o-s.l)/s.w};return i},B.roundPositionForSharpStrokeRendering=function(S,M){var v=1===Math.round(M%2),u=Math.round(S);return v?u+.5:u},B.makeShapesOptionsAndPlotinfo=function(S,M){var v=S._fullLayout.shapes[M]||{},u=S._fullLayout._plots[v.xref+v.yref];return u?u._hadPlotinfo=!0:(u={},v.xref&&"paper"!==v.xref&&(u.xaxis=S._fullLayout[v.xref+"axis"]),v.yref&&"paper"!==v.yref&&(u.yaxis=S._fullLayout[v.yref+"axis"])),u.xsizemode=v.xsizemode,u.ysizemode=v.ysizemode,u.xanchor=v.xanchor,u.yanchor=v.yanchor,{options:v,plotinfo:u}},B.makeSelectionsOptionsAndPlotinfo=function(S,M){var v=S._fullLayout.selections[M]||{},u=S._fullLayout._plots[v.xref+v.yref];return u?u._hadPlotinfo=!0:(u={},v.xref&&(u.xaxis=S._fullLayout[v.xref+"axis"]),v.yref&&(u.yaxis=S._fullLayout[v.yref+"axis"])),{options:v,plotinfo:u}},B.getPathString=function(S,M){var v,u,i,s,a,o,l,c,O,P,F,X,N,q,G,f=M.type,g=d.getRefType(M.xref),h=d.getRefType(M.yref),T=d.getFromId(S,M.xref),x=d.getFromId(S,M.yref),m=S._fullLayout._size;if(T?"domain"===g?u=function(O){return T._offset+T._length*O}:(v=B.shapePositionToRange(T),u=function(O){return T._offset+T.r2p(v(O,!0))}):u=function(O){return m.l+m.w*O},x?"domain"===h?s=function(O){return x._offset+x._length*(1-O)}:(i=B.shapePositionToRange(x),s=function(O){return x._offset+x.r2p(i(O,!0))}):s=function(O){return m.t+m.h*(1-O)},"path"===f)return T&&"date"===T.type&&(u=B.decodeDate(u)),x&&"date"===x.type&&(s=B.decodeDate(s)),P=u,F=s,X=(O=M).xsizemode,N=O.ysizemode,q=O.xanchor,G=O.yanchor,O.path.replace(D.segmentRE,function(H){var Z=0,$=H.charAt(0),se=D.paramIsX[$],ne=D.paramIsY[$],re=D.numParams[$],Q=H.substr(1).replace(D.paramRE,function(ee){return se[Z]?ee="pixel"===X?P(q)+Number(ee):P(ee):ne[Z]&&(ee="pixel"===N?F(G)-Number(ee):F(ee)),++Z>re&&(ee="X"),ee});return Z>re&&(Q=Q.replace(/[\s,]*X.*/,""),E.log("Ignoring extra params in segment "+H)),$+Q});if("pixel"===M.xsizemode){var b=u(M.xanchor);a=b+M.x0,o=b+M.x1}else a=u(M.x0),o=u(M.x1);if("pixel"===M.ysizemode){var _=s(M.yanchor);l=_-M.y0,c=_-M.y1}else l=s(M.y0),c=s(M.y1);if("line"===f)return"M"+a+","+l+"L"+o+","+c;if("rect"===f)return"M"+a+","+l+"H"+o+"V"+c+"H"+a+"Z";var w=(a+o)/2,A=(l+c)/2,p=Math.abs(w-a),I=Math.abs(A-l),k="A"+p+","+I,L=w+p+","+A;return"M"+L+k+" 0 1,1 "+w+","+(A-I)+k+" 0 0,1 "+L+"Z"}},89853:function(ae,B,r){"use strict";var D=r(34031);ae.exports={moduleType:"component",name:"shapes",layoutAttributes:r(89827),supplyLayoutDefaults:r(84726),supplyDrawNewShapeDefaults:r(45547),includeBasePlot:r(76325)("shapes"),calcAutorange:r(5627),draw:D.draw,drawOne:D.drawOne}},37281:function(ae){"use strict";function B(d,S){return S?S.d2l(d):d}function r(d,S){return S?S.l2d(d):d}function D(d,S){return B(d.x1,S)-B(d.x0,S)}function E(d,S,M){return B(d.y1,M)-B(d.y0,M)}ae.exports={x0:function(d){return d.x0},x1:function(d){return d.x1},y0:function(d){return d.y0},y1:function(d){return d.y1},slope:function(d,S,M){return"line"!==d.type?void 0:E(d,0,M)/D(d,S)},dx:D,dy:E,width:function(d,S){return Math.abs(D(d,S))},height:function(d,S,M){return Math.abs(E(d,0,M))},length:function(d,S,M){return"line"!==d.type?void 0:Math.sqrt(Math.pow(D(d,S),2)+Math.pow(E(d,0,M),2))},xcenter:function(d,S){return r((B(d.x1,S)+B(d.x0,S))/2,S)},ycenter:function(d,S,M){return r((B(d.y1,M)+B(d.y0,M))/2,M)}}},75067:function(ae,B,r){"use strict";var D=r(41940),E=r(35025),d=r(1426).extendDeepAll,S=r(30962).overrideAll,M=r(85594),v=r(44467).templatedArray,u=r(98292),i=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ae.exports=S(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:i,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:d(E({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:M.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:D({})},font:D({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},98292:function(ae){"use strict";ae.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),d=r(75067),S=r(98292).name,M=d.steps;function v(i,s,a){function o(h,T){return D.coerce(i,s,d,h,T)}for(var l=E(i,s,{name:"steps",handleItemDefaults:u}),c=0,f=0;f<l.length;f++)l[f].visible&&c++;if(c<2?s.visible=!1:o("visible")){s._stepCount=c;var g=s._visibleSteps=D.filterVisible(l);(l[o("active")]||{}).visible||(s.active=g[0]._index),o("x"),o("y"),D.noneOrAll(i,s,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),D.coerceFont(o,"font",a.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),D.coerceFont(o,"currentvalue.font",s.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function u(i,s){function a(l,c){return D.coerce(i,s,M,l,c)}if("skip"===i.method||Array.isArray(i.args)?a("visible"):s.visible=!1){a("method"),a("args");var o=a("label","step-"+s._index);a("value",o),a("execute")}}ae.exports=function(i,s){E(i,s,{name:S,handleItemDefaults:v})}},44504:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),d=r(7901),S=r(91424),M=r(71828),v=M.strTranslate,u=r(63893),i=r(44467).arrayEditor,s=r(98292),a=r(18783),o=a.LINE_SPACING,l=a.FROM_TL,c=a.FROM_BR;function f(F){return s.autoMarginIdRoot+F._index}function g(F){return F._index}function h(F,j){var X=S.tester.selectAll("g."+s.labelGroupClass).data(j._visibleSteps);X.enter().append("g").classed(s.labelGroupClass,!0);var N=0,q=0;X.each(function(ee){var oe=m(D.select(this),{step:ee},j).node();if(oe){var ce=S.bBox(oe);q=Math.max(q,ce.height),N=Math.max(N,ce.width)}}),X.remove();var G=j._dims={};G.inputAreaWidth=Math.max(s.railWidth,s.gripHeight);var H=F._fullLayout._size;if(G.lx=H.l+H.w*j.x,G.ly=H.t+H.h*(1-j.y),G.outerLength="fraction"===j.lenmode?Math.round(H.w*j.len):j.len,G.inputAreaStart=0,G.inputAreaLength=Math.round(G.outerLength-j.pad.l-j.pad.r),G.labelStride=Math.max(1,Math.ceil((N+s.labelPadding)/((G.inputAreaLength-2*s.stepInset)/(j._stepCount-1)))),G.labelHeight=q,G.currentValueMaxWidth=0,G.currentValueHeight=0,G.currentValueTotalHeight=0,G.currentValueMaxLines=1,j.currentvalue.visible){var se=S.tester.append("g");X.each(function(ee){var oe=T(se,j,ee.label),ce=oe.node()&&S.bBox(oe.node())||{width:0,height:0},ue=u.lineCount(oe);G.currentValueMaxWidth=Math.max(G.currentValueMaxWidth,Math.ceil(ce.width)),G.currentValueHeight=Math.max(G.currentValueHeight,Math.ceil(ce.height)),G.currentValueMaxLines=Math.max(G.currentValueMaxLines,ue)}),G.currentValueTotalHeight=G.currentValueHeight+j.currentvalue.offset,se.remove()}G.height=G.currentValueTotalHeight+s.tickOffset+j.ticklen+s.labelOffset+G.labelHeight+j.pad.t+j.pad.b;var ne="left";M.isRightAnchor(j)&&(G.lx-=G.outerLength,ne="right"),M.isCenterAnchor(j)&&(G.lx-=G.outerLength/2,ne="center");var re="top";M.isBottomAnchor(j)&&(G.ly-=G.height,re="bottom"),M.isMiddleAnchor(j)&&(G.ly-=G.height/2,re="middle"),G.outerLength=Math.ceil(G.outerLength),G.height=Math.ceil(G.height),G.lx=Math.round(G.lx),G.ly=Math.round(G.ly);var Q={y:j.y,b:G.height*c[re],t:G.height*l[re]};"fraction"===j.lenmode?(Q.l=0,Q.xl=j.x-j.len*l[ne],Q.r=0,Q.xr=j.x+j.len*c[ne]):(Q.x=j.x,Q.l=G.outerLength*l[ne],Q.r=G.outerLength*c[ne]),E.autoMargin(F,f(j),Q)}function T(F,j,X){if(j.currentvalue.visible){var N,q,G=j._dims;switch(j.currentvalue.xanchor){case"right":N=G.inputAreaLength-s.currentValueInset-G.currentValueMaxWidth,q="left";break;case"center":N=.5*G.inputAreaLength,q="middle";break;default:N=s.currentValueInset,q="left"}var H=M.ensureSingle(F,"text",s.labelClass,function(Q){Q.attr({"text-anchor":q,"data-notex":1})}),Z=j.currentvalue.prefix?j.currentvalue.prefix:"";if("string"==typeof X)Z+=X;else{var $=j.steps[j.active].label,se=j._gd._fullLayout._meta;se&&($=M.templateString($,se)),Z+=$}j.currentvalue.suffix&&(Z+=j.currentvalue.suffix),H.call(S.font,j.currentvalue.font).text(Z).call(u.convertToTspans,j._gd);var ne=u.lineCount(H);return u.positionText(H,N,(G.currentValueMaxLines+1-ne)*j.currentvalue.font.size*o),H}}function x(F,j,X){M.ensureSingle(F,"rect",s.gripRectClass,function(N){N.call(A,j,F,X).style("pointer-events","all")}).attr({width:s.gripWidth,height:s.gripHeight,rx:s.gripRadius,ry:s.gripRadius}).call(d.stroke,X.bordercolor).call(d.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px")}function m(F,j,X){var N=M.ensureSingle(F,"text",s.labelClass,function(H){H.attr({"text-anchor":"middle","data-notex":1})}),q=j.step.label,G=X._gd._fullLayout._meta;return G&&(q=M.templateString(q,G)),N.call(S.font,X.font).text(q).call(u.convertToTspans,X._gd),N}function b(F,j){var X=M.ensureSingle(F,"g",s.labelsClass),N=j._dims,q=X.selectAll("g."+s.labelGroupClass).data(N.labelSteps);q.enter().append("g").classed(s.labelGroupClass,!0),q.exit().remove(),q.each(function(G){var H=D.select(this);H.call(m,G,j),S.setTranslate(H,k(j,G.fraction),s.tickOffset+j.ticklen+j.font.size*o+s.labelOffset+N.currentValueTotalHeight)})}function _(F,j,X,N,q){var G=Math.round(N*(X._stepCount-1)),H=X._visibleSteps[G]._index;H!==X.active&&w(F,j,X,H,!0,q)}function w(F,j,X,N,q,G){var H=X.active;X.active=N,i(F.layout,s.name,X).applyUpdate("active",N);var Z=X.steps[X.active];j.call(I,X,G),j.call(T,X),F.emit("plotly_sliderchange",{slider:X,step:X.steps[X.active],interaction:q,previousActive:H}),Z&&Z.method&&q&&(j._nextMethod?(j._nextMethod.step=Z,j._nextMethod.doCallback=q,j._nextMethod.doTransition=G):(j._nextMethod={step:Z,doCallback:q,doTransition:G},j._nextMethodRaf=window.requestAnimationFrame(function(){var $=j._nextMethod.step;$.method&&($.execute&&E.executeAPICommand(F,$.method,$.args),j._nextMethod=null,j._nextMethodRaf=null)})))}function A(F,j,X){if(!j._context.staticPlot){var N=X.node(),q=D.select(j);F.on("mousedown",H),F.on("touchstart",H)}function G(){return X.data()[0]}function H(){var Z=G();j.emit("plotly_sliderstart",{slider:Z});var $=X.select("."+s.gripRectClass);D.event.stopPropagation(),D.event.preventDefault(),$.call(d.fill,Z.activebgcolor);var se=L(Z,D.mouse(N)[0]);function ne(){var Q=G(),ee=L(Q,D.mouse(N)[0]);_(j,X,Q,ee,!1)}function re(){var Q=G();Q._dragging=!1,$.call(d.fill,Q.bgcolor),q.on("mouseup",null),q.on("mousemove",null),q.on("touchend",null),q.on("touchmove",null),j.emit("plotly_sliderend",{slider:Q,step:Q.steps[Q.active]})}_(j,X,Z,se,!0),Z._dragging=!0,q.on("mousemove",ne),q.on("touchmove",ne),q.on("mouseup",re),q.on("touchend",re)}}function p(F,j){var X=F.selectAll("rect."+s.tickRectClass).data(j._visibleSteps),N=j._dims;X.enter().append("rect").classed(s.tickRectClass,!0),X.exit().remove(),X.attr({width:j.tickwidth+"px","shape-rendering":"crispEdges"}),X.each(function(q,G){var H=G%N.labelStride==0,Z=D.select(this);Z.attr({height:H?j.ticklen:j.minorticklen}).call(d.fill,j.tickcolor),S.setTranslate(Z,k(j,G/(j._stepCount-1))-.5*j.tickwidth,(H?s.tickOffset:s.minorTickOffset)+N.currentValueTotalHeight)})}function I(F,j,X){for(var N=F.select("rect."+s.gripRectClass),q=0,G=0;G<j._stepCount;G++)if(j._visibleSteps[G]._index===j.active){q=G;break}var H=k(j,q/(j._stepCount-1));if(!j._invokingCommand){var Z=N;X&&j.transition.duration>0&&(Z=Z.transition().duration(j.transition.duration).ease(j.transition.easing)),Z.attr("transform",v(H-.5*s.gripWidth,j._dims.currentValueTotalHeight))}}function k(F,j){var X=F._dims;return X.inputAreaStart+s.stepInset+(X.inputAreaLength-2*s.stepInset)*Math.min(1,Math.max(0,j))}function L(F,j){var X=F._dims;return Math.min(1,Math.max(0,(j-s.stepInset-X.inputAreaStart)/(X.inputAreaLength-2*s.stepInset-2*X.inputAreaStart)))}function O(F,j,X){var N=X._dims,q=M.ensureSingle(F,"rect",s.railTouchRectClass,function(G){G.call(A,j,F,X).style("pointer-events","all")});q.attr({width:N.inputAreaLength,height:Math.max(N.inputAreaWidth,s.tickOffset+X.ticklen+N.labelHeight)}).call(d.fill,X.bgcolor).attr("opacity",0),S.setTranslate(q,0,N.currentValueTotalHeight)}function P(F,j){var X=j._dims,N=X.inputAreaLength-2*s.railInset,q=M.ensureSingle(F,"rect",s.railRectClass);q.attr({width:N,height:s.railWidth,rx:s.railRadius,ry:s.railRadius,"shape-rendering":"crispEdges"}).call(d.stroke,j.bordercolor).call(d.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px"),S.setTranslate(q,s.railInset,.5*(X.inputAreaWidth-s.railWidth)+X.currentValueTotalHeight)}ae.exports=function(F){var j=F._context.staticPlot,X=F._fullLayout,N=function(se,ne){for(var re=se[s.name],Q=[],ee=0;ee<re.length;ee++){var oe=re[ee];oe.visible&&(oe._gd=ne,Q.push(oe))}return Q}(X,F),q=X._infolayer.selectAll("g."+s.containerClassName).data(N.length>0?[0]:[]);function G(se){se._commandObserver&&(se._commandObserver.remove(),delete se._commandObserver),E.autoMargin(F,f(se))}if(q.enter().append("g").classed(s.containerClassName,!0).style("cursor",j?null:"ew-resize"),q.exit().each(function(){D.select(this).selectAll("g."+s.groupClassName).each(G)}).remove(),0!==N.length){var H=q.selectAll("g."+s.groupClassName).data(N,g);H.enter().append("g").classed(s.groupClassName,!0),H.exit().each(G).remove();for(var Z=0;Z<N.length;Z++)h(F,N[Z]);H.each(function(se){var ne=D.select(this);(function(re){var Q=re._dims;Q.labelSteps=[];for(var ee=re._stepCount,oe=0;oe<ee;oe+=Q.labelStride)Q.labelSteps.push({fraction:oe/(ee-1),step:re._visibleSteps[oe]})})(se),E.manageCommandObserver(F,se,se._visibleSteps,function(re){var Q=ne.data()[0];Q.active!==re.index&&(Q._dragging||w(F,ne,Q,re.index,!1,!0))}),function(re,Q,ee){(ee.steps[ee.active]||{}).visible||(ee.active=ee._visibleSteps[0]._index),Q.call(T,ee).call(P,ee).call(b,ee).call(p,ee).call(O,re,ee).call(x,re,ee);var oe=ee._dims;S.setTranslate(Q,oe.lx+ee.pad.l,oe.ly+ee.pad.t),Q.call(I,ee,!1),Q.call(T,ee)}(F,D.select(this),se)})}}},23243:function(ae,B,r){"use strict";var D=r(98292);ae.exports={moduleType:"component",name:D.name,layoutAttributes:r(75067),supplyLayoutDefaults:r(12343),draw:r(44504)}},92998:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(74875),S=r(73972),M=r(71828),v=M.strTranslate,u=r(91424),i=r(7901),s=r(63893),a=r(37822),o=r(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;ae.exports={draw:function(c,f,g){var h,T=g.propContainer,x=g.propName,m=g.placeholder,b=g.traceIndex,_=g.avoid||{},w=g.attributes,A=g.transform,p=g.containerGroup,I=c._fullLayout,k=1,L=!1,O=T.title,P=(O&&O.text?O.text:"").trim(),F=O&&O.font?O.font:{},j=F.family,X=F.size,N=F.color;"title.text"===x?h="titleText":-1!==x.indexOf("axis")?h="axisTitleText":x.indexOf(!0)&&(h="colorbarTitleText");var q=c._context.edits[h];""===P?k=0:P.replace(l," % ")===m.replace(l," % ")&&(k=.2,L=!0,q||(P="")),g._meta?P=M.templateString(P,g._meta):I._meta&&(P=M.templateString(P,I._meta));var G,H=P||q;p||(p=M.ensureSingle(I._infolayer,"g","g-"+f),G=I._hColorbarMoveTitle);var Z=p.selectAll("text").data(H?[0]:[]);if(Z.enter().append("text"),Z.text(P).attr("class",f),Z.exit().remove(),!H)return p;function $(re){M.syncOrAsync([se,ne],re)}function se(re){var Q;return!A&&G&&(A={}),A?(Q="",A.rotate&&(Q+="rotate("+[A.rotate,w.x,w.y]+")"),(A.offset||G)&&(Q+=v(0,(A.offset||0)-(G||0)))):Q=null,re.attr("transform",Q),re.style({"font-family":j,"font-size":D.round(X,2)+"px",fill:i.rgb(N),opacity:k*i.opacity(N),"font-weight":d.fontWeight}).attr(w).call(s.convertToTspans,c),d.previousPromises(c)}function ne(re){var Q=D.select(re.node().parentNode);if(_&&_.selection&&_.side&&P){Q.attr("transform",null);var ee=o[_.side],oe="left"===_.side||"top"===_.side?-1:1,ce=E(_.pad)?_.pad:2,ue=u.bBox(Q.node()),he={t:0,b:0,l:0,r:0},ve=c._fullLayout._reservedMargin;for(var ke in ve)for(var Ie in ve[ke])he[Ie]=Math.max(he[Ie],ve[ke][Ie]);var we=_.maxShift||oe*({left:he.l,top:he.t,right:I.width-he.r,bottom:I.height-he.b}[_.side]-ue[_.side]),ze=0;if(we<0)ze=we;else{var Ee=_.offsetLeft||0,Se=_.offsetTop||0;ue.left-=Ee,ue.right-=Ee,ue.top-=Se,ue.bottom-=Se,_.selection.each(function(){var fe=u.bBox(this);M.bBoxIntersect(ue,fe,ce)&&(ze=Math.max(ze,oe*(fe[_.side]-ue[ee])+ce))}),ze=Math.min(we,ze),T._titleScoot=Math.abs(ze)}if(ze>0||we<0){var me={left:[-ze,0],right:[ze,0],top:[0,-ze],bottom:[0,ze]}[_.side];Q.attr("transform",v(me[0],me[1]))}}}return Z.call($),q&&(P?Z.on(".opacity",null):(k=0,L=!0,Z.text(m).on("mouseover.opacity",function(){D.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){D.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})),Z.call(s.makeEditable,{gd:c}).on("edit",function(re){void 0!==b?S.call("_guiRestyle",c,x,re,b):S.call("_guiRelayout",c,x,re)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(re){this.text(re||" ").call(s.positionText,w.x,w.y)})),Z.classed("js-placeholder",L),p}}},7163:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),d=r(1426).extendFlat,S=r(30962).overrideAll,M=r(35025),v=r(44467).templatedArray,u=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ae.exports=S(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:d(M({editType:"arraydraw"}),{}),font:D({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:E.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(ae){"use strict";ae.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},64897:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),d=r(7163),S=r(75909).name,M=d.buttons;function v(i,s,a){function o(l,c){return D.coerce(i,s,d,l,c)}o("visible",E(i,s,{name:"buttons",handleItemDefaults:u}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),D.noneOrAll(i,s,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),D.coerceFont(o,"font",a.font),o("bgcolor",a.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function u(i,s){function a(o,l){return D.coerce(i,s,M,o,l)}a("visible","skip"===i.method||Array.isArray(i.args))&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}ae.exports=function(i,s){E(i,s,{name:S,handleItemDefaults:v})}},13689:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),d=r(7901),S=r(91424),M=r(71828),v=r(63893),u=r(44467).arrayEditor,i=r(18783).LINE_SPACING,s=r(75909),a=r(25849);function o(k){return k._index}function l(k,L){return+k.attr(s.menuIndexAttrName)===L._index}function c(k,L,O,P,F,j,X,N){L.active=X,u(k.layout,s.name,L).applyUpdate("active",X),"buttons"===L.type?g(k,P,null,null,L):"dropdown"===L.type&&(F.attr(s.menuIndexAttrName,"-1"),f(k,P,F,j,L),N||g(k,P,F,j,L))}function f(k,L,O,P,F){var j=M.ensureSingle(L,"g",s.headerClassName,function(Z){Z.style("pointer-events","all")}),X=F._dims,G={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},H={width:X.headerWidth,height:X.headerHeight};j.call(h,F,F.buttons[F.active]||s.blankHeaderOpts,k).call(p,F,G,H),M.ensureSingle(L,"text",s.headerArrowClassName,function(Z){Z.attr("text-anchor","end").call(S.font,F.font).text(s.arrowSymbol[F.direction])}).attr({x:X.headerWidth-s.arrowOffsetX+F.pad.l,y:X.headerHeight/2+s.textOffsetY+F.pad.t}),j.on("click",function(){O.call(I,String(l(O,F)?-1:F._index)),g(k,L,O,P,F)}),j.on("mouseover",function(){j.call(b)}),j.on("mouseout",function(){j.call(_,F)}),S.setTranslate(L,X.lx,X.ly)}function g(k,L,O,P,F){O||(O=L).attr("pointer-events","all");var j=-1==+O.attr(s.menuIndexAttrName)&&"buttons"!==F.type?[]:F.buttons,X="dropdown"===F.type?s.dropdownButtonClassName:s.buttonClassName,N=O.selectAll("g."+X).data(M.filterVisible(j)),q=N.enter().append("g").classed(X,!0),G=N.exit();"dropdown"===F.type?(q.attr("opacity","0").transition().attr("opacity","1"),G.transition().attr("opacity","0").remove()):G.remove();var H=0,Z=0,$=F._dims,se=-1!==["up","down"].indexOf(F.direction);"dropdown"===F.type&&(se?Z=$.headerHeight+s.gapButtonHeader:H=$.headerWidth+s.gapButtonHeader),"dropdown"===F.type&&"up"===F.direction&&(Z=-s.gapButtonHeader+s.gapButton-$.openHeight),"dropdown"===F.type&&"left"===F.direction&&(H=-s.gapButtonHeader+s.gapButton-$.openWidth);var Q,ee,oe,ne={x:$.lx+H+F.pad.l,y:$.ly+Z+F.pad.t,yPad:s.gapButton,xPad:s.gapButton,index:0},re={l:ne.x+F.borderwidth,t:ne.y+F.borderwidth};N.each(function(Q,ee){var oe=D.select(this);oe.call(h,F,Q,k).call(p,F,ne),oe.on("click",function(){D.event.defaultPrevented||(Q.execute&&(Q.args2&&F.active===ee?(c(k,F,0,L,O,P,-1),E.executeAPICommand(k,Q.method,Q.args2)):(c(k,F,0,L,O,P,ee),E.executeAPICommand(k,Q.method,Q.args))),k.emit("plotly_buttonclicked",{menu:F,button:Q,active:F.active}))}),oe.on("mouseover",function(){oe.call(b)}),oe.on("mouseout",function(){oe.call(_,F),N.call(m,F)})}),N.call(m,F),se?(re.w=Math.max($.openWidth,$.headerWidth),re.h=ne.y-re.t):(re.w=ne.x-re.l,re.h=Math.max($.openHeight,$.headerHeight)),re.direction=F.direction,P&&(N.size()?function(Q,ee,oe,ce,ue,he){var ve,ke,Ie,Me=ue.direction,we=ue._dims,ze=ue.active;if("up"===Me||"down"===Me)for(ke=0,Ie=0;Ie<ze;Ie++)ke+=we.heights[Ie]+s.gapButton;else for(ve=0,Ie=0;Ie<ze;Ie++)ve+=we.widths[Ie]+s.gapButton;ce.enable(he,ve,ke),ce.hbar&&ce.hbar.attr("opacity","0").transition().attr("opacity","1"),ce.vbar&&ce.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,P,F,re):(oe=!!(Q=P).vbar,(ee=!!Q.hbar)&&Q.hbar.transition().attr("opacity","0").each("end",function(){ee=!1,oe||Q.disable()}),oe&&Q.vbar.transition().attr("opacity","0").each("end",function(){oe=!1,ee||Q.disable()})))}function h(k,L,O,P){k.call(T,L).call(x,L,O,P)}function T(k,L){M.ensureSingle(k,"rect",s.itemRectClassName,function(O){O.attr({rx:s.rx,ry:s.ry,"shape-rendering":"crispEdges"})}).call(d.stroke,L.bordercolor).call(d.fill,L.bgcolor).style("stroke-width",L.borderwidth+"px")}function x(k,L,O,P){var F=M.ensureSingle(k,"text",s.itemTextClassName,function(N){N.attr({"text-anchor":"start","data-notex":1})}),j=O.label,X=P._fullLayout._meta;X&&(j=M.templateString(j,X)),F.call(S.font,L.font).text(j).call(v.convertToTspans,P)}function m(k,L){var O=L.active;k.each(function(P,F){var j=D.select(this);F===O&&L.showactive&&j.select("rect."+s.itemRectClassName).call(d.fill,s.activeColor)})}function b(k){k.select("rect."+s.itemRectClassName).call(d.fill,s.hoverColor)}function _(k,L){k.select("rect."+s.itemRectClassName).call(d.fill,L.bgcolor)}function w(k,L){var O=L._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},P=S.tester.selectAll("g."+s.dropdownButtonClassName).data(M.filterVisible(L.buttons));P.enter().append("g").classed(s.dropdownButtonClassName,!0);var F=-1!==["up","down"].indexOf(L.direction);P.each(function(H,Z){var $=D.select(this);$.call(h,L,H,k);var se=$.select("."+s.itemTextClassName),ne=se.node()&&S.bBox(se.node()).width,re=Math.max(ne+s.textPadX,s.minWidth),Q=L.font.size*i,ee=v.lineCount(se),oe=Math.max(Q*ee,s.minHeight)+s.textOffsetY;oe=Math.ceil(oe),re=Math.ceil(re),O.widths[Z]=re,O.heights[Z]=oe,O.height1=Math.max(O.height1,oe),O.width1=Math.max(O.width1,re),F?(O.totalWidth=Math.max(O.totalWidth,re),O.openWidth=O.totalWidth,O.totalHeight+=oe+s.gapButton,O.openHeight+=oe+s.gapButton):(O.totalWidth+=re+s.gapButton,O.openWidth+=re+s.gapButton,O.totalHeight=Math.max(O.totalHeight,oe),O.openHeight=O.totalHeight)}),F?O.totalHeight-=s.gapButton:O.totalWidth-=s.gapButton,O.headerWidth=O.width1+s.arrowPadX,O.headerHeight=O.height1,"dropdown"===L.type&&(F?(O.width1+=s.arrowPadX,O.totalHeight=O.height1):O.totalWidth=O.width1,O.totalWidth+=s.arrowPadX),P.remove();var j=O.totalWidth+L.pad.l+L.pad.r,X=O.totalHeight+L.pad.t+L.pad.b,N=k._fullLayout._size;O.lx=N.l+N.w*L.x,O.ly=N.t+N.h*(1-L.y);var q="left";M.isRightAnchor(L)&&(O.lx-=j,q="right"),M.isCenterAnchor(L)&&(O.lx-=j/2,q="center");var G="top";M.isBottomAnchor(L)&&(O.ly-=X,G="bottom"),M.isMiddleAnchor(L)&&(O.ly-=X/2,G="middle"),O.totalWidth=Math.ceil(O.totalWidth),O.totalHeight=Math.ceil(O.totalHeight),O.lx=Math.round(O.lx),O.ly=Math.round(O.ly),E.autoMargin(k,A(L),{x:L.x,y:L.y,l:j*({right:1,center:.5}[q]||0),r:j*({left:1,center:.5}[q]||0),b:X*({top:1,middle:.5}[G]||0),t:X*({bottom:1,middle:.5}[G]||0)})}function A(k){return s.autoMarginIdRoot+k._index}function p(k,L,O,P){P=P||{};var F=k.select("."+s.itemRectClassName),j=k.select("."+s.itemTextClassName),X=L.borderwidth,N=O.index,q=L._dims;S.setTranslate(k,X+O.x,X+O.y);var G=-1!==["up","down"].indexOf(L.direction),H=P.height||(G?q.heights[N]:q.height1);F.attr({x:0,y:0,width:P.width||(G?q.width1:q.widths[N]),height:H});var Z=L.font.size*i,$=(v.lineCount(j)-1)*Z/2;v.positionText(j,s.textOffsetX,H/2-$+s.textOffsetY),G?O.y+=q.heights[N]+O.yPad:O.x+=q.widths[N]+O.xPad,O.index++}function I(k,L){k.attr(s.menuIndexAttrName,L||"-1").selectAll("g."+s.dropdownButtonClassName).remove()}ae.exports=function(k){var L=k._fullLayout,O=M.filterVisible(L[s.name]);function P(Z){E.autoMargin(k,A(Z))}var F=L._menulayer.selectAll("g."+s.containerClassName).data(O.length>0?[0]:[]);if(F.enter().append("g").classed(s.containerClassName,!0).style("cursor","pointer"),F.exit().each(function(){D.select(this).selectAll("g."+s.headerGroupClassName).each(P)}).remove(),0!==O.length){var j=F.selectAll("g."+s.headerGroupClassName).data(O,o);j.enter().append("g").classed(s.headerGroupClassName,!0);for(var X=M.ensureSingle(F,"g",s.dropdownButtonGroupClassName,function(Z){Z.style("pointer-events","all")}),N=0;N<O.length;N++)w(k,O[N]);var H=new a(k,X,"updatemenus"+L._uid);j.enter().size()&&(X.node().parentNode.appendChild(X.node()),X.call(I)),j.exit().each(function(Z){X.call(I),P(Z)}).remove(),j.each(function(Z){var $=D.select(this),se="dropdown"===Z.type?X:null;E.manageCommandObserver(k,Z,Z.buttons,function(ne){c(k,Z,0,$,se,H,ne.index,!0)}),"dropdown"===Z.type?(f(k,$,X,H,Z),l(X,Z)&&g(k,$,X,H,Z)):g(k,$,null,null,Z)})}}},20763:function(ae,B,r){"use strict";var D=r(75909);ae.exports={moduleType:"component",name:D.name,layoutAttributes:r(7163),supplyLayoutDefaults:r(64897),draw:r(13689)}},25849:function(ae,B,r){"use strict";ae.exports=M;var D=r(39898),E=r(7901),d=r(91424),S=r(71828);function M(v,u,i){this.gd=v,this.container=u,this.id=i,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}M.barWidth=2,M.barLength=20,M.barRadius=2,M.barPad=1,M.barColor="#808BA4",M.prototype.enable=function(v,u,i){var s=this.gd._fullLayout,a=s.width,o=s.height;this.position=v;var l,c,f,g,h=this.position.l,T=this.position.w,x=this.position.t,m=this.position.h,b=this.position.direction,_="down"===b,w="left"===b,A="up"===b,p=T,I=m;_||w||"right"===b||A||(this.position.direction="down",_=!0),_||A?(c=(l=h)+p,_?(f=x,I=(g=Math.min(f+I,o))-f):I=(g=x+I)-(f=Math.max(g-I,0))):(g=(f=x)+I,w?p=(c=h+p)-(l=Math.max(c-p,0)):(l=h,p=(c=Math.min(l+p,a))-l)),this._box={l,t:f,w:p,h:I};var k=T>p,L=M.barLength+2*M.barPad,O=M.barWidth+2*M.barPad,P=h,F=x+m;F+O>o&&(F=o-O);var j=this.container.selectAll("rect.scrollbar-horizontal").data(k?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-horizontal",!0).call(E.fill,M.barColor),k?(this.hbar=j.attr({rx:M.barRadius,ry:M.barRadius,x:P,y:F,width:L,height:O}),this._hbarXMin=P+L/2,this._hbarTranslateMax=p-L):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var X=m>I,N=M.barWidth+2*M.barPad,q=M.barLength+2*M.barPad,G=h+T,H=x;G+N>a&&(G=a-N);var Z=this.container.selectAll("rect.scrollbar-vertical").data(X?[0]:[]);Z.exit().on(".drag",null).remove(),Z.enter().append("rect").classed("scrollbar-vertical",!0).call(E.fill,M.barColor),X?(this.vbar=Z.attr({rx:M.barRadius,ry:M.barRadius,x:G,y:H,width:N,height:q}),this._vbarYMin=H+q/2,this._vbarTranslateMax=I-q):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var $=this.id,se=l-.5,ne=X?c+N+.5:c+.5,re=f-.5,Q=k?g+O+.5:g+.5,ee=s._topdefs.selectAll("#"+$).data(k||X?[0]:[]);if(ee.exit().remove(),ee.enter().append("clipPath").attr("id",$).append("rect"),k||X?(this._clipRect=ee.select("rect").attr({x:Math.floor(se),y:Math.floor(re),width:Math.ceil(ne)-Math.floor(se),height:Math.ceil(Q)-Math.floor(re)}),this.container.call(d.setClipUrl,$,this.gd),this.bg.attr({x:h,y:x,width:T,height:m})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(d.setClipUrl,null),delete this._clipRect),k||X){var oe=D.behavior.drag().on("dragstart",function(){D.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(oe);var ce=D.behavior.drag().on("dragstart",function(){D.event.sourceEvent.preventDefault(),D.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));k&&this.hbar.on(".drag",null).call(ce),X&&this.vbar.on(".drag",null).call(ce)}this.setTranslate(u,i)},M.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(d.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},M.prototype._onBoxDrag=function(){var v=this.translateX,u=this.translateY;this.hbar&&(v-=D.event.dx),this.vbar&&(u-=D.event.dy),this.setTranslate(v,u)},M.prototype._onBoxWheel=function(){var v=this.translateX,u=this.translateY;this.hbar&&(v+=D.event.deltaY),this.vbar&&(u+=D.event.deltaY),this.setTranslate(v,u)},M.prototype._onBarDrag=function(){var v=this.translateX,u=this.translateY;if(this.hbar){var i=v+this._hbarXMin,s=i+this._hbarTranslateMax;v=(S.constrain(D.event.x,i,s)-i)/(s-i)*(this.position.w-this._box.w)}if(this.vbar){var a=u+this._vbarYMin,o=a+this._vbarTranslateMax;u=(S.constrain(D.event.y,a,o)-a)/(o-a)*(this.position.h-this._box.h)}this.setTranslate(v,u)},M.prototype.setTranslate=function(v,u){var i=this.position.w-this._box.w,s=this.position.h-this._box.h;v=S.constrain(v||0,0,i),u=S.constrain(u||0,0,s),this.translateX=v,this.translateY=u,this.container.call(d.setTranslate,this._box.l-this.position.l-v,this._box.t-this.position.t-u),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+v-.5),y:Math.floor(this.position.t+u-.5)}),this.hbar&&this.hbar.call(d.setTranslate,v+v/i*this._hbarTranslateMax,u),this.vbar&&this.vbar.call(d.setTranslate,v,u+u/s*this._vbarTranslateMax)}},18783:function(ae){"use strict";ae.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(ae){"use strict";ae.exports={axisRefDescription:function(B,r,D){return["If set to a",B,"axis id (e.g. *"+B+"* or","*"+B+"2*), the `"+B+"` position refers to a",B,"coordinate. If set to *paper*, the `"+B+"`","position refers to the distance from the",r,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",r,"("+D+"). If set to a",B,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",r,"of the domain of that axis: e.g.,","*"+B+"2 domain* refers to the domain of the second",B," axis and a",B,"position of 0.5 refers to the","point between the",r,"and the",D,"of the domain of the","second",B,"axis."].join(" ")}}},22372:function(ae){"use strict";ae.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25b2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25bc"}}},31562:function(ae){"use strict";ae.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(ae){"use strict";ae.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(ae){"use strict";ae.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(ae){"use strict";ae.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},37822:function(ae){"use strict";ae.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(ae){"use strict";ae.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},32396:function(ae,B){"use strict";B.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],B.STYLE=B.CSS_DECLARATIONS.map(function(r){return r.join(": ")+"; "}).join("")},77922:function(ae,B){"use strict";B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},8729:function(ae,B,r){"use strict";B.version=r(11506).version,r(7417),r(98847);for(var D=r(73972),E=B.register=D.register,d=r(10641),S=Object.keys(d),M=0;M<S.length;M++){var v=S[M];"_"!==v.charAt(0)&&(B[v]=d[v]),E({moduleType:"apiMethod",name:v,fn:d[v]})}E(r(67368)),E([r(32745),r(2468),r(47322),r(89853),r(68804),r(20763),r(23243),r(13137),r(97218),r(83312),r(37369),r(21081),r(12311),r(2199),r(30211),r(64168)]),E([r(92177),r(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(E(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=r(24255);var u=r(30211),i=r(74875);B.Plots={resize:i.resize,graphJson:i.graphJson,sendDataToCloud:i.sendDataToCloud},B.Fx={hover:u.hover,unhover:u.unhover,loneHover:u.loneHover,loneUnhover:u.loneUnhover},B.Snapshot=r(44511),B.PlotSchema=r(86281)},24255:function(ae){"use strict";ae.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(ae,B){"use strict";B.isLeftAnchor=function(r){return"left"===r.xanchor||"auto"===r.xanchor&&r.x<=.3333333333333333},B.isCenterAnchor=function(r){return"center"===r.xanchor||"auto"===r.xanchor&&r.x>.3333333333333333&&r.x<.6666666666666666},B.isRightAnchor=function(r){return"right"===r.xanchor||"auto"===r.xanchor&&r.x>=.6666666666666666},B.isTopAnchor=function(r){return"top"===r.yanchor||"auto"===r.yanchor&&r.y>=.6666666666666666},B.isMiddleAnchor=function(r){return"middle"===r.yanchor||"auto"===r.yanchor&&r.y>.3333333333333333&&r.y<.6666666666666666},B.isBottomAnchor=function(r){return"bottom"===r.yanchor||"auto"===r.yanchor&&r.y<=.3333333333333333}},26348:function(ae,B,r){"use strict";var D=r(64872),E=D.mod,d=D.modHalf,S=Math.PI,M=2*S;function v(a){return Math.abs(a[1]-a[0])>M-1e-14}function u(a,o){return d(o-a,M)}function i(a,o){if(v(o))return!0;var l,c;o[0]<o[1]?(l=o[0],c=o[1]):(l=o[1],c=o[0]),(l=E(l,M))>(c=E(c,M))&&(c+=M);var f=E(a,M),g=f+M;return f>=l&&f<=c||g>=l&&g<=c}function s(a,o,l,c,f,g,h){f=f||0,g=g||0;var T,x,m,b,_,w=v([l,c]);function A(L,O){return[L*Math.cos(O)+f,g-L*Math.sin(O)]}w?(T=0,x=S,m=M):l<c?(T=l,m=c):(T=c,m=l),a<o?(b=a,_=o):(b=o,_=a);var p,I=Math.abs(m-T)<=S?0:1;function k(L,O,P){return"A"+[L,L]+" "+[0,I,P]+" "+A(L,O)}return w?p=null===b?"M"+A(_,T)+k(_,x,0)+k(_,m,0)+"Z":"M"+A(b,T)+k(b,x,0)+k(b,m,0)+"ZM"+A(_,T)+k(_,x,1)+k(_,m,1)+"Z":null===b?(p="M"+A(_,T)+k(_,m,0),h&&(p+="L0,0Z")):p="M"+A(b,T)+"L"+A(_,T)+k(_,m,0)+"L"+A(b,m)+k(b,T,1)+"Z",p}ae.exports={deg2rad:function(a){return a/180*S},rad2deg:function(a){return a/S*180},angleDelta:u,angleDist:function(a,o){return Math.abs(u(a,o))},isFullCircle:v,isAngleInsideSector:i,isPtInsideSector:function(a,o,l,c){return!!i(o,c)&&(l[0]<l[1]?(f=l[0],g=l[1]):(f=l[1],g=l[0]),a>=f&&a<=g);var f,g},pathArc:function(a,o,l,c,f){return s(null,a,o,l,c,f,0)},pathSector:function(a,o,l,c,f){return s(null,a,o,l,c,f,1)},pathAnnulus:function(a,o,l,c,f,g){return s(a,o,l,c,f,g,1)}}},73627:function(ae,B){"use strict";var r=Array.isArray,D=ArrayBuffer,E=DataView;function d(v){return D.isView(v)&&!(v instanceof E)}function S(v){return r(v)||d(v)}function M(v,u,i){if(S(v)){if(S(v[0])){for(var s=i,a=0;a<v.length;a++)s=u(s,v[a].length);return s}return v.length}return 0}B.isTypedArray=d,B.isArrayOrTypedArray=S,B.isArray1D=function(v){return!S(v[0])},B.ensureArray=function(v,u){return r(v)||(v=[]),v.length=u,v},B.concat=function(){var v,u,i,s,a,o,l,c,f=[],g=!0,h=0;for(i=0;i<arguments.length;i++)(o=(s=arguments[i]).length)&&(u?f.push(s):(u=s,a=o),r(s)?v=!1:(g=!1,h?v!==s.constructor&&(v=!1):v=s.constructor),h+=o);if(!h)return[];if(!f.length)return u;if(g)return u.concat.apply(u,f);if(v){for((l=new v(h)).set(u),i=0;i<f.length;i++)l.set(s=f[i],a),a+=s.length;return l}for(l=new Array(h),c=0;c<u.length;c++)l[c]=u[c];for(i=0;i<f.length;i++){for(s=f[i],c=0;c<s.length;c++)l[a+c]=s[c];a+=c}return l},B.maxRowLength=function(v){return M(v,Math.max,0)},B.minRowLength=function(v){return M(v,Math.min,1/0)}},95218:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,d=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ae.exports=function(S){return"string"==typeof S&&(S=S.replace(d,"")),D(S)?Number(S):E}},33306:function(ae){"use strict";ae.exports=function(B){var r=B._fullLayout;r._glcanvas&&r._glcanvas.size()&&r._glcanvas.each(function(D){D.regl&&D.regl.clear({color:!0,depth:!0})})}},86367:function(ae){"use strict";ae.exports=function(B){B._responsiveChartHandler&&(window.removeEventListener("resize",B._responsiveChartHandler),delete B._responsiveChartHandler)}},96554:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),d=r(9012),S=r(63282),M=r(7901),v=r(37822).DESELECTDIM,u=r(65487),i=r(30587).counter,s=r(64872).modHalf,a=r(73627).isArrayOrTypedArray;function o(l,c){var f=B.valObjectMeta[c.valType];if(c.arrayOk&&a(l))return!0;if(f.validateFunction)return f.validateFunction(l,c);var g={},h=g;return f.coerceFunction(l,{set:function(x){h=x}},g,c),h!==g}B.valObjectMeta={data_array:{coerceFunction:function(l,c,f){a(l)?c.set(l):void 0!==f&&c.set(f)}},enumerated:{coerceFunction:function(l,c,f,g){g.coerceNumber&&(l=+l),-1===g.values.indexOf(l)?c.set(f):c.set(l)},validateFunction:function(l,c){c.coerceNumber&&(l=+l);for(var f=c.values,g=0;g<f.length;g++){var h=String(f[g]);if("/"===h.charAt(0)&&"/"===h.charAt(h.length-1)){if(new RegExp(h.substr(1,h.length-2)).test(l))return!0}else if(l===f[g])return!0}return!1}},boolean:{coerceFunction:function(l,c,f){c.set(!0===l||!1===l?l:f)}},number:{coerceFunction:function(l,c,f,g){!D(l)||void 0!==g.min&&l<g.min||void 0!==g.max&&l>g.max?c.set(f):c.set(+l)}},integer:{coerceFunction:function(l,c,f,g){l%1||!D(l)||void 0!==g.min&&l<g.min||void 0!==g.max&&l>g.max?c.set(f):c.set(+l)}},string:{coerceFunction:function(l,c,f,g){c.set("string"!=typeof l?!0!==g.strict&&"number"==typeof l?String(l):f:g.noBlank&&!l?f:l)}},color:{coerceFunction:function(l,c,f){E(l).isValid()?c.set(l):c.set(f)}},colorlist:{coerceFunction:function(l,c,f){Array.isArray(l)&&l.length&&l.every(function(g){return E(g).isValid()})?c.set(l):c.set(f)}},colorscale:{coerceFunction:function(l,c,f){c.set(S.get(l,f))}},angle:{coerceFunction:function(l,c,f){"auto"===l?c.set("auto"):D(l)?c.set(s(+l,360)):c.set(f)}},subplotid:{coerceFunction:function(l,c,f,g){var h=g.regex||i(f);"string"==typeof l&&h.test(l)?c.set(l):c.set(f)},validateFunction:function(l,c){var f=c.dflt;return l===f||"string"==typeof l&&!!i(f).test(l)}},flaglist:{coerceFunction:function(l,c,f,g){if(-1===(g.extras||[]).indexOf(l))if("string"==typeof l){for(var h=l.split("+"),T=0;T<h.length;){var x=h[T];-1===g.flags.indexOf(x)||h.indexOf(x)<T?h.splice(T,1):T++}c.set(h.length?h.join("+"):f)}else c.set(f);else c.set(l)}},any:{coerceFunction:function(l,c,f){c.set(void 0===l?f:l)}},info_array:{coerceFunction:function(l,c,f,g){function h(F,j,X){var N;return void 0===X&&(X=j.dflt),B.valObjectMeta[j.valType].coerceFunction(F,{set:function(G){N=G}},X,j),N}var T=2===g.dimensions||"1-2"===g.dimensions&&Array.isArray(l)&&Array.isArray(l[0]);if(Array.isArray(l)){var x,m,b,w,A,p=g.items,I=[],k=Array.isArray(p),L=k&&T&&Array.isArray(p[0]),O=T&&k&&!L,P=k&&!O?p.length:l.length;if(f=Array.isArray(f)?f:[],T)for(x=0;x<P;x++)for(I[x]=[],b=Array.isArray(l[x])?l[x]:[],w=O?p.length:k?p[x].length:b.length,m=0;m<w;m++)void 0!==(A=h(b[m],O?p[m]:k?p[x][m]:p,(f[x]||[])[m]))&&(I[x][m]=A);else for(x=0;x<P;x++)void 0!==(A=h(l[x],k?p[x]:p,f[x]))&&(I[x]=A);c.set(I)}else c.set(f)},validateFunction:function(l,c){if(!Array.isArray(l))return!1;var f=c.items,g=Array.isArray(f),h=2===c.dimensions;if(!c.freeLength&&l.length!==f.length)return!1;for(var T=0;T<l.length;T++)if(h){if(!Array.isArray(l[T])||!c.freeLength&&l[T].length!==f[T].length)return!1;for(var x=0;x<l[T].length;x++)if(!o(l[T][x],g?f[T][x]:f))return!1}else if(!o(l[T],g?f[T]:f))return!1;return!0}}},B.coerce=function(l,c,f,g,h){var T=u(f,g).get(),x=u(l,g),m=u(c,g),b=x.get(),_=c._template;if(void 0===b&&_&&(b=u(_,g).get(),_=0),void 0===h&&(h=T.dflt),T.arrayOk&&a(b))return m.set(b),b;var w=B.valObjectMeta[T.valType].coerceFunction;w(b,m,h,T);var A=m.get();return _&&A===h&&!o(b,T)&&(w(b=u(_,g).get(),m,h,T),A=m.get()),A},B.coerce2=function(l,c,f,g,h){var T=u(l,g),x=B.coerce(l,c,f,g,h);return null!=T.get()&&x},B.coerceFont=function(l,c,f){var g={};return g.family=l(c+".family",(f=f||{}).family),g.size=l(c+".size",f.size),g.color=l(c+".color",f.color),g},B.coercePattern=function(l,c,f,g){if(l(c+".shape")){l(c+".solidity"),l(c+".size");var h="overlay"===l(c+".fillmode");if(!g){var T=l(c+".bgcolor",h?f:void 0);l(c+".fgcolor",h?M.contrast(T):f)}l(c+".fgopacity",h?.5:1)}},B.coerceHoverinfo=function(l,c,f){var g,h=c._module.attributes,T=h.hoverinfo?h:d,x=T.hoverinfo;if(1===f._dataLength){var m="all"===x.dflt?x.flags.slice():x.dflt.split("+");m.splice(m.indexOf("name"),1),g=m.join("+")}return B.coerce(l,c,T,"hoverinfo",g)},B.coerceSelectionMarkerOpacity=function(l,c){if(l.marker){var f,g,h=l.marker.opacity;void 0!==h&&(a(h)||l.selected||l.unselected||(f=h,g=v*h),c("selected.marker.opacity",f),c("unselected.marker.opacity",g))}},B.validate=o},41631:function(ae,B,r){"use strict";var D,E,d=r(84096).i$,S=r(92770),M=r(47769),v=r(64872).mod,u=r(50606),i=u.BADNUM,s=u.ONEDAY,a=u.ONEHOUR,o=u.ONEMIN,l=u.ONESEC,c=u.EPOCHJD,f=r(73972),g=r(84096).g0,h=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=(new Date).getFullYear()-70;function m(j){return j&&f.componentsRegistry.calendars&&"string"==typeof j&&"gregorian"!==j}function b(j,X){return String(j+Math.pow(10,X)).substr(1)}B.dateTick0=function(j,X){var G,H,N=(H=!!X,m(G=j)?H?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[G]:f.getComponentMethod("calendars","CANONICAL_TICK")[G]:H?"2000-01-02":"2000-01-01");if(X<2)return N;var q=B.dateTime2ms(N,j);return B.ms2DateTime(q+=s*(X-1),0,j)},B.dfltRange=function(j){return m(j)?f.getComponentMethod("calendars","DFLTRANGE")[j]:["2000-01-01","2001-01-01"]},B.isJSDate=function(j){return"object"==typeof j&&null!==j&&"function"==typeof j.getTime},B.dateTime2ms=function(j,X){if(B.isJSDate(j)){var N=j.getTimezoneOffset()*o,q=(j.getUTCMinutes()-j.getMinutes())*o+(j.getUTCSeconds()-j.getSeconds())*l+(j.getUTCMilliseconds()-j.getMilliseconds());if(q){var G=3*o;N=N-G/2+v(q-N+G/2,G)}return(j=Number(j)-N)>=D&&j<=E?j:i}if("string"!=typeof j&&"number"!=typeof j)return i;j=String(j);var H=m(X),Z=j.charAt(0);!H||"G"!==Z&&"g"!==Z||(j=j.substr(1),X="");var $=H&&"chinese"===X.substr(0,7),se=j.match($?T:h);if(!se)return i;var ne=se[1],re=se[3]||"1",Q=Number(se[5]||1),ee=Number(se[7]||0),oe=Number(se[9]||0),ce=Number(se[11]||0);if(H){if(2===ne.length)return i;var ue;ne=Number(ne);try{var he=f.getComponentMethod("calendars","getCal")(X);if($){var ve="i"===re.charAt(re.length-1);re=parseInt(re,10),ue=he.newDate(ne,he.toMonthIndex(ne,re,ve),Q)}else ue=he.newDate(ne,Number(re),Q)}catch{return i}return ue?(ue.toJD()-c)*s+ee*a+oe*o+ce*l:i}ne=2===ne.length?(Number(ne)+2e3-x)%100+x:Number(ne),re-=1;var ke=new Date(Date.UTC(2e3,re,Q,ee,oe));return ke.setUTCFullYear(ne),ke.getUTCMonth()!==re||ke.getUTCDate()!==Q?i:ke.getTime()+ce*l},D=B.MIN_MS=B.dateTime2ms("-9999"),E=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(j,X){return B.dateTime2ms(j,X)!==i};var _=90*s,w=3*a,A=5*o;function p(j,X,N,q,G){if((X||N||q||G)&&(j+=" "+b(X,2)+":"+b(N,2),(q||G)&&(j+=":"+b(q,2),G))){for(var H=4;G%10==0;)H-=1,G/=10;j+="."+b(G,H)}return j}B.ms2DateTime=function(j,X,N){if("number"!=typeof j||!(j>=D&&j<=E))return i;X||(X=0);var q,G,H,Z,$,se,ne=Math.floor(10*v(j+.05,1)),re=Math.round(j-ne/10);if(m(N)){var Q=Math.floor(re/s)+c,ee=Math.floor(v(j,s));try{q=f.getComponentMethod("calendars","getCal")(N).fromJD(Q).formatDate("yyyy-mm-dd")}catch{q=g("G%Y-%m-%d")(new Date(re))}if("-"===q.charAt(0))for(;q.length<11;)q="-0"+q.substr(1);else for(;q.length<10;)q="0"+q;G=X<_?Math.floor(ee/a):0,H=X<_?Math.floor(ee%a/o):0,Z=X<w?Math.floor(ee%o/l):0,$=X<A?ee%l*10+ne:0}else se=new Date(re),q=g("%Y-%m-%d")(se),G=X<_?se.getUTCHours():0,H=X<_?se.getUTCMinutes():0,Z=X<w?se.getUTCSeconds():0,$=X<A?10*se.getUTCMilliseconds()+ne:0;return p(q,G,H,Z,$)},B.ms2DateTimeLocal=function(j){if(!(j>=D+s&&j<=E-s))return i;var X=Math.floor(10*v(j+.05,1)),N=new Date(Math.round(j-X/10));return p(d("%Y-%m-%d")(N),N.getHours(),N.getMinutes(),N.getSeconds(),10*N.getUTCMilliseconds()+X)},B.cleanDate=function(j,X,N){if(j===i)return X;if(B.isJSDate(j)||"number"==typeof j&&isFinite(j)){if(m(N))return M.error("JS Dates and milliseconds are incompatible with world calendars",j),X;if(!(j=B.ms2DateTimeLocal(+j))&&void 0!==X)return X}else if(!B.isDateTime(j,N))return M.error("unrecognized date",j),X;return j};var I=/%\d?f/g,k=/%h/g,L={1:"1",2:"1",3:"2",4:"2"};function O(j,X,N,q){j=j.replace(I,function(H){var Z=Math.min(+H.charAt(1)||6,6);return(X/1e3%1+2).toFixed(Z).substr(2).replace(/0+$/,"")||"0"});var G=new Date(Math.floor(X+.05));if(j=j.replace(k,function(){return L[N("%q")(G)]}),m(q))try{j=f.getComponentMethod("calendars","worldCalFmt")(j,X,q)}catch{return"Invalid"}return N(j)(G)}var P=[59,59.9,59.99,59.999,59.9999];B.formatDate=function(j,X,N,q,G,H){if(G=m(G)&&G,!X)if("y"===N)X=H.year;else if("m"===N)X=H.month;else{if("d"!==N)return function(Z,$){var se=v(Z+.05,s),ne=b(Math.floor(se/a),2)+":"+b(v(Math.floor(se/o),60),2);if("M"!==$){S($)||($=0);var re=(100+Math.min(v(Z/l,60),P[$])).toFixed($).substr(1);$>0&&(re=re.replace(/0+$/,"").replace(/[\.]$/,"")),ne+=":"+re}return ne}(j,N)+"\n"+O(H.dayMonthYear,j,q,G);X=H.dayMonth+"\n"+H.year}return O(X,j,q,G)};var F=3*s;B.incrementMonth=function(j,X,N){N=m(N)&&N;var q=v(j,s);if(j=Math.round(j-q),N)try{var G=Math.round(j/s)+c,H=f.getComponentMethod("calendars","getCal")(N),Z=H.fromJD(G);return X%12?H.add(Z,X,"m"):H.add(Z,X/12,"y"),(Z.toJD()-c)*s+q}catch{M.error("invalid ms "+j+" in calendar "+N)}var $=new Date(j+F);return $.setUTCMonth($.getUTCMonth()+X)+q-F},B.findExactDates=function(j,X){for(var N,q,G=0,H=0,Z=0,$=0,se=m(X)&&f.getComponentMethod("calendars","getCal")(X),ne=0;ne<j.length;ne++)if(S(q=j[ne])){if(!(q%s))if(se)try{1===(N=se.fromJD(q/s+c)).day()?1===N.month()?G++:H++:Z++}catch{}else 1===(N=new Date(q)).getUTCDate()?0===N.getUTCMonth()?G++:H++:Z++}else $++;Z+=H+=G;var re=j.length-$;return{exactYears:G/re,exactMonths:H/re,exactDays:Z/re}}},24401:function(ae,B,r){"use strict";var D=r(39898),E=r(47769),d=r(35657),S=r(79576);function M(a){var o=a&&a.parentNode;o&&o.removeChild(a)}function v(a,o,l){var c="plotly.js-style-"+a,f=document.getElementById(c);f||((f=document.createElement("style")).setAttribute("id",c),f.appendChild(document.createTextNode("")),document.head.appendChild(f));var g=f.sheet;g.insertRule?g.insertRule(o+"{"+l+"}",0):g.addRule?g.addRule(o,l,0):E.warn("addStyleRule failed")}function u(a){var o=window.getComputedStyle(a,null),l=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("-moz-transform")||o.getPropertyValue("-ms-transform")||o.getPropertyValue("-o-transform")||o.getPropertyValue("transform");return"none"===l?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(c){return+c})}function i(a){for(var o=[];s(a);)o.push(a),a=a.parentNode;return o}function s(a){return a&&(a instanceof Element||a instanceof HTMLElement)}ae.exports={getGraphDiv:function(a){var o;if("string"==typeof a){if(null===(o=document.getElementById(a)))throw new Error("No DOM element with id '"+a+"' exists on the page.");return o}if(null==a)throw new Error("DOM element provided is null or undefined");return a},isPlotDiv:function(a){var o=D.select(a);return o.node()instanceof HTMLElement&&o.size()&&o.classed("js-plotly-plot")},removeElement:M,addStyleRule:function(a,o){v("global",a,o)},addRelatedStyleRule:v,deleteRelatedStyleRule:function(a){var l=document.getElementById("plotly.js-style-"+a);l&&M(l)},getFullTransformMatrix:function(a){var o=i(a),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return o.forEach(function(c){var f=u(c);if(f){var g=d.convertCssMatrix(f);l=S.multiply(l,l,g)}}),l},getElementTransformMatrix:u,getElementAndAncestors:i,equalDomRects:function(a,o){return a&&o&&a.top===o.top&&a.left===o.left&&a.right===o.right&&a.bottom===o.bottom}}},11086:function(ae,B,r){"use strict";var D=r(15398).EventEmitter;ae.exports={init:function(d){if(d._ev instanceof D)return d;var S=new D,M=new D;return d._ev=S,d._internalEv=M,d.on=S.on.bind(S),d.once=S.once.bind(S),d.removeListener=S.removeListener.bind(S),d.removeAllListeners=S.removeAllListeners.bind(S),d._internalOn=M.on.bind(M),d._internalOnce=M.once.bind(M),d._removeInternalListener=M.removeListener.bind(M),d._removeAllInternalListeners=M.removeAllListeners.bind(M),d.emit=function(v,u){typeof jQuery<"u"&&jQuery(d).trigger(v,u),S.emit(v,u),M.emit(v,u)},d},triggerHandler:function(d,S,M){var v,u;typeof jQuery<"u"&&(v=jQuery(d).triggerHandler(S,M));var i=d._ev;if(!i)return v;var s,a=i._events[S];if(!a)return v;function o(l){return l.listener?(i.removeListener(S,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(i,[M]))):l.apply(i,[M])}for(a=Array.isArray(a)?a:[a],s=0;s<a.length-1;s++)o(a[s]);return u=o(a[s]),void 0!==v?v:u},purge:function(d){return delete d._ev,delete d.on,delete d.once,delete d.removeListener,delete d.removeAllListeners,delete d.emit,delete d._ev,delete d._internalEv,delete d._internalOn,delete d._internalOnce,delete d._removeInternalListener,delete d._removeAllInternalListeners,d}}},1426:function(ae,B,r){"use strict";var D=r(41965),E=Array.isArray;function d(S,M,v,u){var i,s,a,o,l,c,g=S[0],h=S.length;if(2===h&&E(g)&&E(S[1])&&0===g.length){if(function(x,m){var b,_;for(b=0;b<x.length;b++){if(null!==(_=x[b])&&"object"==typeof _)return!1;void 0!==_&&(m[b]=_)}return!0}(S[1],g))return g;g.splice(0,g.length)}for(var T=1;T<h;T++)for(s in i=S[T])a=g[s],o=i[s],u&&E(o)?g[s]=o:M&&o&&(D(o)||(l=E(o)))?(l?(l=!1,c=a&&E(a)?a:[]):c=a&&D(a)?a:{},g[s]=d([c,o],M,v,u)):(void 0!==o||v)&&(g[s]=o);return g}B.extendFlat=function(){return d(arguments,!1,!1,!1)},B.extendDeep=function(){return d(arguments,!0,!1,!1)},B.extendDeepAll=function(){return d(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return d(arguments,!0,!1,!0)}},75744:function(ae){"use strict";ae.exports=function(B){for(var r={},D=[],E=0,d=0;d<B.length;d++){var S=B[d];1!==r[S]&&(r[S]=1,D[E++]=S)}return D}},76756:function(ae){"use strict";function B(D){return!0===D.visible}function r(D){var E=D[0].trace;return!0===E.visible&&0!==E._length}ae.exports=function(D){for(var E,d=(E=D,Array.isArray(E)&&Array.isArray(E[0])&&E[0][0]&&E[0][0].trace?r:B),S=[],M=0;M<D.length;M++){var v=D[M];d(v)&&S.push(v)}return S}},41327:function(ae,B,r){"use strict";var D=r(39898),E=r(24138),d=r(30774),S=r(29261),M=r(85268),v=r(23389),u=r(47769),i=r(41965),s=r(65487),a=r(61082),o=Object.keys(E),l={"ISO-3":v,"USA-states":v,"country names":function(f){for(var g=0;g<o.length;g++){var h=o[g];if(new RegExp(E[h]).test(f.trim().toLowerCase()))return h}return u.log("Unrecognized country name: "+f+"."),!1}};function c(f){var g=f.geojson,h=window.PlotlyGeoAssets||{},T="string"==typeof g?h[g]:g;return i(T)?T:(u.error("Oops ... something went wrong when fetching "+g),!1)}ae.exports={locationToFeature:function(f,g,h){if(!g||"string"!=typeof g)return!1;var T,x,m,b=l[f](g);if(b){if("USA-states"===f)for(T=[],m=0;m<h.length;m++)(x=h[m]).properties&&x.properties.gu&&"USA"===x.properties.gu&&T.push(x);else T=h;for(m=0;m<T.length;m++)if((x=T[m]).id===b)return x;u.log(["Location with id",b,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(f){var g,h,T,x,m=f.geometry,b=m.coordinates,_=f.id,w=[];function A(p){for(var I=0;I<p.length-1;I++)if(p[I][0]>0&&p[I+1][0]<0)return I;return null}switch(g="RUS"===_||"FJI"===_?function(p){var I;if(null===A(p))I=p;else for(I=new Array(p.length),x=0;x<p.length;x++)I[x]=[p[x][0]<0?p[x][0]+360:p[x][0],p[x][1]];w.push(a.tester(I))}:"ATA"===_?function(p){var I=A(p);if(null===I)return w.push(a.tester(p));var k=new Array(p.length+1),L=0;for(x=0;x<p.length;x++)x>I?k[L++]=[p[x][0]+360,p[x][1]]:x===I?(k[L++]=p[x],k[L++]=[p[x][0],-90]):k[L++]=p[x];var O=a.tester(k);O.pts.pop(),w.push(O)}:function(p){w.push(a.tester(p))},m.type){case"MultiPolygon":for(h=0;h<b.length;h++)for(T=0;T<b[h].length;T++)g(b[h][T]);break;case"Polygon":for(h=0;h<b.length;h++)g(b[h])}return w},getTraceGeojson:c,extractTraceFeature:function(f){var g=f[0].trace,h=c(g);if(!h)return!1;var T,x={},m=[];for(T=0;T<g._length;T++){var b=f[T];(b.loc||0===b.loc)&&(x[b.loc]=b)}function _(p){var I=s(p,g.featureidkey||"id").get(),k=x[I];if(k){var L=p.geometry;if("Polygon"===L.type||"MultiPolygon"===L.type){var O={type:"Feature",id:I,geometry:L,properties:{}};O.properties.ct=function(P){var F,j=P.geometry;if("MultiPolygon"===j.type)for(var X=j.coordinates,N=0,q=0;q<X.length;q++){var G={type:"Polygon",coordinates:X[q]},H=d.default(G);H>N&&(N=H,F=G)}else F=j;return S.default(F).geometry.coordinates}(O),k.fIn=p,k.fOut=O,m.push(O)}else u.log(["Location",k.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[I]}switch(h.type){case"FeatureCollection":var w=h.features;for(T=0;T<w.length;T++)_(w[T]);break;case"Feature":_(h);break;default:return u.warn(["Invalid GeoJSON type",(h.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var A in x)u.log(["Location *"+A+"*","does not have a matching feature with id-key","*"+g.featureidkey+"*."].join(" "));return m},fetchTraceGeoData:function(f){var g=window.PlotlyGeoAssets||{},h=[];function T(_){return new Promise(function(w,A){D.json(_,function(p,I){return p?(delete g[_],A(new Error(404===p.status?'GeoJSON at URL "'+_+'" does not exist.':"Unexpected error while fetching from "+_))):(g[_]=I,w(I))})})}function x(_){return new Promise(function(w,A){var p=0,I=setInterval(function(){return g[_]&&"pending"!==g[_]?(clearInterval(I),w(g[_])):p>100?(clearInterval(I),A("Unexpected error while fetching from "+_)):void p++},50)})}for(var m=0;m<f.length;m++){var b=f[m][0].trace.geojson;"string"==typeof b&&(g[b]?"pending"===g[b]&&h.push(x(b)):(g[b]="pending",h.push(T(b))))}return h},computeBbox:function(f){return M.default(f)}}},18214:function(ae,B,r){"use strict";var D=r(50606).BADNUM;B.calcTraceToLineCoords=function(E){for(var d=E[0].trace.connectgaps,S=[],M=[],v=0;v<E.length;v++){var u=E[v].lonlat;u[0]!==D?M.push(u):!d&&M.length>0&&(S.push(M),M=[])}return M.length>0&&S.push(M),S},B.makeLine=function(E){return 1===E.length?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E}},B.makePolygon=function(E){if(1===E.length)return{type:"Polygon",coordinates:E};for(var d=new Array(E.length),S=0;S<E.length;S++)d[S]=[E[S]];return{type:"MultiPolygon",coordinates:d}},B.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(ae,B,r){"use strict";var D,E,d,S=r(64872).mod;function M(u,i,s,a,o,l,c,f){var g=s-u,h=o-u,T=c-o,x=a-i,m=l-i,b=f-l,_=g*b-T*x;if(0===_)return null;var w=(h*b-T*m)/_,A=(h*x-g*m)/_;return A<0||A>1||w<0||w>1?null:{x:u+g*w,y:i+x*w}}function v(u,i,s,a,o){var l=a*u+o*i;if(l<0)return a*a+o*o;if(l>s){var c=a-u,f=o-i;return c*c+f*f}var g=a*i-o*u;return g*g/s}B.segmentsIntersect=M,B.segmentDistance=function(u,i,s,a,o,l,c,f){if(M(u,i,s,a,o,l,c,f))return 0;var g=s-u,h=a-i,T=c-o,x=f-l,m=g*g+h*h,b=T*T+x*x,_=Math.min(v(g,h,m,o-u,l-i),v(g,h,m,c-u,f-i),v(T,x,b,u-o,i-l),v(T,x,b,s-o,a-l));return Math.sqrt(_)},B.getTextLocation=function(u,i,s,a){if(u===E&&a===d||(D={},E=u,d=a),D[s])return D[s];var o=u.getPointAtLength(S(s-a/2,i)),l=u.getPointAtLength(S(s+a/2,i)),c=Math.atan((l.y-o.y)/(l.x-o.x)),f=u.getPointAtLength(S(s,i)),g={x:(4*f.x+o.x+l.x)/6,y:(4*f.y+o.y+l.y)/6,theta:c};return D[s]=g,g},B.clearLocationCache=function(){E=null},B.getVisibleSegment=function(u,i,s){var a,o,l=i.left,c=i.right,f=i.top,g=i.bottom,h=0,T=u.getTotalLength(),x=T;function m(_){var w=u.getPointAtLength(_);0===_?a=w:_===T&&(o=w);var A=w.x<l?l-w.x:w.x>c?w.x-c:0,p=w.y<f?f-w.y:w.y>g?w.y-g:0;return Math.sqrt(A*A+p*p)}for(var b=m(h);b;){if((h+=b+s)>x)return;b=m(h)}for(b=m(x);b;){if(h>(x-=b+s))return;b=m(x)}return{min:h,max:x,len:x-h,total:T,isClosed:0===h&&x===T&&Math.abs(a.x-o.x)<.1&&Math.abs(a.y-o.y)<.1}},B.findPointOnPath=function(u,i,s,a){for(var o,l,c,f=(a=a||{}).pathLength||u.getTotalLength(),g=a.tolerance||.001,h=a.iterationLimit||30,T=u.getPointAtLength(0)[s]>u.getPointAtLength(f)[s]?-1:1,x=0,m=0,b=f;x<h;){if(c=(l=u.getPointAtLength(o=(m+b)/2))[s]-i,Math.abs(c)<g)return l;T*c>0?b=o:m=o,x++}return l}},81697:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),d=r(25075),S=r(21081),M=r(22399).defaultLine,v=r(73627).isArrayOrTypedArray,u=d(M);function i(o,l){var c=o;return c[3]*=l,c}function s(o){if(D(o))return u;var l=d(o);return l.length?l:u}function a(o){return D(o)?o:1}ae.exports={formatColor:function(o,l,c){var f,g,h,T,x,m=o.color,b=v(m),_=v(l),w=S.extractOpts(o),A=[];if(f=void 0!==w.colorscale?S.makeColorScaleFuncFromTrace(o):s,g=b?function(I,k){return void 0===I[k]?u:d(f(I[k]))}:s,h=_?function(I,k){return void 0===I[k]?1:a(I[k])}:a,b||_)for(var p=0;p<c;p++)T=g(m,p),x=h(l,p),A[p]=i(T,x);else A=i(d(m),l);return A},parseColorScale:function(o){var l=S.extractOpts(o),c=l.colorscale;return l.reversescale&&(c=S.flipScale(l.colorscale)),c.map(function(f){var g=f[0],h=E(f[1]).toRgb();return{index:g,rgb:[h.r,h.g,h.b,h.a]}})}}},28984:function(ae,B,r){"use strict";var D=r(23389);function E(d){return[d]}ae.exports={keyFun:function(d){return d.key},repeat:E,descend:D,wrap:E,unwrap:function(d){return d[0]}}},23389:function(ae){"use strict";ae.exports=function(B){return B}},39240:function(ae){"use strict";ae.exports=function(B,r){if(!r)return B;var D=1/Math.abs(r),E=D>1?(D*B+D*r)/D:B+r,d=String(E).length;if(d>16){var S=String(r).length;if(d>=String(B).length+S){var M=parseFloat(E).toPrecision(12);-1===M.indexOf("e+")&&(E=+M)}}return E}},71828:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).g0,d=r(60721).WU,S=r(92770),M=r(50606),v=M.FP_SAFE,u=-v,i=M.BADNUM,s=ae.exports={};s.adjustFormat=function(ee){return!ee||/^\d[.]\df/.test(ee)||/[.]\d%/.test(ee)?ee:"0.f"===ee?"~f":/^\d%/.test(ee)?"~%":/^\ds/.test(ee)?"~s":!/^[~,.0$]/.test(ee)&&/[&fps]/.test(ee)?"~"+ee:ee};var a={};s.warnBadFormat=function(ee){var oe=String(ee);a[oe]||(a[oe]=1,s.warn('encountered bad format: "'+oe+'"'))},s.noFormat=function(ee){return String(ee)},s.numberFormat=function(ee){var oe;try{oe=d(s.adjustFormat(ee))}catch{return s.warnBadFormat(ee),s.noFormat}return oe},s.nestedProperty=r(65487),s.keyedContainer=r(66636),s.relativeAttr=r(6962),s.isPlainObject=r(41965),s.toLogRange=r(58163),s.relinkPrivateKeys=r(51332);var o=r(73627);s.isTypedArray=o.isTypedArray,s.isArrayOrTypedArray=o.isArrayOrTypedArray,s.isArray1D=o.isArray1D,s.ensureArray=o.ensureArray,s.concat=o.concat,s.maxRowLength=o.maxRowLength,s.minRowLength=o.minRowLength;var l=r(64872);s.mod=l.mod,s.modHalf=l.modHalf;var c=r(96554);s.valObjectMeta=c.valObjectMeta,s.coerce=c.coerce,s.coerce2=c.coerce2,s.coerceFont=c.coerceFont,s.coercePattern=c.coercePattern,s.coerceHoverinfo=c.coerceHoverinfo,s.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,s.validate=c.validate;var f=r(41631);s.dateTime2ms=f.dateTime2ms,s.isDateTime=f.isDateTime,s.ms2DateTime=f.ms2DateTime,s.ms2DateTimeLocal=f.ms2DateTimeLocal,s.cleanDate=f.cleanDate,s.isJSDate=f.isJSDate,s.formatDate=f.formatDate,s.incrementMonth=f.incrementMonth,s.dateTick0=f.dateTick0,s.dfltRange=f.dfltRange,s.findExactDates=f.findExactDates,s.MIN_MS=f.MIN_MS,s.MAX_MS=f.MAX_MS;var g=r(65888);s.findBin=g.findBin,s.sorterAsc=g.sorterAsc,s.sorterDes=g.sorterDes,s.distinctVals=g.distinctVals,s.roundUp=g.roundUp,s.sort=g.sort,s.findIndexOfMin=g.findIndexOfMin,s.sortObjectKeys=r(78607);var h=r(80038);s.aggNums=h.aggNums,s.len=h.len,s.mean=h.mean,s.median=h.median,s.midRange=h.midRange,s.variance=h.variance,s.stdev=h.stdev,s.interp=h.interp;var T=r(35657);s.init2dArray=T.init2dArray,s.transposeRagged=T.transposeRagged,s.dot=T.dot,s.translationMatrix=T.translationMatrix,s.rotationMatrix=T.rotationMatrix,s.rotationXYMatrix=T.rotationXYMatrix,s.apply3DTransform=T.apply3DTransform,s.apply2DTransform=T.apply2DTransform,s.apply2DTransform2=T.apply2DTransform2,s.convertCssMatrix=T.convertCssMatrix,s.inverseTransformMatrix=T.inverseTransformMatrix;var x=r(26348);s.deg2rad=x.deg2rad,s.rad2deg=x.rad2deg,s.angleDelta=x.angleDelta,s.angleDist=x.angleDist,s.isFullCircle=x.isFullCircle,s.isAngleInsideSector=x.isAngleInsideSector,s.isPtInsideSector=x.isPtInsideSector,s.pathArc=x.pathArc,s.pathSector=x.pathSector,s.pathAnnulus=x.pathAnnulus;var m=r(99863);s.isLeftAnchor=m.isLeftAnchor,s.isCenterAnchor=m.isCenterAnchor,s.isRightAnchor=m.isRightAnchor,s.isTopAnchor=m.isTopAnchor,s.isMiddleAnchor=m.isMiddleAnchor,s.isBottomAnchor=m.isBottomAnchor;var b=r(87642);s.segmentsIntersect=b.segmentsIntersect,s.segmentDistance=b.segmentDistance,s.getTextLocation=b.getTextLocation,s.clearLocationCache=b.clearLocationCache,s.getVisibleSegment=b.getVisibleSegment,s.findPointOnPath=b.findPointOnPath;var _=r(1426);s.extendFlat=_.extendFlat,s.extendDeep=_.extendDeep,s.extendDeepAll=_.extendDeepAll,s.extendDeepNoArrays=_.extendDeepNoArrays;var w=r(47769);s.log=w.log,s.warn=w.warn,s.error=w.error;var A=r(30587);s.counterRegex=A.counter;var p=r(79990);s.throttle=p.throttle,s.throttleDone=p.done,s.clearThrottle=p.clear;var I=r(24401);function k(ee){var oe={};for(var ce in ee)for(var ue=ee[ce],he=0;he<ue.length;he++)oe[ue[he]]=+ce;return oe}s.getGraphDiv=I.getGraphDiv,s.isPlotDiv=I.isPlotDiv,s.removeElement=I.removeElement,s.addStyleRule=I.addStyleRule,s.addRelatedStyleRule=I.addRelatedStyleRule,s.deleteRelatedStyleRule=I.deleteRelatedStyleRule,s.getFullTransformMatrix=I.getFullTransformMatrix,s.getElementTransformMatrix=I.getElementTransformMatrix,s.getElementAndAncestors=I.getElementAndAncestors,s.equalDomRects=I.equalDomRects,s.clearResponsive=r(86367),s.preserveDrawingBuffer=r(45142),s.makeTraceGroups=r(77310),s._=r(15867),s.notifier=r(75046),s.filterUnique=r(75744),s.filterVisible=r(76756),s.pushUnique=r(75138),s.increment=r(39240),s.cleanNumber=r(95218),s.ensureNumber=function(ee){return S(ee)?(ee=Number(ee))>v||ee<u?i:ee:i},s.isIndex=function(ee,oe){return!(void 0!==oe&&ee>=oe)&&S(ee)&&ee>=0&&ee%1==0},s.noop=r(64213),s.identity=r(23389),s.repeat=function(ee,oe){for(var ce=new Array(oe),ue=0;ue<oe;ue++)ce[ue]=ee;return ce},s.swapAttrs=function(ee,oe,ce,ue){ce||(ce="x"),ue||(ue="y");for(var he=0;he<oe.length;he++){var ve=oe[he],ke=s.nestedProperty(ee,ve.replace("?",ce)),Ie=s.nestedProperty(ee,ve.replace("?",ue)),Me=ke.get();ke.set(Ie.get()),Ie.set(Me)}},s.raiseToTop=function(ee){ee.parentNode.appendChild(ee)},s.cancelTransition=function(ee){return ee.transition().duration(0)},s.constrain=function(ee,oe,ce){return oe>ce?Math.max(ce,Math.min(oe,ee)):Math.max(oe,Math.min(ce,ee))},s.bBoxIntersect=function(ee,oe,ce){return ee.left<=oe.right+(ce=ce||0)&&oe.left<=ee.right+ce&&ee.top<=oe.bottom+ce&&oe.top<=ee.bottom+ce},s.simpleMap=function(ee,oe,ce,ue,he){for(var ve=ee.length,ke=new Array(ve),Ie=0;Ie<ve;Ie++)ke[Ie]=oe(ee[Ie],ce,ue,he);return ke},s.randstr=function ee(oe,ce,ue,he){if(ue||(ue=16),void 0===ce&&(ce=24),ce<=0)return"0";var ve,ke,Ie=Math.log(Math.pow(2,ce))/Math.log(ue),Me="";for(ve=2;Ie===1/0;ve*=2)Ie=Math.log(Math.pow(2,ce/ve))/Math.log(ue)*ve;var _e=Ie-Math.floor(Ie);for(ve=0;ve<Math.floor(Ie);ve++)Me=Math.floor(Math.random()*ue).toString(ue)+Me;_e&&(ke=Math.pow(ue,_e),Me=Math.floor(Math.random()*ke).toString(ue)+Me);var we=parseInt(Me,ue);return oe&&oe[Me]||we!==1/0&&we>=Math.pow(2,ce)?he>10?(s.warn("randstr failed uniqueness"),Me):ee(oe,ce,ue,(he||0)+1):Me},s.OptionControl=function(ee,oe){ee||(ee={}),oe||(oe="opt");var ce={optionList:[],_newoption:function(ue){ue[oe]=ee,ce[ue.name]=ue,ce.optionList.push(ue)}};return ce["_"+oe]=ee,ce},s.smooth=function(ee,oe){if((oe=Math.round(oe)||0)<2)return ee;var ce,ue,he,ve,ke=ee.length,Ie=2*ke,Me=2*oe-1,_e=new Array(Me),we=new Array(ke);for(ce=0;ce<Me;ce++)_e[ce]=(1-Math.cos(Math.PI*(ce+1)/oe))/(2*oe);for(ce=0;ce<ke;ce++){for(ve=0,ue=0;ue<Me;ue++)(he=ce+ue+1-oe)<-ke?he-=Ie*Math.round(he/Ie):he>=Ie&&(he-=Ie*Math.floor(he/Ie)),he<0?he=-1-he:he>=ke&&(he=Ie-1-he),ve+=ee[he]*_e[ue];we[ce]=ve}return we},s.syncOrAsync=function(ee,oe,ce){var ue;function he(){return s.syncOrAsync(ee,oe,ce)}for(;ee.length;)if((ue=(0,ee.splice(0,1)[0])(oe))&&ue.then)return ue.then(he);return ce&&ce(oe)},s.stripTrailingSlash=function(ee){return"/"===ee.substr(-1)?ee.substr(0,ee.length-1):ee},s.noneOrAll=function(ee,oe,ce){if(ee){var ue,he=!1,ve=!0;for(ue=0;ue<ce.length;ue++)null!=ee[ce[ue]]?he=!0:ve=!1;if(he&&!ve)for(ue=0;ue<ce.length;ue++)ee[ce[ue]]=oe[ce[ue]]}},s.mergeArray=function(ee,oe,ce,ue){var he="function"==typeof ue;if(s.isArrayOrTypedArray(ee))for(var ve=Math.min(ee.length,oe.length),ke=0;ke<ve;ke++){var Ie=ee[ke];oe[ke][ce]=he?ue(Ie):Ie}},s.mergeArrayCastPositive=function(ee,oe,ce){return s.mergeArray(ee,oe,ce,function(ue){var he=+ue;return isFinite(he)&&he>0?he:0})},s.fillArray=function(ee,oe,ce,ue){if(ue=ue||s.identity,s.isArrayOrTypedArray(ee))for(var he=0;he<oe.length;he++)oe[he][ce]=ue(ee[he])},s.castOption=function(ee,oe,ce,ue){ue=ue||s.identity;var he=s.nestedProperty(ee,ce).get();return s.isArrayOrTypedArray(he)?Array.isArray(oe)&&s.isArrayOrTypedArray(he[oe[0]])?ue(he[oe[0]][oe[1]]):ue(he[oe]):he},s.extractOption=function(ee,oe,ce,ue){if(ce in ee)return ee[ce];var he=s.nestedProperty(oe,ue).get();return Array.isArray(he)?void 0:he},s.tagSelected=function(ee,oe,ce){var ue,he,ve=oe.selectedpoints,ke=oe._indexToPoints;ke&&(ue=k(ke));for(var Ie=0;Ie<ve.length;Ie++){var Me=ve[Ie];if(s.isIndex(Me)||s.isArrayOrTypedArray(Me)&&s.isIndex(Me[0])&&s.isIndex(Me[1])){var _e=ue?ue[Me]:Me,we=ce?ce[_e]:_e;void 0!==(he=we)&&he<ee.length&&(ee[we].selected=1)}}},s.selIndices2selPoints=function(ee){var oe=ee.selectedpoints,ce=ee._indexToPoints;if(ce){for(var ue=k(ce),he=[],ve=0;ve<oe.length;ve++){var ke=oe[ve];if(s.isIndex(ke)){var Ie=ue[ke];s.isIndex(Ie)&&he.push(Ie)}}return he}return oe},s.getTargetArray=function(ee,oe){var ce=oe.target;if("string"==typeof ce&&ce){var ue=s.nestedProperty(ee,ce).get();return!!Array.isArray(ue)&&ue}return!!Array.isArray(ce)&&ce},s.minExtend=function ee(oe,ce,ue){var he={};"object"!=typeof ce&&(ce={});var ve,ke,Ie,Me="pieLike"===ue?-1:3,_e=Object.keys(oe);for(ve=0;ve<_e.length;ve++)Ie=oe[ke=_e[ve]],"_"!==ke.charAt(0)&&"function"!=typeof Ie&&(he[ke]="module"===ke?Ie:Array.isArray(Ie)?"colorscale"===ke||-1===Me?Ie.slice():Ie.slice(0,Me):s.isTypedArray(Ie)?-1===Me?Ie.subarray():Ie.subarray(0,Me):Ie&&"object"==typeof Ie?ee(oe[ke],ce[ke],ue):Ie);for(_e=Object.keys(ce),ve=0;ve<_e.length;ve++)"object"==typeof(Ie=ce[ke=_e[ve]])&&ke in he&&"object"==typeof he[ke]||(he[ke]=Ie);return he},s.titleCase=function(ee){return ee.charAt(0).toUpperCase()+ee.substr(1)},s.containsAny=function(ee,oe){for(var ce=0;ce<oe.length;ce++)if(-1!==ee.indexOf(oe[ce]))return!0;return!1},s.isIE=function(){return void 0!==window.navigator.msSaveBlob};var L=/Version\/[\d\.]+.*Safari/;s.isSafari=function(){return L.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;s.isIOS=function(){return O.test(window.navigator.userAgent)};var P=/Firefox\/(\d+)\.\d+/;s.getFirefoxVersion=function(){var ee=P.exec(window.navigator.userAgent);if(ee&&2===ee.length){var oe=parseInt(ee[1]);if(!isNaN(oe))return oe}return null},s.isD3Selection=function(ee){return ee instanceof D.selection},s.ensureSingle=function(ee,oe,ce,ue){var he=ee.select(oe+(ce?"."+ce:""));if(he.size())return he;var ve=ee.append(oe);return ce&&ve.classed(ce,!0),ue&&ve.call(ue),ve},s.ensureSingleById=function(ee,oe,ce,ue){var he=ee.select(oe+"#"+ce);if(he.size())return he;var ve=ee.append(oe).attr("id",ce);return ue&&ve.call(ue),ve},s.objectFromPath=function(ee,oe){for(var ce,ue=ee.split("."),he=ce={},ve=0;ve<ue.length;ve++){var ke=ue[ve],Ie=null,Me=ue[ve].match(/(.*)\[([0-9]+)\]/);Me?(Ie=Me[2],(ce=ce[ke=Me[1]]=[])[Ie]=ve===ue.length-1?oe:{},ce=ce[Ie]):(ce[ke]=ve===ue.length-1?oe:{},ce=ce[ke])}return he};var F=/^([^\[\.]+)\.(.+)?/,j=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function X(ee){return"__"===ee.slice(0,2)}s.expandObjectPaths=function(ee){var oe,ce,ue,he,ve,ke,Ie;if("object"==typeof ee&&!Array.isArray(ee))for(ce in ee)if(ee.hasOwnProperty(ce))if(oe=ce.match(F)){if(he=ee[ce],X(ue=oe[1]))continue;delete ee[ce],ee[ue]=s.extendDeepNoArrays(ee[ue]||{},s.objectFromPath(ce,s.expandObjectPaths(he))[ue])}else if(oe=ce.match(j)){if(he=ee[ce],X(ue=oe[1]))continue;if(ve=parseInt(oe[2]),delete ee[ce],ee[ue]=ee[ue]||[],"."===oe[3])Ie=oe[4],ke=ee[ue][ve]=ee[ue][ve]||{},s.extendDeepNoArrays(ke,s.objectFromPath(Ie,s.expandObjectPaths(he)));else{if(X(ue))continue;ee[ue][ve]=s.expandObjectPaths(he)}}else{if(X(ce))continue;ee[ce]=s.expandObjectPaths(ee[ce])}return ee},s.numSeparate=function(ee,oe,ce){if(ce||(ce=!1),"string"!=typeof oe||0===oe.length)throw new Error("Separator string required for formatting!");"number"==typeof ee&&(ee=String(ee));var ue=/(\d+)(\d{3})/,he=oe.charAt(0),ve=oe.charAt(1),ke=ee.split("."),Ie=ke[0],Me=ke.length>1?he+ke[1]:"";if(ve&&(ke.length>1||Ie.length>4||ce))for(;ue.test(Ie);)Ie=Ie.replace(ue,"$1"+ve+"$2");return Ie+Me},s.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var N=/^\w*$/;s.templateString=function(ee,oe){var ce={};return ee.replace(s.TEMPLATE_STRING_REGEX,function(ue,he){var ve;return N.test(he)?ve=oe[he]:(ce[he]=ce[he]||s.nestedProperty(oe,he).get,ve=ce[he]()),s.isValidTextValue(ve)?ve:""})};var q={max:10,count:0,name:"hovertemplate"};s.hovertemplateString=function(){return se.apply(q,arguments)};var G={max:10,count:0,name:"texttemplate"};s.texttemplateString=function(){return se.apply(G,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,Z={max:10,count:0,name:"texttemplate",parseMultDiv:!0};s.texttemplateStringForShapes=function(){return se.apply(Z,arguments)};var $=/^[:|\|]/;function se(ee,oe,ce){var ue=this,he=arguments;oe||(oe={});var ve={};return ee.replace(s.TEMPLATE_STRING_REGEX,function(ke,Ie,Me){var _e="_xother"===Ie||"_yother"===Ie,we="_xother_"===Ie||"_yother_"===Ie,ze="xother_"===Ie||"yother_"===Ie,Ee="xother"===Ie||"yother"===Ie||_e||ze||we,Se=Ie;(_e||we)&&(Se=Se.substring(1)),(ze||we)&&(Se=Se.substring(0,Se.length-1));var me,fe,le,Oe,Ce,Te=null,Re=null;if(ue.parseMultDiv){var De=(Ce=(Oe=Se).match(H))?{key:Ce[1],op:Ce[2],number:Number(Ce[3])}:{key:Oe,op:null,number:null};Se=De.key,Te=De.op,Re=De.number}if(Ee){if(void 0===(me=oe[Se]))return""}else for(le=3;le<he.length;le++)if(fe=he[le]){if(fe.hasOwnProperty(Se)){me=fe[Se];break}if(N.test(Se)||(me=s.nestedProperty(fe,Se).get(),(me=ve[Se]||s.nestedProperty(fe,Se).get())&&(ve[Se]=me)),void 0!==me)break}if(void 0!==me&&("*"===Te&&(me*=Re),"/"===Te&&(me/=Re)),void 0===me&&ue)return ue.count<ue.max&&(s.warn("Variable '"+Se+"' in "+ue.name+" could not be found!"),me=ke),ue.count===ue.max&&s.warn("Too many "+ue.name+" warnings - additional warnings will be suppressed"),ue.count++,ke;if(Me){var Ue;if(":"===Me[0]&&(me=(Ue=ce?ce.numberFormat:s.numberFormat)(Me.replace($,""))(me)),"|"===Me[0]){Ue=ce?ce.timeFormat:E;var Ze=s.dateTime2ms(me);me=s.formatDate(Ze,Me.replace($,""),!1,Ue)}}else{var xe=Se+"Label";oe.hasOwnProperty(xe)&&(me=oe[xe])}return Ee&&(me="("+me+")",(_e||we)&&(me=" "+me),(ze||we)&&(me+=" ")),me})}s.subplotSort=function(ee,oe){for(var ce=Math.min(ee.length,oe.length)+1,ue=0,he=0,ve=0;ve<ce;ve++){var ke=ee.charCodeAt(ve)||0,Ie=oe.charCodeAt(ve)||0,Me=ke>=48&&ke<=57,_e=Ie>=48&&Ie<=57;if(Me&&(ue=10*ue+ke-48),_e&&(he=10*he+Ie-48),!Me||!_e){if(ue!==he)return ue-he;if(ke!==Ie)return ke-Ie}}return he-ue};var ne=2e9;s.seedPseudoRandom=function(){ne=2e9},s.pseudoRandom=function(){var ee=ne;return ne=(69069*ne+1)%4294967296,Math.abs(ne-ee)<429496729?s.pseudoRandom():ne/4294967296},s.fillText=function(ee,oe,ce){var ue=Array.isArray(ce)?function(ke){ce.push(ke)}:function(ke){ce.text=ke},he=s.extractOption(ee,oe,"htx","hovertext");if(s.isValidTextValue(he))return ue(he);var ve=s.extractOption(ee,oe,"tx","text");return s.isValidTextValue(ve)?ue(ve):void 0},s.isValidTextValue=function(ee){return ee||0===ee},s.formatPercent=function(ee,oe){oe=oe||0;for(var ce=(Math.round(100*ee*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",ue=0;ue<oe;ue++)-1!==ce.indexOf(".")&&(ce=(ce=ce.replace("0%","%")).replace(".%","%"));return ce},s.isHidden=function(ee){var oe=window.getComputedStyle(ee).display;return!oe||"none"===oe},s.strTranslate=function(ee,oe){return ee||oe?"translate("+ee+","+oe+")":""},s.strRotate=function(ee){return ee?"rotate("+ee+")":""},s.strScale=function(ee){return 1!==ee?"scale("+ee+")":""},s.getTextTransform=function(ee){var oe=ee.noCenter,ce=ee.textX,ue=ee.textY,Me=ee.rotate,_e=ee.scale;return _e?_e>1&&(_e=1):_e=0,s.strTranslate(ee.targetX-_e*(ce+(ee.anchorX||0)),ee.targetY-_e*(ue+(ee.anchorY||0)))+s.strScale(_e)+(Me?"rotate("+Me+(oe?"":" "+ce+" "+ue)+")":"")},s.setTransormAndDisplay=function(ee,oe){ee.attr("transform",s.getTextTransform(oe)),ee.style("display",oe.scale?null:"none")},s.ensureUniformFontSize=function(ee,oe){var ce=s.extendFlat({},oe);return ce.size=Math.max(oe.size,ee._fullLayout.uniformtext.minsize||0),ce},s.join2=function(ee,oe,ce){var ue=ee.length;return ue>1?ee.slice(0,-1).join(oe)+ce+ee[ue-1]:ee.join(oe)},s.bigFont=function(ee){return Math.round(1.2*ee)};var re=s.getFirefoxVersion(),Q=null!==re&&re<86;s.getPositionFromD3Event=function(){return Q?[D.event.layerX,D.event.layerY]:[D.event.offsetX,D.event.offsetY]}},41965:function(ae){"use strict";ae.exports=function(B){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(B):"[object Object]"===Object.prototype.toString.call(B)&&Object.getPrototypeOf(B).hasOwnProperty("hasOwnProperty")}},66636:function(ae,B,r){"use strict";var D=r(65487),E=/^\w*$/;ae.exports=function(d,S,M,v){var u,i,s;M=M||"name",v=v||"value";var a={};S&&S.length?(s=D(d,S),i=s.get()):i=d,S=S||"";var o={};if(i)for(u=0;u<i.length;u++)o[i[u][M]]=u;var l=E.test(v),c={set:function(f,g){var h=null===g?4:0;if(!i){if(!s||4===h)return;s.set(i=[])}var T=o[f];if(void 0===T){if(4===h)return;h|=3,o[f]=T=i.length}else g!==(l?i[T][v]:D(i[T],v).get())&&(h|=2);var x=i[T]=i[T]||{};return x[M]=f,l?x[v]=g:D(x,v).set(g),null!==g&&(h&=-5),a[T]=a[T]|h,c},get:function(f){if(i){var g=o[f];return void 0===g?void 0:l?i[g][v]:D(i[g],v).get()}},rename:function(f,g){var h=o[f];return void 0===h||(a[h]=1|a[h],o[g]=h,delete o[f],i[h][M]=g),c},remove:function(f){var g=o[f];if(void 0===g)return c;var h=i[g];if(Object.keys(h).length>2)return a[g]=2|a[g],c.set(f,null);if(l){for(u=g;u<i.length;u++)a[u]=3|a[u];for(u=g;u<i.length;u++)o[i[u][M]]--;i.splice(g,1),delete o[f]}else D(h,v).set(null),a[g]=6|a[g];return c},constructUpdate:function(){for(var f,g,h={},T=Object.keys(a),x=0;x<T.length;x++)f=S+"["+(g=T[x])+"]",i[g]?(1&a[g]&&(h[f+"."+M]=i[g][M]),2&a[g]&&(h[f+"."+v]=l?4&a[g]?null:i[g][v]:4&a[g]?null:D(i[g],v).get())):h[f]=null;return h}};return c}},15867:function(ae,B,r){"use strict";var D=r(73972);ae.exports=function(E,d){for(var S=E._context.locale,M=0;M<2;M++){for(var v=E._context.locales,u=0;u<2;u++){var i=(v[S]||{}).dictionary;if(i){var s=i[d];if(s)return s}v=D.localeRegistry}var a=S.split("-")[0];if(a===S)break;S=a}return d}},47769:function(ae,B,r){"use strict";var D=r(72075).dfltConfig,E=r(75046),d=ae.exports={};d.log=function(){var S;if(D.logging>1){var M=["LOG:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.trace.apply(console,M)}if(D.notifyOnLogging>1){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"long")}},d.warn=function(){var S;if(D.logging>0){var M=["WARN:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.trace.apply(console,M)}if(D.notifyOnLogging>0){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"stick")}},d.error=function(){var S;if(D.logging>0){var M=["ERROR:"];for(S=0;S<arguments.length;S++)M.push(arguments[S]);console.error.apply(console,M)}if(D.notifyOnLogging>0){var v=[];for(S=0;S<arguments.length;S++)v.push(arguments[S]);E(v.join("<br>"),"stick")}}},77310:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E,d,S){var M=E.selectAll("g."+S.replace(/\s/g,".")).data(d,function(u){return u[0].trace.uid});M.exit().remove(),M.enter().append("g").attr("class",S),M.order();var v=E.classed("rangeplot")?"nodeRangePlot3":"node3";return M.each(function(u){u[0][v]=D.select(this)}),M}},35657:function(ae,B,r){"use strict";var D=r(79576);B.init2dArray=function(E,d){for(var S=new Array(E),M=0;M<E;M++)S[M]=new Array(d);return S},B.transposeRagged=function(E){var d,S,M=0,v=E.length;for(d=0;d<v;d++)M=Math.max(M,E[d].length);var u=new Array(M);for(d=0;d<M;d++)for(u[d]=new Array(v),S=0;S<v;S++)u[d][S]=E[S][d];return u},B.dot=function(E,d){if(!E.length||!d.length||E.length!==d.length)return null;var S,M,v=E.length;if(E[0].length)for(S=new Array(v),M=0;M<v;M++)S[M]=B.dot(E[M],d);else if(d[0].length){var u=B.transposeRagged(d);for(S=new Array(u.length),M=0;M<u.length;M++)S[M]=B.dot(E,u[M])}else for(S=0,M=0;M<v;M++)S+=E[M]*d[M];return S},B.translationMatrix=function(E,d){return[[1,0,E],[0,1,d],[0,0,1]]},B.rotationMatrix=function(E){var d=E*Math.PI/180;return[[Math.cos(d),-Math.sin(d),0],[Math.sin(d),Math.cos(d),0],[0,0,1]]},B.rotationXYMatrix=function(E,d,S){return B.dot(B.dot(B.translationMatrix(d,S),B.rotationMatrix(E)),B.translationMatrix(-d,-S))},B.apply3DTransform=function(E){return function(){var d=arguments,S=1===arguments.length?d[0]:[d[0],d[1],d[2]||0];return B.dot(E,[S[0],S[1],S[2],1]).slice(0,3)}},B.apply2DTransform=function(E){return function(){var d=arguments;3===d.length&&(d=d[0]);var S=1===arguments.length?d[0]:[d[0],d[1]];return B.dot(E,[S[0],S[1],1]).slice(0,2)}},B.apply2DTransform2=function(E){var d=B.apply2DTransform(E);return function(S){return d(S.slice(0,2)).concat(d(S.slice(2,4)))}},B.convertCssMatrix=function(E){if(E){var d=E.length;if(16===d)return E;if(6===d)return[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(E){var d=[];return D.invert(d,E),[[d[0],d[1],d[2],d[3]],[d[4],d[5],d[6],d[7]],[d[8],d[9],d[10],d[11]],[d[12],d[13],d[14],d[15]]]}},64872:function(ae){"use strict";ae.exports={mod:function(B,r){var D=B%r;return D<0?D+r:D},modHalf:function(B,r){return Math.abs(B)>r/2?B-Math.round(B/r)*r:B}}},65487:function(ae,B,r){"use strict";var D=r(92770),E=r(73627).isArrayOrTypedArray;function d(a,o){return function(){var l,c,f,g,h,T=a;for(g=0;g<o.length-1;g++){if(-1===(l=o[g])){for(c=!0,f=[],h=0;h<T.length;h++)f[h]=d(T[h],o.slice(g+1))(),f[h]!==f[0]&&(c=!1);return c?f[0]:f}if("number"==typeof l&&!E(T)||"object"!=typeof(T=T[l])||null===T)return}if("object"==typeof T&&null!==T&&null!==(f=T[o[g]]))return f}}ae.exports=function(a,o){if(D(o))o=String(o);else if("string"!=typeof o||"[-1]"===o.substr(o.length-4))throw"bad property string";var l,c,f,g,h=o.split(".");for(g=0;g<h.length;g++)if("__"===String(h[g]).slice(0,2))throw"bad property string";for(g=0;g<h.length;){if(l=String(h[g]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])h[g]=l[1];else{if(0!==g)throw"bad property string";h.splice(0,1)}for(c=l[2].substr(1,l[2].length-2).split("]["),f=0;f<c.length;f++)g++,h.splice(g,0,Number(c[f]))}g++}return"object"!=typeof a?{set:function(){throw"bad container"},get:function(){},astr:o,parts:h,obj:a}:{set:v(a,h,o),get:d(a,h),astr:o,parts:h,obj:a}};var S=/(^|\.)args\[/;function M(a,o){return void 0===a||null===a&&!o.match(S)}function v(a,o,l){return function(c){var f,g,h=a,T="",x=[[a,T]],m=M(c,l);for(g=0;g<o.length-1;g++){if("number"==typeof(f=o[g])&&!E(h))throw"array index but container is not an array";if(-1===f){if(m=!i(h,o.slice(g+1),c,l))break;return}if(!s(h,f,o[g+1],m))break;if("object"!=typeof(h=h[f])||null===h)throw"container is not an object";T=u(T,f),x.push([h,T])}if(m){if(g===o.length-1&&(delete h[o[g]],Array.isArray(h)&&+o[g]==h.length-1))for(;h.length&&void 0===h[h.length-1];)h.pop()}else h[o[g]]=c}}function u(a,o){var l=o;return D(o)?l="["+o+"]":a&&(l="."+o),a+l}function i(a,o,l,c){var f,g=E(l),h=!0,T=l,x=c.replace("-1",0),m=!g&&M(l,x),b=o[0];for(f=0;f<a.length;f++)x=c.replace("-1",f),g&&(m=M(T=l[f%l.length],x)),m&&(h=!1),s(a,f,b,m)&&v(a[f],o,c.replace("-1",f))(T);return h}function s(a,o,l,c){if(void 0===a[o]){if(c)return!1;a[o]="number"==typeof l?[]:{}}return!0}},64213:function(ae){"use strict";ae.exports=function(){}},75046:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=[];ae.exports=function(S,M){if(-1===d.indexOf(S)){d.push(S);var v=1e3;E(M)?v=M:"long"===M&&(v=3e3);var u=D.select("body").selectAll(".plotly-notifier").data([0]);u.enter().append("div").classed("plotly-notifier",!0),u.selectAll(".notifier-note").data(d).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var a=D.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(i)});for(var o=a.append("p"),l=s.split(/<br\s*\/?>/g),c=0;c<l.length;c++)c&&o.append("br"),o.append("span").text(l[c]);"stick"===M?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(v).call(i)})}function i(s){s.duration(700).style("opacity",0).each("end",function(a){var o=d.indexOf(a);-1!==o&&d.splice(o,1),D.select(this).remove()})}}},39918:function(ae,B,r){"use strict";var D=r(6964),E="data-savedcursor";ae.exports=function(d,S){var M=d.attr(E);if(S){if(!M){for(var v=(d.attr("class")||"").split(" "),u=0;u<v.length;u++){var i=v[u];0===i.indexOf("cursor-")&&d.attr(E,i.substr(7)).classed(i,!1)}d.attr(E)||d.attr(E,"!!")}D(d,S)}else M&&(d.attr(E,null),"!!"===M?D(d):D(d,M))}},61082:function(ae,B,r){"use strict";var D=r(35657).dot,E=r(50606).BADNUM,d=ae.exports={};d.tester=function(S){var M,v=S.slice(),u=v[0][0],i=u,s=v[0][1],a=s;for(v[v.length-1][0]===v[0][0]&&v[v.length-1][1]===v[0][1]||v.push(v[0]),M=1;M<v.length;M++)u=Math.min(u,v[M][0]),i=Math.max(i,v[M][0]),s=Math.min(s,v[M][1]),a=Math.max(a,v[M][1]);var o,l=!1;5===v.length&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(l=!0,o=function(g){return g[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(l=!0,o=function(g){return g[1]===v[0][1]}));var c=!0,f=v[0];for(M=1;M<v.length;M++)if(f[0]!==v[M][0]||f[1]!==v[M][1]){c=!1;break}return{xmin:u,xmax:i,ymin:s,ymax:a,pts:v,contains:l?function(g,h){var T=g[0],x=g[1];return!(T===E||T<u||T>i||x===E||x<s||x>a||h&&o(g))}:function(g,h){var T=g[0],x=g[1];if(T===E||T<u||T>i||x===E||x<s||x>a)return!1;var m,b,_,w,A,p=v.length,I=v[0][0],k=v[0][1],L=0;for(m=1;m<p;m++)if(b=I,_=k,I=v[m][0],k=v[m][1],!(T<(w=Math.min(b,I))||T>Math.max(b,I)||x>Math.max(_,k)))if(x<Math.min(_,k))T!==w&&L++;else{if(x===(A=I===b?x:_+(T-b)*(k-_)/(I-b)))return 1!==m||!h;x<=A&&T!==w&&L++}return L%2==1},isRect:l,degenerate:c}},d.isSegmentBent=function(S,M,v,u){var i,s,a,o=S[M],l=[S[v][0]-o[0],S[v][1]-o[1]],c=D(l,l),f=Math.sqrt(c),g=[-l[1]/f,l[0]/f];for(i=M+1;i<v;i++)if((a=D(s=[S[i][0]-o[0],S[i][1]-o[1]],l))<0||a>c||Math.abs(D(s,g))>u)return!0;return!1},d.filter=function(S,M){var v=[S[0]],u=0,i=0;function s(a){S.push(a);var o=v.length,l=u;v.splice(i+1);for(var c=l+1;c<S.length;c++)(c===S.length-1||d.isSegmentBent(S,l,c+1,M))&&(v.push(S[c]),v.length<o-2&&(u=c,i=v.length-1),l=c)}return S.length>1&&s(S.pop()),{addPt:s,raw:S,filtered:v}}},79749:function(ae,B,r){"use strict";var D=r(58617),E=r(98580);ae.exports=function(d,S,M){var v=d._fullLayout,u=!0;return v._glcanvas.each(function(i){if(i.regl)i.regl.preloadCachedCode(M);else if(!i.pick||v._has("parcoords")){try{i.regl=E({canvas:this,attributes:{antialias:!i.pick,preserveDrawingBuffer:!0},pixelRatio:d._context.plotGlPixelRatio||r.g.devicePixelRatio,extensions:S||[],cachedCode:M||{}})}catch{u=!1}i.regl||(u=!1),u&&this.addEventListener("webglcontextlost",function(s){d&&d.emit&&d.emit("plotly_webglcontextlost",{event:s,layer:i.key})},!1)}}),u||D({container:v._glcontainer.node()}),u}},45142:function(ae,B,r){"use strict";var D=r(92770),E=r(35791);ae.exports=function(d){var S,o;if("string"!=typeof(S=d&&d.hasOwnProperty("userAgent")?d.userAgent:(typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&"string"==typeof o.headers["user-agent"]&&(o=o.headers["user-agent"]),o)))return!0;var M=E({ua:{headers:{"user-agent":S}},tablet:!0,featureDetect:!1});if(!M)for(var v=S.split(" "),u=1;u<v.length;u++)if(-1!==v[u].indexOf("Safari"))for(var i=u-1;i>-1;i--){var s=v[i];if("Version/"===s.substr(0,8)){var a=s.substr(8).split(".")[0];if(D(a)&&(a=+a),a>=13)return!0}}return M}},75138:function(ae){"use strict";ae.exports=function(B,r){if(r instanceof RegExp){for(var D=r.toString(),E=0;E<B.length;E++)if(B[E]instanceof RegExp&&B[E].toString()===D)return B;B.push(r)}else!r&&0!==r||-1!==B.indexOf(r)||B.push(r);return B}},10847:function(ae,B,r){"use strict";var D=r(71828),E=r(72075).dfltConfig,d={add:function(S,M,v,u,i){var s,a;S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},a=S.undoQueue.index,S.autoplay?S.undoQueue.inSequence||(S.autoplay=!1):(!S.undoQueue.sequence||S.undoQueue.beginSequence?(S.undoQueue.queue.splice(a,S.undoQueue.queue.length-a,s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),S.undoQueue.index+=1):s=S.undoQueue.queue[a-1],S.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(M),s.undo.args.unshift(v),s.redo.calls.push(u),s.redo.args.push(i)),S.undoQueue.queue.length>E.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--))},startSequence:function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},stopSequence:function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},undo:function(S){var M,v;if(!(void 0===S.undoQueue||isNaN(S.undoQueue.index)||S.undoQueue.index<=0)){for(S.undoQueue.index--,M=S.undoQueue.queue[S.undoQueue.index],S.undoQueue.inSequence=!0,v=0;v<M.undo.calls.length;v++)d.plotDo(S,M.undo.calls[v],M.undo.args[v]);S.undoQueue.inSequence=!1,S.autoplay=!1}},redo:function(S){var M,v;if(!(void 0===S.undoQueue||isNaN(S.undoQueue.index)||S.undoQueue.index>=S.undoQueue.queue.length)){for(M=S.undoQueue.queue[S.undoQueue.index],S.undoQueue.inSequence=!0,v=0;v<M.redo.calls.length;v++)d.plotDo(S,M.redo.calls[v],M.redo.args[v]);S.undoQueue.inSequence=!1,S.autoplay=!1,S.undoQueue.index++}},plotDo:function(S,M,v){S.autoplay=!0,v=function(u,i){for(var s,a=[],o=0;o<i.length;o++)a[o]=(s=i[o])===u?s:"object"==typeof s?Array.isArray(s)?D.extendDeep([],s):D.extendDeepAll({},s):s;return a}(S,v),M.apply(null,v)}};ae.exports=d},30587:function(ae,B){"use strict";B.counter=function(r,D,E,d){var S=(D||"")+(E?"":"$"),M=!1===d?"":"^";return"xy"===r?new RegExp(M+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+S):new RegExp(M+r+"([2-9]|[1-9][0-9]+)?"+S)}},6962:function(ae){"use strict";var B=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,r=/^[^\.\[\]]+$/;ae.exports=function(D,E){for(;E;){var d=D.match(B);if(d)D=d[1];else{if(!D.match(r))throw new Error("bad relativeAttr call:"+[D,E]);D=""}if("^"!==E.charAt(0))break;E=E.slice(1)}return D&&"["!==E.charAt(0)?D+"."+E:D+E}},51332:function(ae,B,r){"use strict";var D=r(73627).isArrayOrTypedArray,E=r(41965);ae.exports=function d(S,M){for(var v in M){var u=M[v],i=S[v];if(i!==u)if("_"===v.charAt(0)||"function"==typeof u){if(v in S)continue;S[v]=u}else if(D(u)&&D(i)&&E(u[0])){if("customdata"===v||"ids"===v)continue;for(var s=Math.min(u.length,i.length),a=0;a<s;a++)i[a]!==u[a]&&E(u[a])&&E(i[a])&&d(i[a],u[a])}else E(u)&&E(i)&&(d(i,u),Object.keys(i).length||delete S[v])}}},65888:function(ae,B,r){"use strict";var D=r(92770),E=r(47769),d=r(23389),S=r(50606).BADNUM,M=1e-9;function v(a,o){return a<o}function u(a,o){return a<=o}function i(a,o){return a>o}function s(a,o){return a>=o}B.findBin=function(a,o,l){if(D(o.start))return l?Math.ceil((a-o.start)/o.size-M)-1:Math.floor((a-o.start)/o.size+M);var c,f,g=0,h=o.length,T=0,x=h>1?(o[h-1]-o[0])/(h-1):1;for(f=x>=0?l?v:u:l?s:i,a+=x*M*(l?-1:1)*(x>=0?1:-1);g<h&&T++<100;)f(o[c=Math.floor((g+h)/2)],a)?g=c+1:h=c;return T>90&&E.log("Long binary search..."),g-1},B.sorterAsc=function(a,o){return a-o},B.sorterDes=function(a,o){return o-a},B.distinctVals=function(a){var o,l=a.slice();for(l.sort(B.sorterAsc),o=l.length-1;o>-1&&l[o]===S;o--);for(var c,f=l[o]-l[0]||1,g=f/(o||1)/1e4,h=[],T=0;T<=o;T++){var x=l[T],m=x-c;void 0===c?(h.push(x),c=x):m>g&&(f=Math.min(f,m),h.push(x),c=x)}return{vals:h,minDiff:f}},B.roundUp=function(a,o,l){for(var c,f=0,g=o.length-1,h=0,T=l?0:1,x=l?1:0,m=l?Math.ceil:Math.floor;f<g&&h++<100;)o[c=m((f+g)/2)]<=a?f=c+T:g=c-x;return o[f]},B.sort=function(a,o){for(var l=0,c=0,f=1;f<a.length;f++){var g=o(a[f],a[f-1]);if(g<0?l=1:g>0&&(c=1),l&&c)return a.sort(o)}return c?a:a.reverse()},B.findIndexOfMin=function(a,o){o=o||d;for(var l,c=1/0,f=0;f<a.length;f++){var g=o(a[f]);g<c&&(c=g,l=f)}return l}},6964:function(ae){"use strict";ae.exports=function(B,r){(B.attr("class")||"").split(" ").forEach(function(D){0===D.indexOf("cursor-")&&B.classed(D,!1)}),r&&B.classed("cursor-"+r,!0)}},58617:function(ae,B,r){"use strict";var D=r(7901),E=function(){};ae.exports=function(d){for(var S in d)"function"==typeof d[S]&&(d[S]=E);d.destroy=function(){d.container.parentNode.removeChild(d.container)};var M=document.createElement("div");M.className="no-webgl",M.style.cursor="pointer",M.style.fontSize="24px",M.style.color=D.defaults[0],M.style.position="absolute",M.style.left=M.style.top="0px",M.style.width=M.style.height="100%",M.style["background-color"]=D.lightLine,M.style["z-index"]=30;var v=document.createElement("p");return v.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",v.style.position="relative",v.style.top="50%",v.style.left="50%",v.style.height="30%",v.style.width="50%",v.style.margin="-15% 0 0 -25%",M.appendChild(v),d.container.appendChild(M),d.container.style.background="#FFFFFF",d.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(ae){"use strict";ae.exports=function(B){return Object.keys(B).sort()}},80038:function(ae,B,r){"use strict";var D=r(92770),E=r(73627).isArrayOrTypedArray;B.aggNums=function(d,S,M,v){var u,i;if((!v||v>M.length)&&(v=M.length),D(S)||(S=!1),E(M[0])){for(i=new Array(v),u=0;u<v;u++)i[u]=B.aggNums(d,S,M[u]);M=i}for(u=0;u<v;u++)D(S)?D(M[u])&&(S=d(+S,+M[u])):S=M[u];return S},B.len=function(d){return B.aggNums(function(S){return S+1},0,d)},B.mean=function(d,S){return S||(S=B.len(d)),B.aggNums(function(M,v){return M+v},0,d)/S},B.midRange=function(d){if(void 0!==d&&0!==d.length)return(B.aggNums(Math.max,null,d)+B.aggNums(Math.min,null,d))/2},B.variance=function(d,S,M){return S||(S=B.len(d)),D(M)||(M=B.mean(d,S)),B.aggNums(function(v,u){return v+Math.pow(u-M,2)},0,d)/S},B.stdev=function(d,S,M){return Math.sqrt(B.variance(d,S,M))},B.median=function(d){var S=d.slice().sort();return B.interp(S,.5)},B.interp=function(d,S){if(!D(S))throw"n should be a finite number";if((S=S*d.length-.5)<0)return d[0];if(S>d.length-1)return d[d.length-1];var M=S%1;return M*d[Math.ceil(S)]+(1-M)*d[Math.floor(S)]}},78614:function(ae,B,r){"use strict";var D=r(25075);ae.exports=function(E){return E?D(E):[0,0,0,1]}},3883:function(ae,B,r){"use strict";var D=r(32396),E=r(91424),d=r(71828),S=null;ae.exports=function(){if(null!==S)return S;S=!1;var M=d.isIE()||d.isSafari()||d.isIOS();if(window.navigator.userAgent&&!M){var v=Array.from(D.CSS_DECLARATIONS).reverse(),u=window.CSS&&window.CSS.supports||window.supportsCSS;if("function"==typeof u)S=v.some(function(a){return u.apply(null,a)});else{var i=E.tester.append("image").attr("style",D.STYLE),s=window.getComputedStyle(i.node()).imageRendering;S=v.some(function(a){var o=a[1];return s===o||s===o.toLowerCase()}),i.remove()}}return S}},63893:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=E.strTranslate,S=r(77922),M=r(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(j,X,N){var q=j.text(),G=!j.attr("data-notex")&&X&&X._context.typesetMath&&typeof MathJax<"u"&&q.match(v),H=D.select(j.node().parentNode);if(!H.empty()){var Z=j.attr("class")?j.attr("class").split(" ")[0]:"text";return H.selectAll("svg."+(Z+="-math")).remove(),H.selectAll("g."+Z+"-group").remove(),j.style("display",null).attr({"data-unformatted":q,"data-math":"N"}),G?(X&&X._promises||[]).push(new Promise(function(se){j.style("display","none");var ne=parseInt(j.node().style.fontSize,10);!function(Q,ee,oe){var ce,ue,he,ve,ke=parseInt((MathJax.version||"").split(".")[0]);if(2===ke||3===ke){var Ie=function(){var _e="math-output-"+E.randstr({},64),we=(ve=D.select("body").append("div").attr({id:_e}).style({visibility:"hidden",position:"absolute","font-size":ee.fontSize+"px"}).text(Q.replace(u,"\\lt ").replace(i,"\\gt "))).node();return 2===ke?MathJax.Hub.Typeset(we):MathJax.typeset([we])},Me=function(){var _e=ve.select(2===ke?".MathJax_SVG":".MathJax"),we=!_e.empty()&&ve.select("svg").node();if(we){var ze,Ee=we.getBoundingClientRect();ze=2===ke?D.select("body").select("#MathJax_SVG_glyphs"):_e.select("defs"),oe(_e,ze,Ee)}else E.log("There was an error in the tex syntax.",Q),oe();ve.remove()};2===ke?MathJax.Hub.Queue(function(){return ue=E.extendDeepAll({},MathJax.Hub.config),he=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},function(){if("SVG"!==(ce=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},Ie,Me,function(){if("SVG"!==ce)return MathJax.Hub.setRenderer(ce)},function(){return void 0!==he&&(MathJax.Hub.processSectionDelay=he),MathJax.Hub.Config(ue)}):3===ke&&(ue=E.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s,"svg"!==(ce=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Ie(),Me(),"svg"!==ce&&(MathJax.config.startup.output=ce),MathJax.config=ue}))}else E.warn("No MathJax version:",MathJax.version)}(G[2],{fontSize:ne},function(Q,ee,oe){H.selectAll("svg."+Z).remove(),H.selectAll("g."+Z+"-group").remove();var ce=Q&&Q.select("svg");if(!ce||!ce.node())return $(),void se();var ue=H.append("g").classed(Z+"-group",!0).attr({"pointer-events":"none","data-unformatted":q,"data-math":"Y"});ue.node().appendChild(ce.node()),ee&&ee.node()&&ce.node().insertBefore(ee.node().cloneNode(!0),ce.node().firstChild);var he=oe.width,ve=oe.height;ce.attr({class:Z,height:ve,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ke=j.node().style.fill||"black",Ie=ce.select("g");Ie.attr({fill:ke,stroke:ke});var Me=Ie.node().getBoundingClientRect(),_e=Me.width,we=Me.height;(_e>he||we>ve)&&(ce.style("overflow","hidden"),_e=(Me=ce.node().getBoundingClientRect()).width,we=Me.height);var ze=+j.attr("x"),Ee=+j.attr("y"),Se=-(ne||j.node().getBoundingClientRect().height)/4;if("y"===Z[0])ue.attr({transform:"rotate("+[-90,ze,Ee]+")"+d(-_e/2,Se-we/2)});else if("l"===Z[0])Ee=Se-we/2;else if("a"===Z[0]&&0!==Z.indexOf("atitle"))ze=0,Ee=Se;else{var me=j.attr("text-anchor");ze-=_e*("middle"===me?.5:"end"===me?1:0),Ee=Ee+Se-we/2}ce.attr({x:ze,y:Ee}),N&&N.call(j,ue),se(ue)})})):$(),j}function $(){H.empty()||(Z=j.attr("class")+"-math",H.select("svg."+Z).remove()),j.text("").style("white-space","pre"),function(ne,re){re=re.replace(g," ");var Q,ee=!1,oe=[],ce=-1;function ue(){ce++;var Re=document.createElementNS(S.svg,"tspan");D.select(Re).attr({class:"line",dy:ce*M+"em"}),ne.appendChild(Re),Q=Re;var De=oe;if(oe=[{node:Re}],De.length>1)for(var Ue=1;Ue<De.length;Ue++)he(De[Ue])}function he(Re){var De,Ue=Re.type,Ze={};if("a"===Ue){De="a";var xe=Re.target,Oe=Re.href,Ce=Re.popup;Oe&&(Ze={"xlink:xlink:show":"_blank"===xe||"_"!==xe.charAt(0)?"new":"replace",target:xe,"xlink:xlink:href":Oe},Ce&&(Ze.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ce+'");return false;'))}else De="tspan";Re.style&&(Ze.style=Re.style);var Be=document.createElementNS(S.svg,De);if("sup"===Ue||"sub"===Ue){ve(Q,c),Q.appendChild(Be);var qe=document.createElementNS(S.svg,"tspan");ve(qe,c),D.select(qe).attr("dy",l[Ue]),Ze.dy=o[Ue],Q.appendChild(Be),Q.appendChild(qe)}else Q.appendChild(Be);D.select(Be).attr(Ze),Q=Re.node=Be,oe.push(Re)}function ve(Re,De){Re.appendChild(document.createTextNode(De))}function ke(Re){if(1!==oe.length){var De=oe.pop();Re!==De.type&&E.log("Start tag <"+De.type+"> doesnt match end tag <"+Re+">. Pretending it did match.",re),Q=oe[oe.length-1].node}else E.log("Ignoring unexpected end tag </"+Re+">.",re)}x.test(re)?ue():(Q=ne,oe=[{node:ne}]);for(var Ie=re.split(h),Me=0;Me<Ie.length;Me++){var _e=Ie[Me],we=_e.match(T),ze=we&&we[2].toLowerCase(),Ee=a[ze];if("br"===ze)ue();else if(void 0===Ee)ve(Q,L(_e));else if(we[1])ke(ze);else{var Se=we[4],me={type:ze},fe=A(Se,m);if(fe?(fe=fe.replace(p,"$1 fill:"),Ee&&(fe+=";"+Ee)):Ee&&(fe=Ee),fe&&(me.style=fe),"a"===ze){ee=!0;var le=A(Se,b);if(le){var Te=O(le);Te&&(me.href=Te,me.target=A(Se,_)||"_blank",me.popup=A(Se,w))}}he(me)}}return ee}(j.node(),q)&&j.style("pointer-events","all"),B.positionText(j),N&&N.call(j)}};var u=/(<|&lt;|&#60;)/g,i=/(>|&gt;|&#62;)/g,s=[["$","$"],["\\(","\\)"]],a={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},o={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},c="\u200b",f=["http:","https:","mailto:","",void 0,":"],g=B.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,x=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var m=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,b=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,_=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,w=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function A(j,X){if(!j)return null;var N=j.match(X),q=N&&(N[3]||N[4]);return q&&L(q)}var p=/(^|;)\s*color:/;B.plainText=function(j,X){for(var N=void 0!==(X=X||{}).len&&-1!==X.len?X.len:1/0,q=void 0!==X.allowedTags?X.allowedTags:["br"],G=j.split(h),H=[],Z="",$=0,se=0;se<G.length;se++){var ne=G[se],re=ne.match(T),Q=re&&re[2].toLowerCase();if(Q)-1!==q.indexOf(Q)&&(H.push(ne),Z=Q);else{var ee=ne.length;if($+ee<N)H.push(ne),$+=ee;else if($<N){var oe=N-$;Z&&("br"!==Z||oe<=3||ee<=3)&&H.pop(),H.push(N>3?ne.substr(0,oe-3)+"...":ne.substr(0,oe));break}Z=""}}return H.join("")};var I={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},k=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function L(j){return j.replace(k,function(X,N){return("#"===N.charAt(0)?function(q){if(!(q>1114111)){var G=String.fromCodePoint;if(G)return G(q);var H=String.fromCharCode;return q<=65535?H(q):H(55232+(q>>10),q%1024+56320)}}("x"===N.charAt(1)?parseInt(N.substr(2),16):parseInt(N.substr(1),10)):I[N])||X})}function O(j){var X=encodeURI(decodeURI(j)),N=document.createElement("a"),q=document.createElement("a");N.href=j,q.href=X;var H=q.protocol;return-1!==f.indexOf(N.protocol)&&-1!==f.indexOf(H)?X:""}function P(j,X,N){var q,G,H,Z=N.horizontalAlign,$=N.verticalAlign||"top",se=j.node().getBoundingClientRect(),ne=X.node().getBoundingClientRect();return G="bottom"===$?function(){return se.bottom-q.height}:"middle"===$?function(){return se.top+(se.height-q.height)/2}:function(){return se.top},H="right"===Z?function(){return se.right-q.width}:"center"===Z?function(){return se.left+(se.width-q.width)/2}:function(){return se.left},function(){q=this.node().getBoundingClientRect();var re=H()-ne.left,Q=G()-ne.top,ee=N.gd||{};if(N.gd){ee._fullLayout._calcInverseTransform(ee);var oe=E.apply3DTransform(ee._fullLayout._invTransform)(re,Q);re=oe[0],Q=oe[1]}return this.style({top:Q+"px",left:re+"px","z-index":1e3}),this}}B.convertEntities=L,B.sanitizeHTML=function(j){j=j.replace(g," ");for(var X=document.createElement("p"),N=X,q=[],G=j.split(h),H=0;H<G.length;H++){var Z=G[H],$=Z.match(T),se=$&&$[2].toLowerCase();if(se in a)if($[1])q.length&&(N=q.pop());else{var ne=$[4],re=A(ne,m),Q=re?{style:re}:{};if("a"===se){var ee=A(ne,b);if(ee){var oe=O(ee);if(oe){Q.href=oe;var ce=A(ne,_);ce&&(Q.target=ce)}}}var ue=document.createElement(se);N.appendChild(ue),D.select(ue).attr(Q),N=ue,q.push(ue)}else N.appendChild(document.createTextNode(L(Z)))}return X.innerHTML},B.lineCount=function(j){return j.selectAll("tspan.line").size()||1},B.positionText=function(j,X,N){return j.each(function(){var q=D.select(this);function G($,se){return void 0===se?null===(se=q.attr($))&&(q.attr($,0),se=0):q.attr($,se),se}var H=G("x",X),Z=G("y",N);"text"===this.nodeName&&q.selectAll("tspan.line").attr({x:H,y:Z})})};var F="1px ";B.makeTextShadow=function(j){return F+F+F+j+", -"+F+"-"+F+F+j+", "+F+"-"+F+F+j+", -"+F+F+F+j},B.makeEditable=function(j,X){var N=X.gd,q=X.delegate,G=D.dispatch("edit","input","cancel"),H=q||j;if(j.style({"pointer-events":q?"none":"all"}),1!==j.size())throw new Error("boo");function Z(){var se,ne,re,Q,ee;se=D.select(N).select(".svg-container"),ne=se.append("div"),re=j.node().style,Q=parseFloat(re.fontSize||12),void 0===(ee=X.text)&&(ee=j.attr("data-unformatted")),ne.classed("plugin-editable editable",!0).style({position:"absolute","font-family":re.fontFamily||"Arial","font-size":Q,color:X.fill||re.fill||"black",opacity:1,"background-color":X.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Q/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(ee).call(P(j,se,X)).on("blur",function(){N._editing=!1,j.text(this.textContent).style({opacity:1});var ue,he=D.select(this).attr("class");(ue=he?"."+he.split(" ")[0]+"-math-group":"[class*=-math-group]")&&D.select(j.node().parentNode).select(ue).style({opacity:0});var ve=this.textContent;D.select(this).transition().duration(0).remove(),D.select(document).on("mouseup",null),G.edit.call(j,ve)}).on("focus",function(){var ue=this;N._editing=!0,D.select(document).on("mouseup",function(){if(D.event.target===ue)return!1;document.activeElement===ne.node()&&ne.node().blur()})}).on("keyup",function(){27===D.event.which?(N._editing=!1,j.style({opacity:1}),D.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),G.cancel.call(j,this.textContent)):(G.input.call(j,this.textContent),D.select(this).call(P(j,se,X)))}).on("keydown",function(){13===D.event.which&&this.blur()}).call($),j.style({opacity:0});var oe,ce=H.attr("class");(oe=ce?"."+ce.split(" ")[0]+"-math-group":"[class*=-math-group]")&&D.select(j.node().parentNode).select(oe).style({opacity:0})}function $(se){var ne=se.node(),re=document.createRange();re.selectNodeContents(ne);var Q=window.getSelection();Q.removeAllRanges(),Q.addRange(re),ne.focus()}return X.immediate?Z():H.on("click",Z),D.rebind(j,G,"on")}},79990:function(ae,B){"use strict";var r={};function D(E){E&&null!==E.timer&&(clearTimeout(E.timer),E.timer=null)}B.throttle=function(E,d,S){var M=r[E],v=Date.now();if(!M){for(var u in r)r[u].ts<v-6e4&&delete r[u];M=r[E]={ts:0,timer:null}}function i(){S(),M.ts=Date.now(),M.onDone&&(M.onDone(),M.onDone=null)}D(M),v>M.ts+d?i():M.timer=setTimeout(function(){i(),M.timer=null},d)},B.done=function(E){var d=r[E];return d&&d.timer?new Promise(function(S){var M=d.onDone;d.onDone=function(){M&&M(),S(),d.onDone=null}}):Promise.resolve()},B.clear=function(E){if(E)D(r[E]),delete r[E];else for(var d in r)B.clear(d)}},58163:function(ae,B,r){"use strict";var D=r(92770);ae.exports=function(E,d){if(E>0)return Math.log(E)/Math.LN10;var S=Math.log(Math.min(d[0],d[1]))/Math.LN10;return D(S)||(S=Math.log(Math.max(d[0],d[1]))/Math.LN10-6),S}},90973:function(ae,B,r){"use strict";var D=ae.exports={},E=r(78776).locationmodeToLayer,d=r(96892).zL;D.getTopojsonName=function(S){return[S.scope.replace(/ /g,"-"),"_",S.resolution.toString(),"m"].join("")},D.getTopojsonPath=function(S,M){return S+M+".json"},D.getTopojsonFeatures=function(S,M){return d(M,M.objects[E[S.locationmode]]).features}},37815:function(ae){"use strict";ae.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(ae){"use strict";ae.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(ae,B,r){"use strict";var D=r(73972);ae.exports=function(E){for(var d,S,M=D.layoutArrayContainers,v=D.layoutArrayRegexes,u=E.split("[")[0],i=0;i<v.length;i++)if((S=E.match(v[i]))&&0===S.index){d=S[0];break}if(d||(d=M[M.indexOf(u)]),!d)return!1;var s=E.substr(d.length);return s?!!(S=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:d,index:Number(S[1]),property:S[3]||""}:{array:d,index:"",property:""}}},30962:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(41965),d={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},S={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},M=d.flags.slice().concat(["fullReplot"]),v=S.flags.slice().concat("layoutReplot");function u(a){for(var o={},l=0;l<a.length;l++)o[a[l]]=!1;return o}function i(a,o,l){var c=D({},a);for(var f in c){var g=c[f];E(g)&&(c[f]=s(g,o,0,f))}return"from-root"===l&&(c.editType=o),c}function s(a,o,l,c){if(a.valType){var f=D({},a);if(f.editType=o,Array.isArray(a.items)){f.items=new Array(a.items.length);for(var g=0;g<a.items.length;g++)f.items[g]=s(a.items[g],o)}return f}return i(a,o,"_"===c.charAt(0)?"nested":"from-root")}ae.exports={traces:d,layout:S,traceFlags:function(){return u(M)},layoutFlags:function(){return u(v)},update:function(a,o){var l=o.editType;if(l&&"none"!==l)for(var c=l.split("+"),f=0;f<c.length;f++)a[c[f]]=!0},overrideAll:i}},58377:function(ae,B,r){"use strict";var D=r(92770),E=r(27812),d=r(73972),S=r(71828),M=r(74875),v=r(41675),u=r(7901),i=v.cleanId,s=v.getFromTrace,a=d.traceIs;function o(b,_){var w=b[_],A=_.charAt(0);w&&"paper"!==w&&(b[_]=i(w,A,!0))}function l(b){function _(w,A){b[w]&&(!b.title||!b.title[A])&&(b.title||(b.title={}),b.title[A]=b[w],delete b[w])}b&&("string"!=typeof b.title&&"number"!=typeof b.title||(b.title={text:b.title}),_("titlefont","font"),_("titleposition","position"),_("titleside","side"),_("titleoffset","offset"))}function c(b){if(!S.isPlainObject(b))return!1;var _=b.name;return delete b.name,delete b.showlegend,("string"==typeof _||"number"==typeof _)&&String(_)}function f(b,_,w,A){if(w&&!A)return b;if(A&&!w||!b.trim())return _;if(!_.trim())return b;var p,I=Math.min(b.length,_.length);for(p=0;p<I&&b.charAt(p)===_.charAt(p);p++);return b.substr(0,p).trim()}function g(b){var _="middle",w="center";return"string"==typeof b&&(-1!==b.indexOf("top")?_="top":-1!==b.indexOf("bottom")&&(_="bottom"),-1!==b.indexOf("left")?w="left":-1!==b.indexOf("right")&&(w="right")),_+" "+w}function h(b,_){return _ in b&&"object"==typeof b[_]&&0===Object.keys(b[_]).length}B.clearPromiseQueue=function(b){Array.isArray(b._promises)&&b._promises.length>0&&S.log("Clearing previous rejected promises from queue."),b._promises=[]},B.cleanLayout=function(b){var _,w;b||(b={}),b.xaxis1&&(b.xaxis||(b.xaxis=b.xaxis1),delete b.xaxis1),b.yaxis1&&(b.yaxis||(b.yaxis=b.yaxis1),delete b.yaxis1),b.scene1&&(b.scene||(b.scene=b.scene1),delete b.scene1);var A=(M.subplotsRegistry.cartesian||{}).attrRegex,p=(M.subplotsRegistry.polar||{}).attrRegex,I=(M.subplotsRegistry.ternary||{}).attrRegex,k=(M.subplotsRegistry.gl3d||{}).attrRegex,L=Object.keys(b);for(_=0;_<L.length;_++){var O=L[_];if(A&&A.test(O)){var P=b[O];P.anchor&&"free"!==P.anchor&&(P.anchor=i(P.anchor)),P.overlaying&&(P.overlaying=i(P.overlaying)),P.type||(P.isdate?P.type="date":P.islog?P.type="log":!1===P.isdate&&!1===P.islog&&(P.type="linear")),"withzero"!==P.autorange&&"tozero"!==P.autorange||(P.autorange=!0,P.rangemode="tozero"),delete P.islog,delete P.isdate,delete P.categories,h(P,"domain")&&delete P.domain,void 0!==P.autotick&&(void 0===P.tickmode&&(P.tickmode=P.autotick?"auto":"linear"),delete P.autotick),l(P)}else if(p&&p.test(O))l(b[O].radialaxis);else if(I&&I.test(O)){var F=b[O];l(F.aaxis),l(F.baxis),l(F.caxis)}else if(k&&k.test(O)){var j=b[O],X=j.cameraposition;if(Array.isArray(X)&&4===X[0].length){var q=X[1],G=X[2],H=E([],X[0]),Z=[];for(w=0;w<3;++w)Z[w]=q[w]+G*H[2+4*w];j.camera={eye:{x:Z[0],y:Z[1],z:Z[2]},center:{x:q[0],y:q[1],z:q[2]},up:{x:0,y:0,z:1}},delete j.cameraposition}l(j.xaxis),l(j.yaxis),l(j.zaxis)}}var $=Array.isArray(b.annotations)?b.annotations.length:0;for(_=0;_<$;_++){var se=b.annotations[_];S.isPlainObject(se)&&(se.ref&&("paper"===se.ref?(se.xref="paper",se.yref="paper"):"data"===se.ref&&(se.xref="x",se.yref="y"),delete se.ref),o(se,"xref"),o(se,"yref"))}var ne=Array.isArray(b.shapes)?b.shapes.length:0;for(_=0;_<ne;_++){var re=b.shapes[_];S.isPlainObject(re)&&(o(re,"xref"),o(re,"yref"))}var Q=Array.isArray(b.images)?b.images.length:0;for(_=0;_<Q;_++){var ee=b.images[_];S.isPlainObject(ee)&&(o(ee,"xref"),o(ee,"yref"))}var oe=b.legend;return oe&&(oe.x>3?(oe.x=1.02,oe.xanchor="left"):oe.x<-2&&(oe.x=-.02,oe.xanchor="right"),oe.y>3?(oe.y=1.02,oe.yanchor="bottom"):oe.y<-2&&(oe.y=-.02,oe.yanchor="top")),l(b),"rotate"===b.dragmode&&(b.dragmode="orbit"),u.clean(b),b.template&&b.template.layout&&B.cleanLayout(b.template.layout),b},B.cleanData=function(b){for(var _=0;_<b.length;_++){var w,A=b[_];if("histogramy"===A.type&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var p=u.defaults,I=A.error_y.color||(a(A,"bar")?u.defaultLine:p[_%p.length]);A.error_y.color=u.addOpacity(u.rgb(I),u.opacity(I)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&("h"!==A.bardir||!a(A,"bar")&&"histogram"!==A.type.substr(0,9)||(A.orientation="h",B.swapXYData(A)),delete A.bardir),"histogramy"===A.type&&B.swapXYData(A),"histogramx"!==A.type&&"histogramy"!==A.type||(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=i(A.xaxis,"x")),A.yaxis&&(A.yaxis=i(A.yaxis,"y")),a(A,"gl3d")&&A.scene&&(A.scene=M.subplotsRegistry.gl3d.cleanId(A.scene)),!a(A,"pie-like")&&!a(A,"bar-like"))if(Array.isArray(A.textposition))for(w=0;w<A.textposition.length;w++)A.textposition[w]=g(A.textposition[w]);else A.textposition&&(A.textposition=g(A.textposition));var k=d.getModule(A);if(k&&k.colorbar){var L=k.colorbar.container,O=L?A[L]:A;O&&O.colorscale&&("YIGnBu"===O.colorscale&&(O.colorscale="YlGnBu"),"YIOrRd"===O.colorscale&&(O.colorscale="YlOrRd"))}if("surface"===A.type&&S.isPlainObject(A.contours)){var P=["x","y","z"];for(w=0;w<P.length;w++){var F=A.contours[P[w]];S.isPlainObject(F)&&(F.highlightColor&&(F.highlightcolor=F.highlightColor,delete F.highlightColor),F.highlightWidth&&(F.highlightwidth=F.highlightWidth,delete F.highlightWidth))}}if("candlestick"===A.type||"ohlc"===A.type){var j=!1!==(A.increasing||{}).showlegend,X=!1!==(A.decreasing||{}).showlegend,N=c(A.increasing),q=c(A.decreasing);if(!1!==N&&!1!==q){var G=f(N,q,j,X);G&&(A.name=G)}else!N&&!q||A.name||(A.name=N||q)}if(Array.isArray(A.transforms)){var H=A.transforms;for(w=0;w<H.length;w++){var Z=H[w];if(S.isPlainObject(Z))switch(Z.type){case"filter":Z.filtersrc&&(Z.target=Z.filtersrc,delete Z.filtersrc),Z.calendar&&(Z.valuecalendar||(Z.valuecalendar=Z.calendar),delete Z.calendar);break;case"groupby":if(Z.styles=Z.styles||Z.style,Z.styles&&!Array.isArray(Z.styles)){var $=Z.styles,se=Object.keys($);Z.styles=[];for(var ne=0;ne<se.length;ne++)Z.styles.push({target:se[ne],value:$[se[ne]]})}}}}h(A,"line")&&delete A.line,"marker"in A&&(h(A.marker,"line")&&delete A.marker.line,h(A,"marker")&&delete A.marker),u.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),l(A),A.colorbar&&l(A.colorbar),A.marker&&A.marker.colorbar&&l(A.marker.colorbar),A.line&&A.line.colorbar&&l(A.line.colorbar),A.aaxis&&l(A.aaxis),A.baxis&&l(A.baxis)}},B.swapXYData=function(b){var _;if(S.swapAttrs(b,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(b.z)&&Array.isArray(b.z[0])&&(b.transpose?delete b.transpose:b.transpose=!0),b.error_x&&b.error_y){var w=b.error_y,A="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);S.swapAttrs(b,["error_?.copy_ystyle"]),A&&S.swapAttrs(b,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof b.hoverinfo){var p=b.hoverinfo.split("+");for(_=0;_<p.length;_++)"x"===p[_]?p[_]="y":"y"===p[_]&&(p[_]="x");b.hoverinfo=p.join("+")}},B.coerceTraceIndices=function(b,_){if(D(_))return[_];if(!Array.isArray(_)||!_.length)return b.data.map(function(p,I){return I});if(Array.isArray(_)){for(var w=[],A=0;A<_.length;A++)S.isIndex(_[A],b.data.length)?w.push(_[A]):S.warn("trace index (",_[A],") is not a number or is out of bounds");return w}return _},B.manageArrayContainers=function(b,_,w){var A=b.obj,p=b.parts,I=p.length,k=p[I-1],L=D(k);if(L&&null===_){var O=p.slice(0,I-1).join(".");S.nestedProperty(A,O).get().splice(k,1)}else L&&void 0===b.get()&&void 0===b.get()&&(w[b.astr]=null),b.set(_)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(b){var _=b.search(T);if(_>0)return b.substr(0,_)}B.hasParent=function(b,_){for(var w=x(_);w;){if(w in b)return!0;w=x(w)}return!1};var m=["x","y","z"];B.clearAxisTypes=function(b,_,w){for(var A=0;A<_.length;A++)for(var p=b._fullData[A],I=0;I<3;I++){var k=s(b,p,m[I]);if(k&&"log"!==k.type){var L=k._name,O=k._id.substr(1);if("scene"===O.substr(0,5)){if(void 0!==w[O])continue;L=O+"."+L}var P=L+".type";void 0===w[L]&&void 0===w[P]&&S.nestedProperty(b.layout,P).set(null)}}}},10641:function(ae,B,r){"use strict";var D=r(72391);B._doPlot=D._doPlot,B.newPlot=D.newPlot,B.restyle=D.restyle,B.relayout=D.relayout,B.redraw=D.redraw,B.update=D.update,B._guiRestyle=D._guiRestyle,B._guiRelayout=D._guiRelayout,B._guiUpdate=D._guiUpdate,B._storeDirectGUIEdit=D._storeDirectGUIEdit,B.react=D.react,B.extendTraces=D.extendTraces,B.prependTraces=D.prependTraces,B.addTraces=D.addTraces,B.deleteTraces=D.deleteTraces,B.moveTraces=D.moveTraces,B.purge=D.purge,B.addFrames=D.addFrames,B.deleteFrames=D.deleteFrames,B.animate=D.animate,B.setPlotConfig=D.setPlotConfig;var E=r(24401).getGraphDiv,d=r(34031).eraseActiveShape;B.deleteActiveShape=function(M){return d(E(M))},B.toImage=r(403),B.validate=r(84936),B.downloadImage=r(7239);var S=r(96318);B.makeTemplate=S.makeTemplate,B.validateTemplate=S.validateTemplate},6611:function(ae,B,r){"use strict";var D=r(41965),E=r(64213),d=r(47769),S=r(65888).sorterAsc,M=r(73972);B.containerArrayMatch=r(14458);var v=B.isAddVal=function(i){return"add"===i||D(i)},u=B.isRemoveVal=function(i){return null===i||"remove"===i};B.applyContainerArrayChanges=function(i,s,a,o,l){var c=s.astr,f=M.getComponentMethod(c,"supplyLayoutDefaults"),g=M.getComponentMethod(c,"draw"),h=M.getComponentMethod(c,"drawOne"),T=o.replot||o.recalc||f===E||g===E,x=i.layout,m=i._fullLayout;if(a[""]){Object.keys(a).length>1&&d.warn("Full array edits are incompatible with other edits",c);var b=a[""][""];if(u(b))s.set(null);else{if(!Array.isArray(b))return d.warn("Unrecognized full array edit value",c,b),!0;s.set(b)}return!T&&(f(x,m),g(i),!0)}var _,w,A,p,I,k,L,P=Object.keys(a).map(Number).sort(S),F=s.get(),j=F||[],X=l(m,c).get(),N=[],q=-1,G=j.length;for(_=0;_<P.length;_++)if(p=a[A=P[_]],I=Object.keys(p),L=v(k=p[""]),A<0||A>j.length-(L?0:1))d.warn("index out of range",c,A);else if(void 0!==k)I.length>1&&d.warn("Insertion & removal are incompatible with edits to the same index.",c,A),u(k)?N.push(A):L?("add"===k&&(k={}),j.splice(A,0,k),X&&X.splice(A,0,{})):d.warn("Unrecognized full object edit value",c,A,k),-1===q&&(q=A);else for(w=0;w<I.length;w++)l(j[A],I[w],c+"["+A+"].").set(p[I[w]]);for(_=N.length-1;_>=0;_--)j.splice(N[_],1),X&&X.splice(N[_],1);if(j.length?F||s.set(j):s.set(null),T)return!1;if(f(x,m),h!==E){var H;if(-1===q)H=P;else{for(G=Math.max(j.length,G),H=[],_=0;_<P.length&&!((A=P[_])>=q);_++)H.push(A);for(_=q;_<G;_++)H.push(_)}for(_=0;_<H.length;_++)h(i,H[_])}else g(i);return!0}},72391:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(57035),S=r(71828),M=S.nestedProperty,v=r(11086),u=r(10847),i=r(73972),s=r(86281),a=r(74875),o=r(89298),l=r(91424),c=r(7901),f=r(4305).initInteractions,g=r(77922),h=r(47322).clearOutline,T=r(72075).dfltConfig,x=r(6611),m=r(58377),b=r(61549),_=r(30962),w=r(85555).AX_NAME_PATTERN,A=0;function p(le){var Te=le._fullLayout;Te._redrawFromAutoMarginCount?Te._redrawFromAutoMarginCount--:le.emit("plotly_afterplot")}function I(le,Te){try{le._fullLayout._paper.style("background",Te)}catch(Re){S.error(Re)}}function k(le,Te){I(le,c.combine(Te,"white"))}function L(le,Te){if(!le._context){le._context=S.extendDeep({},T);var Re=D.select("base");le._context._baseUrl=Re.size()&&Re.attr("href")?window.location.href.split("#")[0]:""}var De,Ue,Ze,xe=le._context;if(Te){for(Ue=Object.keys(Te),De=0;De<Ue.length;De++)"editable"!==(Ze=Ue[De])&&"edits"!==Ze&&Ze in xe&&(xe[Ze]="setBackground"===Ze&&"opaque"===Te[Ze]?k:Te[Ze]);Te.plot3dPixelRatio&&!xe.plotGlPixelRatio&&(xe.plotGlPixelRatio=xe.plot3dPixelRatio);var Oe=Te.editable;if(void 0!==Oe)for(xe.editable=Oe,Ue=Object.keys(xe.edits),De=0;De<Ue.length;De++)xe.edits[Ue[De]]=Oe;if(Te.edits)for(Ue=Object.keys(Te.edits),De=0;De<Ue.length;De++)(Ze=Ue[De])in xe.edits&&(xe.edits[Ze]=Te.edits[Ze]);xe._exportedPlot=Te._exportedPlot}xe.staticPlot&&(xe.editable=!1,xe.edits={},xe.autosizable=!1,xe.scrollZoom=!1,xe.doubleClick=!1,xe.showTips=!1,xe.showLink=!1,xe.displayModeBar=!1),"hover"!==xe.displayModeBar||d||(xe.displayModeBar=!0),"transparent"!==xe.setBackground&&"function"==typeof xe.setBackground||(xe.setBackground=I),xe._hasZeroHeight=xe._hasZeroHeight||0===le.clientHeight,xe._hasZeroWidth=xe._hasZeroWidth||0===le.clientWidth;var Ce=xe.scrollZoom,Be=xe._scrollZoom={};if(!0===Ce)Be.cartesian=1,Be.gl3d=1,Be.geo=1,Be.mapbox=1;else if("string"==typeof Ce){var qe=Ce.split("+");for(De=0;De<qe.length;De++)Be[qe[De]]=1}else!1!==Ce&&(Be.gl3d=1,Be.geo=1,Be.mapbox=1)}function O(le,Te){var Re,De,Ue=Te+1,Ze=[];for(Re=0;Re<le.length;Re++)(De=le[Re])<0?Ze.push(Ue+De):Ze.push(De);return Ze}function P(le,Te,Re){var De,Ue;for(De=0;De<Te.length;De++){if((Ue=Te[De])!==parseInt(Ue,10))throw new Error("all values in "+Re+" must be integers");if(Ue>=le.data.length||Ue<-le.data.length)throw new Error(Re+" must be valid indices for gd.data.");if(Te.indexOf(Ue,De+1)>-1||Ue>=0&&Te.indexOf(-le.data.length+Ue)>-1||Ue<0&&Te.indexOf(le.data.length+Ue)>-1)throw new Error("each index in "+Re+" must be unique.")}}function F(le,Te,Re){if(!Array.isArray(le.data))throw new Error("gd.data must be an array.");if(void 0===Te)throw new Error("currentIndices is a required argument.");if(Array.isArray(Te)||(Te=[Te]),P(le,Te,"currentIndices"),void 0===Re||Array.isArray(Re)||(Re=[Re]),void 0!==Re&&P(le,Re,"newIndices"),void 0!==Re&&Te.length!==Re.length)throw new Error("current and new indices must be of equal length.")}function j(le,Te,Re,De,Ue){!function(Je,et,st,pt){var ct=S.isPlainObject(pt);if(!Array.isArray(Je.data))throw new Error("gd.data must be an array");if(!S.isPlainObject(et))throw new Error("update must be a key:value object");if(void 0===st)throw new Error("indices must be an integer or array of integers");for(var St in P(Je,st,"indices"),et){if(!Array.isArray(et[St])||et[St].length!==st.length)throw new Error("attribute "+St+" must be an array of length equal to indices array length");if(ct&&(!(St in pt)||!Array.isArray(pt[St])||pt[St].length!==et[St].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(le,Te,Re,De);for(var Ze=function(Je,et,st,pt){var St,Dt,vt,gt,Et=S.isPlainObject(pt),Pt=[];for(var Ot in Array.isArray(st)||(st=[st]),st=O(st,Je.data.length-1),et)for(var Ht=0;Ht<st.length;Ht++){if(St=(Dt=M(Je.data[st[Ht]],Ot)).get(),!S.isArrayOrTypedArray(vt=et[Ot][Ht]))throw new Error("attribute: "+Ot+" index: "+Ht+" must be an array");if(!S.isArrayOrTypedArray(St))throw new Error("cannot extend missing or non-array attribute: "+Ot);if(St.constructor!==vt.constructor)throw new Error("cannot extend array with an array of a different type: "+Ot);E(gt=Et?pt[Ot][Ht]:pt)||(gt=-1),Pt.push({prop:Dt,target:St,insert:vt,maxp:Math.floor(gt)})}return Pt}(le,Te,Re,De),xe={},Oe={},Ce=0;Ce<Ze.length;Ce++){var Be=Ze[Ce].prop,He=Ue(Ze[Ce].target,Ze[Ce].insert,Ze[Ce].maxp);Be.set(He[0]),Array.isArray(xe[Be.astr])||(xe[Be.astr]=[]),xe[Be.astr].push(He[1]),Array.isArray(Oe[Be.astr])||(Oe[Be.astr]=[]),Oe[Be.astr].push(Ze[Ce].target.length)}return{update:xe,maxPoints:Oe}}function X(le,Te){var Re=new le.constructor(le.length+Te.length);return Re.set(le),Re.set(Te,le.length),Re}function N(le,Te,Re,De){le=S.getGraphDiv(le),m.clearPromiseQueue(le);var Ue={};if("string"==typeof Te)Ue[Te]=Re;else{if(!S.isPlainObject(Te))return S.warn("Restyle fail.",Te,Re,De),Promise.reject();Ue=S.extendFlat({},Te),void 0===De&&(De=Re)}Object.keys(Ue).length&&(le.changed=!0);var Ze=m.coerceTraceIndices(le,De),xe=Z(le,Ue,Ze),Oe=xe.flags;Oe.calc&&(le.calcdata=void 0),Oe.clearAxisTypes&&m.clearAxisTypes(le,Ze,{});var Ce=[];Oe.fullReplot?Ce.push(B._doPlot):(Ce.push(a.previousPromises),a.supplyDefaults(le),Oe.markerSize&&(a.doCalcdata(le),re(Ce)),Oe.style&&Ce.push(b.doTraceStyle),Oe.colorbars&&Ce.push(b.doColorBars),Ce.push(p)),Ce.push(a.rehover,a.redrag,a.reselect),u.add(le,N,[le,xe.undoit,xe.traces],N,[le,xe.redoit,xe.traces]);var Be=S.syncOrAsync(Ce,le);return Be&&Be.then||(Be=Promise.resolve()),Be.then(function(){return le.emit("plotly_restyle",xe.eventData),le})}function q(le){return void 0===le?null:le}function G(le,Te){return Te?function(Re,De,Ue){var Ze=M(Re,De),xe=Ze.set;return Ze.set=function(Oe){H((Ue||"")+De,Ze.get(),Oe,le),xe(Oe)},Ze}:M}function H(le,Te,Re,De){if(Array.isArray(Te)||Array.isArray(Re))for(var Ue=Array.isArray(Te)?Te:[],Ze=Array.isArray(Re)?Re:[],xe=Math.max(Ue.length,Ze.length),Oe=0;Oe<xe;Oe++)H(le+"["+Oe+"]",Ue[Oe],Ze[Oe],De);else if(S.isPlainObject(Te)||S.isPlainObject(Re)){var Ce=S.isPlainObject(Te)?Te:{},Be=S.isPlainObject(Re)?Re:{},qe=S.extendFlat({},Ce,Be);for(var He in qe)H(le+"."+He,Ce[He],Be[He],De)}else void 0===De[le]&&(De[le]=q(Te))}function Z(le,Te,Re){var De,Ue=le._fullLayout,Ze=le._fullData,xe=le.data,Oe=Ue._guiEditing,Ce=G(Ue._preGUI,Oe),Be=S.extendDeepAll({},Te);$(Te);var qe,He=_.traceFlags(),Je={},et={};function st(){return Re.map(function(){})}function pt($t){var dn=o.id2name($t);-1===qe.indexOf(dn)&&qe.push(dn)}function ct($t){return"LAYOUT"+$t+".autorange"}function St($t){return"LAYOUT"+$t+".range"}function Dt($t){for(var dn=$t;dn<Ze.length;dn++)if(Ze[dn]._input===xe[$t])return Ze[dn]}function vt($t,dn,nn){if(Array.isArray($t))$t.forEach(function(En){vt(En,dn,nn)});else if(!($t in Te)&&!m.hasParent(Te,$t)){var cn;if("LAYOUT"===$t.substr(0,6))cn=Ce(le.layout,$t.replace("LAYOUT",""));else{var rn=Re[nn];cn=G(Ue._tracePreGUI[Dt(rn)._fullInput.uid],Oe)(xe[rn],$t)}$t in et||(et[$t]=st()),void 0===et[$t][nn]&&(et[$t][nn]=q(cn.get())),void 0!==dn&&cn.set(dn)}}function gt($t){return function(dn){return Ze[dn][$t]}}function Et($t){return function(dn,nn){return!1===dn?Ze[Re[nn]][$t]:null}}for(var Pt in Te){if(m.hasParent(Te,Pt))throw new Error("cannot set "+Pt+" and a parent attribute simultaneously");var Ot,Ht,zt,nt,it,Ke,rt=Te[Pt];if("autobinx"!==Pt&&"autobiny"!==Pt||(Pt=Pt.charAt(Pt.length-1)+"bins",rt=Array.isArray(rt)?rt.map(Et(Pt)):!1===rt?Re.map(gt(Pt)):null),Je[Pt]=rt,"LAYOUT"!==Pt.substr(0,6)){for(et[Pt]=st(),De=0;De<Re.length;De++)if(Ot=xe[Re[De]],Ht=Dt(Re[De]),nt=(zt=G(Ue._tracePreGUI[Ht._fullInput.uid],Oe)(Ot,Pt)).get(),void 0!==(it=Array.isArray(rt)?rt[De%rt.length]:rt)){var ft=zt.parts[zt.parts.length-1],ht=Pt.substr(0,Pt.length-ft.length-1),Ve=ht?ht+".":"",Ge=ht?M(Ht,ht).get():Ht;if((Ke=s.getTraceValObject(Ht,zt.parts))&&Ke.impliedEdits&&null!==it)for(var ut in Ke.impliedEdits)vt(S.relativeAttr(Pt,ut),Ke.impliedEdits[ut],De);else if("thicknessmode"!==ft&&"lenmode"!==ft||nt===it||"fraction"!==it&&"pixels"!==it||!Ge){if("type"===Pt&&("pie"===it!=("pie"===nt)||"funnelarea"===it!=("funnelarea"===nt))){var dt="x",kt="y";"bar"!==it&&"bar"!==nt||"h"!==Ot.orientation||(dt="y",kt="x"),S.swapAttrs(Ot,["?","?src"],"labels",dt),S.swapAttrs(Ot,["d?","?0"],"label",dt),S.swapAttrs(Ot,["?","?src"],"values",kt),"pie"===nt||"funnelarea"===nt?(M(Ot,"marker.color").set(M(Ot,"marker.colors").get()),Ue._pielayer.selectAll("g.trace").remove()):i.traceIs(Ot,"cartesian")&&M(Ot,"marker.colors").set(M(Ot,"marker.color").get())}}else{var bt=Ue._size,At=Ge.orient,xt="top"===At||"bottom"===At;if("thicknessmode"===ft){var Rt=xt?bt.h:bt.w;vt(Ve+"thickness",Ge.thickness*("fraction"===it?1/Rt:Rt),De)}else{var _t=xt?bt.w:bt.h;vt(Ve+"len",Ge.len*("fraction"===it?1/_t:_t),De)}}if(et[Pt][De]=q(nt),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Pt)){if("orientation"===Pt){zt.set(it);var Tt=Ot.x&&!Ot.y?"h":"v";if((zt.get()||Tt)===Ht.orientation)continue}else"orientationaxes"===Pt&&(Ot.orientation={v:"h",h:"v"}[Ht.orientation]);m.swapXYData(Ot),He.calc=He.clearAxisTypes=!0}else-1!==a.dataArrayContainers.indexOf(zt.parts[0])?(m.manageArrayContainers(zt,it,et),He.calc=!0):(Ke?Ke.arrayOk&&!i.traceIs(Ht,"regl")&&(S.isArrayOrTypedArray(it)||S.isArrayOrTypedArray(nt))?He.calc=!0:_.update(He,Ke):He.calc=!0,zt.set(it))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Pt)&&o.swap(le,Re),"orientationaxes"===Pt){var It=M(le.layout,"hovermode"),Wt=It.get();"x"===Wt?It.set("y"):"y"===Wt?It.set("x"):"x unified"===Wt?It.set("y unified"):"y unified"===Wt&&It.set("x unified")}if(-1!==["orientation","type"].indexOf(Pt)){for(qe=[],De=0;De<Re.length;De++){var Zt=xe[Re[De]];i.traceIs(Zt,"cartesian")&&(pt(Zt.xaxis||"x"),pt(Zt.yaxis||"y"))}vt(qe.map(ct),!0,0),vt(qe.map(St),[0,1],0)}}else zt=Ce(le.layout,Pt.replace("LAYOUT","")),et[Pt]=[q(zt.get())],zt.set(Array.isArray(rt)?rt[0]:rt),He.calc=!0}return(He.calc||He.plot)&&(He.fullReplot=!0),{flags:He,undoit:et,redoit:Je,traces:Re,eventData:S.extendDeepNoArrays([],[Be,Re])}}function $(le){var Te,Re,De,Ue=S.counterRegex("axis",".title",!1,!1),Ze=/colorbar\.title$/,xe=Object.keys(le);for(Te=0;Te<xe.length;Te++)De=le[Re=xe[Te]],"title"!==Re&&!Ue.test(Re)&&!Ze.test(Re)||"string"!=typeof De&&"number"!=typeof De?Re.indexOf("titlefont")>-1&&-1===Re.indexOf("grouptitlefont")?Oe(Re,Re.replace("titlefont","title.font")):Re.indexOf("titleposition")>-1?Oe(Re,Re.replace("titleposition","title.position")):Re.indexOf("titleside")>-1?Oe(Re,Re.replace("titleside","title.side")):Re.indexOf("titleoffset")>-1&&Oe(Re,Re.replace("titleoffset","title.offset")):Oe(Re,Re.replace("title","title.text"));function Oe(Ce,Be){le[Be]=le[Ce],delete le[Ce]}}function se(le,Te,Re){le=S.getGraphDiv(le),m.clearPromiseQueue(le);var De={};if("string"==typeof Te)De[Te]=Re;else{if(!S.isPlainObject(Te))return S.warn("Relayout fail.",Te,Re),Promise.reject();De=S.extendFlat({},Te)}Object.keys(De).length&&(le.changed=!0);var Ue=ce(le,De),Ze=Ue.flags;Ze.calc&&(le.calcdata=void 0);var xe=[a.previousPromises];Ze.layoutReplot?xe.push(b.layoutReplot):Object.keys(De).length&&(ne(le,Ze,Ue)||a.supplyDefaults(le),Ze.legend&&xe.push(b.doLegend),Ze.layoutstyle&&xe.push(b.layoutStyles),Ze.axrange&&re(xe,Ue.rangesAltered),Ze.ticks&&xe.push(b.doTicksRelayout),Ze.modebar&&xe.push(b.doModeBar),Ze.camera&&xe.push(b.doCamera),Ze.colorbars&&xe.push(b.doColorBars),xe.push(p)),xe.push(a.rehover,a.redrag,a.reselect),u.add(le,se,[le,Ue.undoit],se,[le,Ue.redoit]);var Oe=S.syncOrAsync(xe,le);return Oe&&Oe.then||(Oe=Promise.resolve(le)),Oe.then(function(){return le.emit("plotly_relayout",Ue.eventData),le})}function ne(le,Te,Re){var De=le._fullLayout;if(!Te.axrange)return!1;for(var Ue in Te)if("axrange"!==Ue&&Te[Ue])return!1;for(var Ze in Re.rangesAltered){var xe=o.id2name(Ze),Oe=le.layout[xe],Ce=De[xe];Ce.autorange=Oe.autorange;var Be=Ce._rangeInitial0,qe=Ce._rangeInitial1;if(void 0===Be&&void 0!==qe||void 0!==Be&&void 0===qe)return!1;if(Oe.range&&(Ce.range=Oe.range.slice()),Ce.cleanRange(),Ce._matchGroup)for(var He in Ce._matchGroup)if(He!==Ze){var Je=De[o.id2name(He)];Je.autorange=Ce.autorange,Je.range=Ce.range.slice(),Je._input.range=Ce.range.slice()}}return!0}function re(le,Te){le.push(h,b.doAutoRangeAndConstraints,Te?function(De){var Ue=[];for(var Ze in Te){var xe=o.getFromId(De,Ze);if(Ue.push(Ze),-1!==(xe.ticklabelposition||"").indexOf("inside")&&xe._anchorAxis&&Ue.push(xe._anchorAxis._id),xe._matchGroup)for(var Oe in xe._matchGroup)Te[Oe]||Ue.push(Oe)}return o.draw(De,Ue,{skipTitle:!0})}:function(De){return o.draw(De,"redraw")},b.drawData,b.finalDraw)}var Q=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ee=/^[xyz]axis[0-9]*\.autorange$/,oe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ce(le,Te){var Re,De,Ue,Ze=le.layout,xe=le._fullLayout,Ce=G(xe._preGUI,xe._guiEditing),Be=Object.keys(Te),qe=o.list(le),He=S.extendDeepAll({},Te),Je={};for($(Te),Be=Object.keys(Te),De=0;De<Be.length;De++)if(0===Be[De].indexOf("allaxes")){for(Ue=0;Ue<qe.length;Ue++){var et=qe[Ue]._id.substr(1),st=-1!==et.indexOf("scene")?et+".":"",pt=Be[De].replace("allaxes",st+qe[Ue]._name);Te[pt]||(Te[pt]=Te[Be[De]])}delete Te[Be[De]]}var ct=_.layoutFlags(),St={},Dt={};function vt(En,Pn){if(Array.isArray(En))En.forEach(function(en){vt(en,Pn)});else if(!(En in Te)&&!m.hasParent(Te,En)){var Mn=Ce(Ze,En);En in Dt||(Dt[En]=q(Mn.get())),void 0!==Pn&&Mn.set(Pn)}}var gt,Et={};function Pt(En){var Pn=o.name2id(En.split(".")[0]);return Et[Pn]=1,Pn}for(var Ot in Te){if(m.hasParent(Te,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");for(var Ht=Ce(Ze,Ot),zt=Te[Ot],nt=Ht.parts.length-1;nt>0&&"string"!=typeof Ht.parts[nt];)nt--;var it=Ht.parts[nt],Ke=Ht.parts[nt-1]+"."+it,rt=Ht.parts.slice(0,nt).join("."),ft=M(le.layout,rt).get(),ht=M(xe,rt).get(),Ve=Ht.get();if(void 0!==zt){St[Ot]=zt,Dt[Ot]="reverse"===it?zt:q(Ve);var Ge=s.getLayoutValObject(xe,Ht.parts);if(Ge&&Ge.impliedEdits&&null!==zt)for(var ut in Ge.impliedEdits)vt(S.relativeAttr(Ot,ut),Ge.impliedEdits[ut]);if(-1!==["width","height"].indexOf(Ot))if(zt){vt("autosize",null);var dt="height"===Ot?"width":"height";vt(dt,xe[dt])}else xe[Ot]=le._initialAutoSize[Ot];else if("autosize"===Ot)vt("width",zt?null:xe.width),vt("height",zt?null:xe.height);else if(Ke.match(Q))Pt(Ke),M(xe,rt+"._inputRange").set(null);else if(Ke.match(ee)){Pt(Ke),M(xe,rt+"._inputRange").set(null);var kt=M(xe,rt).get();kt._inputDomain&&(kt._input.domain=kt._inputDomain.slice())}else Ke.match(oe)&&M(xe,rt+"._inputDomain").set(null);if("type"===it){gt=ft;var bt="linear"===ht.type&&"log"===zt;if(bt||"log"===ht.type&&"linear"===zt){if(gt&&gt.range)if(ht.autorange)bt&&(gt.range=gt.range[1]>gt.range[0]?[1,2]:[2,1]);else{var xt=gt.range[0],Rt=gt.range[1];bt?(xt<=0&&Rt<=0&&vt(rt+".autorange",!0),xt<=0?xt=Rt/1e6:Rt<=0&&(Rt=xt/1e6),vt(rt+".range[0]",Math.log(xt)/Math.LN10),vt(rt+".range[1]",Math.log(Rt)/Math.LN10)):(vt(rt+".range[0]",Math.pow(10,xt)),vt(rt+".range[1]",Math.pow(10,Rt)))}else vt(rt+".autorange",!0);Array.isArray(xe._subplots.polar)&&xe._subplots.polar.length&&xe[Ht.parts[0]]&&"radialaxis"===Ht.parts[1]&&delete xe[Ht.parts[0]]._subplot.viewInitial["radialaxis.range"],i.getComponentMethod("annotations","convertCoords")(le,ht,zt,vt),i.getComponentMethod("images","convertCoords")(le,ht,zt,vt)}else vt(rt+".autorange",!0),vt(rt+".range",null);M(xe,rt+"._inputRange").set(null)}else if(it.match(w)){var _t=M(xe,Ot).get(),Tt=(zt||{}).type;Tt&&"-"!==Tt||(Tt="linear"),i.getComponentMethod("annotations","convertCoords")(le,_t,Tt,vt),i.getComponentMethod("images","convertCoords")(le,_t,Tt,vt)}var It=x.containerArrayMatch(Ot);if(It){Re=It.array;var Wt=It.property,Zt=Ge||{editType:"calc"};""!==(De=It.index)&&""===Wt&&(x.isAddVal(zt)?Dt[Ot]=null:x.isRemoveVal(zt)?Dt[Ot]=(M(Ze,Re).get()||[])[De]:S.warn("unrecognized full object value",Te)),_.update(ct,Zt),Je[Re]||(Je[Re]={});var $t=Je[Re][De];$t||($t=Je[Re][De]={}),$t[Wt]=zt,delete Te[Ot]}else"reverse"===it?(ft.range?ft.range.reverse():(vt(rt+".autorange",!0),ft.range=[1,0]),ht.autorange?ct.calc=!0:ct.plot=!0):("dragmode"===Ot&&(!1===zt&&!1!==Ve||!1!==zt&&!1===Ve)||xe._has("scatter-like")&&xe._has("regl")&&"dragmode"===Ot&&("lasso"===zt||"select"===zt)&&"lasso"!==Ve&&"select"!==Ve||xe._has("gl2d")?ct.plot=!0:Ge?_.update(ct,Ge):ct.calc=!0,Ht.set(zt))}}for(Re in Je)x.applyContainerArrayChanges(le,Ce(Ze,Re),Je[Re],ct,Ce)||(ct.plot=!0);for(var dn in Et){var nn=(gt=o.getFromId(le,dn))&&gt._constraintGroup;if(nn)for(var cn in ct.calc=!0,nn)Et[cn]||(o.getFromId(le,cn)._constraintShrinkable=!0)}(ue(le)||Te.height||Te.width)&&(ct.plot=!0);var rn=xe.shapes;for(De=0;De<rn.length;De++)if(rn[De].showlegend){ct.calc=!0;break}return(ct.plot||ct.calc)&&(ct.layoutReplot=!0),{flags:ct,rangesAltered:Et,undoit:Dt,redoit:St,eventData:He}}function ue(le){var Te=le._fullLayout,Re=Te.width,De=Te.height;return le.layout.autosize&&a.plotAutoSize(le,le.layout,Te),Te.width!==Re||Te.height!==De}function he(le,Te,Re,De){le=S.getGraphDiv(le),m.clearPromiseQueue(le),S.isPlainObject(Te)||(Te={}),S.isPlainObject(Re)||(Re={}),Object.keys(Te).length&&(le.changed=!0),Object.keys(Re).length&&(le.changed=!0);var Ue=m.coerceTraceIndices(le,De),Ze=Z(le,S.extendFlat({},Te),Ue),xe=Ze.flags,Oe=ce(le,S.extendFlat({},Re)),Ce=Oe.flags;(xe.calc||Ce.calc)&&(le.calcdata=void 0),xe.clearAxisTypes&&m.clearAxisTypes(le,Ue,Re);var Be=[];Ce.layoutReplot?Be.push(b.layoutReplot):xe.fullReplot?Be.push(B._doPlot):(Be.push(a.previousPromises),ne(le,Ce,Oe)||a.supplyDefaults(le),xe.style&&Be.push(b.doTraceStyle),(xe.colorbars||Ce.colorbars)&&Be.push(b.doColorBars),Ce.legend&&Be.push(b.doLegend),Ce.layoutstyle&&Be.push(b.layoutStyles),Ce.axrange&&re(Be,Oe.rangesAltered),Ce.ticks&&Be.push(b.doTicksRelayout),Ce.modebar&&Be.push(b.doModeBar),Ce.camera&&Be.push(b.doCamera),Be.push(p)),Be.push(a.rehover,a.redrag,a.reselect),u.add(le,he,[le,Ze.undoit,Oe.undoit,Ze.traces],he,[le,Ze.redoit,Oe.redoit,Ze.traces]);var qe=S.syncOrAsync(Be,le);return qe&&qe.then||(qe=Promise.resolve(le)),qe.then(function(){return le.emit("plotly_update",{data:Ze.eventData,layout:Oe.eventData}),le})}function ve(le){return function(Te){Te._fullLayout._guiEditing=!0;var Re=le.apply(null,arguments);return Te._fullLayout._guiEditing=!1,Re}}var ke=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Ie=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Me(le,Te){for(var Re=0;Re<Te.length;Re++){var De=Te[Re],Ue=le.match(De.pattern);if(Ue){var Ze=Ue[1]||"";return{head:Ze,tail:le.substr(Ze.length+1),attr:De.attr}}}}function _e(le,Te){var Re=M(Te,le).get();if(void 0!==Re)return Re;var De=le.split(".");for(De.pop();De.length>1;)if(De.pop(),void 0!==(Re=M(Te,De.join(".")+".uirevision").get()))return Re;return Te.uirevision}function we(le,Te){for(var Re=0;Re<Te.length;Re++)if(Te[Re]._fullInput.uid===le)return Re;return-1}function ze(le,Te,Re){for(var De=0;De<Te.length;De++)if(Te[De].uid===le)return De;return!Te[Re]||Te[Re].uid?-1:Re}function Ee(le,Te){var Re=S.isPlainObject(le),De=Array.isArray(le);return Re||De?(Re&&S.isPlainObject(Te)||De&&Array.isArray(Te))&&JSON.stringify(le)===JSON.stringify(Te):le===Te}function Se(le,Te,Re,De){var Ue,Ze,xe,Oe=De.getValObject,Ce=De.flags,Be=De.immutable,qe=De.inArray,He=De.arrayIndex;function Je(){var ft=Ue.editType;qe&&-1!==ft.indexOf("arraydraw")?S.pushUnique(Ce.arrays[qe],He):(_.update(Ce,Ue),"none"!==ft&&Ce.nChanges++,De.transition&&Ue.anim&&Ce.nChangesAnim++,(Q.test(xe)||ee.test(xe))&&(Ce.rangesAltered[Re[0]]=1),oe.test(xe)&&M(Te,"_inputDomain").set(null),"datarevision"===Ze&&(Ce.newDataRevision=1))}function et(ft){return"data_array"===ft.valType||ft.arrayOk}for(Ze in le){if(Ce.calc&&!De.transition)return;var st=le[Ze],pt=Te[Ze],ct=Re.concat(Ze);if(xe=ct.join("."),"_"!==Ze.charAt(0)&&"function"!=typeof st&&st!==pt){if(("tick0"===Ze||"dtick"===Ze)&&"geo"!==Re[0]){var St=Te.tickmode;if("auto"===St||"array"===St||!St)continue}if(("range"!==Ze||!Te.autorange)&&("zmin"!==Ze&&"zmax"!==Ze||"contourcarpet"!==Te.type)&&(Ue=Oe(ct))&&(!Ue._compareAsJSON||JSON.stringify(st)!==JSON.stringify(pt))){var Dt,vt=Ue.valType,gt=et(Ue),Et=Array.isArray(st),Pt=Array.isArray(pt);if(Et&&Pt){var Ot="_input_"+Ze,Ht=le[Ot],zt=Te[Ot];if(Array.isArray(Ht)&&Ht===zt)continue}if(void 0===pt)gt&&Et?Ce.calc=!0:Je();else if(Ue._isLinkedToArray){var nt=[],it=!1;qe||(Ce.arrays[Ze]=nt);var Ke=Math.min(st.length,pt.length),rt=Math.max(st.length,pt.length);if(Ke!==rt){if("arraydraw"!==Ue.editType){Je();continue}it=!0}for(Dt=0;Dt<Ke;Dt++)Se(st[Dt],pt[Dt],ct.concat(Dt),S.extendFlat({inArray:Ze,arrayIndex:Dt},De));if(it)for(Dt=Ke;Dt<rt;Dt++)nt.push(Dt)}else!vt&&S.isPlainObject(st)?Se(st,pt,ct,De):gt?Et&&Pt?(Be&&(Ce.calc=!0),(Be||De.newDataRevision)&&Je()):Et!==Pt?Ce.calc=!0:Je():Et&&Pt&&st.length===pt.length&&String(st)===String(pt)||Je()}}}for(Ze in Te)if(!(Ze in le)&&"_"!==Ze.charAt(0)&&"function"!=typeof Te[Ze]){if(et(Ue=Oe(Re.concat(Ze)))&&Array.isArray(Te[Ze]))return void(Ce.calc=!0);Je()}}function me(le,Te){var Re;for(Re in le)if("_"!==Re.charAt(0)){var De=le[Re],Ue=Te[Re];if(De!==Ue)if(S.isPlainObject(De)&&S.isPlainObject(Ue)){if(me(De,Ue))return!0}else{if(!Array.isArray(De)||!Array.isArray(Ue)||De.length!==Ue.length)return!0;for(var Ze=0;Ze<De.length;Ze++)if(De[Ze]!==Ue[Ze]&&(!S.isPlainObject(De[Ze])||!S.isPlainObject(Ue[Ze])||me(De[Ze],Ue[Ze])))return!0}}}function fe(le){var Te=le._fullLayout,Re=le.getBoundingClientRect();if(!S.equalDomRects(Re,Te._lastBBox)){var De=Te._invTransform=S.inverseTransformMatrix(S.getFullTransformMatrix(le));Te._invScaleX=Math.sqrt(De[0][0]*De[0][0]+De[0][1]*De[0][1]+De[0][2]*De[0][2]),Te._invScaleY=Math.sqrt(De[1][0]*De[1][0]+De[1][1]*De[1][1]+De[1][2]*De[1][2]),Te._lastBBox=Re}}B.animate=function(le,Te,Re){if(le=S.getGraphDiv(le),!S.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var De=le._transitionData;De._frameQueue||(De._frameQueue=[]);var Ue=(Re=a.supplyAnimationDefaults(Re)).transition,Ze=Re.frame;function xe(Be){return Array.isArray(Ue)?Be>=Ue.length?Ue[0]:Ue[Be]:Ue}function Oe(Be){return Array.isArray(Ze)?Be>=Ze.length?Ze[0]:Ze[Be]:Ze}function Ce(Be,qe){var He=0;return function(){if(Be&&++He===qe)return Be()}}return void 0===De._frameWaitingCnt&&(De._frameWaitingCnt=0),new Promise(function(Be,qe){var Je,et,st=0;function pt(Ot){return Ot.transitionOpts=Array.isArray(Ue)?st>=Ue.length?Ue[st]:Ue[0]:Ue,st++,Ot}var ct=[],St=null==Te,Dt=Array.isArray(Te);if(St||Dt||!S.isPlainObject(Te)){if(St||-1!==["string","number"].indexOf(typeof Te))for(Je=0;Je<De._frames.length;Je++)(et=De._frames[Je])&&(St||String(et.group)===String(Te))&&ct.push({type:"byname",name:String(et.name),data:pt({name:et.name})});else if(Dt)for(Je=0;Je<Te.length;Je++){var vt=Te[Je];-1!==["number","string"].indexOf(typeof vt)?(vt=String(vt),ct.push({type:"byname",name:vt,data:pt({name:vt})})):S.isPlainObject(vt)&&ct.push({type:"object",data:pt(S.extendFlat({},vt))})}}else ct.push({type:"object",data:pt(S.extendFlat({},Te))});for(Je=0;Je<ct.length;Je++)if("byname"===(et=ct[Je]).type&&!De._frameHash[et.data.name])return S.warn('animate failure: frame not found: "'+et.data.name+'"'),void qe();-1!==["next","immediate"].indexOf(Re.mode)&&function(){if(0!==De._frameQueue.length){for(;De._frameQueue.length;){var Ot=De._frameQueue.pop();Ot.onInterrupt&&Ot.onInterrupt()}le.emit("plotly_animationinterrupted",[])}}(),"reverse"===Re.direction&&ct.reverse();var gt=le._fullLayout._currentFrame;if(gt&&Re.fromcurrent){var Et=-1;for(Je=0;Je<ct.length;Je++)if("byname"===(et=ct[Je]).type&&et.name===gt){Et=Je;break}if(Et>0&&Et<ct.length-1){var Pt=[];for(Je=0;Je<ct.length;Je++)et=ct[Je],("byname"!==ct[Je].type||Je>Et)&&Pt.push(et);ct=Pt}}ct.length>0?function(Ot){if(0!==Ot.length){for(var Ht=0;Ht<Ot.length;Ht++){var zt;zt="byname"===Ot[Ht].type?a.computeFrame(le,Ot[Ht].name):Ot[Ht].data;var nt=Oe(Ht),it=xe(Ht);it.duration=Math.min(it.duration,nt.duration);var Ke={frame:zt,name:Ot[Ht].name,frameOpts:nt,transitionOpts:it};Ht===Ot.length-1&&(Ke.onComplete=Ce(Be,2),Ke.onInterrupt=qe),De._frameQueue.push(Ke)}"immediate"===Re.mode&&(De._lastFrameAt=-1/0),De._animationRaf||function He(){le.emit("plotly_animating"),De._lastFrameAt=-1/0,De._timeToNext=0,De._runningTransitions=0,De._currentFrame=null;var Ot=function(){De._animationRaf=window.requestAnimationFrame(Ot),Date.now()-De._lastFrameAt>De._timeToNext&&function(){De._currentFrame&&De._currentFrame.onComplete&&De._currentFrame.onComplete();var Ht=De._currentFrame=De._frameQueue.shift();if(Ht){var zt=Ht.name?Ht.name.toString():null;le._fullLayout._currentFrame=zt,De._lastFrameAt=Date.now(),De._timeToNext=Ht.frameOpts.duration,a.transition(le,Ht.frame.data,Ht.frame.layout,m.coerceTraceIndices(le,Ht.frame.traces),Ht.frameOpts,Ht.transitionOpts).then(function(){Ht.onComplete&&Ht.onComplete()}),le.emit("plotly_animatingframe",{name:zt,frame:Ht.frame,animation:{frame:Ht.frameOpts,transition:Ht.transitionOpts}})}else le.emit("plotly_animated"),window.cancelAnimationFrame(De._animationRaf),De._animationRaf=null}()};Ot()}()}}(ct):(le.emit("plotly_animated"),Be())})},B.addFrames=function(le,Te,Re){if(le=S.getGraphDiv(le),null==Te)return Promise.resolve();if(!S.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var De,Ue,Ze,xe,Oe=le._transitionData._frames,Ce=le._transitionData._frameHash;if(!Array.isArray(Te))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Te);var Be=Oe.length+2*Te.length,qe=[],He={};for(De=Te.length-1;De>=0;De--)if(S.isPlainObject(Te[De])){var Je=Te[De].name,et=(Ce[Je]||He[Je]||{}).name,st=Te[De].name;et&&st&&"number"==typeof st&&(Ce[et]||He[et])&&A<5&&(A++,S.warn('addFrames: overwriting frame "'+(Ce[et]||He[et]).name+'" with a frame whose name of type "number" also equates to "'+et+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===A&&S.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),He[Je]={name:Je},qe.push({frame:a.supplyFrameDefaults(Te[De]),index:Re&&null!=Re[De]?Re[De]:Be+De})}qe.sort(function(Ot,Ht){return Ot.index>Ht.index?-1:Ot.index<Ht.index?1:0});var ct=[],St=[],Dt=Oe.length;for(De=qe.length-1;De>=0;De--){if("number"==typeof(Ue=qe[De].frame).name&&S.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ue.name)for(;Ce[Ue.name="frame "+le._transitionData._counter++];);if(Ce[Ue.name]){for(Ze=0;Ze<Oe.length&&(Oe[Ze]||{}).name!==Ue.name;Ze++);ct.push({type:"replace",index:Ze,value:Ue}),St.unshift({type:"replace",index:Ze,value:Oe[Ze]})}else xe=Math.max(0,Math.min(qe[De].index,Dt)),ct.push({type:"insert",index:xe,value:Ue}),St.unshift({type:"delete",index:xe}),Dt++}return u&&u.add(le,a.modifyFrames,[le,St],a.modifyFrames,[le,ct]),a.modifyFrames(le,ct)},B.deleteFrames=function(le,Te){if(le=S.getGraphDiv(le),!S.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le);var Re,De,Ue=le._transitionData._frames,Ze=[],xe=[];if(!Te)for(Te=[],Re=0;Re<Ue.length;Re++)Te.push(Re);for((Te=Te.slice()).sort(),Re=Te.length-1;Re>=0;Re--)Ze.push({type:"delete",index:De=Te[Re]}),xe.unshift({type:"insert",index:De,value:Ue[De]});return u&&u.add(le,a.modifyFrames,[le,xe],a.modifyFrames,[le,Ze]),a.modifyFrames(le,Ze)},B.addTraces=function le(Te,Re,De){Te=S.getGraphDiv(Te);var Ue,Ze,xe=[],Oe=B.deleteTraces,Ce=le,Be=[Te,xe],qe=[Te,Re];for(function(He,Je,et){var st,pt;if(!Array.isArray(He.data))throw new Error("gd.data must be an array.");if(void 0===Je)throw new Error("traces must be defined.");for(Array.isArray(Je)||(Je=[Je]),st=0;st<Je.length;st++)if("object"!=typeof(pt=Je[st])||Array.isArray(pt)||null===pt)throw new Error("all values in traces array must be non-array objects");if(void 0===et||Array.isArray(et)||(et=[et]),void 0!==et&&et.length!==Je.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Te,Re,De),Array.isArray(Re)||(Re=[Re]),Re=Re.map(function(He){return S.extendFlat({},He)}),m.cleanData(Re),Ue=0;Ue<Re.length;Ue++)Te.data.push(Re[Ue]);for(Ue=0;Ue<Re.length;Ue++)xe.push(-Re.length+Ue);if(void 0===De)return Ze=B.redraw(Te),u.add(Te,Oe,Be,Ce,qe),Ze;Array.isArray(De)||(De=[De]);try{F(Te,xe,De)}catch(He){throw Te.data.splice(Te.data.length-Re.length,Re.length),He}return u.startSequence(Te),u.add(Te,Oe,Be,Ce,qe),Ze=B.moveTraces(Te,xe,De),u.stopSequence(Te),Ze},B.deleteTraces=function le(Te,Re){Te=S.getGraphDiv(Te);var De,Ue,Ze=[],xe=B.addTraces,Oe=le,Ce=[Te,Ze,Re],Be=[Te,Re];if(void 0===Re)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Re)||(Re=[Re]),P(Te,Re,"indices"),(Re=O(Re,Te.data.length-1)).sort(S.sorterDes),De=0;De<Re.length;De+=1)Ue=Te.data.splice(Re[De],1)[0],Ze.push(Ue);var qe=B.redraw(Te);return u.add(Te,xe,Ce,Oe,Be),qe},B.extendTraces=function le(Te,Re,De,Ue){var Ze=j(Te=S.getGraphDiv(Te),Re,De,Ue,function(Ce,Be,qe){var He,Je;if(S.isTypedArray(Ce))if(qe<0){var et=new Ce.constructor(0),st=X(Ce,Be);qe<0?(He=st,Je=et):(He=et,Je=st)}else if(He=new Ce.constructor(qe),Je=new Ce.constructor(Ce.length+Be.length-qe),qe===Be.length)He.set(Be),Je.set(Ce);else if(qe<Be.length){var pt=Be.length-qe;He.set(Be.subarray(pt)),Je.set(Ce),Je.set(Be.subarray(0,pt),Ce.length)}else{var ct=qe-Be.length,St=Ce.length-ct;He.set(Ce.subarray(St)),He.set(Be,ct),Je.set(Ce.subarray(0,St))}else He=Ce.concat(Be),Je=qe>=0&&qe<He.length?He.splice(0,He.length-qe):[];return[He,Je]}),xe=B.redraw(Te);return u.add(Te,B.prependTraces,[Te,Ze.update,De,Ze.maxPoints],le,arguments),xe},B.moveTraces=function le(Te,Re,De){var Ue,Ze=[],xe=[],Oe=le,Ce=le,Be=[Te=S.getGraphDiv(Te),De,Re],qe=[Te,Re,De];if(F(Te,Re,De),Re=Array.isArray(Re)?Re:[Re],void 0===De)for(De=[],Ue=0;Ue<Re.length;Ue++)De.push(-Re.length+Ue);for(De=Array.isArray(De)?De:[De],Re=O(Re,Te.data.length-1),De=O(De,Te.data.length-1),Ue=0;Ue<Te.data.length;Ue++)-1===Re.indexOf(Ue)&&Ze.push(Te.data[Ue]);for(Ue=0;Ue<Re.length;Ue++)xe.push({newIndex:De[Ue],trace:Te.data[Re[Ue]]});for(xe.sort(function(Je,et){return Je.newIndex-et.newIndex}),Ue=0;Ue<xe.length;Ue+=1)Ze.splice(xe[Ue].newIndex,0,xe[Ue].trace);Te.data=Ze;var He=B.redraw(Te);return u.add(Te,Oe,Be,Ce,qe),He},B.prependTraces=function le(Te,Re,De,Ue){var Ze=j(Te=S.getGraphDiv(Te),Re,De,Ue,function(Ce,Be,qe){var He,Je;if(S.isTypedArray(Ce))if(qe<=0){var et=new Ce.constructor(0),st=X(Be,Ce);qe<0?(He=st,Je=et):(He=et,Je=st)}else if(He=new Ce.constructor(qe),Je=new Ce.constructor(Ce.length+Be.length-qe),qe===Be.length)He.set(Be),Je.set(Ce);else if(qe<Be.length){var pt=Be.length-qe;He.set(Be.subarray(0,pt)),Je.set(Be.subarray(pt)),Je.set(Ce,pt)}else{var ct=qe-Be.length;He.set(Be),He.set(Ce.subarray(0,ct),Be.length),Je.set(Ce.subarray(ct))}else He=Be.concat(Ce),Je=qe>=0&&qe<He.length?He.splice(qe,He.length):[];return[He,Je]}),xe=B.redraw(Te);return u.add(Te,B.extendTraces,[Te,Ze.update,De,Ze.maxPoints],le,arguments),xe},B.newPlot=function(le,Te,Re,De){return le=S.getGraphDiv(le),a.cleanPlot([],{},le._fullData||[],le._fullLayout||{}),a.purge(le),B._doPlot(le,Te,Re,De)},B._doPlot=function(le,Te,Re,De){var Ue;if(le=S.getGraphDiv(le),v.init(le),S.isPlainObject(Te)){var Ze=Te;Te=Ze.data,Re=Ze.layout,De=Ze.config,Ue=Ze.frames}if(!1===v.triggerHandler(le,"plotly_beforeplot",[Te,Re,De]))return Promise.reject();Te||Re||S.isPlotDiv(le)||S.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",le),L(le,De),Re||(Re={}),D.select(le).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(le._promises)||(le._promises=[]);var xe=0===(le.data||[]).length&&Array.isArray(Te);Array.isArray(Te)&&(m.cleanData(Te),xe?le.data=Te:le.data.push.apply(le.data,Te),le.empty=!1),le.layout&&!xe||(le.layout=m.cleanLayout(Re)),a.supplyDefaults(le);var Oe=le._fullLayout,Ce=Oe._has("cartesian");Oe._replotting=!0,(xe||Oe._shouldCreateBgLayer)&&(function(St){var Dt=D.select(St),vt=St._fullLayout;if(vt._calcInverseTransform=fe,vt._calcInverseTransform(St),vt._container=Dt.selectAll(".plot-container").data([0]),vt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),vt._paperdiv=vt._container.selectAll(".svg-container").data([0]),vt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),vt._glcontainer=vt._paperdiv.selectAll(".gl-container").data([{}]),vt._glcontainer.enter().append("div").classed("gl-container",!0),vt._paperdiv.selectAll(".main-svg").remove(),vt._paperdiv.select(".modebar-container").remove(),vt._paper=vt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),vt._toppaper=vt._paperdiv.append("svg").classed("main-svg",!0),vt._modebardiv=vt._paperdiv.append("div"),delete vt._modeBar,vt._hoverpaper=vt._paperdiv.append("svg").classed("main-svg",!0),!vt._uid){var gt={};D.selectAll("defs").each(function(){this.id&&(gt[this.id.split("-")[1]]=1)}),vt._uid=S.randstr(gt)}vt._paperdiv.selectAll(".main-svg").attr(g.svgAttrs),vt._defs=vt._paper.append("defs").attr("id","defs-"+vt._uid),vt._clips=vt._defs.append("g").classed("clips",!0),vt._topdefs=vt._toppaper.append("defs").attr("id","topdefs-"+vt._uid),vt._topclips=vt._topdefs.append("g").classed("clips",!0),vt._bgLayer=vt._paper.append("g").classed("bglayer",!0),vt._draggers=vt._paper.append("g").classed("draglayer",!0);var Et=vt._paper.append("g").classed("layer-below",!0);vt._imageLowerLayer=Et.append("g").classed("imagelayer",!0),vt._shapeLowerLayer=Et.append("g").classed("shapelayer",!0),vt._cartesianlayer=vt._paper.append("g").classed("cartesianlayer",!0),vt._polarlayer=vt._paper.append("g").classed("polarlayer",!0),vt._smithlayer=vt._paper.append("g").classed("smithlayer",!0),vt._ternarylayer=vt._paper.append("g").classed("ternarylayer",!0),vt._geolayer=vt._paper.append("g").classed("geolayer",!0),vt._funnelarealayer=vt._paper.append("g").classed("funnelarealayer",!0),vt._pielayer=vt._paper.append("g").classed("pielayer",!0),vt._iciclelayer=vt._paper.append("g").classed("iciclelayer",!0),vt._treemaplayer=vt._paper.append("g").classed("treemaplayer",!0),vt._sunburstlayer=vt._paper.append("g").classed("sunburstlayer",!0),vt._indicatorlayer=vt._toppaper.append("g").classed("indicatorlayer",!0),vt._glimages=vt._paper.append("g").classed("glimages",!0);var Pt=vt._toppaper.append("g").classed("layer-above",!0);vt._imageUpperLayer=Pt.append("g").classed("imagelayer",!0),vt._shapeUpperLayer=Pt.append("g").classed("shapelayer",!0),vt._selectionLayer=vt._toppaper.append("g").classed("selectionlayer",!0),vt._infolayer=vt._toppaper.append("g").classed("infolayer",!0),vt._menulayer=vt._toppaper.append("g").classed("menulayer",!0),vt._zoomlayer=vt._toppaper.append("g").classed("zoomlayer",!0),vt._hoverlayer=vt._hoverpaper.append("g").classed("hoverlayer",!0),vt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),St.emit("plotly_framework")}(le),Oe._shouldCreateBgLayer&&delete Oe._shouldCreateBgLayer),l.initGradients(le),l.initPatterns(le),xe&&o.saveShowSpikeInitial(le);var Be=!le.calcdata||le.calcdata.length!==(le._fullData||[]).length;Be&&a.doCalcdata(le);for(var qe=0;qe<le.calcdata.length;qe++)le.calcdata[qe][0].trace=le._fullData[qe];le._context.responsive?le._responsiveChartHandler||(le._responsiveChartHandler=function(){S.isHidden(le)||a.resize(le)},window.addEventListener("resize",le._responsiveChartHandler)):S.clearResponsive(le);var He=S.extendFlat({},Oe._size),Je=0;function et(){if(a.clearAutoMarginIds(le),b.drawMarginPushers(le),o.allowAutoMargin(le),le._fullLayout.title.text&&le._fullLayout.title.automargin&&a.allowAutoMargin(le,"title.automargin"),Oe._has("pie"))for(var St=le._fullData,Dt=0;Dt<St.length;Dt++){var vt=St[Dt];"pie"===vt.type&&vt.automargin&&a.allowAutoMargin(le,"pie."+vt.uid+".automargin")}return a.doAutoMargin(le),a.previousPromises(le)}function st(){le._transitioning||(b.doAutoRangeAndConstraints(le),xe&&o.saveRangeInitial(le),i.getComponentMethod("rangeslider","calcAutorange")(le))}var pt=[a.previousPromises,function(){if(Ue)return B.addFrames(le,Ue)},function St(){for(var Dt=Oe._basePlotModules,vt=0;vt<Dt.length;vt++)Dt[vt].drawFramework&&Dt[vt].drawFramework(le);!Oe._glcanvas&&Oe._has("gl")&&(Oe._glcanvas=Oe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Ot){return Ot.key}),Oe._glcanvas.enter().append("canvas").attr("class",function(Ot){return"gl-canvas gl-canvas-"+Ot.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var gt=le._context.plotGlPixelRatio;if(Oe._glcanvas){Oe._glcanvas.attr("width",Oe.width*gt).attr("height",Oe.height*gt).style("width",Oe.width+"px").style("height",Oe.height+"px");var Et=Oe._glcanvas.data()[0].regl;if(Et&&(Math.floor(Oe.width*gt)!==Et._gl.drawingBufferWidth||Math.floor(Oe.height*gt)!==Et._gl.drawingBufferHeight)){var Pt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Je)return S.log(Pt+" Clearing graph and plotting again."),a.cleanPlot([],{},le._fullData,Oe),a.supplyDefaults(le),Oe=le._fullLayout,a.doCalcdata(le),Je++,St();S.error(Pt)}}return"h"===Oe.modebar.orientation?Oe._modebardiv.style("height",null).style("width","100%"):Oe._modebardiv.style("width",null).style("height",Oe.height+"px"),a.previousPromises(le)},et,function(){if(a.didMarginChange(He,Oe._size))return S.syncOrAsync([et,b.layoutStyles],le)}];Ce&&pt.push(function(){if(Be)return S.syncOrAsync([i.getComponentMethod("shapes","calcAutorange"),i.getComponentMethod("annotations","calcAutorange"),st],le);st()}),pt.push(b.layoutStyles),Ce&&pt.push(function(){return o.draw(le,xe?"":"redraw")},function(St){St._fullLayout._insideTickLabelsAutorange&&se(St,St._fullLayout._insideTickLabelsAutorange).then(function(){St._fullLayout._insideTickLabelsAutorange=void 0})}),pt.push(b.drawData,b.finalDraw,f,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,function(St){St._fullLayout._insideTickLabelsAutorange&&xe&&o.saveRangeInitial(St,!0)},a.previousPromises);var ct=S.syncOrAsync(pt,le);return ct&&ct.then||(ct=Promise.resolve()),ct.then(function(){return p(le),le})},B.purge=function(le){var Te=(le=S.getGraphDiv(le))._fullLayout||{};return a.cleanPlot([],{},le._fullData||[],Te),a.purge(le),v.purge(le),Te._container&&Te._container.remove(),delete le._context,le},B.react=function(le,Te,Re,De){var Ue,Ze;le=S.getGraphDiv(le),m.clearPromiseQueue(le);var rt,ft,ht,Ve,Ge,ut,xe=le._fullData,Oe=le._fullLayout;if(S.isPlotDiv(le)&&xe&&Oe){if(S.isPlainObject(Te)){var Ce=Te;Te=Ce.data,Re=Ce.layout,De=Ce.config,Ue=Ce.frames}var Be=!1;if(De){var qe=S.extendDeep({},le._context);le._context=void 0,L(le,De),Be=me(qe,le._context)}le.data=Te||[],m.cleanData(le.data),le.layout=Re||{},m.cleanLayout(le.layout),function(rt,ft,ht,Ve){var Ge,ut,dt,kt,bt,At,xt,Rt,_t,Tt,It=Ve._preGUI,Wt=[],Zt={},$t={};for(Ge in It){if(bt=Me(Ge,ke)){if(_t=bt.head,Tt=bt.tail,(kt=(dt=M(Ve,ut=bt.attr||_t+".uirevision").get())&&_e(ut,ft))&&kt===dt){if(null===(At=It[Ge])&&(At=void 0),Ee(Rt=(xt=M(ft,Ge)).get(),At)){void 0===Rt&&"autorange"===Tt&&Wt.push(_t),xt.set(q(M(Ve,Ge).get()));continue}if("autorange"===Tt||"range["===Tt.substr(0,6)){var cn=It[_t+".autorange"];if(cn||null===cn&&null===It[_t+".range[0]"]&&null===It[_t+".range[1]"]){if(!(_t in Zt)){var rn=M(ft,_t).get();Zt[_t]=rn&&(rn.autorange||!1!==rn.autorange&&(!rn.range||2!==rn.range.length))}if(Zt[_t]){xt.set(q(M(Ve,Ge).get()));continue}}}}}else S.warn("unrecognized GUI edit: "+Ge);delete It[Ge],bt&&"range["===bt.tail.substr(0,6)&&($t[bt.head]=1)}for(var En=0;En<Wt.length;En++){var Pn=Wt[En];if($t[Pn]){var Mn=M(ft,Pn).get();Mn&&delete Mn.autorange}}var en=Ve._tracePreGUI;for(var gn in en){var an,yn=en[gn],kn=null;for(Ge in yn){if(!kn){var Ln=we(gn,ht);if(Ln<0){delete en[gn];break}var Rn=ze(gn,rt,(an=ht[Ln]._fullInput).index);if(Rn<0){delete en[gn];break}kn=rt[Rn]}if(bt=Me(Ge,Ie)){if(bt.attr?kt=(dt=M(Ve,bt.attr).get())&&_e(bt.attr,ft):(dt=an.uirevision,void 0===(kt=kn.uirevision)&&(kt=ft.uirevision)),kt&&kt===dt&&(null===(At=yn[Ge])&&(At=void 0),Ee(Rt=(xt=M(kn,Ge)).get(),At))){xt.set(q(M(an,Ge).get()));continue}}else S.warn("unrecognized GUI edit: "+Ge+" in trace uid "+gn);delete yn[Ge]}}}(le.data,le.layout,xe,Oe),a.supplyDefaults(le,{skipUpdateCalc:!0});var He=le._fullData,Je=le._fullLayout,et=void 0===Je.datarevision,st=Je.transition,pt=(rt=le,ft=Oe,ht=Je,Ve=et,Ge=st,(ut=_.layoutFlags()).arrays={},ut.rangesAltered={},ut.nChanges=0,ut.nChangesAnim=0,Se(ft,ht,[],{getValObject:function(dt){return s.getLayoutValObject(ht,dt)},flags:ut,immutable:Ve,transition:Ge,gd:rt}),(ut.plot||ut.calc)&&(ut.layoutReplot=!0),Ge&&ut.nChanges&&ut.nChangesAnim&&(ut.anim=ut.nChanges===ut.nChangesAnim?"all":"some"),ut),St=function(rt,ft,ht,Ve,Ge,ut){var dt=ft.length===ht.length;if(!Ge&&!dt)return{fullReplot:!0,calc:!0};var kt,bt,At=_.traceFlags();At.arrays={},At.nChanges=0,At.nChangesAnim=0;var xt={getValObject:function(_t){var Tt=s.getTraceValObject(bt,_t);return!bt._module.animatable&&Tt.anim&&(Tt.anim=!1),Tt},flags:At,immutable:Ve,transition:Ge,newDataRevision:ut,gd:rt},Rt={};for(kt=0;kt<ft.length;kt++)if(ht[kt]){if(a.hasMakesDataTransform(bt=ht[kt]._fullInput)&&(bt=ht[kt]),Rt[bt.uid])continue;Rt[bt.uid]=1,Se(ft[kt]._fullInput,bt,[],xt)}return(At.calc||At.plot)&&(At.fullReplot=!0),Ge&&At.nChanges&&At.nChangesAnim&&(At.anim=At.nChanges===At.nChangesAnim&&dt?"all":"some"),At}(le,xe,He,et,st,pt.newDataRevision);if(ue(le)&&(pt.layoutReplot=!0),St.calc||pt.calc){le.calcdata=void 0;for(var Dt=Object.getOwnPropertyNames(Je),vt=0;vt<Dt.length;vt++){var gt=Dt[vt],Et=gt.substring(0,5);if("xaxis"===Et||"yaxis"===Et){var Pt=Je[gt]._emptyCategories;Pt&&Pt()}}}else a.supplyDefaultsUpdateCalc(le.calcdata,He);var Ot=[];if(Ue&&(le._transitionData={},a.createTransitionData(le),Ot.push(function(){return B.addFrames(le,Ue)})),Je.transition&&!Be&&(St.anim||pt.anim))pt.ticks&&Ot.push(b.doTicksRelayout),a.doCalcdata(le),b.doAutoRangeAndConstraints(le),Ot.push(function(){return a.transitionFromReact(le,St,pt,Oe)});else if(St.fullReplot||pt.layoutReplot||Be)le._fullLayout._skipDefaults=!0,Ot.push(B._doPlot);else{for(var Ht in pt.arrays){var zt=pt.arrays[Ht];if(zt.length){var nt=i.getComponentMethod(Ht,"drawOne");if(nt!==S.noop)for(var it=0;it<zt.length;it++)nt(le,zt[it]);else{var Ke=i.getComponentMethod(Ht,"draw");if(Ke===S.noop)throw new Error("cannot draw components: "+Ht);Ke(le)}}}Ot.push(a.previousPromises),St.style&&Ot.push(b.doTraceStyle),(St.colorbars||pt.colorbars)&&Ot.push(b.doColorBars),pt.legend&&Ot.push(b.doLegend),pt.layoutstyle&&Ot.push(b.layoutStyles),pt.axrange&&re(Ot),pt.ticks&&Ot.push(b.doTicksRelayout),pt.modebar&&Ot.push(b.doModeBar),pt.camera&&Ot.push(b.doCamera),Ot.push(p)}Ot.push(a.rehover,a.redrag,a.reselect),(Ze=S.syncOrAsync(Ot,le))&&Ze.then||(Ze=Promise.resolve(le))}else Ze=B.newPlot(le,Te,Re,De);return Ze.then(function(){return le.emit("plotly_react",{data:Te,layout:Re}),le})},B.redraw=function(le){if(le=S.getGraphDiv(le),!S.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le);return m.cleanData(le.data),m.cleanLayout(le.layout),le.calcdata=void 0,B._doPlot(le).then(function(){return le.emit("plotly_redraw"),le})},B.relayout=se,B.restyle=N,B.setPlotConfig=function(le){return S.extendFlat(T,le)},B.update=he,B._guiRelayout=ve(se),B._guiRestyle=ve(N),B._guiUpdate=ve(he),B._storeDirectGUIEdit=function(le,Te,Re){for(var De in Re)H(De,M(le,De).get(),Re[De],Te)}},72075:function(ae){"use strict";var B={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},r={};(function D(E,d){for(var S in E){var M=E[S];M.valType?d[S]=M.dflt:(d[S]||(d[S]={}),D(M,d[S]))}})(B,r),ae.exports={configAttributes:B,dfltConfig:r}},86281:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(9012),S=r(10820),M=r(31391),v=r(85594),u=r(72075).configAttributes,i=r(30962),s=E.extendDeepAll,a=E.isPlainObject,o=E.isArrayOrTypedArray,l=E.nestedProperty,c=E.valObjectMeta,f="_isSubplotObj",g="_isLinkedToArray",h="_deprecated",T=[f,g,"_arrayAttrRegexps",h];function x(p,I,k){if(!p)return!1;if(p._isLinkedToArray)if(m(I[k]))k++;else if(k<I.length)return!1;for(;k<I.length;k++){var L=p[I[k]];if(!a(L)||(p=L,k===I.length-1))break;if(p._isLinkedToArray){if(!m(I[++k]))return!1}else if("info_array"===p.valType){var O=I[++k];if(!m(O))return!1;var P=p.items;if(Array.isArray(P)){if(O>=P.length)return!1;if(2===p.dimensions){if(k++,I.length===k)return p;var F=I[k];if(!m(F))return!1;p=P[O][F]}else p=P[O]}else p=P}}return p}function m(p){return p===Math.round(p)&&p>=0}function b(){var p,I,k={};for(p in s(k,S),D.subplotsRegistry)if((I=D.subplotsRegistry[p]).layoutAttributes)if(Array.isArray(I.attr))for(var L=0;L<I.attr.length;L++)w(k,I,I.attr[L]);else w(k,I,"subplot"===I.attr?I.name:I.attr);for(p in D.componentsRegistry){var O=(I=D.componentsRegistry[p]).schema;if(O&&(O.subplots||O.layout)){var P=O.subplots;if(P&&P.xaxis&&!P.yaxis)for(var F in P.xaxis)delete k.yaxis[F];delete k.xaxis.shift,delete k.xaxis.autoshift}else"colorscale"===I.name?s(k,I.layoutAttributes):I.layoutAttributes&&A(k,I.layoutAttributes,I.name)}return{layoutAttributes:_(k)}}function _(p){return B.crawl(p,function(k,L,O){B.isValObject(k)?!0!==k.arrayOk&&"data_array"!==k.valType||(O[L+"src"]={valType:"string",editType:"none"}):a(k)&&(k.role="object")}),B.crawl(p,function(k,L,O){if(k){var P=k[g];P&&(delete k[g],O[L]={items:{}},O[L].items[P]=k,O[L].role="object")}}),function(I){!function k(L){for(var O in L)if(a(L[O]))k(L[O]);else if(Array.isArray(L[O]))for(var P=0;P<L[O].length;P++)k(L[O][P]);else L[O]instanceof RegExp&&(L[O]=L[O].toString())}(I)}(p),p}function w(p,I,k){var L=l(p,k),O=s({},I.layoutAttributes);O[f]=!0,L.set(O)}function A(p,I,k){var L=l(p,k);L.set(s(L.get()||{},I))}B.IS_SUBPLOT_OBJ=f,B.IS_LINKED_TO_ARRAY=g,B.DEPRECATED=h,B.UNDERSCORE_ATTRS=T,B.get=function(){var p={};D.allTypes.forEach(function(L){p[L]=function(O){var P,F;F=(P=D.modules[O]._module).basePlotModule;var j={type:null},X=s({},d),N=s({},P.attributes);B.crawl(N,function(H,Z,$,se,ne){l(X,ne).set(void 0),void 0===H&&l(N,ne).set(void 0)}),s(j,X),D.traceIs(O,"noOpacity")&&delete j.opacity,D.traceIs(O,"showLegend")||(delete j.showlegend,delete j.legendgroup),D.traceIs(O,"noHover")&&(delete j.hoverinfo,delete j.hoverlabel),P.selectPoints||delete j.selectedpoints,s(j,N),F.attributes&&s(j,F.attributes),j.type=O;var q={meta:P.meta||{},categories:P.categories||{},animatable:Boolean(P.animatable),type:O,attributes:_(j)};if(P.layoutAttributes){var G={};s(G,P.layoutAttributes),q.layoutAttributes=_(G)}return P.animatable||B.crawl(q,function(H){B.isValObject(H)&&"anim"in H&&delete H.anim}),q}(L)});var I,k={};return Object.keys(D.transformsRegistry).forEach(function(L){var O,F;k[L]=(F=s({},D.transformsRegistry[O=L].attributes),Object.keys(D.componentsRegistry).forEach(function(j){var X=D.componentsRegistry[j];X.schema&&X.schema.transforms&&X.schema.transforms[O]&&Object.keys(X.schema.transforms[O]).forEach(function(N){A(F,X.schema.transforms[O][N],N)})}),{attributes:_(F)})}),{defs:{valObjects:c,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:i.traces,layout:i.layout},impliedEdits:{}},traces:p,layout:b(),transforms:k,frames:(I={frames:s({},M)},_(I),I.frames),animation:_(v),config:_(u)}},B.crawl=function(p,I,k,L){var O=k||0;L=L||"",Object.keys(p).forEach(function(P){var F=p[P];if(-1===T.indexOf(P)){var j=(L?L+".":"")+P;I(F,P,p,O,j),B.isValObject(F)||a(F)&&"impliedEdits"!==P&&B.crawl(F,I,O+1,j)}})},B.isValObject=function(p){return p&&void 0!==p.valType},B.findArrayAttributes=function(p){var I,k,L=[],O=[],P=[];function F(H,Z,$,se){O=O.slice(0,se).concat([Z]),P=P.slice(0,se).concat([H&&H._isLinkedToArray]),H&&("data_array"===H.valType||!0===H.arrayOk)&&("colorbar"!==O[se-1]||"ticktext"!==Z&&"tickvals"!==Z)&&j(I,0,"")}function j(H,Z,$){var se=H[O[Z]],ne=$+O[Z];if(Z===O.length-1)o(se)&&L.push(k+ne);else if(P[Z]){if(Array.isArray(se))for(var re=0;re<se.length;re++)a(se[re])&&j(se[re],Z+1,ne+"["+re+"].")}else a(se)&&j(se,Z+1,ne+".")}I=p,k="",B.crawl(d,F),p._module&&p._module.attributes&&B.crawl(p._module.attributes,F);var X=p.transforms;if(X)for(var N=0;N<X.length;N++){var q=X[N],G=q._module;G&&(k="transforms["+N+"].",I=q,B.crawl(G.attributes,F))}return L},B.getTraceValObject=function(p,I){var k,L,O=I[0],P=1;if("transforms"===O){if(1===I.length)return d.transforms;var F=p.transforms;if(!Array.isArray(F)||!F.length)return!1;var j=I[1];if(!m(j)||j>=F.length)return!1;L=(k=(D.transformsRegistry[F[j].type]||{}).attributes)&&k[I[2]],P=3}else{var X=p._module;if(X||(X=(D.modules[p.type||d.type.dflt]||{})._module),!X)return!1;if(!(L=(k=X.attributes)&&k[O])){var N=X.basePlotModule;N&&N.attributes&&(L=N.attributes[O])}L||(L=d[O])}return x(L,I,P)},B.getLayoutValObject=function(p,I){return x(function(L,O){var P,F,j,X,N=L._basePlotModules;if(N){var q;for(P=0;P<N.length;P++){if((j=N[P]).attrRegex&&j.attrRegex.test(O)){if(j.layoutAttrOverrides)return j.layoutAttrOverrides;!q&&j.layoutAttributes&&(q=j.layoutAttributes)}var G=j.baseLayoutAttrOverrides;if(G&&O in G)return G[O]}if(q)return q}var H=L._modules;if(H)for(P=0;P<H.length;P++)if((X=H[P].layoutAttributes)&&O in X)return X[O];for(F in D.componentsRegistry){if("colorscale"===(j=D.componentsRegistry[F]).name&&0===O.indexOf("coloraxis"))return j.layoutAttributes[O];if(!j.schema&&O===j.name)return j.layoutAttributes}return O in S&&S[O]}(p,I[0]),I,1)}},44467:function(ae,B,r){"use strict";var D=r(71828),E=r(9012),d="templateitemname",S={name:{valType:"string",editType:"none"}};function M(u){return u&&"string"==typeof u}function v(u){return"s"!==u.charAt(u.length-1)&&D.warn("bad argument to arrayDefaultKey: "+u),u.substr(0,u.length-1)+"defaults"}S[d]={valType:"string",editType:"calc"},B.templatedArray=function(u,i){return i._isLinkedToArray=u,i.name=S.name,i[d]=S[d],i},B.traceTemplater=function(u){var i,s,a={};for(i in u)s=u[i],Array.isArray(s)&&s.length&&(a[i]=0);return{newTrace:function(o){var l={type:i=D.coerce(o,{},E,"type"),_template:null};if(i in a){var c=a[i]%(s=u[i]).length;a[i]++,l._template=s[c]}return l}}},B.newContainer=function(u,i,s){var a=u._template,o=a&&(a[i]||s&&a[s]);return D.isPlainObject(o)||(o=null),u[i]={_template:o}},B.arrayTemplater=function(u,i,s){var a=u._template,o=a&&a[v(i)],l=a&&a[i];Array.isArray(l)&&l.length||(l=[]);var c={};return{newItem:function(f){var g={name:f.name,_input:f},h=g[d]=f[d];if(!M(h))return g._template=o,g;for(var T=0;T<l.length;T++){var x=l[T];if(x.name===h)return c[h]=1,g._template=x,g}return g[s]=f[s]||!1,g._template=!1,g},defaultItems:function(){for(var f=[],g=0;g<l.length;g++){var h=l[g],T=h.name;if(M(T)&&!c[T]){var x={_template:h,name:T,_input:{_templateitemname:T}};x[d]=h[d],f.push(x),c[T]=1}}return f}}},B.arrayDefaultKey=v,B.arrayEditor=function(u,i,s){var a=(D.nestedProperty(u,i).get()||[]).length,o=s._index,l=o>=a&&(s._input||{})._templateitemname;l&&(o=a);var c,f=i+"["+o+"]";function g(){c={},l&&(c[f]={},c[f][d]=l)}function h(x,m){l?D.nestedProperty(c[f],x).set(m):c[f+"."+x]=m}function T(){var x=c;return g(),x}return g(),{modifyBase:function(x,m){c[x]=m},modifyItem:h,getUpdateObj:T,applyUpdate:function(x,m){x&&h(x,m);var b=T();for(var _ in b)D.nestedProperty(u,_).set(b[_])}}}},61549:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(74875),S=r(71828),M=r(63893),v=r(33306),u=r(7901),i=r(91424),s=r(92998),a=r(64168),o=r(89298),l=r(18783),c=r(99082),f=c.enforce,g=c.clean,h=r(71739).doAutoRange,T="start";function x(A,p,I){for(var k=0;k<I.length;k++){var L=I[k][0],O=I[k][1];if(!(L[0]>=A[1]||L[1]<=A[0])&&O[0]<p[1]&&O[1]>p[0])return!0}return!1}function m(A){var p,I,k,L,O,P,F=A._fullLayout,j=F._size,X=j.p,N=o.list(A,"",!0);if(F._paperdiv.style({width:A._context.responsive&&F.autosize&&!A._context._hasZeroWidth&&!A.layout.width?"100%":F.width+"px",height:A._context.responsive&&F.autosize&&!A._context._hasZeroHeight&&!A.layout.height?"100%":F.height+"px"}).selectAll(".main-svg").call(i.setSize,F.width,F.height),A._context.setBackground(A,F.paper_bgcolor),B.drawMainTitle(A),a.manage(A),!F._has("cartesian"))return d.previousPromises(A);function q(He,Je,et){var st=He._lw/2;return"x"===He._id.charAt(0)?Je?"top"===et?Je._offset-X-st:Je._offset+Je._length+X+st:j.t+j.h*(1-(He.position||0))+st%1:Je?"right"===et?Je._offset+Je._length+X+st:Je._offset-X-st:j.l+j.w*(He.position||0)+st%1}for(p=0;p<N.length;p++){var G=(L=N[p])._anchorAxis;L._linepositions={},L._lw=i.crispRound(A,L.linewidth,1),L._mainLinePosition=q(L,G,L.side),L._mainMirrorPosition=L.mirror&&G?q(L,G,l.OPPOSITE_SIDE[L.side]):null}var H=[],Z=[],$=[],se=1===u.opacity(F.paper_bgcolor)&&1===u.opacity(F.plot_bgcolor)&&F.paper_bgcolor===F.plot_bgcolor;for(I in F._plots)if((k=F._plots[I]).mainplot)k.bg&&k.bg.remove(),k.bg=void 0;else{var ne=k.xaxis.domain,re=k.yaxis.domain,Q=k.plotgroup;if(x(ne,re,$)){var ee=Q.node(),oe=k.bg=S.ensureSingle(Q,"rect","bg");ee.insertBefore(oe.node(),ee.childNodes[0]),Z.push(I)}else Q.select("rect.bg").remove(),$.push([ne,re]),se||(H.push(I),Z.push(I))}var ce,ue,he,ve,ke,Ie,Me,_e,we,ze,Ee,Se,me,fe=F._bgLayer.selectAll(".bg").data(H);for(fe.enter().append("rect").classed("bg",!0),fe.exit().remove(),fe.each(function(He){F._plots[He].bg=D.select(this)}),p=0;p<Z.length;p++)O=(k=F._plots[Z[p]]).xaxis,P=k.yaxis,k.bg&&void 0!==O._offset&&void 0!==P._offset&&k.bg.call(i.setRect,O._offset-X,P._offset-X,O._length+2*X,P._length+2*X).call(u.fill,F.plot_bgcolor).style("stroke-width",0);if(!F._hasOnlyLargeSploms)for(I in F._plots){O=(k=F._plots[I]).xaxis,P=k.yaxis;var le,Te,Re=k.clipId="clip"+F._uid+I+"plot",De=S.ensureSingleById(F._clips,"clipPath",Re,function(He){He.classed("plotclip",!0).append("rect")});k.clipRect=De.select("rect").attr({width:O._length,height:P._length}),i.setTranslate(k.plot,O._offset,P._offset),k._hasClipOnAxisFalse?(le=null,Te=Re):(le=Re,Te=null),i.setClipUrl(k.plot,le,A),k.layerClipId=Te}function Ue(He){return"M"+ce+","+He+"H"+ue}function Ze(He){return"M"+O._offset+","+He+"h"+O._length}function xe(He){return"M"+He+","+_e+"V"+Me}function Oe(He){return void 0!==P._shift&&(He+=P._shift),"M"+He+","+P._offset+"v"+P._length}function Ce(He,Je,et){if(!He.showline||I!==He._mainSubplot)return"";if(!He._anchorAxis)return et(He._mainLinePosition);var st=Je(He._mainLinePosition);return He.mirror&&(st+=Je(He._mainMirrorPosition)),st}for(I in F._plots){P=(k=F._plots[I]).yaxis;var Be="M0,0";b(O=k.xaxis,I)&&(ke=w(O,"left",P,N),ce=O._offset-(ke?X+ke:0),Ie=w(O,"right",P,N),ue=O._offset+O._length+(Ie?X+Ie:0),he=q(O,P,"bottom"),ve=q(O,P,"top"),!(me=!O._anchorAxis||I!==O._mainSubplot)||"allticks"!==O.mirror&&"all"!==O.mirror||(O._linepositions[I]=[he,ve]),Be=Ce(O,Ue,Ze),me&&O.showline&&("all"===O.mirror||"allticks"===O.mirror)&&(Be+=Ue(he)+Ue(ve)),k.xlines.style("stroke-width",O._lw+"px").call(u.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),k.xlines.attr("d",Be);var qe="M0,0";b(P,I)&&(Ee=w(P,"bottom",O,N),Me=P._offset+P._length+(Ee?X:0),Se=w(P,"top",O,N),_e=P._offset-(Se?X:0),we=q(P,O,"left"),ze=q(P,O,"right"),!(me=!P._anchorAxis||I!==P._mainSubplot)||"allticks"!==P.mirror&&"all"!==P.mirror||(P._linepositions[I]=[we,ze]),qe=Ce(P,xe,Oe),me&&P.showline&&("all"===P.mirror||"allticks"===P.mirror)&&(qe+=xe(we)+xe(ze)),k.ylines.style("stroke-width",P._lw+"px").call(u.stroke,P.showline?P.linecolor:"rgba(0,0,0,0)")),k.ylines.attr("d",qe)}return o.makeClipPaths(A),d.previousPromises(A)}function b(A,p){return(A.ticks||A.showline)&&(p===A._mainSubplot||"all"===A.mirror||"allticks"===A.mirror)}function _(A,p,I){if(!I.showline||!I._lw)return!1;if("all"===I.mirror||"allticks"===I.mirror)return!0;var k=I._anchorAxis;if(!k)return!1;var L=l.FROM_BL[p];return I.side===p?k.domain[L]===A.domain[L]:I.mirror&&k.domain[1-L]===A.domain[1-L]}function w(A,p,I,k){if(_(A,p,I))return I._lw;for(var L=0;L<k.length;L++){var O=k[L];if(O._mainAxis===I._mainAxis&&_(A,p,O))return O._lw}return 0}B.layoutStyles=function(A){return S.syncOrAsync([d.doAutoMargin,m],A)},B.drawMainTitle=function(A){var p,G,H,I=A._fullLayout.title,k=A._fullLayout,L=(H="middle",S.isRightAnchor(G=k.title)?H="end":S.isLeftAnchor(G)&&(H=T),H),O=function(q){var G=q.title,H="0em";return S.isTopAnchor(G)?H=l.CAP_SHIFT+"em":S.isMiddleAnchor(G)&&(H=l.MID_SHIFT+"em"),H}(k),P=function(q,G){var H=q.title,Z=q._size,$=0;return"0em"!==G&&G?G===l.CAP_SHIFT+"em"&&($=H.pad.t):$=-H.pad.b,"auto"===H.y?Z.t/2:"paper"===H.yref?Z.t+Z.h-Z.h*H.y+$:q.height-q.height*H.y+$}(k,O),F=function(q,G){var H=q.title,Z=q._size,$=0;return G===T?$=H.pad.l:"end"===G&&($=-H.pad.r),"paper"===H.xref?Z.l+Z.w*H.x+$:q.width*H.x+$}(k,L);if(s.draw(A,"gtitle",{propContainer:k,propName:"title.text",placeholder:k._dfltTitle.plot,attributes:{x:F,y:P,"text-anchor":L,dy:O}}),I.text&&I.automargin){var j=D.selectAll(".gtitle"),X=i.bBox(j.node()).height,N=function(q,G,H){var ee,oe,ce,ue,he,Z=G.y,se=Z>.5?"t":"b",re=0;return"paper"===G.yref?re=H+G.pad.t+G.pad.b:"container"===G.yref&&(ee=Z,ce=q._fullLayout.height,ue=H,he=0,"middle"===(oe=G.yanchor)&&(he+=ue/2),"t"===se?("top"===oe&&(he+=ue),he+=ce-ee*ce):("bottom"===oe&&(he+=ue),he+=ee*ce),re=he+G.pad.t+G.pad.b),re>q._fullLayout.margin[se]?re:0}(A,I,X);N>0&&(function(q,G,H,Z){var ee,oe,ce,ue,he,ve,ke,Ie,$="title.automargin",se=q._fullLayout.title,ne=se.y>.5?"t":"b",re={x:se.x,y:se.y,t:0,b:0},Q={};"paper"===se.yref&&(ee=q,ce=ne,ue=G,he=Z,ve="paper"===(oe=se).yref?ee._fullLayout._size.h:ee._fullLayout.height,ke=S.isTopAnchor(oe)?ue:ue-he,Ie="b"===ce?ve-ke:ke,!(S.isTopAnchor(oe)&&"t"===ce||S.isBottomAnchor(oe)&&"b"===ce)&&Ie<he)?re[ne]=H:"container"===se.yref&&(Q[ne]=H,q._fullLayout._reservedMargin[$]=Q),d.allowAutoMargin(q,$),d.autoMargin(q,$,re)}(A,P,N,X),j.attr({x:F,y:P,"text-anchor":L,dy:(p=I.yanchor,"top"===p?l.CAP_SHIFT+.3+"em":"bottom"===p?"-0.3em":l.MID_SHIFT+"em")}).call(M.positionText,F,P))}},B.doTraceStyle=function(A){var p,I=A.calcdata,k=[];for(p=0;p<I.length;p++){var L=I[p],O=L[0]||{},P=O.trace||{},F=P._module||{},j=F.arraysToCalcdata;j&&j(L,P);var X=F.editStyle;X&&k.push({fn:X,cd0:O})}if(k.length){for(p=0;p<k.length;p++){var N=k[p];N.fn(A,N.cd0)}v(A),B.redrawReglTraces(A)}return d.style(A),E.getComponentMethod("legend","draw")(A),d.previousPromises(A)},B.doColorBars=function(A){return E.getComponentMethod("colorbar","draw")(A),d.previousPromises(A)},B.layoutReplot=function(A){var p=A.layout;return A.layout=void 0,E.call("_doPlot",A,"",p)},B.doLegend=function(A){return E.getComponentMethod("legend","draw")(A),d.previousPromises(A)},B.doTicksRelayout=function(A){return o.draw(A,"redraw"),A._fullLayout._hasOnlyLargeSploms&&(E.subplotsRegistry.splom.updateGrid(A),v(A),B.redrawReglTraces(A)),B.drawMainTitle(A),d.previousPromises(A)},B.doModeBar=function(A){var p=A._fullLayout;a.manage(A);for(var I=0;I<p._basePlotModules.length;I++){var k=p._basePlotModules[I].updateFx;k&&k(A)}return d.previousPromises(A)},B.doCamera=function(A){for(var p=A._fullLayout,I=p._subplots.gl3d,k=0;k<I.length;k++){var L=p[I[k]];L._scene.setViewport(L)}},B.drawData=function(A){var p=A._fullLayout;v(A);for(var I=p._basePlotModules,k=0;k<I.length;k++)I[k].plot(A);return B.redrawReglTraces(A),d.style(A),E.getComponentMethod("selections","draw")(A),E.getComponentMethod("shapes","draw")(A),E.getComponentMethod("annotations","draw")(A),E.getComponentMethod("images","draw")(A),p._replotting=!1,d.previousPromises(A)},B.redrawReglTraces=function(A){var p=A._fullLayout;if(p._has("regl")){var I,k,L=A._fullData,O=[],P=[];for(p._hasOnlyLargeSploms&&p._splomGrid.draw(),I=0;I<L.length;I++){var F=L[I];!0===F.visible&&0!==F._length&&("splom"===F.type?p._splomScenes[F.uid].draw():"scattergl"===F.type?S.pushUnique(O,F.xaxis+F.yaxis):"scatterpolargl"===F.type&&S.pushUnique(P,F.subplot))}for(I=0;I<O.length;I++)(k=p._plots[O[I]])._scene&&k._scene.draw();for(I=0;I<P.length;I++)(k=p[P[I]]._subplot)._scene&&k._scene.draw()}},B.doAutoRangeAndConstraints=function(A){for(var p,I=o.list(A,"",!0),k={},L=0;L<I.length;L++)if(!k[(p=I[L])._id]){k[p._id]=1,g(A,p),h(A,p);var O=p._matchGroup;if(O)for(var P in O){var F=o.getFromId(A,P);h(A,F,p.range),k[P]=1}}f(A)},B.finalDraw=function(A){E.getComponentMethod("rangeslider","draw")(A),E.getComponentMethod("rangeselector","draw")(A)},B.drawMarginPushers=function(A){E.getComponentMethod("legend","draw")(A),E.getComponentMethod("rangeselector","draw")(A),E.getComponentMethod("sliders","draw")(A),E.getComponentMethod("updatemenus","draw")(A),E.getComponentMethod("colorbar","draw")(A)}},96318:function(ae,B,r){"use strict";var D=r(71828),E=D.isPlainObject,d=r(86281),S=r(74875),M=r(9012),v=r(44467),u=r(72075).dfltConfig;function i(h,T){h=D.extendDeep({},h);var x,m,b=Object.keys(h).sort();function _(k,L,O){if(E(L)&&E(k))i(k,L);else if(Array.isArray(L)&&Array.isArray(k)){var P=v.arrayTemplater({_template:h},O);for(m=0;m<L.length;m++){var F=L[m],j=P.newItem(F)._template;j&&i(j,F)}var X=P.defaultItems();for(m=0;m<X.length;m++)L.push(X[m]._template);for(m=0;m<L.length;m++)delete L[m].templateitemname}}for(x=0;x<b.length;x++){var w=b[x],A=h[w];if(w in T?_(A,T[w],w):T[w]=A,s(w)===w)for(var p in T){var I=s(p);p===I||I!==w||p in h||_(A,T[p],w)}}}function s(h){return h.replace(/[0-9]+$/,"")}function a(h,T,x,m,b){var _=b&&x(b);for(var w in h){var A=h[w],p=c(h,w,m),I=c(h,w,b),k=x(I);if(!k){var L=s(w);L!==w&&(k=x(I=c(h,L,b)))}if(!(_&&_===k||!k||k._noTemplating||"data_array"===k.valType||k.arrayOk&&Array.isArray(A)))if(!k.valType&&E(A))a(A,T,x,p,I);else if(k._isLinkedToArray&&Array.isArray(A))for(var O=!1,P=0,F={},j=0;j<A.length;j++){var X=A[j];if(E(X)){var N=X.name;if(N)F[N]||(a(X,T,x,c(A,P,p),c(A,P,I)),P++,F[N]=1);else if(!O){var q=c(h,v.arrayDefaultKey(w),m),G=c(A,P,p);a(X,T,x,G,c(A,P,I));var H=D.nestedProperty(T,G);D.nestedProperty(T,q).set(H.get()),H.set(null),O=!0}}}else D.nestedProperty(T,p).set(A)}}function o(h,T){return d.getLayoutValObject(h,D.nestedProperty({},T).parts)}function l(h,T){return d.getTraceValObject(h,D.nestedProperty({},T).parts)}function c(h,T,x){return x?Array.isArray(h)?x+"["+T+"]":x+"."+T:T}function f(h){for(var T=0;T<h.length;T++)if(E(h[T]))return!0}function g(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":T=h.path?"There are no templates for item "+h.path+" with name "+h.templateitemname:"There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":T=h.path?"The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?"Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":"The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type."}return h.msg=T,h}B.makeTemplate=function(h){h=D.isPlainObject(h)?h:D.getGraphDiv(h),h=D.extendDeep({_context:u},{data:h.data,layout:h.layout}),S.supplyDefaults(h);var T=h.data||[],x=h.layout||{};x._basePlotModules=h._fullLayout._basePlotModules,x._modules=h._fullLayout._modules;var m={data:{},layout:{}};T.forEach(function(P){var F={};a(P,F,l.bind(null,P));var j=D.coerce(P,{},M,"type"),X=m.data[j];X||(X=m.data[j]=[]),X.push(F)}),a(x,m.layout,o.bind(null,x)),delete m.layout.template;var b=x.template;if(E(b)){var _,w,A,p,I,k,L=b.layout;E(L)&&i(L,m.layout);var O=b.data;if(E(O)){for(w in m.data)if(A=O[w],Array.isArray(A)){for(k=(I=m.data[w]).length,p=A.length,_=0;_<k;_++)i(A[_%p],I[_]);for(_=k;_<p;_++)I.push(D.extendDeep({},A[_]))}for(w in O)w in m.data||(m.data[w]=D.extendDeep([],O[w]))}}return m},B.validateTemplate=function(h,T){var x=D.extendDeep({},{_context:u,data:h.data,layout:h.layout}),m=x.layout||{};E(T)||(T=m.template||{});var b=T.layout,_=T.data,w=[];x.layout=m,x.layout.template=T,S.supplyDefaults(x);var A=x._fullLayout,p=x._fullData,I={};if(E(b)?(function X(N,q){for(var G in N)if("_"!==G.charAt(0)&&E(N[G])){var H,Z=s(G),$=[];for(H=0;H<q.length;H++)$.push(c(N,G,q[H])),Z!==G&&$.push(c(N,Z,q[H]));for(H=0;H<$.length;H++)I[$[H]]=1;X(N[G],$)}}(A,["layout"]),function X(N,q){for(var G in N)if(-1===G.indexOf("defaults")&&E(N[G])){var H=c(N,G,q);I[H]?X(N[G],H):w.push({code:"unused",path:H})}}(b,"layout")):w.push({code:"layout"}),E(_)){for(var k,L={},O=0;O<p.length;O++){var P=p[O];L[k=P.type]=(L[k]||0)+1,P._fullInput._template||w.push({code:"missing",index:P._fullInput.index,traceType:k})}for(k in _){var F=_[k].length,j=L[k]||0;F>j?w.push({code:"unused",traceType:k,templateCount:F,dataCount:j}):j>F&&w.push({code:"reused",traceType:k,templateCount:F,dataCount:j})}}else w.push({code:"data"});if(function X(N,q){for(var G in N)if("_"!==G.charAt(0)){var H=N[G],Z=c(N,G,q);E(H)?(Array.isArray(N)&&!1===H._template&&H.templateitemname&&w.push({code:"missing",path:Z,templateitemname:H.templateitemname}),X(H,Z)):Array.isArray(H)&&f(H)&&X(H,Z)}}({data:p,layout:A},""),w.length)return w.map(g)}},403:function(ae,B,r){"use strict";var D=r(92770),E=r(72391),d=r(74875),S=r(71828),M=r(25095),v=r(5900),u=r(70942),i=r(11506).version,s={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ae.exports=function(a,o){var l,c,f,g;function h(j){return!(j in o)||S.validate(o[j],s[j])}if(o=o||{},S.isPlainObject(a)?(l=a.data||[],c=a.layout||{},f=a.config||{},g={}):(a=S.getGraphDiv(a),l=S.extendDeep([],a.data),c=S.extendDeep({},a.layout),f=a._context,g=a._fullLayout||{}),!h("width")&&null!==o.width||!h("height")&&null!==o.height)throw new Error("Height and width should be pixel values.");if(!h("format"))throw new Error("Export format is not "+S.join2(s.format.values,", "," or ")+".");var T={};function x(j,X){return S.coerce(o,T,s,j,X)}var m=x("format"),b=x("width"),_=x("height"),w=x("scale"),A=x("setBackground"),p=x("imageDataOnly"),I=document.createElement("div");I.style.position="absolute",I.style.left="-5000px",document.body.appendChild(I);var k=S.extendFlat({},c);b?k.width=b:null===o.width&&D(g.width)&&(k.width=g.width),_?k.height=_:null===o.height&&D(g.height)&&(k.height=g.height);var L=S.extendFlat({},f,{_exportedPlot:!0,staticPlot:!0,setBackground:A}),O=M.getRedrawFunc(I);function P(){return new Promise(function(j){setTimeout(j,M.getDelay(I._fullLayout))})}function F(){return new Promise(function(j,X){var N=v(I,m,w),q=I._fullLayout.width,G=I._fullLayout.height;function H(){E.purge(I),document.body.removeChild(I)}if("full-json"===m){var Z=d.graphJson(I,!1,"keepdata","object",!0,!0);return Z.version=i,Z=JSON.stringify(Z),H(),j(p?Z:M.encodeJSON(Z))}if(H(),"svg"===m)return j(p?N:M.encodeSVG(N));var $=document.createElement("canvas");$.id=S.randstr(),u({format:m,width:q,height:G,scale:w,canvas:$,svg:N,promise:!0}).then(j).catch(X)})}return new Promise(function(j,X){E.newPlot(I,l,k,L).then(O).then(P).then(F).then(function(N){var q;j((q=N,p?q.replace(M.IMAGE_URL_PREFIX,""):q))}).catch(function(N){X(N)})})}},84936:function(ae,B,r){"use strict";var D=r(71828),E=r(74875),d=r(86281),S=r(72075).dfltConfig,M=D.isPlainObject,v=Array.isArray,u=D.isArrayOrTypedArray;function i(h,T,x,m,b,_){_=_||[];for(var w=Object.keys(h),A=0;A<w.length;A++){var p=w[A];if("transforms"!==p){var I=_.slice();I.push(p);var k=h[p],L=T[p],O=c(x,p),P=(O||{}).valType,F="info_array"===P,j="colorscale"===P,X=(O||{}).items;if(l(x,p))if(M(k)&&M(L)&&"any"!==P)i(k,L,O,m,b,I);else if(F&&v(k)){k.length>L.length&&m.push(o("unused",b,I.concat(L.length)));var N,q,H,Z,$=L.length,se=Array.isArray(X);if(se&&($=Math.min($,X.length)),2===O.dimensions)for(q=0;q<$;q++)if(v(k[q])){k[q].length>L[q].length&&m.push(o("unused",b,I.concat(q,L[q].length)));var ne=L[q].length;for(N=0;N<(se?Math.min(ne,X[q].length):ne);N++)Z=L[q][N],D.validate(H=k[q][N],se?X[q][N]:X)?Z!==H&&Z!==+H&&m.push(o("dynamic",b,I.concat(q,N),H,Z)):m.push(o("value",b,I.concat(q,N),H))}else m.push(o("array",b,I.concat(q),k[q]));else for(q=0;q<$;q++)Z=L[q],D.validate(H=k[q],se?X[q]:X)?Z!==H&&Z!==+H&&m.push(o("dynamic",b,I.concat(q),H,Z)):m.push(o("value",b,I.concat(q),H))}else if(O.items&&!F&&v(k)){var re,Q,ee=X[Object.keys(X)[0]],oe=[];for(re=0;re<L.length;re++){var ce=L[re]._index||re;if((Q=I.slice()).push(ce),M(k[ce])&&M(L[re])){oe.push(ce);var ue=k[ce],he=L[re];M(ue)&&!1!==ue.visible&&!1===he.visible?m.push(o("invisible",b,Q)):i(ue,he,ee,m,b,Q)}}for(re=0;re<k.length;re++)(Q=I.slice()).push(re),M(k[re])?-1===oe.indexOf(re)&&m.push(o("unused",b,Q)):m.push(o("object",b,Q,k[re]))}else!M(k)&&M(L)?m.push(o("object",b,I,k)):u(k)||!u(L)||F||j?p in T?D.validate(k,O)?"enumerated"===O.valType&&(O.coerceNumber&&k!==+L||k!==L)&&m.push(o("dynamic",b,I,k,L)):m.push(o("value",b,I,k)):m.push(o("unused",b,I,k)):m.push(o("array",b,I,k));else m.push(o("schema",b,I))}}return m}ae.exports=function(h,T){void 0===h&&(h=[]),void 0===T&&(T={});var x,m,b=d.get(),_=[],w={_context:D.extendFlat({},S)};v(h)?(w.data=D.extendDeep([],h),x=h):(w.data=[],x=[],_.push(o("array","data"))),M(T)?(w.layout=D.extendDeep({},T),m=T):(w.layout={},m={},arguments.length>1&&_.push(o("object","layout"))),E.supplyDefaults(w);for(var A=w._fullData,p=x.length,I=0;I<p;I++){var k=x[I],L=["data",I];if(M(k)){var O=A[I],P=O.type,F=b.traces[P].attributes;F.type={valType:"enumerated",values:[P]},!1===O.visible&&!1!==k.visible&&_.push(o("invisible",L)),i(k,O,F,_,L);var j=k.transforms,X=O.transforms;if(j){v(j)||_.push(o("array",L,["transforms"])),L.push("transforms");for(var N=0;N<j.length;N++){var q=["transforms",N],G=j[N].type;if(M(j[N])){var H=b.transforms[G]?b.transforms[G].attributes:{};H.type={valType:"enumerated",values:Object.keys(b.transforms)},i(j[N],X[N],H,_,L,q)}else _.push(o("object",L,q))}}}else _.push(o("object",L))}return i(m,w._fullLayout,function(se,ne){for(var re=se.layout.layoutAttributes,Q=0;Q<ne.length;Q++){var ee=ne[Q],oe=se.traces[ee.type],ce=oe.layoutAttributes;ce&&D.extendFlat(ee.subplot?re[oe.attributes.subplot.dflt]:re,ce)}return re}(b,A),_,"layout"),0===_.length?void 0:_};var s={object:function(h,T){return("layout"===h&&""===T?"The layout argument":"data"===h[0]&&""===T?"Trace "+h[1]+" in the data argument":a(h)+"key "+T)+" must be linked to an object container"},array:function(h,T){return("data"===h?"The data argument":a(h)+"key "+T)+" must be linked to an array container"},schema:function(h,T){return a(h)+"key "+T+" is not part of the schema"},unused:function(h,T,x){var m=M(x)?"container":"key";return a(h)+m+" "+T+" did not get coerced"},dynamic:function(h,T,x,m){return[a(h)+"key",T,"(set to '"+x+"')","got reset to","'"+m+"'","during defaults."].join(" ")},invisible:function(h,T){return(T?a(h)+"item "+T:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,T,x){return[a(h)+"key "+T,"is set to an invalid value ("+x+")"].join(" ")}};function a(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function o(h,T,x,m,b){var _,w;x=x||"",v(T)?(_=T[0],w=T[1]):(_=T,w=null);var A=function(I){if(!v(I))return String(I);for(var k="",L=0;L<I.length;L++){var O=I[L];"number"==typeof O?k=k.substr(0,k.length-1)+"["+O+"]":k+=O,L<I.length-1&&(k+=".")}return k}(x),p=s[h](T,A,m,b);return D.log(p),{code:h,container:_,trace:w,path:x,astr:A,msg:p}}function l(h,T){var x=g(T),m=x.keyMinusId;return!!(m in h&&h[m]._isSubplotObj&&x.id)||T in h}function c(h,T){return T in h?h[T]:h[g(T).keyMinusId]}var f=D.counterRegex("([a-z]+)");function g(h){var T=h.match(f);return{keyMinusId:T&&T[1],id:T&&T[2]}}},85594:function(ae){"use strict";ae.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(ae,B,r){"use strict";var D=r(71828),E=r(44467);ae.exports=function(d,S,M){var v,u,i=M.name,s=M.inclusionAttr||"visible",a=S[i],o=D.isArrayOrTypedArray(d[i])?d[i]:[],l=S[i]=[],c=E.arrayTemplater(S,i,s);for(v=0;v<o.length;v++){var f=o[v];D.isPlainObject(f)?u=c.newItem(f):(u=c.newItem({}))[s]=!1,u._index=v,!1!==u[s]&&M.handleItemDefaults(f,u,S,M),l.push(u)}var g=c.defaultItems();for(v=0;v<g.length;v++)(u=g[v])._index=l.length,M.handleItemDefaults({},u,S,M,{}),l.push(u);if(D.isArrayOrTypedArray(a)){var h=Math.min(a.length,l.length);for(v=0;v<h;v++)D.relinkPrivateKeys(l[v],a[v])}return l}},9012:function(ae,B,r){"use strict";var D=r(41940),E=r(77914);ae.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:D({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:E.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=E.dateTime2ms,S=E.incrementMonth,M=r(50606).ONEAVGMONTH;ae.exports=function(v,u,i,s){if("date"!==u.type)return{vals:s};var a=v[i+"periodalignment"];if(!a)return{vals:s};var o,l=v[i+"period"];if(D(l)){if((l=+l)<=0)return{vals:s}}else if("string"==typeof l&&"M"===l.charAt(0)){var c=+l.substring(1);if(!(c>0&&Math.round(c)===c))return{vals:s};o=c}for(var f=u.calendar,g="start"===a,h="end"===a,x=d(v[i+"period0"],f)||0,m=[],b=[],_=[],w=s.length,A=0;A<w;A++){var p,I,k,L=s[A];if(o){for(p=Math.round((L-x)/(o*M)),k=S(x,o*p,f);k>L;)k=S(k,-o,f);for(;k<=L;)k=S(k,o,f);I=S(k,-o,f)}else{for(k=x+(p=Math.round((L-x)/l))*l;k>L;)k-=l;for(;k<=L;)k+=l;I=k-l}m[A]=g?I:h?k:(I+k)/2,b[A]=I,_[A]=k}return{vals:m,starts:b,ends:_}}},89502:function(ae){"use strict";ae.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(71828),S=r(50606).FP_SAFE,M=r(73972),v=r(91424),u=r(41675),i=u.getFromId,s=u.isLinked;function a(A,p){var I,k,L=[],O=A._fullLayout,P=l(O,p,0),F=l(O,p,1),j=f(A,p),X=j.min,N=j.max;if(0===X.length||0===N.length)return d.simpleMap(p.range,p.r2l);var q=X[0].val,G=N[0].val;for(I=1;I<X.length&&q===G;I++)q=Math.min(q,X[I].val);for(I=1;I<N.length&&q===G;I++)G=Math.max(G,N[I].val);var H=p.autorange,Z="reversed"===H||"min reversed"===H||"max reversed"===H;if(!Z&&p.range){var $=d.simpleMap(p.range,p.r2l);Z=$[1]<$[0]}"reversed"===p.autorange&&(p.autorange=!0);var se,ne,re,Q,ee,oe,ce=p.rangemode,ue="tozero"===ce,he="nonnegative"===ce,ve=p._length,ke=ve/10,Ie=0;for(I=0;I<X.length;I++)for(se=X[I],k=0;k<N.length;k++)(oe=(ne=N[k]).val-se.val-o(p,se.val,ne.val))>0&&((ee=ve-P(se)-F(ne))>ke?oe/ee>Ie&&(re=se,Q=ne,Ie=oe/ee):oe/ve>Ie&&(re={val:se.val,nopad:1},Q={val:ne.val,nopad:1},Ie=oe/ve));if(q===G){var Me=q-1,_e=q+1;if(ue)if(0===q)L=[0,1];else{var we=(q>0?N:X).reduce(function(Ee,Se){return Math.max(Ee,F(Se))},0),ze=q/(1-Math.min(.5,we/ve));L=q>0?[0,ze]:[ze,0]}else L=he?[Math.max(0,Me),Math.max(1,_e)]:[Me,_e]}else ue?(re.val>=0&&(re={val:0,nopad:1}),Q.val<=0&&(Q={val:0,nopad:1})):he&&(re.val-Ie*P(re)<0&&(re={val:0,nopad:1}),Q.val<=0&&(Q={val:1,nopad:1})),Ie=(Q.val-re.val-o(p,se.val,ne.val))/(ve-P(re)-F(Q)),L=[re.val-Ie*P(re),Q.val+Ie*F(Q)];return L=w(L,p),p.limitRange&&p.limitRange(),Z&&L.reverse(),d.simpleMap(L,p.l2r||Number)}function o(A,p,I){var k=0;if(A.rangebreaks)for(var L=A.locateBreaks(p,I),O=0;O<L.length;O++){var P=L[O];k+=P.max-P.min}return k}function l(A,p,I){var k=.05*p._length,L=p._anchorAxis||{};if(-1!==(p.ticklabelposition||"").indexOf("inside")||-1!==(L.ticklabelposition||"").indexOf("inside")){var O=p.isReversed();if(!O){var P=d.simpleMap(p.range,p.r2l);O=P[1]<P[0]}O&&(I=!I)}var F=0;return s(A,p._id)||(F=function(j,X,N){var q=0,G="x"===X._id.charAt(0);for(var H in j._plots){var Z=j._plots[H];if(X._id===Z.xaxis._id||X._id===Z.yaxis._id){var $=(G?Z.yaxis:Z.xaxis)||{};if(-1!==($.ticklabelposition||"").indexOf("inside")&&(!N&&("left"===$.side||"bottom"===$.side)||N&&("top"===$.side||"right"===$.side))){if($._vals){var se=d.deg2rad($._tickAngles[$._id+"tick"]||0),ne=Math.abs(Math.cos(se)),re=Math.abs(Math.sin(se));$._vals[0].bb||$._selections[$._id+"tick"].each(function(he){var ve=D.select(this);ve.select(".text-math-group").empty()&&(he.bb=v.bBox(ve.node()))});for(var ee=0;ee<$._vals.length;ee++){var oe=$._vals[ee].bb;if(oe){var ce=2*c+oe.width,ue=2*c+oe.height;q=Math.max(q,G?Math.max(ce*ne,ue*re):Math.max(ue*ne,ce*re))}}}"inside"===$.ticks&&"inside"===$.ticklabelposition&&(q+=$.ticklen||0)}}}return q}(A,p,I)),k=Math.max(F,k),"domain"===p.constrain&&p._inputDomain&&(k*=(p._inputDomain[1]-p._inputDomain[0])/(p.domain[1]-p.domain[0])),function(j){return j.nopad?0:j.pad+(j.extrapad?k:F)}}ae.exports={applyAutorangeOptions:w,getAutoRange:a,makePadFn:l,doAutoRange:function(A,p,I){if(p.setScale(),p.autorange){p.range=I?I.slice():a(A,p),p._r=p.range.slice(),p._rl=d.simpleMap(p._r,p.r2l);var k=p._input,L={};L[p._attr+".range"]=p.range,L[p._attr+".autorange"]=p.autorange,M.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,L),k.range=p.range.slice(),k.autorange=p.autorange}var O=p._anchorAxis;if(O&&O.rangeslider){var P=O.rangeslider[p._name];P&&"auto"===P.rangemode&&(P.range=a(A,p)),O._input.rangeslider[p._name]=d.extendFlat({},P)}},findExtremes:function(A,p,I){I||(I={}),A._m||A.setScale();var k,L,O,P,F,j,X,N,q,G=[],H=[],Z=p.length,$=I.padded||!1,se=I.tozero&&("linear"===A.type||"-"===A.type),ne="log"===A.type,re=!1,Q=I.vpadLinearized||!1;function ee(Me){if(Array.isArray(Me))return re=!0,function(we){return Math.max(Number(Me[we]||0),0)};var _e=Math.max(Number(Me||0),0);return function(){return _e}}var oe=ee((A._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),ce=ee((A._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),ue=ee(I.vpadplus||I.vpad),he=ee(I.vpadminus||I.vpad);if(!re){if(N=1/0,q=-1/0,ne)for(k=0;k<Z;k++)(L=p[k])<N&&L>0&&(N=L),L>q&&L<S&&(q=L);else for(k=0;k<Z;k++)(L=p[k])<N&&L>-S&&(N=L),L>q&&L<S&&(q=L);p=[N,q],Z=2}var ve={tozero:se,extrapad:$};function ke(Me){E(O=p[Me])&&(j=oe(Me),X=ce(Me),Q?(P=A.c2l(O)-he(Me),F=A.c2l(O)+ue(Me)):(N=O-he(Me),q=O+ue(Me),ne&&N<q/10&&(N=q/10),P=A.c2l(N),F=A.c2l(q)),se&&(P=Math.min(0,P),F=Math.max(0,F)),x(P)&&g(G,P,X,ve),x(F)&&h(H,F,j,ve))}var Ie=Math.min(6,Z);for(k=0;k<Ie;k++)ke(k);for(k=Z-1;k>=Ie;k--)ke(k);return{min:G,max:H,opts:I}},concatExtremes:f};var c=3;function f(A,p,I){var k,L,O,P=p._id,j=A._fullLayout,X=[],N=[];function q(se,ne){for(k=0;k<ne.length;k++){var re=se[ne[k]],Q=(re._extremes||{})[P];if(!0===re.visible&&Q){for(L=0;L<Q.min.length;L++)g(X,(O=Q.min[L]).val,O.pad,{extrapad:O.extrapad});for(L=0;L<Q.max.length;L++)h(N,(O=Q.max[L]).val,O.pad,{extrapad:O.extrapad})}}}if(q(A._fullData,p._traceIndices),q(j.annotations||[],p._annIndices||[]),q(j.shapes||[],p._shapeIndices||[]),p._matchGroup&&!I)for(var G in p._matchGroup)if(G!==p._id){var H=i(A,G),Z=f(A,H,!0),$=p._length/H._length;for(L=0;L<Z.min.length;L++)g(X,(O=Z.min[L]).val,O.pad*$,{extrapad:O.extrapad});for(L=0;L<Z.max.length;L++)h(N,(O=Z.max[L]).val,O.pad*$,{extrapad:O.extrapad})}return{min:X,max:N}}function g(A,p,I,k){T(A,p,I,k,m)}function h(A,p,I,k){T(A,p,I,k,b)}function T(A,p,I,k,L){for(var O=k.tozero,P=k.extrapad,F=!0,j=0;j<A.length&&F;j++){var X=A[j];if(L(X.val,p)&&X.pad>=I&&(X.extrapad||!P)){F=!1;break}L(p,X.val)&&X.pad<=I&&(P||!X.extrapad)&&(A.splice(j,1),j--)}if(F){var N=O&&0===p;A.push({val:p,pad:N?0:I,extrapad:!N&&P})}}function x(A){return E(A)&&Math.abs(A)<S}function m(A,p){return A<=p}function b(A,p){return A>=p}function _(A,p,I){return void 0===p||void 0===I||(p=A.d2l(p))<A.d2l(I)}function w(A,p){if(!p||!p.autorangeoptions)return A;var X,N,q,I=A[0],k=A[1],L=p.autorangeoptions.include;if(void 0!==L){var O=p.d2l(I),P=p.d2l(k);d.isArrayOrTypedArray(L)||(L=[L]);for(var F=0;F<L.length;F++){var j=p.d2l(L[F]);O>=j&&(O=j,I=j),P<=j&&(P=j,k=j)}}return X=I,I=(q=(N=p).autorangeoptions)&&void 0!==q.minallowed&&_(N,q.minallowed,q.maxallowed)?q.minallowed:q&&void 0!==q.clipmin&&_(N,q.clipmin,q.clipmax)?Math.max(X,N.d2l(q.clipmin)):X,k=function(X,N){var q=N.autorangeoptions;return q&&void 0!==q.maxallowed&&_(N,q.minallowed,q.maxallowed)?q.maxallowed:q&&void 0!==q.clipmax&&_(N,q.clipmin,q.clipmax)?Math.min(X,N.d2l(q.clipmax)):X}(k,p),[I,k]}},23074:function(ae){"use strict";ae.exports=function(B,r,D){var E,d;if(D){var S="reversed"===r||"min reversed"===r||"max reversed"===r;E=D[S?1:0],d=D[S?0:1]}var M=B("autorangeoptions.minallowed",null===d?E:void 0),v=B("autorangeoptions.maxallowed",null===E?d:void 0);void 0===M&&B("autorangeoptions.clipmin"),void 0===v&&B("autorangeoptions.clipmax"),B("autorangeoptions.include")}},89298:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(74875),S=r(73972),M=r(71828),v=M.strTranslate,u=r(63893),i=r(92998),s=r(7901),a=r(91424),o=r(13838),l=r(66287),c=r(50606),f=c.ONEMAXYEAR,g=c.ONEAVGYEAR,h=c.ONEMINYEAR,T=c.ONEMAXQUARTER,x=c.ONEAVGQUARTER,m=c.ONEMINQUARTER,b=c.ONEMAXMONTH,_=c.ONEAVGMONTH,w=c.ONEMINMONTH,A=c.ONEWEEK,p=c.ONEDAY,I=p/2,k=c.ONEHOUR,L=c.ONEMIN,O=c.ONESEC,P=c.MINUS_SIGN,F=c.BADNUM,j={K:"zeroline"},X={K:"gridline",L:"path"},N={K:"minor-gridline",L:"path"},q={K:"tick",L:"path"},G={K:"tick",L:"text"},H={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Z=r(18783),$=Z.MID_SHIFT,se=Z.CAP_SHIFT,ne=Z.LINE_SPACING,re=Z.OPPOSITE_SIDE,Q=ae.exports={};Q.setConvert=r(21994);var ee=r(4322),oe=r(41675),ce=oe.idSort,ue=oe.isLinked;Q.id2name=oe.id2name,Q.name2id=oe.name2id,Q.cleanId=oe.cleanId,Q.list=oe.list,Q.listIds=oe.listIds,Q.getFromId=oe.getFromId,Q.getFromTrace=oe.getFromTrace;var he=r(71739);Q.getAutoRange=he.getAutoRange,Q.findExtremes=he.findExtremes;var ve=1e-4;function ke(Ve){var Ge=(Ve[1]-Ve[0])*ve;return[Ve[0]-Ge,Ve[1]+Ge]}Q.coerceRef=function(Ve,Ge,ut,dt,kt,bt){var At=dt.charAt(dt.length-1),xt=ut._fullLayout._subplots[At+"axis"],Rt=dt+"ref",_t={};return kt||(kt=xt[0]||("string"==typeof bt?bt:bt[0])),bt||(bt=kt),xt=xt.concat(xt.map(function(Tt){return Tt+" domain"})),_t[Rt]={valType:"enumerated",values:xt.concat(bt?"string"==typeof bt?[bt]:bt:[]),dflt:kt},M.coerce(Ve,Ge,_t,Rt)},Q.getRefType=function(Ve){return void 0===Ve?Ve:"paper"===Ve?"paper":"pixel"===Ve?"pixel":/( domain)$/.test(Ve)?"domain":"range"},Q.coercePosition=function(Ve,Ge,ut,dt,kt,bt){var At,xt;if("range"!==Q.getRefType(dt))At=M.ensureNumber,xt=ut(kt,bt);else{var Rt=Q.getFromId(Ge,dt);xt=ut(kt,bt=Rt.fraction2r(bt)),At=Rt.cleanPos}Ve[kt]=At(xt)},Q.cleanPosition=function(Ve,Ge,ut){return("paper"===ut||"pixel"===ut?M.ensureNumber:Q.getFromId(Ge,ut).cleanPos)(Ve)},Q.redrawComponents=function(Ve,Ge){Ge=Ge||Q.listIds(Ve);var ut=Ve._fullLayout;function dt(kt,bt,At,xt){for(var Rt=S.getComponentMethod(kt,bt),_t={},Tt=0;Tt<Ge.length;Tt++)for(var It=ut[Q.id2name(Ge[Tt])][At],Wt=0;Wt<It.length;Wt++){var Zt=It[Wt];if(!_t[Zt]&&(Rt(Ve,Zt),_t[Zt]=1,xt))return}}dt("annotations","drawOne","_annIndices"),dt("shapes","drawOne","_shapeIndices"),dt("images","draw","_imgIndices",!0),dt("selections","drawOne","_selectionIndices")};var Ie=Q.getDataConversions=function(Ve,Ge,ut,dt){var kt,bt="x"===ut||"y"===ut||"z"===ut?ut:dt;if(Array.isArray(bt)){if(kt={type:ee(dt,void 0,{autotypenumbers:Ve._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert(kt),"category"===kt.type)for(var At=0;At<dt.length;At++)kt.d2c(dt[At])}else kt=Q.getFromTrace(Ve,Ge,bt);return kt?{d2c:kt.d2c,c2d:kt.c2d}:"ids"===bt?{d2c:_e,c2d:_e}:{d2c:Me,c2d:Me}};function Me(Ve){return+Ve}function _e(Ve){return String(Ve)}function we(Ve,Ge){return Math.abs((Ve/Ge+.5)%1-.5)<.001}function ze(Ve,Ge){return Math.abs(Ve/Ge-1)<.001}function Ee(Ve){return+Ve.substring(1)}function Se(Ve,Ge){return Ve.rangebreaks&&(Ge=Ge.filter(function(ut){return Ve.maskBreaks(ut.x)!==F})),Ge}function me(Ve){var Ge=Ve._mainAxis,ut=[];if(Ge._vals)for(var dt=0;dt<Ge._vals.length;dt++)if(!Ge._vals[dt].noTick){var kt=Ge.l2p(Ge._vals[dt].x),bt=Ve.p2l(kt),At=Q.tickText(Ve,bt);Ge._vals[dt].minor&&(At.minor=!0,At.text=""),ut.push(At)}return Se(Ve,ut)}function fe(Ve){var Ge=ke(M.simpleMap(Ve.range,Ve.r2l)),ut=Math.min(Ge[0],Ge[1]),dt=Math.max(Ge[0],Ge[1]),kt="category"===Ve.type?Ve.d2l_noadd:Ve.d2l;"log"===Ve.type&&"L"!==String(Ve.dtick).charAt(0)&&(Ve.dtick="L"+Math.pow(10,Math.floor(Math.min(Ve.range[0],Ve.range[1]))-1));for(var bt=[],At=0;At<=1;At++)if(!At||Ve.minor){var xt=At?Ve.minor.tickvals:Ve.tickvals,Rt=At?[]:Ve.ticktext;if(xt){Array.isArray(Rt)||(Rt=[]);for(var _t=0;_t<xt.length;_t++){var Tt=kt(xt[_t]);if(Tt>ut&&Tt<dt){var It=void 0===Rt[_t]?Q.tickText(Ve,Tt):Be(Ve,Tt,String(Rt[_t]));At&&(It.minor=!0,It.text=""),bt.push(It)}}}}return Se(Ve,bt)}Q.getDataToCoordFunc=function(Ve,Ge,ut,dt){return Ie(Ve,Ge,ut,dt).d2c},Q.counterLetter=function(Ve){var Ge=Ve.charAt(0);return"x"===Ge?"y":"y"===Ge?"x":void 0},Q.minDtick=function(Ve,Ge,ut,dt){-1===["log","category","multicategory"].indexOf(Ve.type)&&dt?void 0===Ve._minDtick?(Ve._minDtick=Ge,Ve._forceTick0=ut):Ve._minDtick&&((Ve._minDtick/Ge+1e-6)%1<2e-6&&((ut-Ve._forceTick0)/Ge%1+1.000001)%1<2e-6?(Ve._minDtick=Ge,Ve._forceTick0=ut):((Ge/Ve._minDtick+1e-6)%1>2e-6||((ut-Ve._forceTick0)/Ve._minDtick%1+1.000001)%1>2e-6)&&(Ve._minDtick=0)):Ve._minDtick=0},Q.saveRangeInitial=function(Ve,Ge){for(var ut=Q.list(Ve,"",!0),dt=!1,kt=0;kt<ut.length;kt++){var bt=ut[kt],At=void 0===bt._rangeInitial0&&void 0===bt._rangeInitial1,Rt=bt.autorange;(At&&!0!==Rt||Ge&&(At||bt.range[0]!==bt._rangeInitial0||bt.range[1]!==bt._rangeInitial1))&&(bt._rangeInitial0="min"===Rt||"max reversed"===Rt?void 0:bt.range[0],bt._rangeInitial1="max"===Rt||"min reversed"===Rt?void 0:bt.range[1],bt._autorangeInitial=Rt,dt=!0)}return dt},Q.saveShowSpikeInitial=function(Ve,Ge){for(var ut=Q.list(Ve,"",!0),dt=!1,kt="on",bt=0;bt<ut.length;bt++){var At=ut[bt],xt=void 0===At._showSpikeInitial;(xt||Ge&&(xt||At.showspikes!==At._showspikes))&&(At._showSpikeInitial=At.showspikes,dt=!0),"on"!==kt||At.showspikes||(kt="off")}return Ve._fullLayout._cartesianSpikesEnabled=kt,dt},Q.autoBin=function(Ve,Ge,ut,dt,kt,bt){var At,xt=M.aggNums(Math.min,null,Ve),Rt=M.aggNums(Math.max,null,Ve);if("category"===Ge.type||"multicategory"===Ge.type)return{start:xt-.5,end:Rt+.5,size:Math.max(1,Math.round(bt)||1),_dataSpan:Rt-xt};if(kt||(kt=Ge.calendar),At="log"===Ge.type?{type:"linear",range:[xt,Rt]}:{type:Ge.type,range:M.simpleMap([xt,Rt],Ge.c2r,0,kt),calendar:kt},Q.setConvert(At),bt=bt&&l.dtick(bt,At.type))At.dtick=bt,At.tick0=l.tick0(void 0,At.type,kt);else{var _t;if(ut)_t=(Rt-xt)/ut;else{var Tt=M.distinctVals(Ve),It=Math.pow(10,Math.floor(Math.log(Tt.minDiff)/Math.LN10)),Wt=It*M.roundUp(Tt.minDiff/It,[.9,1.9,4.9,9.9],!0);_t=Math.max(Wt,2*M.stdev(Ve)/Math.pow(Ve.length,dt?.25:.4)),E(_t)||(_t=1)}Q.autoTicks(At,_t)}var Zt,$t=At.dtick,dn=Q.tickIncrement(Q.tickFirst(At),$t,"reverse",kt);if("number"==typeof $t)Zt=(dn=function(nn,cn,rn,En,Pn){var Mn=0,en=0,gn=0,an=0;function yn(Wn){return(1+100*(Wn-nn)/rn.dtick)%100<2}for(var kn=0;kn<cn.length;kn++)cn[kn]%1==0?gn++:E(cn[kn])||an++,yn(cn[kn])&&Mn++,yn(cn[kn]+rn.dtick/2)&&en++;var Ln=cn.length-an;if(gn===Ln&&"date"!==rn.type)rn.dtick<1?nn=En-.5*rn.dtick:(nn-=.5)+rn.dtick<En&&(nn+=rn.dtick);else if(en<.1*Ln&&(Mn>.3*Ln||yn(En)||yn(Pn))){var Rn=rn.dtick/2;nn+=nn+Rn<En?Rn:-Rn}return nn}(dn,Ve,At,xt,Rt))+(1+Math.floor((Rt-dn)/$t))*$t;else for("M"===At.dtick.charAt(0)&&(dn=function(nn,cn,rn,En,Pn){var Mn=M.findExactDates(cn,Pn);if(Mn.exactDays>.8){var en=Number(rn.substr(1));Mn.exactYears>.8&&en%12==0?nn=Q.tickIncrement(nn,"M6","reverse")+1.5*p:Mn.exactMonths>.8?nn=Q.tickIncrement(nn,"M1","reverse")+15.5*p:nn-=I;var gn=Q.tickIncrement(nn,rn);if(gn<=En)return gn}return nn}(dn,Ve,$t,xt,kt)),Zt=dn;Zt<=Rt;)Zt=Q.tickIncrement(Zt,$t,!1,kt);return{start:Ge.c2r(dn,0,kt),end:Ge.c2r(Zt,0,kt),size:$t,_dataSpan:Rt-xt}},Q.prepMinorTicks=function(Ve,Ge,ut){if(!Ge.minor.dtick){delete Ve.dtick;var dt,kt=Ge.dtick&&E(Ge._tmin);if(kt){var bt=Q.tickIncrement(Ge._tmin,Ge.dtick,!0);dt=[Ge._tmin,.99*bt+.01*Ge._tmin]}else{var At=M.simpleMap(Ge.range,Ge.r2l);dt=[At[0],.8*At[0]+.2*At[1]]}if(Ve.range=M.simpleMap(dt,Ge.l2r),Ve._isMinor=!0,Q.prepTicks(Ve,ut),kt){var xt=E(Ge.dtick),Rt=E(Ve.dtick),_t=xt?Ge.dtick:+Ge.dtick.substring(1),Tt=Rt?Ve.dtick:+Ve.dtick.substring(1);xt&&Rt?we(_t,Tt)?_t===2*A&&Tt===2*p&&(Ve.dtick=A):Ve.dtick=_t===2*A&&Tt===3*p?A:_t!==A||(Ge._input.minor||{}).nticks?ze(_t/Tt,2.5)?_t/2:_t:p:"M"===String(Ge.dtick).charAt(0)?Rt?Ve.dtick="M1":we(_t,Tt)?_t>=12&&2===Tt&&(Ve.dtick="M3"):Ve.dtick=Ge.dtick:"L"===String(Ve.dtick).charAt(0)?"L"===String(Ge.dtick).charAt(0)?we(_t,Tt)||(Ve.dtick=ze(_t/Tt,2.5)?Ge.dtick/2:Ge.dtick):Ve.dtick="D1":"D2"===Ve.dtick&&+Ge.dtick>1&&(Ve.dtick=1)}Ve.range=Ge.range}void 0===Ge.minor._tick0Init&&(Ve.tick0=Ge.tick0)},Q.prepTicks=function(Ve,Ge){var ut=M.simpleMap(Ve.range,Ve.r2l,void 0,void 0,Ge);if("auto"===Ve.tickmode||!Ve.dtick){var dt,kt=Ve.nticks;kt||("category"===Ve.type||"multicategory"===Ve.type?(dt=Ve.tickfont?M.bigFont(Ve.tickfont.size||12):15,kt=Ve._length/dt):(dt="y"===Ve._id.charAt(0)?40:80,kt=M.constrain(Ve._length/dt,4,9)+1),"radialaxis"===Ve._name&&(kt*=2)),Ve.minor&&"array"!==Ve.minor.tickmode||"array"===Ve.tickmode&&(kt*=100),Ve._roughDTick=Math.abs(ut[1]-ut[0])/kt,Q.autoTicks(Ve,Ve._roughDTick),Ve._minDtick>0&&Ve.dtick<2*Ve._minDtick&&(Ve.dtick=Ve._minDtick,Ve.tick0=Ve.l2r(Ve._forceTick0))}"period"===Ve.ticklabelmode&&function(bt){var At;function xt(){return!(E(bt.dtick)||"M"!==bt.dtick.charAt(0))}var Rt=xt(),_t=Q.getTickFormat(bt);if(_t){var Tt=bt._dtickInit!==bt.dtick;/%[fLQsSMX]/.test(_t)||(/%[HI]/.test(_t)?(At=k,Tt&&!Rt&&bt.dtick<k&&(bt.dtick=k)):/%p/.test(_t)?(At=I,Tt&&!Rt&&bt.dtick<I&&(bt.dtick=I)):/%[Aadejuwx]/.test(_t)?(At=p,Tt&&!Rt&&bt.dtick<p&&(bt.dtick=p)):/%[UVW]/.test(_t)?(At=A,Tt&&!Rt&&bt.dtick<A&&(bt.dtick=A)):/%[Bbm]/.test(_t)?(At=_,Tt&&(Rt?Ee(bt.dtick)<1:bt.dtick<w)&&(bt.dtick="M1")):/%[q]/.test(_t)?(At=x,Tt&&(Rt?Ee(bt.dtick)<3:bt.dtick<m)&&(bt.dtick="M3")):/%[Yy]/.test(_t)&&(At=g,Tt&&(Rt?Ee(bt.dtick)<12:bt.dtick<h)&&(bt.dtick="M12")))}(Rt=xt())&&bt.tick0===bt._dowTick0&&(bt.tick0=bt._rawTick0),bt._definedDelta=At}(Ve),Ve.tick0||(Ve.tick0="date"===Ve.type?"2000-01-01":0),"date"===Ve.type&&Ve.dtick<.1&&(Ve.dtick=.1),Ce(Ve)},Q.calcTicks=function(Ve,Ge){for(var ut,dt,kt=Ve.type,bt=Ve.calendar,At=Ve.ticklabelstep,xt="period"===Ve.ticklabelmode,Rt=M.simpleMap(Ve.range,Ve.r2l,void 0,void 0,Ge),_t=Rt[1]<Rt[0],Tt=Math.min(Rt[0],Rt[1]),It=Math.max(Rt[0],Rt[1]),Wt=Math.max(1e3,Ve._length||0),Zt=[],$t=[],dn=[],nn=[],cn=Ve.minor&&(Ve.minor.ticks||Ve.minor.showgrid),rn=1;rn>=(cn?0:1);rn--){var En=!rn;rn?(Ve._dtickInit=Ve.dtick,Ve._tick0Init=Ve.tick0):(Ve.minor._dtickInit=Ve.minor.dtick,Ve.minor._tick0Init=Ve.minor.tick0);var Pn=rn?Ve:M.extendFlat({},Ve,Ve.minor);if(En?Q.prepMinorTicks(Pn,Ve,Ge):Q.prepTicks(Pn,Ge),"array"!==Pn.tickmode)if("sync"!==Pn.tickmode){var Mn=ke(Rt),en=Mn[0],gn=Mn[1],an=E(Pn.dtick),yn="log"===kt&&!(an||"L"===Pn.dtick.charAt(0)),kn=Q.tickFirst(Pn,Ge);if(rn){if(Ve._tmin=kn,kn<en!==_t)break;"category"!==kt&&"multicategory"!==kt||(gn=_t?Math.max(-.5,gn):Math.min(Ve._categories.length-.5,gn))}var Ln,Rn,Wn=null,Cn=kn;rn&&(an?Rn=Ve.dtick:"date"===kt?"string"==typeof Ve.dtick&&"M"===Ve.dtick.charAt(0)&&(Rn=_*Ve.dtick.substring(1)):Rn=Ve._roughDTick,Ln=Math.round((Ve.r2l(Cn)-Ve.r2l(Ve.tick0))/Rn)-1);var Zn=Pn.dtick;for(Pn.rangebreaks&&Pn._tick0Init!==Pn.tick0&&(Cn=Ke(Cn,Ve),_t||(Cn=Q.tickIncrement(Cn,Zn,!_t,bt))),rn&&xt&&(Cn=Q.tickIncrement(Cn,Zn,!_t,bt),Ln--);_t?Cn>=gn:Cn<=gn;Cn=Q.tickIncrement(Cn,Zn,_t,bt)){if(rn&&Ln++,Pn.rangebreaks&&!_t){if(Cn<en)continue;if(Pn.maskBreaks(Cn)===F&&Ke(Cn,Pn)>=It)break}if(dn.length>Wt||Cn===Wn)break;Wn=Cn;var mr={value:Cn};rn?(yn&&Cn!==(0|Cn)&&(mr.simpleLabel=!0),At>1&&Ln%At&&(mr.skipLabel=!0),dn.push(mr)):(mr.minor=!0,nn.push(mr))}}else dn=[],Zt=me(Ve);else rn?(dn=[],Zt=fe(Ve)):(nn=[],$t=fe(Ve))}if(cn&&!("inside"===Ve.minor.ticks&&"outside"===Ve.ticks||"outside"===Ve.minor.ticks&&"inside"===Ve.ticks)){for(var lr=dn.map(function(Ft){return Ft.value}),er=[],xr=0;xr<nn.length;xr++){var dr=nn[xr],jr=dr.value;if(-1===lr.indexOf(jr)){for(var Kt=!1,qt=0;!Kt&&qt<dn.length;qt++)1e7+dn[qt].value===1e7+jr&&(Kt=!0);Kt||er.push(dr)}}nn=er}if(xt&&function(Ft,on,un){for(var On=0;On<Ft.length;On++){var Fn=Ft[On].value,Gn=On,bn=On+1;On<Ft.length-1?(Gn=On,bn=On+1):On>0?(Gn=On-1,bn=On):(Gn=On,bn=On);var ln,wn=Math.abs(Ft[bn].value-Ft[Gn].value),Un=un||wn,Hn=0;Un>=h?Hn=wn>=h&&wn<=f?wn:g:un===x&&Un>=m?Hn=wn>=m&&wn<=T?wn:x:Un>=w?Hn=wn>=w&&wn<=b?wn:_:un===A&&Un>=A?Hn=A:Un>=p?Hn=p:un===I&&Un>=I?Hn=I:un===k&&Un>=k&&(Hn=k),Hn>=wn&&(Hn=wn,ln=!0);var ar=Fn+Hn;if(on.rangebreaks&&Hn>0){for(var tr=0,gr=0;gr<84;gr++){var Vn=(gr+.5)/84;on.maskBreaks(Fn*(1-Vn)+Vn*ar)!==F&&tr++}(Hn*=tr/84)||(Ft[On].drop=!0),ln&&wn>A&&(Hn=wn)}(Hn>0||0===On)&&(Ft[On].periodX=Fn+Hn/2)}}(dn,Ve,Ve._definedDelta),Ve.rangebreaks){var Tn="y"===Ve._id.charAt(0),xn=1;"auto"===Ve.tickmode&&(xn=Ve.tickfont?Ve.tickfont.size:12);var In=NaN;for(ut=dn.length-1;ut>-1;ut--)if(dn[ut].drop)dn.splice(ut,1);else{dn[ut].value=Ke(dn[ut].value,Ve);var cr=Ve.c2p(dn[ut].value);(Tn?In>cr-xn:In<cr+xn)?dn.splice(_t?ut+1:ut,1):In=cr}}it(Ve)&&360===Math.abs(Rt[1]-Rt[0])&&dn.pop(),Ve._tmax=(dn[dn.length-1]||{}).value,Ve._prevDateHead="",Ve._inCalcTicks=!0;var Kn,Jn,vr=function(Ft){Ft.text="",Ve._prevDateHead=dt};for(dn=dn.concat(nn),ut=0;ut<dn.length;ut++){var zn=dn[ut].value;dn[ut].minor?$t.push({x:zn,minor:!0}):(dt=Ve._prevDateHead,Kn=Q.tickText(Ve,zn,!1,dn[ut].simpleLabel),void 0!==(Jn=dn[ut].periodX)&&(Kn.periodX=Jn,(Jn>It||Jn<Tt)&&(Jn>It&&(Kn.periodX=It),Jn<Tt&&(Kn.periodX=Tt),vr(Kn))),dn[ut].skipLabel&&vr(Kn),Zt.push(Kn))}return Zt=Zt.concat($t),Ve._inCalcTicks=!1,xt&&Zt.length&&(Zt[0].noTick=!0),Zt};var le=[2,5,10],Te=[1,2,3,6,12],Re=[1,2,5,10,15,30],De=[1,2,3,7,14],Ue=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ze=[-.301,0,.301,.699,1],xe=[15,30,45,90,180];function Oe(Ve,Ge,ut){return Ge*M.roundUp(Ve/Ge,ut)}function Ce(Ve){var Ge=Ve.dtick;if(Ve._tickexponent=0,E(Ge)||"string"==typeof Ge||(Ge=1),"category"!==Ve.type&&"multicategory"!==Ve.type||(Ve._tickround=null),"date"===Ve.type){var ut=Ve.r2l(Ve.tick0),dt=Ve.l2r(ut).replace(/(^-|i)/g,""),kt=dt.length;if("M"===String(Ge).charAt(0))Ve._tickround=kt>10||"01-01"!==dt.substr(5)?"d":+Ge.substr(1)%12==0?"y":"m";else if(Ge>=p&&kt<=10||Ge>=15*p)Ve._tickround="d";else if(Ge>=L&&kt<=16||Ge>=k)Ve._tickround="M";else if(Ge>=O&&kt<=19||Ge>=L)Ve._tickround="S";else{var bt=Ve.l2r(ut+Ge).replace(/^-/,"").length;Ve._tickround=Math.max(kt,bt)-20,Ve._tickround<0&&(Ve._tickround=4)}}else if(E(Ge)||"L"===Ge.charAt(0)){var At=Ve.range.map(Ve.r2d||Number);E(Ge)||(Ge=Number(Ge.substr(1))),Ve._tickround=2-Math.floor(Math.log(Ge)/Math.LN10+.01);var xt=Math.max(Math.abs(At[0]),Math.abs(At[1])),Rt=Math.floor(Math.log(xt)/Math.LN10+.01),_t=void 0===Ve.minexponent?3:Ve.minexponent;Math.abs(Rt)>_t&&(Ve._tickexponent=He(Ve.exponentformat)&&!Je(Rt)?3*Math.round((Rt-1)/3):Rt)}else Ve._tickround=null}function Be(Ve,Ge,ut){var dt=Ve.tickfont||{};return{x:Ge,dx:0,dy:0,text:ut||"",fontSize:dt.size,font:dt.family,fontColor:dt.color}}Q.autoTicks=function(Ve,Ge,ut){var dt;function kt(It){return Math.pow(It,Math.floor(Math.log(Ge)/Math.LN10))}if("date"===Ve.type){Ve.tick0=M.dateTick0(Ve.calendar,0);var bt=2*Ge;if(bt>g)Ge/=g,dt=kt(10),Ve.dtick="M"+12*Oe(Ge,dt,le);else if(bt>_)Ve.dtick="M"+Oe(Ge/=_,1,Te);else if(bt>p){if(Ve.dtick=Oe(Ge,p,Ve._hasDayOfWeekBreaks?[1,2,7,14]:De),!ut){var At=Q.getTickFormat(Ve),xt="period"===Ve.ticklabelmode;xt&&(Ve._rawTick0=Ve.tick0),Ve.tick0=/%[uVW]/.test(At)?M.dateTick0(Ve.calendar,2):M.dateTick0(Ve.calendar,1),xt&&(Ve._dowTick0=Ve.tick0)}}else bt>k?Ve.dtick=Oe(Ge,k,Te):bt>L?Ve.dtick=Oe(Ge,L,Re):bt>O?Ve.dtick=Oe(Ge,O,Re):(dt=kt(10),Ve.dtick=Oe(Ge,dt,le))}else if("log"===Ve.type){Ve.tick0=0;var Rt=M.simpleMap(Ve.range,Ve.r2l);if(Ve._isMinor&&(Ge*=1.5),Ge>.7)Ve.dtick=Math.ceil(Ge);else if(Math.abs(Rt[1]-Rt[0])<1){var _t=1.5*Math.abs((Rt[1]-Rt[0])/Ge);Ge=Math.abs(Math.pow(10,Rt[1])-Math.pow(10,Rt[0]))/_t,dt=kt(10),Ve.dtick="L"+Oe(Ge,dt,le)}else Ve.dtick=Ge>.3?"D2":"D1"}else"category"===Ve.type||"multicategory"===Ve.type?(Ve.tick0=0,Ve.dtick=Math.ceil(Math.max(Ge,1))):it(Ve)?(Ve.tick0=0,Ve.dtick=Oe(Ge,dt=1,xe)):(Ve.tick0=0,dt=kt(10),Ve.dtick=Oe(Ge,dt,le));if(0===Ve.dtick&&(Ve.dtick=1),!E(Ve.dtick)&&"string"!=typeof Ve.dtick){var Tt=Ve.dtick;throw Ve.dtick=1,"ax.dtick error: "+String(Tt)}},Q.tickIncrement=function(Ve,Ge,ut,dt){var kt=ut?-1:1;if(E(Ge))return M.increment(Ve,kt*Ge);var bt=Ge.charAt(0),At=kt*Number(Ge.substr(1));if("M"===bt)return M.incrementMonth(Ve,At,dt);if("L"===bt)return Math.log(Math.pow(10,Ve)+At)/Math.LN10;if("D"===bt){var xt="D2"===Ge?Ze:Ue,Rt=Ve+.01*kt,_t=M.roundUp(M.mod(Rt,1),xt,ut);return Math.floor(Rt)+Math.log(D.round(Math.pow(10,_t),1))/Math.LN10}throw"unrecognized dtick "+String(Ge)},Q.tickFirst=function(Ve,Ge){var ut=Ve.r2l||Number,dt=M.simpleMap(Ve.range,ut,void 0,void 0,Ge),kt=dt[1]<dt[0],bt=kt?Math.floor:Math.ceil,At=ke(dt)[0],xt=Ve.dtick,Rt=ut(Ve.tick0);if(E(xt)){var _t=bt((At-Rt)/xt)*xt+Rt;return"category"!==Ve.type&&"multicategory"!==Ve.type||(_t=M.constrain(_t,0,Ve._categories.length-1)),_t}var Tt=xt.charAt(0),It=Number(xt.substr(1));if("M"===Tt){for(var Wt,Zt,$t,dn=0,nn=Rt;dn<10;){if(((Wt=Q.tickIncrement(nn,xt,kt,Ve.calendar))-At)*(nn-At)<=0)return kt?Math.min(nn,Wt):Math.max(nn,Wt);Zt=(At-(nn+Wt)/2)/(Wt-nn),$t=Tt+(Math.abs(Math.round(Zt))||1)*It,nn=Q.tickIncrement(nn,$t,Zt<0?!kt:kt,Ve.calendar),dn++}return M.error("tickFirst did not converge",Ve),nn}if("L"===Tt)return Math.log(bt((Math.pow(10,At)-Rt)/It)*It+Rt)/Math.LN10;if("D"===Tt){var cn="D2"===xt?Ze:Ue,rn=M.roundUp(M.mod(At,1),cn,kt);return Math.floor(At)+Math.log(D.round(Math.pow(10,rn),1))/Math.LN10}throw"unrecognized dtick "+String(xt)},Q.tickText=function(Ve,Ge,ut,dt){var kt,bt=Be(Ve,Ge),At="array"===Ve.tickmode,xt=ut||At,Rt=Ve.type,_t="category"===Rt?Ve.d2l_noadd:Ve.d2l;if(At&&Array.isArray(Ve.ticktext)){var Tt=M.simpleMap(Ve.range,Ve.r2l),It=(Math.abs(Tt[1]-Tt[0])-(Ve._lBreaks||0))/1e4;for(kt=0;kt<Ve.ticktext.length&&!(Math.abs(Ge-_t(Ve.tickvals[kt]))<It);kt++);if(kt<Ve.ticktext.length)return bt.text=String(Ve.ticktext[kt]),bt}function Wt(nn){return void 0===nn||(ut?"none"===nn:"all"!==nn&&Ge!=={first:Ve._tmin,last:Ve._tmax}[nn])}var cn,rn,Zt=ut?"never":"none"!==Ve.exponentformat&&Wt(Ve.showexponent)?"hide":"";if("date"===Rt?function(nn,cn,rn,En){var Pn=nn._tickround,Mn=rn&&nn.hoverformat||Q.getTickFormat(nn);En&&(Pn=E(Pn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Pn]);var en,gn=M.formatDate(cn.x,Mn,Pn,nn._dateFormat,nn.calendar,nn._extraFormat),an=gn.indexOf("\n");if(-1!==an&&(en=gn.substr(an+1),gn=gn.substr(0,an)),En&&("00:00:00"===gn||"00:00"===gn?(gn=en,en=""):8===gn.length&&(gn=gn.replace(/:00$/,""))),en)if(rn)"d"===Pn?gn+=", "+en:gn=en+(gn?", "+gn:"");else if(nn._inCalcTicks&&nn._prevDateHead===en){var yn=rt(nn),kn=nn._trueSide||nn.side;(!yn&&"top"===kn||yn&&"bottom"===kn)&&(gn+="<br> ")}else nn._prevDateHead=en,gn+="<br>"+en;cn.text=gn}(Ve,bt,ut,xt):"log"===Rt?function(nn,cn,rn,En,Pn){var Mn=nn.dtick,en=cn.x,gn=nn.tickformat,an="string"==typeof Mn&&Mn.charAt(0);if("never"===Pn&&(Pn=""),En&&"L"!==an&&(Mn="L3",an="L"),gn||"L"===an)cn.text=et(Math.pow(10,en),nn,Pn,En);else if(E(Mn)||"D"===an&&M.mod(en+.01,1)<.1){var yn=Math.round(en),kn=Math.abs(yn),Ln=nn.exponentformat;"power"===Ln||He(Ln)&&Je(yn)?(cn.text=0===yn?1:1===yn?"10":"10<sup>"+(yn>1?"":P)+kn+"</sup>",cn.fontSize*=1.25):("e"===Ln||"E"===Ln)&&kn>2?cn.text="1"+Ln+(yn>0?"+":P)+kn:(cn.text=et(Math.pow(10,en),nn,"","fakehover"),"D1"===Mn&&"y"===nn._id.charAt(0)&&(cn.dy-=cn.fontSize/6))}else{if("D"!==an)throw"unrecognized dtick "+String(Mn);cn.text=String(Math.round(Math.pow(10,M.mod(en,1)))),cn.fontSize*=.75}if("D1"===nn.dtick){var Rn=String(cn.text).charAt(0);"0"!==Rn&&"1"!==Rn||("y"===nn._id.charAt(0)?cn.dx-=cn.fontSize/4:(cn.dy+=cn.fontSize/2,cn.dx+=(nn.range[1]>nn.range[0]?1:-1)*cn.fontSize*(en<0?.5:.25)))}}(Ve,bt,0,xt,Zt):"category"===Rt?(cn=bt,void 0===(rn=Ve._categories[Math.round(cn.x)])&&(rn=""),cn.text=String(rn)):"multicategory"===Rt?function(nn,cn,rn){var En=Math.round(cn.x),Pn=nn._categories[En]||[],Mn=void 0===Pn[1]?"":String(Pn[1]),en=void 0===Pn[0]?"":String(Pn[0]);rn?cn.text=en+" - "+Mn:(cn.text=Mn,cn.text2=en)}(Ve,bt,ut):it(Ve)?function(nn,cn,rn,En,Pn){if("radians"!==nn.thetaunit||rn)cn.text=et(cn.x,nn,Pn,En);else{var Mn=cn.x/180;if(0===Mn)cn.text="0";else{var en=function(an){function yn(Wn,Cn){return Math.abs(Wn-Cn)<=1e-6}var kn=function(Wn){for(var Cn=1;!yn(Math.round(Wn*Cn)/Cn,Wn);)Cn*=10;return Cn}(an),Ln=an*kn,Rn=Math.abs(function Wn(Cn,Zn){return yn(Zn,0)?Cn:Wn(Zn,Cn%Zn)}(Ln,kn));return[Math.round(Ln/Rn),Math.round(kn/Rn)]}(Mn);if(en[1]>=100)cn.text=et(M.deg2rad(cn.x),nn,Pn,En);else{var gn=cn.x<0;cn.text=1===en[1]?1===en[0]?"\u03c0":en[0]+"\u03c0":["<sup>",en[0],"</sup>","\u2044","<sub>",en[1],"</sub>","\u03c0"].join(""),gn&&(cn.text=P+cn.text)}}}}(Ve,bt,ut,xt,Zt):function(nn,cn,rn,En,Pn){"never"===Pn?Pn="":"all"===nn.showexponent&&Math.abs(cn.x/nn.dtick)<1e-6&&(Pn="hide"),cn.text=et(cn.x,nn,Pn,En)}(Ve,bt,0,xt,Zt),dt||(Ve.tickprefix&&!Wt(Ve.showtickprefix)&&(bt.text=Ve.tickprefix+bt.text),Ve.ticksuffix&&!Wt(Ve.showticksuffix)&&(bt.text+=Ve.ticksuffix)),Ve.labelalias&&Ve.labelalias.hasOwnProperty(bt.text)){var $t=Ve.labelalias[bt.text];"string"==typeof $t&&(bt.text=$t)}if("boundaries"===Ve.tickson||Ve.showdividers){var dn=function(nn){var cn=Ve.l2p(nn);return cn>=0&&cn<=Ve._length?nn:null};bt.xbnd=[dn(bt.x-.5),dn(bt.x+Ve.dtick-.5)]}return bt},Q.hoverLabelText=function(Ve,Ge,ut){ut&&(Ve=M.extendFlat({},Ve,{hoverformat:ut}));var dt=Array.isArray(Ge)?Ge[0]:Ge,kt=Array.isArray(Ge)?Ge[1]:void 0;if(void 0!==kt&&kt!==dt)return Q.hoverLabelText(Ve,dt,ut)+" - "+Q.hoverLabelText(Ve,kt,ut);var bt="log"===Ve.type&&dt<=0,At=Q.tickText(Ve,Ve.c2l(bt?-dt:dt),"hover").text;return bt?0===dt?"0":P+At:At};var qe=["f","p","n","\u03bc","m","","k","M","G","T"];function He(Ve){return"SI"===Ve||"B"===Ve}function Je(Ve){return Ve>14||Ve<-15}function et(Ve,Ge,ut,dt){var kt=Ve<0,bt=Ge._tickround,At=ut||Ge.exponentformat||"B",xt=Ge._tickexponent,Rt=Q.getTickFormat(Ge),_t=Ge.separatethousands;if(dt){var Tt={exponentformat:At,minexponent:Ge.minexponent,dtick:"none"===Ge.showexponent?Ge.dtick:E(Ve)&&Math.abs(Ve)||1,range:"none"===Ge.showexponent?Ge.range.map(Ge.r2d):[0,Ve||1]};Ce(Tt),bt=(Number(Tt._tickround)||0)+4,xt=Tt._tickexponent,Ge.hoverformat&&(Rt=Ge.hoverformat)}if(Rt)return Ge._numFormat(Rt)(Ve).replace(/-/g,P);var It,Wt=Math.pow(10,-bt)/2;if("none"===At&&(xt=0),(Ve=Math.abs(Ve))<Wt)Ve="0",kt=!1;else{if(Ve+=Wt,xt&&(Ve*=Math.pow(10,-xt),bt+=xt),0===bt)Ve=String(Math.floor(Ve));else if(bt<0){Ve=(Ve=String(Math.round(Ve))).substr(0,Ve.length+bt);for(var Zt=bt;Zt<0;Zt++)Ve+="0"}else{var $t=(Ve=String(Ve)).indexOf(".")+1;$t&&(Ve=Ve.substr(0,$t+bt).replace(/\.?0+$/,""))}Ve=M.numSeparate(Ve,Ge._separators,_t)}return xt&&"hide"!==At&&(He(At)&&Je(xt)&&(At="power"),It=xt<0?P+-xt:"power"!==At?"+"+xt:String(xt),"e"===At||"E"===At?Ve+=At+It:"power"===At?Ve+="\xd710<sup>"+It+"</sup>":"B"===At&&9===xt?Ve+="B":He(At)&&(Ve+=qe[xt/3+5])),kt?P+Ve:Ve}function st(Ve,Ge){if(Ve){var ut=Object.keys(H).reduce(function(dt,kt){return-1!==Ge.indexOf(kt)&&H[kt].forEach(function(bt){dt[bt]=1}),dt},{});Object.keys(Ve).forEach(function(dt){ut[dt]||(1===dt.length?Ve[dt]=0:delete Ve[dt])})}}function pt(Ve,Ge){for(var ut=[],dt={},kt=0;kt<Ge.length;kt++){var bt=Ge[kt];dt[bt.text2]?dt[bt.text2].push(bt.x):dt[bt.text2]=[bt.x]}for(var At in dt)ut.push(Be(Ve,M.interp(dt[At],.5),At));return ut}function ct(Ve){return void 0!==Ve.periodX?Ve.periodX:Ve.x}function St(Ve){return[Ve.text,Ve.x,Ve.axInfo,Ve.font,Ve.fontSize,Ve.fontColor].join("_")}function Dt(Ve){var Ge=Ve.title.font.size,ut=(Ve.title.text.match(u.BR_TAG_ALL)||[]).length;return Ve.title.hasOwnProperty("standoff")?ut?Ge*(se+ut*ne):Ge*se:ut?Ge*(ut+1)*ne:Ge}function vt(Ve,Ge){var ut=Ve.l2p(Ge);return ut>1&&ut<Ve._length-1}function gt(Ve){var Ge=D.select(Ve),ut=Ge.select(".text-math-group");return ut.empty()?Ge.select("text"):ut}function Et(Ve){return Ve._id+".automargin"}function Pt(Ve){return Et(Ve)+".mirror"}function Ot(Ve){return Ve._id+".rangeslider"}function Ht(Ve,Ge){for(var ut=0;ut<Ge.length;ut++)-1===Ve.indexOf(Ge[ut])&&Ve.push(Ge[ut])}function zt(Ve,Ge,ut){var dt,kt,bt=[],At=[],xt=Ve.layout;for(dt=0;dt<Ge.length;dt++)bt.push(Q.getFromId(Ve,Ge[dt]));for(dt=0;dt<ut.length;dt++)At.push(Q.getFromId(Ve,ut[dt]));var Rt=Object.keys(o),_t=["anchor","domain","overlaying","position","side","tickangle","editType"],Tt=["linear","log"];for(dt=0;dt<Rt.length;dt++){var It=Rt[dt],Wt=bt[0][It],Zt=At[0][It],$t=!0,dn=!1,nn=!1;if("_"!==It.charAt(0)&&"function"!=typeof Wt&&-1===_t.indexOf(It)){for(kt=1;kt<bt.length&&$t;kt++){var cn=bt[kt][It];"type"===It&&-1!==Tt.indexOf(Wt)&&-1!==Tt.indexOf(cn)&&Wt!==cn?dn=!0:cn!==Wt&&($t=!1)}for(kt=1;kt<At.length&&$t;kt++){var rn=At[kt][It];"type"===It&&-1!==Tt.indexOf(Zt)&&-1!==Tt.indexOf(rn)&&Zt!==rn?nn=!0:At[kt][It]!==Zt&&($t=!1)}$t&&(dn&&(xt[bt[0]._name].type="linear"),nn&&(xt[At[0]._name].type="linear"),nt(xt,It,bt,At,Ve._fullLayout._dfltTitle))}}for(dt=0;dt<Ve._fullLayout.annotations.length;dt++){var En=Ve._fullLayout.annotations[dt];-1!==Ge.indexOf(En.xref)&&-1!==ut.indexOf(En.yref)&&M.swapAttrs(xt.annotations[dt],["?"])}}function nt(Ve,Ge,ut,dt,kt){var bt,At=M.nestedProperty,xt=At(Ve[ut[0]._name],Ge).get(),Rt=At(Ve[dt[0]._name],Ge).get();for("title"===Ge&&(xt&&xt.text===kt.x&&(xt.text=kt.y),Rt&&Rt.text===kt.y&&(Rt.text=kt.x)),bt=0;bt<ut.length;bt++)At(Ve,ut[bt]._name+"."+Ge).set(Rt);for(bt=0;bt<dt.length;bt++)At(Ve,dt[bt]._name+"."+Ge).set(xt)}function it(Ve){return"angularaxis"===Ve._id}function Ke(Ve,Ge){for(var ut=Ge._rangebreaks.length,dt=0;dt<ut;dt++){var kt=Ge._rangebreaks[dt];if(Ve>=kt.min&&Ve<kt.max)return kt.max}return Ve}function rt(Ve){return-1!==(Ve.ticklabelposition||"").indexOf("inside")}function ft(Ve,Ge){rt(Ve._anchorAxis||{})&&Ve._hideCounterAxisInsideTickLabels&&Ve._hideCounterAxisInsideTickLabels(Ge)}function ht(Ve,Ge,ut,dt){var kt,bt="free"===Ve.anchor||void 0!==Ve.overlaying&&!1!==Ve.overlaying?Ve.overlaying:Ve._id;kt=dt?"right"===Ve.side?Ge:-Ge:Ge,bt in ut||(ut[bt]={}),Ve.side in ut[bt]||(ut[bt][Ve.side]=0),ut[bt][Ve.side]+=kt}Q.getTickFormat=function(Ve){var Ge,ut,dt,kt,bt,At,xt,Rt,Wt,Zt,$t,dn,nn,cn;function _t(Wt){return"string"!=typeof Wt?Wt:Number(Wt.replace("M",""))*_}function Tt(Wt,Zt){var $t=["L","D"];if(typeof Wt==typeof Zt){if("number"==typeof Wt)return Wt-Zt;var dn=$t.indexOf(Wt.charAt(0)),nn=$t.indexOf(Zt.charAt(0));return dn===nn?Number(Wt.replace(/(L|D)/g,""))-Number(Zt.replace(/(L|D)/g,"")):dn-nn}return"number"==typeof Wt?1:-1}if(Ve.tickformatstops&&Ve.tickformatstops.length>0)switch(Ve.type){case"date":case"linear":for(Ge=0;Ge<Ve.tickformatstops.length;Ge++)if((dt=Ve.tickformatstops[Ge]).enabled&&(kt=Ve.dtick,At=void 0,void 0,void 0,At=_t||function(Wt){return Wt},Rt=(bt=dt.dtickrange)[1],(!(xt=bt[0])&&"number"!=typeof xt||At(xt)<=At(kt))&&(!Rt&&"number"!=typeof Rt||At(Rt)>=At(kt)))){ut=dt;break}break;case"log":for(Ge=0;Ge<Ve.tickformatstops.length;Ge++)if((dt=Ve.tickformatstops[Ge]).enabled&&($t=void 0,dn=void 0,nn=void 0,cn=void 0,$t=null===(Zt=dt.dtickrange)[0],dn=null===Zt[1],nn=Tt(Wt=Ve.dtick,Zt[0])>=0,cn=Tt(Wt,Zt[1])<=0,($t||nn)&&(dn||cn))){ut=dt;break}}return ut?ut.value:Ve.tickformat},Q.getSubplots=function(Ve,Ge){var ut=Ve._fullLayout._subplots,dt=ut.cartesian.concat(ut.gl2d||[]),kt=Ge?Q.findSubplotsWithAxis(dt,Ge):dt;return kt.sort(function(bt,At){var xt=bt.substr(1).split("y"),Rt=At.substr(1).split("y");return xt[0]===Rt[0]?+xt[1]-+Rt[1]:+xt[0]-+Rt[0]}),kt},Q.findSubplotsWithAxis=function(Ve,Ge){for(var ut=new RegExp("x"===Ge._id.charAt(0)?"^"+Ge._id+"y":Ge._id+"$"),dt=[],kt=0;kt<Ve.length;kt++){var bt=Ve[kt];ut.test(bt)&&dt.push(bt)}return dt},Q.makeClipPaths=function(Ve){var Ge=Ve._fullLayout;if(!Ge._hasOnlyLargeSploms){var ut,dt,kt={_offset:0,_length:Ge.width,_id:""},bt={_offset:0,_length:Ge.height,_id:""},At=Q.list(Ve,"x",!0),xt=Q.list(Ve,"y",!0),Rt=[];for(ut=0;ut<At.length;ut++)for(Rt.push({x:At[ut],y:bt}),dt=0;dt<xt.length;dt++)0===ut&&Rt.push({x:kt,y:xt[dt]}),Rt.push({x:At[ut],y:xt[dt]});var _t=Ge._clips.selectAll(".axesclip").data(Rt,function(Tt){return Tt.x._id+Tt.y._id});_t.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Tt){return"clip"+Ge._uid+Tt.x._id+Tt.y._id}).append("rect"),_t.exit().remove(),_t.each(function(Tt){D.select(this).select("rect").attr({x:Tt.x._offset||0,y:Tt.y._offset||0,width:Tt.x._length||1,height:Tt.y._length||1})})}},Q.draw=function(Ve,Ge,ut){var dt=Ve._fullLayout;"redraw"===Ge&&dt._paper.selectAll("g.subplot").each(function(xt){var _t=dt._plots[xt[0]];if(_t){var Tt=_t.xaxis,It=_t.yaxis;_t.xaxislayer.selectAll("."+Tt._id+"tick").remove(),_t.yaxislayer.selectAll("."+It._id+"tick").remove(),_t.xaxislayer.selectAll("."+Tt._id+"tick2").remove(),_t.yaxislayer.selectAll("."+It._id+"tick2").remove(),_t.xaxislayer.selectAll("."+Tt._id+"divider").remove(),_t.yaxislayer.selectAll("."+It._id+"divider").remove(),_t.minorGridlayer&&_t.minorGridlayer.selectAll("path").remove(),_t.gridlayer&&_t.gridlayer.selectAll("path").remove(),_t.zerolinelayer&&_t.zerolinelayer.selectAll("path").remove(),dt._infolayer.select(".g-"+Tt._id+"title").remove(),dt._infolayer.select(".g-"+It._id+"title").remove()}});var kt=Ge&&"redraw"!==Ge?Ge:Q.listIds(Ve),bt=Q.list(Ve).filter(function(xt){return xt.autoshift}).map(function(xt){return xt.overlaying});kt.map(function(xt){var Rt=Q.getFromId(Ve,xt);if("sync"===Rt.tickmode&&Rt.overlaying){var _t=kt.findIndex(function(Tt){return Tt===Rt.overlaying});_t>=0&&kt.unshift(kt.splice(_t,1).shift())}});var At={false:{left:0,right:0}};return M.syncOrAsync(kt.map(function(xt){return function(){if(xt){var Rt=Q.getFromId(Ve,xt);ut||(ut={}),ut.axShifts=At,ut.overlayingShiftedAx=bt;var _t=Q.drawOne(Ve,Rt,ut);return Rt._shiftPusher&&ht(Rt,Rt._fullDepth||0,At,!0),Rt._r=Rt.range.slice(),Rt._rl=M.simpleMap(Rt._r,Rt.r2l),_t}}}))},Q.drawOne=function(Ve,Ge,ut){var dt,kt,bt,At=(ut=ut||{}).axShifts||{},xt=ut.overlayingShiftedAx||[];Ge.setScale();var bn,Rt=Ve._fullLayout,_t=Ge._id,Tt=_t.charAt(0),It=Q.counterLetter(_t),Wt=Rt._plots[Ge._mainSubplot];if(Wt){if(Ge._shiftPusher=Ge.autoshift||-1!==xt.indexOf(Ge._id)||-1!==xt.indexOf(Ge.overlaying),Ge._shiftPusher&"free"===Ge.anchor){var Zt=Ge.linewidth/2||0;"inside"===Ge.ticks&&(Zt+=Ge.ticklen),ht(Ge,Zt,At,!0),ht(Ge,Ge.shift||0,At,!1)}!0===ut.skipTitle&&void 0!==Ge._shift||(Ge._shift=(bn=Ge).autoshift?At[bn.overlaying][bn.side]:bn.shift||0);var $t=Wt[Tt+"axislayer"],dn=Ge._mainLinePosition,nn=dn+=Ge._shift,cn=Ge._mainMirrorPosition,rn=Ge._vals=Q.calcTicks(Ge),En=[Ge.mirror,nn,cn].join("_");for(dt=0;dt<rn.length;dt++)rn[dt].axInfo=En;Ge._selections={},Ge._tickAngles&&(Ge._prevTickAngles=Ge._tickAngles),Ge._tickAngles={},Ge._depth=null;var Pn={};if(Ge.visible){var Mn,en,gn=Q.makeTransTickFn(Ge),an=Q.makeTransTickLabelFn(Ge),yn="inside"===Ge.ticks,kn="outside"===Ge.ticks;if("boundaries"===Ge.tickson){var Ln=function(bn,ln){var fn,_n=[],wn=function(Un,Hn){var ar=Un.xbnd[Hn];null!==ar&&_n.push(M.extendFlat({},Un,{x:ar}))};if(ln.length){for(fn=0;fn<ln.length;fn++)wn(ln[fn],0);wn(ln[fn-1],1)}return _n}(0,rn);en=Q.clipEnds(Ge,Ln),Mn=yn?en:Ln}else en=Q.clipEnds(Ge,rn),Mn=yn&&"period"!==Ge.ticklabelmode?en:rn;var Rn,Wn=Ge._gridVals=en,Cn=function(bn,ln){var fn,_n,wn=[],Un=ln.length&&ln[ln.length-1].x<ln[0].x,Hn=function(tr,gr){var Vn=tr.xbnd[gr];null!==Vn&&wn.push(M.extendFlat({},tr,{x:Vn}))};if(bn.showdividers&&ln.length){for(fn=0;fn<ln.length;fn++){var ar=ln[fn];ar.text2!==_n&&Hn(ar,Un?1:0),_n=ar.text2}Hn(ln[fn-1],Un?0:1)}return wn}(Ge,rn);if(!Rt._hasOnlyLargeSploms){var Zn=Ge._subplotsWith,mr={};for(dt=0;dt<Zn.length;dt++){var lr=(bt=Rt._plots[kt=Zn[dt]])[It+"axis"],er=lr._mainAxis._id;if(!mr[er]){mr[er]=1;var xr="x"===Tt?"M0,"+lr._offset+"v"+lr._length:"M"+lr._offset+",0h"+lr._length;Q.drawGrid(Ve,Ge,{vals:Wn,counterAxis:lr,layer:bt.gridlayer.select("."+_t),minorLayer:bt.minorGridlayer.select("."+_t),path:xr,transFn:gn}),Q.drawZeroLine(Ve,Ge,{counterAxis:lr,layer:bt.zerolinelayer,path:xr,transFn:gn})}}}var dr=Q.getTickSigns(Ge),jr=Q.getTickSigns(Ge,"minor");if(Ge.ticks||Ge.minor&&Ge.minor.ticks){var Kt,qt,Tn,xn,In=Q.makeTickPath(Ge,nn,dr[2]),cr=Q.makeTickPath(Ge,nn,jr[2],{minor:!0});if(Ge._anchorAxis&&Ge.mirror&&!0!==Ge.mirror?(Kt=Q.makeTickPath(Ge,cn,dr[3]),qt=Q.makeTickPath(Ge,cn,jr[3],{minor:!0}),Tn=In+Kt,xn=cr+qt):(Kt="",qt="",Tn=In,xn=cr),Ge.showdividers&&kn&&"boundaries"===Ge.tickson){var Kn={};for(dt=0;dt<Cn.length;dt++)Kn[Cn[dt].x]=1;Rn=function(bn){return Kn[bn.x]?Kt:Tn}}else Rn=function(bn){return bn.minor?xn:Tn}}if(Q.drawTicks(Ve,Ge,{vals:Mn,layer:$t,path:Rn,transFn:gn}),"allticks"===Ge.mirror){var Jn=Object.keys(Ge._linepositions||{});for(dt=0;dt<Jn.length;dt++){bt=Rt._plots[kt=Jn[dt]];var vr=Ge._linepositions[kt]||[],zn=vr[1],Ft=vr[2],on=Q.makeTickPath(Ge,vr[0],Ft?dr[0]:jr[0],{minor:Ft})+Q.makeTickPath(Ge,zn,Ft?dr[1]:jr[1],{minor:Ft});Q.drawTicks(Ve,Ge,{vals:Mn,layer:bt[Tt+"axislayer"],path:on,transFn:gn})}}var un=[];if(un.push(function(){return Q.drawLabels(Ve,Ge,{vals:rn,layer:$t,plotinfo:bt,transFn:an,labelFns:Q.makeLabelFns(Ge,nn)})}),"multicategory"===Ge.type){var On={x:2,y:10}[Tt];un.push(function(){var bn={x:"height",y:"width"}[Tt],ln=Gn()[bn]+On+(Ge._tickAngles[_t+"tick"]?Ge.tickfont.size*ne:0);return Q.drawLabels(Ve,Ge,{vals:pt(Ge,rn),layer:$t,cls:_t+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:gn,labelFns:Q.makeLabelFns(Ge,nn+ln*dr[4])})}),un.push(function(){return Ge._depth=dr[4]*(Gn("tick2")[Ge.side]-nn),function(bn,ln,fn){var _n=ln._id+"divider",wn=fn.vals,Un=fn.layer.selectAll("path."+_n).data(wn,St);Un.exit().remove(),Un.enter().insert("path",":first-child").classed(_n,1).classed("crisp",1).call(s.stroke,ln.dividercolor).style("stroke-width",a.crispRound(bn,ln.dividerwidth,1)+"px"),Un.attr("transform",fn.transFn).attr("d",fn.path)}(Ve,Ge,{vals:Cn,layer:$t,path:Q.makeTickPath(Ge,nn,dr[4],{len:Ge._depth}),transFn:gn})})}else Ge.title.hasOwnProperty("standoff")&&un.push(function(){Ge._depth=dr[4]*(Gn()[Ge.side]-nn)});var Fn=S.getComponentMethod("rangeslider","isVisible")(Ge);return ut.skipTitle||Fn&&"bottom"===Ge.side||un.push(function(){return function(bn,ln){var fn,_n=bn._fullLayout,wn=ln._id,Un=wn.charAt(0),Hn=ln.title.font.size;if(ln.title.hasOwnProperty("standoff"))fn=ln._depth+ln.title.standoff+Dt(ln);else{var ar=rt(ln);if("multicategory"===ln.type)fn=ln._depth;else{var tr=1.5*Hn;ar&&(tr=.5*Hn,"outside"===ln.ticks&&(tr+=ln.ticklen)),fn=10+tr+(ln.linewidth?ln.linewidth-1:0)}ar||(fn+="x"===Un?"top"===ln.side?Hn*(ln.showticklabels?1:0):Hn*(ln.showticklabels?1.5:.5):"right"===ln.side?Hn*(ln.showticklabels?1:.5):Hn*(ln.showticklabels?.5:0))}var gr,Vn,Tr,rr,_r=Q.getPxPosition(bn,ln);if("x"===Un?(Vn=ln._offset+ln._length/2,Tr="top"===ln.side?_r-fn:_r+fn):(Tr=ln._offset+ln._length/2,Vn="right"===ln.side?_r+fn:_r-fn,gr={rotate:"-90",offset:0}),"multicategory"!==ln.type){var Ir=ln._selections[ln._id+"tick"];if(rr={selection:Ir,side:ln.side},Ir&&Ir.node()&&Ir.node().parentNode){var Lr=a.getTranslate(Ir.node().parentNode);rr.offsetLeft=Lr.x,rr.offsetTop=Lr.y}ln.title.hasOwnProperty("standoff")&&(rr.pad=0)}return ln._titleStandoff=fn,i.draw(bn,wn+"title",{propContainer:ln,propName:ln._name+".title.text",placeholder:_n._dfltTitle[Un],avoid:rr,transform:gr,attributes:{x:Vn,y:Tr,"text-anchor":"middle"}})}(Ve,Ge)}),un.push(function(){var bn,ln,fn,_n,wn=Ge.side.charAt(0),Un=re[Ge.side].charAt(0),Hn=Q.getPxPosition(Ve,Ge),ar=kn?Ge.ticklen:0;(Ge.automargin||Fn||Ge._shiftPusher)&&("multicategory"===Ge.type?bn=Gn("tick2"):(bn=Gn(),"x"===Tt&&"b"===wn&&(Ge._depth=Math.max(bn.width>0?bn.bottom-Hn:0,ar))));var tr=0,gr=0;if(Ge._shiftPusher&&(tr=Math.max(ar,bn.height>0?"l"===wn?Hn-bn.left:bn.right-Hn:0),Ge.title.text!==Rt._dfltTitle[Tt]&&(gr=(Ge._titleStandoff||0)+(Ge._titleScoot||0),"l"===wn&&(gr+=Dt(Ge))),Ge._fullDepth=Math.max(tr,gr)),Ge.automargin){ln={x:0,y:0,r:0,l:0,t:0,b:0};var Vn=[0,1],Tr="number"==typeof Ge._shift?Ge._shift:0;if("x"===Tt){if("b"===wn?ln[wn]=Ge._depth:(ln[wn]=Ge._depth=Math.max(bn.width>0?Hn-bn.top:0,ar),Vn.reverse()),bn.width>0){var rr=bn.right-(Ge._offset+Ge._length);rr>0&&(ln.xr=1,ln.r=rr);var _r=Ge._offset-bn.left;_r>0&&(ln.xl=0,ln.l=_r)}}else if("l"===wn?(Ge._depth=Math.max(bn.height>0?Hn-bn.left:0,ar),ln[wn]=Ge._depth-Tr):(Ge._depth=Math.max(bn.height>0?bn.right-Hn:0,ar),ln[wn]=Ge._depth+Tr,Vn.reverse()),bn.height>0){var Ir=bn.bottom-(Ge._offset+Ge._length);Ir>0&&(ln.yb=0,ln.b=Ir);var Lr=Ge._offset-bn.top;Lr>0&&(ln.yt=1,ln.t=Lr)}ln[It]="free"===Ge.anchor?Ge.position:Ge._anchorAxis.domain[Vn[0]],Ge.title.text!==Rt._dfltTitle[Tt]&&(ln[wn]+=Dt(Ge)+(Ge.title.standoff||0)),Ge.mirror&&"free"!==Ge.anchor&&((fn={x:0,y:0,r:0,l:0,t:0,b:0})[Un]=Ge.linewidth,Ge.mirror&&!0!==Ge.mirror&&(fn[Un]+=ar),!0===Ge.mirror||"ticks"===Ge.mirror?fn[It]=Ge._anchorAxis.domain[Vn[1]]:"all"!==Ge.mirror&&"allticks"!==Ge.mirror||(fn[It]=[Ge._counterDomainMin,Ge._counterDomainMax][Vn[1]]))}Fn&&(_n=S.getComponentMethod("rangeslider","autoMarginOpts")(Ve,Ge)),"string"==typeof Ge.automargin&&(st(ln,Ge.automargin),st(fn,Ge.automargin)),d.autoMargin(Ve,Et(Ge),ln),d.autoMargin(Ve,Pt(Ge),fn),d.autoMargin(Ve,Ot(Ge),_n)}),M.syncOrAsync(un)}}function Gn(bn){var fn,_n,wn,Un,Hn,ar,ln=_t+(bn||"tick");return Pn[ln]||(Pn[ln]=((fn=Ge)._selections[_n=ln].size()?(wn=1/0,Un=-1/0,Hn=1/0,ar=-1/0,fn._selections[_n].each(function(){var tr=gt(this),gr=a.bBox(tr.node().parentNode);wn=Math.min(wn,gr.top),Un=Math.max(Un,gr.bottom),Hn=Math.min(Hn,gr.left),ar=Math.max(ar,gr.right)})):(wn=0,Un=0,Hn=0,ar=0),{top:wn,bottom:Un,left:Hn,right:ar,height:Un-wn,width:ar-Hn})),Pn[ln]}},Q.getTickSigns=function(Ve,Ge){var ut=Ve._id.charAt(0),kt=Ve.side==={x:"top",y:"right"}[ut]?1:-1,bt=[-1,1,kt,-kt];return"inside"!==(Ge?(Ve.minor||{}).ticks:Ve.ticks)==("x"===ut)&&(bt=bt.map(function(At){return-At})),Ve.side&&bt.push({l:-1,t:-1,r:1,b:1}[Ve.side.charAt(0)]),bt},Q.makeTransTickFn=function(Ve){return"x"===Ve._id.charAt(0)?function(Ge){return v(Ve._offset+Ve.l2p(Ge.x),0)}:function(Ge){return v(0,Ve._offset+Ve.l2p(Ge.x))}},Q.makeTransTickLabelFn=function(Ve){var Ge=function(kt){var bt=kt.ticklabelposition||"",At=function(cn){return-1!==bt.indexOf(cn)},xt=At("top"),Rt=At("left"),_t=At("right"),Tt=At("bottom"),It=At("inside"),Wt=Tt||Rt||xt||_t;if(!Wt&&!It)return[0,0];var Zt=kt.side,$t=Wt?(kt.tickwidth||0)/2:0,dn=3,nn=kt.tickfont?kt.tickfont.size:12;return(Tt||xt)&&($t+=nn*se,dn+=(kt.linewidth||0)/2),(Rt||_t)&&($t+=(kt.linewidth||0)/2,dn+=3),It&&"top"===Zt&&(dn-=nn*(1-se)),(Rt||xt)&&($t=-$t),"bottom"!==Zt&&"right"!==Zt||(dn=-dn),[Wt?$t:0,It?dn:0]}(Ve),ut=Ge[0],dt=Ge[1];return"x"===Ve._id.charAt(0)?function(kt){return v(ut+Ve._offset+Ve.l2p(ct(kt)),dt)}:function(kt){return v(dt,ut+Ve._offset+Ve.l2p(ct(kt)))}},Q.makeTickPath=function(Ve,Ge,ut,dt){dt||(dt={});var kt=dt.minor;if(kt&&!Ve.minor)return"";var bt=void 0!==dt.len?dt.len:kt?Ve.minor.ticklen:Ve.ticklen,At=Ve._id.charAt(0),xt=(Ve.linewidth||1)/2;return"x"===At?"M0,"+(Ge+xt*ut)+"v"+bt*ut:"M"+(Ge+xt*ut)+",0h"+bt*ut},Q.makeLabelFns=function(Ve,Ge,ut){var dt=Ve.ticklabelposition||"",kt=function(Ln){return-1!==dt.indexOf(Ln)},bt=kt("top"),At=kt("left"),xt=kt("right"),Rt=kt("bottom")||At||bt||xt,_t=kt("inside"),Tt="inside"===dt&&"inside"===Ve.ticks||!_t&&"outside"===Ve.ticks&&"boundaries"!==Ve.tickson,It=0,Wt=0,Zt=Tt?Ve.ticklen:0;if(_t?Zt*=-1:Rt&&(Zt=0),Tt&&(It+=Zt,ut)){var $t=M.deg2rad(ut);It=Zt*Math.cos($t)+1,Wt=Zt*Math.sin($t)}Ve.showticklabels&&(Tt||Ve.showline)&&(It+=.2*Ve.tickfont.size);var dn,nn,cn,rn,En,Pn={labelStandoff:It+=(Ve.linewidth||1)/2*(_t?-1:1),labelShift:Wt},Mn=0,en=Ve.side,gn=Ve._id.charAt(0),an=Ve.tickangle;if("x"===gn)rn=(En=!_t&&"bottom"===en||_t&&"top"===en)?1:-1,_t&&(rn*=-1),dn=Wt*rn,nn=Ge+It*rn,cn=En?1:-.2,90===Math.abs(an)&&(_t?cn+=$:cn=-90===an&&"bottom"===en?se:90===an&&"top"===en?$:.5,Mn=$/2*(an/90)),Pn.xFn=function(Ln){return Ln.dx+dn+Mn*Ln.fontSize},Pn.yFn=function(Ln){return Ln.dy+nn+Ln.fontSize*cn},Pn.anchorFn=function(Ln,Rn){if(Rt){if(At)return"end";if(xt)return"start"}return E(Rn)&&0!==Rn&&180!==Rn?Rn*rn<0!==_t?"end":"start":"middle"},Pn.heightFn=function(Ln,Rn,Wn){return Rn<-60||Rn>60?-.5*Wn:"top"===Ve.side!==_t?-Wn:0};else if("y"===gn){if(rn=(En=!_t&&"left"===en||_t&&"right"===en)?1:-1,_t&&(rn*=-1),dn=It,nn=Wt*rn,cn=0,_t||90!==Math.abs(an)||(cn=-90===an&&"left"===en||90===an&&"right"===en?se:.5),_t){var yn=E(an)?+an:0;if(0!==yn){var kn=M.deg2rad(yn);Mn=Math.abs(Math.sin(kn))*se*rn,cn=0}}Pn.xFn=function(Ln){return Ln.dx+Ge-(dn+Ln.fontSize*cn)*rn+Mn*Ln.fontSize},Pn.yFn=function(Ln){return Ln.dy+nn+Ln.fontSize*$},Pn.anchorFn=function(Ln,Rn){return E(Rn)&&90===Math.abs(Rn)?"middle":En?"end":"start"},Pn.heightFn=function(Ln,Rn,Wn){return"right"===Ve.side&&(Rn*=-1),Rn<-30?-Wn:Rn<30?-.5*Wn:0}}return Pn},Q.drawTicks=function(Ve,Ge,ut){ut=ut||{};var dt=Ge._id+"tick",kt=[].concat(Ge.minor&&Ge.minor.ticks?ut.vals.filter(function(At){return At.minor&&!At.noTick}):[]).concat(Ge.ticks?ut.vals.filter(function(At){return!At.minor&&!At.noTick}):[]),bt=ut.layer.selectAll("path."+dt).data(kt,St);bt.exit().remove(),bt.enter().append("path").classed(dt,1).classed("ticks",1).classed("crisp",!1!==ut.crisp).each(function(At){return s.stroke(D.select(this),At.minor?Ge.minor.tickcolor:Ge.tickcolor)}).style("stroke-width",function(At){return a.crispRound(Ve,At.minor?Ge.minor.tickwidth:Ge.tickwidth,1)+"px"}).attr("d",ut.path).style("display",null),ft(Ge,[q]),bt.attr("transform",ut.transFn)},Q.drawGrid=function(Ve,Ge,ut){if(ut=ut||{},"sync"!==Ge.tickmode){var dt=Ge._id+"grid",kt=Ge.minor&&Ge.minor.showgrid,bt=kt?ut.vals.filter(function(cn){return cn.minor}):[],At=Ge.showgrid?ut.vals.filter(function(cn){return!cn.minor}):[],xt=ut.counterAxis;if(xt&&Q.shouldShowZeroLine(Ve,Ge,xt))for(var Rt="array"===Ge.tickmode,_t=0;_t<At.length;_t++){var Tt=At[_t].x;if(Rt?!Tt:Math.abs(Tt)<Ge.dtick/100){if(At=At.slice(0,_t).concat(At.slice(_t+1)),!Rt)break;_t--}}Ge._gw=a.crispRound(Ve,Ge.gridwidth,1);for(var It=kt?a.crispRound(Ve,Ge.minor.gridwidth,1):0,Wt=ut.layer,Zt=ut.minorLayer,$t=1;$t>=0;$t--){var dn=$t?Wt:Zt;if(dn){var nn=dn.selectAll("path."+dt).data($t?At:bt,St);nn.exit().remove(),nn.enter().append("path").classed(dt,1).classed("crisp",!1!==ut.crisp),nn.attr("transform",ut.transFn).attr("d",ut.path).each(function(cn){return s.stroke(D.select(this),cn.minor?Ge.minor.gridcolor:Ge.gridcolor||"#ddd")}).style("stroke-dasharray",function(cn){return a.dashStyle(cn.minor?Ge.minor.griddash:Ge.griddash,cn.minor?Ge.minor.gridwidth:Ge.gridwidth)}).style("stroke-width",function(cn){return(cn.minor?It:Ge._gw)+"px"}).style("display",null),"function"==typeof ut.path&&nn.attr("d",ut.path)}}ft(Ge,[X,N])}},Q.drawZeroLine=function(Ve,Ge,ut){var dt=Ge._id+"zl",kt=Q.shouldShowZeroLine(Ve,Ge,(ut=ut||ut).counterAxis),bt=ut.layer.selectAll("path."+dt).data(kt?[{x:0,id:Ge._id}]:[]);bt.exit().remove(),bt.enter().append("path").classed(dt,1).classed("zl",1).classed("crisp",!1!==ut.crisp).each(function(){ut.layer.selectAll("path").sort(function(At,xt){return ce(At.id,xt.id)})}),bt.attr("transform",ut.transFn).attr("d",ut.path).call(s.stroke,Ge.zerolinecolor||s.defaultLine).style("stroke-width",a.crispRound(Ve,Ge.zerolinewidth,Ge._gw||1)+"px").style("display",null),ft(Ge,[j])},Q.drawLabels=function(Ve,Ge,ut){ut=ut||{};var dt=Ve._fullLayout,kt=Ge._id,bt=kt.charAt(0),At=ut.cls||kt+"tick",xt=ut.vals.filter(function(rn){return rn.text}),Rt=ut.labelFns,_t=ut.secondary?0:Ge.tickangle,Tt=(Ge._prevTickAngles||{})[At],It=ut.layer.selectAll("g."+At).data(Ge.showticklabels?xt:[],St),Wt=[];function Zt(rn,En){rn.each(function(Pn){var Mn=D.select(this),en=Mn.select(".text-math-group"),gn=Rt.anchorFn(Pn,En),an=ut.transFn.call(Mn.node(),Pn)+(E(En)&&0!=+En?" rotate("+En+","+Rt.xFn(Pn)+","+(Rt.yFn(Pn)-Pn.fontSize/2)+")":""),yn=u.lineCount(Mn),kn=ne*Pn.fontSize,Ln=Rt.heightFn(Pn,E(En)?+En:0,(yn-1)*kn);if(Ln&&(an+=v(0,Ln)),en.empty()){var Rn=Mn.select("text");Rn.attr({transform:an,"text-anchor":gn}),Rn.style("opacity",1),Ge._adjustTickLabelsOverflow&&Ge._adjustTickLabelsOverflow()}else{var Wn=a.bBox(en.node()).width*{end:-.5,start:.5}[gn];en.attr("transform",an+v(Wn,0))}})}It.enter().append("g").classed(At,1).append("text").attr("text-anchor","middle").each(function(rn){var En=D.select(this),Pn=Ve._promises.length;En.call(u.positionText,Rt.xFn(rn),Rt.yFn(rn)).call(a.font,rn.font,rn.fontSize,rn.fontColor).text(rn.text).call(u.convertToTspans,Ve),Ve._promises[Pn]?Wt.push(Ve._promises.pop().then(function(){Zt(En,_t)})):Zt(En,_t)}),ft(Ge,[G]),It.exit().remove(),ut.repositionOnUpdate&&It.each(function(rn){D.select(this).select("text").call(u.positionText,Rt.xFn(rn),Rt.yFn(rn))}),Ge._adjustTickLabelsOverflow=function(){var rn=Ge.ticklabeloverflow;if(rn&&"allow"!==rn){var En=-1!==rn.indexOf("hide"),Pn="x"===Ge._id.charAt(0),Mn=0,en=Pn?Ve._fullLayout.width:Ve._fullLayout.height;if(-1!==rn.indexOf("domain")){var gn=M.simpleMap(Ge.range,Ge.r2l);Mn=Ge.l2p(gn[0])+Ge._offset,en=Ge.l2p(gn[1])+Ge._offset}var an=Math.min(Mn,en),yn=Math.max(Mn,en),kn=Ge.side,Ln=1/0,Rn=-1/0;for(var Wn in It.each(function(mr){var lr=D.select(this);if(lr.select(".text-math-group").empty()){var er=a.bBox(lr.node()),xr=0;Pn?(er.right>yn||er.left<an)&&(xr=1):(er.bottom>yn||er.top+(Ge.tickangle?0:mr.fontSize/4)<an)&&(xr=1);var dr=lr.select("text");xr?En&&dr.style("opacity",0):(dr.style("opacity",1),Ln="bottom"===kn||"right"===kn?Math.min(Ln,Pn?er.top:er.left):-1/0,Rn="top"===kn||"left"===kn?Math.max(Rn,Pn?er.bottom:er.right):1/0)}}),dt._plots){var Cn=dt._plots[Wn];if(Ge._id===Cn.xaxis._id||Ge._id===Cn.yaxis._id){var Zn=Pn?Cn.yaxis:Cn.xaxis;Zn&&(Zn["_visibleLabelMin_"+Ge._id]=Ln,Zn["_visibleLabelMax_"+Ge._id]=Rn)}}}},Ge._hideCounterAxisInsideTickLabels=function(rn){var En="x"===Ge._id.charAt(0),Pn=[];for(var Mn in dt._plots){var en=dt._plots[Mn];Ge._id!==en.xaxis._id&&Ge._id!==en.yaxis._id||Pn.push(En?en.yaxis:en.xaxis)}Pn.forEach(function(gn,an){gn&&rt(gn)&&(rn||[j,N,X,q,G]).forEach(function(yn){var kn="tick"===yn.K&&"text"===yn.L&&"period"===Ge.ticklabelmode,Ln=dt._plots[Ge._mainSubplot];(yn.K===j.K?Ln.zerolinelayer.selectAll("."+Ge._id+"zl"):yn.K===N.K?Ln.minorGridlayer.selectAll("."+Ge._id):yn.K===X.K?Ln.gridlayer.selectAll("."+Ge._id):Ln[Ge._id.charAt(0)+"axislayer"]).each(function(){var Rn=D.select(this);yn.L&&(Rn=Rn.selectAll(yn.L)),Rn.each(function(Wn){var Cn=Ge.l2p(kn?ct(Wn):Wn.x)+Ge._offset,Zn=D.select(this);Cn<Ge["_visibleLabelMax_"+gn._id]&&Cn>Ge["_visibleLabelMin_"+gn._id]?Zn.style("display","none"):"tick"!==yn.K||an||Zn.style("display",null)})})})})},Zt(It,Tt+1?Tt:_t);var $t=null;Ge._selections&&(Ge._selections[At]=It);var dn=[function(){return Wt.length&&Promise.all(Wt)}];Ge.automargin&&dt._redrawFromAutoMarginCount&&90===Tt?($t=90,dn.push(function(){Zt(It,Tt)})):dn.push(function(){if(Zt(It,_t),xt.length&&"x"===bt&&!E(_t)&&("log"!==Ge.type||"D"!==String(Ge.dtick).charAt(0))){$t=0;var rn,En=0,Pn=[];if(It.each(function(lr){En=Math.max(En,lr.fontSize);var er=Ge.l2p(lr.x),xr=gt(this),dr=a.bBox(xr.node());Pn.push({top:0,bottom:10,height:10,left:er-dr.width/2,right:er+dr.width/2+2,width:dr.width+2})}),"boundaries"!==Ge.tickson&&!Ge.showdividers||ut.secondary){var Mn=xt.length,en=Math.abs((xt[Mn-1].x-xt[0].x)*Ge._m)/(Mn-1),gn=Ge.ticklabelposition||"",an=function(lr){return-1!==gn.indexOf(lr)},yn=an("top"),kn=an("left"),Ln=an("right"),Rn=an("bottom")||kn||yn||Ln?(Ge.tickwidth||0)+6:0,Wn=en<2.5*En||"multicategory"===Ge.type||"realaxis"===Ge._name;for(rn=0;rn<Pn.length-1;rn++)if(M.bBoxIntersect(Pn[rn],Pn[rn+1],Rn)){$t=Wn?90:30;break}}else{var Cn=2;for(Ge.ticks&&(Cn+=Ge.tickwidth/2),rn=0;rn<Pn.length;rn++){var Zn=xt[rn].xbnd,mr=Pn[rn];if(null!==Zn[0]&&mr.left-Ge.l2p(Zn[0])<Cn||null!==Zn[1]&&Ge.l2p(Zn[1])-mr.right<Cn){$t=90;break}}}$t&&Zt(It,$t)}}),Ge._tickAngles&&dn.push(function(){Ge._tickAngles[At]=null===$t?E(_t)?_t:0:$t});var nn=Ge._anchorAxis;nn&&nn.autorange&&rt(Ge)&&!ue(dt,Ge._id)&&(dt._insideTickLabelsAutorange||(dt._insideTickLabelsAutorange={}),dt._insideTickLabelsAutorange[nn._name+".autorange"]=nn.autorange,dn.push(function(){It.each(function(rn,En){var Pn=gt(this);Pn.select(".text-math-group").empty()&&(Ge._vals[En].bb=a.bBox(Pn.node()))})}));var cn=M.syncOrAsync(dn);return cn&&cn.then&&Ve._promises.push(cn),cn},Q.getPxPosition=function(Ve,Ge){var ut,dt=Ve._fullLayout._size,kt=Ge._id.charAt(0),bt=Ge.side;return"free"!==Ge.anchor?ut=Ge._anchorAxis:"x"===kt?ut={_offset:dt.t+(1-(Ge.position||0))*dt.h,_length:0}:"y"===kt&&(ut={_offset:dt.l+(Ge.position||0)*dt.w+Ge._shift,_length:0}),"top"===bt||"left"===bt?ut._offset:"bottom"===bt||"right"===bt?ut._offset+ut._length:void 0},Q.shouldShowZeroLine=function(Ve,Ge,ut){var dt=M.simpleMap(Ge.range,Ge.r2l);return dt[0]*dt[1]<=0&&Ge.zeroline&&("linear"===Ge.type||"-"===Ge.type)&&!(Ge.rangebreaks&&Ge.maskBreaks(0)===F)&&(vt(Ge,0)||!function(kt,bt,At,xt){var Rt=At._mainAxis;if(Rt){var _t=kt._fullLayout,Tt=bt._id.charAt(0),It=Q.counterLetter(bt._id),Wt=bt._offset+(Math.abs(xt[0])<Math.abs(xt[1])==("x"===Tt)?0:bt._length),Zt=_t._plots[At._mainSubplot];if(!(Zt.mainplotinfo||Zt).overlays.length)return cn(At);for(var $t=Q.list(kt,It),dn=0;dn<$t.length;dn++){var nn=$t[dn];if(nn._mainAxis===Rt&&cn(nn))return!0}}function cn(rn){if(!rn.showline||!rn.linewidth)return!1;var En=Math.max((rn.linewidth+bt.zerolinewidth)/2,1);function Pn(gn){return"number"==typeof gn&&Math.abs(gn-Wt)<En}if(Pn(rn._mainLinePosition)||Pn(rn._mainMirrorPosition))return!0;var Mn=rn._linepositions||{};for(var en in Mn)if(Pn(Mn[en][0])||Pn(Mn[en][1]))return!0}}(Ve,Ge,ut,dt)||function(kt,bt){for(var At=kt._fullData,xt=bt._mainSubplot,Rt=bt._id.charAt(0),_t=0;_t<At.length;_t++){var Tt=At[_t];if(!0===Tt.visible&&Tt.xaxis+Tt.yaxis===xt&&(S.traceIs(Tt,"bar-like")&&Tt.orientation==={x:"h",y:"v"}[Rt]||Tt.fill&&Tt.fill.charAt(Tt.fill.length-1)===Rt))return!0}return!1}(Ve,Ge))},Q.clipEnds=function(Ve,Ge){return Ge.filter(function(ut){return vt(Ve,ut.x)})},Q.allowAutoMargin=function(Ve){for(var Ge=Q.list(Ve,"",!0),ut=0;ut<Ge.length;ut++){var dt=Ge[ut];dt.automargin&&(d.allowAutoMargin(Ve,Et(dt)),dt.mirror&&d.allowAutoMargin(Ve,Pt(dt))),S.getComponentMethod("rangeslider","isVisible")(dt)&&d.allowAutoMargin(Ve,Ot(dt))}},Q.swap=function(Ve,Ge){for(var ut=function(kt,bt){var At,xt,Rt=[];for(At=0;At<bt.length;At++){var _t=[],Tt=kt._fullData[bt[At]].xaxis,It=kt._fullData[bt[At]].yaxis;if(Tt&&It){for(xt=0;xt<Rt.length;xt++)-1===Rt[xt].x.indexOf(Tt)&&-1===Rt[xt].y.indexOf(It)||_t.push(xt);if(_t.length){var Wt,Zt=Rt[_t[0]];if(_t.length>1)for(xt=1;xt<_t.length;xt++)Ht(Zt.x,(Wt=Rt[_t[xt]]).x),Ht(Zt.y,Wt.y);Ht(Zt.x,[Tt]),Ht(Zt.y,[It])}else Rt.push({x:[Tt],y:[It]})}}return Rt}(Ve,Ge),dt=0;dt<ut.length;dt++)zt(Ve,ut[dt].x,ut[dt].y)}},4322:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(50606).BADNUM,S=E.isArrayOrTypedArray,M=E.isDateTime,v=E.cleanNumber,u=Math.round;function i(a,o){return o?D(a):"number"==typeof a}function s(a){return Math.max(1,(a-1)/1e3)}ae.exports=function(a,o,l){var m,c=a,f=l.noMultiCategory;if(S(c)&&!c.length)return"-";if(!f&&S((m=c)[0])&&S(m[1]))return"multicategory";if(f&&Array.isArray(c[0])){for(var g=[],h=0;h<c.length;h++)if(S(c[h]))for(var T=0;T<c[h].length;T++)g.push(c[h][T]);c=g}if(function(m,b){for(var _=m.length,w=s(_),A=0,p=0,I={},k=0;k<_;k+=w){var L=m[u(k)],O=String(L);I[O]||(I[O]=1,M(L,b)&&A++,D(L)&&p++)}return A>2*p}(c,o))return"date";var x="strict"!==l.autotypenumbers;return function(m,b){for(var _=m.length,w=s(_),A=0,p=0,I={},k=0;k<_;k+=w){var L=m[u(k)],O=String(L);if(!I[O]){I[O]=1;var P=typeof L;"boolean"===P?p++:(b?v(L)!==d:"number"===P)?A++:"string"===P&&p++}}return p>2*A}(c,x)?"category":function(m,b){for(var _=m.length,w=0;w<_;w++)if(i(m[w],b))return!0;return!1}(c,x)?"linear":"-"}},71453:function(ae,B,r){"use strict";var D=r(92770),E=r(73972),d=r(71828),S=r(44467),M=r(85501),v=r(13838),u=r(26218),i=r(38701),s=r(96115),a=r(89426),o=r(15258),l=r(92128),c=r(23074),f=r(21994),g=r(85555).WEEKDAY_PATTERN,h=r(85555).HOUR_PATTERN;function T(b,_,w){function A(j,X){return d.coerce(b,_,v.rangebreaks,j,X)}if(A("enabled")){var p=A("bounds");if(p&&p.length>=2){var I,k,L="";if(2===p.length)for(I=0;I<2;I++)if(k=m(p[I])){L=g;break}var O=A("pattern",L);if(O===g)for(I=0;I<2;I++)(k=m(p[I]))&&(_.bounds[I]=p[I]=k-1);if(O)for(I=0;I<2;I++)switch(k=p[I],O){case g:if(!D(k)||(k=+k)!==Math.floor(k)||k<0||k>=7)return void(_.enabled=!1);_.bounds[I]=p[I]=k;break;case h:if(!D(k)||(k=+k)<0||k>24)return void(_.enabled=!1);_.bounds[I]=p[I]=k}if(!1===w.autorange){var P=w.range;if(P[0]<P[1]){if(p[0]<P[0]&&p[1]>P[1])return void(_.enabled=!1)}else if(p[0]>P[0]&&p[1]<P[1])return void(_.enabled=!1)}}else{var F=A("values");if(!F||!F.length)return void(_.enabled=!1);A("dvalue")}}}ae.exports=function(b,_,w,A,p){var I,k=A.letter,L=A.font||{},O=A.splomStash||{},P=w("visible",!A.visibleDflt),j=_.type||(_._template||{}).type||"-";"date"===j&&(E.getComponentMethod("calendars","handleDefaults")(b,_,"calendar",A.calendar),A.noTicklabelmode||(I=w("ticklabelmode")));var X="";A.noTicklabelposition&&"multicategory"!==j||(X=d.coerce(b,_,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===I?["outside","inside"]:"x"===k?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),A.noTicklabeloverflow||w("ticklabeloverflow",-1!==X.indexOf("inside")?"hide past domain":"category"===j||"multicategory"===j?"allow":"hide past div"),f(_,p),w("minallowed"),w("maxallowed");var N,q=w("range"),G=_.getAutorangeDflt(q,A),H=w("autorange",G);!q||(null!==q[0]||null!==q[1])&&(null!==q[0]&&null!==q[1]||"reversed"!==H&&!0!==H)&&(null===q[0]||"min"!==H&&"max reversed"!==H)&&(null===q[1]||"max"!==H&&"min reversed"!==H)||(q=void 0,delete _.range,_.autorange=!0,N=!0),N||(H=w("autorange",G=_.getAutorangeDflt(q,A))),H&&(c(w,H,q),"linear"!==j&&"-"!==j||w("rangemode")),_.cleanRange(),o(b,_,w,A),"category"===j||A.noHover||w("hoverformat");var Z=w("color"),$=Z!==v.color.dflt?Z:L.color,se=O.label||p._dfltTitle[k];if(a(b,_,w,j,A),!P)return _;w("title.text",se),d.coerceFont(w,"title.font",{family:L.family,size:d.bigFont(L.size),color:$}),u(b,_,w,j);var ne=A.hasMinor;if(ne&&(S.newContainer(_,"minor"),u(b,_,w,j,{isMinor:!0})),s(b,_,w,j,A),i(b,_,w,A),ne){var re=A.isMinor;A.isMinor=!0,i(b,_,w,A),A.isMinor=re}l(b,_,w,{dfltColor:Z,bgColor:A.bgColor,showGrid:A.showGrid,hasMinor:ne,attributes:v}),!ne||_.minor.ticks||_.minor.showgrid||delete _.minor,(_.showline||_.ticks)&&w("mirror");var Q,ee="multicategory"===j;if(A.noTickson||"category"!==j&&!ee||!_.ticks&&!_.showgrid||(ee&&(Q="boundaries"),"boundaries"===w("tickson",Q)&&delete _.ticklabelposition),ee&&w("showdividers")&&(w("dividercolor"),w("dividerwidth")),"date"===j)if(M(b,_,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),_.rangebreaks.length){for(var oe=0;oe<_.rangebreaks.length;oe++)if(_.rangebreaks[oe].pattern===g){_._hasDayOfWeekBreaks=!0;break}if(f(_,p),p._has("scattergl")||p._has("splom"))for(var ce=0;ce<A.data.length;ce++){var ue=A.data[ce];"scattergl"!==ue.type&&"splom"!==ue.type||(ue.visible=!1,d.warn(ue.type+" traces do not work on axes with rangebreaks. Setting trace "+ue.index+" to `visible: false`."))}}else delete _.rangebreaks;return _};var x={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(b){if("string"==typeof b)return x[b.substr(0,3).toLowerCase()]}},12663:function(ae,B,r){"use strict";var D=r(31562),E=D.FORMAT_LINK,d=D.DATE_FORMAT_LINK;function S(v,u){return["Sets the "+v+" formatting rule"+(u?"for `"+u+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+E+"."].join(" ")}function M(v,u){return S(v,u)+[" And for dates see: "+d+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ae.exports={axisHoverFormat:function(v,u){return{valType:"string",dflt:"",editType:"none",description:(u?S:M)("hover text",v)+["By default the values are formatted using "+(u?"generic number format":"`"+v+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:S,descriptionWithDates:M}},41675:function(ae,B,r){"use strict";var D=r(73972),E=r(85555);function d(S,M){if(M&&M.length)for(var v=0;v<M.length;v++)if(M[v][S])return!0;return!1}B.id2name=function(S){if("string"==typeof S&&S.match(E.AX_ID_PATTERN)){var M=S.split(" ")[0].substr(1);return"1"===M&&(M=""),S.charAt(0)+"axis"+M}},B.name2id=function(S){if(S.match(E.AX_NAME_PATTERN)){var M=S.substr(5);return"1"===M&&(M=""),S.charAt(0)+M}},B.cleanId=function(S,M,v){var u=/( domain)$/.test(S);if("string"==typeof S&&S.match(E.AX_ID_PATTERN)&&(!M||S.charAt(0)===M)&&(!u||v)){var i=S.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),S.charAt(0)+i+(u&&v?" domain":"")}},B.list=function(S,M,v){var u=S._fullLayout;if(!u)return[];var i,s=B.listIds(S,M),a=new Array(s.length);for(i=0;i<s.length;i++){var o=s[i];a[i]=u[o.charAt(0)+"axis"+o.substr(1)]}if(!v){var l=u._subplots.gl3d||[];for(i=0;i<l.length;i++){var c=u[l[i]];M?a.push(c[M+"axis"]):a.push(c.xaxis,c.yaxis,c.zaxis)}}return a},B.listIds=function(S,M){var v=S._fullLayout;if(!v)return[];var u=v._subplots;return M?u[M+"axis"]:u.xaxis.concat(u.yaxis)},B.getFromId=function(S,M,v){var u=S._fullLayout;return M=void 0===M||"string"!=typeof M?M:M.replace(" domain",""),"x"===v?M=M.replace(/y[0-9]*/,""):"y"===v&&(M=M.replace(/x[0-9]*/,"")),u[B.id2name(M)]},B.getFromTrace=function(S,M,v){var u=S._fullLayout,i=null;if(D.traceIs(M,"gl3d")){var s=M.scene;"scene"===s.substr(0,5)&&(i=u[s][v+"axis"])}else i=B.getFromId(S,M[v+"axis"]||v);return i},B.idSort=function(S,M){var v=S.charAt(0),u=M.charAt(0);return v!==u?v>u?1:-1:+(S.substr(1)||1)-+(M.substr(1)||1)},B.ref2id=function(S){return!!/^[xyz]/.test(S)&&S.split(" ")[0]},B.isLinked=function(S,M){return d(M,S._axisMatchGroups)||d(M,S._axisConstraintGroups)}},15258:function(ae){"use strict";ae.exports=function(B,r,D,E){if("category"===r.type){var d,S=B.categoryarray,M=Array.isArray(S)&&S.length>0;M&&(d="array");var v,u=D("categoryorder",d);"array"===u&&(v=D("categoryarray")),M||"array"!==u||(u=r.categoryorder="trace"),"trace"===u?r._initialCategories=[]:"array"===u?r._initialCategories=v.slice():(v=function(i,s){var a,o,l,c=s.dataAttr||i._id.charAt(0),f={};if(s.axData)a=s.axData;else for(a=[],o=0;o<s.data.length;o++){var g=s.data[o];g[c+"axis"]===i._id&&a.push(g)}for(o=0;o<a.length;o++){var h=a[o][c];for(l=0;l<h.length;l++){var T=h[l];null!=T&&(f[T]=1)}}return Object.keys(f)}(r,E).sort(),"category ascending"===u?r._initialCategories=v:"category descending"===u&&(r._initialCategories=v.reverse()))}}},66287:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(50606),S=d.ONEDAY,M=d.ONEWEEK;B.dtick=function(v,u){var i="log"===u,s="date"===u,a="category"===u,o=s?S:1;if(!v)return o;if(D(v))return(v=Number(v))<=0?o:a?Math.max(1,Math.round(v)):s?Math.max(.1,v):v;if("string"!=typeof v||!s&&!i)return o;var l=v.charAt(0),c=v.substr(1);return(c=D(c)?Number(c):0)<=0||!(s&&"M"===l&&c===Math.round(c)||i&&"L"===l||i&&"D"===l&&(1===c||2===c))?o:v},B.tick0=function(v,u,i,s){return"date"===u?E.cleanDate(v,E.dateTick0(i,s%M==0?1:0)):"D1"!==s&&"D2"!==s?D(v)?Number(v):0:void 0}},85555:function(ae,B,r){"use strict";var D=r(30587).counter;ae.exports={idRegex:{x:D("x","( domain)?"),y:D("y","( domain)?")},attrRegex:D("[xy]axis"),xAxisMatch:D("xaxis"),yAxisMatch:D("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(ae,B,r){"use strict";var D=r(71828),E=r(71739),d=r(41675).id2name,S=r(13838),M=r(42449),v=r(21994),u=r(50606).ALMOST_EQUAL,i=r(18783).FROM_BL;function s(h,T,x){var m=x.axIds,b=x.layoutOut,_=x.hasImage,w=b._axisConstraintGroups,A=b._axisMatchGroups,p=T._id,I=p.charAt(0),k=((b._splomAxes||{})[I]||{})[p]||{},L=T._id,O="x"===L.charAt(0);function P(ee,oe){return D.coerce(h,T,S,ee,oe)}T._matchGroup=null,T._constraintGroup=null,P("constrain",_?"domain":"range"),D.coerce(h,T,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var F,j,X=T.type,N=[];for(F=0;F<m.length;F++)(j=m[F])!==L&&b[d(j)].type===X&&N.push(j);var q=o(w,L);if(q){var G=[];for(F=0;F<N.length;F++)q[j=N[F]]||G.push(j);N=G}var H,Z,$=N.length;$&&(h.matches||k.matches)&&(H=D.coerce(h,T,{matches:{valType:"enumerated",values:N,dflt:-1!==N.indexOf(k.matches)?k.matches:void 0}},"matches"));var se=_&&!O?T.anchor:void 0;if($&&!H&&(h.scaleanchor||se)&&(Z=D.coerce(h,T,{scaleanchor:{valType:"enumerated",values:N.concat([!1])}},"scaleanchor",se)),H){T._matchGroup=l(A,L,H,1);var ne=b[d(H)],re=a(b,T)/a(b,ne);O!==("x"===H.charAt(0))&&(re=(O?"x":"y")+re),l(w,L,H,re)}else h.matches&&-1!==m.indexOf(h.matches)&&D.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(Z){var Q=P("scaleratio");Q||(Q=T.scaleratio=1),l(w,L,Z,Q)}else h.scaleanchor&&-1!==m.indexOf(h.scaleanchor)&&D.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(h,T){var x=T.domain;return x||(x=h[d(T.overlaying)].domain),x[1]-x[0]}function o(h,T){for(var x=0;x<h.length;x++)if(h[x][T])return h[x];return null}function l(h,T,x,m){var b,_,w,A,p,I=o(h,T);null===I?((I={})[T]=1,p=h.length,h.push(I)):p=h.indexOf(I);var k=Object.keys(I);for(b=0;b<h.length;b++)if(w=h[b],b!==p&&w[x]){var L=w[x];for(_=0;_<k.length;_++)w[A=k[_]]=c(L,c(m,I[A]));return void h.splice(p,1)}if(1!==m)for(_=0;_<k.length;_++){var O=k[_];I[O]=c(m,I[O])}I[x]=1}function c(h,T){var x,m,b="",_="";"string"==typeof h&&(x=(b=h.match(/^[xy]*/)[0]).length,h=+h.substr(x)),"string"==typeof T&&(m=(_=T.match(/^[xy]*/)[0]).length,T=+T.substr(m));var w=h*T;return x||m?x&&m&&b.charAt(0)!==_.charAt(0)?x===m?w:(x>m?b.substr(m):_.substr(x))+w:b+_+h*T:w}function f(h,T){for(var x=T._size,m=x.h/x.w,b={},_=Object.keys(h),w=0;w<_.length;w++){var A=_[w],p=h[A];if("string"==typeof p){var I=p.match(/^[xy]*/)[0],k=I.length;p=+p.substr(k);for(var L="y"===I.charAt(0)?m:1/m,O=0;O<k;O++)p*=L}b[A]=p}return b}function g(h,T){var x=h._inputDomain,b=x[0]+(x[1]-x[0])*i[h.constraintoward];h.domain=h._input.domain=[b+(x[0]-b)/T,b+(x[1]-b)/T],h.setScale()}B.handleDefaults=function(h,T,x){var m,b,_,w,A,p,I,k,L=x.axIds,O=x.axHasImage,P=T._axisConstraintGroups=[],F=T._axisMatchGroups=[];for(m=0;m<L.length;m++)s(A=h[w=d(L[m])],p=T[w],{axIds:L,layoutOut:T,hasImage:O[w]});function j(ne,re){for(m=0;m<ne.length;m++)for(_ in b=ne[m])T[d(_)][re]=b}for(j(F,"_matchGroup"),m=0;m<P.length;m++)for(_ in b=P[m])if((p=T[d(_)]).fixedrange){for(var X in b){var N=d(X);!1===(h[N]||{}).fixedrange&&D.warn("fixedrange was specified as false for axis "+N+" but was overridden because another axis in its constraint group has fixedrange true"),T[N].fixedrange=!0}break}for(m=0;m<P.length;){for(_ in b=P[m]){(p=T[d(_)])._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(b).length&&(P.splice(m,1),m--);break}m++}j(P,"_constraintGroup");var q=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],G=!1,H=!1;function Z(){k=p[I],"rangebreaks"===I&&(H=p._hasDayOfWeekBreaks)}for(m=0;m<F.length;m++){b=F[m];for(var $=0;$<q.length;$++){var se;for(_ in I=q[$],k=null,b)if(A=h[w=d(_)],I in(p=T[w])){if(!p.matches&&(se=p,I in A)){Z();break}null===k&&I in A&&Z()}if("range"===I&&k&&A.range&&2===A.range.length&&null!==A.range[0]&&null!==A.range[1]&&(G=!0),"autorange"===I&&null===k&&G&&(k=!1),null===k&&I in se&&(k=se[I]),null!==k)for(_ in b)(p=T[d(_)])[I]="range"===I?k.slice():k,"rangebreaks"===I&&(p._hasDayOfWeekBreaks=H,v(p,T))}}},B.enforce=function(h){var T,x,m,b,_,w,A,p,I=h._fullLayout,k=I._axisConstraintGroups||[];for(T=0;T<k.length;T++){m=f(k[T],I);var L=Object.keys(m),O=1/0,P=0,F=1/0,j={},X={},N=!1;for(x=0;x<L.length;x++)X[b=L[x]]=_=I[d(b)],_._inputDomain?_.domain=_._inputDomain.slice():_._inputDomain=_.domain.slice(),_._inputRange||(_._inputRange=_.range.slice()),_.setScale(),j[b]=w=Math.abs(_._m)/m[b],O=Math.min(O,w),"domain"!==_.constrain&&_._constraintShrinkable||(F=Math.min(F,w)),delete _._constraintShrinkable,P=Math.max(P,w),"domain"===_.constrain&&(N=!0);if(!(O>u*P)||N)for(x=0;x<L.length;x++)if(w=j[b=L[x]],A=(_=X[b]).constrain,w!==F||"domain"===A)if(p=w/F,"range"===A)M(_,p);else{var q=_._inputDomain,G=(_.domain[1]-_.domain[0])/(q[1]-q[0]),H=(_.r2l(_.range[1])-_.r2l(_.range[0]))/(_.r2l(_._inputRange[1])-_.r2l(_._inputRange[0]));if((p/=G)*H<1){_.domain=_._input.domain=q.slice(),M(_,p);continue}if(H<1&&(_.range=_._input.range=_._inputRange.slice(),p*=H),_.autorange){var Z=_.r2l(_.range[0]),$=_.r2l(_.range[1]),se=(Z+$)/2,ne=se,re=se,Q=Math.abs($-se),ee=se-Q*p*1.0001,oe=se+Q*p*1.0001,ce=E.makePadFn(I,_,0),ue=E.makePadFn(I,_,1);g(_,p);var he,ve,ke=Math.abs(_._m),Ie=E.concatExtremes(h,_),Me=Ie.min,_e=Ie.max;for(ve=0;ve<Me.length;ve++)(he=Me[ve].val-ce(Me[ve])/ke)>ee&&he<ne&&(ne=he);for(ve=0;ve<_e.length;ve++)(he=_e[ve].val+ue(_e[ve])/ke)<oe&&he>re&&(re=he);p/=(re-ne)/(2*Q),ne=_.l2r(ne),re=_.l2r(re),_.range=_._input.range=Z<$?[ne,re]:[re,ne]}g(_,p)}}},B.getAxisGroup=function(h,T){for(var x=h._axisMatchGroups,m=0;m<x.length;m++)if(x[m][T])return"g"+m;return T},B.clean=function(h,T){if(T._inputDomain){for(var x=!1,m=T._id,b=h._fullLayout._axisConstraintGroups,_=0;_<b.length;_++)if(b[_][m]){x=!0;break}x&&"domain"===T.constrain||(T._input.domain=T.domain=T._inputDomain,delete T._inputDomain)}}},29323:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=E.numberFormat,S=r(84267),M=r(38520),v=r(73972),u=E.strTranslate,i=r(63893),s=r(7901),a=r(91424),o=r(30211),l=r(89298),c=r(6964),f=r(28569),g=r(64505),h=g.selectingOrDrawing,T=g.freeMode,x=r(18783).FROM_TL,m=r(33306),b=r(61549).redrawReglTraces,_=r(74875),w=r(41675).getFromId,A=r(47322).prepSelect,p=r(47322).clearOutline,I=r(47322).selectOnClick,k=r(42449),L=r(85555),O=L.MINDRAG,P=L.MINZOOM,F=!0;function j(he,ve,ke,Ie){var Me=E.ensureSingle(he.draglayer,ve,ke,function(_e){_e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",he.id)});return Me.call(c,Ie),Me.node()}function X(he,ve,ke,Ie,Me,_e,we){var ze=j(he,"rect",ve,ke);return D.select(ze).call(a.setRect,Ie,Me,_e,we),ze}function N(he,ve){for(var ke=0;ke<he.length;ke++)if(!he[ke].fixedrange)return ve;return""}function q(he,ve,ke,Ie,Me){for(var _e=0;_e<he.length;_e++){var we=he[_e];if(!we.fixedrange)if(we.rangebreaks){var ze="y"===we._id.charAt(0),Se=ze?1-ke:ke;Ie[we._name+".range[0]"]=we.l2r(we.p2l((ze?1-ve:ve)*we._length)),Ie[we._name+".range[1]"]=we.l2r(we.p2l(Se*we._length))}else{var me=we._rl[0],fe=we._rl[1]-me;Ie[we._name+".range[0]"]=we.l2r(me+fe*ve),Ie[we._name+".range[1]"]=we.l2r(me+fe*ke)}}if(Me&&Me.length){var le=(ve+(1-ke))/2;q(Me,le,1-le,Ie,[])}}function G(he,ve){for(var ke=0;ke<he.length;ke++){var Ie=he[ke];if(!Ie.fixedrange){if(Ie.rangebreaks){var Me=Ie._length,_e=(Ie.p2l(0+ve)-Ie.p2l(0)+(Ie.p2l(Me+ve)-Ie.p2l(Me)))/2;Ie.range=[Ie.l2r(Ie._rl[0]-_e),Ie.l2r(Ie._rl[1]-_e)]}else Ie.range=[Ie.l2r(Ie._rl[0]-ve/Ie._m),Ie.l2r(Ie._rl[1]-ve/Ie._m)];Ie.limitRange&&Ie.limitRange()}}}function H(he){return 1-(he>=0?Math.min(he,.9):1/(1/Math.max(he,-.3)+3.222))}function Z(he,ve,ke,Ie,Me){return he.append("path").attr("class","zoombox").style({fill:ve>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",u(ke,Ie)).attr("d",Me+"Z")}function $(he,ve,ke){return he.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("transform",u(ve,ke)).attr("d","M0,0Z")}function se(he,ve,ke,Ie,Me,_e){he.attr("d",Ie+"M"+ke.l+","+ke.t+"v"+ke.h+"h"+ke.w+"v-"+ke.h+"h-"+ke.w+"Z"),ne(he,ve,Me,_e)}function ne(he,ve,ke,Ie){ke||(he.transition().style("fill",Ie>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ve.transition().style("opacity",1).duration(200))}function re(he){D.select(he).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Q(he){F&&he.data&&he._context.showTips&&(E.notifier(E._(he,"Double-click to zoom back out"),"long"),F=!1)}function ee(he){var ve=Math.floor(Math.min(he.b-he.t,he.r-he.l,P)/2);return"M"+(he.l-3.5)+","+(he.t-.5+ve)+"h3v"+-ve+"h"+ve+"v-3h-"+(ve+3)+"ZM"+(he.r+3.5)+","+(he.t-.5+ve)+"h-3v"+-ve+"h"+-ve+"v-3h"+(ve+3)+"ZM"+(he.r+3.5)+","+(he.b+.5-ve)+"h-3v"+ve+"h"+-ve+"v3h"+(ve+3)+"ZM"+(he.l-3.5)+","+(he.b+.5-ve)+"h3v"+ve+"h"+ve+"v3h-"+(ve+3)+"Z"}function oe(he,ve,ke,Ie,Me){for(var _e,we,ze,Ee,Se=!1,me={},fe={},le=(Me||{}).xaHash,Te=(Me||{}).yaHash,Re=0;Re<ve.length;Re++){var De=ve[Re];for(_e in ke)if(De[_e]){for(ze in De)Me&&(le[ze]||Te[ze])||("x"===ze.charAt(0)?ke:Ie)[ze]||(me[ze]=_e);for(we in Ie)Me&&(le[we]||Te[we])||!De[we]||(Se=!0)}for(we in Ie)if(De[we])for(Ee in De)Me&&(le[Ee]||Te[Ee])||("x"===Ee.charAt(0)?ke:Ie)[Ee]||(fe[Ee]=we)}Se&&(E.extendFlat(me,fe),fe={});var Ue={},Ze=[];for(ze in me){var xe=w(he,ze);Ze.push(xe),Ue[xe._id]=xe}var Oe={},Ce=[];for(Ee in fe){var Be=w(he,Ee);Ce.push(Be),Oe[Be._id]=Be}return{xaHash:Ue,yaHash:Oe,xaxes:Ze,yaxes:Ce,xLinks:me,yLinks:fe,isSubplotConstrained:Se}}function ce(he,ve){if(M){var ke=void 0!==he.onwheel?"wheel":"mousewheel";he._onwheel&&he.removeEventListener(ke,he._onwheel),he._onwheel=ve,he.addEventListener(ke,ve,{passive:!1})}else void 0!==he.onwheel?he.onwheel=ve:void 0!==he.onmousewheel?he.onmousewheel=ve:he.isAddedWheelEvent||(he.isAddedWheelEvent=!0,he.addEventListener("wheel",ve,{passive:!1}))}function ue(he){var ve=[];for(var ke in he)ve.push(he[ke]);return ve}ae.exports={makeDragBox:function(he,ve,ke,Ie,Me,_e,we,ze){var Ee,Se,me,fe,le,Te,Re,De,Ue,Ze,xe,Oe,Ce,Be,qe,He,Je,et,st,pt,ct,St,Dt,vt=he._fullLayout._zoomlayer,gt=we+ze==="nsew",Et=1===(we+ze).length;function Pt(){if(Ue=(Ee=ve.xaxis)._length,Ze=(Se=ve.yaxis)._length,Re=Ee._offset,De=Se._offset,(me={})[Ee._id]=Ee,(fe={})[Se._id]=Se,we&&ze)for(var en=ve.overlays,gn=0;gn<en.length;gn++){var an=en[gn].xaxis;me[an._id]=an;var yn=en[gn].yaxis;fe[yn._id]=yn}le=ue(me),Te=ue(fe),Ce=N(le,ze),Be=N(Te,we),qe=!Be&&!Ce,Oe=oe(he,he._fullLayout._axisMatchGroups,me,fe);var kn=(xe=oe(he,he._fullLayout._axisConstraintGroups,me,fe,Oe)).isSubplotConstrained||Oe.isSubplotConstrained;He=ze||kn,Je=we||kn;var Ln=he._fullLayout;et=Ln._has("scattergl"),st=Ln._has("splom"),pt=Ln._has("svg")}ke+=ve.yaxis._shift,Pt();var en,Ot=(en=Be+Ce)?"nsew"===en?gt?"":"pan"===he._fullLayout.dragmode?"move":"crosshair":en.toLowerCase()+"-resize":"pointer",Ht=X(ve,we+ze+"drag",Ot,ke,Ie,Me,_e);if(qe&&!gt)return Ht.onmousedown=null,Ht.style.pointerEvents="none",Ht;var zt,nt,it,Ke,rt,ft,ht,Ve,Ge,ut,dt={element:Ht,gd:he,plotinfo:ve};function kt(){dt.plotinfo.selection=!1,p(he)}function bt(en,gn){var mr,lr,er,xr,dr,an=dt.gd;if(an._fullLayout._activeShapeIndex>=0)an._fullLayout._deactivateShape(an);else{var yn=an._fullLayout.clickmode;if(re(an),2!==en||Et||function nn(){if(!he._transitioningWithDuration){var en=he._context.doubleClick,gn=[];Ce&&(gn=gn.concat(le)),Be&&(gn=gn.concat(Te)),Oe.xaxes&&(gn=gn.concat(Oe.xaxes)),Oe.yaxes&&(gn=gn.concat(Oe.yaxes));var an,yn,kn={};if("reset+autosize"===en)for(en="autosize",yn=0;yn<gn.length;yn++){var Ln=(an=gn[yn])._rangeInitial0,Rn=an._rangeInitial1,Wn=void 0!==Ln||void 0!==Rn;if(Wn&&(void 0!==Ln&&Ln!==an.range[0]||void 0!==Rn&&Rn!==an.range[1])||!Wn&&!0!==an.autorange){en="reset";break}}if("autosize"===en)for(yn=0;yn<gn.length;yn++)(an=gn[yn]).fixedrange||(kn[an._name+".autorange"]=!0);else if("reset"===en)for((Ce||xe.isSubplotConstrained)&&(gn=gn.concat(xe.xaxes)),Be&&!xe.isSubplotConstrained&&(gn=gn.concat(xe.yaxes)),xe.isSubplotConstrained&&(Ce?Be||(gn=gn.concat(Te)):gn=gn.concat(le)),yn=0;yn<gn.length;yn++)if(!(an=gn[yn]).fixedrange){var Cn=an._name,Zn=an._autorangeInitial;void 0===an._rangeInitial0&&void 0===an._rangeInitial1?kn[Cn+".autorange"]=!0:void 0===an._rangeInitial0?(kn[Cn+".autorange"]=Zn,kn[Cn+".range"]=[null,an._rangeInitial1]):void 0===an._rangeInitial1?(kn[Cn+".range"]=[an._rangeInitial0,null],kn[Cn+".autorange"]=Zn):kn[Cn+".range"]=[an._rangeInitial0,an._rangeInitial1]}he.emit("plotly_doubleclick",null),v.call("_guiRelayout",he,kn)}}(),gt)yn.indexOf("select")>-1&&I(gn,an,le,Te,ve.id,dt),yn.indexOf("event")>-1&&o.click(an,gn,ve.id);else if(1===en&&Et){var kn=we?Se:Ee,Ln="s"===we||"w"===ze?0:1,Rn=kn._name+".range["+Ln+"]",Wn=(xr=(mr=kn).range[lr=Ln],dr=Math.abs(xr-mr.range[1-lr]),"date"===mr.type?xr:"log"===mr.type?(er=Math.ceil(Math.max(0,-Math.log(dr)/Math.LN10))+3,d("."+er+"g")(Math.pow(10,xr))):(er=Math.floor(Math.log(Math.abs(xr))/Math.LN10)-Math.floor(Math.log(dr)/Math.LN10)+4,d("."+String(er)+"g")(xr))),Cn="left",Zn="middle";if(kn.fixedrange)return;we?(Zn="n"===we?"top":"bottom","right"===kn.side&&(Cn="right")):"e"===ze&&(Cn="right"),an._context.showAxisRangeEntryBoxes&&D.select(Ht).call(i.makeEditable,{gd:an,immediate:!0,background:an._fullLayout.paper_bgcolor,text:String(Wn),fill:kn.tickfont?kn.tickfont.color:"#444",horizontalAlign:Cn,verticalAlign:Zn}).on("edit",function(mr){var lr=kn.d2r(mr);void 0!==lr&&v.call("_guiRelayout",an,Rn,lr)})}}}function At(en,gn){if(he._transitioningWithDuration)return!1;var Zn,mr,an=Math.max(0,Math.min(Ue,St*en+zt)),yn=Math.max(0,Math.min(Ze,Dt*gn+nt)),kn=Math.abs(an-zt),Ln=Math.abs(yn-nt);function Rn(){ht="",it.r=it.l,it.t=it.b,Ge.attr("d","M0,0Z")}if(it.l=Math.min(zt,an),it.r=Math.max(zt,an),it.t=Math.min(nt,yn),it.b=Math.max(nt,yn),xe.isSubplotConstrained)kn>P||Ln>P?(ht="xy",kn/Ue>Ln/Ze?(Ln=kn*Ze/Ue,nt>yn?it.t=nt-Ln:it.b=nt+Ln):(kn=Ln*Ue/Ze,zt>an?it.l=zt-kn:it.r=zt+kn),Ge.attr("d",ee(it))):Rn();else if(Oe.isSubplotConstrained)if(kn>P||Ln>P){ht="xy";var Wn=Math.min(it.l/Ue,(Ze-it.b)/Ze),Cn=Math.max(it.r/Ue,(Ze-it.t)/Ze);it.l=Wn*Ue,it.r=Cn*Ue,it.b=(1-Wn)*Ze,it.t=(1-Cn)*Ze,Ge.attr("d",ee(it))}else Rn();else!Be||Ln<Math.min(Math.max(.6*kn,O),P)?kn<O||!Ce?Rn():(it.t=0,it.b=Ze,ht="x",Ge.attr("d","M"+((Zn=it).l-.5)+","+((mr=nt)-P-.5)+"h-3v"+(2*P+1)+"h3ZM"+(Zn.r+.5)+","+(mr-P-.5)+"h3v"+(2*P+1)+"h-3Z")):!Ce||kn<Math.min(.6*Ln,P)?(it.l=0,it.r=Ue,ht="y",Ge.attr("d",function(Zn,mr){return"M"+(mr-P-.5)+","+(Zn.t-.5)+"v-3h"+(2*P+1)+"v3ZM"+(mr-P-.5)+","+(Zn.b+.5)+"v3h"+(2*P+1)+"v-3Z"}(it,zt))):(ht="xy",Ge.attr("d",ee(it)));it.w=it.r-it.l,it.h=it.b-it.t,ht&&(ut=!0),he._dragged=ut,se(Ve,Ge,it,rt,ft,Ke),xt(),he.emit("plotly_relayouting",ct),ft=!0}function xt(){ct={},"xy"!==ht&&"x"!==ht||(q(le,it.l/Ue,it.r/Ue,ct,xe.xaxes),$t("x",ct)),"xy"!==ht&&"y"!==ht||(q(Te,(Ze-it.b)/Ze,(Ze-it.t)/Ze,ct,xe.yaxes),$t("y",ct))}function Rt(){xt(),re(he),cn(),Q(he)}dt.prepFn=function(en,gn,an){var yn=dt.dragmode,kn=he._fullLayout.dragmode;kn!==yn&&(dt.dragmode=kn),Pt(),St=he._fullLayout._invScaleX,Dt=he._fullLayout._invScaleY,qe||(gt?en.shiftKey?"pan"===kn?kn="zoom":h(kn)||(kn="pan"):en.ctrlKey&&(kn="pan"):kn="pan"),dt.minDrag=T(kn)?1:void 0,h(kn)?(dt.xaxes=le,dt.yaxes=Te,A(en,gn,an,dt,kn)):(dt.clickFn=bt,h(yn)&&kt(),qe||("zoom"===kn?(dt.moveFn=At,dt.doneFn=Rt,dt.minDrag=1,function(Ln,Rn,Wn){var Cn=Ht.getBoundingClientRect();zt=Rn-Cn.left,nt=Wn-Cn.top,he._fullLayout._calcInverseTransform(he);var Zn=E.apply3DTransform(he._fullLayout._invTransform)(zt,nt);it={l:zt=Zn[0],r:zt,w:0,t:nt=Zn[1],b:nt,h:0},Ke=he._hmpixcount?he._hmlumcount/he._hmpixcount:S(he._fullLayout.plot_bgcolor).getLuminance(),ft=!1,ht="xy",ut=!1,Ve=Z(vt,Ke,Re,De,rt="M0,0H"+Ue+"V"+Ze+"H0V0"),Ge=$(vt,Re,De)}(0,gn,an)):"pan"===kn&&(dt.moveFn=Zt,dt.doneFn=cn))),he._fullLayout._redrag=function(){var Ln=he._dragdata;Ln&&Ln.element===Ht&&(h(he._fullLayout.dragmode)||(Pt(),rn([0,0,Ue,Ze]),dt.moveFn(Ln.dx,Ln.dy)))}},f.init(dt);var _t=[0,0,Ue,Ze],Tt=null,It=L.REDRAWDELAY,Wt=ve.mainplot?he._fullLayout._plots[ve.mainplot]:ve;function Zt(en,gn){if(en*=St,gn*=Dt,!he._transitioningWithDuration){if(he._fullLayout._replotting=!0,"ew"===Ce||"ns"===Be){var an=Ce?-en:0,yn=Be?-gn:0;if(Oe.isSubplotConstrained){if(Ce&&Be){var kn=(en/Ue-gn/Ze)/2;an=-(en=kn*Ue),yn=-(gn=-kn*Ze)}Be?an=-yn*Ue/Ze:yn=-an*Ze/Ue}return Ce&&(G(le,en),$t("x")),Be&&(G(Te,gn),$t("y")),rn([an,yn,Ue,Ze]),dn(),void he.emit("plotly_relayouting",ct)}var Ln,Rn,Wn="w"===Ce==("n"===Be)?1:-1;if(Ce&&Be&&(xe.isSubplotConstrained||Oe.isSubplotConstrained)){var Cn=(en/Ue+Wn*gn/Ze)/2;en=Cn*Ue,gn=Wn*Cn*Ze}if("w"===Ce?en=er(le,0,en):"e"===Ce?en=er(le,1,-en):Ce||(en=0),"n"===Be?gn=er(Te,1,gn):"s"===Be?gn=er(Te,0,-gn):Be||(gn=0),Ln="w"===Ce?en:0,Rn="n"===Be?gn:0,xe.isSubplotConstrained&&!Oe.isSubplotConstrained||Oe.isSubplotConstrained&&Ce&&Be&&Wn>0){var Zn;if(Oe.isSubplotConstrained||!Ce&&1===Be.length){for(Zn=0;Zn<le.length;Zn++)le[Zn].range=le[Zn]._r.slice(),k(le[Zn],1-gn/Ze);Ln=(en=gn*Ue/Ze)/2}if(Oe.isSubplotConstrained||!Be&&1===Ce.length){for(Zn=0;Zn<Te.length;Zn++)Te[Zn].range=Te[Zn]._r.slice(),k(Te[Zn],1-en/Ue);Rn=(gn=en*Ze/Ue)/2}}Oe.isSubplotConstrained&&Be||$t("x"),Oe.isSubplotConstrained&&Ce||$t("y");var mr=Ue-en,lr=Ze-gn;!Oe.isSubplotConstrained||Ce&&Be||(Ce?(Rn=Ln?0:en*Ze/Ue,lr=mr*Ze/Ue):(Ln=Rn?0:gn*Ue/Ze,mr=lr*Ue/Ze)),rn([Ln,Rn,mr,lr]),dn(),he.emit("plotly_relayouting",ct)}function er(xr,dr,jr){for(var Kt,qt,Tn=1-dr,xn=0;xn<xr.length;xn++){var In=xr[xn];if(!In.fixedrange){Kt=In,qt=In._rl[Tn]+(In._rl[dr]-In._rl[Tn])/H(jr/In._length);var cr=In.l2r(qt);!1!==cr&&void 0!==cr&&(In.range[dr]=cr)}}return Kt._length*(Kt._rl[dr]-qt)/(Kt._rl[dr]-Kt._rl[Tn])}}function $t(en,gn){for(var an=Oe.isSubplotConstrained?{x:Te,y:le}[en]:Oe[en+"axes"],yn=Oe.isSubplotConstrained?{x:le,y:Te}[en]:[],kn=0;kn<an.length;kn++){var Ln=an[kn],Rn=Ln._id,Wn=Oe.xLinks[Rn]||Oe.yLinks[Rn],Cn=yn[0]||me[Wn]||fe[Wn];Cn&&(gn?(gn[Ln._name+".range[0]"]=gn[Cn._name+".range[0]"],gn[Ln._name+".range[1]"]=gn[Cn._name+".range[1]"]):Ln.range=Cn.range.slice())}}function dn(){var en,gn=[];function an(Rn){for(en=0;en<Rn.length;en++)Rn[en].fixedrange||gn.push(Rn[en]._id)}function yn(Rn,Wn){for(en=0;en<Rn.length;en++){var Cn=Rn[en],Zn=Cn[Wn];Cn.fixedrange||"sync"!==Zn.tickmode||gn.push(Zn._id)}}for(He&&(an(le),an(xe.xaxes),an(Oe.xaxes),yn(ve.overlays,"xaxis")),Je&&(an(Te),an(xe.yaxes),an(Oe.yaxes),yn(ve.overlays,"yaxis")),ct={},en=0;en<gn.length;en++){var Ln=w(he,gn[en]);l.drawOne(he,Ln,{skipTitle:!0}),ct[Ln._name+".range[0]"]=Ln.range[0],ct[Ln._name+".range[1]"]=Ln.range[1]}l.redrawComponents(he,gn)}function cn(){rn([0,0,Ue,Ze]),E.syncOrAsync([_.previousPromises,function(){he._fullLayout._replotting=!1,v.call("_guiRelayout",he,ct)}],he)}function rn(en){var gn,an,yn,kn,Ln=he._fullLayout,Rn=Ln._plots,Wn=Ln._subplots.cartesian;if(st&&v.subplotsRegistry.splom.drag(he),et)for(gn=0;gn<Wn.length;gn++)if(yn=(an=Rn[Wn[gn]]).xaxis,kn=an.yaxis,an._scene){var Cn=E.simpleMap(yn.range,yn.r2l),Zn=E.simpleMap(kn.range,kn.r2l);yn.limitRange&&yn.limitRange(),kn.limitRange&&kn.limitRange(),an._scene.update({range:[(Cn=yn.range)[0],(Zn=kn.range)[0],Cn[1],Zn[1]]})}if((st||et)&&(m(he),b(he)),pt){var mr=en[2]/Ee._length,lr=en[3]/Se._length;for(gn=0;gn<Wn.length;gn++){yn=(an=Rn[Wn[gn]]).xaxis,kn=an.yaxis;var er,xr,dr,jr,qt=(Je||Oe.isSubplotConstrained)&&!kn.fixedrange&&fe[kn._id];if((He||Oe.isSubplotConstrained)&&!yn.fixedrange&&me[yn._id]?(er=mr,dr=ze||Oe.isSubplotConstrained?en[0]:Mn(yn,er)):Oe.xaHash[yn._id]?(er=mr,dr=en[0]*yn._length/Ee._length):Oe.yaHash[yn._id]?(er=lr,dr="ns"===Be?-en[1]*yn._length/Se._length:Mn(yn,er,{n:"top",s:"bottom"}[Be])):dr=Pn(yn,er=En(yn,mr,lr)),er>1&&(void 0!==yn.maxallowed&&He===(yn.range[0]<yn.range[1]?"e":"w")||void 0!==yn.minallowed&&He===(yn.range[0]<yn.range[1]?"w":"e"))&&(er=1,dr=0),qt?(xr=lr,jr=we||Oe.isSubplotConstrained?en[1]:Mn(kn,xr)):Oe.yaHash[kn._id]?(xr=lr,jr=en[1]*kn._length/Se._length):Oe.xaHash[kn._id]?(xr=mr,jr="ew"===Ce?-en[0]*kn._length/Ee._length:Mn(kn,xr,{e:"right",w:"left"}[Ce])):jr=Pn(kn,xr=En(kn,mr,lr)),xr>1&&(void 0!==kn.maxallowed&&Je===(kn.range[0]<kn.range[1]?"n":"s")||void 0!==kn.minallowed&&Je===(kn.range[0]<kn.range[1]?"s":"n"))&&(xr=1,jr=0),er||xr){er||(er=1),xr||(xr=1);var Tn=yn._offset-dr/er,xn=kn._offset-jr/xr;an.clipRect.call(a.setTranslate,dr,jr).call(a.setScale,er,xr),an.plot.call(a.setTranslate,Tn,xn).call(a.setScale,1/er,1/xr),er===an.xScaleFactor&&xr===an.yScaleFactor||(a.setPointGroupScale(an.zoomScalePts,er,xr),a.setTextPointsScale(an.zoomScaleTxt,er,xr)),a.hideOutsideRangePoints(an.clipOnAxisFalseTraces,an),an.xScaleFactor=er,an.yScaleFactor=xr}}}}function En(en,gn,an){return en.fixedrange?0:He&&xe.xaHash[en._id]?gn:Je&&(xe.isSubplotConstrained?xe.xaHash:xe.yaHash)[en._id]?an:0}function Pn(en,gn){return gn?(en.range=en._r.slice(),k(en,gn),Mn(en,gn)):0}function Mn(en,gn,an){return en._length*(1-gn)*x[an||en.constraintoward||"middle"]}return we.length*ze.length!=1&&ce(Ht,function(en){if(he._context._scrollZoom.cartesian||he._fullLayout._enablescrollzoom){if(kt(),he._transitioningWithDuration)return en.preventDefault(),void en.stopPropagation();Pt(),clearTimeout(Tt);var gn=-en.deltaY;if(isFinite(gn)||(gn=en.wheelDelta/10),isFinite(gn)){var an,yn=Math.exp(-Math.min(Math.max(gn,-20),20)/200),kn=Wt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ln=(en.clientX-kn.left)/kn.width,Rn=(kn.bottom-en.clientY)/kn.height;if(He){for(ze||(Ln=.5),an=0;an<le.length;an++)Wn(le[an],Ln,yn);$t("x"),_t[2]*=yn,_t[0]+=_t[2]*Ln*(1/yn-1)}if(Je){for(we||(Rn=.5),an=0;an<Te.length;an++)Wn(Te[an],Rn,yn);$t("y"),_t[3]*=yn,_t[1]+=_t[3]*(1-Rn)*(1/yn-1)}rn(_t),dn(),he.emit("plotly_relayouting",ct),Tt=setTimeout(function(){he._fullLayout&&(_t=[0,0,Ue,Ze],cn())},It),en.preventDefault()}else E.log("Did not find wheel motion attributes: ",en)}function Wn(Cn,Zn,mr){if(!Cn.fixedrange){var lr=E.simpleMap(Cn.range,Cn.r2l),er=lr[0]+(lr[1]-lr[0])*Zn;Cn.range=lr.map(function(xr){return Cn.l2r(er+(xr-er)*mr)})}}}),Ht},makeDragger:j,makeRectDragger:X,makeZoombox:Z,makeCorners:$,updateZoombox:se,xyCorners:ee,transitionZoombox:ne,removeZoombox:re,showDoubleClickNotifier:Q,attachWheelEventHandler:ce}},4305:function(ae,B,r){"use strict";var D=r(39898),E=r(30211),d=r(28569),S=r(6964),M=r(29323).makeDragBox,v=r(85555).DRAGGERSIZE;B.initInteractions=function(u){var i=u._fullLayout;if(u._context.staticPlot)D.select(u).selectAll(".drag").remove();else if(i._has("cartesian")||i._has("splom")){Object.keys(i._plots||{}).sort(function(a,o){if((i._plots[a].mainplot&&!0)===(i._plots[o].mainplot&&!0)){var l=a.split("y"),c=o.split("y");return l[0]===c[0]?Number(l[1]||1)-Number(c[1]||1):Number(l[0]||1)-Number(c[0]||1)}return i._plots[a].mainplot?1:-1}).forEach(function(a){var o=i._plots[a],l=o.xaxis,c=o.yaxis;if(!o.mainplot){var f=M(u,o,l._offset,c._offset,l._length,c._length,"ns","ew");f.onmousemove=function(T){u._fullLayout._rehover=function(){u._fullLayout._hoversubplot===a&&u._fullLayout._plots[a]&&E.hover(u,T,a)},E.hover(u,T,a),u._fullLayout._lasthover=f,u._fullLayout._hoversubplot=a},f.onmouseout=function(T){u._dragging||(u._fullLayout._hoversubplot=null,d.unhover(u,T))},u._context.showAxisDragHandles&&(M(u,o,l._offset-v,c._offset-v,v,v,"n","w"),M(u,o,l._offset+l._length,c._offset-v,v,v,"n","e"),M(u,o,l._offset-v,c._offset+c._length,v,v,"s","w"),M(u,o,l._offset+l._length,c._offset+c._length,v,v,"s","e"))}if(u._context.showAxisDragHandles){if(a===l._mainSubplot){var g=l._mainLinePosition;"top"===l.side&&(g-=v),M(u,o,l._offset+.1*l._length,g,.8*l._length,v,"","ew"),M(u,o,l._offset,g,.1*l._length,v,"","w"),M(u,o,l._offset+.9*l._length,g,.1*l._length,v,"","e")}if(a===c._mainSubplot){var h=c._mainLinePosition;"right"!==c.side&&(h-=v),M(u,o,h,c._offset+.1*c._length,v,.8*c._length,"ns",""),M(u,o,h,c._offset+.9*c._length,v,.1*c._length,"s",""),M(u,o,h,c._offset,v,.1*c._length,"n","")}}});var s=i._hoverlayer.node();s.onmousemove=function(a){a.target=u._fullLayout._lasthover,E.hover(u,a,i._hoversubplot)},s.onclick=function(a){a.target=u._fullLayout._lasthover,E.click(u,a)},s.onmousedown=function(a){u._fullLayout._lasthover.onmousedown(a)},B.updateFx(u)}},B.updateFx=function(u){var i=u._fullLayout;S(i._draggers,"pan"===i.dragmode?"move":"crosshair")}},76325:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(41675);ae.exports=function(S){return function(M,v){var u=M[S];if(Array.isArray(u))for(var i=D.subplotsRegistry.cartesian,s=i.idRegex,a=v._subplots,o=a.xaxis,l=a.yaxis,c=a.cartesian,f=v._has("cartesian")||v._has("gl2d"),g=0;g<u.length;g++){var h=u[g];if(E.isPlainObject(h)){var T=d.cleanId(h.xref,"x",!1),x=d.cleanId(h.yref,"y",!1),m=s.x.test(T),b=s.y.test(x);if(m||b){f||E.pushUnique(v._basePlotModules,i);var _=!1;m&&-1===o.indexOf(T)&&(o.push(T),_=!0),b&&-1===l.indexOf(x)&&(l.push(x),_=!0),_&&m&&b&&c.push(T+x)}}}}}},93612:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(71828),S=r(74875),M=r(91424),v=r(27659).a0,u=r(41675),i=r(85555),s=r(77922),a=d.ensureSingle;function o(h,T,x){return d.ensureSingle(h,T,x,function(m){m.datum(x)})}function l(h,T,x,m,b){for(var _,w,A,p=i.traceLayerClasses,I=h._fullLayout,k=I._modules,L=[],O=[],P=0;P<k.length;P++){var F=(_=k[P]).name,j=E.modules[F].categories;if(j.svg){var X=_.layerName||F+"layer",N=_.plot;A=(w=v(x,N))[0],x=w[1],A.length&&L.push({i:p.indexOf(X),className:X,plotMethod:N,cdModule:A}),j.zoomScale&&O.push("."+X)}}L.sort(function(H,Z){return H.i-Z.i});var q=T.plot.selectAll("g.mlayer").data(L,function(H){return H.className});if(q.enter().append("g").attr("class",function(H){return H.className}).classed("mlayer",!0).classed("rangeplot",T.isRangePlot),q.exit().remove(),q.order(),q.each(function(H){var Z=D.select(this),$=H.className;H.plotMethod(h,T,H.cdModule,Z,m,b),-1===i.clipOnAxisFalseQuery.indexOf("."+$)&&M.setClipUrl(Z,T.layerClipId,h)}),I._has("scattergl")&&(_=E.getModule("scattergl"),A=v(x,_)[0],_.plot(h,T,A)),!h._context.staticPlot&&(T._hasClipOnAxisFalse&&(T.clipOnAxisFalseTraces=T.plot.selectAll(i.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),O.length)){var G=T.plot.selectAll(O.join(",")).selectAll(".trace");T.zoomScalePts=G.selectAll("path.point"),T.zoomScaleTxt=G.selectAll(".textpoint")}}function c(h,T){var x=T.plotgroup,m=T.id,b=i.layerValue2layerClass[T.xaxis.layer],_=i.layerValue2layerClass[T.yaxis.layer],w=h._fullLayout._hasOnlyLargeSploms;if(T.mainplot){var A=T.mainplotinfo,p=A.plotgroup,I=m+"-x",k=m+"-y";T.minorGridlayer=A.minorGridlayer,T.gridlayer=A.gridlayer,T.zerolinelayer=A.zerolinelayer,a(A.overlinesBelow,"path",I),a(A.overlinesBelow,"path",k),a(A.overaxesBelow,"g",I),a(A.overaxesBelow,"g",k),T.plot=a(A.overplot,"g",m),a(A.overlinesAbove,"path",I),a(A.overlinesAbove,"path",k),a(A.overaxesAbove,"g",I),a(A.overaxesAbove,"g",k),T.xlines=p.select(".overlines-"+b).select("."+I),T.ylines=p.select(".overlines-"+_).select("."+k),T.xaxislayer=p.select(".overaxes-"+b).select("."+I),T.yaxislayer=p.select(".overaxes-"+_).select("."+k)}else if(w)T.xlines=a(x,"path","xlines-above"),T.ylines=a(x,"path","ylines-above"),T.xaxislayer=a(x,"g","xaxislayer-above"),T.yaxislayer=a(x,"g","yaxislayer-above");else{var L=a(x,"g","layer-subplot");T.shapelayer=a(L,"g","shapelayer"),T.imagelayer=a(L,"g","imagelayer"),T.minorGridlayer=a(x,"g","minor-gridlayer"),T.gridlayer=a(x,"g","gridlayer"),T.zerolinelayer=a(x,"g","zerolinelayer"),a(x,"path","xlines-below"),a(x,"path","ylines-below"),T.overlinesBelow=a(x,"g","overlines-below"),a(x,"g","xaxislayer-below"),a(x,"g","yaxislayer-below"),T.overaxesBelow=a(x,"g","overaxes-below"),T.plot=a(x,"g","plot"),T.overplot=a(x,"g","overplot"),T.xlines=a(x,"path","xlines-above"),T.ylines=a(x,"path","ylines-above"),T.overlinesAbove=a(x,"g","overlines-above"),a(x,"g","xaxislayer-above"),a(x,"g","yaxislayer-above"),T.overaxesAbove=a(x,"g","overaxes-above"),T.xlines=x.select(".xlines-"+b),T.ylines=x.select(".ylines-"+_),T.xaxislayer=x.select(".xaxislayer-"+b),T.yaxislayer=x.select(".yaxislayer-"+_)}w||(o(T.minorGridlayer,"g",T.xaxis._id),o(T.minorGridlayer,"g",T.yaxis._id),T.minorGridlayer.selectAll("g").map(function(O){return O[0]}).sort(u.idSort),o(T.gridlayer,"g",T.xaxis._id),o(T.gridlayer,"g",T.yaxis._id),T.gridlayer.selectAll("g").map(function(O){return O[0]}).sort(u.idSort)),T.xlines.style("fill","none").classed("crisp",!0),T.ylines.style("fill","none").classed("crisp",!0)}function f(h,T){if(h){var x={};for(var m in h.each(function(A){var p=A[0];D.select(this).remove(),g(p,T),x[p]=!0}),T._plots)for(var b=T._plots[m].overlays||[],_=0;_<b.length;_++){var w=b[_];x[w.id]&&w.plot.selectAll(".trace").remove()}}}function g(h,T){T._draggers.selectAll("g."+h).remove(),T._defs.select("#clip"+T._uid+h+"plot").remove()}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=i.idRegex,B.attrRegex=i.attrRegex,B.attributes=r(89502),B.layoutAttributes=r(13838),B.supplyLayoutDefaults=r(86763),B.transitionAxes=r(66847),B.finalizeSubplots=function(h,T){var x,m,b,_=T._subplots,w=_.xaxis,A=_.yaxis,p=_.cartesian,I=p.concat(_.gl2d||[]),k={},L={};for(x=0;x<I.length;x++){var O=I[x].split("y");k[O[0]]=1,L["y"+O[1]]=1}for(x=0;x<w.length;x++)k[m=w[x]]||(b=(h[u.id2name(m)]||{}).anchor,i.idRegex.y.test(b)||(b="y"),p.push(m+b),I.push(m+b),L[b]||(L[b]=1,d.pushUnique(A,b)));for(x=0;x<A.length;x++)L[b=A[x]]||(m=(h[u.id2name(b)]||{}).anchor,i.idRegex.x.test(m)||(m="x"),p.push(m+b),I.push(m+b),k[m]||(k[m]=1,d.pushUnique(w,m)));if(!I.length){for(var P in m="",b="",h)i.attrRegex.test(P)&&("x"===P.charAt(0)?(!m||+P.substr(5)<+m.substr(5))&&(m=P):(!b||+P.substr(5)<+b.substr(5))&&(b=P));m=m?u.name2id(m):"x",b=b?u.name2id(b):"y",w.push(m),A.push(b),p.push(m+b)}},B.plot=function(h,T,x,m){var b,_=h._fullLayout,w=_._subplots.cartesian,A=h.calcdata;if(!Array.isArray(T))for(T=[],b=0;b<A.length;b++)T.push(b);for(b=0;b<w.length;b++){for(var p,I=w[b],k=_._plots[I],L=[],O=0;O<A.length;O++){var P=A[O],F=P[0].trace;F.xaxis+F.yaxis===I&&((-1!==T.indexOf(F.index)||F.carpet)&&(p&&p[0].trace.xaxis+p[0].trace.yaxis===I&&-1!==["tonextx","tonexty","tonext"].indexOf(F.fill)&&-1===L.indexOf(p)&&L.push(p),L.push(P)),p=P)}l(h,k,L,x,m)}},B.clean=function(h,T,x,m){var b,_,w,A=m._plots||{},p=T._plots||{},I=m._subplots||{};if(m._hasOnlyLargeSploms&&!T._hasOnlyLargeSploms)for(w in A)(b=A[w]).plotgroup&&b.plotgroup.remove();var k=m._has&&m._has("gl"),L=T._has&&T._has("gl");if(k&&!L)for(w in A)(b=A[w])._scene&&b._scene.destroy();if(I.xaxis&&I.yaxis){var O=u.listIds({_fullLayout:m});for(_=0;_<O.length;_++){var P=O[_];T[u.id2name(P)]||m._infolayer.selectAll(".g-"+P+"title").remove()}}var F=m._has&&m._has("cartesian"),j=T._has&&T._has("cartesian");if(F&&!j)f(m._cartesianlayer.selectAll(".subplot"),m),m._defs.selectAll(".axesclip").remove(),delete m._axisConstraintGroups,delete m._axisMatchGroups;else if(I.cartesian)for(_=0;_<I.cartesian.length;_++){var X=I.cartesian[_];p[X]||(m._cartesianlayer.selectAll("."+X+",."+X+"-x,."+X+"-y").remove(),g(X,m))}},B.drawFramework=function(h){var T=h._fullLayout,x=function(b){var _,w,A,p,I,k,L=b._fullLayout,O=L._subplots.cartesian,P=O.length,F=[],j=[];for(_=0;_<P;_++){var q=(I=(p=L._plots[A=O[_]]).xaxis)._mainAxis._id+(k=p.yaxis)._mainAxis._id,G=L._plots[q];p.overlays=[],q!==A&&G?(p.mainplot=q,p.mainplotinfo=G,j.push(A)):(p.mainplot=void 0,p.mainplotinfo=void 0,F.push(A))}for(_=0;_<j.length;_++)(p=L._plots[A=j[_]]).mainplotinfo.overlays.push(p);var H=F.concat(j),Z=new Array(P);for(_=0;_<P;_++){var $=[A=H[_],(I=(p=L._plots[A]).xaxis).layer,(k=p.yaxis).layer,I.overlaying||"",k.overlaying||""];for(w=0;w<p.overlays.length;w++)$.push(p.overlays[w].id);Z[_]=$}return Z}(h),m=T._cartesianlayer.selectAll(".subplot").data(x,String);m.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),m.order(),m.exit().call(f,T),m.each(function(b){var _=b[0],w=T._plots[_];w.plotgroup=D.select(this),c(h,w),w.draglayer=a(T._draggers,"g",_)})},B.rangePlot=function(h,T,x){c(h,T),l(h,T,x),S.style(h)},B.toSVG=function(h){var T=h._fullLayout._glimages,x=D.select(h).selectAll(".svg-container");x.filter(function(m,b){return b===x.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var m=this,b=m.toDataURL("image/png");T.append("svg:image").attr({xmlns:s.svg,"xlink:href":b,preserveAspectRatio:"none",x:0,y:0,width:m.style.width,height:m.style.height})})},B.updateFx=r(4305).updateFx},13838:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),d=r(79952).P,S=r(1426).extendFlat,M=r(44467).templatedArray,v=r(12663).descriptionWithDates,u=r(50606).ONEDAY,i=r(85555),s=i.HOUR_PATTERN,a=i.WEEKDAY_PATTERN,o={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=S({},o,{values:o.values.slice().concat(["sync"])});function c(I){return{valType:"integer",min:0,dflt:I?5:0,editType:"ticks"}}var f={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function x(I){var k={valType:"number",min:0,editType:"ticks"};return I||(k.dflt=5),k}function m(I){var k={valType:"number",min:0,editType:"ticks"};return I||(k.dflt=1),k}var b={valType:"color",dflt:E.defaultLine,editType:"ticks"},_={valType:"color",dflt:E.lightLine,editType:"ticks"};function w(I){var k={valType:"number",min:0,editType:"ticks"};return I||(k.dflt=1),k}var A=S({},d,{editType:"ticks"}),p={valType:"boolean",editType:"ticks"};ae.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:E.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:D({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"calc"},rangebreaks:M("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,s,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:u},editType:"calc"}),tickmode:l,nticks:c(),tick0:f,dtick:g,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:x(),tickwidth:m(),tickcolor:b,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:S({},d,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:D({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:M("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:p,gridcolor:_,gridwidth:w(),griddash:A,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:E.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",i.idRegex.x.toString(),i.idRegex.y.toString()],editType:"plot"},minor:{tickmode:o,nticks:c("minor"),tick0:f,dtick:g,tickvals:h,ticks:T,ticklen:x("minor"),tickwidth:m("minor"),tickcolor:b,gridcolor:_,gridwidth:w("minor"),griddash:A,showgrid:p,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:D({editType:"ticks"})}}},86763:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(23469).isUnifiedHover,S=r(98212),M=r(44467),v=r(10820),u=r(13838),i=r(951),s=r(71453),a=r(99082),o=r(52830),l=r(41675),c=l.id2name,f=l.name2id,g=r(85555).AX_ID_PATTERN,h=r(73972),T=h.traceIs,x=h.getComponentMethod;function m(b,_,w){Array.isArray(b[_])?b[_].push(w):b[_]=[w]}ae.exports=function(b,_,w){var A,p,I=_.autotypenumbers,k={},L={},O={},P={},F={},j={},X={},N={},q={},G={};for(A=0;A<w.length;A++){var H=w[A];if(T(H,"cartesian")||T(H,"gl2d")){var Z,$;if(H.xaxis)Z=c(H.xaxis),m(k,Z,H);else if(H.xaxes)for(p=0;p<H.xaxes.length;p++)m(k,c(H.xaxes[p]),H);if(H.yaxis)$=c(H.yaxis),m(k,$,H);else if(H.yaxes)for(p=0;p<H.yaxes.length;p++)m(k,c(H.yaxes[p]),H);"funnel"===H.type?"h"===H.orientation?(Z&&(L[Z]=!0),$&&(X[$]=!0)):$&&(O[$]=!0):"image"===H.type?($&&(N[$]=!0),Z&&(N[Z]=!0)):($&&(F[$]=!0,j[$]=!0),T(H,"carpet")&&("carpet"!==H.type||H._cheater)||Z&&(P[Z]=!0)),"carpet"===H.type&&H._cheater&&Z&&(L[Z]=!0),T(H,"2dMap")&&(q[Z]=!0,q[$]=!0),T(H,"oriented")&&(G["h"===H.orientation?$:Z]=!0)}}var se=_._subplots,ne=se.xaxis,re=se.yaxis,Q=D.simpleMap(ne,c),ee=D.simpleMap(re,c),oe=Q.concat(ee),ce=E.background;ne.length&&re.length&&(ce=D.coerce(b,_,v,"plot_bgcolor"));var ue,he,ve,ke,Ie,Me=E.combine(ce,_.paper_bgcolor);function _e(){Ie._traceIndices=(k[ue]||[]).map(function(Pt){return Pt._expandedIndex}),Ie._annIndices=[],Ie._shapeIndices=[],Ie._selectionIndices=[],Ie._imgIndices=[],Ie._subplotsWith=[],Ie._counterAxes=[],Ie._name=Ie._attr=ue,Ie._id=he}function we(Et,Pt){return D.coerce(ke,Ie,u,Et,Pt)}function ze(Et,Pt){return D.coerce2(ke,Ie,u,Et,Pt)}function Ee(Et){return"x"===Et?re:ne}function Se(Et,Pt){for(var Ot="x"===Et?Q:ee,Ht=[],zt=0;zt<Ot.length;zt++){var nt=Ot[zt];nt===Pt||(b[nt]||{}).overlaying||Ht.push(f(nt))}return Ht}var me={x:Ee("x"),y:Ee("y")},fe=me.x.concat(me.y),le={},Te=[];function Re(){var Et=ke.matches;g.test(Et)&&-1===fe.indexOf(Et)&&(le[Et]=ke.type,Te=Object.keys(le))}var De=S(b,_),Ue=d(De);for(A=0;A<oe.length;A++){he=f(ue=oe[A]),ve=ue.charAt(0),D.isPlainObject(b[ue])||(b[ue]={}),ke=b[ue],Ie=M.newContainer(_,ue,ve+"axis"),_e();var Oe={hasMinor:!0,letter:ve,font:_.font,outerTicks:q[ue],showGrid:!G[ue],data:k[ue]||[],bgColor:Me,calendar:_.calendar,automargin:!0,visibleDflt:"x"===ve&&!P[ue]&&L[ue]||"y"===ve&&!F[ue]&&O[ue],reverseDflt:"y"===ve&&(!j[ue]&&X[ue]||N[ue]),autotypenumbersDflt:I,splomStash:((_._splomAxes||{})[ve]||{})[he]};we("uirevision",_.uirevision),i(ke,Ie,we,Oe),s(ke,Ie,we,Oe,_);var Ce=Ue&&ve===De.charAt(0),Be=ze("spikecolor",Ue?Ie.color:void 0),qe=ze("spikethickness",Ue?1.5:void 0),He=ze("spikedash",Ue?"dot":void 0),Je=ze("spikemode",Ue?"across":void 0),et=ze("spikesnap");we("showspikes",!!(Ce||Be||qe||He||Je||et))||(delete Ie.spikecolor,delete Ie.spikethickness,delete Ie.spikedash,delete Ie.spikemode,delete Ie.spikesnap);var st=c(ke.overlaying),pt=[0,1];if(void 0!==_[st]){var ct=c(_[st].anchor);void 0!==_[ct]&&(pt=_[ct].domain)}o(ke,Ie,we,{letter:ve,counterAxes:me[ve],overlayableAxes:Se(ve,ue),grid:_.grid,overlayingDomain:pt}),we("title.standoff"),Re(),Ie._input=ke}for(A=0;A<Te.length;){he=Te[A++],ve=(ue=c(he)).charAt(0),D.isPlainObject(b[ue])||(b[ue]={}),ke=b[ue],Ie=M.newContainer(_,ue,ve+"axis"),_e();var St={letter:ve,font:_.font,outerTicks:q[ue],showGrid:!G[ue],data:[],bgColor:Me,calendar:_.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:I,splomStash:((_._splomAxes||{})[ve]||{})[he]};we("uirevision",_.uirevision),Ie.type=le[he]||"linear",s(ke,Ie,we,St,_),o(ke,Ie,we,{letter:ve,counterAxes:me[ve],overlayableAxes:Se(ve,ue),grid:_.grid}),we("fixedrange"),Re(),Ie._input=ke}var Dt=x("rangeslider","handleDefaults"),vt=x("rangeselector","handleDefaults");for(A=0;A<Q.length;A++)ke=b[ue=Q[A]],Ie=_[ue],Dt(b,_,ue),"date"===Ie.type&&vt(ke,Ie,_,ee,Ie.calendar),we("fixedrange");for(A=0;A<ee.length;A++){ke=b[ue=ee[A]];var gt=_[c((Ie=_[ue]).anchor)];we("fixedrange",x("rangeslider","isVisible")(gt))}a.handleDefaults(b,_,{axIds:fe.concat(Te).sort(l.idSort),axHasImage:N})}},92128:function(ae,B,r){"use strict";var D=r(84267).mix,E=r(22399),d=r(71828);ae.exports=function(S,M,v,u){var i=(u=u||{}).dfltColor;function s(b,_){return d.coerce2(S,M,u.attributes,b,_)}var a=s("linecolor",i),o=s("linewidth");v("showline",u.showLine||!!a||!!o)||(delete M.linecolor,delete M.linewidth);var l=s("gridcolor",D(i,u.bgColor,u.blend||E.lightFraction).toRgbString()),c=s("gridwidth"),f=s("griddash");if(v("showgrid",u.showGrid||!!l||!!c||!!f)||(delete M.gridcolor,delete M.gridwidth,delete M.griddash),u.hasMinor){var g=s("minor.gridcolor",D(M.gridcolor,u.bgColor,67).toRgbString()),h=s("minor.gridwidth",M.gridwidth||1),T=s("minor.griddash",M.griddash||"solid");v("minor.showgrid",!!g||!!h||!!T)||(delete M.minor.gridcolor,delete M.minor.gridwidth,delete M.minor.griddash)}if(!u.noZeroLine){var x=s("zerolinecolor",i),m=s("zerolinewidth");v("zeroline",u.showGrid||!!x||!!m)||(delete M.zerolinecolor,delete M.zerolinewidth)}}},52830:function(ae,B,r){"use strict";var D=r(92770),E=r(71828);ae.exports=function(d,S,M,v){var u,i,s,a,o,l,c=v.counterAxes||[],f=v.overlayableAxes||[],g=v.letter,h=v.grid,T=v.overlayingDomain;h&&(u=h._anchors[S._id],(i=h._domains[g][h._axisMap[S._id]])&&(s=h[g+"side"].split(" ")[0],a=h.domain[g]["right"===s||"top"===s?1:0])),i=i||[0,1],u=u||(D(d.position)?"free":c[0]||"free"),s=s||("x"===g?"bottom":"left"),a=a||0,o=0,l=!1;var x=E.coerce(d,S,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:u}},"anchor"),m=E.coerce(d,S,{side:{valType:"enumerated",values:"x"===g?["bottom","top"]:["left","right"],dflt:s}},"side");"free"===x&&("y"===g&&(M("autoshift")&&(a="left"===m?T[0]:T[1],l=!S.automargin||S.automargin,o="left"===m?-3:3),M("shift",o)),M("position",a)),M("automargin",l);var b=!1;if(f.length&&(b=E.coerce(d,S,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!b){var _=M("domain",i);_[0]>_[1]-.000244140625&&(S.domain=i),E.noneOrAll(d.domain,S.domain,i),"sync"===S.tickmode&&(S.tickmode="auto")}return M("layer"),S}},89426:function(ae,B,r){"use strict";var D=r(59652);ae.exports=function(E,d,S,M,v){v||(v={});var u=v.tickSuffixDflt,i=D(E);S("tickprefix")&&S("showtickprefix",i),S("ticksuffix",u)&&S("showticksuffix",i)}},42449:function(ae,B,r){"use strict";var D=r(18783).FROM_BL;ae.exports=function(E,d,S){void 0===S&&(S=D[E.constraintoward||"center"]);var M=[E.r2l(E.range[0]),E.r2l(E.range[1])],v=M[0]+(M[1]-M[0])*S;E.range=E._input.range=[E.l2r(v+(M[0]-v)*d),E.l2r(v+(M[1]-v)*d)],E.setScale()}},21994:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).g0,d=r(71828),S=d.numberFormat,M=r(92770),v=d.cleanNumber,u=d.ms2DateTime,i=d.dateTime2ms,s=d.ensureNumber,a=d.isArrayOrTypedArray,o=r(50606),l=o.FP_SAFE,c=o.BADNUM,f=o.LOG_CLIP,g=o.ONEWEEK,h=o.ONEDAY,T=o.ONEHOUR,x=o.ONEMIN,m=o.ONESEC,b=r(41675),_=r(85555),w=_.HOUR_PATTERN,A=_.WEEKDAY_PATTERN;function p(k){return Math.pow(10,k)}function I(k){return null!=k}ae.exports=function(k,L){L=L||{};var O=k._id||"x",P=O.charAt(0);function F(oe,ce){if(oe>0)return Math.log(oe)/Math.LN10;if(oe<=0&&ce&&k.range&&2===k.range.length){var ue=k.range[0],he=k.range[1];return.5*(ue+he-2*f*Math.abs(ue-he))}return c}function j(oe,ce,ue,he){if((he||{}).msUTC&&M(oe))return+oe;var ve=i(oe,ue||k.calendar);if(ve===c){if(!M(oe))return c;oe=+oe;var ke=Math.floor(10*d.mod(oe+.05,1)),Ie=Math.round(oe-ke/10);ve=i(new Date(Ie))+ke/10}return ve}function X(oe,ce,ue){return u(oe,ce,ue||k.calendar)}function N(oe){return k._categories[Math.round(oe)]}function q(oe){if(I(oe)){if(void 0===k._categoriesMap&&(k._categoriesMap={}),void 0!==k._categoriesMap[oe])return k._categoriesMap[oe];k._categories.push("number"==typeof oe?String(oe):oe);var ce=k._categories.length-1;return k._categoriesMap[oe]=ce,ce}return c}function G(oe){if(k._categoriesMap)return k._categoriesMap[oe]}function H(oe){var ce=G(oe);return void 0!==ce?ce:M(oe)?+oe:void 0}function Z(oe){return M(oe)?+oe:G(oe)}function $(oe,ce,ue){return D.round(ue+ce*oe,2)}function se(oe,ce,ue){return(oe-ue)/ce}var ne=function(oe){return M(oe)?$(oe,k._m,k._b):c},re=function(oe){return se(oe,k._m,k._b)};if(k.rangebreaks){var Q="y"===P;ne=function(oe){if(!M(oe))return c;var ce=k._rangebreaks.length;if(!ce)return $(oe,k._m,k._b);var ue=Q;k.range[0]>k.range[1]&&(ue=!ue);for(var he=ue?-1:1,ve=he*oe,ke=0,Ie=0;Ie<ce;Ie++){var Me=he*k._rangebreaks[Ie].min,_e=he*k._rangebreaks[Ie].max;if(ve<Me)break;if(!(ve>_e)){ke=ve<(Me+_e)/2?Ie:Ie+1;break}ke=Ie+1}var we=k._B[ke]||0;return isFinite(we)?$(oe,k._m2,we):0},re=function(oe){var ce=k._rangebreaks.length;if(!ce)return se(oe,k._m,k._b);for(var ue=0,he=0;he<ce&&!(oe<k._rangebreaks[he].pmin);he++)oe>k._rangebreaks[he].pmax&&(ue=he+1);return se(oe,k._m2,k._B[ue])}}k.c2l="log"===k.type?F:s,k.l2c="log"===k.type?p:s,k.l2p=ne,k.p2l=re,k.c2p="log"===k.type?function(oe,ce){return ne(F(oe,ce))}:ne,k.p2c="log"===k.type?function(oe){return p(re(oe))}:re,-1!==["linear","-"].indexOf(k.type)?(k.d2r=k.r2d=k.d2c=k.r2c=k.d2l=k.r2l=v,k.c2d=k.c2r=k.l2d=k.l2r=s,k.d2p=k.r2p=function(oe){return k.l2p(v(oe))},k.p2d=k.p2r=re,k.cleanPos=s):"log"===k.type?(k.d2r=k.d2l=function(oe,ce){return F(v(oe),ce)},k.r2d=k.r2c=function(oe){return p(v(oe))},k.d2c=k.r2l=v,k.c2d=k.l2r=s,k.c2r=F,k.l2d=p,k.d2p=function(oe,ce){return k.l2p(k.d2r(oe,ce))},k.p2d=function(oe){return p(re(oe))},k.r2p=function(oe){return k.l2p(v(oe))},k.p2r=re,k.cleanPos=s):"date"===k.type?(k.d2r=k.r2d=d.identity,k.d2c=k.r2c=k.d2l=k.r2l=j,k.c2d=k.c2r=k.l2d=k.l2r=X,k.d2p=k.r2p=function(oe,ce,ue){return k.l2p(j(oe,0,ue))},k.p2d=k.p2r=function(oe,ce,ue){return X(re(oe),ce,ue)},k.cleanPos=function(oe){return d.cleanDate(oe,c,k.calendar)}):"category"===k.type?(k.d2c=k.d2l=q,k.r2d=k.c2d=k.l2d=N,k.d2r=k.d2l_noadd=H,k.r2c=function(oe){var ce=Z(oe);return void 0!==ce?ce:k.fraction2r(.5)},k.l2r=k.c2r=s,k.r2l=Z,k.d2p=function(oe){return k.l2p(k.r2c(oe))},k.p2d=function(oe){return N(re(oe))},k.r2p=k.d2p,k.p2r=re,k.cleanPos=function(oe){return"string"==typeof oe&&""!==oe?oe:s(oe)}):"multicategory"===k.type&&(k.r2d=k.c2d=k.l2d=N,k.d2r=k.d2l_noadd=H,k.r2c=function(oe){var ce=H(oe);return void 0!==ce?ce:k.fraction2r(.5)},k.r2c_just_indices=G,k.l2r=k.c2r=s,k.r2l=H,k.d2p=function(oe){return k.l2p(k.r2c(oe))},k.p2d=function(oe){return N(re(oe))},k.r2p=k.d2p,k.p2r=re,k.cleanPos=function(oe){return Array.isArray(oe)||"string"==typeof oe&&""!==oe?oe:s(oe)},k.setupMultiCategory=function(oe){var ce,ue,he=k._traceIndices,ve=k._matchGroup;if(ve&&0===k._categories.length)for(var ke in ve)if(ke!==O){var Ie=L[b.id2name(ke)];he=he.concat(Ie._traceIndices)}var Me=[[0,{}],[0,{}]],_e=[];for(ce=0;ce<he.length;ce++){var we=oe[he[ce]];if(P in we){var ze=we[P],Ee=we._length||d.minRowLength(ze);if(a(ze[0])&&a(ze[1]))for(ue=0;ue<Ee;ue++){var Se=ze[0][ue],me=ze[1][ue];I(Se)&&I(me)&&(_e.push([Se,me]),Se in Me[0][1]||(Me[0][1][Se]=Me[0][0]++),me in Me[1][1]||(Me[1][1][me]=Me[1][0]++))}}}for(_e.sort(function(fe,le){var Te=Me[0][1],Re=Te[fe[0]]-Te[le[0]];if(Re)return Re;var De=Me[1][1];return De[fe[1]]-De[le[1]]}),ce=0;ce<_e.length;ce++)q(_e[ce])}),k.fraction2r=function(oe){var ce=k.r2l(k.range[0]),ue=k.r2l(k.range[1]);return k.l2r(ce+oe*(ue-ce))},k.r2fraction=function(oe){var ce=k.r2l(k.range[0]),ue=k.r2l(k.range[1]);return(k.r2l(oe)-ce)/(ue-ce)},k.limitRange=function(oe){var ce=k.minallowed,ue=k.maxallowed;if(void 0!==ce||void 0!==ue){oe||(oe="range");var he=d.nestedProperty(k,oe).get(),ve=d.simpleMap(he,k.r2l),ke=ve[1]<ve[0];ke&&ve.reverse();var Ie=d.simpleMap([ce,ue],k.r2l);void 0!==ce&&ve[0]<Ie[0]&&(he[ke?1:0]=ce),void 0!==ue&&ve[1]>Ie[1]&&(he[ke?0:1]=ue)}},k.cleanRange=function(oe,ce){k._cleanRange(oe,ce),k.limitRange(oe)},k._cleanRange=function(oe,ce){ce||(ce={}),oe||(oe="range");var ue,he,ve=d.nestedProperty(k,oe).get();if(he=(he="date"===k.type?d.dfltRange(k.calendar):"y"===P?_.DFLTRANGEY:"realaxis"===k._name?[0,1]:ce.dfltRange||_.DFLTRANGEX).slice(),"tozero"!==k.rangemode&&"nonnegative"!==k.rangemode||(he[0]=0),ve&&2===ve.length){var ke=null===ve[0],Ie=null===ve[1];for("date"!==k.type||k.autorange||(ve[0]=d.cleanDate(ve[0],c,k.calendar),ve[1]=d.cleanDate(ve[1],c,k.calendar)),ue=0;ue<2;ue++)if("date"===k.type){if(!d.isDateTime(ve[ue],k.calendar)){k[oe]=he;break}if(k.r2l(ve[0])===k.r2l(ve[1])){var Me=d.constrain(k.r2l(ve[0]),d.MIN_MS+1e3,d.MAX_MS-1e3);ve[0]=k.l2r(Me-1e3),ve[1]=k.l2r(Me+1e3);break}}else{if(!M(ve[ue])){if(ke||Ie||!M(ve[1-ue])){k[oe]=he;break}ve[ue]=ve[1-ue]*(ue?10:.1)}if(ve[ue]<-l?ve[ue]=-l:ve[ue]>l&&(ve[ue]=l),ve[0]===ve[1]){var _e=Math.max(1,Math.abs(1e-6*ve[0]));ve[0]-=_e,ve[1]+=_e}}}else d.nestedProperty(k,oe).set(he)},k.setScale=function(oe){var ce=L._size;if(k.overlaying){var ue=b.getFromId({_fullLayout:L},k.overlaying);k.domain=ue.domain}var he=oe&&k._r?"_r":"range",ve=k.calendar;k.cleanRange(he);var ke,Ie,Me=k.r2l(k[he][0],ve),_e=k.r2l(k[he][1],ve),we="y"===P;if(we?(k._offset=ce.t+(1-k.domain[1])*ce.h,k._length=ce.h*(k.domain[1]-k.domain[0]),k._m=k._length/(Me-_e),k._b=-k._m*_e):(k._offset=ce.l+k.domain[0]*ce.w,k._length=ce.w*(k.domain[1]-k.domain[0]),k._m=k._length/(_e-Me),k._b=-k._m*Me),k._rangebreaks=[],k._lBreaks=0,k._m2=0,k._B=[],k.rangebreaks&&(k._rangebreaks=k.locateBreaks(Math.min(Me,_e),Math.max(Me,_e)),k._rangebreaks.length)){for(ke=0;ke<k._rangebreaks.length;ke++)Ie=k._rangebreaks[ke],k._lBreaks+=Math.abs(Ie.max-Ie.min);var ze=we;Me>_e&&(ze=!ze),ze&&k._rangebreaks.reverse();var Ee=ze?-1:1;for(k._m2=Ee*k._length/(Math.abs(_e-Me)-k._lBreaks),k._B.push(-k._m2*(we?_e:Me)),ke=0;ke<k._rangebreaks.length;ke++)k._B.push(k._B[k._B.length-1]-Ee*k._m2*((Ie=k._rangebreaks[ke]).max-Ie.min));for(ke=0;ke<k._rangebreaks.length;ke++)(Ie=k._rangebreaks[ke]).pmin=ne(Ie.min),Ie.pmax=ne(Ie.max)}if(!isFinite(k._m)||!isFinite(k._b)||k._length<0)throw L._replotting=!1,new Error("Something went wrong with axis scaling")},k.maskBreaks=function(oe){var ce,ue,he,ve,ke,Ie=k.rangebreaks||[];Ie._cachedPatterns||(Ie._cachedPatterns=Ie.map(function(Se){return Se.enabled&&Se.bounds?d.simpleMap(Se.bounds,Se.pattern?v:k.d2c):null})),Ie._cachedValues||(Ie._cachedValues=Ie.map(function(Se){return Se.enabled&&Se.values?d.simpleMap(Se.values,k.d2c).sort(d.sorterAsc):null}));for(var Me=0;Me<Ie.length;Me++){var _e=Ie[Me];if(_e.enabled)if(_e.bounds){switch(ue=(ce=Ie._cachedPatterns[Me])[0],he=ce[1],_e.pattern){case A:ve=(ke=new Date(oe)).getUTCDay(),ue>he&&(he+=7,ve<ue&&(ve+=7));break;case w:ve=(ke=new Date(oe)).getUTCHours()+(ke.getUTCMinutes()/60+ke.getUTCSeconds()/3600+ke.getUTCMilliseconds()/36e5),ue>he&&(he+=24,ve<ue&&(ve+=24));break;case"":ve=oe}if(ve>=ue&&ve<he)return c}else for(var ze=Ie._cachedValues[Me],Ee=0;Ee<ze.length;Ee++)if(he=(ue=ze[Ee])+_e.dvalue,oe>=ue&&oe<he)return c}return oe},k.locateBreaks=function(oe,ce){var ue,he,ve,ke,Ie=[];if(!k.rangebreaks)return Ie;var Me=k.rangebreaks.slice().sort(function(De,Ue){return De.pattern===A&&Ue.pattern===w?-1:Ue.pattern===A&&De.pattern===w?1:0}),_e=function(De,Ue){if((De=d.constrain(De,oe,ce))!==(Ue=d.constrain(Ue,oe,ce))){for(var Ze=!0,xe=0;xe<Ie.length;xe++){var Oe=Ie[xe];De<Oe.max&&Ue>=Oe.min&&(De<Oe.min&&(Oe.min=De),Ue>Oe.max&&(Oe.max=Ue),Ze=!1)}Ze&&Ie.push({min:De,max:Ue})}};for(ue=0;ue<Me.length;ue++){var we=Me[ue];if(we.enabled)if(we.bounds){var ze=oe,Ee=ce;we.pattern&&(ze=Math.floor(ze)),ve=(he=d.simpleMap(we.bounds,we.pattern?v:k.r2l))[0],ke=he[1];var Se,me,fe=new Date(ze);switch(we.pattern){case A:me=g,Se=(ke-ve+(ke<ve?7:0))*h,ze+=ve*h-(fe.getUTCDay()*h+fe.getUTCHours()*T+fe.getUTCMinutes()*x+fe.getUTCSeconds()*m+fe.getUTCMilliseconds());break;case w:me=h,Se=(ke-ve+(ke<ve?24:0))*T,ze+=ve*T-(fe.getUTCHours()*T+fe.getUTCMinutes()*x+fe.getUTCSeconds()*m+fe.getUTCMilliseconds());break;default:ze=Math.min(he[0],he[1]),Se=me=(Ee=Math.max(he[0],he[1]))-ze}for(var le=ze;le<Ee;le+=me)_e(le,le+Se)}else for(var Te=d.simpleMap(we.values,k.d2c),Re=0;Re<Te.length;Re++)_e(ve=Te[Re],ke=ve+we.dvalue)}return Ie.sort(function(De,Ue){return De.min-Ue.min}),Ie},k.makeCalcdata=function(oe,ce,ue){var he,ve,ke,Ie,Me=k.type,_e="date"===Me&&oe[ce+"calendar"];if(ce in oe){if(he=oe[ce],Ie=oe._length||d.minRowLength(he),d.isTypedArray(he)&&("linear"===Me||"log"===Me)){if(Ie===he.length)return he;if(he.subarray)return he.subarray(0,Ie)}if("multicategory"===Me)return function(Ee,Se){for(var me=new Array(Se),fe=0;fe<Se;fe++)me[fe]=G([(Ee[0]||[])[fe],(Ee[1]||[])[fe]]);return me}(he,Ie);for(ve=new Array(Ie),ke=0;ke<Ie;ke++)ve[ke]=k.d2c(he[ke],0,_e,ue)}else{var we=ce+"0"in oe?k.d2c(oe[ce+"0"],0,_e):0,ze=oe["d"+ce]?Number(oe["d"+ce]):1;for(he=oe[{x:"y",y:"x"}[ce]],Ie=oe._length||he.length,ve=new Array(Ie),ke=0;ke<Ie;ke++)ve[ke]=we+ke*ze}if(k.rangebreaks)for(ke=0;ke<Ie;ke++)ve[ke]=k.maskBreaks(ve[ke]);return ve},k.isValidRange=function(oe,ce){return Array.isArray(oe)&&2===oe.length&&(ce&&null===oe[0]||M(k.r2l(oe[0])))&&(ce&&null===oe[1]||M(k.r2l(oe[1])))},k.getAutorangeDflt=function(oe,ce){var ue=!k.isValidRange(oe,"nullOk");return ue&&ce&&ce.reverseDflt?ue="reversed":oe&&(null===oe[0]&&null===oe[1]?ue=!0:null===oe[0]&&null!==oe[1]?ue="min":null!==oe[0]&&null===oe[1]&&(ue="max")),ue},k.isReversed=function(){var oe=k.autorange;return"reversed"===oe||"min reversed"===oe||"max reversed"===oe},k.isPtWithinRange=function(oe,ce){var ue=k.c2l(oe[P],null,ce),he=k.r2l(k.range[0]),ve=k.r2l(k.range[1]);return he<ve?he<=ue&&ue<=ve:ve<=ue&&ue<=he},k._emptyCategories=function(){k._categories=[],k._categoriesMap={}},k.clearCalc=function(){var oe=k._matchGroup;if(oe){var ce=null,ue=null;for(var he in oe){var ve=L[b.id2name(he)];if(ve._categories){ce=ve._categories,ue=ve._categoriesMap;break}}ce&&ue?(k._categories=ce,k._categoriesMap=ue):k._emptyCategories()}else k._emptyCategories();if(k._initialCategories)for(var ke=0;ke<k._initialCategories.length;ke++)q(k._initialCategories[ke])},k.sortByInitialCategories=function(){var oe=[];if(k._emptyCategories(),k._initialCategories)for(var ce=0;ce<k._initialCategories.length;ce++)q(k._initialCategories[ce]);oe=oe.concat(k._traceIndices);var ue=k._matchGroup;for(var he in ue)if(O!==he){var ve=L[b.id2name(he)];ve._categories=k._categories,ve._categoriesMap=k._categoriesMap,oe=oe.concat(ve._traceIndices)}return oe};var ee=L._d3locale;"date"===k.type&&(k._dateFormat=ee?ee.timeFormat:E,k._extraFormat=L._extraFormat),k._separators=L.separators,k._numFormat=ee?ee.numberFormat:S,delete k._minDtick,delete k._forceTick0}},59652:function(ae){"use strict";ae.exports=function(B){var r=["showexponent","showtickprefix","showticksuffix"].filter(function(D){return void 0!==B[D]});if(r.every(function(D){return B[D]===B[r[0]]})||1===r.length)return B[r[0]]}},96115:function(ae,B,r){"use strict";var D=r(71828),E=r(7901).contrast,d=r(13838),S=r(59652),M=r(85501);function v(u,i){function s(a,o){return D.coerce(u,i,d.tickformatstops,a,o)}s("enabled")&&(s("dtickrange"),s("value"))}ae.exports=function(u,i,s,a,o){o||(o={});var l=s("labelalias");D.isPlainObject(l)||delete i.labelalias;var c=S(u);if(s("showticklabels")){var f=o.font||{},g=i.color,h=-1!==(i.ticklabelposition||"").indexOf("inside")?E(o.bgColor):g&&g!==d.color.dflt?g:f.color;if(D.coerceFont(s,"tickfont",{family:f.family,size:f.size,color:h}),o.noTicklabelstep||"multicategory"===a||"log"===a||s("ticklabelstep"),o.noAng||s("tickangle"),"category"!==a){var T=s("tickformat");M(u,i,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),i.tickformatstops.length||delete i.tickformatstops,o.noExp||T||"date"===a||(s("showexponent",c),s("exponentformat"),s("minexponent"),s("separatethousands"))}}}},38701:function(ae,B,r){"use strict";var D=r(71828),E=r(13838);ae.exports=function(d,S,M,v){var u=v.isMinor,i=u?d.minor||{}:d,s=u?S.minor:S,a=u?E.minor:E,o=u?"minor.":"",l=D.coerce2(i,s,a,"ticklen",u?.6*(S.ticklen||5):void 0),c=D.coerce2(i,s,a,"tickwidth",u?S.tickwidth||1:void 0),f=D.coerce2(i,s,a,"tickcolor",(u?S.tickcolor:void 0)||s.color);M(o+"ticks",!u&&v.outerTicks||l||c||f?"outside":"")||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(ae,B,r){"use strict";var D=r(66287),E=r(71828).isArrayOrTypedArray;ae.exports=function(d,S,M,v,u){u||(u={});var i=u.isMinor,s=i?d.minor||{}:d,a=i?S.minor:S,o=i?"minor.":"";function l(x){var m=s[x];return void 0!==m?m:(a._template||{})[x]}var c=l("tick0"),f=l("dtick"),g=l("tickvals"),h=M(o+"tickmode",E(g)?"array":f?"linear":"auto");if("auto"===h||"sync"===h)M(o+"nticks");else if("linear"===h){var T=a.dtick=D.dtick(f,v);a.tick0=D.tick0(c,v,S.calendar,T)}else"multicategory"!==v&&(void 0===M(o+"tickvals")?a.tickmode="auto":i||M("ticktext"))}},66847:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(71828),S=r(91424),M=r(89298);ae.exports=function(v,u,i,s){var a=v._fullLayout;if(0!==u.length){var o,l,c,f;s&&(o=s());var g=D.ease(i.easing);return v._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(f),f=null,function(){for(var x={},m=0;m<u.length;m++){var b=u[m],w=b.plotinfo.yaxis;b.xr0&&(x[b.plotinfo.xaxis._name+".range"]=b.xr0.slice()),b.yr0&&(x[w._name+".range"]=b.yr0.slice())}return E.call("relayout",v,x).then(function(){for(var A=0;A<u.length;A++)h(u[A].plotinfo)})}()}),l=Date.now(),f=window.requestAnimationFrame(function x(){c=Date.now();for(var m=Math.min(1,(c-l)/i.duration),b=g(m),_=0;_<u.length;_++)T(u[_],b);c-l>i.duration?(function(){for(var w={},A=0;A<u.length;A++){var p=u[A],k=p.plotinfo.yaxis;p.xr1&&(w[p.plotinfo.xaxis._name+".range"]=p.xr1.slice()),p.yr1&&(w[k._name+".range"]=p.yr1.slice())}o&&o(),E.call("relayout",v,w).then(function(){for(var L=0;L<u.length;L++)h(u[L].plotinfo)})}(),f=window.cancelAnimationFrame(x)):f=window.requestAnimationFrame(x)}),Promise.resolve()}function h(x){var m=x.xaxis,b=x.yaxis;a._defs.select("#"+x.clipId+"> rect").call(S.setTranslate,0,0).call(S.setScale,1,1),x.plot.call(S.setTranslate,m._offset,b._offset).call(S.setScale,1,1);var _=x.plot.selectAll(".scatterlayer .trace");_.selectAll(".point").call(S.setPointGroupScale,1,1),_.selectAll(".textpoint").call(S.setTextPointsScale,1,1),_.call(S.hideOutsideRangePoints,x)}function T(x,m){var b=x.plotinfo,_=b.xaxis,w=b.yaxis,A=_._length,p=w._length,I=!!x.xr1,k=!!x.yr1,L=[];if(I){var O=d.simpleMap(x.xr0,_.r2l),P=d.simpleMap(x.xr1,_.r2l),F=O[1]-O[0],j=P[1]-P[0];L[0]=(O[0]*(1-m)+m*P[0]-O[0])/(O[1]-O[0])*A,L[2]=A*(1-m+m*j/F),_.range[0]=_.l2r(O[0]*(1-m)+m*P[0]),_.range[1]=_.l2r(O[1]*(1-m)+m*P[1])}else L[0]=0,L[2]=A;if(k){var X=d.simpleMap(x.yr0,w.r2l),N=d.simpleMap(x.yr1,w.r2l),q=X[1]-X[0],G=N[1]-N[0];L[1]=(X[1]*(1-m)+m*N[1]-X[1])/(X[0]-X[1])*p,L[3]=p*(1-m+m*G/q),w.range[0]=_.l2r(X[0]*(1-m)+m*N[0]),w.range[1]=w.l2r(X[1]*(1-m)+m*N[1])}else L[1]=0,L[3]=p;M.drawOne(v,_,{skipTitle:!0}),M.drawOne(v,w,{skipTitle:!0}),M.redrawComponents(v,[_._id,w._id]);var H=I?A/L[2]:1,Z=k?p/L[3]:1,Q=_._offset-(I?L[0]/L[2]*A:0),ee=w._offset-(k?L[1]/L[3]*p:0);b.clipRect.call(S.setTranslate,I?L[0]:0,k?L[1]:0).call(S.setScale,1/H,1/Z),b.plot.call(S.setTranslate,Q,ee).call(S.setScale,H,Z),S.setPointGroupScale(b.zoomScalePts,1/H,1/Z),S.setTextPointsScale(b.zoomScaleTxt,1/H,1/Z)}M.redrawComponents(v)}},951:function(ae,B,r){"use strict";var D=r(73972).traceIs,E=r(4322);function d(M){return{v:"x",h:"y"}[M.orientation||"v"]}function S(M,v){var u=d(M),i=D(M,"box-violin"),s=D(M._fullInput||{},"candlestick");return i&&!s&&v===u&&void 0===M[u]&&void 0===M[u+"0"]}ae.exports=function(M,v,u,i){u("autotypenumbers",i.autotypenumbersDflt),"-"===u("type",(i.splomStash||{}).type)&&(function(s,a){if("-"===s.type){var o,l=s._id,c=l.charAt(0);-1!==l.indexOf("scene")&&(l=c);var f=function(w,A,p){for(var I=0;I<w.length;I++){var k=w[I];if("splom"===k.type&&k._length>0&&(k["_"+p+"axes"]||{})[A]||(k[p+"axis"]||p)===A&&(S(k,p)||(k[p]||[]).length||k[p+"0"]))return k}}(a,l,c);if(f)if("histogram"!==f.type||c!=={v:"y",h:"x"}[f.orientation||"v"]){var g=c+"calendar",h=f[g],T={noMultiCategory:!D(f,"cartesian")||D(f,"noMultiCategory")};if("box"===f.type&&f._hasPreCompStats&&c==={h:"x",v:"y"}[f.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=s.autotypenumbers,S(f,c)){var x=d(f),m=[];for(o=0;o<a.length;o++){var b=a[o];D(b,"box-violin")&&(b[c+"axis"]||c)===l&&(m.push(void 0!==b[x]?b[x][0]:void 0!==b.name?b.name:"text"),b[g]!==h&&(h=void 0))}s.type=E(m,h,T)}else if("splom"===f.type){var _=f.dimensions[f._axesDim[l]];_.visible&&(s.type=E(_.values,h,T))}else s.type=E(f[c]||[f[c+"0"]],h,T)}else s.type="linear"}}(v,i.data),"-"===v.type?v.type="linear":M.type=v.type)}},31137:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);function d(u,i,s){var a,o,l,c=!1;if("data"===i.type)a=u._fullData[null!==i.traces?i.traces[0]:0];else{if("layout"!==i.type)return!1;a=u._fullLayout}return o=E.nestedProperty(a,i.prop).get(),(l=s[i.type]=s[i.type]||{}).hasOwnProperty(i.prop)&&l[i.prop]!==o&&(c=!0),l[i.prop]=o,{changed:c,value:o}}function S(u,i){var s=[],a=i[0],o={};if("string"==typeof a)o[a]=i[1];else{if(!E.isPlainObject(a))return s;o=a}return v(o,function(l,c,f){s.push({type:"layout",prop:l,value:f})},"",0),s}function M(u,i){var s,a,o,l,c=[];if(o=i[1],s=i[2],l={},"string"==typeof(a=i[0]))l[a]=o;else{if(!E.isPlainObject(a))return c;l=a,void 0===s&&(s=o)}return void 0===s&&(s=null),v(l,function(f,g,h){var T,x;if(Array.isArray(h)){x=h.slice();var m=Math.min(x.length,u.data.length);s&&(m=Math.min(m,s.length)),T=[];for(var b=0;b<m;b++)T[b]=s?s[b]:b}else x=h,T=s?s.slice():null;if(null===T)Array.isArray(x)&&(x=x[0]);else if(Array.isArray(T)){if(!Array.isArray(x)){var _=x;x=[];for(var w=0;w<T.length;w++)x[w]=_}x.length=Math.min(T.length,x.length)}c.push({type:"data",prop:f,traces:T,value:x})},"",0),c}function v(u,i,s,a){Object.keys(u).forEach(function(o){var l=u[o];if("_"!==o[0]){var c=s+(a>0?".":"")+o;E.isPlainObject(l)?v(l,i,c,a+1):i(c,o,l)}})}B.manageCommandObserver=function(u,i,s,a){var o={},l=!0;i&&i._commandObserver&&(o=i._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var c=B.hasSimpleAPICommandBindings(u,s,o.lookupTable);if(i&&i._commandObserver){if(c)return o;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,o}if(c){d(u,c,o.cache),o.check=function(){if(l){var h=d(u,c,o.cache);return h.changed&&a&&void 0!==o.lookupTable[h.value]&&(o.disable(),Promise.resolve(a({value:h.value,type:c.type,prop:c.prop,traces:c.traces,index:o.lookupTable[h.value]})).then(o.enable,o.enable)),h.changed}};for(var f=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],g=0;g<f.length;g++)u._internalOn(f[g],o.check);o.remove=function(){for(var h=0;h<f.length;h++)u._removeInternalListener(f[h],o.check)}}else E.log("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){l=!1},o.enable=function(){l=!0},i&&(i._commandObserver=o),o},B.hasSimpleAPICommandBindings=function(u,i,s){var a,o,l=i.length;for(a=0;a<l;a++){var c,f=i[a],g=f.method,h=f.args;if(Array.isArray(h)||(h=[]),!g)return!1;var T=B.computeAPICommandBindings(u,g,h);if(1!==T.length)return!1;if(o){if((c=T[0]).type!==o.type||c.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(c.traces))return!1;c.traces.sort();for(var x=0;x<o.traces.length;x++)if(o.traces[x]!==c.traces[x])return!1}else if(c.prop!==o.prop)return!1}else o=T[0],Array.isArray(o.traces)&&o.traces.sort();var m=(c=T[0]).value;if(Array.isArray(m)){if(1!==m.length)return!1;m=m[0]}s&&(s[m]=a)}return o},B.executeAPICommand=function(u,i,s){if("skip"===i)return Promise.resolve();var a=D.apiMethodRegistry[i],o=[u];Array.isArray(s)||(s=[]);for(var l=0;l<s.length;l++)o.push(s[l]);return a.apply(null,o).catch(function(c){return E.warn("API call to Plotly."+i+" rejected.",c),Promise.reject(c)})},B.computeAPICommandBindings=function(u,i,s){var a,l;switch(Array.isArray(s)||(s=[]),i){case"restyle":a=M(u,s);break;case"relayout":a=S(0,s);break;case"update":a=M(u,[s[0],s[2]]).concat(S(0,[s[1]]));break;case"animate":l=s,a=Array.isArray(l[0])&&1===l[0].length&&-1!==["string","number"].indexOf(typeof l[0][0])?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[];break;default:a=[]}return a}},27670:function(ae,B,r){"use strict";var D=r(1426).extendFlat;B.Y=function(E,d){d=d||{};var S={valType:"info_array",editType:(E=E||{}).editType,items:[{valType:"number",min:0,max:1,editType:E.editType},{valType:"number",min:0,max:1,editType:E.editType}],dflt:[0,1]},M={x:D({},S,{}),y:D({},S,{}),editType:E.editType};return E.noGridCell||(M.row={valType:"integer",min:0,dflt:0,editType:E.editType},M.column={valType:"integer",min:0,dflt:0,editType:E.editType}),M},B.c=function(E,d,S,M){var v=M&&M.x||[0,1],u=M&&M.y||[0,1],i=d.grid;if(i){var s=S("domain.column");void 0!==s&&(s<i.columns?v=i._domains.x[s]:delete E.domain.column);var a=S("domain.row");void 0!==a&&(a<i.rows?u=i._domains.y[a]:delete E.domain.row)}var o=S("domain.x",v),l=S("domain.y",u);o[0]<o[1]||(E.domain.x=v.slice()),l[0]<l[1]||(E.domain.y=u.slice())}},41940:function(ae){"use strict";ae.exports=function(B){var r=B.editType,D=B.colorEditType;void 0===D&&(D=r);var E={family:{valType:"string",noBlank:!0,strict:!0,editType:r},size:{valType:"number",min:1,editType:r},color:{valType:"color",editType:D},editType:r};return B.autoSize&&(E.size.dflt="auto"),B.autoColor&&(E.color.dflt="auto"),B.arrayOk&&(E.family.arrayOk=!0,E.size.arrayOk=!0,E.color.arrayOk=!0),E}},31391:function(ae){"use strict";ae.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(ae,B){"use strict";B.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},B.axesNames=["lonaxis","lataxis"],B.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},B.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},B.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},B.clipPad=.001,B.precision=.1,B.landColor="#F0DC82",B.waterColor="#3399FF",B.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},B.sphereSVG={type:"Sphere"},B.fillLayers={ocean:1,land:1,lakes:1},B.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},B.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],B.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],B.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(ae,B,r){"use strict";var D=r(39898),E=r(27362),d=E.geoPath,S=E.geoDistance,M=r(65704),v=r(73972),u=r(71828),i=u.strTranslate,s=r(7901),a=r(91424),o=r(30211),l=r(74875),c=r(89298),f=r(71739).getAutoRange,g=r(28569),h=r(47322).prepSelect,T=r(47322).clearOutline,x=r(47322).selectOnClick,m=r(74455),b=r(78776),_=r(41327),w=r(90973),A=r(96892).zL;function p(L){this.id=L.id,this.graphDiv=L.graphDiv,this.container=L.container,this.topojsonURL=L.topojsonURL,this.isStatic=L.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var I=p.prototype;function k(L,O){var P=b.clipPad,F=L[0]+P,j=L[1]-P,X=O[0]+P,N=O[1]-P;F>0&&j<0&&(j+=360);var q=(j-F)/4;return{type:"Polygon",coordinates:[[[F,X],[F,N],[F+q,N],[F+2*q,N],[F+3*q,N],[j,N],[j,X],[j-q,X],[j-2*q,X],[j-3*q,X],[F,X]]]}}ae.exports=function(L){return new p(L)},I.plot=function(L,O,P,F){var j=this;if(F)return j.update(L,O,!0);j._geoCalcData=L,j._fullLayout=O;var X=O[this.id],N=[],q=!1;for(var G in b.layerNameToAdjective)if("frame"!==G&&X["show"+G]){q=!0;break}for(var H=!1,Z=0;Z<L.length;Z++){var $=L[0][0].trace;$._geo=j,$.locationmode&&(q=!0);var se=$.marker;if(se){var re=se.angleref;(se.angle||"north"===re||"previous"===re)&&(H=!0)}}if(this._hasMarkerAngles=H,q){var Q=w.getTopojsonName(X);null!==j.topojson&&Q===j.topojsonName||(j.topojsonName=Q,void 0===PlotlyGeoAssets.topojson[j.topojsonName]&&N.push(j.fetchTopojson()))}N=N.concat(_.fetchTraceGeoData(L)),P.push(new Promise(function(ee,oe){Promise.all(N).then(function(){j.topojson=PlotlyGeoAssets.topojson[j.topojsonName],j.update(L,O),ee()}).catch(oe)}))},I.fetchTopojson=function(){var L=this,O=w.getTopojsonPath(L.topojsonURL,L.topojsonName);return new Promise(function(P,F){D.json(O,function(j,X){if(j)return F(404===j.status?new Error(["plotly.js could not find topojson file at",O+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" ")):new Error(["unexpected error while fetching topojson file at",O].join(" ")));PlotlyGeoAssets.topojson[L.topojsonName]=X,P()})})},I.update=function(L,O,P){var F=O[this.id];this.hasChoropleth=!1;for(var j=0;j<L.length;j++){var X=L[j],N=X[0].trace;"choropleth"===N.type&&(this.hasChoropleth=!0),!0===N.visible&&N._length>0&&N._module.calcGeoJSON(X,O)}if(!P){if(this.updateProjection(L,O))return;this.viewInitial&&this.scope===F.scope||this.saveViewInitial(F)}this.scope=F.scope,this.updateBaseLayers(O,F),this.updateDims(O,F),this.updateFx(O,F),l.generalUpdatePerTraceModule(this.graphDiv,this,L,F);var q=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=q.selectAll(".point"),this.dataPoints.text=q.selectAll("text"),this.dataPaths.line=q.selectAll(".js-line");var G=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=G.selectAll("path"),this._render()},I.updateProjection=function(L,O){var P=this.graphDiv,F=O[this.id],j=O._size,X=F.domain,N=F.projection,q=F.lonaxis,G=F.lataxis,H=q._ax,Z=G._ax,$=this.projection=function(fe){var le=fe.projection,Te=le.type,Re=b.projNames[Te];Re="geo"+u.titleCase(Re);for(var De=(E[Re]||M[Re])(),Ue=fe._isSatellite?180*Math.acos(1/le.distance)/Math.PI:fe._isClipped?b.lonaxisSpan[Te]/2:null,Ze=["center","rotate","parallels","clipExtent"],xe=function(Be){return Be?De:[]},Oe=0;Oe<Ze.length;Oe++){var Ce=Ze[Oe];"function"!=typeof De[Ce]&&(De[Ce]=xe)}return De.isLonLatOverEdges=function(Be){if(null===De(Be))return!0;if(Ue){var qe=De.rotate();return S(Be,[-qe[0],-qe[1]])>Ue*Math.PI/180}return!1},De.getPath=function(){return d().projection(De)},De.getBounds=function(Be){return De.getPath().bounds(Be)},De.precision(b.precision),fe._isSatellite&&De.tilt(le.tilt).distance(le.distance),Ue&&De.clipAngle(Ue-b.clipPad),De}(F),se=[[j.l+j.w*X.x[0],j.t+j.h*(1-X.y[1])],[j.l+j.w*X.x[1],j.t+j.h*(1-X.y[0])]],ne=F.center||{},re=N.rotation||{},Q=q.range||[],ee=G.range||[];if(F.fitbounds){H._length=se[1][0]-se[0][0],Z._length=se[1][1]-se[0][1],H.range=f(P,H),Z.range=f(P,Z);var oe=(H.range[0]+H.range[1])/2,ce=(Z.range[0]+Z.range[1])/2;if(F._isScoped)ne={lon:oe,lat:ce};else if(F._isClipped){ne={lon:oe,lat:ce},re={lon:oe,lat:ce,roll:re.roll};var ue=N.type,he=b.lonaxisSpan[ue]/2||180,ve=b.lataxisSpan[ue]/2||90;Q=[oe-he,oe+he],ee=[ce-ve,ce+ve]}else ne={lon:oe,lat:ce},re={lon:oe,lat:re.lat,roll:re.roll}}$.center([ne.lon-re.lon,ne.lat-re.lat]).rotate([-re.lon,-re.lat,re.roll]).parallels(N.parallels);var ke=k(Q,ee);$.fitExtent(se,ke);var Ie=this.bounds=$.getBounds(ke),Me=this.fitScale=$.scale(),_e=$.translate();if(F.fitbounds){var we=$.getBounds(k(H.range,Z.range)),ze=Math.min((Ie[1][0]-Ie[0][0])/(we[1][0]-we[0][0]),(Ie[1][1]-Ie[0][1])/(we[1][1]-we[0][1]));isFinite(ze)?$.scale(ze*Me):u.warn("Something went wrong during"+this.id+"fitbounds computations.")}else $.scale(N.scale*Me);var Ee=this.midPt=[(Ie[0][0]+Ie[1][0])/2,(Ie[0][1]+Ie[1][1])/2];if($.translate([_e[0]+(Ee[0]-_e[0]),_e[1]+(Ee[1]-_e[1])]).clipExtent(Ie),F._isAlbersUsa){var Se=$([ne.lon,ne.lat]),me=$.translate();$.translate([me[0]-(Se[0]-me[0]),me[1]-(Se[1]-me[1])])}},I.updateBaseLayers=function(L,O){var P=this,F=P.topojson,j=P.layers,X=P.basePaths;function N($){return"lonaxis"===$||"lataxis"===$}function q($){return Boolean(b.lineLayers[$])}function G($){return Boolean(b.fillLayers[$])}var H=(this.hasChoropleth?b.layersForChoropleth:b.layers).filter(function($){return q($)||G($)?O["show"+$]:!N($)||O[$].showgrid}),Z=P.framework.selectAll(".layer").data(H,String);Z.exit().each(function($){delete j[$],delete X[$],D.select(this).remove()}),Z.enter().append("g").attr("class",function($){return"layer "+$}).each(function($){var se=j[$]=D.select(this);"bg"===$?P.bgRect=se.append("rect").style("pointer-events","all"):N($)?X[$]=se.append("path").style("fill","none"):"backplot"===$?se.append("g").classed("choroplethlayer",!0):"frontplot"===$?se.append("g").classed("scatterlayer",!0):q($)?X[$]=se.append("path").style("fill","none").style("stroke-miterlimit",2):G($)&&(X[$]=se.append("path").style("stroke","none"))}),Z.order(),Z.each(function($){var se=X[$],ne=b.layerNameToAdjective[$];"frame"===$?se.datum(b.sphereSVG):q($)||G($)?se.datum(A(F,F.objects[$])):N($)&&se.datum(function(re,Q,ee){var oe,ce,ue,he=Q[re],ve=b.scopeDefaults[Q.scope];"lonaxis"===re?(oe=ve.lonaxisRange,ce=ve.lataxisRange,ue=function(me,fe){return[me,fe]}):"lataxis"===re&&(oe=ve.lataxisRange,ce=ve.lonaxisRange,ue=function(me,fe){return[fe,me]});var ke={type:"linear",range:[oe[0],oe[1]-1e-6],tick0:he.tick0,dtick:he.dtick};c.setConvert(ke,ee);var Ie=c.calcTicks(ke);Q.isScoped||"lonaxis"!==re||Ie.pop();for(var Me=Ie.length,_e=new Array(Me),we=0;we<Me;we++)for(var ze=Ie[we].x,Ee=_e[we]=[],Se=ce[0];Se<ce[1]+2.5;Se+=2.5)Ee.push(ue(ze,Se));return{type:"MultiLineString",coordinates:_e}}($,O,L)).call(s.stroke,O[$].gridcolor).call(a.dashLine,O[$].griddash,O[$].gridwidth),q($)?se.call(s.stroke,O[ne+"color"]).call(a.dashLine,"",O[ne+"width"]):G($)&&se.call(s.fill,O[ne+"color"])})},I.updateDims=function(L,O){var P=this.bounds,F=(O.framewidth||0)/2,j=P[0][0]-F,X=P[0][1]-F,N=P[1][0]-j+F,q=P[1][1]-X+F;a.setRect(this.clipRect,j,X,N,q),this.bgRect.call(a.setRect,j,X,N,q).call(s.fill,O.bgcolor),this.xaxis._offset=j,this.xaxis._length=N,this.yaxis._offset=X,this.yaxis._length=q},I.updateFx=function(L,O){var P=this,F=P.graphDiv,j=P.bgRect,X=L.dragmode,N=L.clickmode;if(!P.isStatic){var q={element:P.bgRect.node(),gd:F,plotinfo:{id:P.id,xaxis:P.xaxis,yaxis:P.yaxis,fillRangeItems:function(H,Z){Z.isRect?(H.range={})[P.id]=[G([Z.xmin,Z.ymin]),G([Z.xmax,Z.ymax])]:(H.lassoPoints={})[P.id]=Z.map(G)}},xaxes:[P.xaxis],yaxes:[P.yaxis],subplot:P.id,clickFn:function(H){2===H&&T(F)}};"pan"===X?(j.node().onmousedown=null,j.call(m(P,O)),j.on("dblclick.zoom",function(){var H=P.viewInitial,Z={};for(var $ in H)Z[P.id+"."+$]=H[$];v.call("_guiRelayout",F,Z),F.emit("plotly_doubleclick",null)}),F._context._scrollZoom.geo||j.on("wheel.zoom",null)):"select"!==X&&"lasso"!==X||(j.on(".zoom",null),q.prepFn=function(H,Z,$){h(H,Z,$,q,X)},g.init(q)),j.on("mousemove",function(){var H=P.projection.invert(u.getPositionFromD3Event());if(!H)return g.unhover(F,D.event);P.xaxis.p2c=function(){return H[0]},P.yaxis.p2c=function(){return H[1]},o.hover(F,D.event,P.id)}),j.on("mouseout",function(){F._dragging||g.unhover(F,D.event)}),j.on("click",function(){"select"!==X&&"lasso"!==X&&(N.indexOf("select")>-1&&x(D.event,F,[P.xaxis],[P.yaxis],P.id,q),N.indexOf("event")>-1&&o.click(F,D.event))})}function G(H){return P.projection.invert([H[0]+P.xaxis._offset,H[1]+P.yaxis._offset])}},I.makeFramework=function(){var L=this,O=L.graphDiv,P=O._fullLayout,F="clip"+P._uid+L.id;L.clipDef=P._clips.append("clipPath").attr("id",F),L.clipRect=L.clipDef.append("rect"),L.framework=D.select(L.container).append("g").attr("class","geo "+L.id).call(a.setClipUrl,F,O),L.project=function(j){var X=L.projection(j);return X?[X[0]-L.xaxis._offset,X[1]-L.yaxis._offset]:[null,null]},L.xaxis={_id:"x",c2p:function(j){return L.project(j)[0]}},L.yaxis={_id:"y",c2p:function(j){return L.project(j)[1]}},L.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},c.setConvert(L.mockAxis,P)},I.saveViewInitial=function(L){var P=L.center||{},F=L.projection,j=F.rotation||{};this.viewInitial={fitbounds:L.fitbounds,"projection.scale":F.scale},u.extendFlat(this.viewInitial,L._isScoped?{"center.lon":P.lon,"center.lat":P.lat}:L._isClipped?{"projection.rotation.lon":j.lon,"projection.rotation.lat":j.lat}:{"center.lon":P.lon,"center.lat":P.lat,"projection.rotation.lon":j.lon})},I.render=function(L){this._hasMarkerAngles&&L?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},I._render=function(){var L,O=this.projection,P=O.getPath();function F(X){var N=O(X.lonlat);return N?i(N[0],N[1]):null}function j(X){return O.isLonLatOverEdges(X.lonlat)?"none":null}for(L in this.basePaths)this.basePaths[L].attr("d",P);for(L in this.dataPaths)this.dataPaths[L].attr("d",function(X){return P(X.geojson)});for(L in this.dataPoints)this.dataPoints[L].attr("display",j).attr("transform",F)}},44622:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,d=r(69082),S="geo",M=E(S),v={};v[S]={valType:"subplotid",dflt:S,editType:"calc"},ae.exports={attr:S,name:S,idRoot:S,idRegex:M,attrRegex:M,attributes:v,layoutAttributes:r(77519),supplyLayoutDefaults:r(82161),plot:function(u){for(var i=u._fullLayout,s=u.calcdata,a=i._subplots[S],o=0;o<a.length;o++){var l=a[o],c=D(s,S,l),f=i[l]._subplot;f||(f=d({id:l,graphDiv:u,container:i._geolayer.node(),topojsonURL:u._context.topojsonURL,staticPlot:u._context.staticPlot}),i[l]._subplot=f),f.plot(c,i,u._promises)}},updateFx:function(u){for(var i=u._fullLayout,s=i._subplots[S],a=0;a<s.length;a++){var o=i[s[a]];o._subplot.updateFx(i,o)}},clean:function(u,i,s,a){for(var o=a._subplots[S]||[],l=0;l<o.length;l++){var c=o[l],f=a[c]._subplot;!i[c]&&f&&(f.framework.remove(),f.clipDef.remove())}}}},77519:function(ae,B,r){"use strict";var D=r(22399),E=r(27670).Y,d=r(79952).P,S=r(78776),M=r(30962).overrideAll,v=r(78607),u={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:D.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:d};(ae.exports=M({domain:E({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(S.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(S.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:D.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:S.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:S.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:S.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:S.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:D.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:D.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:D.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:D.background},lonaxis:u,lataxis:u},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(ae,B,r){"use strict";var D=r(71828),E=r(49119),d=r(27659).NG,S=r(78776),M=r(77519),v=S.axesNames;function u(i,s,a,o){var l=d(o.fullData,"geo",o.id).map(function(re){return re._expandedIndex}),c=a("resolution"),f=a("scope"),g=S.scopeDefaults[f],h=a("projection.type",g.projType),T=s._isAlbersUsa="albers usa"===h;T&&(f=s.scope="usa");var x=s._isScoped="world"!==f,m=s._isSatellite="satellite"===h,b=s._isConic=-1!==h.indexOf("conic")||"albers"===h,_=s._isClipped=!!S.lonaxisSpan[h];if(!1===i.visible){var w=D.extendDeep({},s._template);w.showcoastlines=!1,w.showcountries=!1,w.showframe=!1,w.showlakes=!1,w.showland=!1,w.showocean=!1,w.showrivers=!1,w.showsubunits=!1,w.lonaxis&&(w.lonaxis.showgrid=!1),w.lataxis&&(w.lataxis.showgrid=!1),s._template=w}for(var A=a("visible"),p=0;p<v.length;p++){var I,k=v[p],L=[30,10][p];if(x)I=g[k+"Range"];else{var O=S[k+"Span"],P=(O[h]||O["*"])/2,F=a("projection.rotation."+k.substr(0,3),g.projRotate[p]);I=[F-P,F+P]}var j=a(k+".range",I);a(k+".tick0"),a(k+".dtick",L),a(k+".showgrid",!!A&&void 0)&&(a(k+".gridcolor"),a(k+".gridwidth"),a(k+".griddash")),s[k]._ax={type:"linear",_id:k.slice(0,3),_traceIndices:l,setScale:D.identity,c2l:D.identity,r2l:D.identity,autorange:!0,range:j.slice(),_m:1,_input:{}}}var X=s.lonaxis.range,N=s.lataxis.range,q=X[0],G=X[1];q>0&&G<0&&(G+=360);var H,Z,$,se=(q+G)/2;if(!T){var ne=x?g.projRotate:[se,0,0];H=a("projection.rotation.lon",ne[0]),a("projection.rotation.lat",ne[1]),a("projection.rotation.roll",ne[2]),a("showcoastlines",!x&&A)&&(a("coastlinecolor"),a("coastlinewidth")),a("showocean",!!A&&void 0)&&a("oceancolor")}T?(Z=-96.6,$=38.7):(Z=x?se:H,$=(N[0]+N[1])/2),a("center.lon",Z),a("center.lat",$),m&&(a("projection.tilt"),a("projection.distance")),b&&a("projection.parallels",g.projParallels||[0,60]),a("projection.scale"),a("showland",!!A&&void 0)&&a("landcolor"),a("showlakes",!!A&&void 0)&&a("lakecolor"),a("showrivers",!!A&&void 0)&&(a("rivercolor"),a("riverwidth")),a("showcountries",x&&"usa"!==f&&A)&&(a("countrycolor"),a("countrywidth")),("usa"===f||"north america"===f&&50===c)&&(a("showsubunits",A),a("subunitcolor"),a("subunitwidth")),x||a("showframe",A)&&(a("framecolor"),a("framewidth")),a("bgcolor"),a("fitbounds")&&(delete s.projection.scale,x?(delete s.center.lon,delete s.center.lat):_?(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon,delete s.projection.rotation.lat,delete s.lonaxis.range,delete s.lataxis.range):(delete s.center.lon,delete s.center.lat,delete s.projection.rotation.lon))}ae.exports=function(i,s,a){E(i,s,a,{type:"geo",attributes:M,handleDefaults:u,fullData:a,partition:"y"})}},74455:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(73972),S=Math.PI/180,M=180/Math.PI,v={cursor:"pointer"},u={cursor:"auto"};function i(x,m){return D.behavior.zoom().translate(m.translate()).scale(m.scale())}function s(x,m,b){var _=x.id,w=x.graphDiv,A=w.layout,p=A[_],I=w._fullLayout,k=I[_],L={},O={};function P(F,j){L[_+"."+F]=E.nestedProperty(p,F).get(),d.call("_storeDirectGUIEdit",A,I._preGUI,L);var X=E.nestedProperty(k,F);X.get()!==j&&(X.set(j),E.nestedProperty(p,F).set(j),O[_+"."+F]=j)}b(P),P("projection.scale",m.scale()/x.fitScale),P("fitbounds",!1),w.emit("plotly_relayout",O)}function a(x,m){var b=i(0,m);function _(w){var A=m.invert(x.midPt);w("center.lon",A[0]),w("center.lat",A[1])}return b.on("zoomstart",function(){D.select(this).style(v)}).on("zoom",function(){m.scale(D.event.scale).translate(D.event.translate),x.render(!0);var w=m.invert(x.midPt);x.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/x.fitScale,"geo.center.lon":w[0],"geo.center.lat":w[1]})}).on("zoomend",function(){D.select(this).style(u),s(x,m,_)}),b}function o(x,m){var b,_,w,A,p,I,k,L,O,P=i(0,m);function F(X){return m.invert(X)}function j(X){var N=m.rotate(),q=m.invert(x.midPt);X("projection.rotation.lon",-N[0]),X("center.lon",q[0]),X("center.lat",q[1])}return P.on("zoomstart",function(){D.select(this).style(v),b=D.mouse(this),_=m.rotate(),w=m.translate(),A=_,p=F(b)}).on("zoom",function(){if(I=D.mouse(this),function(q){var G=F(q);if(!G)return!0;var H=m(G);return Math.abs(H[0]-q[0])>2||Math.abs(H[1]-q[1])>2}(b))return P.scale(m.scale()),void P.translate(m.translate());m.scale(D.event.scale),m.translate([w[0],D.event.translate[1]]),p?F(I)&&(L=F(I),m.rotate(k=[A[0]+(L[0]-p[0]),_[1],_[2]]),A=k):p=F(b=I),O=!0,x.render(!0);var X=m.rotate(),N=m.invert(x.midPt);x.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/x.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1],"geo.projection.rotation.lon":-X[0]})}).on("zoomend",function(){D.select(this).style(u),O&&s(x,m,j)}),P}function l(x,m){var b,_={r:m.rotate(),k:m.scale()},w=i(0,m),A=function(L){for(var O=0,P=arguments.length,F=[];++O<P;)F.push(arguments[O]);var j=D.dispatch.apply(null,F);return j.of=function(X,N){return function(q){var G;try{G=q.sourceEvent=D.event,q.target=L,D.event=q,j[q.type].apply(X,N)}finally{D.event=G}}},j}(w,"zoomstart","zoom","zoomend"),p=0,I=w.on;function k(L){var O=m.rotate();L("projection.rotation.lon",-O[0]),L("projection.rotation.lat",-O[1])}return w.on("zoomstart",function(){D.select(this).style(v);var L,O,P,F,j,X,N,q,G,H,Z,$=D.mouse(this),se=m.rotate(),ne=se,re=m.translate(),Q=(O=.5*(L=se)[0]*S,P=.5*L[1]*S,F=.5*L[2]*S,j=Math.sin(O),X=Math.cos(O),N=Math.sin(P),q=Math.cos(P),G=Math.sin(F),[X*q*(H=Math.cos(F))+j*N*G,j*q*H-X*N*G,X*N*H+j*q*G,X*q*G-j*N*H]);b=c(m,$),I.call(w,"zoom",function(){var ee,oe,ce,ue,he,ve,ke,Ie,Me,_e,fe,we=D.mouse(this);if(m.scale(_.k=D.event.scale),b){if(c(m,we)){m.rotate(se).translate(re);var ze=c(m,we),Ee=function(fe,le){if(fe&&le){var Te=[(Ze=fe)[1]*(xe=le)[2]-Ze[2]*xe[1],Ze[2]*xe[0]-Ze[0]*xe[2],Ze[0]*xe[1]-Ze[1]*xe[0]],Re=Math.sqrt(T(Te,Te)),De=.5*Math.acos(Math.max(-1,Math.min(1,T(fe,le)))),Ue=Math.sin(De)/Re;return Re&&[Math.cos(De),Te[2]*Ue,-Te[1]*Ue,Te[0]*Ue]}var Ze,xe}(b,ze),Se=(fe=[(ce=(ee=Q)[0])*(ke=(oe=Ee)[0])-(ue=ee[1])*(Ie=oe[1])-(he=ee[2])*(Me=oe[2])-(ve=ee[3])*(_e=oe[3]),ce*Ie+ue*ke+he*_e-ve*Me,ce*Me-ue*_e+he*ke+ve*Ie,ce*_e+ue*Me-he*Ie+ve*ke],[Math.atan2(2*(fe[0]*fe[1]+fe[2]*fe[3]),1-2*(fe[1]*fe[1]+fe[2]*fe[2]))*M,Math.asin(Math.max(-1,Math.min(1,2*(fe[0]*fe[2]-fe[3]*fe[1]))))*M,Math.atan2(2*(fe[0]*fe[3]+fe[1]*fe[2]),1-2*(fe[2]*fe[2]+fe[3]*fe[3]))*M]),me=_.r=function(fe,le,Te){var Re=h(le,2,fe[0]);Re=h(Re,1,fe[1]),Re=h(Re,0,fe[2]-Te[2]);var De,Ue,Ze=le[0],xe=le[1],Oe=le[2],Ce=Re[0],Be=Re[1],qe=Re[2],He=Math.atan2(xe,Ze)*M,Je=Math.sqrt(Ze*Ze+xe*xe);Math.abs(Be)>Je?(Ue=(Be>0?90:-90)-He,De=0):(Ue=Math.asin(Be/Je)*M-He,De=Math.sqrt(Je*Je-Be*Be));var et=180-Ue-2*He,st=(Math.atan2(qe,Ce)-Math.atan2(Oe,De))*M,pt=(Math.atan2(qe,Ce)-Math.atan2(Oe,-De))*M;return f(Te[0],Te[1],Ue,st)<=f(Te[0],Te[1],et,pt)?[Ue,st,Te[2]]:[et,pt,Te[2]]}(Se,b,ne);isFinite(me[0])&&isFinite(me[1])&&isFinite(me[2])||(me=ne),m.rotate(me),ne=me}}else b=c(m,$=we);A.of(this,arguments)({type:"zoom"})}),Z=A.of(this,arguments),p++||Z({type:"zoomstart"})}).on("zoomend",function(){var L;D.select(this).style(u),I.call(w,"zoom",null),L=A.of(this,arguments),--p||L({type:"zoomend"}),s(x,m,k)}).on("zoom.redraw",function(){x.render(!0);var L=m.rotate();x.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":m.scale()/x.fitScale,"geo.projection.rotation.lon":-L[0],"geo.projection.rotation.lat":-L[1]})}),D.rebind(w,A,"on")}function c(x,m){var _,w,A,p,b=x.invert(m);return b&&isFinite(b[0])&&isFinite(b[1])&&(w=(_=b)[0]*S,A=_[1]*S,[(p=Math.cos(A))*Math.cos(w),p*Math.sin(w),Math.sin(A)])}function f(x,m,b,_){var w=g(b-x),A=g(_-m);return Math.sqrt(w*w+A*A)}function g(x){return(x%360+540)%360-180}function h(x,m,b){var _=b*S,w=x.slice(),A=0===m?1:0,p=2===m?1:2,I=Math.cos(_),k=Math.sin(_);return w[A]=x[A]*I-x[p]*k,w[p]=x[p]*I+x[A]*k,w}function T(x,m){for(var b=0,_=0,w=x.length;_<w;++_)b+=x[_]*m[_];return b}ae.exports=function(x,m){return(m._isScoped?a:m._isClipped?l:o)(x,x.projection)}},27659:function(ae,B,r){"use strict";var D=r(73972),E=r(85555).SUBPLOT_PATTERN;B.AU=function(d,S,M){var v=D.subplotsRegistry[S];if(!v)return[];for(var u=v.attr,i=[],s=0;s<d.length;s++){var a=d[s];a[0].trace[u]===M&&i.push(a)}return i},B.a0=function(d,S){var M,v=[],u=[];if(!(M="string"==typeof S?D.getModule(S).plot:"function"==typeof S?S:S.plot))return[v,d];for(var i=0;i<d.length;i++){var s=d[i],a=s[0].trace;!0===a.visible&&0!==a._length&&(a._module&&a._module.plot===M?v.push(s):u.push(s))}return[v,u]},B.NG=function(d,S,M){if(!D.subplotsRegistry[S])return[];var v,u,i,s=D.subplotsRegistry[S].attr,a=[];if("gl2d"===S){var o=M.match(E);u="x"+o[1],i="y"+o[2]}for(var l=0;l<d.length;l++)v=d[l],"gl2d"===S&&D.traceIs(v,"gl2d")?v[s[0]]===u&&v[s[1]]===i&&a.push(v):v[s]===M&&a.push(v);return a}},75071:function(ae,B,r){"use strict";var D=r(16825),E=r(1195),d=r(48956),S=r(85555),M=r(38520);function v(u,i){this.element=u,this.plot=i,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}ae.exports=function(u){var i=u.mouseContainer,s=u.glplot,a=new v(i,s);function o(){u.xaxis.autorange=!1,u.yaxis.autorange=!1}function l(c,f,g){var h,T,x=u.calcDataBox(),m=s.viewBox,b=a.lastPos[0],_=a.lastPos[1],w=S.MINDRAG*s.pixelRatio,A=S.MINZOOM*s.pixelRatio;function p(F,j,X){var N=Math.min(j,X),q=Math.max(j,X);N!==q?(x[F]=N,x[F+2]=q,a.dataBox=x,u.setRanges(x)):(u.selectBox.selectBox=[0,0,1,1],u.glplot.setDirty())}switch(f*=s.pixelRatio,g=m[3]-m[1]-(g*=s.pixelRatio),u.fullLayout.dragmode){case"zoom":if(c){var I=f/(m[2]-m[0])*(x[2]-x[0])+x[0],k=g/(m[3]-m[1])*(x[3]-x[1])+x[1];a.boxInited||(a.boxStart[0]=I,a.boxStart[1]=k,a.dragStart[0]=f,a.dragStart[1]=g),a.boxEnd[0]=I,a.boxEnd[1]=k,a.boxInited=!0,a.boxEnabled||a.boxStart[0]===a.boxEnd[0]&&a.boxStart[1]===a.boxEnd[1]||(a.boxEnabled=!0);var L=Math.abs(a.dragStart[0]-f)<A,O=Math.abs(a.dragStart[1]-g)<A;if(!function(){for(var F=u.graphDiv._fullLayout._axisConstraintGroups,j=u.xaxis._id,X=u.yaxis._id,N=0;N<F.length;N++)if(-1!==F[N][j]){if(-1!==F[N][X])return!0;break}return!1}()||L&&O)L&&(a.boxEnd[0]=a.boxStart[0]),O&&(a.boxEnd[1]=a.boxStart[1]);else{h=a.boxEnd[0]-a.boxStart[0],T=a.boxEnd[1]-a.boxStart[1];var P=(x[3]-x[1])/(x[2]-x[0]);Math.abs(h*P)>Math.abs(T)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(h)*P*(T>=0?1:-1),a.boxEnd[1]<x[1]?(a.boxEnd[1]=x[1],a.boxEnd[0]=a.boxStart[0]+(x[1]-a.boxStart[1])/Math.abs(P)):a.boxEnd[1]>x[3]&&(a.boxEnd[1]=x[3],a.boxEnd[0]=a.boxStart[0]+(x[3]-a.boxStart[1])/Math.abs(P))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(T)/P*(h>=0?1:-1),a.boxEnd[0]<x[0]?(a.boxEnd[0]=x[0],a.boxEnd[1]=a.boxStart[1]+(x[0]-a.boxStart[0])*Math.abs(P)):a.boxEnd[0]>x[2]&&(a.boxEnd[0]=x[2],a.boxEnd[1]=a.boxStart[1]+(x[2]-a.boxStart[0])*Math.abs(P)))}}else a.boxEnabled?(T=a.boxStart[1]!==a.boxEnd[1],(h=a.boxStart[0]!==a.boxEnd[0])||T?(h&&(p(0,a.boxStart[0],a.boxEnd[0]),u.xaxis.autorange=!1),T&&(p(1,a.boxStart[1],a.boxEnd[1]),u.yaxis.autorange=!1),u.relayoutCallback()):u.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,c?(a.panning||(a.dragStart[0]=f,a.dragStart[1]=g),Math.abs(a.dragStart[0]-f)<w&&(f=a.dragStart[0]),Math.abs(a.dragStart[1]-g)<w&&(g=a.dragStart[1]),T=(_-g)*(x[3]-x[1])/(s.viewBox[3]-s.viewBox[1]),x[0]+=h=(b-f)*(x[2]-x[0])/(s.viewBox[2]-s.viewBox[0]),x[2]+=h,x[1]+=T,x[3]+=T,u.setRanges(x),a.panning=!0,a.lastInputTime=Date.now(),o(),u.cameraChanged(),u.handleAnnotations()):a.panning&&(a.panning=!1,u.relayoutCallback())}a.lastPos[0]=f,a.lastPos[1]=g}return a.mouseListener=D(i,l),i.addEventListener("touchstart",function(c){var f=d(c.changedTouches[0],i);l(0,f[0],f[1]),l(1,f[0],f[1]),c.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchmove",function(c){c.preventDefault();var f=d(c.changedTouches[0],i);l(1,f[0],f[1]),c.preventDefault()},!!M&&{passive:!1}),i.addEventListener("touchend",function(c){l(0,a.lastPos[0],a.lastPos[1]),c.preventDefault()},!!M&&{passive:!1}),a.wheelListener=E(i,function(c,f){if(!u.scrollZoom)return!1;var g=u.calcDataBox(),h=s.viewBox,T=a.lastPos[0],x=a.lastPos[1],m=Math.exp(5*f/(h[3]-h[1])),b=T/(h[2]-h[0])*(g[2]-g[0])+g[0],_=x/(h[3]-h[1])*(g[3]-g[1])+g[1];return g[0]=(g[0]-b)*m+b,g[2]=(g[2]-b)*m+b,g[1]=(g[1]-_)*m+_,g[3]=(g[3]-_)*m+_,u.setRanges(g),a.lastInputTime=Date.now(),o(),u.cameraChanged(),u.handleAnnotations(),u.relayoutCallback(),!0},!0),a}},82961:function(ae,B,r){"use strict";var D=r(89298),E=r(78614);function d(v){this.scene=v,this.gl=v.gl,this.pixelRatio=v.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var S=d.prototype,M=["xaxis","yaxis"];S.merge=function(v){var u,i,s,a,o,l,c,f,g,h,T;for(this.titleEnable=!1,this.backgroundColor=E(v.plot_bgcolor),h=0;h<2;++h){var x=(u=M[h]).charAt(0);for(s=(i=v[this.scene[u]._name]).title.text===this.scene.fullLayout._dfltTitle[x]?"":i.title.text,T=0;T<=2;T+=2)this.labelEnable[h+T]=!1,this.labels[h+T]=s,this.labelColor[h+T]=E(i.title.font.color),this.labelFont[h+T]=i.title.font.family,this.labelSize[h+T]=i.title.font.size,this.labelPad[h+T]=this.getLabelPad(u,i),this.tickEnable[h+T]=!1,this.tickColor[h+T]=E((i.tickfont||{}).color),this.tickAngle[h+T]="auto"===i.tickangle?0:Math.PI*-i.tickangle/180,this.tickPad[h+T]=this.getTickPad(i),this.tickMarkLength[h+T]=0,this.tickMarkWidth[h+T]=i.tickwidth||0,this.tickMarkColor[h+T]=E(i.tickcolor),this.borderLineEnable[h+T]=!1,this.borderLineColor[h+T]=E(i.linecolor),this.borderLineWidth[h+T]=i.linewidth||0;c=this.hasSharedAxis(i),o=this.hasAxisInDfltPos(u,i)&&!c,l=this.hasAxisInAltrPos(u,i)&&!c,a=i.mirror||!1,f=c?-1!==String(a).indexOf("all"):!!a,g=c?"allticks"===a:-1!==String(a).indexOf("ticks"),o?this.labelEnable[h]=!0:l&&(this.labelEnable[h+2]=!0),o?this.tickEnable[h]=i.showticklabels:l&&(this.tickEnable[h+2]=i.showticklabels),(o||f)&&(this.borderLineEnable[h]=i.showline),(l||f)&&(this.borderLineEnable[h+2]=i.showline),(o||g)&&(this.tickMarkLength[h]=this.getTickMarkLength(i)),(l||g)&&(this.tickMarkLength[h+2]=this.getTickMarkLength(i)),this.gridLineEnable[h]=i.showgrid,this.gridLineColor[h]=E(i.gridcolor),this.gridLineWidth[h]=i.gridwidth,this.zeroLineEnable[h]=i.zeroline,this.zeroLineColor[h]=E(i.zerolinecolor),this.zeroLineWidth[h]=i.zerolinewidth}},S.hasSharedAxis=function(v){var u=this.scene;return 0!==D.findSubplotsWithAxis(u.fullLayout._subplots.gl2d,v).indexOf(u.id)},S.hasAxisInDfltPos=function(v,u){var i=u.side;return"xaxis"===v?"bottom"===i:"yaxis"===v?"left"===i:void 0},S.hasAxisInAltrPos=function(v,u){var i=u.side;return"xaxis"===v?"top"===i:"yaxis"===v?"right"===i:void 0},S.getLabelPad=function(v,u){var i=1.5,s=u.title.font.size,a=u.showticklabels;return"xaxis"===v?"top"===u.side?s*(i+(a?1:0))-10:s*(i+(a?.5:0))-10:"yaxis"===v?"right"===u.side?10+s*(i+(a?1:.5)):10+s*(i+(a?.5:0)):void 0},S.getTickPad=function(v){return"outside"===v.ticks?10+v.ticklen:15},S.getTickMarkLength=function(v){if(!v.ticks)return 0;var u=v.ticklen;return"inside"===v.ticks?-u:u},ae.exports=function(v){return new d(v)}},4796:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(92918),d=r(10820),S=r(77922),M=r(85555),v=r(93612),u=r(528),i=r(27659).NG;B.name="gl2d",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=M.idRegex,B.attrRegex=M.attrRegex,B.attributes=r(89502),B.supplyLayoutDefaults=function(s,a,o){a._has("cartesian")||v.supplyLayoutDefaults(s,a,o)},B.layoutAttrOverrides=D(v.layoutAttributes,"plot","from-root"),B.baseLayoutAttrOverrides=D({plot_bgcolor:d.plot_bgcolor,hoverlabel:u.hoverlabel},"plot","nested"),B.plot=function(s){for(var a=s._fullLayout,o=s._fullData,l=a._subplots.gl2d,c=0;c<l.length;c++){var f=l[c],g=a._plots[f],h=i(o,"gl2d",f),T=g._scene2d;void 0===T&&(T=new E({id:f,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},a),g._scene2d=T),T.plot(h,s.calcdata,a,s.layout)}},B.clean=function(s,a,o,l){for(var c=l._subplots.gl2d||[],f=0;f<c.length;f++){var g=c[f],h=l._plots[g];h._scene2d&&0===i(s,"gl2d",g).length&&(h._scene2d.destroy(),delete l._plots[g])}v.clean.apply(this,arguments)},B.drawFramework=function(s){s._context.staticPlot||v.drawFramework(s)},B.toSVG=function(s){for(var a=s._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++){var c=a._plots[o[l]]._scene2d,f=c.toImage("png");a._glimages.append("svg:image").attr({xmlns:S.svg,"xlink:href":f,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),c.destroy()}},B.updateFx=function(s){for(var a=s._fullLayout,o=a._subplots.gl2d,l=0;l<o.length;l++)a._plots[o[l]]._scene2d.updateFx(a.dragmode)}},92918:function(ae,B,r){"use strict";var D,E,d=r(73972),S=r(89298),M=r(30211),v=r(9330).gl_plot2d,u=r(9330).gl_spikes2d,i=r(9330).gl_select_box,s=r(40372),a=r(82961),o=r(75071),l=r(58617),c=r(99082),f=c.enforce,g=c.clean,h=r(71739).doAutoRange,T=r(64505),x=T.drawMode,m=T.selectMode,b=["xaxis","yaxis"],_=r(85555).SUBPLOT_PATTERN;function w(p,I){this.container=p.container,this.graphDiv=p.graphDiv,this.pixelRatio=p.plotGlPixelRatio||window.devicePixelRatio,this.id=p.id,this.staticPlot=!!p.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(I),this.makeFramework(),this.stopped||(this.glplotOptions=a(this),this.glplotOptions.merge(I),this.glplot=v(this.glplotOptions),this.camera=o(this),this.traces={},this.spikes=u(this.glplot),this.selectBox=i(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}ae.exports=w;var A=w.prototype;A.makeFramework=function(){if(this.staticPlot){if(!(E||(D=document.createElement("canvas"),E=s({canvas:D,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=D,this.gl=E}else{var p=this.container.querySelector(".gl-canvas-focus"),I=s({canvas:p,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!I)return l(this),void(this.stopped=!0);this.canvas=p,this.gl=I}var k=this.canvas;k.style.width="100%",k.style.height="100%",k.style.position="absolute",k.style.top="0px",k.style.left="0px",k.style["pointer-events"]="none",this.updateSize(k);var L=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",L.style["z-index"]=20,L.style["pointer-events"]="none";var O=this.mouseContainer=document.createElement("div");O.style.position="absolute",O.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var P=this.container;P.appendChild(L),P.appendChild(O);var F=this;O.addEventListener("mouseout",function(){F.isMouseOver=!1,F.unhover()}),O.addEventListener("mouseover",function(){F.isMouseOver=!0})},A.toImage=function(p){p||(p="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(D),this.updateSize(this.canvas);var I=this.glplot.gl,k=I.drawingBufferWidth,L=I.drawingBufferHeight;I.clearColor(1,1,1,0),I.clear(I.COLOR_BUFFER_BIT|I.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),I.bindFramebuffer(I.FRAMEBUFFER,null);var O=new Uint8Array(k*L*4);I.readPixels(0,0,k,L,I.RGBA,I.UNSIGNED_BYTE,O);for(var P=0,F=L-1;P<F;++P,--F)for(var j=0;j<k;++j)for(var X=0;X<4;++X){var N=O[4*(k*P+j)+X];O[4*(k*P+j)+X]=O[4*(k*F+j)+X],O[4*(k*F+j)+X]=N}var q=document.createElement("canvas");q.width=k,q.height=L;var G,H=q.getContext("2d",{willReadFrequently:!0}),Z=H.createImageData(k,L);switch(Z.data.set(O),H.putImageData(Z,0,0),p){case"jpeg":G=q.toDataURL("image/jpeg");break;case"webp":G=q.toDataURL("image/webp");break;default:G=q.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(D),G},A.updateSize=function(p){p||(p=this.canvas);var I=this.pixelRatio,k=this.fullLayout,O=k.height,P=0|Math.ceil(I*k.width),F=0|Math.ceil(I*O);return p.width===P&&p.height===F||(p.width=P,p.height=F),p},A.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var p=[S.calcTicks(this.xaxis),S.calcTicks(this.yaxis)],I=0;I<2;++I)for(var k=0;k<p[I].length;++k)p[I][k].text=p[I][k].text+"";return p},A.updateRefs=function(p){this.fullLayout=p;var I=this.id.match(_),L="yaxis"+I[2];this.xaxis=this.fullLayout["xaxis"+I[1]],this.yaxis=this.fullLayout[L]},A.relayoutCallback=function(){var p=this.graphDiv,I=this.xaxis,k=this.yaxis,L=p.layout,O={},P=O[I._name+".range"]=I.range.slice(),F=O[k._name+".range"]=k.range.slice();O[I._name+".autorange"]=I.autorange,O[k._name+".autorange"]=k.autorange,d.call("_storeDirectGUIEdit",p.layout,p._fullLayout._preGUI,O);var j=L[I._name];j.range=P,j.autorange=I.autorange;var X=L[k._name];X.range=F,X.autorange=k.autorange,O.lastInputTime=this.camera.lastInputTime,p.emit("plotly_relayout",O)},A.cameraChanged=function(){var p=this.camera;this.glplot.setDataBox(this.calcDataBox());var I=this.computeTickMarks();(function(k,L){for(var O=0;O<2;++O){var P=k[O],F=L[O];if(P.length!==F.length)return!0;for(var j=0;j<P.length;++j)if(P[j].x!==F[j].x)return!0}return!1})(I,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=I,this.glplotOptions.dataBox=p.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},A.handleAnnotations=function(){for(var p=this.graphDiv,I=this.fullLayout.annotations,k=0;k<I.length;k++){var L=I[k];L.xref===this.xaxis._id&&L.yref===this.yaxis._id&&d.getComponentMethod("annotations","drawOne")(p,k)}},A.destroy=function(){if(this.glplot){var p=this.traces;p&&Object.keys(p).map(function(I){p[I].dispose(),delete p[I]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},A.plot=function(p,I,k){var L=this.glplot;this.updateRefs(k),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(p,I),this.updateFx(k.dragmode);var O=k.width,P=k.height;this.updateSize(this.canvas);var F=this.glplotOptions;F.merge(k),F.screenBox=[0,0,O,P];var j={_fullLayout:{_axisConstraintGroups:k._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:k._size}};g(j,this.xaxis),g(j,this.yaxis);var X,N,q=k._size,G=this.xaxis.domain,H=this.yaxis.domain;for(F.viewBox=[q.l+G[0]*q.w,q.b+H[0]*q.h,O-q.r-(1-G[1])*q.w,P-q.t-(1-H[1])*q.h],this.mouseContainer.style.width=q.w*(G[1]-G[0])+"px",this.mouseContainer.style.height=q.h*(H[1]-H[0])+"px",this.mouseContainer.height=q.h*(H[1]-H[0]),this.mouseContainer.style.left=q.l+G[0]*q.w+"px",this.mouseContainer.style.top=q.t+(1-H[1])*q.h+"px",N=0;N<2;++N)(X=this[b[N]])._length=F.viewBox[N+2]-F.viewBox[N],h(this.graphDiv,X),X.setScale();f(j),F.ticks=this.computeTickMarks(),F.dataBox=this.calcDataBox(),F.merge(k),L.update(F),this.glplot.draw()},A.calcDataBox=function(){var p=this.xaxis,I=this.yaxis,k=p.range,L=I.range,O=p.r2l,P=I.r2l;return[O(k[0]),P(L[0]),O(k[1]),P(L[1])]},A.setRanges=function(p){var I=this.xaxis,k=this.yaxis,L=I.l2r,O=k.l2r;I.range=[L(p[0]),L(p[2])],k.range=[O(p[1]),O(p[3])]},A.updateTraces=function(p,I){var k,L,O,P=Object.keys(this.traces);this.fullData=p;e:for(k=0;k<P.length;k++){var F=P[k],j=this.traces[F];for(L=0;L<p.length;L++)if((O=p[L]).uid===F&&O.type===j.type)continue e;j.dispose(),delete this.traces[F]}for(k=0;k<p.length;k++){var X=I[k],N=this.traces[(O=p[k]).uid];N?N.update(O,X):(N=O._module.plot(this,O,X),this.traces[O.uid]=N)}this.glplot.objects.sort(function(q,G){return q._trace.index-G._trace.index})},A.updateFx=function(p){m(p)||x(p)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor="pan"===p?"move":"zoom"===p?"crosshair":null},A.emitPointAction=function(p,I){for(var k,L=p.trace.uid,O=p.pointIndex,P=0;P<this.fullData.length;P++)this.fullData[P].uid===L&&(k=this.fullData[P]);var F={x:p.traceCoord[0],y:p.traceCoord[1],curveNumber:k.index,pointNumber:O,data:k._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};M.appendArrayPointValue(F,k,O),this.graphDiv.emit(I,{points:[F]})},A.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var p=this.glplot,I=this.camera,k=I.mouseListener,L=1===this.lastButtonState&&0===k.buttons,O=this.fullLayout;this.lastButtonState=k.buttons,this.cameraChanged();var P,F=k.x*p.pixelRatio,j=this.canvas.height-p.pixelRatio*k.y;if(I.boxEnabled&&"zoom"===O.dragmode){this.selectBox.enabled=!0;for(var X=this.selectBox.selectBox=[Math.min(I.boxStart[0],I.boxEnd[0]),Math.min(I.boxStart[1],I.boxEnd[1]),Math.max(I.boxStart[0],I.boxEnd[0]),Math.max(I.boxStart[1],I.boxEnd[1])],N=0;N<2;N++)I.boxStart[N]===I.boxEnd[N]&&(X[N]=p.dataBox[N],X[N+2]=p.dataBox[N+2]);p.setDirty()}else if(!I.panning&&this.isMouseOver){this.selectBox.enabled=!1;var q=O._size,Z=(P=p.pick(F/p.pixelRatio+q.l+this.xaxis.domain[0]*q.w,j/p.pixelRatio-(q.t+(1-this.yaxis.domain[1])*q.h)))&&P.object._trace.handlePick(P);if(Z&&L&&this.emitPointAction(Z,"plotly_click"),P&&"skip"!==P.object._trace.hoverinfo&&O.hovermode&&Z&&(!this.lastPickResult||this.lastPickResult.traceUid!==Z.trace.uid||this.lastPickResult.dataCoord[0]!==Z.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Z.dataCoord[1])){var $=Z;this.lastPickResult={traceUid:Z.trace?Z.trace.uid:null,dataCoord:Z.dataCoord.slice()},this.spikes.update({center:P.dataCoord}),$.screenCoord=[((p.viewBox[2]-p.viewBox[0])*(P.dataCoord[0]-p.dataBox[0])/(p.dataBox[2]-p.dataBox[0])+p.viewBox[0])/p.pixelRatio,(this.canvas.height-(p.viewBox[3]-p.viewBox[1])*(P.dataCoord[1]-p.dataBox[1])/(p.dataBox[3]-p.dataBox[1])-p.viewBox[1])/p.pixelRatio],this.emitPointAction(Z,"plotly_hover");var se=this.fullData[$.trace.index]||{},ne=$.pointIndex,re=M.castHoverinfo(se,O,ne);if(re&&"all"!==re){var Q=re.split("+");-1===Q.indexOf("x")&&($.traceCoord[0]=void 0),-1===Q.indexOf("y")&&($.traceCoord[1]=void 0),-1===Q.indexOf("z")&&($.traceCoord[2]=void 0),-1===Q.indexOf("text")&&($.textLabel=void 0),-1===Q.indexOf("name")&&($.name=void 0)}M.loneHover({x:$.screenCoord[0],y:$.screenCoord[1],xLabel:this.hoverFormatter("xaxis",$.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",$.traceCoord[1]),zLabel:$.traceCoord[2],text:$.textLabel,name:$.name,color:M.castHoverOption(se,ne,"bgcolor")||$.color,borderColor:M.castHoverOption(se,ne,"bordercolor"),fontFamily:M.castHoverOption(se,ne,"font.family"),fontSize:M.castHoverOption(se,ne,"font.size"),fontColor:M.castHoverOption(se,ne,"font.color"),nameLength:M.castHoverOption(se,ne,"namelength"),textAlign:M.castHoverOption(se,ne,"align")},{container:this.svgContainer,gd:this.graphDiv})}}P||this.unhover(),p.draw()}},A.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),M.loneUnhover(this.svgContainer))},A.hoverFormatter=function(p,I){if(void 0!==I){var k=this[p];return S.tickText(k,k.c2l(I),"hover").text}}},58547:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(528),d=r(33539),S=r(27659).NG,M=r(71828),v=r(77922),u="gl3d",i="scene";B.name=u,B.attr=i,B.idRoot=i,B.idRegex=B.attrRegex=M.counterRegex("scene"),B.attributes=r(59084),B.layoutAttributes=r(65500),B.baseLayoutAttrOverrides=D({hoverlabel:E.hoverlabel},"plot","nested"),B.supplyLayoutDefaults=r(24682),B.plot=function(s){for(var a=s._fullLayout,o=s._fullData,l=a._subplots[u],c=0;c<l.length;c++){var f=l[c],g=S(o,u,f),h=a[f],T=h.camera,x=h._scene;x||(x=new d({id:f,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:T},a),h._scene=x),x.viewInitial||(x.viewInitial={up:{x:T.up.x,y:T.up.y,z:T.up.z},eye:{x:T.eye.x,y:T.eye.y,z:T.eye.z},center:{x:T.center.x,y:T.center.y,z:T.center.z}}),x.plot(g,a,s.layout)}},B.clean=function(s,a,o,l){for(var c=l._subplots[u]||[],f=0;f<c.length;f++){var g=c[f];!a[g]&&l[g]._scene&&(l[g]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+g).remove())}},B.toSVG=function(s){for(var a=s._fullLayout,o=a._subplots[u],l=a._size,c=0;c<o.length;c++){var f=a[o[c]],g=f.domain,h=f._scene,T=h.toImage("png");a._glimages.append("svg:image").attr({xmlns:v.svg,"xlink:href":T,x:l.l+l.w*g.x[0],y:l.t+l.h*(1-g.y[1]),width:l.w*(g.x[1]-g.x[0]),height:l.h*(g.y[1]-g.y[0]),preserveAspectRatio:"none"}),h.destroy()}},B.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var a=s.substr(5);return"1"===a&&(a=""),i+a}},B.updateFx=function(s){for(var a=s._fullLayout,o=a._subplots[u],l=0;l<o.length;l++)a[o[l]]._scene.updateFx(a.dragmode,a.hovermode)}},59084:function(ae){"use strict";ae.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(ae,B,r){"use strict";var D=r(7901),E=r(13838),d=r(1426).extendFlat,S=r(30962).overrideAll;ae.exports=S({visible:E.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:D.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:E.color,categoryorder:E.categoryorder,categoryarray:E.categoryarray,title:{text:E.title.text,font:E.title.font},type:d({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorange:E.autorange,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},rangemode:E.rangemode,minallowed:E.minallowed,maxallowed:E.maxallowed,range:d({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,mirror:E.mirror,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,tickfont:E.tickfont,tickangle:E.tickangle,tickprefix:E.tickprefix,showtickprefix:E.showtickprefix,ticksuffix:E.ticksuffix,showticksuffix:E.showticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickformat:E.tickformat,tickformatstops:E.tickformatstops,hoverformat:E.hoverformat,showline:E.showline,linecolor:E.linecolor,linewidth:E.linewidth,showgrid:E.showgrid,gridcolor:d({},E.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:E.gridwidth,zeroline:E.zeroline,zerolinecolor:E.zerolinecolor,zerolinewidth:E.zerolinewidth,_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}},"plot","from-root")},3277:function(ae,B,r){"use strict";var D=r(84267).mix,E=r(71828),d=r(44467),S=r(77894),M=r(951),v=r(71453),u=["xaxis","yaxis","zaxis"];ae.exports=function(i,s,a){var o,l;function c(h,T){return E.coerce(o,l,S,h,T)}for(var f=0;f<u.length;f++){var g=u[f];o=i[g]||{},(l=d.newContainer(s,g))._id=g[0]+a.scene,l._name=g,M(o,l,c,a),v(o,l,c,{font:a.font,letter:g[0],data:a.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:a.bgColor,calendar:a.calendar},a.fullLayout),c("gridcolor",D(l.color,a.bgColor,72.72727272727273).toRgbString()),c("title.text",g[0]),l.setScale=E.noop,c("showspikes")&&(c("spikesides"),c("spikethickness"),c("spikecolor",l.color)),c("showaxeslabels"),c("showbackground")&&c("backgroundcolor")}}},30422:function(ae,B,r){"use strict";var D=r(78614),E=r(71828),d=["xaxis","yaxis","zaxis"];function S(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}S.prototype.merge=function(M,v){for(var u=this,i=0;i<3;++i){var s=v[d[i]];s.visible?(u.labels[i]=M._meta?E.templateString(s.title.text,M._meta):s.title.text,"font"in s.title&&(s.title.font.color&&(u.labelColor[i]=D(s.title.font.color)),s.title.font.family&&(u.labelFont[i]=s.title.font.family),s.title.font.size&&(u.labelSize[i]=s.title.font.size)),"showline"in s&&(u.lineEnable[i]=s.showline),"linecolor"in s&&(u.lineColor[i]=D(s.linecolor)),"linewidth"in s&&(u.lineWidth[i]=s.linewidth),"showgrid"in s&&(u.gridEnable[i]=s.showgrid),"gridcolor"in s&&(u.gridColor[i]=D(s.gridcolor)),"gridwidth"in s&&(u.gridWidth[i]=s.gridwidth),"log"===s.type?u.zeroEnable[i]=!1:"zeroline"in s&&(u.zeroEnable[i]=s.zeroline),"zerolinecolor"in s&&(u.zeroLineColor[i]=D(s.zerolinecolor)),"zerolinewidth"in s&&(u.zeroLineWidth[i]=s.zerolinewidth),u.lineTickEnable[i]=!(!("ticks"in s)||!s.ticks),"ticklen"in s&&(u.lineTickLength[i]=u._defaultLineTickLength[i]=s.ticklen),"tickcolor"in s&&(u.lineTickColor[i]=D(s.tickcolor)),"tickwidth"in s&&(u.lineTickWidth[i]=s.tickwidth),"tickangle"in s&&(u.tickAngle[i]="auto"===s.tickangle?-3600:Math.PI*-s.tickangle/180),"showticklabels"in s&&(u.tickEnable[i]=s.showticklabels),"tickfont"in s&&(s.tickfont.color&&(u.tickColor[i]=D(s.tickfont.color)),s.tickfont.family&&(u.tickFont[i]=s.tickfont.family),s.tickfont.size&&(u.tickSize[i]=s.tickfont.size)),"mirror"in s?-1!==["ticks","all","allticks"].indexOf(s.mirror)?(u.lineTickMirror[i]=!0,u.lineMirror[i]=!0):!0===s.mirror?(u.lineTickMirror[i]=!1,u.lineMirror[i]=!0):(u.lineTickMirror[i]=!1,u.lineMirror[i]=!1):u.lineMirror[i]=!1,"showbackground"in s&&!1!==s.showbackground?(u.backgroundEnable[i]=!0,u.backgroundColor[i]=D(s.backgroundcolor)):u.backgroundEnable[i]=!1):(u.tickEnable[i]=!1,u.labelEnable[i]=!1,u.lineEnable[i]=!1,u.lineTickEnable[i]=!1,u.gridEnable[i]=!1,u.zeroEnable[i]=!1,u.backgroundEnable[i]=!1)}},ae.exports=function(M,v){var u=new S;return u.merge(M,v),u}},24682:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(73972),S=r(49119),M=r(3277),v=r(65500),u=r(27659).NG,i="gl3d";function s(a,o,l,c){for(var f=l("bgcolor"),g=E.combine(f,c.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)l("camera."+h[T]+".x"),l("camera."+h[T]+".y"),l("camera."+h[T]+".z");l("camera.projection.type");var x=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),m=l("aspectmode",x?"manual":"auto");x||(a.aspectratio=o.aspectratio={x:1,y:1,z:1},"manual"===m&&(o.aspectmode="auto"),a.aspectmode=o.aspectmode);var b=u(c.fullData,i,c.id);M(a,o,{font:c.font,scene:c.id,data:b,bgColor:g,calendar:c.calendar,autotypenumbersDflt:c.autotypenumbersDflt,fullLayout:c.fullLayout}),d.getComponentMethod("annotations3d","handleDefaults")(a,o,c);var _=c.getDfltFromLayout("dragmode");if(!1!==_&&!_)if(_="orbit",a.camera&&a.camera.up){var w=a.camera.up.x,A=a.camera.up.y,p=a.camera.up.z;0!==p&&(w&&A&&p?p/Math.sqrt(w*w+A*A+p*p)>.999&&(_="turntable"):_="turntable")}else _="turntable";l("dragmode",_),l("hovermode",c.getDfltFromLayout("hovermode"))}ae.exports=function(a,o,l){var c=o._basePlotModules.length>1;S(a,o,l,{type:i,attributes:v,handleDefaults:s,fullLayout:o,font:o.font,fullData:l,getDfltFromLayout:function(f){if(!c)return D.validate(a[f],v[f])?a[f]:void 0},autotypenumbersDflt:o.autotypenumbers,paper_bgcolor:o.paper_bgcolor,calendar:o.calendar})}},65500:function(ae,B,r){"use strict";var D=r(77894),E=r(27670).Y,d=r(1426).extendFlat,S=r(71828).counterRegex;function M(v,u,i){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:u,editType:"camera"},z:{valType:"number",dflt:i,editType:"camera"},editType:"camera"}}ae.exports={_arrayAttrRegexps:[S("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:d(M(0,0,1),{}),center:d(M(0,0,0),{}),eye:d(M(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:E({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:D,yaxis:D,zaxis:D,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(ae,B,r){"use strict";var D=r(78614),E=["xaxis","yaxis","zaxis"];function d(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}d.prototype.merge=function(S){for(var M=0;M<3;++M){var v=S[E[M]];v.visible?(this.enabled[M]=v.showspikes,this.colors[M]=D(v.spikecolor),this.drawSides[M]=v.spikesides,this.lineWidth[M]=v.spikethickness):(this.enabled[M]=!1,this.drawSides[M]=!1)}},ae.exports=function(S){var M=new d;return M.merge(S),M}},96085:function(ae,B,r){"use strict";ae.exports=function(M){for(var v=M.axesOptions,u=M.glplot.axesPixels,i=M.fullSceneLayout,s=[[],[],[]],a=0;a<3;++a){var o=i[d[a]];if(o._length=(u[a].hi-u[a].lo)*u[a].pixelsPerDataUnit/M.dataScale[a],Math.abs(o._length)===1/0||isNaN(o._length))s[a]=[];else{o._input_range=o.range.slice(),o.range[0]=u[a].lo/M.dataScale[a],o.range[1]=u[a].hi/M.dataScale[a],o._m=1/(M.dataScale[a]*u[a].pixelsPerDataUnit),o.range[0]===o.range[1]&&(o.range[0]-=1,o.range[1]+=1);var l=o.tickmode;if("auto"===o.tickmode){o.tickmode="linear";var c=o.nticks||E.constrain(o._length/40,4,9);D.autoTicks(o,Math.abs(o.range[1]-o.range[0])/c)}for(var f=D.calcTicks(o,{msUTC:!0}),g=0;g<f.length;++g)f[g].x=f[g].x*M.dataScale[a],"date"===o.type&&(f[g].text=f[g].text.replace(/\<br\>/g," "));s[a]=f,o.tickmode=l}}for(v.ticks=s,a=0;a<3;++a)for(S[a]=.5*(M.glplot.bounds[0][a]+M.glplot.bounds[1][a]),g=0;g<2;++g)v.bounds[g][a]=M.glplot.bounds[g][a];M.contourLevels=function(h){for(var T=new Array(3),x=0;x<3;++x){for(var m=h[x],b=new Array(m.length),_=0;_<m.length;++_)b[_]=m[_].x;T[x]=b}return T}(s)};var D=r(89298),E=r(71828),d=["xaxis","yaxis","zaxis"],S=[0,0,0]},63538:function(ae){"use strict";function B(r,D){var E,d,S=[0,0,0,0];for(E=0;E<4;++E)for(d=0;d<4;++d)S[d]+=r[4*E+d]*D[E];return S}ae.exports=function(r,D){return B(r.projection,B(r.view,B(r.model,[D[0],D[1],D[2],1])))}},33539:function(ae,B,r){"use strict";var D,E,d=r(9330).gl_plot3d,S=d.createCamera,M=d.createScene,v=r(40372),u=r(38520),i=r(73972),s=r(71828),a=s.preserveDrawingBuffer(),o=r(89298),l=r(30211),c=r(78614),f=r(58617),g=r(63538),h=r(30422),T=r(13133),x=r(96085),m=r(71739).applyAutorangeOptions,b=!1;function _(k,L){var O=document.createElement("div"),P=k.container;this.graphDiv=k.graphDiv;var F=document.createElementNS("http://www.w3.org/2000/svg","svg");F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",F.style["z-index"]=20,F.style["pointer-events"]="none",O.appendChild(F),this.svgContainer=F,O.id=k.id,O.style.position="absolute",O.style.top=O.style.left="0px",O.style.width=O.style.height="100%",P.appendChild(O),this.fullLayout=L,this.id=k.id||"scene",this.fullSceneLayout=L[this.id],this.plotArgs=[[],{},{}],this.axesOptions=h(L,L[this.id]),this.spikeOptions=T(L[this.id]),this.container=O,this.staticMode=!!k.staticPlot,this.pixelRatio=this.pixelRatio||k.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=i.getComponentMethod("annotations3d","convert"),this.drawAnnotations=i.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=_.prototype;w.prepareOptions=function(){var k=this,L={canvas:k.canvas,gl:k.gl,glOptions:{preserveDrawingBuffer:a,premultipliedAlpha:!0,antialias:!0},container:k.container,axes:k.axesOptions,spikes:k.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:k.camera,pixelRatio:k.pixelRatio};if(k.staticMode){if(!(E||(D=document.createElement("canvas"),E=v({canvas:D,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");L.gl=E,L.canvas=D}return L};var A=!0;w.tryCreatePlot=function(){var k=this,L=k.prepareOptions(),O=!0;try{k.glplot=M(L)}catch{if(k.staticMode||!A||a)O=!1;else{s.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{a=L.glOptions.preserveDrawingBuffer=!0,k.glplot=M(L)}catch{a=L.glOptions.preserveDrawingBuffer=!1,O=!1}}}return A=!1,O},w.initializeGLCamera=function(){var k=this,L=k.fullSceneLayout.camera;k.camera=S(k.container,{center:[L.center.x,L.center.y,L.center.z],eye:[L.eye.x,L.eye.y,L.eye.z],up:[L.up.x,L.up.y,L.up.z],_ortho:"orthographic"===L.projection.type,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var k=this;if(k.initializeGLCamera(),!k.tryCreatePlot())return f(k);k.traces={},k.make4thDimension();var L=k.graphDiv,O=L.layout,P=function(){var j={};return k.isCameraChanged(O)&&(j[k.id+".camera"]=k.getCamera()),k.isAspectChanged(O)&&(j[k.id+".aspectratio"]=k.glplot.getAspectratio(),"manual"!==O[k.id].aspectmode&&(k.fullSceneLayout.aspectmode=O[k.id].aspectmode=j[k.id+".aspectmode"]="manual")),j},F=function(j){if(!1!==j.fullSceneLayout.dragmode){var X=P();j.saveLayout(O),j.graphDiv.emit("plotly_relayout",X)}};return k.glplot.canvas&&(k.glplot.canvas.addEventListener("mouseup",function(){F(k)}),k.glplot.canvas.addEventListener("touchstart",function(){b=!0}),k.glplot.canvas.addEventListener("wheel",function(j){if(L._context._scrollZoom.gl3d){if(k.camera._ortho){var X=j.deltaX>j.deltaY?1.1:.9090909090909091,N=k.glplot.getAspectratio();k.glplot.setAspectratio({x:X*N.x,y:X*N.y,z:X*N.z})}F(k)}},!!u&&{passive:!1}),k.glplot.canvas.addEventListener("mousemove",function(){if(!1!==k.fullSceneLayout.dragmode&&0!==k.camera.mouseListener.buttons){var j=P();k.graphDiv.emit("plotly_relayouting",j)}}),k.staticMode||k.glplot.canvas.addEventListener("webglcontextlost",function(j){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:j,layer:k.id})},!1)),k.glplot.oncontextloss=function(){k.recoverContext()},k.glplot.onrender=function(){k.render()},!0},w.render=function(){var k,L=this,O=L.graphDiv,P=L.svgContainer,F=L.container.getBoundingClientRect();O._fullLayout._calcInverseTransform(O);var N=F.width*O._fullLayout._invScaleX,q=F.height*O._fullLayout._invScaleY;P.setAttributeNS(null,"viewBox","0 0 "+N+" "+q),P.setAttributeNS(null,"width",N),P.setAttributeNS(null,"height",q),x(L),L.glplot.axes.update(L.axesOptions);for(var G=Object.keys(L.traces),H=null,Z=L.glplot.selection,$=0;$<G.length;++$)"skip"!==(k=L.traces[G[$]]).data.hoverinfo&&k.handlePick(Z)&&(H=k),k.setContourLevels&&k.setContourLevels();function se(_e,we,ze){var Ee=L.fullSceneLayout[_e+"axis"];return"log"!==Ee.type&&(we=Ee.d2l(we)),o.hoverLabelText(Ee,we,ze)}if(null!==H){var re,ne=g(L.glplot.cameraParams,Z.dataCoordinate),Q=O._fullData[(k=H.data).index],ee=Z.index,oe={xLabel:se("x",Z.traceCoordinate[0],k.xhoverformat),yLabel:se("y",Z.traceCoordinate[1],k.yhoverformat),zLabel:se("z",Z.traceCoordinate[2],k.zhoverformat)},ce=l.castHoverinfo(Q,L.fullLayout,ee),ue=(ce||"").split("+"),he=ce&&"all"===ce;Q.hovertemplate||he||(-1===ue.indexOf("x")&&(oe.xLabel=void 0),-1===ue.indexOf("y")&&(oe.yLabel=void 0),-1===ue.indexOf("z")&&(oe.zLabel=void 0),-1===ue.indexOf("text")&&(Z.textLabel=void 0),-1===ue.indexOf("name")&&(H.name=void 0));var ve=[];"cone"===k.type||"streamtube"===k.type?(oe.uLabel=se("x",Z.traceCoordinate[3],k.uhoverformat),(he||-1!==ue.indexOf("u"))&&ve.push("u: "+oe.uLabel),oe.vLabel=se("y",Z.traceCoordinate[4],k.vhoverformat),(he||-1!==ue.indexOf("v"))&&ve.push("v: "+oe.vLabel),oe.wLabel=se("z",Z.traceCoordinate[5],k.whoverformat),(he||-1!==ue.indexOf("w"))&&ve.push("w: "+oe.wLabel),oe.normLabel=Z.traceCoordinate[6].toPrecision(3),(he||-1!==ue.indexOf("norm"))&&ve.push("norm: "+oe.normLabel),"streamtube"===k.type&&(oe.divergenceLabel=Z.traceCoordinate[7].toPrecision(3),(he||-1!==ue.indexOf("divergence"))&&ve.push("divergence: "+oe.divergenceLabel)),Z.textLabel&&ve.push(Z.textLabel),re=ve.join("<br>")):"isosurface"===k.type||"volume"===k.type?(oe.valueLabel=o.hoverLabelText(L._mockAxis,L._mockAxis.d2l(Z.traceCoordinate[3]),k.valuehoverformat),ve.push("value: "+oe.valueLabel),Z.textLabel&&ve.push(Z.textLabel),re=ve.join("<br>")):re=Z.textLabel;var ke={x:Z.traceCoordinate[0],y:Z.traceCoordinate[1],z:Z.traceCoordinate[2],data:Q._input,fullData:Q,curveNumber:Q.index,pointNumber:ee};l.appendArrayPointValue(ke,Q,ee),k._module.eventData&&(ke=Q._module.eventData(ke,Z,Q,{},ee));var Ie={points:[ke]};if(L.fullSceneLayout.hovermode){var Me=[];l.loneHover({trace:Q,x:(.5+.5*ne[0]/ne[3])*N,y:(.5-.5*ne[1]/ne[3])*q,xLabel:oe.xLabel,yLabel:oe.yLabel,zLabel:oe.zLabel,text:re,name:H.name,color:l.castHoverOption(Q,ee,"bgcolor")||H.color,borderColor:l.castHoverOption(Q,ee,"bordercolor"),fontFamily:l.castHoverOption(Q,ee,"font.family"),fontSize:l.castHoverOption(Q,ee,"font.size"),fontColor:l.castHoverOption(Q,ee,"font.color"),nameLength:l.castHoverOption(Q,ee,"namelength"),textAlign:l.castHoverOption(Q,ee,"align"),hovertemplate:s.castOption(Q,ee,"hovertemplate"),hovertemplateLabels:s.extendFlat({},ke,oe),eventData:[ke]},{container:P,gd:O,inOut_bbox:Me}),ke.bbox=Me[0]}O.emit(Z.distance<5&&(Z.buttons||b)?"plotly_click":"plotly_hover",Ie),this.oldEventData=Ie}else l.loneUnhover(P),this.oldEventData&&O.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;L.drawAnnotations(L)},w.recoverContext=function(){var k=this;k.glplot.dispose();var L=function(){k.glplot.gl.isContextLost()?requestAnimationFrame(L):k.initializeGLPlot()?k.plot.apply(k,k.plotArgs):s.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(L)};var p=["xaxis","yaxis","zaxis"];function I(k,L,O){for(var P=k.fullSceneLayout,F=0;F<3;F++){var j=p[F],X=j.charAt(0),N=P[j],q=L[X],G=L[X+"calendar"],H=L["_"+X+"length"];if(s.isArrayOrTypedArray(q))for(var Z,$=0;$<(H||q.length);$++)if(s.isArrayOrTypedArray(q[$]))for(var se=0;se<q[$].length;++se)Z=N.d2l(q[$][se],0,G),!isNaN(Z)&&isFinite(Z)&&(O[0][F]=Math.min(O[0][F],Z),O[1][F]=Math.max(O[1][F],Z));else Z=N.d2l(q[$],0,G),!isNaN(Z)&&isFinite(Z)&&(O[0][F]=Math.min(O[0][F],Z),O[1][F]=Math.max(O[1][F],Z));else O[0][F]=Math.min(O[0][F],0),O[1][F]=Math.max(O[1][F],H-1)}}w.plot=function(k,L,O){var P=this;if(P.plotArgs=[k,L,O],!P.glplot.contextLost){var F,j,X,N,q,G,H=L[P.id],Z=O[P.id];P.fullLayout=L,P.fullSceneLayout=H,P.axesOptions.merge(L,H),P.spikeOptions.merge(H),P.setViewport(H),P.updateFx(H.dragmode,H.hovermode),P.camera.enableWheel=P.graphDiv._context._scrollZoom.gl3d,P.glplot.setClearColor(c(H.bgcolor)),P.setConvert(q),k?Array.isArray(k)||(k=[k]):k=[];var $=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(X=0;X<k.length;++X)!0===(F=k[X]).visible&&0!==F._length&&I(this,F,$);!function(Ue,Ze){for(var xe=Ue.fullSceneLayout,Oe=xe.annotations||[],Ce=0;Ce<3;Ce++)for(var Be=p[Ce],qe=Be.charAt(0),He=xe[Be],Je=0;Je<Oe.length;Je++){var et=Oe[Je];if(et.visible){var st=He.r2l(et[qe]);!isNaN(st)&&isFinite(st)&&(Ze[0][Ce]=Math.min(Ze[0][Ce],st),Ze[1][Ce]=Math.max(Ze[1][Ce],st))}}}(this,$);var se=[1,1,1];for(N=0;N<3;++N)se[N]=$[1][N]===$[0][N]?1:1/($[1][N]-$[0][N]);for(P.dataScale=se,P.convertAnnotations(this),X=0;X<k.length;++X)!0===(F=k[X]).visible&&0!==F._length&&((j=P.traces[F.uid])?j.data.type===F.type?j.update(F):(j.dispose(),j=F._module.plot(this,F),P.traces[F.uid]=j):(j=F._module.plot(this,F),P.traces[F.uid]=j),j.name=F.name);var ne=Object.keys(P.traces);e:for(X=0;X<ne.length;++X){for(N=0;N<k.length;++N)if(k[N].uid===ne[X]&&!0===k[N].visible&&0!==k[N]._length)continue e;(j=P.traces[ne[X]]).dispose(),delete P.traces[ne[X]]}P.glplot.objects.sort(function(Ue,Ze){return Ue._trace.data.index-Ze._trace.data.index});var re,Q=[[0,0,0],[0,0,0]],ee=[],oe={};for(X=0;X<3;++X){var ce;if((G=(q=H[p[X]]).type)in oe?(oe[G].acc*=se[X],oe[G].count+=1):oe[G]={acc:se[X],count:1},q.autorange){Q[0][X]=1/0,Q[1][X]=-1/0;var ue=P.glplot.objects,he=P.fullSceneLayout.annotations||[],ve=q._name.charAt(0);for(N=0;N<ue.length;N++){var ke=ue[N],Ie=ke.bounds,Me=ke._trace.data._pad||0;Q[0][X]="ErrorBars"===ke.constructor.name&&q._lowerLogErrorBound?Math.min(Q[0][X],q._lowerLogErrorBound):Math.min(Q[0][X],Ie[0][X]/se[X]-Me),Q[1][X]=Math.max(Q[1][X],Ie[1][X]/se[X]+Me)}for(N=0;N<he.length;N++){var _e=he[N];if(_e.visible){var we=q.r2l(_e[ve]);Q[0][X]=Math.min(Q[0][X],we),Q[1][X]=Math.max(Q[1][X],we)}}if("rangemode"in q&&"tozero"===q.rangemode&&(Q[0][X]=Math.min(Q[0][X],0),Q[1][X]=Math.max(Q[1][X],0)),Q[0][X]>Q[1][X])Q[0][X]=-1,Q[1][X]=1;else{var ze=Q[1][X]-Q[0][X];Q[0][X]-=ze/32,Q[1][X]+=ze/32}if(ce=m(ce=[Q[0][X],Q[1][X]],q),Q[0][X]=ce[0],Q[1][X]=ce[1],q.isReversed()){var Ee=Q[0][X];Q[0][X]=Q[1][X],Q[1][X]=Ee}}else Q[0][X]=q.r2l((ce=q.range)[0]),Q[1][X]=q.r2l(ce[1]);Q[0][X]===Q[1][X]&&(Q[0][X]-=1,Q[1][X]+=1),ee[X]=Q[1][X]-Q[0][X],q.range=[Q[0][X],Q[1][X]],q.limitRange(),P.glplot.setBounds(X,{min:q.range[0]*se[X],max:q.range[1]*se[X]})}var Se=H.aspectmode;if("cube"===Se)re=[1,1,1];else if("manual"===Se){var me=H.aspectratio;re=[me.x,me.y,me.z]}else{if("auto"!==Se&&"data"!==Se)throw new Error("scene.js aspectRatio was not one of the enumerated types");var fe=[1,1,1];for(X=0;X<3;++X){var le=oe[G=(q=H[p[X]]).type];fe[X]=Math.pow(le.acc,1/le.count)/se[X]}re="data"===Se||Math.max.apply(null,fe)/Math.min.apply(null,fe)<=4?fe:[1,1,1]}H.aspectratio.x=Z.aspectratio.x=re[0],H.aspectratio.y=Z.aspectratio.y=re[1],H.aspectratio.z=Z.aspectratio.z=re[2],P.glplot.setAspectratio(H.aspectratio),P.viewInitial.aspectratio||(P.viewInitial.aspectratio={x:H.aspectratio.x,y:H.aspectratio.y,z:H.aspectratio.z}),P.viewInitial.aspectmode||(P.viewInitial.aspectmode=H.aspectmode);var Te=H.domain||null,Re=L._size||null;if(Te&&Re){var De=P.container.style;De.position="absolute",De.left=Re.l+Te.x[0]*Re.w+"px",De.top=Re.t+(1-Te.y[1])*Re.h+"px",De.width=Re.w*(Te.x[1]-Te.x[0])+"px",De.height=Re.h*(Te.y[1]-Te.y[0])+"px"}P.glplot.redraw()}},w.destroy=function(){var k=this;k.glplot&&(k.camera.mouseListener.enabled=!1,k.container.removeEventListener("wheel",k.camera.wheelListener),k.camera=null,k.glplot.dispose(),k.container.parentNode.removeChild(k.container),k.glplot=null)},w.getCamera=function(){var k,L=this;return L.camera.view.recalcMatrix(L.camera.view.lastT()),{up:{x:(k=L.camera).up[0],y:k.up[1],z:k.up[2]},center:{x:k.center[0],y:k.center[1],z:k.center[2]},eye:{x:k.eye[0],y:k.eye[1],z:k.eye[2]},projection:{type:!0===k._ortho?"orthographic":"perspective"}}},w.setViewport=function(k){var L,O=this,P=k.camera;O.camera.lookAt.apply(this,[[(L=P).eye.x,L.eye.y,L.eye.z],[L.center.x,L.center.y,L.center.z],[L.up.x,L.up.y,L.up.z]]),O.glplot.setAspectratio(k.aspectratio),"orthographic"===P.projection.type!==O.camera._ortho&&(O.glplot.redraw(),O.glplot.clearRGBA(),O.glplot.dispose(),O.initializeGLPlot())},w.isCameraChanged=function(k){var L=this.getCamera(),O=s.nestedProperty(k,this.id+".camera").get();var N,q,G,H,Z,$,F=!1;if(void 0===O)F=!0;else{for(var j=0;j<3;j++)for(var X=0;X<3;X++)if(N=L,H=X,Z=void 0,$=void 0,$=["x","y","z"],!(q=O)[(Z=["up","center","eye"])[G=j]]||N[Z[G]][$[H]]!==q[Z[G]][$[H]]){F=!0;break}(!O.projection||L.projection&&L.projection.type!==O.projection.type)&&(F=!0)}return F},w.isAspectChanged=function(k){var L=this.glplot.getAspectratio(),O=s.nestedProperty(k,this.id+".aspectratio").get();return void 0===O||O.x!==L.x||O.y!==L.y||O.z!==L.z},w.saveLayout=function(k){var L,O,P,F,j,X,N=this,q=N.fullLayout,G=N.isCameraChanged(k),H=N.isAspectChanged(k),Z=G||H;if(Z){var $={};G&&(L=N.getCamera(),P=(O=s.nestedProperty(k,N.id+".camera")).get(),$[N.id+".camera"]=P),H&&(F=N.glplot.getAspectratio(),X=(j=s.nestedProperty(k,N.id+".aspectratio")).get(),$[N.id+".aspectratio"]=X),i.call("_storeDirectGUIEdit",k,q._preGUI,$),G&&(O.set(L),s.nestedProperty(q,N.id+".camera").set(L)),H&&(j.set(F),s.nestedProperty(q,N.id+".aspectratio").set(F),N.glplot.redraw())}return Z},w.updateFx=function(k,L){var O=this,P=O.camera;if(P)if("orbit"===k)P.mode="orbit",P.keyBindingMode="rotate";else if("turntable"===k){P.up=[0,0,1],P.mode="turntable",P.keyBindingMode="rotate";var F=O.graphDiv,j=F._fullLayout,X=O.fullSceneLayout.camera,N=X.up.x,q=X.up.y,G=X.up.z;if(G/Math.sqrt(N*N+q*q+G*G)<.999){var H=O.id+".camera.up",Z={x:0,y:0,z:1},$={};$[H]=Z;var se=F.layout;i.call("_storeDirectGUIEdit",se,j._preGUI,$),X.up=Z,s.nestedProperty(se,H).set(Z)}}else P.keyBindingMode=k;O.fullSceneLayout.hovermode=L},w.toImage=function(k){var L=this;k||(k="png"),L.staticMode&&L.container.appendChild(D),L.glplot.redraw();var O=L.glplot.gl,P=O.drawingBufferWidth,F=O.drawingBufferHeight;O.bindFramebuffer(O.FRAMEBUFFER,null);var j=new Uint8Array(P*F*4);O.readPixels(0,0,P,F,O.RGBA,O.UNSIGNED_BYTE,j),function(H,Z,$){for(var se=0,ne=$-1;se<ne;++se,--ne)for(var re=0;re<Z;++re)for(var Q=0;Q<4;++Q){var ee=4*(Z*se+re)+Q,oe=4*(Z*ne+re)+Q,ce=H[ee];H[ee]=H[oe],H[oe]=ce}}(j,P,F),function(H,Z,$){for(var se=0;se<$;++se)for(var ne=0;ne<Z;++ne){var re=4*(Z*se+ne),Q=H[re+3];if(Q>0)for(var ee=255/Q,oe=0;oe<3;++oe)H[re+oe]=Math.min(ee*H[re+oe],255)}}(j,P,F);var X=document.createElement("canvas");X.width=P,X.height=F;var N,q=X.getContext("2d",{willReadFrequently:!0}),G=q.createImageData(P,F);switch(G.data.set(j),q.putImageData(G,0,0),k){case"jpeg":N=X.toDataURL("image/jpeg");break;case"webp":N=X.toDataURL("image/webp");break;default:N=X.toDataURL("image/png")}return L.staticMode&&L.container.removeChild(D),N},w.setConvert=function(){for(var k=0;k<3;k++){var L=this.fullSceneLayout[p[k]];o.setConvert(L,this.fullLayout),L.setScale=s.noop}},w.make4thDimension=function(){var k=this,L=k.graphDiv._fullLayout;k._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(k._mockAxis,L)},ae.exports=_},90060:function(ae){"use strict";ae.exports=function(B,r,D,E){E=E||B.length;for(var d=new Array(E),S=0;S<E;S++)d[S]=[B[S],r[S],D[S]];return d}},10820:function(ae,B,r){"use strict";var D=r(41940),E=r(85594),d=r(22399),S=r(29241),M=r(53777),v=r(35025),u=r(1426).extendFlat,i=D({editType:"calc"});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=d.defaultLine,ae.exports={font:i,title:{text:{valType:"string",editType:"layoutstyle"},font:D({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:u(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:d.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:d.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:d.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:S.newshape,activeshape:S.activeshape,newselection:M.newselection,activeselection:M.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:u({},E.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:D({editType:"layoutstyle"})}}},77734:function(ae,B,r){"use strict";var D=r(78607),E="1.10.1",d='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',S=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',d].join(" "),M=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:d,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:S,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:S,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:M,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:M,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},u=D(v);ae.exports={requiredVersion:E,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:v,styleValuesNonMapbox:u,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+E+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",u.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},13056:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d){var S=E.split(" "),M=S[0],v=S[1],u=D.isArrayOrTypedArray(d)?D.mean(d):d,i=.5+u/100,s=1.5+u/100,a=["",""],o=[0,0];switch(M){case"top":a[0]="top",o[1]=-s;break;case"bottom":a[0]="bottom",o[1]=s}switch(v){case"left":a[1]="right",o[0]=-i;break;case"right":a[1]="left",o[0]=i}return{anchor:a[0]&&a[1]?a.join("-"):a[0]?a[0]:a[1]?a[1]:"center",offset:o}}},50101:function(ae,B,r){"use strict";var D=r(44517),E=r(71828),d=E.strTranslate,S=E.strScale,M=r(27659).AU,v=r(77922),u=r(39898),i=r(91424),s=r(63893),a=r(10481),o="mapbox",l=B.constants=r(77734);function c(f){return"string"==typeof f&&(-1!==l.styleValuesMapbox.indexOf(f)||0===f.indexOf("mapbox://"))}B.name=o,B.attr="subplot",B.idRoot=o,B.idRegex=B.attrRegex=E.counterRegex(o),B.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},B.layoutAttributes=r(23585),B.supplyLayoutDefaults=r(77882),B.plot=function(f){var g=f._fullLayout,h=f.calcdata,T=g._subplots[o];if(D.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var x=function(p,I){var k=p._fullLayout;if(""===p._context.mapboxAccessToken)return"";for(var L=[],O=[],P=!1,F=!1,j=0;j<I.length;j++){var X=k[I[j]],N=X.accesstoken;c(X.style)&&(N?E.pushUnique(L,N):(c(X._input.style)&&(E.error("Uses Mapbox map style, but did not set an access token."),P=!0),F=!0)),N&&E.pushUnique(O,N)}if(F){var q=P?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw E.error(q),new Error(q)}return L.length?(L.length>1&&E.warn(l.multipleTokensErrorMsg),L[0]):(O.length&&E.log(["Listed mapbox access token(s)",O.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(f,T);D.accessToken=x;for(var m=0;m<T.length;m++){var b=T[m],_=M(h,o,b),w=g[b],A=w._subplot;A||(A=new a(f,b),g[b]._subplot=A),A.viewInitial||(A.viewInitial={center:E.extendFlat({},w.center),zoom:w.zoom,bearing:w.bearing,pitch:w.pitch}),A.plot(_,g,f._promises)}},B.clean=function(f,g,h,T){for(var x=T._subplots[o]||[],m=0;m<x.length;m++){var b=x[m];!g[b]&&T[b]._subplot&&T[b]._subplot.destroy()}},B.toSVG=function(f){for(var g=f._fullLayout,h=g._subplots[o],T=g._size,x=0;x<h.length;x++){var m=g[h[x]],b=m.domain,_=m._subplot.toImage("png");g._glimages.append("svg:image").attr({xmlns:v.svg,"xlink:href":_,x:T.l+T.w*b.x[0],y:T.t+T.h*(1-b.y[1]),width:T.w*(b.x[1]-b.x[0]),height:T.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"});var w=u.select(m._subplot.div);if(null!==w.select(".mapboxgl-ctrl-logo").node().offsetParent){var A=g._glimages.append("g");A.attr("transform",d(T.l+T.w*b.x[0]+10,T.t+T.h*(1-b.y[0])-31)),A.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),A.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),A.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),A.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var p=w.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),I=g._glimages.append("g"),k=I.append("text");k.text(p).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":p});var L=i.bBox(k.node()),O=T.w*(b.x[1]-b.x[0]);if(L.width>O/2){var P=p.split("|").join("<br>");k.text(P).attr("data-unformatted",P).call(s.convertToTspans,f),L=i.bBox(k.node())}k.attr("transform",d(-3,8-L.height)),I.insert("rect",".static-attribution").attr({x:-L.width-6,y:-L.height-3,width:L.width+6,height:L.height+3,fill:"rgba(255, 255, 255, 0.75)"});var F=1;L.width+6>O&&(F=O/(L.width+6));var j=[T.l+T.w*b.x[1],T.t+T.h*(1-b.y[0])];I.attr("transform",d(j[0],j[1])+S(F))}},B.updateFx=function(f){for(var g=f._fullLayout,h=g._subplots[o],T=0;T<h.length;T++)g[h[T]]._subplot.updateFx(g)}},67911:function(ae,B,r){"use strict";var D=r(71828),E=r(63893).sanitizeHTML,d=r(13056),S=r(77734);function M(s,a){this.subplot=s,this.uid=s.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=S.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=M.prototype;function u(s){if(!s.visible)return!1;var a=s.source;if(Array.isArray(a)&&a.length>0){for(var o=0;o<a.length;o++)if("string"!=typeof a[o]||0===a[o].length)return!1;return!0}return D.isPlainObject(a)||"string"==typeof a&&a.length>0}function i(s){var a={},o={};switch(s.type){case"circle":D.extendFlat(o,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":D.extendFlat(o,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":D.extendFlat(o,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var l=s.symbol,c=d(l.textposition,l.iconsize);D.extendFlat(a,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":c.anchor,"text-offset":c.offset,"symbol-placement":l.placement}),D.extendFlat(o,{"icon-color":s.color,"text-color":l.textfont.color,"text-opacity":s.opacity});break;case"raster":D.extendFlat(o,{"raster-fade-duration":0,"raster-opacity":s.opacity})}return{layout:a,paint:o}}v.update=function(s){this.visible?this.needsNewImage(s)?this.updateImage(s):this.needsNewSource(s)?(this.removeLayer(),this.updateSource(s),this.updateLayer(s)):this.needsNewLayer(s)?this.updateLayer(s):this.updateStyle(s):(this.updateSource(s),this.updateLayer(s)),this.visible=u(s)},v.needsNewImage=function(s){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===s.sourcetype&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},v.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},v.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(s){this.subplot.map.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var a=this.findFollowingMapboxLayerId(this.lookupBelow());null!==a&&this.subplot.map.moveLayer(this.idLayer,a)},v.updateSource=function(s){var l,c,f,g,h,a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,u(s)){var o=(g=(l=s).source,h={type:f=l.sourcetype},"geojson"===f?c="data":"vector"===f?c="string"==typeof g?"url":"tiles":"raster"===f?(c="tiles",h.tileSize=256):"image"===f&&(c="url",h.coordinates=l.coordinates),h[c]=g,l.sourceattribution&&(h.attribution=E(l.sourceattribution)),h);a.addSource(this.idSource,o)}},v.findFollowingMapboxLayerId=function(s){if("traces"===s)for(var a=this.subplot.getMapLayers(),o=0;o<a.length;o++){var l=a[o].id;if("string"==typeof l&&0===l.indexOf(S.traceLayerPrefix)){s=l;break}}return s},v.updateLayer=function(s){var a=this.subplot,o=i(s),l=this.lookupBelow(),c=this.findFollowingMapboxLayerId(l);this.removeLayer(),u(s)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:o.layout,paint:o.paint},c),this.layerType=s.type,this.below=l},v.updateStyle=function(s){if(u(s)){var a=i(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},v.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},v.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)},ae.exports=function(s,a,o){var l=new M(s,a);return l.update(o),l}},23585:function(ae,B,r){"use strict";var D=r(71828),E=r(7901).defaultLine,d=r(27670).Y,S=r(41940),M=r(82196).textposition,v=r(30962).overrideAll,u=r(44467).templatedArray,i=r(77734),s=S({});s.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(ae.exports=v({_arrayAttrRegexps:[D.counterRegex("mapbox",".layers",!0)],domain:d({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:i.styleValuesMapbox.concat(i.styleValuesNonMapbox),dflt:i.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:u("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:E},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:E}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:s,textposition:D.extendFlat({},M,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(ae,B,r){"use strict";var D=r(71828),E=r(49119),d=r(85501),S=r(23585);function M(u,i,s,a){s("accesstoken",a.accessToken),s("style"),s("center.lon"),s("center.lat"),s("zoom"),s("bearing"),s("pitch");var o=s("bounds.west"),l=s("bounds.east"),c=s("bounds.south"),f=s("bounds.north");void 0!==o&&void 0!==l&&void 0!==c&&void 0!==f||delete i.bounds,d(u,i,{name:"layers",handleItemDefaults:v}),i._input=u}function v(u,i){function s(f,g){return D.coerce(u,i,S.layers,f,g)}if(s("visible")){var a,o=s("sourcetype"),l="raster"===o||"image"===o;s("source"),s("sourceattribution"),"vector"===o&&s("sourcelayer"),"image"===o&&s("coordinates"),l&&(a="raster");var c=s("type",a);l&&"raster"!==c&&(c=i.type="raster",D.log("Source types *raster* and *image* must drawn *raster* layer type.")),s("below"),s("color"),s("opacity"),s("minzoom"),s("maxzoom"),"circle"===c&&s("circle.radius"),"line"===c&&(s("line.width"),s("line.dash")),"fill"===c&&s("fill.outlinecolor"),"symbol"===c&&(s("symbol.icon"),s("symbol.iconsize"),s("symbol.text"),D.coerceFont(s,"symbol.textfont"),s("symbol.textposition"),s("symbol.placement"))}}ae.exports=function(u,i,s){E(u,i,s,{type:"mapbox",attributes:S,handleDefaults:M,partition:"y",accessToken:i._mapboxAccessToken})}},10481:function(ae,B,r){"use strict";var D=r(44517),E=r(71828),d=r(41327),S=r(73972),M=r(89298),v=r(28569),u=r(30211),i=r(64505),s=i.drawMode,a=i.selectMode,o=r(47322).prepSelect,l=r(47322).clearOutline,c=r(47322).clearSelectionsCache,f=r(47322).selectOnClick,g=r(77734),h=r(67911);function T(A,p){this.id=p,this.gd=A;var I=A._fullLayout,k=A._context;this.container=I._glcontainer.node(),this.isStatic=k.staticPlot,this.uid=I._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(I),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var x=T.prototype;x.plot=function(A,p,I){var k,L=this;L.map&&p[L.id].accesstoken!==L.accessToken&&(L.map.remove(),L.map=null,L.styleObj=null,L.traceHash={},L.layerList=[]),k=new Promise(L.map?function(P,F){L.updateMap(A,p,P,F)}:function(P,F){L.createMap(A,p,P,F)}),I.push(k)},x.createMap=function(A,p,I,k){var L=this,O=p[L.id],P=L.styleObj=b(O.style);L.accessToken=O.accesstoken;var F=O.bounds,j=F?[[F.west,F.south],[F.east,F.north]]:null,X=L.map=new D.Map({container:L.div,style:P.style,center:w(O.center),zoom:O.zoom,bearing:O.bearing,pitch:O.pitch,maxBounds:j,interactive:!L.isStatic,preserveDrawingBuffer:L.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new D.AttributionControl({compact:!0}));X._canvas.style.left="0px",X._canvas.style.top="0px",L.rejectOnError(k),L.isStatic||L.initFx(A,p);var N=[];N.push(new Promise(function(q){X.once("load",q)})),N=N.concat(d.fetchTraceGeoData(A)),Promise.all(N).then(function(){L.fillBelowLookup(A,p),L.updateData(A),L.updateLayout(p),L.resolveOnRender(I)}).catch(k)},x.updateMap=function(A,p,I,k){var L=this,O=L.map,P=p[this.id];L.rejectOnError(k);var F=[],j=b(P.style);JSON.stringify(L.styleObj)!==JSON.stringify(j)&&(L.styleObj=j,O.setStyle(j.style),L.traceHash={},F.push(new Promise(function(X){O.once("styledata",X)}))),F=F.concat(d.fetchTraceGeoData(A)),Promise.all(F).then(function(){L.fillBelowLookup(A,p),L.updateData(A),L.updateLayout(p),L.resolveOnRender(I)}).catch(k)},x.fillBelowLookup=function(A,p){var I,k,L=p[this.id].layers,O=this.belowLookup={},P=!1;for(I=0;I<A.length;I++){var F=A[I][0].trace,j=F._module;"string"==typeof F.below?k=F.below:j.getBelow&&(k=j.getBelow(F,this)),""===k&&(P=!0),O["trace-"+F.uid]=k||""}for(I=0;I<L.length;I++){var X=L[I];O["layout-"+I]=k="string"==typeof X.below?X.below:P?"traces":""}var N,q,G={};for(N in O)G[k=O[N]]?G[k].push(N):G[k]=[N];for(k in G){var H=G[k];if(H.length>1)for(I=0;I<H.length;I++)0===(N=H[I]).indexOf("trace-")?(q=N.split("trace-")[1],this.traceHash[q]&&(this.traceHash[q].below=null)):0===N.indexOf("layout-")&&(q=N.split("layout-")[1],this.layerList[q]&&(this.layerList[q].below=null))}};var m={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function b(A){var p={};return E.isPlainObject(A)?(p.id=A.id,p.style=A):"string"==typeof A?(p.id=A,p.style=-1!==g.styleValuesMapbox.indexOf(A)?_(A):g.stylesNonMapbox[A]?g.stylesNonMapbox[A]:A):(p.id=g.styleValueDflt,p.style=_(g.styleValueDflt)),p.transition={duration:0,delay:0},p}function _(A){return g.styleUrlPrefix+A+"-"+g.styleUrlSuffix}function w(A){return[A.lon,A.lat]}x.updateData=function(A){var p,I,k,L,O=this.traceHash,P=A.slice().sort(function(q,G){return m[q[0].trace.type]-m[G[0].trace.type]});for(k=0;k<P.length;k++){var F=P[k],j=!1;(p=O[(I=F[0].trace).uid])&&(p.type===I.type?(p.update(F),j=!0):p.dispose()),!j&&I._module&&(O[I.uid]=I._module.plot(this,F))}var X=Object.keys(O);e:for(k=0;k<X.length;k++){var N=X[k];for(L=0;L<A.length;L++)if(N===(I=A[L][0].trace).uid)continue e;(p=O[N]).dispose(),delete O[N]}},x.updateLayout=function(A){var p=this.map,I=A[this.id];this.dragging||this.wheeling||(p.setCenter(w(I.center)),p.setZoom(I.zoom),p.setBearing(I.bearing),p.setPitch(I.pitch)),this.updateLayers(A),this.updateFramework(A),this.updateFx(A),this.map.resize(),this.gd._context._scrollZoom.mapbox?p.scrollZoom.enable():p.scrollZoom.disable()},x.resolveOnRender=function(A){var p=this.map;p.on("render",function I(){p.loaded()&&(p.off("render",I),setTimeout(A,10))})},x.rejectOnError=function(A){var p=this.map;function I(){A(new Error(g.mapOnErrorMsg))}p.once("error",I),p.once("style.error",I),p.once("source.error",I),p.once("tile.error",I),p.once("layer.error",I)},x.createFramework=function(A){var p=this,I=p.div=document.createElement("div");I.id=p.uid,I.style.position="absolute",p.container.appendChild(I),p.xaxis={_id:"x",c2p:function(k){return p.project(k).x}},p.yaxis={_id:"y",c2p:function(k){return p.project(k).y}},p.updateFramework(A),p.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},M.setConvert(p.mockAxis,A)},x.initFx=function(A,p){var I=this,k=I.gd,L=I.map;function O(){u.loneUnhover(p._hoverlayer)}function P(){var F=I.getView();k.emit("plotly_relayouting",I.getViewEditsWithDerived(F))}L.on("moveend",function(F){if(I.map){var j=k._fullLayout;if(F.originalEvent||I.wheeling){var X=j[I.id];S.call("_storeDirectGUIEdit",k.layout,j._preGUI,I.getViewEdits(X));var N=I.getView();X._input.center=X.center=N.center,X._input.zoom=X.zoom=N.zoom,X._input.bearing=X.bearing=N.bearing,X._input.pitch=X.pitch=N.pitch,k.emit("plotly_relayout",I.getViewEditsWithDerived(N))}F.originalEvent&&"mouseup"===F.originalEvent.type?I.dragging=!1:I.wheeling&&(I.wheeling=!1),j._rehover&&j._rehover()}}),L.on("wheel",function(){I.wheeling=!0}),L.on("mousemove",function(F){var j=I.div.getBoundingClientRect(),X=[F.originalEvent.offsetX,F.originalEvent.offsetY];F.target.getBoundingClientRect=function(){return j},I.xaxis.p2c=function(){return L.unproject(X).lng},I.yaxis.p2c=function(){return L.unproject(X).lat},k._fullLayout._rehover=function(){k._fullLayout._hoversubplot===I.id&&k._fullLayout[I.id]&&u.hover(k,F,I.id)},u.hover(k,F,I.id),k._fullLayout._hoversubplot=I.id}),L.on("dragstart",function(){I.dragging=!0,O()}),L.on("zoomstart",O),L.on("mouseout",function(){k._fullLayout._hoversubplot=null}),L.on("drag",P),L.on("zoom",P),L.on("dblclick",function(){var F=k._fullLayout[I.id];S.call("_storeDirectGUIEdit",k.layout,k._fullLayout._preGUI,I.getViewEdits(F));var j=I.viewInitial;L.setCenter(w(j.center)),L.setZoom(j.zoom),L.setBearing(j.bearing),L.setPitch(j.pitch);var X=I.getView();F._input.center=F.center=X.center,F._input.zoom=F.zoom=X.zoom,F._input.bearing=F.bearing=X.bearing,F._input.pitch=F.pitch=X.pitch,k.emit("plotly_doubleclick",null),k.emit("plotly_relayout",I.getViewEditsWithDerived(X))}),I.clearOutline=function(){c(I.dragOptions),l(I.dragOptions.gd)},I.onClickInPanFn=function(F){return function(j){var X=k._fullLayout.clickmode;X.indexOf("select")>-1&&f(j.originalEvent,k,[I.xaxis],[I.yaxis],I.id,F),X.indexOf("event")>-1&&u.click(k,j.originalEvent)}}},x.updateFx=function(A){var p=this,I=p.map;if(!p.isStatic){var O=A.dragmode;p.dragOptions=E.extendDeep(p.dragOptions||{},{dragmode:A.dragmode,element:p.div,gd:p.gd,plotinfo:{id:p.id,domain:A[p.id].domain,xaxis:p.xaxis,yaxis:p.yaxis,fillRangeItems:function(j,X){X.isRect?(j.range={})[p.id]=[F([X.xmin,X.ymin]),F([X.xmax,X.ymax])]:(j.lassoPoints={})[p.id]=X.map(F)}},xaxes:[p.xaxis],yaxes:[p.yaxis],subplot:p.id}),I.off("click",p.onClickInPanHandler),a(O)||s(O)?(I.dragPan.disable(),I.on("zoomstart",p.clearOutline),p.dragOptions.prepFn=function(j,X,N){o(j,X,N,p.dragOptions,O)},v.init(p.dragOptions)):(I.dragPan.enable(),I.off("zoomstart",p.clearOutline),p.div.onmousedown=null,p.div.ontouchstart=null,p.div.removeEventListener("touchstart",p.div._ontouchstart),p.onClickInPanHandler=p.onClickInPanFn(p.dragOptions),I.on("click",p.onClickInPanHandler))}function F(j){var X=p.map.unproject(j);return[X.lng,X.lat]}},x.updateFramework=function(A){var p=A[this.id].domain,I=A._size,k=this.div.style;k.width=I.w*(p.x[1]-p.x[0])+"px",k.height=I.h*(p.y[1]-p.y[0])+"px",k.left=I.l+p.x[0]*I.w+"px",k.top=I.t+(1-p.y[1])*I.h+"px",this.xaxis._offset=I.l+p.x[0]*I.w,this.xaxis._length=I.w*(p.x[1]-p.x[0]),this.yaxis._offset=I.t+(1-p.y[1])*I.h,this.yaxis._length=I.h*(p.y[1]-p.y[0])},x.updateLayers=function(A){var p,I=A[this.id].layers,k=this.layerList;if(I.length!==k.length){for(p=0;p<k.length;p++)k[p].dispose();for(k=this.layerList=[],p=0;p<I.length;p++)k.push(h(this,p,I[p]))}else for(p=0;p<I.length;p++)k[p].update(I[p])},x.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},x.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},x.setOptions=function(A,p,I){for(var k in I)this.map[p](A,k,I[k])},x.getMapLayers=function(){return this.map.getStyle().layers},x.addLayer=function(A,p){var I=this.map;if("string"==typeof p){if(""===p)return void I.addLayer(A,p);for(var k=this.getMapLayers(),L=0;L<k.length;L++)if(p===k[L].id)return void I.addLayer(A,p);E.warn(["Trying to add layer with *below* value",p,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}I.addLayer(A)},x.project=function(A){return this.map.project(new D.LngLat(A[0],A[1]))},x.getView=function(){var A=this.map,p=A.getCenter(),I={lon:p.lng,lat:p.lat},k=A.getCanvas(),L=parseInt(k.style.width),O=parseInt(k.style.height);return{center:I,zoom:A.getZoom(),bearing:A.getBearing(),pitch:A.getPitch(),_derived:{coordinates:[A.unproject([0,0]).toArray(),A.unproject([L,0]).toArray(),A.unproject([L,O]).toArray(),A.unproject([0,O]).toArray()]}}},x.getViewEdits=function(A){for(var p=this.id,I=["center","zoom","bearing","pitch"],k={},L=0;L<I.length;L++){var O=I[L];k[p+"."+O]=A[O]}return k},x.getViewEditsWithDerived=function(A){var p=this.id,I=this.getViewEdits(A);return I[p+"._derived"]=A._derived,I},ae.exports=T},35025:function(ae){"use strict";ae.exports=function(B){var r=B.editType;return{t:{valType:"number",dflt:0,editType:r},r:{valType:"number",dflt:0,editType:r},b:{valType:"number",dflt:0,editType:r},l:{valType:"number",dflt:0,editType:r},editType:r}}},74875:function(ae,B,r){"use strict";var D=r(39898),E=r(84096).Dq,d=r(60721).FF,S=r(92770),M=r(73972),v=r(86281),u=r(44467),i=r(71828),s=r(7901),a=r(50606).BADNUM,o=r(41675),l=r(51873).clearOutline,c=r(21479),f=r(85594),g=r(31391),h=r(27659).a0,T=i.relinkPrivateKeys,x=i._,m=ae.exports={};i.extendFlat(m,M),m.attributes=r(9012),m.attributes.type.values=m.allTypes,m.fontAttrs=r(41940),m.layoutAttributes=r(10820),m.fontWeight="normal";var b=m.transformsRegistry,_=r(31137);m.executeAPICommand=_.executeAPICommand,m.computeAPICommandBindings=_.computeAPICommandBindings,m.manageCommandObserver=_.manageCommandObserver,m.hasSimpleAPICommandBindings=_.hasSimpleAPICommandBindings,m.redrawText=function(G){return G=i.getGraphDiv(G),new Promise(function(H){setTimeout(function(){G._fullLayout&&(M.getComponentMethod("annotations","draw")(G),M.getComponentMethod("legend","draw")(G),M.getComponentMethod("colorbar","draw")(G),H(m.previousPromises(G)))},300)})},m.resize=function(G){var H;G=i.getGraphDiv(G);var Z=new Promise(function($,se){G&&!i.isHidden(G)||se(new Error("Resize must be passed a displayed plot div element.")),G._redrawTimer&&clearTimeout(G._redrawTimer),G._resolveResize&&(H=G._resolveResize),G._resolveResize=$,G._redrawTimer=setTimeout(function(){if(!G.layout||G.layout.width&&G.layout.height||i.isHidden(G))$(G);else{delete G.layout.width,delete G.layout.height;var ne=G.changed;G.autoplay=!0,M.call("relayout",G,{autosize:!0}).then(function(){G.changed=ne,G._resolveResize===$&&(delete G._resolveResize,$(G))})}},100)});return H&&H(Z),Z},m.previousPromises=function(G){if((G._promises||[]).length)return Promise.all(G._promises).then(function(){G._promises=[]})},m.addLinks=function(G){if(G._context.showLink||G._context.showSources){var H=G._fullLayout,Z=i.ensureSingle(H._paper,"text","js-plot-link-container",function(ee){ee.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:s.defaultLine,"pointer-events":"all"}).each(function(){var oe=D.select(this);oe.append("tspan").classed("js-link-to-tool",!0),oe.append("tspan").classed("js-link-spacer",!0),oe.append("tspan").classed("js-sourcelinks",!0)})}),$=Z.node(),se={y:H._paper.attr("height")-9};document.body.contains($)&&$.getComputedTextLength()>=H.width-20?(se["text-anchor"]="start",se.x=5):(se["text-anchor"]="end",se.x=H._paper.attr("width")-7),Z.attr(se);var ne=Z.select(".js-link-to-tool"),re=Z.select(".js-link-spacer"),Q=Z.select(".js-sourcelinks");G._context.showSources&&G._context.showSources(G),G._context.showLink&&function(ee,oe){oe.text("");var ce=oe.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(ee._context.linkText+" "+String.fromCharCode(187));if(ee._context.sendData)ce.on("click",function(){m.sendDataToCloud(ee)});else{var ue=window.location.pathname.split("/"),he=window.location.search;ce.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ue[2].split(".")[0]+"/"+ue[1]+he})}}(G,ne),re.text(ne.text()&&Q.text()?" - ":"")}},m.sendDataToCloud=function(G){var H=(window.PLOTLYENV||{}).BASE_URL||G._context.plotlyServerURL;if(H){G.emit("plotly_beforeexport");var Z=D.select(G).append("div").attr("id","hiddenform").style("display","none"),$=Z.append("form").attr({action:H+"/external",method:"post",target:"_blank"});return $.append("input").attr({type:"text",name:"data"}).node().value=m.graphJson(G,!1,"keepdata"),$.node().submit(),Z.remove(),G.emit("plotly_afterexport"),!1}};var w=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],A=["year","month","dayMonth","dayMonthYear"];function p(G,H){var Z=G._context.locale;Z||(Z="en-US");var $=!1,se={};function ne(ue){for(var he=!0,ve=0;ve<H.length;ve++){var ke=H[ve];se[ke]||(ue[ke]?se[ke]=ue[ke]:he=!1)}he&&($=!0)}for(var re=0;re<2;re++){for(var Q=G._context.locales,ee=0;ee<2;ee++){var oe=(Q[Z]||{}).format;if(oe&&(ne(oe),$))break;Q=M.localeRegistry}var ce=Z.split("-")[0];if($||ce===Z)break;Z=ce}return $||ne(M.localeRegistry.en.format),se}function I(G,H){var Z={_fullLayout:H},$="x"===G._id.charAt(0),se=G._mainAxis._anchorAxis,ne="",re="",Q="";if(se&&(Q=se._mainAxis._id,ne=$?G._id+Q:Q+G._id),!ne||!H._plots[ne]){ne="";for(var ee=G._counterAxes,oe=0;oe<ee.length;oe++){var ce=ee[oe],ue=$?G._id+ce:ce+G._id;re||(re=ue);var he=o.getFromId(Z,ce);if(Q&&he.overlaying===Q){ne=ue;break}}}return ne||re}function k(G){var H=G.transforms;if(Array.isArray(H)&&H.length)for(var Z=0;Z<H.length;Z++){var $=H[Z],se=$._module||b[$.type];if(se&&se.makesData)return!0}return!1}function L(G,H,Z,$){for(var se=G.transforms,ne=[G],re=0;re<se.length;re++){var Q=se[re],ee=b[Q.type];ee&&ee.transform&&(ne=ee.transform(ne,{transform:Q,fullTrace:G,fullData:H,layout:Z,fullLayout:$,transformIndex:re}))}return ne}function O(G){return"string"==typeof G&&"px"===G.substr(G.length-2)&&parseFloat(G)}function P(G){var H=G.margin;if(!G._size){var Z=G._size={l:Math.round(H.l),r:Math.round(H.r),t:Math.round(H.t),b:Math.round(H.b),p:Math.round(H.pad)};Z.w=Math.round(G.width)-Z.l-Z.r,Z.h=Math.round(G.height)-Z.t-Z.b}G._pushmargin||(G._pushmargin={}),G._pushmarginIds||(G._pushmarginIds={}),G._reservedMargin||(G._reservedMargin={})}m.supplyDefaults=function(G,H){var qe,He,Z=H&&H.skipUpdateCalc,$=G._fullLayout||{};if($._skipDefaults)delete $._skipDefaults;else{var se,ne=G._fullLayout={},re=G.layout||{},Q=G._fullData||[],ee=G._fullData=[],oe=G.data||[],ce=G.calcdata||[],ue=G._context||{};G._transitionData||m.createTransitionData(G),ne._dfltTitle={plot:x(G,"Click to enter Plot title"),x:x(G,"Click to enter X axis title"),y:x(G,"Click to enter Y axis title"),colorbar:x(G,"Click to enter Colorscale title"),annotation:x(G,"new text")},ne._traceWord=x(G,"trace");var he=p(G,w);if(ne._mapboxAccessToken=ue.mapboxAccessToken,$._initialAutoSizeIsDone){var ve=$.width,ke=$.height;m.supplyLayoutGlobalDefaults(re,ne,he),re.width||(ne.width=ve),re.height||(ne.height=ke),m.sanitizeMargins(ne)}else{m.supplyLayoutGlobalDefaults(re,ne,he);var Ie=!re.width||!re.height,Me=ne.autosize;Ie&&(Me||ue.autosizable)?m.plotAutoSize(G,re,ne):Ie&&m.sanitizeMargins(ne),!Me&&Ie&&(re.width=ne.width,re.height=ne.height)}ne._d3locale=((qe=he).decimal=(He=ne.separators).charAt(0),qe.thousands=He.charAt(1),{numberFormat:function(Je){try{Je=d(qe).format(i.adjustFormat(Je))}catch{return i.warnBadFormat(Je),i.noFormat}return Je},timeFormat:E(qe).utcFormat}),ne._extraFormat=p(G,A),ne._initialAutoSizeIsDone=!0,ne._dataLength=oe.length,ne._modules=[],ne._visibleModules=[],ne._basePlotModules=[];var we=ne._subplots=function(){var qe,He,Je=M.collectableSubplotTypes,et={};if(!Je){Je=[];var st=M.subplotsRegistry;for(var pt in st){var ct=st[pt].attr;if(ct&&(Je.push(pt),Array.isArray(ct)))for(He=0;He<ct.length;He++)i.pushUnique(Je,ct[He])}}for(qe=0;qe<Je.length;qe++)et[Je[qe]]=[];return et}(),ze=ne._splomAxes={x:{},y:{}},Ee=ne._splomSubplots={};ne._splomGridDflt={},ne._scatterStackOpts={},ne._firstScatter={},ne._alignmentOpts={},ne._colorAxes={},ne._requestRangeslider={},ne._traceUids=function(qe,He){var Je,et,st=He.length,pt=[];for(Je=0;Je<qe.length;Je++){var ct=qe[Je]._fullInput;ct!==et&&pt.push(ct),et=ct}var St=pt.length,Dt=new Array(st),vt={};function gt(Ot,Ht){Dt[Ht]=Ot,vt[Ot]=1}function Et(Ot,Ht){if(Ot&&"string"==typeof Ot&&!vt[Ot])return gt(Ot,Ht),!0}for(Je=0;Je<st;Je++){var Pt=He[Je].uid;"number"==typeof Pt&&(Pt=String(Pt)),Et(Pt,Je)||Je<St&&Et(pt[Je].uid,Je)||gt(i.randstr(vt),Je)}return Dt}(Q,oe),ne._globalTransforms=(G._context||{}).globalTransforms,m.supplyDataDefaults(oe,ee,re,ne);var Se=Object.keys(ze.x),me=Object.keys(ze.y);if(Se.length>1&&me.length>1){for(M.getComponentMethod("grid","sizeDefaults")(re,ne),se=0;se<Se.length;se++)i.pushUnique(we.xaxis,Se[se]);for(se=0;se<me.length;se++)i.pushUnique(we.yaxis,me[se]);for(var fe in Ee)i.pushUnique(we.cartesian,fe)}if(ne._has=m._hasPlotType.bind(ne),Q.length===ee.length)for(se=0;se<ee.length;se++)T(ee[se],Q[se]);m.supplyLayoutModuleDefaults(re,ne,ee,G._transitionData);var le=ne._visibleModules,Te=[];for(se=0;se<le.length;se++){var Re=le[se].crossTraceDefaults;Re&&i.pushUnique(Te,Re)}for(se=0;se<Te.length;se++)Te[se](ee,ne);ne._hasOnlyLargeSploms=1===ne._basePlotModules.length&&"splom"===ne._basePlotModules[0].name&&Se.length>15&&me.length>15&&0===ne.shapes.length&&0===ne.images.length,m.linkSubplots(ee,ne,Q,$),m.cleanPlot(ee,ne,Q,$);var De=!(!$._has||!$._has("gl2d")),Ue=!(!ne._has||!ne._has("gl2d")),Ze=!(!$._has||!$._has("cartesian"))||De,xe=!(!ne._has||!ne._has("cartesian"))||Ue;Ze&&!xe?$._bgLayer.remove():xe&&!Ze&&(ne._shouldCreateBgLayer=!0),$._zoomlayer&&!G._dragging&&l({_fullLayout:$}),function(qe,He){var Je,et=[];He.meta&&(Je=He._meta={meta:He.meta,layout:{meta:He.meta}});for(var st=0;st<qe.length;st++){var pt=qe[st];pt.meta?et[pt.index]=pt._meta={meta:pt.meta}:He.meta&&(pt._meta={meta:He.meta}),He.meta&&(pt._meta.layout={meta:He.meta})}et.length&&(Je||(Je=He._meta={}),Je.data=et)}(ee,ne),T(ne,$),M.getComponentMethod("colorscale","crossTraceDefaults")(ee,ne),ne._preGUI||(ne._preGUI={}),ne._tracePreGUI||(ne._tracePreGUI={});var Oe,Ce=ne._tracePreGUI,Be={};for(Oe in Ce)Be[Oe]="old";for(se=0;se<ee.length;se++)Be[Oe=ee[se]._fullInput.uid]||(Ce[Oe]={}),Be[Oe]="new";for(Oe in Be)"old"===Be[Oe]&&delete Ce[Oe];P(ne),M.getComponentMethod("rangeslider","makeData")(ne),Z||ce.length!==ee.length||m.supplyDefaultsUpdateCalc(ce,ee)}},m.supplyDefaultsUpdateCalc=function(G,H){for(var Z=0;Z<H.length;Z++){var $=H[Z],se=(G[Z]||[])[0];if(se&&se.trace){var ne=se.trace;if(ne._hasCalcTransform){var re,Q,ee,oe=ne._arrayAttrs;for(re=0;re<oe.length;re++)ee=i.nestedProperty(ne,Q=oe[re]).get().slice(),i.nestedProperty($,Q).set(ee)}se.trace=$}}},m.createTransitionData=function(G){G._transitionData||(G._transitionData={}),G._transitionData._frames||(G._transitionData._frames=[]),G._transitionData._frameHash||(G._transitionData._frameHash={}),G._transitionData._counter||(G._transitionData._counter=0),G._transitionData._interruptCallbacks||(G._transitionData._interruptCallbacks=[])},m._hasPlotType=function(G){var H,Z=this._basePlotModules||[];for(H=0;H<Z.length;H++)if(Z[H].name===G)return!0;var $=this._modules||[];for(H=0;H<$.length;H++){var se=$[H].name;if(se===G)return!0;var ne=M.modules[se];if(ne&&ne.categories[G])return!0}return!1},m.cleanPlot=function(G,H,Z,$){var se,ne,re=$._basePlotModules||[];for(se=0;se<re.length;se++){var Q=re[se];Q.clean&&Q.clean(G,H,Z,$)}var ee=$._has&&$._has("gl"),oe=H._has&&H._has("gl");ee&&!oe&&void 0!==$._glcontainer&&($._glcontainer.selectAll(".gl-canvas").remove(),$._glcontainer.selectAll(".no-webgl").remove(),$._glcanvas=null);var ce=!!$._infolayer;e:for(se=0;se<Z.length;se++){var ue=Z[se].uid;for(ne=0;ne<G.length;ne++)if(ue===G[ne].uid)continue e;ce&&$._infolayer.select(".cb"+ue).remove()}},m.linkSubplots=function(G,H,Z,$){var se,ne,re=$._plots||{},Q=H._plots={},ee=H._subplots,oe={_fullData:G,_fullLayout:H},ce=ee.cartesian.concat(ee.gl2d||[]);for(se=0;se<ce.length;se++){var ue,he=ce[se],ve=re[he],ke=o.getFromId(oe,he,"x"),Ie=o.getFromId(oe,he,"y");for(ve?ue=Q[he]=ve:(ue=Q[he]={}).id=he,ke._counterAxes.push(Ie._id),Ie._counterAxes.push(ke._id),ke._subplotsWith.push(he),Ie._subplotsWith.push(he),ue.xaxis=ke,ue.yaxis=Ie,ue._hasClipOnAxisFalse=!1,ne=0;ne<G.length;ne++){var Me=G[ne];if(Me.xaxis===ue.xaxis._id&&Me.yaxis===ue.yaxis._id&&!1===Me.cliponaxis){ue._hasClipOnAxisFalse=!0;break}}}var _e,we=o.list(oe,null,!0);for(se=0;se<we.length;se++){var ze=null;(_e=we[se]).overlaying&&(ze=o.getFromId(oe,_e.overlaying))&&ze.overlaying&&(_e.overlaying=!1,ze=null),_e._mainAxis=ze||_e,ze&&(_e.domain=ze.domain.slice()),_e._anchorAxis="free"===_e.anchor?null:o.getFromId(oe,_e.anchor)}for(se=0;se<we.length;se++)if((_e=we[se])._counterAxes.sort(o.idSort),_e._subplotsWith.sort(i.subplotSort),_e._mainSubplot=I(_e,H),_e._counterAxes.length&&(_e.spikemode&&-1!==_e.spikemode.indexOf("across")||_e.automargin&&_e.mirror&&"free"!==_e.anchor||M.getComponentMethod("rangeslider","isVisible")(_e))){var Ee=1,Se=0;for(ne=0;ne<_e._counterAxes.length;ne++){var me=o.getFromId(oe,_e._counterAxes[ne]);Ee=Math.min(Ee,me.domain[0]),Se=Math.max(Se,me.domain[1])}Ee<Se&&(_e._counterDomainMin=Ee,_e._counterDomainMax=Se)}},m.clearExpandedTraceDefaultColors=function(G){var H,Z,$;for(Z=[],(H=G._module._colorAttrs)||(G._module._colorAttrs=H=[],v.crawl(G._module.attributes,function(se,ne,re,Q){Z[Q]=ne,Z.length=Q+1,"color"===se.valType&&void 0===se.dflt&&H.push(Z.join("."))})),$=0;$<H.length;$++)i.nestedProperty(G,"_input."+H[$]).get()||i.nestedProperty(G,H[$]).set(null)},m.supplyDataDefaults=function(G,H,Z,$){var se,ne,re,Q=$._modules,ee=$._visibleModules,oe=$._basePlotModules,ce=0,ue=0;function he(fe){H.push(fe);var le=fe._module;le&&(i.pushUnique(Q,le),!0===fe.visible&&i.pushUnique(ee,le),i.pushUnique(oe,fe._module.basePlotModule),ce++,!1!==fe._input.visible&&ue++)}$._transformModules=[];var ve={},ke=[],Me=u.traceTemplater((Z.template||{}).data||{});for(se=0;se<G.length;se++){if((ne=Me.newTrace(re=G[se])).uid=$._traceUids[se],m.supplyTraceDefaults(re,ne,ue,$,se),ne.index=se,ne._input=re,ne._expandedIndex=ce,ne.transforms&&ne.transforms.length)for(var _e=!1!==re.visible&&!1===ne.visible,we=L(ne,H,Z,$),ze=0;ze<we.length;ze++){var Ee=we[ze],Se={_template:ne._template,type:ne.type,uid:ne.uid+ze};_e&&!1===Ee.visible&&delete Ee.visible,m.supplyTraceDefaults(Ee,Se,ce,$,se),T(Se,Ee),Se.index=se,Se._input=re,Se._fullInput=ne,Se._expandedIndex=ce,Se._expandedInput=Ee,he(Se)}else ne._fullInput=ne,ne._expandedInput=ne,he(ne);M.traceIs(ne,"carpetAxis")&&(ve[ne.carpet]=ne),M.traceIs(ne,"carpetDependent")&&ke.push(se)}for(se=0;se<ke.length;se++)if((ne=H[ke[se]]).visible){var me=ve[ne.carpet];ne._carpet=me,me&&me.visible?(ne.xaxis=me.xaxis,ne.yaxis=me.yaxis):ne.visible=!1}},m.supplyAnimationDefaults=function(G){var H;G=G||{};var Z={};function $(se,ne){return i.coerce(G||{},Z,f,se,ne)}if($("mode"),$("direction"),$("fromcurrent"),Array.isArray(G.frame))for(Z.frame=[],H=0;H<G.frame.length;H++)Z.frame[H]=m.supplyAnimationFrameDefaults(G.frame[H]||{});else Z.frame=m.supplyAnimationFrameDefaults(G.frame||{});if(Array.isArray(G.transition))for(Z.transition=[],H=0;H<G.transition.length;H++)Z.transition[H]=m.supplyAnimationTransitionDefaults(G.transition[H]||{});else Z.transition=m.supplyAnimationTransitionDefaults(G.transition||{});return Z},m.supplyAnimationFrameDefaults=function(G){var H={};function Z($,se){return i.coerce(G||{},H,f.frame,$,se)}return Z("duration"),Z("redraw"),H},m.supplyAnimationTransitionDefaults=function(G){var H={};function Z($,se){return i.coerce(G||{},H,f.transition,$,se)}return Z("duration"),Z("easing"),H},m.supplyFrameDefaults=function(G){var H={};function Z($,se){return i.coerce(G,H,g,$,se)}return Z("group"),Z("name"),Z("traces"),Z("baseframe"),Z("data"),Z("layout"),H},m.supplyTraceDefaults=function(G,H,Z,$,se){var ne,re=$.colorway||s.defaults,Q=re[Z%re.length];function ee(we,ze){return i.coerce(G,H,m.attributes,we,ze)}var oe=ee("visible");ee("type"),ee("name",$._traceWord+" "+se),ee("uirevision",$.uirevision);var ce=m.getModule(H);if(H._module=ce,ce){var ue=ce.basePlotModule,he=ue.attr,ve=ue.attributes;if(he&&ve){var ke=$._subplots,Ie="";if(oe||"gl2d"!==ue.name){if(Array.isArray(he))for(ne=0;ne<he.length;ne++){var Me=he[ne],_e=i.coerce(G,H,ve,Me);ke[Me]&&i.pushUnique(ke[Me],_e),Ie+=_e}else Ie=i.coerce(G,H,ve,he);ke[ue.name]&&i.pushUnique(ke[ue.name],Ie)}}}return oe&&(ee("customdata"),ee("ids"),ee("meta"),M.traceIs(H,"showLegend")?(i.coerce(G,H,ce.attributes.showlegend?ce.attributes:m.attributes,"showlegend"),ee("legend"),ee("legendwidth"),ee("legendgroup"),ee("legendgrouptitle.text"),ee("legendrank"),H._dfltShowLegend=!0):H._dfltShowLegend=!1,ce&&ce.supplyDefaults(G,H,Q,$),M.traceIs(H,"noOpacity")||ee("opacity"),M.traceIs(H,"notLegendIsolatable")&&(H.visible=!!H.visible),M.traceIs(H,"noHover")||(H.hovertemplate||i.coerceHoverinfo(G,H,$),"parcats"!==H.type&&M.getComponentMethod("fx","supplyDefaults")(G,H,Q,$)),ce&&ce.selectPoints&&ee("selectedpoints"),m.supplyTransformDefaults(G,H,$)),H},m.hasMakesDataTransform=k,m.supplyTransformDefaults=function(G,H,Z){if(H._length||k(G)){var $=Z._globalTransforms||[],se=Z._transformModules||[];if(Array.isArray(G.transforms)||0!==$.length)for(var re=$.concat(G.transforms||[]),Q=H.transforms=[],ee=0;ee<re.length;ee++){var oe,ce=re[ee],ue=ce.type,he=b[ue],ve=!(ce._module&&ce._module===he),ke=he&&"function"==typeof he.transform;he||i.warn("Unrecognized transform type "+ue+"."),he&&he.supplyDefaults&&(ve||ke)?((oe=he.supplyDefaults(ce,H,Z,G)).type=ue,oe._module=he,i.pushUnique(se,he)):oe=i.extendFlat({},ce),Q.push(oe)}}},m.supplyLayoutGlobalDefaults=function(G,H,Z){function $(ce,ue){return i.coerce(G,H,m.layoutAttributes,ce,ue)}var se=G.template;i.isPlainObject(se)&&(H.template=se,H._template=se.layout,H._dataTemplate=se.data),$("autotypenumbers");var ne=i.coerceFont($,"font");i.coerceFont($,"title.font",i.extendFlat({},ne,{size:Math.round(1.4*ne.size)})),$("title.text",H._dfltTitle.plot),$("title.xref");var Q=$("title.yref");$("title.pad.t"),$("title.pad.r"),$("title.pad.b"),$("title.pad.l");var ee=$("title.automargin");$("title.x"),$("title.xanchor"),$("title.y"),$("title.yanchor"),ee&&("paper"===Q&&(0!==H.title.y&&(H.title.y=1),"auto"===H.title.yanchor&&(H.title.yanchor=0===H.title.y?"top":"bottom")),"container"===Q&&("auto"===H.title.y&&(H.title.y=1),"auto"===H.title.yanchor&&(H.title.yanchor=H.title.y<.5?"bottom":"top"))),$("uniformtext.mode")&&$("uniformtext.minsize"),$("autosize",!(G.width&&G.height)),$("width"),$("height"),$("minreducedwidth"),$("minreducedheight"),$("margin.l"),$("margin.r"),$("margin.t"),$("margin.b"),$("margin.pad"),$("margin.autoexpand"),G.width&&G.height&&m.sanitizeMargins(H),M.getComponentMethod("grid","sizeDefaults")(G,H),$("paper_bgcolor"),$("separators",Z.decimal+Z.thousands),$("hidesources"),$("colorway"),$("datarevision");var oe=$("uirevision");$("editrevision",oe),$("selectionrevision",oe),M.getComponentMethod("modebar","supplyLayoutDefaults")(G,H),M.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(G,H,$),M.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(G,H,$),$("meta"),i.isPlainObject(G.transition)&&($("transition.duration"),$("transition.easing"),$("transition.ordering")),M.getComponentMethod("calendars","handleDefaults")(G,H,"calendar"),M.getComponentMethod("fx","supplyLayoutGlobalDefaults")(G,H,$),i.coerce(G,H,c,"scattermode")},m.plotAutoSize=function(G,H,Z){var $,se,ne=G._context||{},re=ne.frameMargins,Q=i.isPlotDiv(G);if(Q&&G.emit("plotly_autosize"),ne.fillFrame)$=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var ee=Q?window.getComputedStyle(G):{};if($=O(ee.width)||O(ee.maxWidth)||Z.width,se=O(ee.height)||O(ee.maxHeight)||Z.height,S(re)&&re>0){var oe=1-2*re;$=Math.round(oe*$),se=Math.round(oe*se)}}var ce=m.layoutAttributes.width.min,ue=m.layoutAttributes.height.min;$<ce&&($=ce),se<ue&&(se=ue);var he=!H.width&&Math.abs(Z.width-$)>1,ve=!H.height&&Math.abs(Z.height-se)>1;(ve||he)&&(he&&(Z.width=$),ve&&(Z.height=se)),G._initialAutoSize||(G._initialAutoSize={width:$,height:se}),m.sanitizeMargins(Z)},m.supplyLayoutModuleDefaults=function(G,H,Z,$){var se,ne,re,Q=M.componentsRegistry,ee=H._basePlotModules,oe=M.subplotsRegistry.cartesian;for(se in Q)(re=Q[se]).includeBasePlot&&re.includeBasePlot(G,H);for(var ce in ee.length||ee.push(oe),H._has("cartesian")&&(M.getComponentMethod("grid","contentDefaults")(G,H),oe.finalizeSubplots(G,H)),H._subplots)H._subplots[ce].sort(i.subplotSort);for(ne=0;ne<ee.length;ne++)(re=ee[ne]).supplyLayoutDefaults&&re.supplyLayoutDefaults(G,H,Z);var ue=H._modules;for(ne=0;ne<ue.length;ne++)(re=ue[ne]).supplyLayoutDefaults&&re.supplyLayoutDefaults(G,H,Z);var he=H._transformModules;for(ne=0;ne<he.length;ne++)(re=he[ne]).supplyLayoutDefaults&&re.supplyLayoutDefaults(G,H,Z,$);for(se in Q)(re=Q[se]).supplyLayoutDefaults&&re.supplyLayoutDefaults(G,H,Z)},m.purge=function(G){var H=G._fullLayout||{};void 0!==H._glcontainer&&(H._glcontainer.selectAll(".gl-canvas").remove(),H._glcontainer.remove(),H._glcanvas=null),H._modeBar&&H._modeBar.destroy(),G._transitionData&&(G._transitionData._interruptCallbacks&&(G._transitionData._interruptCallbacks.length=0),G._transitionData._animationRaf&&window.cancelAnimationFrame(G._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(G),delete G.data,delete G.layout,delete G._fullData,delete G._fullLayout,delete G.calcdata,delete G.empty,delete G.fid,delete G.undoqueue,delete G.undonum,delete G.autoplay,delete G.changed,delete G._promises,delete G._redrawTimer,delete G._hmlumcount,delete G._hmpixcount,delete G._transitionData,delete G._transitioning,delete G._initialAutoSize,delete G._transitioningWithDuration,delete G._dragging,delete G._dragged,delete G._dragdata,delete G._hoverdata,delete G._snapshotInProgress,delete G._editing,delete G._mouseDownTime,delete G._legendMouseDownTime,G.removeAllListeners&&G.removeAllListeners()},m.style=function(G){var H,Z=G._fullLayout._visibleModules,$=[];for(H=0;H<Z.length;H++){var se=Z[H];se.style&&i.pushUnique($,se.style)}for(H=0;H<$.length;H++)$[H](G)},m.sanitizeMargins=function(G){if(G&&G.margin){var H,Z=G.width,$=G.height,se=G.margin,re=$-(se.t+se.b);Z-(se.l+se.r)<0&&(H=(Z-1)/(se.l+se.r),se.l=Math.floor(H*se.l),se.r=Math.floor(H*se.r)),re<0&&(H=($-1)/(se.t+se.b),se.t=Math.floor(H*se.t),se.b=Math.floor(H*se.b))}},m.clearAutoMarginIds=function(G){G._fullLayout._pushmarginIds={}},m.allowAutoMargin=function(G,H){G._fullLayout._pushmarginIds[H]=1},m.autoMargin=function(G,H,Z){var $=G._fullLayout,se=$.width,ne=$.height,re=$.margin,ee=$.minreducedheight,oe=i.constrain(se-re.l-re.r,2,$.minreducedwidth),ce=i.constrain(ne-re.t-re.b,2,ee),ue=Math.max(0,se-oe),he=Math.max(0,ne-ce),ve=$._pushmargin,ke=$._pushmarginIds;if(!1!==re.autoexpand){if(Z){var Ie=Z.pad;if(void 0===Ie&&(Ie=Math.min(12,re.l,re.r,re.t,re.b)),ue){var Me=(Z.l+Z.r)/ue;Me>1&&(Z.l/=Me,Z.r/=Me)}if(he){var _e=(Z.t+Z.b)/he;_e>1&&(Z.t/=_e,Z.b/=_e)}ve[H]={l:{val:void 0!==Z.xl?Z.xl:Z.x,size:Z.l+Ie},r:{val:void 0!==Z.xr?Z.xr:Z.x,size:Z.r+Ie},b:{val:void 0!==Z.yb?Z.yb:Z.y,size:Z.b+Ie},t:{val:void 0!==Z.yt?Z.yt:Z.y,size:Z.t+Ie}},ke[H]=1}else delete ve[H],delete ke[H];if(!$._replotting)return m.doAutoMargin(G)}},m.doAutoMargin=function(G){var H=G._fullLayout,Z=H.width,$=H.height;H._size||(H._size={}),P(H);var se=H._size,ne=H.margin,re={t:0,b:0,l:0,r:0},Q=i.extendFlat({},se),ee=ne.l,oe=ne.r,ce=ne.t,ue=ne.b,he=H._pushmargin,ve=H._pushmarginIds,ke=H.minreducedwidth,Ie=H.minreducedheight;if(!1!==ne.autoexpand){for(var Me in he)ve[Me]||delete he[Me];var _e=G._fullLayout._reservedMargin;for(var we in _e)for(var ze in _e[we])re[ze]=Math.max(re[ze],_e[we][ze]);for(var Se in he.base={l:{val:0,size:ee},r:{val:1,size:oe},t:{val:1,size:ce},b:{val:0,size:ue}},re){var me=0;for(var fe in he)"base"!==fe&&S(he[fe][Se].size)&&(me=he[fe][Se].size>me?he[fe][Se].size:me);var le=Math.max(0,ne[Se]-me);re[Se]=Math.max(0,re[Se]-le)}for(var Te in he){var Re=he[Te].l||{},De=he[Te].b||{},Ue=Re.val,Ze=Re.size,xe=De.val,Oe=De.size,Ce=Z-re.r-re.l,Be=$-re.t-re.b;for(var qe in he){if(S(Ze)&&he[qe].r){var He=he[qe].r.val,Je=he[qe].r.size;if(He>Ue){var et=(Ze*He+(Je-Ce)*Ue)/(He-Ue),st=(Je*(1-Ue)+(Ze-Ce)*(1-He))/(He-Ue);et+st>ee+oe&&(ee=et,oe=st)}}if(S(Oe)&&he[qe].t){var pt=he[qe].t.val,ct=he[qe].t.size;if(pt>xe){var St=(Oe*pt+(ct-Be)*xe)/(pt-xe),Dt=(ct*(1-xe)+(Oe-Be)*(1-pt))/(pt-xe);St+Dt>ue+ce&&(ue=St,ce=Dt)}}}}}var it,vt=i.constrain(Z-ne.l-ne.r,2,ke),gt=i.constrain($-ne.t-ne.b,2,Ie),Et=Math.max(0,Z-vt),Pt=Math.max(0,$-gt);if(Et){var Ot=(ee+oe)/Et;Ot>1&&(ee/=Ot,oe/=Ot)}if(Pt){var Ht=(ue+ce)/Pt;Ht>1&&(ue/=Ht,ce/=Ht)}if(se.l=Math.round(ee)+re.l,se.r=Math.round(oe)+re.r,se.t=Math.round(ce)+re.t,se.b=Math.round(ue)+re.b,se.p=Math.round(ne.pad),se.w=Math.round(Z)-se.l-se.r,se.h=Math.round($)-se.t-se.b,!H._replotting&&(m.didMarginChange(Q,se)||function(nt){if("_redrawFromAutoMarginCount"in nt._fullLayout)return!1;var it=o.list(nt,"",!0);for(var Ke in it)if(it[Ke].autoshift||it[Ke].shift)return!0;return!1}(G))){"_redrawFromAutoMarginCount"in H?H._redrawFromAutoMarginCount++:H._redrawFromAutoMarginCount=1;var zt=3*(1+Object.keys(ve).length);if(H._redrawFromAutoMarginCount<zt)return M.call("_doPlot",G);H._size=Q,i.warn("Too many auto-margin redraws.")}it=o.list(G,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ke){for(var rt=0;rt<it.length;rt++){var ft=it[rt][Ke];ft&&ft()}})};var F=["l","r","t","b","p","w","h"];function j(G,H,Z){var $=!1,ne=i.syncOrAsync([m.previousPromises,function(){if(G._transitionData)return G._transitioning=!1,function(re){var Q=Promise.resolve();if(!re)return Q;for(;re.length;)Q=Q.then(re.shift());return Q}(G._transitionData._interruptCallbacks)},Z.prepareFn,m.rehover,m.reselect,function(){return G.emit("plotly_transitioning",[]),new Promise(function(re){G._transitioning=!0,H.duration>0&&(G._transitioningWithDuration=!0),G._transitionData._interruptCallbacks.push(function(){$=!0}),Z.redraw&&G._transitionData._interruptCallbacks.push(function(){return M.call("redraw",G)}),G._transitionData._interruptCallbacks.push(function(){G.emit("plotly_transitioninterrupted",[])});var Q=0,ee=0;function oe(){return Q++,function(){var ce;ee++,$||ee!==Q||(ce=re,G._transitionData&&(function(ue){if(ue)for(;ue.length;)ue.shift()}(G._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(Z.redraw)return M.call("redraw",G)}).then(function(){G._transitioning=!1,G._transitioningWithDuration=!1,G.emit("plotly_transitioned",[])}).then(ce)))}}Z.runFn(oe),setTimeout(oe())})}],G);return ne&&ne.then||(ne=Promise.resolve()),ne.then(function(){return G})}m.didMarginChange=function(G,H){for(var Z=0;Z<F.length;Z++){var $=F[Z],se=G[$],ne=H[$];if(!S(se)||Math.abs(ne-se)>1)return!0}return!1},m.graphJson=function(G,H,Z,$,se,ne){(se&&H&&!G._fullData||se&&!H&&!G._fullLayout)&&m.supplyDefaults(G);var Q=se?G._fullLayout:G.layout,ee=(G._transitionData||{})._frames;function oe(he,ve){if("function"==typeof he)return ve?"_function_":null;if(i.isPlainObject(he)){var ke,Ie={};return Object.keys(he).sort().forEach(function(Me){if(-1===["_","["].indexOf(Me.charAt(0)))if("function"!=typeof he[Me]){if("keepdata"===Z){if("src"===Me.substr(Me.length-3))return}else if("keepstream"===Z){if("string"==typeof(ke=he[Me+"src"])&&ke.indexOf(":")>0&&!i.isPlainObject(he.stream))return}else if("keepall"!==Z&&"string"==typeof(ke=he[Me+"src"])&&ke.indexOf(":")>0)return;Ie[Me]=oe(he[Me],ve)}else ve&&(Ie[Me]="_function")}),Ie}return Array.isArray(he)?he.map(function(Me){return oe(Me,ve)}):i.isTypedArray(he)?i.simpleMap(he,i.identity):i.isJSDate(he)?i.ms2DateTimeLocal(+he):he}var ce={data:((se?G._fullData:G.data)||[]).map(function(he){var ve=oe(he);return H&&delete ve.fit,ve})};if(!H&&(ce.layout=oe(Q),se)){var ue=Q._size;ce.layout.computed={margin:{b:ue.b,l:ue.l,r:ue.r,t:ue.t}}}return ee&&(ce.frames=oe(ee)),ne&&(ce.config=oe(G._context,!0)),"object"===$?ce:JSON.stringify(ce)},m.modifyFrames=function(G,H){var Z,$,se,ne=G._transitionData._frames,re=G._transitionData._frameHash;for(Z=0;Z<H.length;Z++)switch(($=H[Z]).type){case"replace":var Q=(ne[$.index]||{}).name,ee=(se=$.value).name;ne[$.index]=re[ee]=se,ee!==Q&&(delete re[Q],re[ee]=se);break;case"insert":re[(se=$.value).name]=se,ne.splice($.index,0,se);break;case"delete":delete re[(se=ne[$.index]).name],ne.splice($.index,1)}return Promise.resolve()},m.computeFrame=function(G,H){var Z,$,se,ne,re=G._transitionData._frameHash;if(!H)throw new Error("computeFrame must be given a string frame name");var Q=re[H.toString()];if(!Q)return!1;for(var ee=[Q],oe=[Q.name];Q.baseframe&&(Q=re[Q.baseframe.toString()])&&-1===oe.indexOf(Q.name);)ee.push(Q),oe.push(Q.name);for(var ce={};Q=ee.pop();)if(Q.layout&&(ce.layout=m.extendLayout(ce.layout,Q.layout)),Q.data){if(ce.data||(ce.data=[]),!($=Q.traces))for($=[],Z=0;Z<Q.data.length;Z++)$[Z]=Z;for(ce.traces||(ce.traces=[]),Z=0;Z<Q.data.length;Z++)null!=(se=$[Z])&&(-1===(ne=ce.traces.indexOf(se))&&(ce.traces[ne=ce.data.length]=se),ce.data[ne]=m.extendTrace(ce.data[ne],Q.data[Z]))}return ce},m.recomputeFrameHash=function(G){for(var H=G._transitionData._frameHash={},Z=G._transitionData._frames,$=0;$<Z.length;$++){var se=Z[$];se&&se.name&&(H[se.name]=se)}},m.extendObjectWithContainers=function(G,H,Z){var $,se,ne,re,Q,ee,oe,ce=i.extendDeepNoArrays({},H||{}),ue=i.expandObjectPaths(ce),he={};if(Z&&Z.length)for(ne=0;ne<Z.length;ne++)void 0===(se=($=i.nestedProperty(ue,Z[ne])).get())?i.nestedProperty(he,Z[ne]).set(null):($.set(null),i.nestedProperty(he,Z[ne]).set(se));if(G=i.extendDeepNoArrays(G||{},ue),Z&&Z.length)for(ne=0;ne<Z.length;ne++)if(ee=i.nestedProperty(he,Z[ne]).get()){for(oe=(Q=i.nestedProperty(G,Z[ne])).get(),Array.isArray(oe)||Q.set(oe=[]),re=0;re<ee.length;re++){var ve=ee[re];oe[re]=null===ve?null:m.extendObjectWithContainers(oe[re],ve)}Q.set(oe)}return G},m.dataArrayContainers=["transforms","dimensions"],m.layoutArrayContainers=M.layoutArrayContainers,m.extendTrace=function(G,H){return m.extendObjectWithContainers(G,H,m.dataArrayContainers)},m.extendLayout=function(G,H){return m.extendObjectWithContainers(G,H,m.layoutArrayContainers)},m.transition=function(G,H,Z,$,se,ne){var re={redraw:se.redraw},Q={},ee=[];return re.prepareFn=function(){for(var oe=Array.isArray(H)?H.length:0,ce=$.slice(0,oe),ue=0;ue<ce.length;ue++){var he=ce[ue],ve=G._fullData[he]._module;if(ve){if(ve.animatable){var ke=ve.basePlotModule.name;Q[ke]||(Q[ke]=[]),Q[ke].push(he)}G.data[ce[ue]]=m.extendTrace(G.data[ce[ue]],H[ue])}}var Ie=i.expandObjectPaths(i.extendDeepNoArrays({},Z)),Me=/^[xy]axis[0-9]*$/;for(var _e in Ie)Me.test(_e)&&delete Ie[_e].range;m.extendLayout(G.layout,Ie),delete G.calcdata,m.supplyDefaults(G),m.doCalcdata(G);var we=i.expandObjectPaths(Z);if(we){var ze=G._fullLayout._plots;for(var Ee in ze){var Se=ze[Ee],me=Se.xaxis,fe=Se.yaxis,le=me.range.slice(),Te=fe.range.slice(),Re=null,De=null,Ue=null,Ze=null;Array.isArray(we[me._name+".range"])?Re=we[me._name+".range"].slice():Array.isArray((we[me._name]||{}).range)&&(Re=we[me._name].range.slice()),Array.isArray(we[fe._name+".range"])?De=we[fe._name+".range"].slice():Array.isArray((we[fe._name]||{}).range)&&(De=we[fe._name].range.slice()),le&&Re&&(me.r2l(le[0])!==me.r2l(Re[0])||me.r2l(le[1])!==me.r2l(Re[1]))&&(Ue={xr0:le,xr1:Re}),Te&&De&&(fe.r2l(Te[0])!==fe.r2l(De[0])||fe.r2l(Te[1])!==fe.r2l(De[1]))&&(Ze={yr0:Te,yr1:De}),(Ue||Ze)&&ee.push(i.extendFlat({plotinfo:Se},Ue,Ze))}}return Promise.resolve()},re.runFn=function(oe){var ce,ue,he=G._fullLayout._basePlotModules,ve=ee.length;if(Z)for(ue=0;ue<he.length;ue++)he[ue].transitionAxes&&he[ue].transitionAxes(G,ee,ne,oe);for(var ke in ve?((ce=i.extendFlat({},ne)).duration=0,delete Q.cartesian):ce=ne,Q){var Ie=Q[ke];G._fullData[Ie[0]]._module.basePlotModule.plot(G,Ie,ce,oe)}},j(G,ne,re)},m.transitionFromReact=function(G,H,Z,$){var se=G._fullLayout,ne=se.transition,re={},Q=[];return re.prepareFn=function(){var ee=se._plots;for(var oe in re.redraw=!1,"some"===H.anim&&(re.redraw=!0),"some"===Z.anim&&(re.redraw=!0),ee){var ce=ee[oe],ue=ce.xaxis,he=ce.yaxis,ve=$[ue._name].range.slice(),ke=$[he._name].range.slice(),Ie=ue.range.slice(),Me=he.range.slice();ue.setScale(),he.setScale();var _e=null,we=null;ue.r2l(ve[0])===ue.r2l(Ie[0])&&ue.r2l(ve[1])===ue.r2l(Ie[1])||(_e={xr0:ve,xr1:Ie}),he.r2l(ke[0])===he.r2l(Me[0])&&he.r2l(ke[1])===he.r2l(Me[1])||(we={yr0:ke,yr1:Me}),(_e||we)&&Q.push(i.extendFlat({plotinfo:ce},_e,we))}return Promise.resolve()},re.runFn=function(ee){for(var oe,ce,ue,he=G._fullData,ve=G._fullLayout._basePlotModules,ke=[],Ie=0;Ie<he.length;Ie++)ke.push(Ie);function Me(){if(G._fullLayout)for(var we=0;we<ve.length;we++)ve[we].transitionAxes&&ve[we].transitionAxes(G,Q,oe,ee)}function _e(){if(G._fullLayout)for(var we=0;we<ve.length;we++)ve[we].plot(G,ue,ce,ee)}Q.length&&H.anim?"traces first"===ne.ordering?(oe=i.extendFlat({},ne,{duration:0}),ue=ke,ce=ne,setTimeout(Me,ne.duration),_e()):(oe=ne,ue=null,ce=i.extendFlat({},ne,{duration:0}),setTimeout(_e,oe.duration),Me()):Q.length?(oe=ne,Me()):H.anim&&(ue=ke,ce=ne,_e())},j(G,ne,re)},m.doCalcdata=function(G,H){var Z,$,se,ne,re=o.list(G),Q=G._fullData,ee=G._fullLayout,oe=new Array(Q.length),ce=(G.calcdata||[]).slice();for(G.calcdata=oe,ee._numBoxes=0,ee._numViolins=0,ee._violinScaleGroupStats={},G._hmpixcount=0,G._hmlumcount=0,ee._piecolormap={},ee._sunburstcolormap={},ee._treemapcolormap={},ee._iciclecolormap={},ee._funnelareacolormap={},se=0;se<Q.length;se++)Array.isArray(H)&&-1===H.indexOf(se)&&(oe[se]=ce[se]);for(se=0;se<Q.length;se++)(Z=Q[se])._arrayAttrs=v.findArrayAttributes(Z),Z._extremes={};var ue=ee._subplots.polar||[];for(se=0;se<ue.length;se++)re.push(ee[ue[se]].radialaxis,ee[ue[se]].angularaxis);for(var he in ee._colorAxes){var ve=ee[he];!1!==ve.cauto&&(delete ve.cmin,delete ve.cmax)}var ke=!1;function Ie(we){if($=(Z=Q[we])._module,!0===Z.visible&&Z.transforms){if($&&$.calc){var ze=$.calc(G,Z);ze[0]&&ze[0].t&&ze[0].t._scene&&delete ze[0].t._scene.dirty}for(ne=0;ne<Z.transforms.length;ne++){var Ee=Z.transforms[ne];($=b[Ee.type])&&$.calcTransform&&(Z._hasCalcTransform=!0,ke=!0,$.calcTransform(G,Z,Ee))}}}function Me(we,ze){if(!!($=(Z=Q[we])._module).isContainer===ze){var Ee=[];if(!0===Z.visible&&0!==Z._length){delete Z._indexToPoints;var Se=Z.transforms||[];for(ne=Se.length-1;ne>=0;ne--)if(Se[ne].enabled){Z._indexToPoints=Se[ne]._indexToPoints;break}$&&$.calc&&(Ee=$.calc(G,Z))}Array.isArray(Ee)&&Ee[0]||(Ee=[{x:a,y:a}]),Ee[0].t||(Ee[0].t={}),Ee[0].trace=Z,oe[we]=Ee}}for(N(re,Q,ee),se=0;se<Q.length;se++)Me(se,!0);for(se=0;se<Q.length;se++)Ie(se);for(ke&&N(re,Q,ee),se=0;se<Q.length;se++)Me(se,!0);for(se=0;se<Q.length;se++)Me(se,!1);q(G);var _e=function(we,ze){var Ee,Se,me,fe,le,Te=[];function Re(nt,it,Ke){var rt=it._id.charAt(0);if("histogram2dcontour"===nt){var ft=it._counterAxes[0],ht=o.getFromId(ze,ft),Ve="x"===rt||"x"===ft&&"category"===ht.type,Ge="y"===rt||"y"===ft&&"category"===ht.type;return function(ut,dt){return 0===ut||0===dt||Ve&&ut===Ke[dt].length-1||Ge&&dt===Ke.length-1?-1:("y"===rt?dt:ut)-1}}return function(ut,dt){return"y"===rt?dt:ut}}var De={min:function(nt){return i.aggNums(Math.min,null,nt)},max:function(nt){return i.aggNums(Math.max,null,nt)},sum:function(nt){return i.aggNums(function(it,Ke){return it+Ke},null,nt)},total:function(nt){return i.aggNums(function(it,Ke){return it+Ke},null,nt)},mean:function(nt){return i.mean(nt)},median:function(nt){return i.median(nt)}};for(Ee=0;Ee<we.length;Ee++){var Ue=we[Ee];if("category"===Ue.type){var Ze=Ue.categoryorder.match(X);if(Ze){var xe=Ze[1],Oe=Ze[2],Ce=Ue._id.charAt(0),Be="x"===Ce,qe=[];for(Se=0;Se<Ue._categories.length;Se++)qe.push([Ue._categories[Se],[]]);for(Se=0;Se<Ue._traceIndices.length;Se++){var He=Ue._traceIndices[Se],Je=ze._fullData[He];if(!0===Je.visible){var et=Je.type;M.traceIs(Je,"histogram")&&(delete Je._xautoBinFinished,delete Je._yautoBinFinished);var st="splom"===et,pt="scattergl"===et,ct=ze.calcdata[He];for(me=0;me<ct.length;me++){var St,Dt,vt=ct[me];if(st){var gt=Je._axesDim[Ue._id];if(!Be){var Et=Je._diag[gt][0];Et&&(Ue=ze._fullLayout[o.id2name(Et)])}var Pt=vt.trace.dimensions[gt].values;for(fe=0;fe<Pt.length;fe++)for(St=Ue._categoriesMap[Pt[fe]],le=0;le<vt.trace.dimensions.length;le++)le!==gt&&qe[St][1].push(vt.trace.dimensions[le].values[fe])}else if(pt){for(fe=0;fe<vt.t.x.length;fe++)Be?(St=vt.t.x[fe],Dt=vt.t.y[fe]):(St=vt.t.y[fe],Dt=vt.t.x[fe]),qe[St][1].push(Dt);vt.t&&vt.t._scene&&delete vt.t._scene.dirty}else if(vt.hasOwnProperty("z")){var Ht=Re(Je.type,Ue,Dt=vt.z);for(fe=0;fe<Dt.length;fe++)for(le=0;le<Dt[fe].length;le++)(St=Ht(le,fe))+1&&qe[St][1].push(Dt[fe][le])}else for(void 0===(St=vt.p)&&(St=vt[Ce]),void 0===(Dt=vt.s)&&(Dt=vt.v),void 0===Dt&&(Dt=Be?vt.y:vt.x),Array.isArray(Dt)||(Dt=void 0===Dt?[]:[Dt]),fe=0;fe<Dt.length;fe++)qe[St][1].push(Dt[fe])}}}Ue._categoriesValue=qe;var zt=[];for(Se=0;Se<qe.length;Se++)zt.push([qe[Se][0],De[xe](qe[Se][1])]);zt.sort(function(nt,it){return nt[1]-it[1]}),Ue._categoriesAggregatedValue=zt,Ue._initialCategories=zt.map(function(nt){return nt[0]}),"descending"===Oe&&Ue._initialCategories.reverse(),Te=Te.concat(Ue.sortByInitialCategories())}}}return Te}(re,G);if(_e.length){for(ee._numBoxes=0,ee._numViolins=0,se=0;se<_e.length;se++)Me(_e[se],!0);for(se=0;se<_e.length;se++)Me(_e[se],!1);q(G)}M.getComponentMethod("fx","calc")(G),M.getComponentMethod("errorbars","calc")(G)};var X=/(total|sum|min|max|mean|median) (ascending|descending)/;function N(G,H,Z){var $={};function se(ee){ee.clearCalc(),"multicategory"===ee.type&&ee.setupMultiCategory(H),$[ee._id]=1}i.simpleMap(G,se);for(var ne=Z._axisMatchGroups||[],re=0;re<ne.length;re++)for(var Q in ne[re])$[Q]||se(Z[o.id2name(Q)])}function q(G){var H,Z,$,se=G._fullLayout,ne=se._visibleModules,re={};for(Z=0;Z<ne.length;Z++){var Q=ne[Z],ee=Q.crossTraceCalc;if(ee){var oe=Q.basePlotModule.name;re[oe]?i.pushUnique(re[oe],ee):re[oe]=[ee]}}for($ in re){var ce=re[$],ue=se._subplots[$];if(Array.isArray(ue))for(H=0;H<ue.length;H++){var he=ue[H],ve="cartesian"===$?se._plots[he]:se[he];for(Z=0;Z<ce.length;Z++)ce[Z](G,ve,he)}else for(Z=0;Z<ce.length;Z++)ce[Z](G)}}m.rehover=function(G){G._fullLayout._rehover&&G._fullLayout._rehover()},m.redrag=function(G){G._fullLayout._redrag&&G._fullLayout._redrag()},m.reselect=function(G){var H=G._fullLayout,Z=(G.layout||{}).selections,$=H._previousSelections;H._previousSelections=Z;var se=H._reselect||JSON.stringify(Z)!==JSON.stringify($);M.getComponentMethod("selections","reselect")(G,se)},m.generalUpdatePerTraceModule=function(G,H,Z,$){var se,ne=H.traceHash,re={};for(se=0;se<Z.length;se++){var Q=Z[se],ee=Q[0].trace;ee.visible&&(re[ee.type]=re[ee.type]||[],re[ee.type].push(Q))}for(var oe in ne)if(!re[oe]){var ce=ne[oe][0];ce[0].trace.visible=!1,re[oe]=[ce]}for(var ue in re){var he=re[ue];he[0][0].trace._module.plot(G,H,i.filterVisible(he),$)}H.traceHash=re},m.plotBasePlot=function(G,H,Z,$,se){var ne=M.getModule(G),re=h(H.calcdata,ne)[0];ne.plot(H,re,$,se)},m.cleanBasePlot=function(G,H,Z,$,se){var ne=se._has&&se._has(G),re=Z._has&&Z._has(G);ne&&!re&&se["_"+G+"layer"].selectAll("g.trace").remove()}},9813:function(ae){"use strict";ae.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(ae,B,r){"use strict";var D=r(71828),E=r(61082).tester,d=D.findIndexOfMin,S=D.isAngleInsideSector,M=D.angleDelta,v=D.angleDist;function u(o,l,c,f){var g,h,T=f[0],x=f[1],m=s(Math.sin(l)-Math.sin(o)),b=s(Math.cos(l)-Math.cos(o)),_=Math.tan(c),w=s(1/_),A=m/b,p=x-A*T;return w?m&&b?h=_*(g=p/(_-A)):b?(g=x*w,h=x):(g=T,h=T*_):m&&b?(g=0,h=p):b?(g=0,h=x):g=h=NaN,[g,h]}function i(o,l,c,f){return D.isFullCircle([l,c])?function(g,h){var T,x=h.length,m=new Array(x+1);for(T=0;T<x;T++){var b=h[T];m[T]=[g*Math.cos(b),g*Math.sin(b)]}return m[T]=m[0].slice(),m}(o,f):function(g,h,T,x){var m,b,_=x.length,w=[];function A(X){return[g*Math.cos(X),g*Math.sin(X)]}function p(X,N,q){return u(X,N,q,A(X))}function I(X){return D.mod(X,_)}function k(X){return S(X,[h,T])}var L=d(x,function(X){return k(X)?v(X,h):1/0}),O=p(x[L],x[I(L-1)],h);for(w.push(O),m=L,b=0;b<_;m++,b++){var P=x[I(m)];if(!k(P))break;w.push(A(P))}var F=d(x,function(X){return k(X)?v(X,T):1/0}),j=p(x[F],x[I(F+1)],T);return w.push(j),w.push([0,0]),w.push(w[0].slice()),w}(o,l,c,f)}function s(o){return Math.abs(o)>1e-10?o:0}function a(o,l,c){l=l||0,c=c||0;for(var f=o.length,g=new Array(f),h=0;h<f;h++){var T=o[h];g[h]=[l+T[0],c-T[1]]}return g}ae.exports={isPtInsidePolygon:function(o,l,c,f,g){if(!S(l,f))return!1;var h,T;c[0]<c[1]?(h=c[0],T=c[1]):(h=c[1],T=c[0]);var x=E(i(h,f[0],f[1],g)),m=E(i(T,f[0],f[1],g)),b=[o*Math.cos(l),o*Math.sin(l)];return m.contains(b)&&!x.contains(b)},findPolygonOffset:function(o,l,c,f){for(var g=1/0,h=1/0,T=i(o,l,c,f),x=0;x<T.length;x++){var m=T[x];g=Math.min(g,m[0]),h=Math.min(h,-m[1])}return[g,h]},findEnclosingVertexAngles:function(o,l){var c=d(l,function(g){var h=M(g,o);return h>0?h:1/0}),f=D.mod(c+1,l.length);return[l[c],l[f]]},findIntersectionXY:u,findXYatLength:function(o,l,c,f){var g=-l*c,h=l*l+1,T=2*(l*g-c),m=Math.sqrt(T*T-4*h*(g*g+c*c-o*o)),b=(-T+m)/(2*h),_=(-T-m)/(2*h);return[[b,l*b+g+f],[_,l*_+g+f]]},clampTiny:s,pathPolygon:function(o,l,c,f,g,h){return"M"+a(i(o,l,c,f),g,h).join("L")},pathPolygonAnnulus:function(o,l,c,f,g,h,T){var x,m;o<l?(x=o,m=l):(x=l,m=o);var b=a(i(x,c,f,g),h,T);return"M"+a(i(m,c,f,g),h,T).reverse().join("L")+"M"+b.join("L")}}},23580:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,d=r(77997),S=r(9813),M=S.attr,v=S.name,u=E(v),i={};i[M]={valType:"subplotid",dflt:v,editType:"calc"},ae.exports={attr:M,name:v,idRoot:v,idRegex:u,attrRegex:u,attributes:i,layoutAttributes:r(73812),supplyLayoutDefaults:r(68993),plot:function(s){for(var a=s._fullLayout,o=s.calcdata,l=a._subplots[v],c=0;c<l.length;c++){var f=l[c],g=D(o,v,f),h=a[f]._subplot;h||(h=d(s,f),a[f]._subplot=h),h.plot(g,a,s._promises)}},clean:function(s,a,o,l){for(var c=l._subplots[v]||[],f=l._has&&l._has("gl"),g=a._has&&a._has("gl"),h=f&&!g,T=0;T<c.length;T++){var x=c[T],m=l[x]._subplot;if(!a[x]&&m)for(var b in m.framework.remove(),m.layers["radial-axis-title"].remove(),m.clipPaths)m.clipPaths[b].remove();h&&m._scene&&(m._scene.destroy(),m._scene=null)}},toSVG:r(93612).toSVG}},73812:function(ae,B,r){"use strict";var D=r(22399),E=r(13838),d=r(27670).Y,S=r(71828).extendFlat,M=r(30962).overrideAll,v=M({color:E.color,showline:S({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:S({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),u=M({tickmode:E.minor.tickmode,nticks:E.nticks,tick0:E.tick0,dtick:E.dtick,tickvals:E.tickvals,ticktext:E.ticktext,ticks:E.ticks,ticklen:E.ticklen,tickwidth:E.tickwidth,tickcolor:E.tickcolor,ticklabelstep:E.ticklabelstep,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,showexponent:E.showexponent,exponentformat:E.exponentformat,minexponent:E.minexponent,separatethousands:E.separatethousands,tickfont:E.tickfont,tickangle:E.tickangle,tickformat:E.tickformat,tickformatstops:E.tickformatstops,layer:E.layer},"plot","from-root"),i={visible:S({},E.visible,{dflt:!0}),type:S({},E.type,{values:["-","linear","log","date","category"]}),autotypenumbers:E.autotypenumbers,autorangeoptions:{minallowed:E.autorangeoptions.minallowed,maxallowed:E.autorangeoptions.maxallowed,clipmin:E.autorangeoptions.clipmin,clipmax:E.autorangeoptions.clipmax,include:E.autorangeoptions.include,editType:"plot"},autorange:S({},E.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:S({},E.minallowed,{editType:"plot"}),maxallowed:S({},E.maxallowed,{editType:"plot"}),range:S({},E.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:E.categoryorder,categoryarray:E.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:S({},E.title.text,{editType:"plot",dflt:""}),font:S({},E.title.font,{editType:"plot"}),editType:"plot"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:E._deprecated.title,titlefont:E._deprecated.titlefont}};S(i,v,u);var s={visible:S({},E.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:E.autotypenumbers,categoryorder:E.categoryorder,categoryarray:E.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:E.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};S(s,v,u),ae.exports={domain:d({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:D.background},radialaxis:i,angularaxis:s,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(44467),S=r(49119),M=r(27659).NG,v=r(26218),u=r(38701),i=r(96115),s=r(89426),a=r(15258),o=r(92128),l=r(23074),c=r(4322),f=r(73812),g=r(12101),h=r(9813),T=h.axisNames;function x(b,_,w,A){var p=w("bgcolor");A.bgColor=E.combine(p,A.paper_bgcolor);var I=w("sector");w("hole");var k,L=M(A.fullData,h.name,A.id),O=A.layoutOut;function P(he,ve){return w(k+"."+he,ve)}for(var F=0;F<T.length;F++){D.isPlainObject(b[k=T[F]])||(b[k]={});var j=b[k],X=d.newContainer(_,k);X._id=X._name=k,X._attr=A.id+"."+k,X._traceIndices=L.map(function(he){return he._expandedIndex});var N=h.axisName2dataArray[k],q=m(j,X,P,L,N,A);a(j,X,P,{axData:L,dataAttr:N});var G=P("visible");switch(g(X,_,O),P("uirevision",_.uirevision),X._m=1,k){case"radialaxis":P("minallowed"),P("maxallowed");var H,Z=P("range"),$=X.getAutorangeDflt(Z),se=P("autorange",$);!Z||(null!==Z[0]||null!==Z[1])&&(null!==Z[0]&&null!==Z[1]||"reversed"!==se&&!0!==se)&&(null===Z[0]||"min"!==se&&"max reversed"!==se)&&(null===Z[1]||"max"!==se&&"min reversed"!==se)||(Z=void 0,delete X.range,X.autorange=!0,H=!0),H||(se=P("autorange",$=X.getAutorangeDflt(Z))),j.autorange=se,se&&(l(P,se,Z),"linear"!==q&&"-"!==q||P("rangemode"),X.isReversed()&&(X._m=-1)),X.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if("date"===q){D.log("Polar plots do not support date angular axes yet.");for(var ne=0;ne<L.length;ne++)L[ne].visible=!1;q=j.type=X.type="linear"}P("linear"===q?"thetaunit":"period");var re=P("direction");P("rotation",{counterclockwise:0,clockwise:90}[re])}if(s(j,X,P,X.type,{tickSuffixDflt:"degrees"===X.thetaunit?"\xb0":void 0}),G){var Q,ee,oe,ce,ue=A.font||{};ee=(Q=P("color"))===j.color?Q:ue.color,oe=ue.size,ce=ue.family,v(j,X,P,X.type),i(j,X,P,X.type,{font:{color:ee,size:oe,family:ce}}),u(j,X,P,{outerTicks:!0}),o(j,X,P,{dfltColor:Q,bgColor:A.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[k]}),P("layer"),"radialaxis"===k&&(P("side"),P("angle",I[0]),P("title.text"),D.coerceFont(P,"title.font",{color:ee,size:D.bigFont(oe),family:ce}))}"category"!==q&&P("hoverformat"),X._input=j}"category"===_.angularaxis.type&&w("gridshape")}function m(b,_,w,A,p,I){var k=w("autotypenumbers",I.autotypenumbersDflt);if("-"===w("type")){for(var L,O=0;O<A.length;O++)if(A[O].visible){L=A[O];break}L&&L[p]&&(_.type=c(L[p],"gregorian",{noMultiCategory:!0,autotypenumbers:k})),"-"===_.type?_.type="linear":b.type=_.type}return _.type}ae.exports=function(b,_,w){S(b,_,w,{type:h.name,attributes:f,handleDefaults:x,font:_.font,autotypenumbersDflt:_.autotypenumbers,paper_bgcolor:_.paper_bgcolor,fullData:w,layoutOut:_})}},77997:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),d=r(73972),S=r(71828),M=S.strRotate,v=S.strTranslate,u=r(7901),i=r(91424),s=r(74875),a=r(89298),o=r(21994),l=r(12101),c=r(71739).doAutoRange,f=r(29323),g=r(28569),h=r(30211),T=r(92998),x=r(47322).prepSelect,m=r(47322).selectOnClick,b=r(47322).clearOutline,_=r(6964),w=r(33306),A=r(61549).redrawReglTraces,p=r(18783).MID_SHIFT,I=r(9813),k=r(10869),L=r(23893),O=L.smith,P=L.reactanceArc,F=L.resistanceArc,j=L.smithTransform,X=S._,N=S.mod,q=S.deg2rad,G=S.rad2deg;function H(re,Q,ee){this.isSmith=ee||!1,this.id=Q,this.gd=re,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var oe=re._fullLayout;this.clipIds.forTraces="clip"+oe._uid+Q+"-for-traces",this.clipPaths.forTraces=oe._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=oe["_"+(ee?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(ue){return this.isSmith?0:ue.hole},this.getSector=function(ue){return this.isSmith?[0,360]:ue.sector},this.getRadial=function(ue){return this.isSmith?ue.realaxis:ue.radialaxis},this.getAngular=function(ue){return this.isSmith?ue.imaginaryaxis:ue.angularaxis},ee||(this.radialTickLayout=null,this.angularTickLayout=null)}var Z=H.prototype;function $(re){var Q=re.ticks+String(re.ticklen)+String(re.showticklabels);return"side"in re&&(Q+=re.side),Q}function se(re,Q){return Q[S.findIndexOfMin(Q,function(ee){return S.angleDist(re,ee)})]}function ne(re,Q,ee){return Q?(re.attr("display",null),re.attr(ee)):re&&re.attr("display","none"),re}ae.exports=function(re,Q,ee){return new H(re,Q,ee)},Z.plot=function(re,Q){for(var ee=this,oe=Q[ee.id],ce=!1,ue=0;ue<re.length;ue++)if(!1===re[ue][0].trace.cliponaxis){ce=!0;break}ee._hasClipOnAxisFalse=ce,ee.updateLayers(Q,oe),ee.updateLayout(Q,oe),s.generalUpdatePerTraceModule(ee.gd,ee,re,oe),ee.updateFx(Q,oe),ee.isSmith&&(delete oe.realaxis.range,delete oe.imaginaryaxis.range)},Z.updateLayers=function(re,Q){var ee=this,oe=ee.isSmith,ce=ee.layers,ue=ee.getRadial(Q),he=ee.getAngular(Q),ve=I.layerNames,ke=ve.indexOf("frontplot"),Ie=ve.slice(0,ke),Me="below traces"===he.layer,_e="below traces"===ue.layer;Me&&Ie.push("angular-line"),_e&&Ie.push("radial-line"),Me&&Ie.push("angular-axis"),_e&&Ie.push("radial-axis"),Ie.push("frontplot"),Me||Ie.push("angular-line"),_e||Ie.push("radial-line"),Me||Ie.push("angular-axis"),_e||Ie.push("radial-axis");var we=(oe?"smith":"polar")+"sublayer",ze=ee.framework.selectAll("."+we).data(Ie,String);ze.enter().append("g").attr("class",function(Ee){return we+" "+Ee}).each(function(Ee){var Se=ce[Ee]=D.select(this);switch(Ee){case"frontplot":oe||Se.append("g").classed("barlayer",!0),Se.append("g").classed("scatterlayer",!0);break;case"backplot":Se.append("g").classed("maplayer",!0);break;case"plotbg":ce.bg=Se.append("path");break;case"radial-grid":case"angular-grid":Se.style("fill","none");break;case"radial-line":Se.append("line").style("fill","none");break;case"angular-line":Se.append("path").style("fill","none")}}),ze.order()},Z.updateLayout=function(re,Q){var ee=this,oe=ee.layers,ce=re._size,ue=ee.getRadial(Q),he=ee.getAngular(Q),ve=Q.domain.x,ke=Q.domain.y;ee.xOffset=ce.l+ce.w*ve[0],ee.yOffset=ce.t+ce.h*(1-ke[1]);var Ie=ee.xLength=ce.w*(ve[1]-ve[0]),Me=ee.yLength=ce.h*(ke[1]-ke[0]),_e=ee.getSector(Q);ee.sectorInRad=_e.map(q);var we,ze,Ee,Se,me,pt,ct,St,Dt,vt,gt,Et,Pt,Ot,Ht,fe=ee.sectorBBox=(Dt=(pt=_e)[1]-(St=pt[0]),gt=(vt=N(St,360))+Dt,Et=Math.cos(q(vt)),Pt=Math.sin(q(vt)),Ot=Math.cos(q(gt)),Ht=Math.sin(q(gt)),ct=vt<=90&&gt>=90||vt>90&&gt>=450?1:Pt<=0&&Ht<=0?0:Math.max(Pt,Ht),[vt<=180&&gt>=180||vt>180&&gt>=540?-1:Et>=0&&Ot>=0?0:Math.min(Et,Ot),vt<=270&&gt>=270||vt>270&&gt>=630?-1:Pt>=0&&Ht>=0?0:Math.min(Pt,Ht),gt>=360?1:Et<=0&&Ot<=0?0:Math.max(Et,Ot),ct]),le=fe[2]-fe[0],Re=Me/Ie,De=Math.abs((fe[3]-fe[1])/le);Re>De?(we=Ie,me=(Me-(ze=Ie*De))/ce.h/2,Ee=[ve[0],ve[1]],Se=[ke[0]+me,ke[1]-me]):(ze=Me,me=(Ie-(we=Me/De))/ce.w/2,Ee=[ve[0]+me,ve[1]-me],Se=[ke[0],ke[1]]),ee.xLength2=we,ee.yLength2=ze,ee.xDomain2=Ee,ee.yDomain2=Se;var Ue,Ze=ee.xOffset2=ce.l+ce.w*Ee[0],xe=ee.yOffset2=ce.t+ce.h*(1-Se[1]),Oe=ee.radius=we/le,Ce=ee.innerRadius=ee.getHole(Q)*Oe,Be=ee.cx=Ze-Oe*fe[0],qe=ee.cy=xe+Oe*fe[3],He=ee.cxx=Be-Ze,Je=ee.cyy=qe-xe,et=ue.side;"counterclockwise"===et?(Ue=et,et="top"):"clockwise"===et&&(Ue=et,et="bottom"),ee.radialAxis=ee.mockAxis(re,Q,ue,{_id:"x",side:et,_trueSide:Ue,domain:[Ce/ce.w,Oe/ce.w]}),ee.angularAxis=ee.mockAxis(re,Q,he,{side:"right",domain:[0,Math.PI],autorange:!1}),ee.doAutoRange(re,Q),ee.updateAngularAxis(re,Q),ee.updateRadialAxis(re,Q),ee.updateRadialAxisTitle(re,Q),ee.xaxis=ee.mockCartesianAxis(re,Q,{_id:"x",domain:Ee}),ee.yaxis=ee.mockCartesianAxis(re,Q,{_id:"y",domain:Se});var st=ee.pathSubplot();ee.clipPaths.forTraces.select("path").attr("d",st).attr("transform",v(He,Je)),oe.frontplot.attr("transform",v(Ze,xe)).call(i.setClipUrl,ee._hasClipOnAxisFalse?null:ee.clipIds.forTraces,ee.gd),oe.bg.attr("d",st).attr("transform",v(Be,qe)).call(u.fill,Q.bgcolor)},Z.mockAxis=function(re,Q,ee,oe){var ce=S.extendFlat({},ee,oe);return l(ce,Q,re),ce},Z.mockCartesianAxis=function(re,Q,ee){var oe=this,ce=oe.isSmith,ue=ee._id,he=S.extendFlat({type:"linear"},ee);o(he,re);var ve={x:[0,2],y:[1,3]};return he.setRange=function(){var ke=oe.sectorBBox,Ie=ve[ue],Me=oe.radialAxis._rl,_e=(Me[1]-Me[0])/(1-oe.getHole(Q));he.range=[ke[Ie[0]]*_e,ke[Ie[1]]*_e]},he.isPtWithinRange="x"!==ue||ce?function(){return!0}:function(ke){return oe.isPtInside(ke)},he.setRange(),he.setScale(),he},Z.doAutoRange=function(re,Q){var oe=this.gd,ce=this.radialAxis,ue=this.getRadial(Q);c(oe,ce);var he=ce.range;ue.range=he.slice(),ue._input.range=he.slice(),ce._rl=[ce.r2l(he[0],null,"gregorian"),ce.r2l(he[1],null,"gregorian")]},Z.updateRadialAxis=function(re,Q){var ee=this,oe=ee.gd,ce=ee.layers,ue=ee.radius,he=ee.innerRadius,ve=ee.cx,ke=ee.cy,Ie=ee.getRadial(Q),Me=N(ee.getSector(Q)[0],360),_e=ee.radialAxis,we=he<ue,ze=ee.isSmith;ze||(ee.fillViewInitialKey("radialaxis.angle",Ie.angle),ee.fillViewInitialKey("radialaxis.range",_e.range.slice()),_e.setGeometry()),"auto"===_e.tickangle&&Me>90&&Me<=270&&(_e.tickangle=180);var Ee=ze?function(xe){var Oe=j(ee,O([xe.x,0]));return v(Oe[0]-ve,Oe[1]-ke)}:function(xe){return v(_e.l2p(xe.x)+he,0)},Se=ze?function(xe){return F(ee,xe.x,-1/0,1/0)}:function(xe){return ee.pathArc(_e.r2p(xe.x)+he)},me=$(Ie);if(ee.radialTickLayout!==me&&(ce["radial-axis"].selectAll(".xtick").remove(),ee.radialTickLayout=me),we){_e.setScale();var fe=0,le=ze?(_e.tickvals||[]).filter(function(xe){return xe>=0}).map(function(xe){return a.tickText(_e,xe,!0,!1)}):a.calcTicks(_e),Te=ze?le:a.clipEnds(_e,le),Re=a.getTickSigns(_e)[2];ze&&(("top"===_e.ticks&&"bottom"===_e.side||"bottom"===_e.ticks&&"top"===_e.side)&&(Re=-Re),"top"===_e.ticks&&"top"===_e.side&&(fe=-_e.ticklen),"bottom"===_e.ticks&&"bottom"===_e.side&&(fe=_e.ticklen)),a.drawTicks(oe,_e,{vals:le,layer:ce["radial-axis"],path:a.makeTickPath(_e,0,Re),transFn:Ee,crisp:!1}),a.drawGrid(oe,_e,{vals:Te,layer:ce["radial-grid"],path:Se,transFn:S.noop,crisp:!1}),a.drawLabels(oe,_e,{vals:le,layer:ce["radial-axis"],transFn:Ee,labelFns:a.makeLabelFns(_e,fe)})}var De=ee.radialAxisAngle=ee.vangles?G(se(q(Ie.angle),ee.vangles)):Ie.angle,Ue=v(ve,ke),Ze=Ue+M(-De);ne(ce["radial-axis"],we&&(Ie.showticklabels||Ie.ticks),{transform:Ze}),ne(ce["radial-grid"],we&&Ie.showgrid,{transform:ze?"":Ue}),ne(ce["radial-line"].select("line"),we&&Ie.showline,{x1:ze?-ue:he,y1:0,x2:ue,y2:0,transform:Ze}).attr("stroke-width",Ie.linewidth).call(u.stroke,Ie.linecolor)},Z.updateRadialAxisTitle=function(re,Q,ee){if(!this.isSmith){var oe=this,ce=oe.gd,ue=oe.radius,he=oe.cx,ve=oe.cy,ke=oe.getRadial(Q),Ie=oe.id+"title",Me=0;if(ke.title){var _e=i.bBox(oe.layers["radial-axis"].node()).height,we=ke.title.font.size,ze=ke.side;Me="top"===ze?we:"counterclockwise"===ze?-(_e+.4*we):_e+.8*we}var Ee=void 0!==ee?ee:oe.radialAxisAngle,Se=q(Ee),me=Math.cos(Se),fe=Math.sin(Se),le=he+ue/2*me+Me*fe,Te=ve-ue/2*fe+Me*me;oe.layers["radial-axis-title"]=T.draw(ce,Ie,{propContainer:ke,propName:oe.id+".radialaxis.title",placeholder:X(ce,"Click to enter radial axis title"),attributes:{x:le,y:Te,"text-anchor":"middle"},transform:{rotate:-Ee}})}},Z.updateAngularAxis=function(re,Q){var ee=this,oe=ee.gd,ce=ee.layers,ue=ee.radius,he=ee.innerRadius,ve=ee.cx,ke=ee.cy,Ie=ee.getAngular(Q),Me=ee.angularAxis,_e=ee.isSmith;_e||(ee.fillViewInitialKey("angularaxis.rotation",Ie.rotation),Me.setGeometry(),Me.setScale());var we=_e?function(xe){var Oe=j(ee,O([0,xe.x]));return Math.atan2(Oe[0]-ve,Oe[1]-ke)-Math.PI/2}:function(xe){return Me.t2g(xe.x)};"linear"===Me.type&&"radians"===Me.thetaunit&&(Me.tick0=G(Me.tick0),Me.dtick=G(Me.dtick));var ze=function(xe){return v(ve+ue*Math.cos(xe),ke-ue*Math.sin(xe))},Ee=_e?function(xe){var Oe=j(ee,O([0,xe.x]));return v(Oe[0],Oe[1])}:function(xe){return ze(we(xe))},Se=_e?function(xe){var Oe=j(ee,O([0,xe.x])),Ce=Math.atan2(Oe[0]-ve,Oe[1]-ke)-Math.PI/2;return v(Oe[0],Oe[1])+M(-G(Ce))}:function(xe){var Oe=we(xe);return ze(Oe)+M(-G(Oe))},me=_e?function(xe){return P(ee,xe.x,0,1/0)}:function(xe){var Oe=we(xe),Ce=Math.cos(Oe),Be=Math.sin(Oe);return"M"+[ve+he*Ce,ke-he*Be]+"L"+[ve+ue*Ce,ke-ue*Be]},fe=a.makeLabelFns(Me,0).labelStandoff,le={xFn:function(xe){var Oe=we(xe);return Math.cos(Oe)*fe},yFn:function(xe){var Oe=we(xe),Ce=Math.sin(Oe)>0?.2:1;return-Math.sin(Oe)*(fe+xe.fontSize*Ce)+Math.abs(Math.cos(Oe))*(xe.fontSize*p)},anchorFn:function(xe){var Oe=we(xe),Ce=Math.cos(Oe);return Math.abs(Ce)<.1?"middle":Ce>0?"start":"end"},heightFn:function(xe,Oe,Ce){var Be=we(xe);return-.5*(1+Math.sin(Be))*Ce}},Te=$(Ie);ee.angularTickLayout!==Te&&(ce["angular-axis"].selectAll("."+Me._id+"tick").remove(),ee.angularTickLayout=Te);var Re,De=_e?[1/0].concat(Me.tickvals||[]).map(function(xe){return a.tickText(Me,xe,!0,!1)}):a.calcTicks(Me);if(_e&&(De[0].text="\u221e",De[0].fontSize*=1.75),"linear"===Q.gridshape?(Re=De.map(we),S.angleDelta(Re[0],Re[1])<0&&(Re=Re.slice().reverse())):Re=null,ee.vangles=Re,"category"===Me.type&&(De=De.filter(function(xe){return S.isAngleInsideSector(we(xe),ee.sectorInRad)})),Me.visible){var Ue="inside"===Me.ticks?-1:1;a.drawTicks(oe,Me,{vals:De,layer:ce["angular-axis"],path:"M"+Ue*((Me.linewidth||1)/2)+",0h"+Ue*Me.ticklen,transFn:Se,crisp:!1}),a.drawGrid(oe,Me,{vals:De,layer:ce["angular-grid"],path:me,transFn:S.noop,crisp:!1}),a.drawLabels(oe,Me,{vals:De,layer:ce["angular-axis"],repositionOnUpdate:!0,transFn:Ee,labelFns:le})}ne(ce["angular-line"].select("path"),Ie.showline,{d:ee.pathSubplot(),transform:v(ve,ke)}).attr("stroke-width",Ie.linewidth).call(u.stroke,Ie.linecolor)},Z.updateFx=function(re,Q){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(re),this.updateRadialDrag(re,Q,0),this.updateRadialDrag(re,Q,1)),this.updateHoverAndMainDrag(re))},Z.updateHoverAndMainDrag=function(re){var Q,ee,oe=this,ce=oe.isSmith,ue=oe.gd,ve=re._zoomlayer,ke=I.MINZOOM,Ie=I.OFFEDGE,Me=oe.radius,_e=oe.innerRadius,we=oe.cx,ze=oe.cy,Ee=oe.cxx,Se=oe.cyy,me=oe.sectorInRad,fe=oe.vangles,le=oe.radialAxis,Te=k.clampTiny,Re=k.findXYatLength,De=k.findEnclosingVertexAngles,Ue=I.cornerHalfWidth,Ze=I.cornerLen/2,xe=f.makeDragger(oe.layers,"path","maindrag",!1===re.dragmode?"none":"crosshair");D.select(xe).attr("d",oe.pathSubplot()).attr("transform",v(we,ze)),xe.onmousemove=function(ht){h.hover(ue,ht,oe.id),ue._fullLayout._lasthover=xe,ue._fullLayout._hoversubplot=oe.id},xe.onmouseout=function(ht){ue._dragging||g.unhover(ue,ht)};var Oe,Ce,Be,qe,He,Je,et,st,pt,ct={element:xe,gd:ue,subplot:oe.id,plotinfo:{id:oe.id,xaxis:oe.xaxis,yaxis:oe.yaxis},xaxes:[oe.xaxis],yaxes:[oe.yaxis]};function St(ht,Ve){return Math.sqrt(ht*ht+Ve*Ve)}function Dt(ht,Ve){return St(ht-Ee,Ve-Se)}function vt(ht,Ve){return Math.atan2(Se-Ve,ht-Ee)}function gt(ht,Ve){return[ht*Math.cos(Ve),ht*Math.sin(-Ve)]}function Et(ht,Ve){if(0===ht)return oe.pathSector(2*Ue);var Ge=Ze/ht,ut=Ve-Ge,dt=Ve+Ge,kt=Math.max(0,Math.min(ht,Me)),bt=kt-Ue,At=kt+Ue;return"M"+gt(bt,ut)+"A"+[bt,bt]+" 0,0,0 "+gt(bt,dt)+"L"+gt(At,dt)+"A"+[At,At]+" 0,0,1 "+gt(At,ut)+"Z"}function Pt(ht,Ve,Ge){if(0===ht)return oe.pathSector(2*Ue);var ut,dt,kt=gt(ht,Ve),bt=gt(ht,Ge),At=Te((kt[0]+bt[0])/2),xt=Te((kt[1]+bt[1])/2);if(At&&xt){var Rt=xt/At,_t=-1/Rt,Tt=Re(Ue,Rt,At,xt);ut=Re(Ze,_t,Tt[0][0],Tt[0][1]),dt=Re(Ze,_t,Tt[1][0],Tt[1][1])}else{var It,Wt;xt?(It=Ze,Wt=Ue):(It=Ue,Wt=Ze),ut=[[At-It,xt-Wt],[At+It,xt-Wt]],dt=[[At-It,xt+Wt],[At+It,xt+Wt]]}return"M"+ut.join("L")+"L"+dt.reverse().join("L")+"Z"}function Ot(ht,Ve){return Ve=Math.max(Math.min(Ve,Me),_e),ht<Ie?ht=0:Me-ht<Ie?ht=Me:Ve<Ie?Ve=0:Me-Ve<Ie&&(Ve=Me),Math.abs(Ve-ht)>ke?(ht<Ve?(Be=ht,qe=Ve):(Be=Ve,qe=ht),!0):(Be=null,qe=null,!1)}function Ht(ht,Ve){Ve=Ve||"M0,0Z",st.attr("d",ht=ht||He),pt.attr("d",Ve),f.transitionZoombox(st,pt,Je,et),Je=!0;var Ge={};rt(Ge),ue.emit("plotly_relayouting",Ge)}function zt(ht,Ve){var Ge,ut,dt=Oe+(ht*=Q),kt=Ce+(Ve*=ee),bt=Dt(Oe,Ce),At=Math.min(Dt(dt,kt),Me),xt=vt(Oe,Ce);Ot(bt,At)&&(Ge=He+oe.pathSector(qe),Be&&(Ge+=oe.pathSector(Be)),ut=Et(Be,xt)+Et(qe,xt)),Ht(Ge,ut)}function nt(ht,Ve,Ge,ut){var dt=k.findIntersectionXY(Ge,ut,Ge,[ht-Ee,Se-Ve]);return St(dt[0],dt[1])}function it(ht,Ve){var Ge,ut,dt=Oe+ht,kt=Ce+Ve,bt=vt(Oe,Ce),At=vt(dt,kt),xt=De(bt,fe),Rt=De(At,fe);Ot(nt(Oe,Ce,xt[0],xt[1]),Math.min(nt(dt,kt,Rt[0],Rt[1]),Me))&&(Ge=He+oe.pathSector(qe),Be&&(Ge+=oe.pathSector(Be)),ut=[Pt(Be,xt[0],xt[1]),Pt(qe,xt[0],xt[1])].join(" ")),Ht(Ge,ut)}function Ke(){if(f.removeZoombox(ue),null!==Be&&null!==qe){var ht={};rt(ht),f.showDoubleClickNotifier(ue),d.call("_guiRelayout",ue,ht)}}function rt(ht){var Ve=le._rl,Ge=(Ve[1]-Ve[0])/(1-_e/Me)/Me;ht[oe.id+".radialaxis.range"]=[Ve[0]+(Be-_e)*Ge,Ve[0]+(qe-_e)*Ge]}function ft(ht,Ve){var Ge=ue._fullLayout.clickmode;if(f.removeZoombox(ue),2===ht){var ut={};for(var dt in oe.viewInitial)ut[oe.id+"."+dt]=oe.viewInitial[dt];ue.emit("plotly_doubleclick",null),d.call("_guiRelayout",ue,ut)}Ge.indexOf("select")>-1&&1===ht&&m(Ve,ue,[oe.xaxis],[oe.yaxis],oe.id,ct),Ge.indexOf("event")>-1&&h.click(ue,Ve,oe.id)}ct.prepFn=function(ht,Ve,Ge){var ut=ue._fullLayout.dragmode,dt=xe.getBoundingClientRect();ue._fullLayout._calcInverseTransform(ue),Q=ue._fullLayout._invScaleX,ee=ue._fullLayout._invScaleY;var bt=S.apply3DTransform(ue._fullLayout._invTransform)(Ve-dt.left,Ge-dt.top);if(Oe=bt[0],Ce=bt[1],fe){var At=k.findPolygonOffset(Me,me[0],me[1],fe);Oe+=Ee+At[0],Ce+=Se+At[1]}switch(ut){case"zoom":ct.clickFn=ft,ce||(ct.moveFn=fe?it:zt,ct.doneFn=Ke,Be=null,qe=null,He=oe.pathSubplot(),Je=!1,et=E(ue._fullLayout[oe.id].bgcolor).getLuminance(),(st=f.makeZoombox(ve,et,we,ze,He)).attr("fill-rule","evenodd"),pt=f.makeCorners(ve,we,ze),b(ue));break;case"select":case"lasso":x(ht,Ve,Ge,ct,ut)}},g.init(ct)},Z.updateRadialDrag=function(re,Q,ee){var oe=this,ce=oe.gd,ue=oe.layers,he=oe.radius,ve=oe.innerRadius,ke=oe.cx,Ie=oe.cy,Me=oe.radialAxis,_e=I.radialDragBoxSize,we=_e/2;if(Me.visible){var ze,Ee,Se,me=q(oe.radialAxisAngle),fe=Me._rl,le=fe[0],Te=fe[1],Re=fe[ee],De=.75*(fe[1]-fe[0])/(1-oe.getHole(Q))/he;ee?(ze=ke+(he+we)*Math.cos(me),Ee=Ie-(he+we)*Math.sin(me),Se="radialdrag"):(ze=ke+(ve-we)*Math.cos(me),Ee=Ie-(ve-we)*Math.sin(me),Se="radialdrag-inner");var Ue,Ze,xe,Oe=f.makeRectDragger(ue,Se,"crosshair",-we,-we,_e,_e),Ce={element:Oe,gd:ce};!1===re.dragmode&&(Ce.dragmode=!1),ne(D.select(Oe),Me.visible&&ve<he,{transform:v(ze,Ee)}),Ce.prepFn=function(){Ue=null,Ze=null,xe=null,Ce.moveFn=Be,Ce.doneFn=qe,b(ce)},Ce.clampFn=function(et,st){return Math.sqrt(et*et+st*st)<I.MINDRAG&&(et=0,st=0),[et,st]},g.init(Ce)}function Be(et,st){if(Ue)Ue(et,st);else{var pt=[et,-st],ct=[Math.cos(me),Math.sin(me)],St=Math.abs(S.dot(pt,ct)/Math.sqrt(S.dot(pt,pt)));isNaN(St)||(Ue=St<.5?He:Je)}var vt,Dt={};vt=Dt,null!==Ze?vt[oe.id+".radialaxis.angle"]=Ze:null!==xe&&(vt[oe.id+".radialaxis.range["+ee+"]"]=xe),ce.emit("plotly_relayouting",Dt)}function qe(){null!==Ze?d.call("_guiRelayout",ce,oe.id+".radialaxis.angle",Ze):null!==xe&&d.call("_guiRelayout",ce,oe.id+".radialaxis.range["+ee+"]",xe)}function He(et,st){if(0!==ee){Ze=Math.atan2(Ie-(Ee+st),ze+et-ke),oe.vangles&&(Ze=se(Ze,oe.vangles)),Ze=G(Ze);var St=v(ke,Ie)+M(-Ze);ue["radial-axis"].attr("transform",St),ue["radial-line"].select("line").attr("transform",St);var Dt=oe.gd._fullLayout;oe.updateRadialAxisTitle(Dt,Dt[oe.id],Ze)}}function Je(et,st){var pt=S.dot([et,-st],[Math.cos(me),Math.sin(me)]);if(xe=Re-De*pt,De>0==(ee?xe>le:xe<Te)){var ct=ce._fullLayout,St=ct[oe.id];Me.range[ee]=xe,Me._rl[ee]=xe,oe.updateRadialAxis(ct,St),oe.xaxis.setRange(),oe.xaxis.setScale(),oe.yaxis.setRange(),oe.yaxis.setScale();var Dt=!1;for(var vt in oe.traceHash){var gt=oe.traceHash[vt],Et=S.filterVisible(gt);gt[0][0].trace._module.plot(ce,oe,Et,St),d.traceIs(vt,"gl")&&Et.length&&(Dt=!0)}Dt&&(w(ce),A(ce))}else xe=null}},Z.updateAngularDrag=function(re){var Q=this,ee=Q.gd,oe=Q.layers,ce=Q.radius,ue=Q.angularAxis,he=Q.cx,ve=Q.cy,ke=Q.cxx,Ie=Q.cyy,Me=I.angularDragBoxSize,_e=f.makeDragger(oe,"path","angulardrag",!1===re.dragmode?"none":"move"),we={element:_e,gd:ee};function ze(Ce,Be){return Math.atan2(Ie+Me-Be,Ce-ke-Me)}!1===re.dragmode?we.dragmode=!1:D.select(_e).attr("d",Q.pathAnnulus(ce,ce+Me)).attr("transform",v(he,ve)).call(_,"move");var Ee,Se,me,fe,le,Te,Re=oe.frontplot.select(".scatterlayer").selectAll(".trace"),De=Re.selectAll(".point"),Ue=Re.selectAll(".textpoint");function Ze(Ce,Be){var qe=Q.gd._fullLayout,He=qe[Q.id],Je=ze(Ee+Ce*re._invScaleX,Se+Be*re._invScaleY),et=G(Je-Te);if(fe=me+et,oe.frontplot.attr("transform",v(Q.xOffset2,Q.yOffset2)+M([-et,ke,Ie])),Q.vangles){le=Q.radialAxisAngle+et;var st=v(he,ve)+M(-et),pt=v(he,ve)+M(-le);oe.bg.attr("transform",st),oe["radial-grid"].attr("transform",st),oe["radial-axis"].attr("transform",pt),oe["radial-line"].select("line").attr("transform",pt),Q.updateRadialAxisTitle(qe,He,le)}else Q.clipPaths.forTraces.select("path").attr("transform",v(ke,Ie)+M(et));De.each(function(){var Et=D.select(this),Pt=i.getTranslate(Et);Et.attr("transform",v(Pt.x,Pt.y)+M([et]))}),Ue.each(function(){var Et=D.select(this),Pt=Et.select("text"),Ot=i.getTranslate(Et);Et.attr("transform",M([et,Pt.attr("x"),Pt.attr("y")])+v(Ot.x,Ot.y))}),ue.rotation=S.modHalf(fe,360),Q.updateAngularAxis(qe,He),Q._hasClipOnAxisFalse&&!S.isFullCircle(Q.sectorInRad)&&Re.call(i.hideOutsideRangePoints,Q);var ct=!1;for(var St in Q.traceHash)if(d.traceIs(St,"gl")){var Dt=Q.traceHash[St],vt=S.filterVisible(Dt);Dt[0][0].trace._module.plot(ee,Q,vt,He),vt.length&&(ct=!0)}ct&&(w(ee),A(ee));var gt={};xe(gt),ee.emit("plotly_relayouting",gt)}function xe(Ce){Ce[Q.id+".angularaxis.rotation"]=fe,Q.vangles&&(Ce[Q.id+".radialaxis.angle"]=le)}function Oe(){Ue.select("text").attr("transform",null);var Ce={};xe(Ce),d.call("_guiRelayout",ee,Ce)}we.prepFn=function(Ce,Be,qe){me=re[Q.id].angularaxis.rotation;var Je=_e.getBoundingClientRect();Ee=Be-Je.left,Se=qe-Je.top,ee._fullLayout._calcInverseTransform(ee);var et=S.apply3DTransform(re._invTransform)(Ee,Se);Te=ze(Ee=et[0],Se=et[1]),we.moveFn=Ze,we.doneFn=Oe,b(ee)},Q.vangles&&!S.isFullCircle(Q.sectorInRad)&&(we.prepFn=S.noop,_(D.select(_e),null)),g.init(we)},Z.isPtInside=function(re){if(this.isSmith)return!0;var Q=this.sectorInRad,ee=this.vangles,oe=this.angularAxis.c2g(re.theta),ce=this.radialAxis,ue=ce.c2l(re.r);return(ee?k.isPtInsidePolygon:S.isPtInsideSector)(ue,oe,ce._rl,Q,ee)},Z.pathArc=function(re){var Q=this.sectorInRad,ee=this.vangles;return(ee?k.pathPolygon:S.pathArc)(re,Q[0],Q[1],ee)},Z.pathSector=function(re){var Q=this.sectorInRad,ee=this.vangles;return(ee?k.pathPolygon:S.pathSector)(re,Q[0],Q[1],ee)},Z.pathAnnulus=function(re,Q){var ee=this.sectorInRad,oe=this.vangles;return(oe?k.pathPolygonAnnulus:S.pathAnnulus)(re,Q,ee[0],ee[1],oe)},Z.pathSubplot=function(){var re=this.innerRadius,Q=this.radius;return re?this.pathAnnulus(re,Q):this.pathSector(Q)},Z.fillViewInitialKey=function(re,Q){re in this.viewInitial||(this.viewInitial[re]=Q)}},12101:function(ae,B,r){"use strict";var D=r(71828),E=r(21994),d=D.deg2rad,S=D.rad2deg;ae.exports=function(M,v,u){switch(E(M,u),M._id){case"x":case"radialaxis":a=v._subplot,(i=M).setGeometry=function(){var o=i._rl[0],l=i._rl[1],c=a.innerRadius,f=(a.radius-c)/(l-o),g=c/f,h=o>l?function(T){return T<=0}:function(T){return T>=0};i.c2g=function(T){var x=i.c2l(T)-o;return(h(x)?x:0)+g},i.g2c=function(T){return i.l2c(T+o-g)},i.g2p=function(T){return T*f},i.c2p=function(T){return i.g2p(i.c2g(T))}};break;case"angularaxis":!function(i,s){var a=i.type;if("linear"===a){var o=i.d2c,l=i.c2d;i.d2c=function(c,f){return g=o(c),"degrees"===f?d(g):g;var g},i.c2d=function(c,f){return l((g=c,"degrees"===f?S(g):g));var g}}i.makeCalcdata=function(c,f){var g,h,T=c[f],x=c._length,m=function(p){return i.d2c(p,c.thetaunit)};if(T){if(D.isTypedArray(T)&&"linear"===a){if(x===T.length)return T;if(T.subarray)return T.subarray(0,x)}for(g=new Array(x),h=0;h<x;h++)g[h]=m(T[h])}else{var b=f+"0",_="d"+f,w=b in c?m(c[b]):0,A=c[_]?m(c[_]):(i.period||2*Math.PI)/x;for(g=new Array(x),h=0;h<x;h++)g[h]=w+h*A}return g},i.setGeometry=function(){var c,f,g,h,T=s.sector,x=T.map(d),m={clockwise:-1,counterclockwise:1}[i.direction],b=d(i.rotation),_=function(I){return m*I+b},w=function(I){return(I-b)/m};switch(a){case"linear":f=c=D.identity,h=d,g=S,i.range=D.isFullCircle(x)?[T[0],T[0]+360]:x.map(w).map(S);break;case"category":var A=i._categories.length,p=i.period?Math.max(i.period,A):A;0===p&&(p=1),f=h=function(I){return 2*I*Math.PI/p},c=g=function(I){return I*p/Math.PI/2},i.range=[0,p]}i.c2g=function(I){return _(f(I))},i.g2c=function(I){return c(w(I))},i.t2g=function(I){return _(h(I))},i.g2t=function(I){return g(w(I))}}}(M,v)}var i,a}},39779:function(ae){"use strict";ae.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(ae){"use strict";function B(d){return d<0?-1:d>0?1:0}function r(d){var S=d[0],M=d[1];if(!isFinite(S)||!isFinite(M))return[1,0];var v=(S+1)*(S+1)+M*M;return[(S*S+M*M-1)/v,2*M/v]}function D(d,S){return[S[0]*d.radius+d.cx,-S[1]*d.radius+d.cy]}function E(d,S){return S*d.radius}ae.exports={smith:r,reactanceArc:function(d,S,M,v){var u=D(d,r([M,S])),i=u[0],s=u[1],a=D(d,r([v,S])),o=a[0],l=a[1];if(0===S)return["M"+i+","+s,"L"+o+","+l].join(" ");var c=E(d,1/Math.abs(S));return["M"+i+","+s,"A"+c+","+c+" 0 0,"+(S<0?1:0)+" "+o+","+l].join(" ")},resistanceArc:function(d,S,M,v){var u=E(d,1/(S+1)),i=D(d,r([S,M])),s=i[0],a=i[1],o=D(d,r([S,v])),l=o[0],c=o[1];if(B(M)!==B(v)){var f=D(d,r([S,0]));return["M"+s+","+a,"A"+u+","+u+" 0 0,"+(0<M?0:1)+" "+f[0]+","+f[1],"A"+u+","+u+" 0 0,"+(v<0?0:1)+l+","+c].join(" ")}return["M"+s+","+a,"A"+u+","+u+" 0 0,"+(v<M?0:1)+" "+l+","+c].join(" ")},smithTransform:D}},7504:function(ae,B,r){"use strict";var D=r(27659).AU,E=r(71828).counterRegex,d=r(77997),S=r(39779),M=S.attr,v=S.name,u=E(v),i={};i[M]={valType:"subplotid",dflt:v,editType:"calc"},ae.exports={attr:M,name:v,idRoot:v,idRegex:u,attrRegex:u,attributes:i,layoutAttributes:r(33419),supplyLayoutDefaults:r(9558),plot:function(s){for(var a=s._fullLayout,o=s.calcdata,l=a._subplots[v],c=0;c<l.length;c++){var f=l[c],g=D(o,v,f),h=a[f]._subplot;h||(h=d(s,f,!0),a[f]._subplot=h),h.plot(g,a,s._promises)}},clean:function(s,a,o,l){for(var c=l._subplots[v]||[],f=0;f<c.length;f++){var g=c[f],h=l[g]._subplot;if(!a[g]&&h)for(var T in h.framework.remove(),h.clipPaths)h.clipPaths[T].remove()}},toSVG:r(93612).toSVG}},33419:function(ae,B,r){"use strict";var D=r(22399),E=r(13838),d=r(27670).Y,S=r(71828).extendFlat,M=r(30962).overrideAll,v=M({color:E.color,showline:S({},E.showline,{dflt:!0}),linecolor:E.linecolor,linewidth:E.linewidth,showgrid:S({},E.showgrid,{dflt:!0}),gridcolor:E.gridcolor,gridwidth:E.gridwidth,griddash:E.griddash},"plot","from-root"),u=M({ticklen:E.ticklen,tickwidth:S({},E.tickwidth,{dflt:2}),tickcolor:E.tickcolor,showticklabels:E.showticklabels,labelalias:E.labelalias,showtickprefix:E.showtickprefix,tickprefix:E.tickprefix,showticksuffix:E.showticksuffix,ticksuffix:E.ticksuffix,tickfont:E.tickfont,tickformat:E.tickformat,hoverformat:E.hoverformat,layer:E.layer},"plot","from-root"),i=S({visible:S({},E.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:S({},E.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,u),s=S({visible:S({},E.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:E.ticks,editType:"calc"},v,u);ae.exports={domain:d({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:D.background},realaxis:i,imaginaryaxis:s,editType:"calc"}},9558:function(ae,B,r){"use strict";var D,E,d,S=r(71828),M=r(7901),v=r(44467),u=r(49119),i=r(27659).NG,s=r(89426),a=r(96115),o=r(92128),l=r(21994),c=r(33419),f=r(39779),g=f.axisNames,h=(D=function(x){return x.slice().reverse().map(function(m){return-m}).concat([0]).concat(x)},E=String,d={},function(x){var m=E?E(x):x;if(m in d)return d[m];var b=D(x);return d[m]=b,b});function T(x,m,b,_){var w=b("bgcolor");_.bgColor=M.combine(w,_.paper_bgcolor);var A,p=i(_.fullData,f.name,_.id),I=_.layoutOut;function k(Z,$){return b(A+"."+Z,$)}for(var L=0;L<g.length;L++){S.isPlainObject(x[A=g[L]])||(x[A]={});var O=x[A],P=v.newContainer(m,A);P._id=P._name=A,P._attr=_.id+"."+A,P._traceIndices=p.map(function(Z){return Z._expandedIndex});var F=k("visible");if(P.type="linear",l(P,I),s(O,P,k,P.type),F){var j,X,N,q,G="realaxis"===A;G&&k("side"),G?k("tickvals"):k("tickvals",h(m.realaxis.tickvals||c.realaxis.tickvals.dflt));var H=_.font||{};F&&(X=(j=k("color"))===O.color?j:H.color,N=H.size,q=H.family),a(O,P,k,P.type,{noTicklabelstep:!0,noAng:!G,noExp:!0,font:{color:X,size:N,family:q}}),S.coerce2(x,m,c,A+".ticklen"),S.coerce2(x,m,c,A+".tickwidth"),S.coerce2(x,m,c,A+".tickcolor",m.color),k("ticks")||(delete m[A].ticklen,delete m[A].tickwidth,delete m[A].tickcolor),o(O,P,k,{dfltColor:j,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[A]}),k("layer")}k("hoverformat"),delete P.type,P._input=O}}ae.exports=function(x,m,b){u(x,m,b,{noUirevision:!0,type:f.name,attributes:c,handleDefaults:T,font:m.font,paper_bgcolor:m.paper_bgcolor,fullData:b,layoutOut:m})}},49119:function(ae,B,r){"use strict";var D=r(71828),E=r(44467),d=r(27670).c;ae.exports=function(S,M,v,u){var i,s,o=u.attributes,l=u.handleDefaults,c=u.partition||"x",f=M._subplots[u.type],g=f.length,h=g&&f[0].replace(/\d+$/,"");function T(_,w){return D.coerce(i,s,o,_,w)}for(var x=0;x<g;x++){var m=f[x];i=S[m]?S[m]:S[m]={},s=E.newContainer(M,m,h),u.noUirevision||T("uirevision",M.uirevision);var b={};b[c]=[x/g,(x+1)/g],d(s,M,T,b),u.id=m,l(i,s,T,u)}}},5386:function(ae,B,r){"use strict";function E(d){var S=d.description?" "+d.description:"",M=d.keys||[];if(M.length>0){for(var v=[],u=0;u<M.length;u++)v[u]="`"+M[u]+"`";S+="Finally, the template string has access to ",S=1===M.length?S+"variable "+v[0]:S+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return S}r(31562),B.fF=function(d,S){d=d||{},E(S=S||{});var M={valType:"string",dflt:"",editType:d.editType||"none"};return!1!==d.arrayOk&&(M.arrayOk=!0),M},B.si=function(d,S){d=d||{},E(S=S||{});var M={valType:"string",dflt:"",editType:d.editType||"calc"};return!1!==d.arrayOk&&(M.arrayOk=!0),M},B.R=function(d,S){return d=d||{},E(S=S||{}),{valType:"string",dflt:"",editType:d.editType||"arraydraw"}}},61639:function(ae,B,r){"use strict";var D=r(64380),E=r(27659).AU,d=r(71828).counterRegex,S="ternary";B.name=S;var M=B.attr="subplot";B.idRoot=S,B.idRegex=B.attrRegex=d(S),(B.attributes={})[M]={valType:"subplotid",dflt:"ternary",editType:"calc"},B.layoutAttributes=r(81367),B.supplyLayoutDefaults=r(25369),B.plot=function(v){for(var u=v._fullLayout,i=v.calcdata,s=u._subplots[S],a=0;a<s.length;a++){var o=s[a],l=E(i,S,o),c=u[o]._subplot;c||(c=new D({id:o,graphDiv:v,container:u._ternarylayer.node()},u),u[o]._subplot=c),c.plot(l,u,v._promises)}},B.clean=function(v,u,i,s){for(var a=s._subplots[S]||[],o=0;o<a.length;o++){var l=a[o],c=s[l]._subplot;!u[l]&&c&&(c.plotContainer.remove(),c.clipDef.remove(),c.clipDefRelative.remove(),c.layers["a-title"].remove(),c.layers["b-title"].remove(),c.layers["c-title"].remove())}}},81367:function(ae,B,r){"use strict";var D=r(22399),E=r(27670).Y,d=r(13838),S=r(30962).overrideAll,M=r(1426).extendFlat,v={title:{text:d.title.text,font:d.title.font},color:d.color,tickmode:d.minor.tickmode,nticks:M({},d.nticks,{dflt:6,min:1}),tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:d.ticks,ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,ticklabelstep:d.ticklabelstep,showticklabels:d.showticklabels,labelalias:d.labelalias,showtickprefix:d.showtickprefix,tickprefix:d.tickprefix,showticksuffix:d.showticksuffix,ticksuffix:d.ticksuffix,showexponent:d.showexponent,exponentformat:d.exponentformat,minexponent:d.minexponent,separatethousands:d.separatethousands,tickfont:d.tickfont,tickangle:d.tickangle,tickformat:d.tickformat,tickformatstops:d.tickformatstops,hoverformat:d.hoverformat,showline:M({},d.showline,{dflt:!0}),linecolor:d.linecolor,linewidth:d.linewidth,showgrid:M({},d.showgrid,{dflt:!0}),gridcolor:d.gridcolor,gridwidth:d.gridwidth,griddash:d.griddash,layer:d.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:d._deprecated.title,titlefont:d._deprecated.titlefont}},u=ae.exports=S({domain:E({name:"ternary"}),bgcolor:{valType:"color",dflt:D.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");u.uirevision={valType:"any",editType:"none"},u.aaxis.uirevision=u.baxis.uirevision=u.caxis.uirevision={valType:"any",editType:"none"}},25369:function(ae,B,r){"use strict";var D=r(7901),E=r(44467),d=r(71828),S=r(49119),M=r(96115),v=r(89426),u=r(38701),i=r(26218),s=r(92128),a=r(81367),o=["aaxis","baxis","caxis"];function l(f,g,h,T){var x,m,b,_=h("bgcolor"),w=h("sum");T.bgColor=D.combine(_,T.paper_bgcolor);for(var A=0;A<o.length;A++)m=f[x=o[A]]||{},(b=E.newContainer(g,x))._name=x,c(m,b,T,g);var p=g.aaxis,I=g.baxis,k=g.caxis;p.min+I.min+k.min>=w&&(p.min=0,I.min=0,k.min=0,f.aaxis&&delete f.aaxis.min,f.baxis&&delete f.baxis.min,f.caxis&&delete f.caxis.min)}function c(f,g,h,T){var x=a[g._name];function m(I,k){return d.coerce(f,g,x,I,k)}m("uirevision",T.uirevision),g.type="linear";var b=m("color"),_=b!==x.color.dflt?b:h.font.color,w=g._name.charAt(0).toUpperCase(),A="Component "+w,p=m("title.text",A);g._hovertitle=p===A?p:w,d.coerceFont(m,"title.font",{family:h.font.family,size:d.bigFont(h.font.size),color:_}),m("min"),i(f,g,m,"linear"),v(f,g,m,"linear"),M(f,g,m,"linear"),u(f,g,m,{outerTicks:!0}),m("showticklabels")&&(d.coerceFont(m,"tickfont",{family:h.font.family,size:h.font.size,color:_}),m("tickangle"),m("tickformat")),s(f,g,m,{dfltColor:b,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:x}),m("hoverformat"),m("layer")}ae.exports=function(f,g,h){S(f,g,h,{type:"ternary",attributes:a,handleDefaults:l,font:g.font,paper_bgcolor:g.paper_bgcolor})}},64380:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),d=r(73972),S=r(71828),M=S.strTranslate,v=S._,u=r(7901),i=r(91424),s=r(21994),a=r(1426).extendFlat,o=r(74875),l=r(89298),c=r(28569),f=r(30211),g=r(64505),h=g.freeMode,T=g.rectMode,x=r(92998),m=r(47322).prepSelect,b=r(47322).selectOnClick,_=r(47322).clearOutline,w=r(47322).clearSelectionsCache,A=r(85555);function p(N,q){this.id=N.id,this.graphDiv=N.graphDiv,this.init(q),this.makeFramework(q),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}ae.exports=p;var I=p.prototype;I.init=function(N){this.container=N._ternarylayer,this.defs=N._defs,this.layoutId=N._uid,this.traceHash={},this.layers={}},I.plot=function(N,q){var G=this,H=q[G.id],Z=q._size;G._hasClipOnAxisFalse=!1;for(var $=0;$<N.length;$++)if(!1===N[$][0].trace.cliponaxis){G._hasClipOnAxisFalse=!0;break}G.updateLayers(H),G.adjustLayout(H,Z),o.generalUpdatePerTraceModule(G.graphDiv,G,N,H),G.layers.plotbg.select("path").call(u.fill,H.bgcolor)},I.makeFramework=function(N){var q=this,G=q.graphDiv,H=N[q.id],Z=q.clipId="clip"+q.layoutId+q.id,$=q.clipIdRelative="clip-relative"+q.layoutId+q.id;q.clipDef=S.ensureSingleById(N._clips,"clipPath",Z,function(se){se.append("path").attr("d","M0,0Z")}),q.clipDefRelative=S.ensureSingleById(N._clips,"clipPath",$,function(se){se.append("path").attr("d","M0,0Z")}),q.plotContainer=S.ensureSingle(q.container,"g",q.id),q.updateLayers(H),i.setClipUrl(q.layers.backplot,Z,G),i.setClipUrl(q.layers.grids,Z,G)},I.updateLayers=function(N){var q=this.layers,G=["draglayer","plotbg","backplot","grids"];"below traces"===N.aaxis.layer&&G.push("aaxis","aline"),"below traces"===N.baxis.layer&&G.push("baxis","bline"),"below traces"===N.caxis.layer&&G.push("caxis","cline"),G.push("frontplot"),"above traces"===N.aaxis.layer&&G.push("aaxis","aline"),"above traces"===N.baxis.layer&&G.push("baxis","bline"),"above traces"===N.caxis.layer&&G.push("caxis","cline");var H=this.plotContainer.selectAll("g.toplevel").data(G,String),Z=["agrid","bgrid","cgrid"];H.enter().append("g").attr("class",function($){return"toplevel "+$}).each(function($){var se=D.select(this);q[$]=se,"frontplot"===$?se.append("g").classed("scatterlayer",!0):"backplot"===$?se.append("g").classed("maplayer",!0):"plotbg"===$?se.append("path").attr("d","M0,0Z"):"aline"===$||"bline"===$||"cline"===$?se.append("path"):"grids"===$&&Z.forEach(function(ne){q[ne]=se.append("g").classed("grid "+ne,!0)})}),H.order()};var k=Math.sqrt(4/3);I.adjustLayout=function(N,q){var G,H,Z,$,se,ne,re=this,Q=N.domain,ee=(Q.x[0]+Q.x[1])/2,oe=(Q.y[0]+Q.y[1])/2,ce=Q.x[1]-Q.x[0],ue=Q.y[1]-Q.y[0],he=ce*q.w,ve=ue*q.h,ke=N.sum,Ie=N.aaxis.min,Me=N.baxis.min,_e=N.caxis.min;he>k*ve?Z=($=ve)*k:$=(Z=he)/k,se=ce*Z/he,ne=ue*$/ve,H=q.t+q.h*(1-oe)-$/2,re.x0=G=q.l+q.w*ee-Z/2,re.y0=H,re.w=Z,re.h=$,re.sum=ke,re.xaxis={type:"linear",range:[Ie+2*_e-ke,ke-Ie-2*Me],domain:[ee-se/2,ee+se/2],_id:"x"},s(re.xaxis,re.graphDiv._fullLayout),re.xaxis.setScale(),re.xaxis.isPtWithinRange=function(Ue){return Ue.a>=re.aaxis.range[0]&&Ue.a<=re.aaxis.range[1]&&Ue.b>=re.baxis.range[1]&&Ue.b<=re.baxis.range[0]&&Ue.c>=re.caxis.range[1]&&Ue.c<=re.caxis.range[0]},re.yaxis={type:"linear",range:[Ie,ke-Me-_e],domain:[oe-ne/2,oe+ne/2],_id:"y"},s(re.yaxis,re.graphDiv._fullLayout),re.yaxis.setScale(),re.yaxis.isPtWithinRange=function(){return!0};var we=re.yaxis.domain[0],ze=re.aaxis=a({},N.aaxis,{range:[Ie,ke-Me-_e],side:"left",tickangle:(+N.aaxis.tickangle||0)-30,domain:[we,we+ne*k],anchor:"free",position:0,_id:"y",_length:Z});s(ze,re.graphDiv._fullLayout),ze.setScale();var Ee=re.baxis=a({},N.baxis,{range:[ke-Ie-_e,Me],side:"bottom",domain:re.xaxis.domain,anchor:"free",position:0,_id:"x",_length:Z});s(Ee,re.graphDiv._fullLayout),Ee.setScale();var Se=re.caxis=a({},N.caxis,{range:[ke-Ie-Me,_e],side:"right",tickangle:(+N.caxis.tickangle||0)+30,domain:[we,we+ne*k],anchor:"free",position:0,_id:"y",_length:Z});s(Se,re.graphDiv._fullLayout),Se.setScale();var me="M"+G+","+(H+$)+"h"+Z+"l-"+Z/2+",-"+$+"Z";re.clipDef.select("path").attr("d",me),re.layers.plotbg.select("path").attr("d",me);var fe="M0,"+$+"h"+Z+"l-"+Z/2+",-"+$+"Z";re.clipDefRelative.select("path").attr("d",fe);var le=M(G,H);re.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",le),re.clipDefRelative.select("path").attr("transform",null);var Te=M(G-Ee._offset,H+$);re.layers.baxis.attr("transform",Te),re.layers.bgrid.attr("transform",Te);var Re=M(G+Z/2,H)+"rotate(30)"+M(0,-ze._offset);re.layers.aaxis.attr("transform",Re),re.layers.agrid.attr("transform",Re);var De=M(G+Z/2,H)+"rotate(-30)"+M(0,-Se._offset);re.layers.caxis.attr("transform",De),re.layers.cgrid.attr("transform",De),re.drawAxes(!0),re.layers.aline.select("path").attr("d",ze.showline?"M"+G+","+(H+$)+"l"+Z/2+",-"+$:"M0,0").call(u.stroke,ze.linecolor||"#000").style("stroke-width",(ze.linewidth||0)+"px"),re.layers.bline.select("path").attr("d",Ee.showline?"M"+G+","+(H+$)+"h"+Z:"M0,0").call(u.stroke,Ee.linecolor||"#000").style("stroke-width",(Ee.linewidth||0)+"px"),re.layers.cline.select("path").attr("d",Se.showline?"M"+(G+Z/2)+","+H+"l"+Z/2+","+$:"M0,0").call(u.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),re.graphDiv._context.staticPlot||re.initInteractions(),i.setClipUrl(re.layers.frontplot,re._hasClipOnAxisFalse?null:re.clipId,re.graphDiv)},I.drawAxes=function(N){var q=this,G=q.graphDiv,H=q.id.substr(7)+"title",Z=q.layers,$=q.aaxis,se=q.baxis,ne=q.caxis;if(q.drawAx($),q.drawAx(se),q.drawAx(ne),N){var re=Math.max($.showticklabels?$.tickfont.size/2:0,(ne.showticklabels?.75*ne.tickfont.size:0)+("outside"===ne.ticks?.87*ne.ticklen:0)),Q=(se.showticklabels?se.tickfont.size:0)+("outside"===se.ticks?se.ticklen:0)+3;Z["a-title"]=x.draw(G,"a"+H,{propContainer:$,propName:q.id+".aaxis.title",placeholder:v(G,"Click to enter Component A title"),attributes:{x:q.x0+q.w/2,y:q.y0-$.title.font.size/3-re,"text-anchor":"middle"}}),Z["b-title"]=x.draw(G,"b"+H,{propContainer:se,propName:q.id+".baxis.title",placeholder:v(G,"Click to enter Component B title"),attributes:{x:q.x0-Q,y:q.y0+q.h+.83*se.title.font.size+Q,"text-anchor":"middle"}}),Z["c-title"]=x.draw(G,"c"+H,{propContainer:ne,propName:q.id+".caxis.title",placeholder:v(G,"Click to enter Component C title"),attributes:{x:q.x0+q.w+Q,y:q.y0+q.h+.83*ne.title.font.size+Q,"text-anchor":"middle"}})}},I.drawAx=function(N){var q,G=this,H=G.graphDiv,Z=N._name,$=Z.charAt(0),se=N._id,ne=G.layers[Z],re=$+"tickLayout",Q=(q=N).ticks+String(q.ticklen)+String(q.showticklabels);G[re]!==Q&&(ne.selectAll("."+se+"tick").remove(),G[re]=Q),N.setScale();var ee=l.calcTicks(N),oe=l.clipEnds(N,ee),ce=l.makeTransTickFn(N),ue=l.getTickSigns(N)[2],he=S.deg2rad(30),ve=ue*(N.linewidth||1)/2,ke=ue*N.ticklen,Ie=G.w,Me=G.h,_e="b"===$?"M0,"+ve+"l"+Math.sin(he)*ke+","+Math.cos(he)*ke:"M"+ve+",0l"+Math.cos(he)*ke+","+-Math.sin(he)*ke,we={a:"M0,0l"+Me+",-"+Ie/2,b:"M0,0l-"+Ie/2+",-"+Me,c:"M0,0l-"+Me+","+Ie/2}[$];l.drawTicks(H,N,{vals:"inside"===N.ticks?oe:ee,layer:ne,path:_e,transFn:ce,crisp:!1}),l.drawGrid(H,N,{vals:oe,layer:G.layers[$+"grid"],path:we,transFn:ce,crisp:!1}),l.drawLabels(H,N,{vals:ee,layer:ne,transFn:ce,labelFns:l.makeLabelFns(N,0,30)})};var L=A.MINZOOM/2+.87,O="m-0.87,.5h"+L+"v3h-"+(L+5.2)+"l"+(L/2+2.6)+",-"+(.87*L+4.5)+"l2.6,1.5l-"+L/2+","+.87*L+"Z",P="m0.87,.5h-"+L+"v3h"+(L+5.2)+"l-"+(L/2+2.6)+",-"+(.87*L+4.5)+"l-2.6,1.5l"+L/2+","+.87*L+"Z",F="m0,1l"+L/2+","+.87*L+"l2.6,-1.5l-"+(L/2+2.6)+",-"+(.87*L+4.5)+"l-"+(L/2+2.6)+","+(.87*L+4.5)+"l2.6,1.5l"+L/2+",-"+.87*L+"Z",j=!0;function X(N){D.select(N).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}I.clearOutline=function(){w(this.dragOptions),_(this.dragOptions.gd)},I.initInteractions=function(){var N,q,G,H,Z,$,se,ne,re,Q,ee,oe,ce=this,ue=ce.layers.plotbg.select("path").node(),he=ce.graphDiv,ve=he._fullLayout._zoomlayer;function ke(fe){var le={};return le[ce.id+".aaxis.min"]=fe.a,le[ce.id+".baxis.min"]=fe.b,le[ce.id+".caxis.min"]=fe.c,le}function Ie(fe,le){var Te=he._fullLayout.clickmode;X(he),2===fe&&(he.emit("plotly_doubleclick",null),d.call("_guiRelayout",he,ke({a:0,b:0,c:0}))),Te.indexOf("select")>-1&&1===fe&&b(le,he,[ce.xaxis],[ce.yaxis],ce.id,ce.dragOptions),Te.indexOf("event")>-1&&f.click(he,le,ce.id)}function Me(fe,le){return 1-le/ce.h}function _e(fe,le){return 1-(fe+(ce.h-le)/Math.sqrt(3))/ce.w}function we(fe,le){return(fe-(ce.h-le)/Math.sqrt(3))/ce.w}function ze(fe,le){var Te=G+fe*N,Re=H+le*q,De=Math.max(0,Math.min(1,Me(0,H),Me(0,Re))),Ue=Math.max(0,Math.min(1,_e(G,H),_e(Te,Re))),Ze=Math.max(0,Math.min(1,we(G,H),we(Te,Re))),xe=(De/2+Ze)*ce.w,Oe=(1-De/2-Ue)*ce.w,Ce=(xe+Oe)/2,Be=Oe-xe,qe=(1-De)*ce.h,He=qe-Be/k;Be<A.MINZOOM?(se=Z,ee.attr("d",re),oe.attr("d","M0,0Z")):(se={a:Z.a+De*$,b:Z.b+Ue*$,c:Z.c+Ze*$},ee.attr("d",re+"M"+xe+","+qe+"H"+Oe+"L"+Ce+","+He+"L"+xe+","+qe+"Z"),oe.attr("d","M"+G+","+H+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+xe+","+qe+O+"M"+Oe+","+qe+P+"M"+Ce+","+He+F)),Q||(ee.transition().style("fill",ne>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),oe.transition().style("opacity",1).duration(200),Q=!0),he.emit("plotly_relayouting",ke(se))}function Ee(){X(he),se!==Z&&(d.call("_guiRelayout",he,ke(se)),j&&he.data&&he._context.showTips&&(S.notifier(v(he,"Double-click to zoom back out"),"long"),j=!1))}function Se(fe,le){var Te=fe/ce.xaxis._m,Re=le/ce.yaxis._m,De=[(se={a:Z.a-Re,b:Z.b+(Te+Re)/2,c:Z.c-(Te-Re)/2}).a,se.b,se.c].sort(S.sorterAsc),Ue=De.indexOf(se.a),Ze=De.indexOf(se.b),xe=De.indexOf(se.c);De[0]<0&&(De[1]+De[0]/2<0?(De[2]+=De[0]+De[1],De[0]=De[1]=0):(De[2]+=De[0]/2,De[1]+=De[0]/2,De[0]=0),le=(Z.a-(se={a:De[Ue],b:De[Ze],c:De[xe]}).a)*ce.yaxis._m,fe=(Z.c-se.c-Z.b+se.b)*ce.xaxis._m);var Oe=M(ce.x0+fe,ce.y0+le);ce.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Oe);var Ce=M(-fe,-le);ce.clipDefRelative.select("path").attr("transform",Ce),ce.aaxis.range=[se.a,ce.sum-se.b-se.c],ce.baxis.range=[ce.sum-se.a-se.c,se.b],ce.caxis.range=[ce.sum-se.a-se.b,se.c],ce.drawAxes(!1),ce._hasClipOnAxisFalse&&ce.plotContainer.select(".scatterlayer").selectAll(".trace").call(i.hideOutsideRangePoints,ce),he.emit("plotly_relayouting",ke(se))}function me(){d.call("_guiRelayout",he,ke(se))}this.dragOptions={element:ue,gd:he,plotinfo:{id:ce.id,domain:he._fullLayout[ce.id].domain,xaxis:ce.xaxis,yaxis:ce.yaxis},subplot:ce.id,prepFn:function(fe,le,Te){ce.dragOptions.xaxes=[ce.xaxis],ce.dragOptions.yaxes=[ce.yaxis],N=he._fullLayout._invScaleX,q=he._fullLayout._invScaleY;var Re=ce.dragOptions.dragmode=he._fullLayout.dragmode;ce.dragOptions.minDrag=h(Re)?1:void 0,"zoom"===Re?(ce.dragOptions.moveFn=ze,ce.dragOptions.clickFn=Ie,ce.dragOptions.doneFn=Ee,function(De,Ue,Ze){var xe=ue.getBoundingClientRect();G=Ue-xe.left,H=Ze-xe.top,he._fullLayout._calcInverseTransform(he);var Ce=S.apply3DTransform(he._fullLayout._invTransform)(G,H);G=Ce[0],H=Ce[1],se=Z={a:ce.aaxis.range[0],b:ce.baxis.range[1],c:ce.caxis.range[1]},$=ce.aaxis.range[1]-Z.a,ne=E(ce.graphDiv._fullLayout[ce.id].bgcolor).getLuminance(),re="M0,"+ce.h+"L"+ce.w/2+", 0L"+ce.w+","+ce.h+"Z",Q=!1,ee=ve.append("path").attr("class","zoombox").attr("transform",M(ce.x0,ce.y0)).style({fill:ne>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",re),oe=ve.append("path").attr("class","zoombox-corners").attr("transform",M(ce.x0,ce.y0)).style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ce.clearOutline(he)}(0,le,Te)):"pan"===Re?(ce.dragOptions.moveFn=Se,ce.dragOptions.clickFn=Ie,ce.dragOptions.doneFn=me,se=Z={a:ce.aaxis.range[0],b:ce.baxis.range[1],c:ce.caxis.range[1]},ce.clearOutline(he)):(T(Re)||h(Re))&&m(fe,le,Te,ce.dragOptions,Re)}},ue.onmousemove=function(fe){f.hover(he,fe,ce.id),he._fullLayout._lasthover=ue,he._fullLayout._hoversubplot=ce.id},ue.onmouseout=function(fe){he._dragging||c.unhover(he,fe)},c.init(this.dragOptions)}},73972:function(ae,B,r){"use strict";var D=r(47769),E=r(64213),d=r(75138),S=r(41965),M=r(24401).addStyleRule,v=r(1426),u=r(9012),i=r(10820),s=v.extendFlat,a=v.extendDeepAll;function o(b){var _=b.name,w=b.categories,A=b.meta;if(B.modules[_])D.log("Type "+_+" already registered");else{B.subplotsRegistry[b.basePlotModule.name]||function(j){var X=j.name;if(B.subplotsRegistry[X])D.log("Plot type "+X+" already registered.");else for(var N in g(j),B.subplotsRegistry[X]=j,B.componentsRegistry)x(N,j.name)}(b.basePlotModule);for(var p={},I=0;I<w.length;I++)p[w[I]]=!0,B.allCategories[w[I]]=!0;for(var k in B.modules[_]={_module:b,categories:p},A&&Object.keys(A).length&&(B.modules[_].meta=A),B.allTypes.push(_),B.componentsRegistry)h(k,_);b.layoutAttributes&&s(B.traceLayoutAttributes,b.layoutAttributes);var L=b.basePlotModule,O=L.name;if("mapbox"===O){var P=L.constants.styleRules;for(var F in P)M(".js-plotly-plot .plotly .mapboxgl-"+F,P[F])}"geo"!==O&&"mapbox"!==O||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function l(b){if("string"!=typeof b.name)throw new Error("Component module *name* must be a string.");var _=b.name;for(var w in B.componentsRegistry[_]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&d(B.layoutArrayContainers,_),g(b)),B.modules)h(_,w);for(var A in B.subplotsRegistry)x(_,A);for(var p in B.transformsRegistry)T(_,p);b.schema&&b.schema.layout&&a(i,b.schema.layout)}function c(b){if("string"!=typeof b.name)throw new Error("Transform module *name* must be a string.");var _="Transform module "+b.name,w="function"==typeof b.transform,A="function"==typeof b.calcTransform;if(!w&&!A)throw new Error(_+" is missing a *transform* or *calcTransform* method.");for(var p in w&&A&&D.log([_+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),S(b.attributes)||D.log(_+" registered without an *attributes* object."),"function"!=typeof b.supplyDefaults&&D.log(_+" registered without a *supplyDefaults* method."),B.transformsRegistry[b.name]=b,B.componentsRegistry)T(p,b.name)}function f(b){var _=b.name,w=_.split("-")[0],A=b.dictionary,p=b.format,I=A&&Object.keys(A).length,k=p&&Object.keys(p).length,L=B.localeRegistry,O=L[_];if(O||(L[_]=O={}),w!==_){var P=L[w];P||(L[w]=P={}),I&&P.dictionary===O.dictionary&&(P.dictionary=A),k&&P.format===O.format&&(P.format=p)}I&&(O.dictionary=A),k&&(O.format=p)}function g(b){if(b.layoutAttributes){var _=b.layoutAttributes._arrayAttrRegexps;if(_)for(var w=0;w<_.length;w++)d(B.layoutArrayRegexes,_[w])}}function h(b,_){var w=B.componentsRegistry[b].schema;if(w&&w.traces){var A=w.traces[_];A&&a(B.modules[_]._module.attributes,A)}}function T(b,_){var w=B.componentsRegistry[b].schema;if(w&&w.transforms){var A=w.transforms[_];A&&a(B.transformsRegistry[_].attributes,A)}}function x(b,_){var w=B.componentsRegistry[b].schema;if(w&&w.subplots){var A=B.subplotsRegistry[_],p=A.layoutAttributes,I="subplot"===A.attr?A.name:A.attr;Array.isArray(I)&&(I=I[0]);var k=w.subplots[I];p&&k&&a(p,k)}}function m(b){return"object"==typeof b&&(b=b.type),b}B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(b){if(B.collectableSubplotTypes=null,!b)throw new Error("No argument passed to Plotly.register.");b&&!Array.isArray(b)&&(b=[b]);for(var _=0;_<b.length;_++){var w=b[_];if(!w)throw new Error("Invalid module was attempted to be registered!");switch(w.moduleType){case"trace":o(w);break;case"transform":c(w);break;case"component":l(w);break;case"locale":f(w);break;case"apiMethod":B.apiMethodRegistry[w.name]=w.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(b){var _=B.modules[m(b)];return!!_&&_._module},B.traceIs=function(b,_){if("various"===(b=m(b)))return!1;var w=B.modules[b];return w||(b&&D.log("Unrecognized trace type "+b+"."),w=B.modules[u.type.dflt]),!!w.categories[_]},B.getTransformIndices=function(b,_){for(var w=[],A=b.transforms||[],p=0;p<A.length;p++)A[p].type===_&&w.push(p);return w},B.hasTransform=function(b,_){for(var w=b.transforms||[],A=0;A<w.length;A++)if(w[A].type===_)return!0;return!1},B.getComponentMethod=function(b,_){var w=B.componentsRegistry[b];return w&&w[_]||E},B.call=function(){var b=arguments[0],_=[].slice.call(arguments,1);return B.apiMethodRegistry[b].apply(null,_)}},61914:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=E.extendFlat,S=E.extendDeep;function M(v){var u;switch(v){case"themes__thumb":u={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":u={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:u={}}return u}ae.exports=function(v,u){var i,o=v.layout,l=S([],v.data),c=S({},o,M(u.tileClass)),f=v._context||{};if(u.width&&(c.width=u.width),u.height&&(c.height=u.height),"thumbnail"===u.tileClass||"themes__thumb"===u.tileClass){c.annotations=[];var g=Object.keys(c);for(i=0;i<g.length;i++)["xaxis","yaxis","zaxis"].indexOf(g[i].slice(0,5))>-1&&(c[g[i]].title={text:""});for(i=0;i<l.length;i++){var h=l[i];h.showscale=!1,h.marker&&(h.marker.showscale=!1),D.traceIs(h,"pie-like")&&(h.textposition="none")}}if(Array.isArray(u.annotations))for(i=0;i<u.annotations.length;i++)c.annotations.push(u.annotations[i]);var T=Object.keys(c).filter(function(w){return w.match(/^scene\d*$/)});if(T.length){var x={};for("thumbnail"===u.tileClass&&(x={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<T.length;i++){var m=c[T[i]];m.xaxis||(m.xaxis={}),m.yaxis||(m.yaxis={}),m.zaxis||(m.zaxis={}),d(m.xaxis,x),d(m.yaxis,x),d(m.zaxis,x),m._scene=null}}var b=document.createElement("div");u.tileClass&&(b.className=u.tileClass);var _={gd:b,td:b,layout:c,data:l,config:{staticPlot:void 0===u.staticPlot||u.staticPlot,plotGlPixelRatio:void 0===u.plotGlPixelRatio?2:u.plotGlPixelRatio,displaylogo:u.displaylogo||!1,showLink:u.showLink||!1,showTips:u.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return"transparent"!==u.setBackground&&(_.config.setBackground=u.setBackground||"opaque"),_.gd.defaultLayout=M(u.tileClass),_}},7239:function(ae,B,r){"use strict";var D=r(71828),E=r(403),d=r(22435),S=r(25095);ae.exports=function(M,v){var u;return D.isPlainObject(M)||(u=D.getGraphDiv(M)),(v=v||{}).format=v.format||"png",v.width=v.width||null,v.height=v.height||null,v.imageDataOnly=!0,new Promise(function(i,s){u&&u._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),D.isIE()&&"svg"!==v.format&&s(new Error(S.MSG_IE_BAD_FORMAT)),u&&(u._snapshotInProgress=!0);var a=E(M,v),o=v.filename||M.fn||"newplot";o+="."+v.format.replace("-","."),a.then(function(l){return u&&(u._snapshotInProgress=!1),d(l,o,v.format)}).then(function(l){i(l)}).catch(function(l){u&&(u._snapshotInProgress=!1),s(l)})})}},22435:function(ae,B,r){"use strict";var D=r(71828),E=r(25095);ae.exports=function(d,S,M){var v=document.createElement("a"),u="download"in v;return new Promise(function(i,s){var a,o;return D.isIE()?(a=E.createBlob(d,"svg"),window.navigator.msSaveBlob(a,S),a=null,i(S)):u?(a=E.createBlob(d,M),o=E.createObjectURL(a),v.href=o,v.download=S,document.body.appendChild(v),v.click(),document.body.removeChild(v),E.revokeObjectURL(o),a=null,i(S)):D.isSafari()?(E.octetStream(("svg"===M?",":";base64,")+encodeURIComponent(d)),i(S)):void s(new Error("download error"))})}},25095:function(ae,B,r){"use strict";var D=r(73972);B.getDelay=function(d){return d._has&&(d._has("gl3d")||d._has("gl2d")||d._has("mapbox"))?500:0},B.getRedrawFunc=function(d){return function(){D.getComponentMethod("colorbar","draw")(d)}},B.encodeSVG=function(d){return"data:image/svg+xml,"+encodeURIComponent(d)},B.encodeJSON=function(d){return"data:application/json,"+encodeURIComponent(d)};var E=window.URL||window.webkitURL;B.createObjectURL=function(d){return E.createObjectURL(d)},B.revokeObjectURL=function(d){return E.revokeObjectURL(d)},B.createBlob=function(d,S){if("svg"===S)return new window.Blob([d],{type:"image/svg+xml;charset=utf-8"});if("full-json"===S)return new window.Blob([d],{type:"application/json;charset=utf-8"});var M=function(v){for(var u=v.length,i=new ArrayBuffer(u),s=new Uint8Array(i),a=0;a<u;a++)s[a]=v.charCodeAt(a);return i}(window.atob(d));return new window.Blob([M],{type:"image/"+S})},B.octetStream=function(d){document.location.href="data:application/octet-stream"+d},B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(ae,B,r){"use strict";var D=r(25095),E={getDelay:D.getDelay,getRedrawFunc:D.getRedrawFunc,clone:r(61914),toSVG:r(5900),svgToImg:r(70942),toImage:r(56395),downloadImage:r(7239)};ae.exports=E},70942:function(ae,B,r){"use strict";var D=r(71828),E=r(15398).EventEmitter,d=r(25095);ae.exports=function(S){var M=S.emitter||new E,v=new Promise(function(u,i){var s=window.Image,a=S.svg,o=S.format||"png";if(D.isIE()&&"svg"!==o){var l=new Error(d.MSG_IE_BAD_FORMAT);return i(l),S.promise?v:M.emit("error",l)}var c,f,g=S.canvas,h=S.scale||1,m=h*(S.width||300),b=h*(S.height||150),_=g.getContext("2d",{willReadFrequently:!0}),w=new s;"svg"===o||D.isSafari()?f=d.encodeSVG(a):(c=d.createBlob(a,"svg"),f=d.createObjectURL(c)),g.width=m,g.height=b,w.onload=function(){var A;switch(c=null,d.revokeObjectURL(f),"svg"!==o&&_.drawImage(w,0,0,m,b),o){case"jpeg":A=g.toDataURL("image/jpeg");break;case"png":A=g.toDataURL("image/png");break;case"webp":A=g.toDataURL("image/webp");break;case"svg":A=f;break;default:var p="Image format is not jpeg, png, svg or webp.";if(i(new Error(p)),!S.promise)return M.emit("error",p)}u(A),S.promise||M.emit("success",A)},w.onerror=function(A){if(c=null,d.revokeObjectURL(f),i(A),!S.promise)return M.emit("error",A)},w.src=f});return S.promise?v:M}},56395:function(ae,B,r){"use strict";var D=r(15398).EventEmitter,E=r(73972),d=r(71828),S=r(25095),M=r(61914),v=r(5900),u=r(70942);ae.exports=function(i,s){var a=new D,o=M(i,{format:"png"}),l=o.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var c=S.getRedrawFunc(l);return E.call("_doPlot",l,o.data,o.layout,o.config).then(c).then(function(){var f=S.getDelay(l._fullLayout);setTimeout(function(){var g=v(l),h=document.createElement("canvas");h.id=d.randstr(),(a=u({format:s.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:h,emitter:a,svg:g})).clean=function(){l&&document.body.removeChild(l)}},f)}).catch(function(f){a.emit("error",f)}),a}},5900:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424),S=r(7901),M=r(77922),v=/"/g,u="TOBESTRIPPED",i=new RegExp('("'+u+")|("+u+'")',"g");ae.exports=function(s,a,o){var l,c=s._fullLayout,f=c._paper,g=c._toppaper,h=c.width,T=c.height;f.insert("rect",":first-child").call(d.setRect,0,0,h,T).call(S.fill,c.paper_bgcolor);var x=c._basePlotModules||[];for(l=0;l<x.length;l++){var m=x[l];m.toSVG&&m.toSVG(s)}if(g){var b=g.node().childNodes,_=Array.prototype.slice.call(b);for(l=0;l<_.length;l++){var w=_[l];w.childNodes.length&&f.node().appendChild(w)}}c._draggers&&c._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var p=D.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){p.style({visibility:null,display:null});var I=this.style.fontFamily;I&&-1!==I.indexOf('"')&&p.style("font-family",I.replace(v,u))}else p.remove()}),f.selectAll(".gradient_filled,.pattern_filled").each(function(){var p=D.select(this),I=this.style.fill;I&&-1!==I.indexOf("url(")&&p.style("fill",I.replace(v,u));var k=this.style.stroke;k&&-1!==k.indexOf("url(")&&p.style("stroke",k.replace(v,u))}),"pdf"!==a&&"eps"!==a||f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(M.xmlns,"xmlns",M.svg),f.node().setAttributeNS(M.xmlns,"xmlns:xlink",M.xlink),"svg"===a&&o&&(f.attr("width",o*h),f.attr("height",o*T),f.attr("viewBox","0 0 "+h+" "+T));var p,I,k,A=(new window.XMLSerializer).serializeToString(f.node());return A=(A=(p=A,I=D.select("body").append("div").style({display:"none"}).html(""),k=p.replace(/(&[^;]*;)/gi,function(L){return"&lt;"===L?"&#60;":"&rt;"===L?"&#62;":-1!==L.indexOf("<")||-1!==L.indexOf(">")?"":I.html(L).text()}),I.remove(),A=k).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(i,"'"),E.isIE()&&(A=(A=(A=A.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),A}},75341:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d){for(var S=0;S<E.length;S++)E[S].i=S;D.mergeArray(d.text,E,"tx"),D.mergeArray(d.hovertext,E,"htx");var M=d.marker;if(M){D.mergeArray(M.opacity,E,"mo",!0),D.mergeArray(M.color,E,"mc");var v=M.line;v&&(D.mergeArray(v.color,E,"mlc"),D.mergeArrayCastPositive(v.width,E,"mlw"))}}},1486:function(ae,B,r){"use strict";var D=r(82196),E=r(12663).axisHoverFormat,d=r(5386).fF,S=r(5386).si,M=r(50693),v=r(41940),u=r(97313),i=r(79952).u,s=r(1426).extendFlat,a=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),o=s({},D.marker.line.width,{dflt:0}),l=s({width:o,editType:"calc"},M("marker.line")),c=s({line:l,editType:"calc"},M("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:i});ae.exports={x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),text:D.text,texttemplate:S({editType:"plot"},{keys:u.eventDataKeys}),hovertext:D.hovertext,hovertemplate:d({},{keys:u.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:s({},a,{}),insidetextfont:s({},a,{}),outsidetextfont:s({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:s({},D.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:c,offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:{marker:{opacity:D.selected.marker.opacity,color:D.selected.marker.color,editType:"style"},textfont:D.selected.textfont,editType:"style"},unselected:{marker:{opacity:D.unselected.marker.opacity,color:D.unselected.marker.color,editType:"style"},textfont:D.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),d=r(52075).hasColorscale,S=r(78803),M=r(75341),v=r(66279);ae.exports=function(u,i){var s,a,o,l,c,f,g=D.getFromId(u,i.xaxis||"x"),h=D.getFromId(u,i.yaxis||"y"),T={msUTC:!(!i.base&&0!==i.base)};"h"===i.orientation?(s=g.makeCalcdata(i,"x",T),o=h.makeCalcdata(i,"y"),l=E(i,h,"y",o),c=!!i.yperiodalignment,f="y"):(s=h.makeCalcdata(i,"y",T),o=g.makeCalcdata(i,"x"),l=E(i,g,"x",o),c=!!i.xperiodalignment,f="x"),a=l.vals;for(var x=Math.min(a.length,s.length),m=new Array(x),b=0;b<x;b++)m[b]={p:a[b],s:s[b]},c&&(m[b].orig_p=o[b],m[b][f+"End"]=l.ends[b],m[b][f+"Start"]=l.starts[b]),i.ids&&(m[b].id=String(i.ids[b]));return d(i,"marker")&&S(u,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),d(i,"marker.line")&&S(u,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),M(m,i),v(m,i),m}},97313:function(ae){"use strict";ae.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(ae,B,r){"use strict";var D=r(92770),E=r(71828).isArrayOrTypedArray,d=r(50606).BADNUM,S=r(73972),M=r(89298),v=r(99082).getAxisGroup,u=r(61546);function i(x,m,b,_,w){if(_.length){var A,p,I,k;switch(function(L,O){var P,F;for(P=0;P<O.length;P++){var j,X=O[P],N=X[0].trace,q="funnel"===N.type?N._base:N.base,G="h"===N.orientation?N.xcalendar:N.ycalendar,H="category"===L.type||"multicategory"===L.type?function(){return null}:L.d2c;if(E(q)){for(F=0;F<Math.min(q.length,X.length);F++)j=H(q[F],0,G),D(j)?(X[F].b=+j,X[F].hasB=1):X[F].b=0;for(;F<X.length;F++)X[F].b=0}else{j=H(q,0,G);var Z=D(j);for(j=Z?j:0,F=0;F<X.length;F++)X[F].b=j,Z&&(X[F].hasB=1)}}}(b,_),w.mode){case"overlay":s(m,b,_,w);break;case"group":for(A=[],p=[],I=0;I<_.length;I++)void 0===(k=_[I])[0].trace.offset?p.push(k):A.push(k);p.length&&(L=x,P=b,X=new u(p,{posAxis:O=m,sepNegVal:!1,overlapNoMerge:!(j=w).norm}),function(N,q,G,H){for(var Z=N._fullLayout,ne=G.minDiff,re=G.traces,Q=re.length,ee=G.positions.length!==G.distinctPositions.length,oe=ne*(1-H.gap),ce=v(Z,q._id)+re[0][0].trace.orientation,ue=Z._alignmentOpts[ce]||{},he=0;he<Q;he++){var ve,ke,Ie=re[he],Me=Ie[0].trace,we=Object.keys((ue[Me.alignmentgroup]||{}).offsetGroups||{}).length,ze=(ve=we?oe/we:ee?oe/Q:oe)*(1-(H.groupgap||0));ke=we?((2*Me._offsetIndex+1-we)*ve-ze)/2:ee?((2*he+1-Q)*ve-ze)/2:-ze/2;var Ee=Ie[0].t;Ee.barwidth=ze,Ee.poffset=ke,Ee.bargroupwidth=oe,Ee.bardelta=ne}G.binWidth=re[0][0].t.barwidth/100,o(G),l(q,G),c(q,G,ee)}(L,O,X,j),function(N,q){for(var G=N.traces,H=0;H<G.length;H++){var Z=G[H];if(void 0===Z[0].trace.base)for(var $=new u([Z],{posAxis:q,sepNegVal:!0,overlapNoMerge:!0}),se=0;se<Z.length;se++){var ne=Z[se];if(ne.p!==d){var re=$.put(ne.p,ne.b+ne.s);re&&(ne.b=re)}}}}(X,O),j.norm?(g(X),h(P,X,j)):f(P,X)),A.length&&s(m,b,A,w);break;case"stack":case"relative":for(A=[],p=[],I=0;I<_.length;I++)void 0===(k=_[I])[0].trace.base?p.push(k):A.push(k);p.length&&function(L,O,P,F,j){var X=new u(F,{posAxis:O,sepNegVal:"relative"===j.mode,overlapNoMerge:!(j.norm||"stack"===j.mode||"relative"===j.mode)});a(O,X,j),function(Z,$,se){var ne,re,Q,ee,oe,ce,ue=T(Z),he=$.traces;for(ee=0;ee<he.length;ee++)if("funnel"===(re=(ne=he[ee])[0].trace).type)for(oe=0;oe<ne.length;oe++)(ce=ne[oe]).s!==d&&$.put(ce.p,-.5*ce.s);for(ee=0;ee<he.length;ee++){Q="funnel"===(re=(ne=he[ee])[0].trace).type;var ve=[];for(oe=0;oe<ne.length;oe++)if((ce=ne[oe]).s!==d){var ke,Ie=$.put(ce.p,ke=Q?ce.s:ce.s+ce.b),Me=Ie+ke;ce.b=Ie,ce[ue]=Me,se.norm||(ve.push(Me),ce.hasB&&ve.push(Ie))}se.norm||(re._extremes[Z._id]=M.findExtremes(Z,ve,{tozero:!0,padded:!0}))}}(P,X,j);for(var N=0;N<F.length;N++)for(var q=F[N],G=0;G<q.length;G++){var H=q[G];H.s!==d&&H.b+H.s===X.get(H.p,H.s)&&(H._outmost=!0)}j.norm&&h(P,X,j)}(0,m,b,p,w),A.length&&s(m,b,A,w)}!function(L,O){var P,F,j,X=T(O),N={},q=1/0,G=-1/0;for(P=0;P<L.length;P++)for(j=L[P],F=0;F<j.length;F++){var H=j[F].p;D(H)&&(q=Math.min(q,H),G=Math.max(G,H))}var Z=1e4/(G-q),$=N.round=function(ce){return String(Math.round(Z*(ce-q)))};for(P=0;P<L.length;P++){(j=L[P])[0].t.extents=N;var se=j[0].t.poffset,ne=Array.isArray(se);for(F=0;F<j.length;F++){var re=j[F],Q=re[X]-re.w/2;if(D(Q)){var ee=re[X]+re.w/2,oe=$(re.p);N[oe]=N[oe]?[Math.min(Q,N[oe][0]),Math.max(ee,N[oe][1])]:[Q,ee]}re.p0=re.p+(ne?se[F]:se),re.p1=re.p0+re.w,re.s0=re.b,re.s1=re.s0+re.s}}}(_,m)}var L,O,P,j,X}function s(x,m,b,_){for(var w=0;w<b.length;w++){var p=new u([b[w]],{posAxis:x,sepNegVal:!1,overlapNoMerge:!_.norm});a(x,p,_),_.norm?(g(p),h(m,p,_)):f(m,p)}}function a(x,m,b){for(var _=m.minDiff,w=m.traces,A=_*(1-b.gap),p=A*(1-(b.groupgap||0)),I=-p/2,k=0;k<w.length;k++){var L=w[k][0].t;L.barwidth=p,L.poffset=I,L.bargroupwidth=A,L.bardelta=_}m.binWidth=w[0][0].t.barwidth/100,o(m),l(x,m),c(x,m)}function o(x){var m,b,_=x.traces;for(m=0;m<_.length;m++){var w,A=_[m],p=A[0],I=p.trace,k=p.t,L=I._offset||I.offset,O=k.poffset;if(E(L)){for(w=Array.prototype.slice.call(L,0,A.length),b=0;b<w.length;b++)D(w[b])||(w[b]=O);for(b=w.length;b<A.length;b++)w.push(O);k.poffset=w}else void 0!==L&&(k.poffset=L);var P=I._width||I.width,F=k.barwidth;if(E(P)){var j=Array.prototype.slice.call(P,0,A.length);for(b=0;b<j.length;b++)D(j[b])||(j[b]=F);for(b=j.length;b<A.length;b++)j.push(F);if(k.barwidth=j,void 0===L){for(w=[],b=0;b<A.length;b++)w.push(O+(F-j[b])/2);k.poffset=w}}else void 0!==P&&(k.barwidth=P,void 0===L&&(k.poffset=O+(F-P)/2))}}function l(x,m){for(var b=m.traces,_=T(x),w=0;w<b.length;w++)for(var A=b[w],p=A[0].t,I=p.poffset,k=Array.isArray(I),L=p.barwidth,O=Array.isArray(L),P=0;P<A.length;P++){var F=A[P],j=F.w=O?L[P]:L;void 0===F.p&&(F.p=F[_],F["orig_"+_]=F[_]),F[_]=F.p+((k?I[P]:I)+j/2)}}function c(x,m,b){var _=m.traces,w=m.minDiff/2;M.minDtick(x,m.minDiff,m.distinctPositions[0],b);for(var A=0;A<_.length;A++){var p,I,k,L,O=_[A],P=O[0],F=P.trace,j=[];for(L=0;L<O.length;L++)I=(p=O[L]).p-w,j.push(I,k=p.p+w);if(F.width||F.offset){var X=P.t,N=X.poffset,q=X.barwidth,G=Array.isArray(N),H=Array.isArray(q);for(L=0;L<O.length;L++)k=(I=(p=O[L]).p+(G?N[L]:N))+(H?q[L]:q),j.push(I,k)}F._extremes[x._id]=M.findExtremes(x,j,{padded:!1})}}function f(x,m){for(var b=m.traces,_=T(x),w=0;w<b.length;w++){for(var A=b[w],p=A[0].trace,I="scatter"===p.type,k="v"===p.orientation,L=[],O=!1,P=0;P<A.length;P++){var F=A[P],j=I?0:F.b,X=I?k?F.y:F.x:j+F.s;F[_]=X,L.push(X),F.hasB&&L.push(j),F.hasB&&F.b||(O=!0)}p._extremes[x._id]=M.findExtremes(x,L,{tozero:O,padded:!0})}}function g(x){for(var m=x.traces,b=0;b<m.length;b++)for(var _=m[b],w=0;w<_.length;w++){var A=_[w];A.s!==d&&x.put(A.p,A.b+A.s)}}function h(x,m,b){var _=m.traces,w=T(x),A="fraction"===b.norm?1:100,p=A/1e9,I=x.l2c(x.c2l(0)),k="stack"===b.mode?A:I;function L(se){return D(x.c2l(se))&&(se<I-p||se>k+p||!D(I))}for(var O=0;O<_.length;O++){for(var P=_[O],F=P[0].trace,j=[],X=!1,N=!1,q=0;q<P.length;q++){var G=P[q];if(G.s!==d){var H=Math.abs(A/m.get(G.p,G.s));G.b*=H,G.s*=H;var Z=G.b,$=Z+G.s;G[w]=$,j.push($),N=N||L($),G.hasB&&(j.push(Z),N=N||L(Z)),G.hasB&&G.b||(X=!0)}}F._extremes[x._id]=M.findExtremes(x,j,{tozero:X,padded:N})}}function T(x){return x._id.charAt(0)}ae.exports={crossTraceCalc:function(x,m){for(var b=m.xaxis,_=m.yaxis,w=x._fullLayout,A=x._fullData,p=x.calcdata,I=[],k=[],L=0;L<A.length;L++){var O=A[L];if(!0===O.visible&&S.traceIs(O,"bar")&&O.xaxis===b._id&&O.yaxis===_._id&&("h"===O.orientation?I.push(p[L]):k.push(p[L]),O._computePh))for(var P=x.calcdata[L],F=0;F<P.length;F++)"function"==typeof P[F].ph0&&(P[F].ph0=P[F].ph0()),"function"==typeof P[F].ph1&&(P[F].ph1=P[F].ph1())}var j={xCat:"category"===b.type||"multicategory"===b.type,yCat:"category"===_.type||"multicategory"===_.type,mode:w.barmode,norm:w.barnorm,gap:w.bargap,groupgap:w.bargroupgap};i(x,b,_,k,j),i(x,_,b,I,j)},setGroupPositions:i}},90769:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(73972),S=r(67513),M=r(73927),v=r(98340),u=r(26125),i=r(1486),s=D.coerceFont;function a(o,l,c,f,g,h){var T=!1!==(h=h||{}).moduleHasSelected,x=!1!==h.moduleHasUnselected,m=!1!==h.moduleHasConstrain,b=!1!==h.moduleHasCliponaxis,_=!1!==h.moduleHasTextangle,w=!1!==h.moduleHasInsideanchor,A=!!h.hasPathbar,p=Array.isArray(g)||"auto"===g,I=p||"inside"===g,k=p||"outside"===g;if(I||k){var L=s(f,"textfont",c.font),O=D.extendFlat({},L),P=!(o.textfont&&o.textfont.color);if(P&&delete O.color,s(f,"insidetextfont",O),A){var F=D.extendFlat({},L);P&&delete F.color,s(f,"pathbar.textfont",F)}k&&s(f,"outsidetextfont",L),T&&f("selected.textfont.color"),x&&f("unselected.textfont.color"),m&&f("constraintext"),b&&f("cliponaxis"),_&&f("textangle"),f("texttemplate")}I&&w&&f("insidetextanchor")}ae.exports={supplyDefaults:function(o,l,c,f){function g(m,b){return D.coerce(o,l,i,m,b)}if(S(o,l,f,g)){M(o,l,f,g),g("xhoverformat"),g("yhoverformat"),g("orientation",l.x&&!l.y?"h":"v"),g("base"),g("offset"),g("width"),g("text"),g("hovertext"),g("hovertemplate");var h=g("textposition");a(o,0,f,g,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(o,l,g,c,f);var T=(l.marker.line||{}).color,x=d.getComponentMethod("errorbars","supplyDefaults");x(o,l,T||E.defaultLine,{axis:"y"}),x(o,l,T||E.defaultLine,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(l,g)}else l.visible=!1},crossTraceDefaults:function(o,l){var f;function g(T){return D.coerce(f._input,f,i,T)}if("group"===l.barmode)for(var h=0;h<o.length;h++)"bar"===(f=o[h]).type&&u(f._input,f,l,g)},handleText:a}},58065:function(ae){"use strict";ae.exports=function(B,r,D){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),"h"===D.orientation?(B.label=B.y,B.value=B.x):(B.label=B.x,B.value=B.y),B}},69383:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),d=r(71828).isArrayOrTypedArray;B.coerceString=function(S,M,v){if("string"==typeof M){if(M||!S.noBlank)return M}else if(("number"==typeof M||!0===M)&&!S.strict)return String(M);return void 0!==v?v:S.dflt},B.coerceNumber=function(S,M,v){if(D(M)){M=+M;var u=S.min,i=S.max;if(!(void 0!==u&&M<u||void 0!==i&&M>i))return M}return void 0!==v?v:S.dflt},B.coerceColor=function(S,M,v){return E(M).isValid()?M:void 0!==v?v:S.dflt},B.coerceEnumerated=function(S,M,v){return S.coerceNumber&&(M=+M),-1!==S.values.indexOf(M)?M:void 0!==v?v:S.dflt},B.getValue=function(S,M){var v;return Array.isArray(S)?M<S.length&&(v=S[M]):v=S,v},B.getLineWidth=function(S,M){return 0<M.mlw?M.mlw:d(S.marker.line.width)?0:S.marker.line.width}},95423:function(ae,B,r){"use strict";var D=r(30211),E=r(73972),d=r(7901),S=r(71828).fillText,M=r(69383).getLineWidth,v=r(89298).hoverLabelText,u=r(50606).BADNUM;function i(a,o,l,c,f){var g,h,T,x,m,b,_,w=a.cd,A=w[0].trace,p=w[0].t,I="closest"===c,k="waterfall"===A.type,L=a.maxHoverDistance,O=a.maxSpikeDistance;"h"===A.orientation?(g=l,h=o,T="y",x="x",m=ne,b=$):(g=o,h=l,T="x",x="y",b=ne,m=$);var P=A[T+"period"],F=I||P;function j(ve){return N(ve,-1)}function X(ve){return N(ve,1)}function N(ve,ke){return ve[T]+ke*ve.w/2}function q(ve){return ve[T+"End"]-ve[T+"Start"]}var G=I?j:P?function(ve){return ve.p-q(ve)/2}:function(ve){return Math.min(j(ve),ve.p-p.bardelta/2)},H=I?X:P?function(ve){return ve.p+q(ve)/2}:function(ve){return Math.max(X(ve),ve.p+p.bardelta/2)};function Z(ve,ke,Ie){return f.finiteRange&&(Ie=0),D.inbox(ve-g,ke-g,Ie+Math.min(1,Math.abs(ke-ve)/_)-1)}function $(ve){return Z(G(ve),H(ve),L)}function se(ve){var ke=ve[x];if(k){var Ie=Math.abs(ve.rawS)||0;h>0?ke+=Ie:h<0&&(ke-=Ie)}return ke}function ne(ve){var ke=h,Ie=ve.b,Me=se(ve);return D.inbox(Ie-ke,Me-ke,L+(Me-ke)/(Me-Ie)-1)}var re=a[T+"a"],Q=a[x+"a"];_=Math.abs(re.r2c(re.range[1])-re.r2c(re.range[0]));var ve,ke,Ie,Me,ee=D.getDistanceFunction(c,m,b,function(ve){return(m(ve)+b(ve))/2});if(D.getClosest(w,ee,a),!1!==a.index&&w[a.index].p!==u){F||(G=function(ve){return Math.min(j(ve),ve.p-p.bargroupwidth/2)},H=function(ve){return Math.max(X(ve),ve.p+p.bargroupwidth/2)});var oe=w[a.index],ce=A.base?oe.b+oe.s:oe.s;a[x+"0"]=a[x+"1"]=Q.c2p(oe[x],!0),a[x+"LabelVal"]=ce;var ue=p.extents[p.extents.round(oe.p)];return a[T+"0"]=re.c2p(I?G(oe):ue[0],!0),a[T+"1"]=re.c2p(I?H(oe):ue[1],!0),a[T+"LabelVal"]=void 0!==oe.orig_p?oe.orig_p:oe.p,a.labelLabel=v(re,a[T+"LabelVal"],A[T+"hoverformat"]),a.valueLabel=v(Q,a[x+"LabelVal"],A[x+"hoverformat"]),a.baseLabel=v(Q,oe.b,A[x+"hoverformat"]),a.spikeDistance=(ke=h,Ie=(ve=oe).b,Me=se(ve),(D.inbox(Ie-ke,Me-ke,O+(Me-ke)/(Me-Ie)-1)+function(ve){return Z(j(ve),X(ve),O)}(oe))/2),a[T+"Spike"]=re.c2p(oe.p,!0),S(oe,A,a),a.hovertemplate=A.hovertemplate,a}}function s(a,o){var l=o.mcc||a.marker.color,c=o.mlcc||a.marker.line.color,f=M(a,o);return d.opacity(l)?l:d.opacity(c)&&f?c:void 0}ae.exports={hoverPoints:function(a,o,l,c,f){var g=i(a,o,l,c,f);if(g){var h=g.cd,T=h[0].trace,x=h[g.index];return g.color=s(T,x),E.getComponentMethod("errorbars","hoverInfo")(x,T,g),[g]}},hoverOnBars:i,getTraceColor:s}},60822:function(ae,B,r){"use strict";ae.exports={attributes:r(1486),layoutAttributes:r(43641),supplyDefaults:r(90769).supplyDefaults,crossTraceDefaults:r(90769).crossTraceDefaults,supplyLayoutDefaults:r(13957),calc:r(92290),crossTraceCalc:r(11661).crossTraceCalc,colorbar:r(4898),arraysToCalcdata:r(75341),plot:r(17295).plot,style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(95423).hoverPoints,eventData:r(58065),selectPoints:r(81974),moduleType:"trace",name:"bar",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(ae){"use strict";ae.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(ae,B,r){"use strict";var D=r(73972),E=r(89298),d=r(71828),S=r(43641);ae.exports=function(M,v,u){function i(T,x){return d.coerce(M,v,S,T,x)}for(var s=!1,a=!1,o=!1,l={},c=i("barmode"),f=0;f<u.length;f++){var g=u[f];if(D.traceIs(g,"bar")&&g.visible){if(s=!0,"group"===c){var h=g.xaxis+g.yaxis;l[h]&&(o=!0),l[h]=!0}g.visible&&"histogram"===g.type&&"category"!==E.getFromId({_fullLayout:v},g["v"===g.orientation?"xaxis":"yaxis"]).type&&(a=!0)}}s?("overlay"!==c&&i("barnorm"),i("bargap",a&&!o?0:.2),i("bargroupgap")):delete v.barmode}},17295:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(71828),S=r(63893),M=r(7901),v=r(91424),u=r(73972),i=r(89298).tickText,s=r(72597),a=s.recordMinTextSize,o=s.clearMinTextSize,l=r(16688),c=r(69383),f=r(97313),g=r(1486),h=g.text,T=g.textposition,x=r(23469).appendArrayPointValue,m=f.TEXTPAD;function b(O){return O.id}function w(O,P){return O<P?1:-1}function A(O,P,F,j){var X;return!P.uniformtext.mode&&p(F)?(j&&(X=j()),O.transition().duration(F.duration).ease(F.easing).each("end",function(){X&&X()}).each("interrupt",function(){X&&X()})):O}function p(O){return O&&O.duration>0}function I(O){return"auto"===O?0:O}function k(O,P){var F=Math.PI/180*P,j=Math.abs(Math.sin(F)),X=Math.abs(Math.cos(F));return{x:O.width*X+O.height*j,y:O.width*j+O.height*X}}function L(O,P,F,j,X,N){var q=!!N.isHorizontal,G=!!N.constrained,H=N.angle||0,Z=N.anchor||"end",$="end"===Z,se="start"===Z,ne=((N.leftToRight||0)+1)/2,re=1-ne,Q=X.width,ee=X.height,oe=Math.abs(P-O),ce=Math.abs(j-F),ue=oe>2*m&&ce>2*m?m:0;oe-=2*ue,ce-=2*ue;var he=I(H);"auto"!==H||Q<=oe&&ee<=ce||!(Q>oe||ee>ce)||(Q>ce||ee>oe)&&Q<ee==oe<ce||(he+=90);var ve=k(X,he),ke=1;G&&(ke=Math.min(1,oe/ve.x,ce/ve.y));var Ie=X.left*re+X.right*ne,Me=(X.top+X.bottom)/2,_e=(O+m)*re+(P-m)*ne,we=(F+j)/2,ze=0,Ee=0;if(se||$){var Se=(q?ve.x:ve.y)/2,me=q?w(O,P):w(F,j);q?se?(_e=O+me*ue,ze=-me*Se):(_e=P-me*ue,ze=me*Se):se?(we=F+me*ue,Ee=-me*Se):(we=j-me*ue,Ee=me*Se)}return{textX:Ie,textY:Me,targetX:_e,targetY:we,anchorX:ze,anchorY:Ee,scale:ke,rotate:he}}ae.exports={plot:function(O,P,F,j,X,N){var q=P.xaxis,G=P.yaxis,H=O._fullLayout,Z=O._context.staticPlot;X||(X={mode:H.barmode,norm:H.barmode,gap:H.bargap,groupgap:H.bargroupgap},o("bar",H));var $=d.makeTraceGroups(j,F,"trace bars").each(function(se){var ne=D.select(this),re=se[0].trace,oe="bar"===re.type||"funnel"===re.type,ce=0;"waterfall"===re.type&&re.connector.visible&&"between"===re.connector.mode&&(ce=re.connector.line.width/2);var ue="h"===re.orientation,he=p(X),ve=d.ensureSingle(ne,"g","points"),ke=function _(O){if(O.ids)return b}(re),Ie=ve.selectAll("g.point").data(d.identity,ke);Ie.enter().append("g").classed("point",!0),Ie.exit().remove(),Ie.each(function(_e,we){var ze,Ee,Be,qe,He,Je,et,st,pt,ct,Se=D.select(this),me=(qe=q,He=G,st=[],ct=(Je=ue)?He:qe,(et=[])[0]=(pt=Je?qe:He).c2p((Be=_e).s0,!0),st[0]=ct.c2p(Be.p0,!0),et[1]=pt.c2p(Be.s1,!0),st[1]=ct.c2p(Be.p1,!0),Je?[et,st]:[st,et]),fe=me[0][0],le=me[0][1],Te=me[1][0],Re=me[1][1],De=0==(ue?le-fe:Re-Te);if(De&&oe&&c.getLineWidth(re,_e)&&(De=!1),De||(De=!(E(fe)&&E(le)&&E(Te)&&E(Re))),_e.isBlank=De,De&&(ue?le=fe:Re=Te),ce&&!De&&(ue?(fe-=w(fe,le)*ce,le+=w(fe,le)*ce):(Te-=w(Te,Re)*ce,Re+=w(Te,Re)*ce)),"waterfall"===re.type){if(!De){var Ue=re[_e.dir].marker;ze=Ue.line.width,Ee=Ue.color}}else ze=c.getLineWidth(re,_e),Ee=_e.mc||re.marker.color;function Ze(Be){var qe=D.round(ze/2%1,2);return 0===X.gap&&0===X.groupgap?D.round(Math.round(Be)-qe,2):Be}if(!O._context.staticPlot){var xe=M.opacity(Ee)<1||ze>.01?Ze:function(Be,qe,He){return He&&Be===qe?Be:Math.abs(Be-qe)>=2?Ze(Be):Be>qe?Math.ceil(Be):Math.floor(Be)};fe=xe(fe,le,ue),le=xe(le,fe,ue),Te=xe(Te,Re,!ue),Re=xe(Re,Te,!ue)}var Oe=A(d.ensureSingle(Se,"path"),H,X,N);if(Oe.style("vector-effect",Z?"none":"non-scaling-stroke").attr("d",isNaN((le-fe)*(Re-Te))||De&&O._context.staticPlot?"M0,0Z":"M"+fe+","+Te+"V"+Re+"H"+le+"V"+Te+"Z").call(v.setClipUrl,P.layerClipId,O),!H.uniformtext.mode&&he){var Ce=v.makePointStyleFns(re);v.singlePointStyle(_e,Oe,re,Ce,O)}(function(Be,qe,He,Je,et,st,pt,ct,St,Dt,vt){var gt,Et=qe.xaxis,Pt=qe.yaxis,Ot=Be._fullLayout;function Ht(dn,nn,cn){return d.ensureSingle(dn,"text").text(nn).attr({class:"bartext bartext-"+gt,"text-anchor":"middle","data-notex":1}).call(v.font,cn).call(S.convertToTspans,Be)}var nn,cn,rn,En,Pn,Mn,zt=Je[0].trace,nt="h"===zt.orientation,it=(cn=et,rn=Et,En=Pt,Pn=(Mn=(nn=Je)[0].trace).texttemplate?function(en,gn,an,yn,kn){var Ln=gn[0].trace,Rn=d.castOption(Ln,an,"texttemplate");if(!Rn)return"";var Wn,Cn,Zn,mr,lr="histogram"===Ln.type,er="waterfall"===Ln.type,xr="funnel"===Ln.type,dr="h"===Ln.orientation;function jr(Kn){return i(mr,mr.c2l(Kn),!0).text}dr?(Wn="y",Cn=kn,Zn="x",mr=yn):(Wn="x",Cn=yn,Zn="y",mr=kn);var qt=gn[an],Tn={};Tn.label=qt.p,Tn.labelLabel=Tn[Wn+"Label"]=i(Cn,Cn.c2l(qt.p),!0).text;var xn=d.castOption(Ln,qt.i,"text");(0===xn||xn)&&(Tn.text=xn),Tn.value=qt.s,Tn.valueLabel=Tn[Zn+"Label"]=jr(qt.s);var In={};x(In,Ln,qt.i),(lr||void 0===In.x)&&(In.x=dr?Tn.value:Tn.label),(lr||void 0===In.y)&&(In.y=dr?Tn.label:Tn.value),(lr||void 0===In.xLabel)&&(In.xLabel=dr?Tn.valueLabel:Tn.labelLabel),(lr||void 0===In.yLabel)&&(In.yLabel=dr?Tn.labelLabel:Tn.valueLabel),er&&(Tn.delta=+qt.rawS||qt.s,Tn.deltaLabel=jr(Tn.delta),Tn.final=qt.v,Tn.finalLabel=jr(Tn.final),Tn.initial=Tn.final-Tn.delta,Tn.initialLabel=jr(Tn.initial)),xr&&(Tn.value=qt.s,Tn.valueLabel=jr(Tn.value),Tn.percentInitial=qt.begR,Tn.percentInitialLabel=d.formatPercent(qt.begR),Tn.percentPrevious=qt.difR,Tn.percentPreviousLabel=d.formatPercent(qt.difR),Tn.percentTotal=qt.sumR,Tn.percenTotalLabel=d.formatPercent(qt.sumR));var cr=d.castOption(Ln,qt.i,"customdata");return cr&&(Tn.customdata=cr),d.texttemplateString(Rn,Tn,en._d3locale,In,Tn,Ln._meta||{})}(Ot,nn,cn,rn,En):Mn.textinfo?function(en,gn,an,yn){var kn=en[0].trace,Ln="h"===kn.orientation,Rn="waterfall"===kn.type,Wn="funnel"===kn.type;function Cn(cr){return i(Ln?an:yn,+cr,!0).text}var Zn,er=en[gn],xr=kn.textinfo.split("+"),dr=[],jr=function(cr){return-1!==xr.indexOf(cr)};if(jr("label")&&dr.push(i(Ln?yn:an,en[gn].p,!0).text),jr("text")&&(0===(Zn=d.castOption(kn,er.i,"text"))||Zn)&&dr.push(Zn),Rn){var Kt=+er.rawS||er.s,qt=er.v,Tn=qt-Kt;jr("initial")&&dr.push(Cn(Tn)),jr("delta")&&dr.push(Cn(Kt)),jr("final")&&dr.push(Cn(qt))}if(Wn){jr("value")&&dr.push(Cn(er.s));var xn=0;jr("percent initial")&&xn++,jr("percent previous")&&xn++,jr("percent total")&&xn++;var In=xn>1;jr("percent initial")&&(Zn=d.formatPercent(er.begR),In&&(Zn+=" of initial"),dr.push(Zn)),jr("percent previous")&&(Zn=d.formatPercent(er.difR),In&&(Zn+=" of previous"),dr.push(Zn)),jr("percent total")&&(Zn=d.formatPercent(er.sumR),In&&(Zn+=" of total"),dr.push(Zn))}return dr.join("<br>")}(nn,cn,rn,En):c.getValue(Mn.text,cn),c.coerceString(h,Pn));gt=function(dn,nn){var cn=c.getValue(dn.textposition,nn);return c.coerceEnumerated(T,cn)}(zt,et);var rt=Je[et],ft=!("stack"===Dt.mode||"relative"===Dt.mode)||rt._outmost;if(it&&"none"!==gt&&(!rt.isBlank&&st!==pt&&ct!==St||"auto"!==gt&&"inside"!==gt)){var ht=Ot.font,Ve=l.getBarColor(Je[et],zt),Ge=l.getInsideTextFont(zt,et,ht,Ve),ut=l.getOutsideTextFont(zt,et,ht),dt=He.datum();nt?"log"===Et.type&&dt.s0<=0&&(st=Et.range[0]<Et.range[1]?0:Et._length):"log"===Pt.type&&dt.s0<=0&&(ct=Pt.range[0]<Pt.range[1]?Pt._length:0);var kt,bt,At,xt,Rt,_t=Math.abs(pt-st)-2*m,Tt=Math.abs(St-ct)-2*m;if("outside"===gt&&(ft||rt.hasB||(gt="inside")),"auto"===gt&&(ft?(gt="inside",kt=Ht(He,it,Rt=d.ensureUniformFontSize(Be,Ge)),At=(bt=v.bBox(kt.node())).width,xt=bt.height,At>0&&xt>0&&(At<=_t&&xt<=Tt||At<=Tt&&xt<=_t||(nt?_t>=At*(Tt/xt):Tt>=xt*(_t/At)))?gt="inside":(gt="outside",kt.remove(),kt=null)):gt="inside"),!kt){var It=(kt=Ht(He,it,Rt=d.ensureUniformFontSize(Be,"outside"===gt?ut:Ge))).attr("transform");if(kt.attr("transform",""),At=(bt=v.bBox(kt.node())).width,xt=bt.height,kt.attr("transform",It),At<=0||xt<=0)return void kt.remove()}var Wt,Zt=zt.textangle;Wt="outside"===gt?function(dn,nn,cn,rn,En,Pn){var Mn,en=!!Pn.isHorizontal,gn=!!Pn.constrained,an=Pn.angle||0,yn=En.width,kn=En.height,Ln=Math.abs(nn-dn),Rn=Math.abs(rn-cn);Mn=en?Rn>2*m?m:0:Ln>2*m?m:0;var Wn=1;gn&&(Wn=en?Math.min(1,Rn/kn):Math.min(1,Ln/yn));var Cn=I(an),Zn=k(En,Cn),mr=(en?Zn.x:Zn.y)/2,lr=(En.left+En.right)/2,er=(En.top+En.bottom)/2,xr=(dn+nn)/2,dr=(cn+rn)/2,jr=0,Kt=0,qt=en?w(nn,dn):w(cn,rn);return en?(xr=nn-qt*Mn,jr=qt*mr):(dr=rn+qt*Mn,Kt=-qt*mr),{textX:lr,textY:er,targetX:xr,targetY:dr,anchorX:jr,anchorY:Kt,scale:Wn,rotate:Cn}}(st,pt,ct,St,bt,{isHorizontal:nt,constrained:"both"===zt.constraintext||"outside"===zt.constraintext,angle:Zt}):L(st,pt,ct,St,bt,{isHorizontal:nt,constrained:"both"===zt.constraintext||"inside"===zt.constraintext,angle:Zt,anchor:zt.insidetextanchor}),Wt.fontSize=Rt.size,a("histogram"===zt.type?"bar":zt.type,Wt,Ot),rt.transform=Wt;var $t=A(kt,Ot,Dt,vt);d.setTransormAndDisplay($t,Wt)}else He.select("text").remove()})(O,P,Se,se,we,fe,le,Te,Re,X,N),P.layerClipId&&v.hideOutsideRangePoint(_e,Se.select("text"),q,G,re.xcalendar,re.ycalendar)}),v.setClipUrl(ne,!1===re.cliponaxis?null:P.layerClipId,O)});u.getComponentMethod("errorbars","plot")(O,$,P,X)},toMoveInsideBar:L}},81974:function(ae){"use strict";function B(r,D,E,d,S){var M=D.c2p(d?r.s0:r.p0,!0),v=D.c2p(d?r.s1:r.p1,!0),u=E.c2p(d?r.p0:r.s0,!0),i=E.c2p(d?r.p1:r.s1,!0);return S?[(M+v)/2,(u+i)/2]:d?[v,(u+i)/2]:[(M+v)/2,i]}ae.exports=function(r,D){var E,d=r.cd,S=r.xaxis,M=r.yaxis,v=d[0].trace,u="funnel"===v.type,i="h"===v.orientation,s=[];if(!1===D)for(E=0;E<d.length;E++)d[E].selected=0;else for(E=0;E<d.length;E++){var a=d[E],o="ct"in a?a.ct:B(a,S,M,i,u);D.contains(o,!1,E,r)?(s.push({pointNumber:E,x:S.c2d(a.x),y:M.c2d(a.y)}),a.selected=1):a.selected=0}return s}},61546:function(ae,B,r){"use strict";ae.exports=E;var D=r(71828).distinctVals;function E(d,S){this.traces=d,this.sepNegVal=S.sepNegVal,this.overlapNoMerge=S.overlapNoMerge;for(var M=1/0,v=S.posAxis._id.charAt(0),u=[],i=0;i<d.length;i++){for(var s=d[i],a=0;a<s.length;a++){var o=s[a],l=o.p;void 0===l&&(l=o[v]),void 0!==l&&u.push(l)}s[0]&&s[0].width1&&(M=Math.min(s[0].width1,M))}this.positions=u;var c=D(u);this.distinctPositions=c.vals,this.minDiff=1===c.vals.length&&M!==1/0?M:Math.min(c.minDiff,M);var f=(S.posAxis||{}).type;"category"!==f&&"multicategory"!==f||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}E.prototype.put=function(d,S){var M=this.getLabel(d,S),v=this.bins[M]||0;return this.bins[M]=v+S,v},E.prototype.get=function(d,S){var M=this.getLabel(d,S);return this.bins[M]||0},E.prototype.getLabel=function(d,S){return(S<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?d:Math.round(d/this.binWidth))}},16688:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),d=r(91424),S=r(71828),M=r(73972),v=r(72597).resizeText,u=r(1486),i=u.textfont,s=u.insidetextfont,a=u.outsidetextfont,o=r(69383);function l(b,_,w){d.pointStyle(b.selectAll("path"),_,w),c(b,_,w)}function c(b,_,w){b.selectAll("text").each(function(A){var p=D.select(this),I=S.ensureUniformFontSize(w,f(p,A,_,w));d.font(p,I)})}function f(b,_,w,A){var p=A._fullLayout.font,I=w.textfont;if(b.classed("bartext-inside")){var k=m(_,w);I=h(w,_.i,p,k)}else b.classed("bartext-outside")&&(I=T(w,_.i,p));return I}function g(b,_,w){return x(i,b.textfont,_,w)}function h(b,_,w,A){var p=g(b,_,w);return(void 0===b._input.textfont||void 0===b._input.textfont.color||Array.isArray(b.textfont.color)&&void 0===b.textfont.color[_])&&(p={color:E.contrast(A),family:p.family,size:p.size}),x(s,b.insidetextfont,_,p)}function T(b,_,w){var A=g(b,_,w);return x(a,b.outsidetextfont,_,A)}function x(b,_,w,A){var p=o.getValue((_=_||{}).family,w),I=o.getValue(_.size,w),k=o.getValue(_.color,w);return{family:o.coerceString(b.family,p,A.family),size:o.coerceNumber(b.size,I,A.size),color:o.coerceColor(b.color,k,A.color)}}function m(b,_){return"waterfall"===_.type?_[b.dir].marker.color:b.mcc||b.mc||_.marker.color}ae.exports={style:function(b){var _=D.select(b).selectAll("g.barlayer").selectAll("g.trace");v(b,_,"bar");var w=_.size(),A=b._fullLayout;_.style("opacity",function(p){return p[0].trace.opacity}).each(function(p){("stack"===A.barmode&&w>1||0===A.bargap&&0===A.bargroupgap&&!p[0].trace.marker.line.width)&&D.select(this).attr("shape-rendering","crispEdges")}),_.selectAll("g.points").each(function(p){l(D.select(this),p[0].trace,b)}),M.getComponentMethod("errorbars","style")(_)},styleTextPoints:c,styleOnSelect:function(b,_,w){var p,I,k,L,O,P,A=_[0].trace;A.selectedpoints?(I=A,k=b,d.selectedPointStyle((p=w).selectAll("path"),I),L=p.selectAll("text"),O=I,P=k,L.each(function(F){var j,X=D.select(this);if(F.selected){j=S.ensureUniformFontSize(P,f(X,F,O,P));var N=O.selected.textfont&&O.selected.textfont.color;N&&(j.color=N),d.font(X,j)}else d.selectedTextStyle(X,O)})):(l(w,A,b),M.getComponentMethod("errorbars","style")(w))},getInsideTextFont:h,getOutsideTextFont:T,getBarColor:m,resizeText:v}},98340:function(ae,B,r){"use strict";var D=r(7901),E=r(52075).hasColorscale,d=r(1586),S=r(71828).coercePattern;ae.exports=function(M,v,u,i,s){var a=u("marker.color",i),o=E(M,"marker");o&&d(M,v,s,u,{prefix:"marker.",cLetter:"c"}),u("marker.line.color",D.defaultLine),E(M,"marker.line")&&d(M,v,s,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width"),u("marker.opacity"),S(u,"marker.pattern",a,o),u("selected.marker.color"),u("unselected.marker.color")}},72597:function(ae,B,r){"use strict";var D=r(39898),E=r(71828);function d(S){return"_"+S+"Text_minsize"}ae.exports={recordMinTextSize:function(S,M,v){if(v.uniformtext.mode){var u=d(S),i=v.uniformtext.minsize,s=M.scale*M.fontSize;M.hide=s<i,v[u]=v[u]||1/0,M.hide||(v[u]=Math.min(v[u],Math.max(s,i)))}},clearMinTextSize:function(S,M){M[d(S)]=void 0},resizeText:function(S,M,v){var u=S._fullLayout,i=u["_"+v+"Text_minsize"];if(i){var s,a="hide"===u.uniformtext.mode;switch(v){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}M.selectAll(s).each(function(o){var l=o.transform;if(l){l.scale=a&&l.hide?0:i/l.fontSize;var c=D.select(this).select("text");E.setTransormAndDisplay(c,l)}})}}}},55023:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(1426).extendFlat,d=r(81245),S=r(1486);ae.exports={r:d.r,theta:d.theta,r0:d.r0,dr:d.dr,theta0:d.theta0,dtheta:d.dtheta,thetaunit:d.thetaunit,base:E({},S.base,{}),offset:E({},S.offset,{}),width:E({},S.width,{}),text:E({},S.text,{}),hovertext:E({},S.hovertext,{}),marker:S.marker,hoverinfo:d.hoverinfo,hovertemplate:D(),selected:S.selected,unselected:S.unselected}},74692:function(ae,B,r){"use strict";var D=r(52075).hasColorscale,E=r(78803),d=r(75341),S=r(11661).setGroupPositions,M=r(66279),v=r(73972).traceIs,u=r(71828).extendFlat;ae.exports={calc:function(i,s){for(var a=i._fullLayout,o=s.subplot,c=a[o].angularaxis,f=a[o].radialaxis.makeCalcdata(s,"r"),g=c.makeCalcdata(s,"theta"),h=s._length,T=new Array(h),x=f,m=g,b=0;b<h;b++)T[b]={p:m[b],s:x[b]};function _(w){var A=s[w];void 0!==A&&(s["_"+w]=Array.isArray(A)?c.makeCalcdata(s,w):c.d2c(A,s.thetaunit))}return"linear"===c.type&&(_("width"),_("offset")),D(s,"marker")&&E(i,s,{vals:s.marker.color,containerStr:"marker",cLetter:"c"}),D(s,"marker.line")&&E(i,s,{vals:s.marker.line.color,containerStr:"marker.line",cLetter:"c"}),d(T,s),M(T,s),T},crossTraceCalc:function(i,s,a){for(var o=i.calcdata,l=[],c=0;c<o.length;c++){var f=o[c],g=f[0].trace;!0===g.visible&&v(g,"bar")&&g.subplot===a&&l.push(f)}var h=u({},s.radialaxis,{_id:"x"});S(i,s.angularaxis,h,l,{mode:s.barmode,norm:s.barnorm,gap:s.bargap,groupgap:s.bargroupgap})}}},6135:function(ae,B,r){"use strict";var D=r(71828),E=r(22184).handleRThetaDefaults,d=r(98340),S=r(55023);ae.exports=function(M,v,u,i){function s(a,o){return D.coerce(M,v,S,a,o)}E(M,v,i,s)?(s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),d(M,v,s,u,i),D.coerceSelectionMarkerOpacity(v,s)):v.visible=!1}},27379:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),d=r(95423).getTraceColor,S=E.fillText,M=r(59150).makeHoverPointText,v=r(10869).isPtInsidePolygon;ae.exports=function(u,i,s){var a=u.cd,o=a[0].trace,l=u.subplot,c=l.radialAxis,g=l.vangles,h=g?v:E.isPtInsideSector,T=u.maxHoverDistance,x=l.angularAxis._period||2*Math.PI,m=Math.abs(c.g2p(Math.sqrt(i*i+s*s))),b=Math.atan2(s,i);if(c.range[0]>c.range[1]&&(b+=Math.PI),D.getClosest(a,function(A){return h(m,b,[A.rp0,A.rp1],[A.thetag0,A.thetag1],g)?T+Math.min(1,Math.abs(A.thetag1-A.thetag0)/x)-1+(A.rp1-m)/(A.rp1-A.rp0)-1:1/0},u),!1!==u.index){var _=a[u.index];u.x0=u.x1=_.ct[0],u.y0=u.y1=_.ct[1];var w=E.extendFlat({},_,{r:_.s,theta:_.p});return S(_,o,u),M(w,o,l,u),u.hovertemplate=o.hovertemplate,u.color=d(o,_),u.xLabelVal=u.yLabelVal=void 0,_.s<0&&(u.idealAlign="left"),[u]}}},23381:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"barpolar",basePlotModule:r(23580),categories:["polar","bar","showLegend"],attributes:r(55023),layoutAttributes:r(40151),supplyDefaults:r(6135),supplyLayoutDefaults:r(19860),calc:r(74692).calc,crossTraceCalc:r(74692).crossTraceCalc,plot:r(60173),colorbar:r(4898),formatLabels:r(98608),style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,hoverPoints:r(27379),selectPoints:r(81974),meta:{}}},40151:function(ae){"use strict";ae.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(ae,B,r){"use strict";var D=r(71828),E=r(40151);ae.exports=function(d,S,M){var v,u={};function i(o,l){return D.coerce(d[v]||{},S[v],E,o,l)}for(var s=0;s<M.length;s++){var a=M[s];"barpolar"===a.type&&!0===a.visible&&(u[v=a.subplot]||(i("barmode"),i("bargap"),u[v]=1))}}},60173:function(ae,B,r){"use strict";var D=r(39898),E=r(92770),d=r(71828),S=r(91424),M=r(10869);ae.exports=function(v,u,i){var h,T,x,s=v._context.staticPlot,a=u.xaxis,o=u.yaxis,l=u.radialAxis,c=u.angularAxis,f=(T=(h=u).cxx,x=h.cyy,h.vangles?function(m,b,_,w){var A,p;d.angleDelta(_,w)>0?(A=_,p=w):(A=w,p=_);var I=[M.findEnclosingVertexAngles(A,h.vangles)[0],(A+p)/2,M.findEnclosingVertexAngles(p,h.vangles)[1]];return M.pathPolygonAnnulus(m,b,A,p,I,T,x)}:function(m,b,_,w){return d.pathAnnulus(m,b,_,w,T,x)}),g=u.layers.frontplot.select("g.barlayer");d.makeTraceGroups(g,i,"trace bars").each(function(){var h=D.select(this),T=d.ensureSingle(h,"g","points").selectAll("g.point").data(d.identity);T.enter().append("g").style("vector-effect",s?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),T.exit().remove(),T.each(function(x){var m,b=D.select(this),_=x.rp0=l.c2p(x.s0),w=x.rp1=l.c2p(x.s1),A=x.thetag0=c.c2g(x.p0),p=x.thetag1=c.c2g(x.p1);if(E(_)&&E(w)&&E(A)&&E(p)&&_!==w&&A!==p){var I=l.c2g(x.s1),k=(A+p)/2;x.ct=[a.c2p(I*Math.cos(k)),o.c2p(I*Math.sin(k))],m=f(_,w,A,p)}else m="M0,0Z";d.ensureSingle(b,"path").attr("d",m)}),S.setClipUrl(h,u._hasClipOnAxisFalse?u.clipIds.forTraces:null,v)})}},53522:function(ae,B,r){"use strict";var D=r(82196),E=r(1486),d=r(22399),S=r(12663).axisHoverFormat,M=r(5386).fF,v=r(1426).extendFlat,u=D.marker,i=u.line;ae.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},u.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},u.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},u.angle,{arrayOk:!1,editType:"calc"}),size:v({},u.size,{arrayOk:!1,editType:"calc"}),color:v({},u.color,{arrayOk:!1,editType:"style"}),line:{color:v({},i.color,{arrayOk:!1,dflt:d.defaultLine,editType:"style"}),width:v({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:D.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup,selected:{marker:D.selected.marker,editType:"style"},unselected:{marker:D.unselected.marker,editType:"style"},text:v({},D.text,{}),hovertext:v({},D.hovertext,{}),hovertemplate:M({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(ae,B,r){"use strict";var D=r(92770),E=r(89298),d=r(42973),S=r(71828),M=r(50606).BADNUM,v=S._;ae.exports=function(h,T){var x,m,b,_,w,A,p,I=h._fullLayout,k=E.getFromId(h,T.xaxis||"x"),L=E.getFromId(h,T.yaxis||"y"),O=[],P="violin"===T.type?"_numViolins":"_numBoxes";"h"===T.orientation?(b=k,_="x",w=L,A="y",p=!!T.yperiodalignment):(b=L,_="y",w=k,A="x",p=!!T.xperiodalignment);var F,j,X,N,q,G,H=function(qe,He,Je,et){var st,pt=He+"0"in qe;if(He in qe||pt&&"d"+He in qe){var ct=Je.makeCalcdata(qe,He);return[d(qe,Je,He,ct).vals,ct]}st=pt?qe[He+"0"]:"name"in qe&&("category"===Je.type||D(qe.name)&&-1!==["linear","log"].indexOf(Je.type)||S.isDateTime(qe.name)&&"date"===Je.type)?qe.name:et;for(var St="multicategory"===Je.type?Je.r2c_just_indices(st):Je.d2c(st,0,qe[He+"calendar"]),Dt=qe._length,vt=new Array(Dt),gt=0;gt<Dt;gt++)vt[gt]=St;return[vt]}(T,A,w,I[P]),Z=H[0],$=H[1],se=S.distinctVals(Z,w),ne=se.vals,re=se.minDiff/2,Q="all"===(T.boxpoints||T.points)?S.identity:function(qe){return qe.v<F.lf||qe.v>F.uf};if(T._hasPreCompStats){var ee=T[_],oe=function(qe){return b.d2c((T[qe]||[])[x])},ce=1/0,ue=-1/0;for(x=0;x<T._length;x++){var he=Z[x];if(D(he)){if((F={}).pos=F[A]=he,p&&$&&(F.orig_p=$[x]),F.q1=oe("q1"),F.med=oe("median"),F.q3=oe("q3"),j=[],ee&&S.isArrayOrTypedArray(ee[x]))for(m=0;m<ee[x].length;m++)(G=b.d2c(ee[x][m]))!==M&&(i(q={v:G,i:[x,m]},T,[x,m]),j.push(q));if(F.pts=j.sort(s),N=(X=F[_]=j.map(a)).length,F.med!==M&&F.q1!==M&&F.q3!==M&&F.med>=F.q1&&F.q3>=F.med){var ve=oe("lowerfence");F.lf=ve!==M&&ve<=F.q1?ve:o(F,X,N);var ke=oe("upperfence");F.uf=ke!==M&&ke>=F.q3?ke:l(F,X,N);var Ie=oe("mean");F.mean=Ie!==M?Ie:N?S.mean(X,N):(F.q1+F.q3)/2;var Me=oe("sd");F.sd=Ie!==M&&Me>=0?Me:N?S.stdev(X,N,F.mean):F.q3-F.q1,F.lo=c(F),F.uo=f(F);var _e=oe("notchspan");_e=_e!==M&&_e>0?_e:g(F,N),F.ln=F.med-_e,F.un=F.med+_e;var we=F.lf,ze=F.uf;T.boxpoints&&X.length&&(we=Math.min(we,X[0]),ze=Math.max(ze,X[N-1])),T.notched&&(we=Math.min(we,F.ln),ze=Math.max(ze,F.un)),F.min=we,F.max=ze}else{var Ee;S.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+F.q1,"median = "+F.med,"q3 = "+F.q3].join("\n")),F.med=Ee=F.med!==M?F.med:F.q1!==M?F.q3!==M?(F.q1+F.q3)/2:F.q1:F.q3!==M?F.q3:0,F.q1=F.q3=Ee,F.lf=F.uf=Ee,F.mean=F.sd=Ee,F.ln=F.un=Ee,F.min=F.max=Ee}ce=Math.min(ce,F.min),ue=Math.max(ue,F.max),F.pts2=j.filter(Q),O.push(F)}}T._extremes[b._id]=E.findExtremes(b,[ce,ue],{padded:!0})}else{var Se=b.makeCalcdata(T,_),me=function(qe,He){for(var Je=qe.length,et=new Array(Je+1),st=0;st<Je;st++)et[st]=qe[st]-He;return et[Je]=qe[Je-1]+He,et}(ne,re),fe=ne.length,le=function(qe){for(var He=new Array(qe),Je=0;Je<qe;Je++)He[Je]=[];return He}(fe);for(x=0;x<T._length;x++)if(D(G=Se[x])){var Te=S.findBin(Z[x],me);Te>=0&&Te<fe&&(i(q={v:G,i:x},T,x),le[Te].push(q))}var Re=1/0,De=-1/0,Ue=T.quartilemethod,Ze="exclusive"===Ue,xe="inclusive"===Ue;for(x=0;x<fe;x++)if(le[x].length>0){var Oe,Ce;(F={}).pos=F[A]=ne[x],j=F.pts=le[x].sort(s),N=(X=F[_]=j.map(a)).length,F.min=X[0],F.max=X[N-1],F.mean=S.mean(X,N),F.sd=S.stdev(X,N,F.mean)*T.sdmultiple,F.med=S.interp(X,.5),N%2&&(Ze||xe)?(Ze?(Oe=X.slice(0,N/2),Ce=X.slice(N/2+1)):xe&&(Oe=X.slice(0,N/2+1),Ce=X.slice(N/2)),F.q1=S.interp(Oe,.5),F.q3=S.interp(Ce,.5)):(F.q1=S.interp(X,.25),F.q3=S.interp(X,.75)),F.lf=o(F,X,N),F.uf=l(F,X,N),F.lo=c(F),F.uo=f(F);var Be=g(F,N);F.ln=F.med-Be,F.un=F.med+Be,Re=Math.min(Re,F.ln),De=Math.max(De,F.un),F.pts2=j.filter(Q),O.push(F)}T._extremes[b._id]=E.findExtremes(b,T.notched?Se.concat([Re,De]):Se,{padded:!0})}return function(qe,He){if(S.isArrayOrTypedArray(He.selectedpoints))for(var Je=0;Je<qe.length;Je++){for(var et=qe[Je].pts||[],st={},pt=0;pt<et.length;pt++)st[et[pt].i]=pt;S.tagSelected(et,He,st)}}(O,T),O.length>0?(O[0].t={num:I[P],dPos:re,posLetter:A,valLetter:_,labels:{med:v(h,"median:"),min:v(h,"min:"),q1:v(h,"q1:"),q3:v(h,"q3:"),max:v(h,"max:"),mean:"sd"===T.boxmean||"sd"===T.sizemode?v(h,"mean \xb1 \u03c3:").replace("\u03c3",1===T.sdmultiple?"\u03c3":T.sdmultiple+"\u03c3"):v(h,"mean:"),lf:v(h,"lower fence:"),uf:v(h,"upper fence:")}},I[P]++,O):[{t:{empty:!0}}]};var u={text:"tx",hovertext:"htx"};function i(h,T,x){for(var m in u)S.isArrayOrTypedArray(T[m])&&(Array.isArray(x)?S.isArrayOrTypedArray(T[m][x[0]])&&(h[u[m]]=T[m][x[0]][x[1]]):h[u[m]]=T[m][x])}function s(h,T){return h.v-T.v}function a(h){return h.v}function o(h,T,x){return 0===x?h.q1:Math.min(h.q1,T[Math.min(S.findBin(2.5*h.q1-1.5*h.q3,T,!0)+1,x-1)])}function l(h,T,x){return 0===x?h.q3:Math.max(h.q3,T[Math.max(S.findBin(2.5*h.q3-1.5*h.q1,T),0)])}function c(h){return 4*h.q1-3*h.q3}function f(h){return 4*h.q3-3*h.q1}function g(h,T){return 0===T?0:1.57*(h.q3-h.q1)/Math.sqrt(T)}},37188:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),d=r(99082).getAxisGroup,S=["v","h"];function M(v,u,i,s){var a,o,l,c=u.calcdata,f=u._fullLayout,g=s._id,h=g.charAt(0),T=[],x=0;for(a=0;a<i.length;a++)for(l=c[i[a]],o=0;o<l.length;o++)T.push(s.c2l(l[o].pos,!0)),x+=(l[o].pts2||[]).length;if(T.length){var m=E.distinctVals(T);"category"!==s.type&&"multicategory"!==s.type||(m.minDiff=1);var b=m.minDiff/2;D.minDtick(s,m.minDiff,m.vals[0],!0);var _=f["violin"===v?"_numViolins":"_numBoxes"],w="group"===f[v+"mode"]&&_>1,A=1-f[v+"gap"],p=1-f[v+"groupgap"];for(a=0;a<i.length;a++){var I,k,L,O,P,F,j=(l=c[i[a]])[0].trace,X=l[0].t,N=j.width,q=j.side;if(N)I=k=O=N/2,L=0;else if(I=b,w){var G=d(f,s._id)+j.orientation,Z=Object.keys(((f._alignmentOpts[G]||{})[j.alignmentgroup]||{}).offsetGroups||{}).length,$=Z||_;k=I*A*p/$,L=2*I*(((Z?j._offsetIndex:X.num)+.5)/$-.5)*A,O=I*A/$}else k=I*A*p,L=0,O=I;X.dPos=I,X.bPos=L,X.bdPos=k,X.wHover=O;var se,ne,re,Q,ee,oe,ce=L+k,ue=Boolean(N);if("positive"===q?(P=I*(N?1:.5),se=ce,F=se=L):"negative"===q?(P=se=L,F=I*(N?1:.5),ne=ce):(P=F=I,se=ne=ce),(j.boxpoints||j.points)&&x>0){var he=j.pointpos,ve=j.jitter,ke=j.marker.size/2,Ie=0;he+ve>=0&&((Ie=ce*(he+ve))>P?(ue=!0,ee=ke,re=Ie):Ie>se&&(ee=ke,re=P)),Ie<=P&&(re=P);var Me=0;he-ve<=0&&((Me=-ce*(he-ve))>F?(ue=!0,oe=ke,Q=Me):Me>ne&&(oe=ke,Q=F)),Me<=F&&(Q=F)}else re=P,Q=F;var _e=new Array(l.length);for(o=0;o<l.length;o++)_e[o]=l[o].pos;j._extremes[g]=D.findExtremes(s,_e,{padded:ue,vpadminus:Q,vpadplus:re,vpadLinearized:!0,ppadminus:{x:oe,y:ee}[h],ppadplus:{x:ee,y:oe}[h]})}}}ae.exports={crossTraceCalc:function(v,u){for(var i=v.calcdata,s=u.xaxis,a=u.yaxis,o=0;o<S.length;o++){for(var l=S[o],c="h"===l?a:s,f=[],g=0;g<i.length;g++){var h=i[g],x=h[0].trace;!0!==x.visible||"box"!==x.type&&"candlestick"!==x.type||h[0].t.empty||(x.orientation||"v")!==l||x.xaxis!==s._id||x.yaxis!==a._id||f.push(g)}M("box",v,f,c)}},setPositionOffset:M}},36411:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),d=r(7901),S=r(73927),M=r(26125),v=r(4322),u=r(53522);function i(a,o,l,c){function f(q){var G=0;return q&&q.length&&(G+=1,D.isArrayOrTypedArray(q[0])&&q[0].length&&(G+=1)),G}function g(q){return D.validate(a[q],u[q])}var h,T=l("y"),x=l("x");if("box"===o.type){var m=l("q1"),b=l("median"),_=l("q3");o._hasPreCompStats=m&&m.length&&b&&b.length&&_&&_.length,h=Math.min(D.minRowLength(m),D.minRowLength(b),D.minRowLength(_))}var w,A,p=f(T),I=f(x),k=p&&D.minRowLength(T),L=I&&D.minRowLength(x),O=c.calendar,P={autotypenumbers:c.autotypenumbers};if(o._hasPreCompStats)switch(String(I)+String(p)){case"00":var F=g("x0")||g("dx");w=!g("y0")&&!g("dy")||F?"v":"h",A=h;break;case"10":w="v",A=Math.min(h,L);break;case"20":w="h",A=Math.min(h,x.length);break;case"01":w="h",A=Math.min(h,k);break;case"02":w="v",A=Math.min(h,T.length);break;case"12":w="v",A=Math.min(h,L,T.length);break;case"21":w="h",A=Math.min(h,x.length,k);break;case"11":A=0;break;case"22":var j,X=!1;for(j=0;j<x.length;j++)if("category"===v(x[j],O,P)){X=!0;break}if(X)w="v",A=Math.min(h,L,T.length);else{for(j=0;j<T.length;j++)if("category"===v(T[j],O,P)){X=!0;break}X?(w="h",A=Math.min(h,x.length,k)):(w="v",A=Math.min(h,L,T.length))}}else p>0?(w="v",A=I>0?Math.min(L,k):Math.min(k)):I>0?(w="h",A=Math.min(L)):A=0;if(A){o._length=A;var N=l("orientation",w);o._hasPreCompStats?"v"===N&&0===I?(l("x0",0),l("dx",1)):"h"===N&&0===p&&(l("y0",0),l("dy",1)):"v"===N&&0===I?l("x0"):"h"===N&&0===p&&l("y0"),E.getComponentMethod("calendars","handleTraceDefaults")(a,o,["x","y"],c)}else o.visible=!1}function s(a,o,l,c){var f=c.prefix,g=D.coerce2(a,o,u,"marker.outliercolor"),h=l("marker.line.outliercolor"),T="outliers";o._hasPreCompStats?T="all":(g||h)&&(T="suspectedoutliers");var x=l(f+"points",T);x?(l("jitter","all"===x?.3:0),l("pointpos","all"===x?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",o.line.color),l("marker.line.color"),l("marker.line.width"),"suspectedoutliers"===x&&(l("marker.line.outliercolor",o.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete o.marker;var m=l("hoveron");"all"!==m&&-1===m.indexOf("points")||l("hovertemplate"),D.coerceSelectionMarkerOpacity(o,l)}ae.exports={supplyDefaults:function(a,o,l,c){function f(A,p){return D.coerce(a,o,u,A,p)}if(i(a,o,f,c),!1!==o.visible){S(a,o,c,f),f("xhoverformat"),f("yhoverformat");var g=o._hasPreCompStats;g&&(f("lowerfence"),f("upperfence")),f("line.color",(a.marker||{}).color||l),f("line.width"),f("fillcolor",d.addOpacity(o.line.color,.5));var h=!1;if(g){var T=f("mean"),x=f("sd");T&&T.length&&(h=!0,x&&x.length&&(h="sd"))}f("whiskerwidth");var m,b=f("sizemode");"quartiles"===b&&(m=f("boxmean",h)),f("showwhiskers","quartiles"===b),"sd"!==b&&"sd"!==m||f("sdmultiple"),f("width"),f("quartilemethod");var _=!1;if(g){var w=f("notchspan");w&&w.length&&(_=!0)}else D.validate(a.notchwidth,u.notchwidth)&&(_=!0);f("notched",_)&&f("notchwidth"),s(a,o,f,{prefix:"box"})}},crossTraceDefaults:function(a,o){var c;function f(T){return D.coerce(c._input,c,u,T)}for(var g=0;g<a.length;g++){var h=(c=a[g]).type;"box"!==h&&"violin"!==h||"group"===o[h+"mode"]&&M(c._input,c,o,f)}},handleSampleDefaults:i,handlePointsDefaults:s}},74907:function(ae){"use strict";ae.exports=function(B,r){return r.hoverOnBox&&(B.hoverOnBox=r.hoverOnBox),"xVal"in r&&(B.x=r.xVal),"yVal"in r&&(B.y=r.yVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},41868:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),d=r(30211),S=r(7901),M=E.fillText;function v(i,s,a,o){var l,c,f,g,h,T,x,m,b,_,w,A,p,I,k=i.cd,L=i.xa,O=i.ya,P=k[0].trace,F=k[0].t,j="violin"===P.type,X=F.bdPos,N=F.wHover,q=function(Ee){return f.c2l(Ee.pos)+F.bPos-f.c2l(T)};j&&"both"!==P.side?("positive"===P.side&&(b=function(Ee){var Se=q(Ee);return d.inbox(Se,Se+N,_)},A=X,p=0),"negative"===P.side&&(b=function(Ee){var Se=q(Ee);return d.inbox(Se-N,Se,_)},A=0,p=X)):(b=function(Ee){var Se=q(Ee);return d.inbox(Se-N,Se+N,_)},A=p=X),I=j?function(Ee){return d.inbox(Ee.span[0]-h,Ee.span[1]-h,_)}:function(Ee){return d.inbox(Ee.min-h,Ee.max-h,_)},"h"===P.orientation?(h=s,T=a,x=I,m=b,l="y",f=O,c="x",g=L):(h=a,T=s,x=b,m=I,l="x",f=L,c="y",g=O);var G=Math.min(1,X/Math.abs(f.r2c(f.range[1])-f.r2c(f.range[0])));function H(Ee){return(x(Ee)+m(Ee))/2}_=i.maxHoverDistance-G,w=i.maxSpikeDistance-G;var Z=d.getDistanceFunction(o,x,m,H);if(d.getClosest(k,Z,i),!1===i.index)return[];var $=k[i.index],se=P.line.color,ne=(P.marker||{}).color;i.color=S.opacity(se)&&P.line.width?se:S.opacity(ne)&&P.boxpoints?ne:P.fillcolor,i[l+"0"]=f.c2p($.pos+F.bPos-p,!0),i[l+"1"]=f.c2p($.pos+F.bPos+A,!0),i[l+"LabelVal"]=void 0!==$.orig_p?$.orig_p:$.pos;var re=l+"Spike";i.spikeDistance=H($)*w/_,i[re]=f.c2p($.pos,!0);var Q=P.boxmean||"sd"===P.sizemode||(P.meanline||{}).visible,ee=P.boxpoints||P.points,oe=ee&&Q?["max","uf","q3","med","mean","q1","lf","min"]:ee&&!Q?["max","uf","q3","med","q1","lf","min"]:!ee&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"];P.orientation===(g.range[1]<g.range[0]?"v":"h")&&oe.reverse();for(var ue=i.spikeDistance,he=i[re],ve=[],ke=0;ke<oe.length;ke++){var Ie=oe[ke];if(Ie in $){var Me=$[Ie],_e=g.c2p(Me,!0),we=E.extendFlat({},i);we.attr=Ie,we[c+"0"]=we[c+"1"]=_e,we[c+"LabelVal"]=Me,we[c+"Label"]=(F.labels?F.labels[Ie]+" ":"")+D.hoverLabelText(g,Me,P[c+"hoverformat"]),we.hoverOnBox=!0,"mean"!==Ie||!("sd"in $)||"sd"!==P.boxmean&&"sd"!==P.sizemode||(we[c+"err"]=$.sd),we.hovertemplate=!1,ve.push(we)}}i.name="",i.spikeDistance=void 0,i[re]=void 0;for(var ze=0;ze<ve.length;ze++)"med"!==ve[ze].attr?(ve[ze].name="",ve[ze].spikeDistance=void 0,ve[ze][re]=void 0):(ve[ze].spikeDistance=ue,ve[ze][re]=he);return ve}function u(i,s,a){for(var o,l,c,f=i.cd,g=i.xa,h=i.ya,T=f[0].trace,x=g.c2p(s),m=h.c2p(a),b=d.quadrature(function(j){var X=Math.max(3,j.mrc||0);return Math.max(Math.abs(g.c2p(j.x)-x)-X,1-3/X)},function(j){var X=Math.max(3,j.mrc||0);return Math.max(Math.abs(h.c2p(j.y)-m)-X,1-3/X)}),_=!1,w=0;w<f.length;w++){l=f[w];for(var A=0;A<(l.pts||[]).length;A++){var p=b(c=l.pts[A]);p<=i.distance&&(i.distance=p,_=[w,A])}}if(!_)return!1;c=(l=f[_[0]]).pts[_[1]];var I=g.c2p(c.x,!0),k=h.c2p(c.y,!0),L=c.mrc||1;o=E.extendFlat({},i,{index:c.i,color:(T.marker||{}).color,name:T.name,x0:I-L,x1:I+L,y0:k-L,y1:k+L,spikeDistance:i.distance,hovertemplate:T.hovertemplate});var O,P=l.orig_p,F=void 0!==P?P:l.pos;return"h"===T.orientation?(O=h,o.xLabelVal=c.x,o.yLabelVal=F):(O=g,o.xLabelVal=F,o.yLabelVal=c.y),o[O._id.charAt(0)+"Spike"]=O.c2p(l.pos,!0),M(c,T,o),o}ae.exports={hoverPoints:function(i,s,a,o){var l,c=i.cd[0].trace.hoveron,f=[];return-1!==c.indexOf("boxes")&&(f=f.concat(v(i,s,a,o))),-1!==c.indexOf("points")&&(l=u(i,s,a)),"closest"===o?l?[l]:f:(l&&f.push(l),f)},hoverOnBoxes:v,hoverOnPoints:u}},83832:function(ae,B,r){"use strict";ae.exports={attributes:r(53522),layoutAttributes:r(40094),supplyDefaults:r(36411).supplyDefaults,crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(4199).supplyLayoutDefaults,calc:r(48518),crossTraceCalc:r(37188).crossTraceCalc,plot:r(86047).plot,style:r(58063).style,styleOnSelect:r(58063).styleOnSelect,hoverPoints:r(41868).hoverPoints,eventData:r(74907),selectPoints:r(24626),moduleType:"trace",name:"box",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(ae){"use strict";ae.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(40094);function S(M,v,u,i,s){for(var a=s+"Layout",o=!1,l=0;l<u.length;l++)if(D.traceIs(u[l],a)){o=!0;break}o&&(i(s+"mode"),i(s+"gap"),i(s+"groupgap"))}ae.exports={supplyLayoutDefaults:function(M,v,u){S(0,0,u,function(i,s){return E.coerce(M,v,d,i,s)},"box")},_supply:S}},86047:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424);function S(u,i,s,a,o){var l,c,f="h"===s.orientation,g=i.val,h=i.pos,T=!!h.rangebreaks,x=a.bPos,m=a.wdPos||0,b=a.bPosPxOffset||0,_=s.whiskerwidth||0,w=!1!==s.showwhiskers,A=s.notched||!1,p=A?1-2*s.notchwidth:1;Array.isArray(a.bdPos)?(l=a.bdPos[0],c=a.bdPos[1]):(l=a.bdPos,c=a.bdPos);var I=u.selectAll("path.box").data("violin"!==s.type||s.box.visible?E.identity:[]);I.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","box"),I.exit().remove(),I.each(function(k){if(k.empty)return"M0,0Z";var L=h.c2l(k.pos+x,!0),O=h.l2p(L-l)+b,P=h.l2p(L+c)+b,F=T?(O+P)/2:h.l2p(L)+b,j=s.whiskerwidth,X=T?O*j+(1-j)*F:h.l2p(L-m)+b,N=T?P*j+(1-j)*F:h.l2p(L+m)+b,q=h.l2p(L-l*p)+b,G=h.l2p(L+c*p)+b,H="sd"===s.sizemode,Z=g.c2p(H?k.mean-k.sd:k.q1,!0),$=g.c2p(H?k.mean+k.sd:k.q3,!0),se=E.constrain(g.c2p(H?k.mean:k.med,!0),Math.min(Z,$)+1,Math.max(Z,$)-1),ne=void 0===k.lf||!1===s.boxpoints||H,re=g.c2p(ne?k.min:k.lf,!0),Q=g.c2p(ne?k.max:k.uf,!0),ee=g.c2p(k.ln,!0),oe=g.c2p(k.un,!0);f?D.select(this).attr("d","M"+se+","+q+"V"+G+"M"+Z+","+O+"V"+P+(A?"H"+ee+"L"+se+","+G+"L"+oe+","+P:"")+"H"+$+"V"+O+(A?"H"+oe+"L"+se+","+q+"L"+ee+","+O:"")+"Z"+(w?"M"+Z+","+F+"H"+re+"M"+$+","+F+"H"+Q+(0===_?"":"M"+re+","+X+"V"+N+"M"+Q+","+X+"V"+N):"")):D.select(this).attr("d","M"+q+","+se+"H"+G+"M"+O+","+Z+"H"+P+(A?"V"+ee+"L"+G+","+se+"L"+P+","+oe:"")+"V"+$+"H"+O+(A?"V"+oe+"L"+q+","+se+"L"+O+","+ee:"")+"Z"+(w?"M"+F+","+Z+"V"+re+"M"+F+","+$+"V"+Q+(0===_?"":"M"+X+","+re+"H"+N+"M"+X+","+Q+"H"+N):""))})}function M(u,i,s,a){var o=i.x,l=i.y,c=a.bdPos,f=a.bPos,g=s.boxpoints||s.points;E.seedPseudoRandom();var h=u.selectAll("g.points").data(g?function(x){return x.forEach(function(m){m.t=a,m.trace=s}),x}:[]);h.enter().append("g").attr("class","points"),h.exit().remove();var T=h.selectAll("path").data(function(x){var m,b,_=x.pts2,w=Math.max((x.max-x.min)/10,x.q3-x.q1),A=1e-9*w,p=.01*w,I=[],k=0;if(s.jitter){if(0===w)for(k=1,I=new Array(_.length),m=0;m<_.length;m++)I[m]=1;else for(m=0;m<_.length;m++){var L=Math.max(0,m-5),O=_[L].v,P=Math.min(_.length-1,m+5),F=_[P].v;"all"!==g&&(_[m].v<x.lf?F=Math.min(F,x.lf):O=Math.max(O,x.uf));var j=Math.sqrt(p*(P-L)/(F-O+A))||0;j=E.constrain(Math.abs(j),0,1),I.push(j),k=Math.max(j,k)}b=2*s.jitter/(k||1)}for(m=0;m<_.length;m++){var X=_[m],N=X.v,q=s.jitter?b*I[m]*(E.pseudoRandom()-.5):0,G=x.pos+f+c*(s.pointpos+q);"h"===s.orientation?(X.y=G,X.x=N):(X.x=G,X.y=N),"suspectedoutliers"===g&&N<x.uo&&N>x.lo&&(X.so=!0)}return _});T.enter().append("path").classed("point",!0),T.exit().remove(),T.call(d.translatePoints,o,l)}function v(u,i,s,a){var o,l,c=i.val,f=i.pos,g=!!f.rangebreaks,h=a.bPos,T=a.bPosPxOffset||0,x=s.boxmean||(s.meanline||{}).visible;Array.isArray(a.bdPos)?(o=a.bdPos[0],l=a.bdPos[1]):(o=a.bdPos,l=a.bdPos);var m=u.selectAll("path.mean").data("box"===s.type&&s.boxmean||"violin"===s.type&&s.box.visible&&s.meanline.visible?E.identity:[]);m.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),m.exit().remove(),m.each(function(b){var _=f.c2l(b.pos+h,!0),w=f.l2p(_-o)+T,A=f.l2p(_+l)+T,p=g?(w+A)/2:f.l2p(_)+T,I=c.c2p(b.mean,!0),k=c.c2p(b.mean-b.sd,!0),L=c.c2p(b.mean+b.sd,!0);"h"===s.orientation?D.select(this).attr("d","M"+I+","+w+"V"+A+("sd"===x?"m0,0L"+k+","+p+"L"+I+","+w+"L"+L+","+p+"Z":"")):D.select(this).attr("d","M"+w+","+I+"H"+A+("sd"===x?"m0,0L"+p+","+k+"L"+w+","+I+"L"+p+","+L+"Z":""))})}ae.exports={plot:function(u,i,s,a){var o=u._context.staticPlot,l=i.xaxis,c=i.yaxis;E.makeTraceGroups(a,s,"trace boxes").each(function(f){var g,h,T=D.select(this),x=f[0],m=x.t,b=x.trace;m.wdPos=m.bdPos*b.whiskerwidth,!0!==b.visible||m.empty?T.remove():("h"===b.orientation?(g=c,h=l):(g=l,h=c),S(T,{pos:g,val:h},b,m,o),M(T,{x:l,y:c},b,m),v(T,{pos:g,val:h},b,m))})},plotBoxAndWhiskers:S,plotPoints:M,plotBoxMean:v}},24626:function(ae){"use strict";ae.exports=function(B,r){var D,E,d=B.cd,S=B.xaxis,M=B.yaxis,v=[];if(!1===r)for(D=0;D<d.length;D++)for(E=0;E<(d[D].pts||[]).length;E++)d[D].pts[E].selected=0;else for(D=0;D<d.length;D++)for(E=0;E<(d[D].pts||[]).length;E++){var u=d[D].pts[E],i=S.c2p(u.x),s=M.c2p(u.y);r.contains([i,s],null,u.i,B)?(v.push({pointNumber:u.i,x:S.c2d(u.x),y:M.c2d(u.y)}),u.selected=1):u.selected=0}return v}},58063:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),d=r(91424);ae.exports={style:function(S,M,v){var u=v||D.select(S).selectAll("g.trace.boxes");u.style("opacity",function(i){return i[0].trace.opacity}),u.each(function(i){var s=D.select(this),a=i[0].trace,o=a.line.width;function l(g,h,T,x){g.style("stroke-width",h+"px").call(E.stroke,T).call(E.fill,x)}var c=s.selectAll("path.box");if("candlestick"===a.type)c.each(function(g){if(!g.empty){var h=D.select(this),T=a[g.dir];l(h,T.line.width,T.line.color,T.fillcolor),h.style("opacity",a.selectedpoints&&!g.selected?.3:1)}});else{l(c,o,a.line.color,a.fillcolor),s.selectAll("path.mean").style({"stroke-width":o,"stroke-dasharray":2*o+"px,"+o+"px"}).call(E.stroke,a.line.color);var f=s.selectAll("path.point");d.pointStyle(f,a,S)}})},styleOnSelect:function(S,M,v){var u=M[0].trace,i=v.selectAll("path.point");u.selectedpoints?d.selectedPointStyle(i,u):d.pointStyle(i,u,S)}}},75343:function(ae,B,r){"use strict";var D=r(71828).extendFlat,E=r(12663).axisHoverFormat,d=r(2522),S=r(53522);function M(v){return{line:{color:D({},S.line.color,{dflt:v}),width:S.line.width,editType:"style"},fillcolor:S.fillcolor,editType:"style"}}ae.exports={xperiod:d.xperiod,xperiod0:d.xperiod0,xperiodalignment:d.xperiodalignment,xhoverformat:E("x"),yhoverformat:E("y"),x:d.x,open:d.open,high:d.high,low:d.low,close:d.close,line:{width:D({},S.line.width,{}),editType:"style"},increasing:M(d.increasing.line.color.dflt),decreasing:M(d.decreasing.line.color.dflt),text:d.text,hovertext:d.hovertext,whiskerwidth:D({},S.whiskerwidth,{dflt:0}),hoverlabel:d.hoverlabel}},41197:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(42973),S=r(3485).calcCommon;function M(v,u,i,s){return{min:i,q1:Math.min(v,s),med:s,q3:Math.max(v,s),max:u}}ae.exports=function(v,u){var i=v._fullLayout,s=E.getFromId(v,u.xaxis),a=E.getFromId(v,u.yaxis),o=s.makeCalcdata(u,"x"),l=d(u,s,"x",o).vals,c=S(v,u,o,l,a,M);return c.length?(D.extendFlat(c[0].t,{num:i._numBoxes,dPos:D.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),i._numBoxes++,c):[{t:{empty:!0}}]}},1026:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(14555),S=r(73927),M=r(75343);function v(u,i,s,a){var o=s(a+".line.color");s(a+".line.width",i.line.width),s(a+".fillcolor",E.addOpacity(o,.5))}ae.exports=function(u,i,s,a){function o(l,c){return D.coerce(u,i,M,l,c)}d(u,i,o,a)?(S(u,i,a,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),v(0,i,o,"increasing"),v(0,i,o,"decreasing"),o("text"),o("hovertext"),o("whiskerwidth"),a._requestRangeslider[i.xaxis]=!0):i.visible=!1}},91815:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"candlestick",basePlotModule:r(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:r(75343),layoutAttributes:r(40094),supplyLayoutDefaults:r(4199).supplyLayoutDefaults,crossTraceCalc:r(37188).crossTraceCalc,supplyDefaults:r(1026),calc:r(41197),plot:r(86047).plot,layerName:"boxlayer",style:r(58063).style,hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},13145:function(ae,B,r){"use strict";var D=r(11500),E=r(44467);ae.exports=function(d,S,M,v,u){var i,s,a,o;v("a")||(v("da"),v("a0")),v("b")||(v("db"),v("b0")),i=d,s=S,a=M,o=u,["aaxis","baxis"].forEach(function(l){var c=l.charAt(0),f=i[l]||{},g=E.newContainer(s,l);D(f,g,{noTicklabelstep:!0,tickfont:"x",id:c+"axis",letter:c,font:s.font,name:l,data:i[c],calendar:s.calendar,dfltColor:o,bgColor:a.paper_bgcolor,autotypenumbersDflt:a.autotypenumbers,fullLayout:a}),g._categories=g._categories||[],i[l]||"-"===f.type||(i[l]={type:f.type})})}},402:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;function E(d,S){if(!D(d)||S>=10)return null;for(var M=1/0,v=-1/0,u=d.length,i=0;i<u;i++){var s=d[i];if(D(s)){var a=E(s,S+1);a&&(M=Math.min(a[0],M),v=Math.max(a[1],v))}else M=Math.min(s,M),v=Math.max(s,v)}return[M,v]}ae.exports=function(d){return E(d,0)}},99798:function(ae,B,r){"use strict";var D=r(41940),E=r(1928),d=r(22399),S=D({editType:"calc"});S.family.dflt='"Open Sans", verdana, arial, sans-serif',S.size.dflt=12,S.color.dflt=d.defaultLine,ae.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:E,baxis:E,font:S,color:{valType:"color",dflt:d.defaultLine,editType:"plot"},transforms:void 0}},4536:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,d,S,M){var v,u,i,s,a,o,l,c,f,g,h,T,x,m=D(S)?"a":"b",b=("a"===m?E.aaxis:E.baxis).smoothing,_="a"===m?E.a2i:E.b2j,w="a"===m?S:M,A="a"===m?M:S,p="a"===m?d.a.length:d.b.length,I="a"===m?d.b.length:d.a.length,k=Math.floor("a"===m?E.b2j(A):E.a2i(A)),L="a"===m?function(se){return E.evalxy([],se,k)}:function(se){return E.evalxy([],k,se)};b&&(i=Math.max(0,Math.min(I-2,k)),s=k-i,u="a"===m?function(se,ne){return E.dxydi([],se,i,ne,s)}:function(se,ne){return E.dxydj([],i,se,s,ne)});var O=_(w[0]),P=_(w[1]),F=O<P?1:-1,j=1e-8*(P-O),X=F>0?Math.floor:Math.ceil,N=F>0?Math.ceil:Math.floor,q=F>0?Math.min:Math.max,G=F>0?Math.max:Math.min,H=X(O+j),Z=N(P-j),$=[[l=L(O)]];for(v=H;v*F<Z*F;v+=F)a=[],h=G(O,v),x=(T=q(P,v+F))-h,o=Math.max(0,Math.min(p-2,Math.floor(.5*(h+T)))),c=L(T),b&&(f=u(o,h-o),g=u(o,T-o),a.push([l[0]+f[0]/3*x,l[1]+f[1]/3*x]),a.push([c[0]-g[0]/3*x,c[1]-g[1]/3*x])),a.push(c),$.push(a),l=c;return $}},1928:function(ae,B,r){"use strict";var D=r(41940),E=r(22399),d=r(13838),S=r(12663).descriptionWithDates,M=r(30962).overrideAll,v=r(79952).P,u=r(1426).extendFlat;ae.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:D({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:d.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:u({},d.labelalias,{editType:"calc"}),tickfont:D({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:S("tick label")},tickformatstops:M(d.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:E.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:u({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:u({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:E.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:D({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(ae,B,r){"use strict";var D=r(99798),E=r(7901).addOpacity,d=r(73972),S=r(71828),M=r(26218),v=r(96115),u=r(89426),i=r(15258),s=r(21994),a=r(4322);ae.exports=function(o,l,c){var f=c.letter,g=c.font||{},h=D[f+"axis"];function T(F,j){return S.coerce(o,l,h,F,j)}function x(F,j){return S.coerce2(o,l,h,F,j)}c.name&&(l._name=c.name,l._id=c.name),T("autotypenumbers",c.autotypenumbersDflt);var m=T("type");"-"===m&&(c.data&&function(F,j){if("-"===F.type){var X=F._id.charAt(0);F.type=a(j,F[X+"calendar"],{autotypenumbers:F.autotypenumbers})}}(l,c.data),"-"===l.type?l.type="linear":m=o.type=l.type),T("smoothing"),T("cheatertype"),T("showticklabels"),T("labelprefix",f+" = "),T("labelsuffix"),T("showtickprefix"),T("showticksuffix"),T("separatethousands"),T("tickformat"),T("exponentformat"),T("minexponent"),T("showexponent"),T("categoryorder"),T("tickmode"),T("tickvals"),T("ticktext"),T("tick0"),T("dtick"),"array"===l.tickmode&&(T("arraytick0"),T("arraydtick")),T("labelpadding"),l._hovertitle=f,"date"===m&&d.getComponentMethod("calendars","handleDefaults")(o,l,"calendar",c.calendar),s(l,c.fullLayout),l.c2p=S.identity;var b=T("color",c.dfltColor),_=b===o.color?b:g.color;T("title.text")&&(S.coerceFont(T,"title.font",{family:g.family,size:S.bigFont(g.size),color:_}),T("title.offset")),T("tickangle"),T("autorange",!l.isValidRange(o.range))&&T("rangemode"),T("range"),l.cleanRange(),T("fixedrange"),M(o,l,T,m),u(o,l,T,m,c),v(o,l,T,m,c),i(o,l,T,{data:c.data,dataAttr:f});var w=x("gridcolor",E(b,.3)),A=x("gridwidth"),p=x("griddash"),I=T("showgrid");I||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var k=x("startlinecolor",b),L=x("startlinewidth",A);T("startline",l.showgrid||!!k||!!L)||(delete l.startlinecolor,delete l.startlinewidth);var O=x("endlinecolor",b),P=x("endlinewidth",A);return T("endline",l.showgrid||!!O||!!P)||(delete l.endlinecolor,delete l.endlinewidth),I?(T("minorgridcount"),T("minorgridwidth",A),T("minorgriddash",p),T("minorgridcolor",E(w,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),"none"===l.showticklabels&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,T("tickmode"),l}},25281:function(ae,B,r){"use strict";var D=r(89298),E=r(71828).isArray1D,d=r(53824),S=r(402),M=r(20347),v=r(83311),u=r(44807),i=r(4742),s=r(72505),a=r(68296),o=r(11435);ae.exports=function(l,c){var f=D.getFromId(l,c.xaxis),g=D.getFromId(l,c.yaxis),h=c.aaxis,T=c.baxis,x=c.x,m=c.y,b=[];x&&E(x)&&b.push("x"),m&&E(m)&&b.push("y"),b.length&&a(c,h,T,"a","b",b);var _=c._a=c._a||c.a,w=c._b=c._b||c.b;x=c._x||c.x,m=c._y||c.y;var A={};c._cheater&&(x=d("index"===h.cheatertype?_.length:_,"index"===T.cheatertype?w.length:w,c.cheaterslope)),c._x=x=i(x),c._y=m=i(m),s(x,_,w),s(m,_,w),o(c),c.setScale();var k=S(x),L=S(m),O=.5*(k[1]-k[0]),P=.5*(k[1]+k[0]),F=.5*(L[1]-L[0]),j=.5*(L[1]+L[0]),X=1.3;return L=[j-F*X,j+F*X],c._extremes[f._id]=D.findExtremes(f,k=[P-O*X,P+O*X],{padded:!0}),c._extremes[g._id]=D.findExtremes(g,L,{padded:!0}),M(c,"a","b"),M(c,"b","a"),v(c,h),v(c,T),A.clipsegments=u(c._xctrl,c._yctrl,h,T),A.x=x,A.y=m,A.a=_,A.b=w,[A]}},44807:function(ae){"use strict";ae.exports=function(B,r,D,E){var d,S,M,v=[],u=!!D.smoothing,i=!!E.smoothing,s=B[0].length-1,a=B.length-1;for(d=0,S=[],M=[];d<=s;d++)S[d]=B[0][d],M[d]=r[0][d];for(v.push({x:S,y:M,bicubic:u}),d=0,S=[],M=[];d<=a;d++)S[d]=B[d][s],M[d]=r[d][s];for(v.push({x:S,y:M,bicubic:i}),d=s,S=[],M=[];d>=0;d--)S[s-d]=B[a][d],M[s-d]=r[a][d];for(v.push({x:S,y:M,bicubic:u}),d=a,S=[],M=[];d>=0;d--)S[a-d]=B[d][0],M[a-d]=r[d][0];return v.push({x:S,y:M,bicubic:i}),v}},20347:function(ae,B,r){"use strict";var D=r(89298),E=r(1426).extendFlat;ae.exports=function(d,S,M){var v,u,i,s,a,o,l,c,f,g,h,T,x,m,b=d["_"+S],_=d[S+"axis"],w=_._gridlines=[],A=_._minorgridlines=[],p=_._boundarylines=[],I=d["_"+M],k=d[M+"axis"];"array"===_.tickmode&&(_.tickvals=b.slice());var L=d._xctrl,O=d._yctrl,P=L[0].length,F=L.length,j=d._a.length,X=d._b.length;D.prepTicks(_),"array"===_.tickmode&&delete _.tickvals;var N=_.smoothing?3:1;function q(H){var Z,$,se,ne,re,Q,ee,oe,ce,ue,he,ve,ke=[],Ie=[],Me={};if("b"===S)for($=d.b2j(H),se=Math.floor(Math.max(0,Math.min(X-2,$))),ne=$-se,Me.length=X,Me.crossLength=j,Me.xy=function(_e){return d.evalxy([],_e,$)},Me.dxy=function(_e,we){return d.dxydi([],_e,se,we,ne)},Z=0;Z<j;Z++)Q=Math.min(j-2,Z),ee=Z-Q,oe=d.evalxy([],Z,$),k.smoothing&&Z>0&&(ce=d.dxydi([],Z-1,se,0,ne),ke.push(re[0]+ce[0]/3),Ie.push(re[1]+ce[1]/3),ue=d.dxydi([],Z-1,se,1,ne),ke.push(oe[0]-ue[0]/3),Ie.push(oe[1]-ue[1]/3)),ke.push(oe[0]),Ie.push(oe[1]),re=oe;else for(Z=d.a2i(H),Q=Math.floor(Math.max(0,Math.min(j-2,Z))),ee=Z-Q,Me.length=j,Me.crossLength=X,Me.xy=function(_e){return d.evalxy([],Z,_e)},Me.dxy=function(_e,we){return d.dxydj([],Q,_e,ee,we)},$=0;$<X;$++)se=Math.min(X-2,$),ne=$-se,oe=d.evalxy([],Z,$),k.smoothing&&$>0&&(he=d.dxydj([],Q,$-1,ee,0),ke.push(re[0]+he[0]/3),Ie.push(re[1]+he[1]/3),ve=d.dxydj([],Q,$-1,ee,1),ke.push(oe[0]-ve[0]/3),Ie.push(oe[1]-ve[1]/3)),ke.push(oe[0]),Ie.push(oe[1]),re=oe;return Me.axisLetter=S,Me.axis=_,Me.crossAxis=k,Me.value=H,Me.constvar=M,Me.index=c,Me.x=ke,Me.y=Ie,Me.smoothing=k.smoothing,Me}function G(H){var Z,$,se,ne,re,Q=[],ee=[],oe={};if(oe.length=b.length,oe.crossLength=I.length,"b"===S)for(se=Math.max(0,Math.min(X-2,H)),re=Math.min(1,Math.max(0,H-se)),oe.xy=function(ce){return d.evalxy([],ce,H)},oe.dxy=function(ce,ue){return d.dxydi([],ce,se,ue,re)},Z=0;Z<P;Z++)Q[Z]=L[H*N][Z],ee[Z]=O[H*N][Z];else for($=Math.max(0,Math.min(j-2,H)),ne=Math.min(1,Math.max(0,H-$)),oe.xy=function(ce){return d.evalxy([],H,ce)},oe.dxy=function(ce,ue){return d.dxydj([],$,ce,ne,ue)},Z=0;Z<F;Z++)Q[Z]=L[Z][H*N],ee[Z]=O[Z][H*N];return oe.axisLetter=S,oe.axis=_,oe.crossAxis=k,oe.value=b[H],oe.constvar=M,oe.index=H,oe.x=Q,oe.y=ee,oe.smoothing=k.smoothing,oe}if("array"===_.tickmode){for(s=5e-15,o=(a=[Math.floor((b.length-1-_.arraytick0)/_.arraydtick*(1+s)),Math.ceil(-_.arraytick0/_.arraydtick/(1+s))].sort(function(H,Z){return H-Z}))[0]-1,l=a[1]+1,c=o;c<l;c++)(u=_.arraytick0+_.arraydtick*c)<0||u>b.length-1||w.push(E(G(u),{color:_.gridcolor,width:_.gridwidth,dash:_.griddash}));for(c=o;c<l;c++)if(i=_.arraytick0+_.arraydtick*c,h=Math.min(i+_.arraydtick,b.length-1),!(i<0||i>b.length-1||h<0||h>b.length-1))for(T=b[i],x=b[h],v=0;v<_.minorgridcount;v++)(m=h-i)<=0||(g=T+(x-T)*(v+1)/(_.minorgridcount+1)*(_.arraydtick/m))<b[0]||g>b[b.length-1]||A.push(E(q(g),{color:_.minorgridcolor,width:_.minorgridwidth,dash:_.minorgriddash}));_.startline&&p.push(E(G(0),{color:_.startlinecolor,width:_.startlinewidth})),_.endline&&p.push(E(G(b.length-1),{color:_.endlinecolor,width:_.endlinewidth}))}else{for(s=5e-15,o=(a=[Math.floor((b[b.length-1]-_.tick0)/_.dtick*(1+s)),Math.ceil((b[0]-_.tick0)/_.dtick/(1+s))].sort(function(H,Z){return H-Z}))[0],l=a[1],c=o;c<=l;c++)w.push(E(q(f=_.tick0+_.dtick*c),{color:_.gridcolor,width:_.gridwidth,dash:_.griddash}));for(c=o-1;c<l+1;c++)for(f=_.tick0+_.dtick*c,v=0;v<_.minorgridcount;v++)(g=f+_.dtick*(v+1)/(_.minorgridcount+1))<b[0]||g>b[b.length-1]||A.push(E(q(g),{color:_.minorgridcolor,width:_.minorgridwidth,dash:_.minorgriddash}));_.startline&&p.push(E(q(b[0]),{color:_.startlinecolor,width:_.startlinewidth})),_.endline&&p.push(E(q(b[b.length-1]),{color:_.endlinecolor,width:_.endlinewidth}))}}},83311:function(ae,B,r){"use strict";var D=r(89298),E=r(1426).extendFlat;ae.exports=function(d,S){var M,v,u,i=S._labels=[],s=S._gridlines;for(M=0;M<s.length;M++)u=s[M],-1!==["start","both"].indexOf(S.showticklabels)&&(v=D.tickText(S,u.value),E(v,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:u.xy(0),dxy:u.dxy(0,0),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:0===M,isLast:M===s.length-1}),i.push(v)),-1!==["end","both"].indexOf(S.showticklabels)&&(v=D.tickText(S,u.value),E(v,{endAnchor:!1,xy:u.xy(u.crossLength-1),dxy:u.dxy(u.crossLength-2,1),axis:u.axis,length:u.crossAxis.length,font:u.axis.tickfont,isFirst:0===M,isLast:M===s.length-1}),i.push(v))}},42048:function(ae){"use strict";ae.exports=function(B,r,D,E){var d=B[0]-r[0],S=B[1]-r[1],M=D[0]-r[0],v=D[1]-r[1],u=Math.pow(d*d+S*S,.25),i=Math.pow(M*M+v*v,.25),s=(i*i*d-u*u*M)*E,a=(i*i*S-u*u*v)*E,o=i*(u+i)*3,l=u*(u+i)*3;return[[r[0]+(o&&s/o),r[1]+(o&&a/o)],[r[0]-(l&&s/l),r[1]-(l&&a/l)]]}},53824:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,d,S){var M,v,u,i,s,a,o=[],l=D(E)?E.length:E,c=D(d)?d.length:d,f=D(E)?E:null,g=D(d)?d:null;f&&(u=(f.length-1)/(f[f.length-1]-f[0])/(l-1)),g&&(i=(g.length-1)/(g[g.length-1]-g[0])/(c-1));var h=1/0,T=-1/0;for(v=0;v<c;v++)for(o[v]=[],s=g?(g[v]-g[0])*i:v/(c-1),M=0;M<l;M++)a=(f?(f[M]-f[0])*u:M/(l-1))-s*S,h=Math.min(a,h),T=Math.max(a,T),o[v][M]=a;var x=1/(T-h),m=-h*x;for(v=0;v<c;v++)for(M=0;M<l;M++)o[v][M]=x*o[v][M]+m;return o}},45664:function(ae,B,r){"use strict";var D=r(42048),E=r(71828).ensureArray;function d(S,M,v){return[(2*(-.5*v[0]+1.5*M[0])+S[0])/3,(2*(-.5*v[1]+1.5*M[1])+S[1])/3]}ae.exports=function(S,M,v,u,i,s){var a,o,l,c,f,g,h,T,x,m,b=v[0].length,_=v.length,w=i?3*b-2:b,A=s?3*_-2:_;for(S=E(S,A),M=E(M,A),l=0;l<A;l++)S[l]=E(S[l],w),M[l]=E(M[l],w);for(o=0,c=0;o<_;o++,c+=s?3:1)for(f=S[c],g=M[c],h=v[o],T=u[o],a=0,l=0;a<b;a++,l+=i?3:1)f[l]=h[a],g[l]=T[a];if(i)for(o=0,c=0;o<_;o++,c+=s?3:1){for(a=1,l=3;a<b-1;a++,l+=3)x=D([v[o][a-1],u[o][a-1]],[v[o][a],u[o][a]],[v[o][a+1],u[o][a+1]],i),S[c][l-1]=x[0][0],M[c][l-1]=x[0][1],S[c][l+1]=x[1][0],M[c][l+1]=x[1][1];m=d([S[c][0],M[c][0]],[S[c][2],M[c][2]],[S[c][3],M[c][3]]),S[c][1]=m[0],M[c][1]=m[1],m=d([S[c][w-1],M[c][w-1]],[S[c][w-3],M[c][w-3]],[S[c][w-4],M[c][w-4]]),S[c][w-2]=m[0],M[c][w-2]=m[1]}if(s)for(l=0;l<w;l++){for(c=3;c<A-3;c+=3)x=D([S[c-3][l],M[c-3][l]],[S[c][l],M[c][l]],[S[c+3][l],M[c+3][l]],s),S[c-1][l]=x[0][0],M[c-1][l]=x[0][1],S[c+1][l]=x[1][0],M[c+1][l]=x[1][1];m=d([S[0][l],M[0][l]],[S[2][l],M[2][l]],[S[3][l],M[3][l]]),S[1][l]=m[0],M[1][l]=m[1],m=d([S[A-1][l],M[A-1][l]],[S[A-3][l],M[A-3][l]],[S[A-4][l],M[A-4][l]]),S[A-2][l]=m[0],M[A-2][l]=m[1]}if(i&&s)for(c=1;c<A;c+=(c+1)%3==0?2:1){for(l=3;l<w-3;l+=3)x=D([S[c][l-3],M[c][l-3]],[S[c][l],M[c][l]],[S[c][l+3],M[c][l+3]],i),S[c][l-1]=.5*(S[c][l-1]+x[0][0]),M[c][l-1]=.5*(M[c][l-1]+x[0][1]),S[c][l+1]=.5*(S[c][l+1]+x[1][0]),M[c][l+1]=.5*(M[c][l+1]+x[1][1]);m=d([S[c][0],M[c][0]],[S[c][2],M[c][2]],[S[c][3],M[c][3]]),S[c][1]=.5*(S[c][1]+m[0]),M[c][1]=.5*(M[c][1]+m[1]),m=d([S[c][w-1],M[c][w-1]],[S[c][w-3],M[c][w-3]],[S[c][w-4],M[c][w-4]]),S[c][w-2]=.5*(S[c][w-2]+m[0]),M[c][w-2]=.5*(M[c][w-2]+m[1])}return[S,M]}},35509:function(ae){"use strict";ae.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(ae){"use strict";ae.exports=function(B,r,D){return r&&D?function(E,d,S,M,v){var u,o,l;E||(E=[]),d*=3,S*=3;var c=M*M,f=1-M,g=f*f,h=f*M*2,T=-3*g,x=3*(g-h),m=3*(h-c),b=3*c,_=v*v,w=_*v,A=1-v,p=A*A,I=p*A;for(l=0;l<B.length;l++)u=T*(o=B[l])[S][d]+x*o[S][d+1]+m*o[S][d+2]+b*o[S][d+3],E[l]=I*u+3*(p*v*(T*o[S+1][d]+x*o[S+1][d+1]+m*o[S+1][d+2]+b*o[S+1][d+3])+A*_*(T*o[S+2][d]+x*o[S+2][d+1]+m*o[S+2][d+2]+b*o[S+2][d+3]))+w*(T*o[S+3][d]+x*o[S+3][d+1]+m*o[S+3][d+2]+b*o[S+3][d+3]);return E}:r?function(E,d,S,M,v){var u,s,a;E||(E=[]),d*=3;var o=M*M,l=1-M,c=l*l,f=l*M*2,g=-3*c,h=3*(c-f),T=3*(f-o),x=3*o,m=1-v;for(s=0;s<B.length;s++)u=g*(a=B[s])[S][d]+h*a[S][d+1]+T*a[S][d+2]+x*a[S][d+3],E[s]=m*u+v*(g*a[S+1][d]+h*a[S+1][d+1]+T*a[S+1][d+2]+x*a[S+1][d+3]);return E}:D?function(E,d,S,M,v){var u,o,l;E||(E=[]),S*=3;var c=v*v,f=c*v,g=1-v,h=g*g,T=h*g;for(o=0;o<B.length;o++)u=(l=B[o])[S][d+1]-l[S][d],E[o]=T*u+3*(h*v*(l[S+1][d+1]-l[S+1][d])+g*c*(l[S+2][d+1]-l[S+2][d]))+f*(l[S+3][d+1]-l[S+3][d]);return E}:function(E,d,S,M,v){var u,s,a;E||(E=[]);var o=1-v;for(s=0;s<B.length;s++)u=(a=B[s])[S][d+1]-a[S][d],E[s]=o*u+v*(a[S+1][d+1]-a[S+1][d]);return E}}},73057:function(ae){"use strict";ae.exports=function(B,r,D){return r&&D?function(E,d,S,M,v){var u,o,l;E||(E=[]),d*=3,S*=3;var c=M*M,f=c*M,g=1-M,h=g*g,T=h*g,x=v*v,m=1-v,b=m*m,_=m*v*2,w=-3*b,A=3*(b-_),p=3*(_-x),I=3*x;for(l=0;l<B.length;l++)u=w*(o=B[l])[S][d]+A*o[S+1][d]+p*o[S+2][d]+I*o[S+3][d],E[l]=T*u+3*(h*M*(w*o[S][d+1]+A*o[S+1][d+1]+p*o[S+2][d+1]+I*o[S+3][d+1])+g*c*(w*o[S][d+2]+A*o[S+1][d+2]+p*o[S+2][d+2]+I*o[S+3][d+2]))+f*(w*o[S][d+3]+A*o[S+1][d+3]+p*o[S+2][d+3]+I*o[S+3][d+3]);return E}:r?function(E,d,S,M,v){var u,o,l;E||(E=[]),d*=3;var c=v*v,f=c*v,g=1-v,h=g*g,T=h*g;for(o=0;o<B.length;o++)u=(l=B[o])[S+1][d]-l[S][d],E[o]=T*u+3*(h*v*(l[S+1][d+1]-l[S][d+1])+g*c*(l[S+1][d+2]-l[S][d+2]))+f*(l[S+1][d+3]-l[S][d+3]);return E}:D?function(E,d,S,M,v){var u,s,a;E||(E=[]),S*=3;var o=1-M,l=v*v,c=1-v,f=c*c,g=c*v*2,h=-3*f,T=3*(f-g),x=3*(g-l),m=3*l;for(s=0;s<B.length;s++)u=h*(a=B[s])[S][d]+T*a[S+1][d]+x*a[S+2][d]+m*a[S+3][d],E[s]=o*u+M*(h*a[S][d+1]+T*a[S+1][d+1]+x*a[S+2][d+1]+m*a[S+3][d+1]);return E}:function(E,d,S,M,v){var u,s,a;E||(E=[]);var o=1-M;for(s=0;s<B.length;s++)u=(a=B[s])[S+1][d]-a[S][d],E[s]=o*u+M*(a[S+1][d+1]-a[S][d+1]);return E}}},20349:function(ae){"use strict";ae.exports=function(B,r,D,E,d){var S=r-2,M=D-2;return E&&d?function(v,u,i){var s,c,f;v||(v=[]);var g=Math.max(0,Math.min(Math.floor(u),S)),h=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,u-g)),x=Math.max(0,Math.min(1,i-h));g*=3,h*=3;var m=T*T,b=m*T,_=1-T,w=_*_,A=w*_,p=x*x,I=p*x,k=1-x,L=k*k,O=L*k;for(f=0;f<B.length;f++)s=A*(c=B[f])[h][g]+3*(w*T*c[h][g+1]+_*m*c[h][g+2])+b*c[h][g+3],v[f]=O*s+3*(L*x*(A*c[h+1][g]+3*(w*T*c[h+1][g+1]+_*m*c[h+1][g+2])+b*c[h+1][g+3])+k*p*(A*c[h+2][g]+3*(w*T*c[h+2][g+1]+_*m*c[h+2][g+2])+b*c[h+2][g+3]))+I*(A*c[h+3][g]+3*(w*T*c[h+3][g+1]+_*m*c[h+3][g+2])+b*c[h+3][g+3]);return v}:E?function(v,u,i){v||(v=[]);var s,c,f,g=Math.max(0,Math.min(Math.floor(u),S)),h=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,u-g)),x=Math.max(0,Math.min(1,i-h));g*=3;var m=T*T,b=m*T,_=1-T,w=_*_,A=w*_,p=1-x;for(c=0;c<B.length;c++)s=p*(f=B[c])[h][g]+x*f[h+1][g],v[c]=A*s+3*(w*T*(p*f[h][g+1]+x*f[h+1][g+1])+_*m*(p*f[h][g+2]+x*f[h+1][g+1]))+b*(p*f[h][g+3]+x*f[h+1][g+1]);return v}:d?function(v,u,i){v||(v=[]);var s,c,f,g=Math.max(0,Math.min(Math.floor(u),S)),h=Math.max(0,Math.min(Math.floor(i),M)),T=Math.max(0,Math.min(1,u-g)),x=Math.max(0,Math.min(1,i-h));h*=3;var m=x*x,b=m*x,_=1-x,w=_*_,A=w*_,p=1-T;for(c=0;c<B.length;c++)s=p*(f=B[c])[h][g]+T*f[h][g+1],v[c]=A*s+3*(w*x*(p*f[h+1][g]+T*f[h+1][g+1])+_*m*(p*f[h+2][g]+T*f[h+2][g+1]))+b*(p*f[h+3][g]+T*f[h+3][g+1]);return v}:function(v,u,i){v||(v=[]);var s,o,l,c=Math.max(0,Math.min(Math.floor(u),S)),f=Math.max(0,Math.min(Math.floor(i),M)),g=Math.max(0,Math.min(1,u-c)),h=Math.max(0,Math.min(1,i-f)),T=1-h,x=1-g;for(o=0;o<B.length;o++)s=x*(l=B[o])[f][c]+g*l[f][c+1],v[o]=T*s+h*(x*l[f+1][c]+g*l[f+1][c+1]);return v}}},92087:function(ae,B,r){"use strict";var D=r(71828),E=r(19237),d=r(13145),S=r(99798),M=r(22399);ae.exports=function(v,u,i,s){function a(l,c){return D.coerce(v,u,S,l,c)}u._clipPathId="clip"+u.uid+"carpet";var o=a("color",M.defaultLine);D.coerceFont(a,"font"),a("carpet"),d(v,u,s,a,o),u.a&&u.b?(u.a.length<3&&(u.aaxis.smoothing=0),u.b.length<3&&(u.baxis.smoothing=0),E(v,u,a)||(u.visible=!1),u._cheater&&a("cheaterslope")):u.visible=!1}},21462:function(ae,B,r){"use strict";ae.exports={attributes:r(99798),supplyDefaults:r(92087),plot:r(89740),calc:r(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(ae){"use strict";ae.exports=function(B,r){for(var D,E=B._fullData.length,d=0;d<E;d++){var S=B._fullData[d];if(S.index!==r.index&&"carpet"===S.type&&(D||(D=S),S.carpet===r.carpet))return S}return D}},67961:function(ae){"use strict";ae.exports=function(B,r,D){if(0===B.length)return"";var E,d=[],S=D?3:1;for(E=0;E<B.length;E+=S)d.push(B[E]+","+r[E]),D&&E<B.length-S&&(d.push("C"),d.push([B[E+1]+","+r[E+1],B[E+2]+","+r[E+2]+" "].join(" ")));return d.join(D?"":"L")}},27669:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray;ae.exports=function(E,d,S){var M;for(D(E)?E.length>d.length&&(E=E.slice(0,d.length)):E=[],M=0;M<d.length;M++)E[M]=S(d[M]);return E}},11651:function(ae){"use strict";ae.exports=function(B,r,D,E,d,S){var M=d[0]*B.dpdx(r),v=d[1]*B.dpdy(D),u=1,i=1;if(S){var s=Math.sqrt(d[0]*d[0]+d[1]*d[1]),a=Math.sqrt(S[0]*S[0]+S[1]*S[1]);i=Math.max(0,(d[0]*S[0]+d[1]*S[1])/s/a)}var l=180*Math.atan2(v,M)/Math.PI;return l<-90?(l+=180,u=-u):l>90&&(l-=180,u=-u),{angle:l,flip:u,p:B.c2p(E,r,D),offsetMultplier:i}}},89740:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(27669),S=r(67961),M=r(11651),v=r(63893),u=r(71828),i=u.strRotate,s=u.strTranslate,a=r(18783);function o(h,T,x,m,b,_,w){var A="const-"+b+"-lines",p=x.selectAll("."+A).data(_);p.enter().append("path").classed(A,!0).style("vector-effect",w?"none":"non-scaling-stroke"),p.each(function(I){var k=I,O=k.y,P=d([],k.x,h.c2p),F=d([],O,T.c2p),j="M"+S(P,F,k.smoothing);D.select(this).attr("d",j).style("stroke-width",k.width).style("stroke",k.color).style("stroke-dasharray",E.dashStyle(k.dash,k.width)).style("fill","none")}),p.exit().remove()}function l(h,T,x,m,b,_,w,A){var p=_.selectAll("text."+A).data(w);p.enter().append("text").classed(A,!0);var I=0,k={};return p.each(function(L,O){var P;if("auto"===L.axis.tickangle)P=M(m,T,x,L.xy,L.dxy);else{var F=(L.axis.tickangle+180)*Math.PI/180;P=M(m,T,x,L.xy,[Math.cos(F),Math.sin(F)])}O||(k={angle:P.angle,flip:P.flip});var j=(L.endAnchor?-1:1)*P.flip,X=D.select(this).attr({"text-anchor":j>0?"start":"end","data-notex":1}).call(E.font,L.font).text(L.text).call(v.convertToTspans,h),N=E.bBox(this);X.attr("transform",s(P.p[0],P.p[1])+i(P.angle)+s(L.axis.labelpadding*j,.3*N.height)),I=Math.max(I,N.width+L.axis.labelpadding)}),p.exit().remove(),k.maxExtent=I,k}ae.exports=function(h,T,x,m){var b=h._context.staticPlot,_=T.xaxis,w=T.yaxis,A=h._fullLayout._clips;u.makeTraceGroups(m,x,"trace").each(function(p){var I=D.select(this),k=p[0],L=k.trace,O=L.aaxis,P=L.baxis,F=u.ensureSingle(I,"g","minorlayer"),j=u.ensureSingle(I,"g","majorlayer"),X=u.ensureSingle(I,"g","boundarylayer"),N=u.ensureSingle(I,"g","labellayer");I.style("opacity",L.opacity),o(_,w,j,0,"a",O._gridlines,!0),o(_,w,j,0,"b",P._gridlines,!0),o(_,w,F,0,"a",O._minorgridlines,!0),o(_,w,F,0,"b",P._minorgridlines,!0),o(_,w,X,0,"a-boundary",O._boundarylines,b),o(_,w,X,0,"b-boundary",P._boundarylines,b);var H,Z,$,ne,re,Q,ee,oe,ce,ue,he,ve,ke,Ie,Me,q=l(h,_,w,L,0,N,O._labels,"a-label"),G=l(h,_,w,L,0,N,P._labels,"b-label");H=h,Z=N,$=L,ne=_,re=w,Q=q,ee=G,ve=u.aggNums(Math.min,null,$.a),ke=u.aggNums(Math.max,null,$.a),Ie=u.aggNums(Math.min,null,$.b),Me=u.aggNums(Math.max,null,$.b),ue=$.ab2xy(oe=.5*(ve+ke),ce=Ie,!0),he=$.dxyda_rough(oe,ce),void 0===Q.angle&&u.extendFlat(Q,M($,ne,re,ue,$.dxydb_rough(oe,ce))),g(H,Z,$,0,ue,he,$.aaxis,ne,re,Q,"a-title"),ue=$.ab2xy(oe=ve,ce=.5*(Ie+Me),!0),he=$.dxydb_rough(oe,ce),void 0===ee.angle&&u.extendFlat(ee,M($,ne,re,ue,$.dxyda_rough(oe,ce))),g(H,Z,$,0,ue,he,$.baxis,ne,re,ee,"b-title"),function(H,Z,$,se,ne){var re,Q,ee,oe,ce=$.select("#"+H._clipPathId);ce.size()||(ce=$.append("clipPath").classed("carpetclip",!0));var ue=u.ensureSingle(ce,"path","carpetboundary"),he=Z.clipsegments,ve=[];for(oe=0;oe<he.length;oe++)Q=d([],(re=he[oe]).x,se.c2p),ee=d([],re.y,ne.c2p),ve.push(S(Q,ee,re.bicubic));var ke="M"+ve.join("L")+"Z";ce.attr("id",H._clipPathId),ue.attr("d",ke)}(L,k,A,_,w)})};var c=a.LINE_SPACING,f=(1-a.MID_SHIFT)/c+1;function g(h,T,x,m,b,_,w,A,p,I,k){var L=[];w.title.text&&L.push(w.title.text);var O=T.selectAll("text."+k).data(L),P=I.maxExtent;O.enter().append("text").classed(k,!0),O.each(function(){var F=M(x,A,p,b,_);-1===["start","both"].indexOf(w.showticklabels)&&(P=0);var j=w.title.font.size;P+=j+w.title.offset;var X=(I.angle+(I.flip<0?180:0)-F.angle+450)%360,N=X>90&&X<270,q=D.select(this);q.text(w.title.text).call(v.convertToTspans,h),N&&(P=(-v.lineCount(q)+f)*c*j-P),q.attr("transform",s(F.p[0],F.p[1])+i(F.angle)+s(0,P)).attr("text-anchor","middle").call(E.font,w.title.font)}),O.exit().remove()}},11435:function(ae,B,r){"use strict";var D=r(35509),E=r(65888).findBin,d=r(45664),S=r(20349),M=r(54495),v=r(73057);ae.exports=function(u){var i=u._a,s=u._b,a=i.length,o=s.length,l=u.aaxis,c=u.baxis,f=i[0],g=i[a-1],h=s[0],T=s[o-1],x=i[i.length-1]-i[0],m=s[s.length-1]-s[0],b=x*D.RELATIVE_CULL_TOLERANCE,_=m*D.RELATIVE_CULL_TOLERANCE;f-=b,g+=b,h-=_,T+=_,u.isVisible=function(w,A){return w>f&&w<g&&A>h&&A<T},u.isOccluded=function(w,A){return w<f||w>g||A<h||A>T},u.setScale=function(){var p=d(u._xctrl,u._yctrl,u._x,u._y,l.smoothing,c.smoothing);u._xctrl=p[0],u._yctrl=p[1],u.evalxy=S([u._xctrl,u._yctrl],a,o,l.smoothing,c.smoothing),u.dxydi=M([u._xctrl,u._yctrl],l.smoothing,c.smoothing),u.dxydj=v([u._xctrl,u._yctrl],l.smoothing,c.smoothing)},u.i2a=function(w){var A=Math.max(0,Math.floor(w[0]),a-2),p=w[0]-A;return(1-p)*i[A]+p*i[A+1]},u.j2b=function(w){var A=Math.max(0,Math.floor(w[1]),a-2),p=w[1]-A;return(1-p)*s[A]+p*s[A+1]},u.ij2ab=function(w){return[u.i2a(w[0]),u.j2b(w[1])]},u.a2i=function(w){var A=Math.max(0,Math.min(E(w,i),a-2)),p=i[A];return Math.max(0,Math.min(a-1,A+(w-p)/(i[A+1]-p)))},u.b2j=function(w){var A=Math.max(0,Math.min(E(w,s),o-2)),p=s[A];return Math.max(0,Math.min(o-1,A+(w-p)/(s[A+1]-p)))},u.ab2ij=function(w){return[u.a2i(w[0]),u.b2j(w[1])]},u.i2c=function(w,A){return u.evalxy([],w,A)},u.ab2xy=function(w,A,p){if(!p&&(w<i[0]||w>i[a-1]|A<s[0]||A>s[o-1]))return[!1,!1];var I=u.a2i(w),k=u.b2j(A),L=u.evalxy([],I,k);if(p){var O,P,F,j,X=0,N=0,q=[];w<i[0]?(O=0,P=0,X=(w-i[0])/(i[1]-i[0])):w>i[a-1]?(O=a-2,P=1,X=(w-i[a-1])/(i[a-1]-i[a-2])):P=I-(O=Math.max(0,Math.min(a-2,Math.floor(I)))),A<s[0]?(F=0,j=0,N=(A-s[0])/(s[1]-s[0])):A>s[o-1]?(F=o-2,j=1,N=(A-s[o-1])/(s[o-1]-s[o-2])):j=k-(F=Math.max(0,Math.min(o-2,Math.floor(k)))),X&&(u.dxydi(q,O,F,P,j),L[0]+=q[0]*X,L[1]+=q[1]*X),N&&(u.dxydj(q,O,F,P,j),L[0]+=q[0]*N,L[1]+=q[1]*N)}return L},u.c2p=function(w,A,p){return[A.c2p(w[0]),p.c2p(w[1])]},u.p2x=function(w,A,p){return[A.p2c(w[0]),p.p2c(w[1])]},u.dadi=function(w){var A=Math.max(0,Math.min(i.length-2,w));return i[A+1]-i[A]},u.dbdj=function(w){var A=Math.max(0,Math.min(s.length-2,w));return s[A+1]-s[A]},u.dxyda=function(w,A,p,I){var k=u.dxydi(null,w,A,p,I),L=u.dadi(w,p);return[k[0]/L,k[1]/L]},u.dxydb=function(w,A,p,I){var k=u.dxydj(null,w,A,p,I),L=u.dbdj(A,I);return[k[0]/L,k[1]/L]},u.dxyda_rough=function(w,A,p){var I=x*(p||.1),k=u.ab2xy(w+I,A,!0),L=u.ab2xy(w-I,A,!0);return[.5*(k[0]-L[0])/I,.5*(k[1]-L[1])/I]},u.dxydb_rough=function(w,A,p){var I=m*(p||.1),k=u.ab2xy(w,A+I,!0),L=u.ab2xy(w,A-I,!0);return[.5*(k[0]-L[0])/I,.5*(k[1]-L[1])/I]},u.dpdx=function(w){return w._m},u.dpdy=function(w){return w._m}}},72505:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d,S){var M,v,u,i=[],s=[],a=E[0].length,o=E.length;var c,f,g,h,T,x,m,b,_,w,H,Z,$,se,ne,p=0;for(M=0;M<a;M++)for(v=0;v<o;v++)void 0===E[v][M]&&(i.push(M),s.push(v),E[v][M]=(Z=v,$=void 0,se=void 0,ne=void 0,se=0,ne=0,(H=M)>0&&void 0!==($=E[Z][H-1])&&(ne++,se+=$),H<a-1&&void 0!==($=E[Z][H+1])&&(ne++,se+=$),Z>0&&void 0!==($=E[Z-1][H])&&(ne++,se+=$),Z<o-1&&void 0!==($=E[Z+1][H])&&(ne++,se+=$),se/Math.max(1,ne))),p=Math.max(p,Math.abs(E[v][M]));if(!i.length)return E;var I=0,k=0,L=i.length;do{for(I=0,u=0;u<L;u++){v=s[u];var P,F,j,X,N,q=0,G=0;0===(M=i[u])?(F=d[X=Math.min(a-1,2)],G+=(P=E[v][1])+(P-E[v][X])*(d[0]-(j=d[1]))/(j-F),q++):M===a-1&&(F=d[X=Math.max(0,a-3)],G+=(P=E[v][a-2])+(P-E[v][X])*(d[a-1]-(j=d[a-2]))/(j-F),q++),(0===M||M===a-1)&&v>0&&v<o-1&&(G+=((f=S[v]-S[v-1])*E[v+1][M]+(c=S[v+1]-S[v])*E[v-1][M])/(f+c),q++),0===v?(F=S[N=Math.min(o-1,2)],G+=(P=E[1][M])+(P-E[N][M])*(S[0]-(j=S[1]))/(j-F),q++):v===o-1&&(F=S[N=Math.max(0,o-3)],G+=(P=E[o-2][M])+(P-E[N][M])*(S[o-1]-(j=S[o-2]))/(j-F),q++),(0===v||v===o-1)&&M>0&&M<a-1&&(G+=((f=d[M]-d[M-1])*E[v][M+1]+(c=d[M+1]-d[M])*E[v][M-1])/(f+c),q++),q?G/=q:(b=(T=S[v+1]-S[v])*(x=S[v]-S[v-1])*(T+x),G=((m=(g=d[M+1]-d[M])*(h=d[M]-d[M-1])*(g+h))*(x*E[v+1][M]+T*E[v-1][M])+b*(h*E[v][M+1]+g*E[v][M-1]))/(b*(h+g)+m*(x+T))),I+=(w=(_=G-E[v][M])/p)*w,E[v][M]+=_*(1+(q?0:.85))}I=Math.sqrt(I)}while(k++<100&&I>1e-5);return D.log("Smoother converged to",I,"after",k,"iterations"),E}},19237:function(ae,B,r){"use strict";var D=r(71828).isArray1D;ae.exports=function(E,d,S){var M=S("x"),v=M&&M.length,u=S("y"),i=u&&u.length;if(!v&&!i)return!1;if(d._cheater=!M,v&&!D(M)||i&&!D(u))d._length=null;else{var s=v?M.length:1/0;i&&(s=Math.min(s,u.length)),d.a&&d.a.length&&(s=Math.min(s,d.a.length)),d.b&&d.b.length&&(s=Math.min(s,d.b.length)),d._length=s}return!0}},69568:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(19316),d=r(50693),S=r(9012),M=r(22399).defaultLine,v=r(1426).extendFlat,u=E.marker.line;ae.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:E.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},E.geojson,{}),featureidkey:E.featureidkey,text:v({},E.text,{}),hovertext:v({},E.hovertext,{}),marker:{line:{color:v({},u.color,{dflt:M}),width:v({},u.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:E.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:E.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},S.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:D(),showlegend:v({},S.showlegend,{dflt:!1})},d("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,d=r(78803),S=r(75225),M=r(66279);function v(u){return u&&"string"==typeof u}ae.exports=function(u,i){var s,a=i._length,o=new Array(a);s=i.geojson?function(h){return v(h)||D(h)}:v;for(var l=0;l<a;l++){var c=o[l]={},f=i.locations[l],g=i.z[l];s(f)&&D(g)?(c.loc=f,c.z=g):(c.loc=null,c.z=E),c.index=l}return S(o,i),d(u,i,{vals:i.z,containerStr:"",cLetter:"z"}),M(o,i),o}},61869:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),d=r(69568);ae.exports=function(S,M,v,u){function i(c,f){return D.coerce(S,M,d,c,f)}var s=i("locations"),a=i("z");if(s&&s.length&&D.isArrayOrTypedArray(a)&&a.length){M._length=Math.min(s.length,a.length);var o,l=i("geojson");("string"==typeof l&&""!==l||D.isPlainObject(l))&&(o="geojson-id"),"geojson-id"===i("locationmode",o)&&i("featureidkey"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(S,M,u,i,{prefix:"",cLetter:"z"}),D.coerceSelectionMarkerOpacity(M,i)}else M.visible=!1}},92069:function(ae){"use strict";ae.exports=function(B,r,D,E,d){B.location=r.location,B.z=r.z;var S=E[d];return S.fIn&&S.fIn.properties&&(B.properties=S.fIn.properties),B.ct=S.ct,B}},42300:function(ae,B,r){"use strict";var D=r(89298),E=r(69568),d=r(71828).fillText;ae.exports=function(S,M,v){var u,i,s,a,o=S.cd,l=o[0].trace,c=S.subplot,f=[M,v],g=[M+360,v];for(i=0;i<o.length;i++)if(a=!1,(u=o[i])._polygons){for(s=0;s<u._polygons.length;s++)u._polygons[s].contains(f)&&(a=!a),u._polygons[s].contains(g)&&(a=!a);if(a)break}if(a&&u)return S.x0=S.x1=S.xa.c2p(u.ct),S.y0=S.y1=S.ya.c2p(u.ct),S.index=u.index,S.location=u.loc,S.z=u.z,S.zLabel=D.tickText(c.mockAxis,c.mockAxis.c2l(u.z),"hover").text,S.hovertemplate=u.hovertemplate,function(h,T,x){if(!T.hovertemplate){var m=x.hi||T.hoverinfo,b=String(x.loc),_="all"===m?E.hoverinfo.flags:m.split("+"),w=-1!==_.indexOf("name"),A=-1!==_.indexOf("location"),p=-1!==_.indexOf("z"),I=-1!==_.indexOf("text"),k=[];!w&&A?h.nameOverride=b:(w&&(h.nameOverride=T.name),A&&k.push(b)),p&&k.push(h.zLabel),I&&d(x,T,k),h.extraText=k.join("<br>")}}(S,l,u),[S]}},51319:function(ae,B,r){"use strict";ae.exports={attributes:r(69568),supplyDefaults:r(61869),colorbar:r(61243),calc:r(38675),calcGeoJSON:r(99841).calcGeoJSON,plot:r(99841).plot,style:r(99636).style,styleOnSelect:r(99636).styleOnSelect,hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),moduleType:"trace",name:"choropleth",basePlotModule:r(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(41327),S=r(90973).getTopojsonFeatures,M=r(71739).findExtremes,v=r(99636).style;ae.exports={calcGeoJSON:function(u,i){for(var s=u[0].trace,a=i[s.geo],o=a._subplot,l=s.locationmode,c=s._length,f="geojson-id"===l?d.extractTraceFeature(u):S(s,o.topojson),g=[],h=[],T=0;T<c;T++){var x=u[T],m="geojson-id"===l?x.fOut:d.locationToFeature(l,x.loc,f);if(m){x.geojson=m,x.ct=m.properties.ct,x._polygons=d.feature2polygons(m);var b=d.computeBbox(m);g.push(b[0],b[2]),h.push(b[1],b[3])}else x.geojson=null}if("geojson"===a.fitbounds&&"geojson-id"===l){var _=d.computeBbox(d.getTraceGeojson(s));g=[_[0],_[2]],h=[_[1],_[3]]}var w={padded:!0};s._extremes.lon=M(a.lonaxis._ax,g,w),s._extremes.lat=M(a.lataxis._ax,h,w)},plot:function(u,i,s){var a=i.layers.backplot.select(".choroplethlayer");E.makeTraceGroups(a,s,"trace choropleth").each(function(o){var l=D.select(this).selectAll("path.choroplethlocation").data(E.identity);l.enter().append("path").classed("choroplethlocation",!0),l.exit().remove(),v(u,o)})}}},81253:function(ae){"use strict";ae.exports=function(B,r){var D,E,d,S,M,v=B.cd,u=B.xaxis,i=B.yaxis,s=[];if(!1===r)for(D=0;D<v.length;D++)v[D].selected=0;else for(D=0;D<v.length;D++)(d=(E=v[D]).ct)&&(S=u.c2p(d),M=i.c2p(d),r.contains([S,M],null,D,B)?(s.push({pointNumber:D,lon:d[0],lat:d[1]}),E.selected=1):E.selected=0);return s}},99636:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),d=r(91424),S=r(21081);function M(v,u){var i=u[0].trace,s=u[0].node3.selectAll(".choroplethlocation"),a=i.marker||{},o=a.line||{},l=S.makeColorScaleFuncFromTrace(i);s.each(function(c){D.select(this).attr("fill",l(c.z)).call(E.stroke,c.mlc||o.color).call(d.dashLine,"",c.mlw||o.width||0).style("opacity",a.opacity)}),d.selectedPointStyle(s,i)}ae.exports={style:function(v,u){u&&M(0,u)},styleOnSelect:function(v,u){var s=u[0].trace;s.selectedpoints?d.selectedPointStyle(u[0].node3.selectAll(".choroplethlocation"),s):M(0,u)}}},64496:function(ae,B,r){"use strict";var D=r(69568),E=r(50693),d=r(5386).fF,S=r(9012),M=r(1426).extendFlat;ae.exports=M({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:M({},D.featureidkey,{}),below:{valType:"string",editType:"plot"},text:D.text,hovertext:D.hovertext,marker:{line:{color:M({},D.marker.line.color,{editType:"plot"}),width:M({},D.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:M({},D.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:M({},D.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:M({},D.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:D.hoverinfo,hovertemplate:d({},{keys:["properties"]}),showlegend:M({},S.showlegend,{dflt:!1})},E("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(21081),S=r(91424),M=r(18214).makeBlank,v=r(41327);function u(i){var s,a=i[0].trace,o=a._opts;if(a.selectedpoints){for(var l=S.makeSelectedPointStyleFns(a),c=0;c<i.length;c++){var f=i[c];f.fOut&&(f.fOut.properties.mo2=l.selectedOpacityFn(f))}s={type:"identity",property:"mo2"}}else s=E.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return E.extendFlat(o.fill.paint,{"fill-opacity":s}),E.extendFlat(o.line.paint,{"line-opacity":s}),o}ae.exports={convert:function(i){var s=i[0].trace,a=!0===s.visible&&0!==s._length,o={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},c=s._opts={fill:o,line:l,geojson:M()};if(!a)return c;var f=v.extractTraceFeature(i);if(!f)return c;var g,h,T,x=d.makeColorScaleFuncFromTrace(s),m=s.marker,b=m.line||{};E.isArrayOrTypedArray(m.opacity)&&(g=function(k){var L=k.mo;return D(L)?+E.constrain(L,0,1):0}),E.isArrayOrTypedArray(b.color)&&(h=function(k){return k.mlc}),E.isArrayOrTypedArray(b.width)&&(T=function(k){return k.mlw});for(var _=0;_<i.length;_++){var w=i[_],A=w.fOut;if(A){var p=A.properties;p.fc=x(w.z),g&&(p.mo=g(w)),h&&(p.mlc=h(w)),T&&(p.mlw=T(w)),w.ct=p.ct,w._polygons=v.feature2polygons(A)}}var I=g?{type:"identity",property:"mo"}:m.opacity;return E.extendFlat(o.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":I}),E.extendFlat(l.paint,{"line-color":h?{type:"identity",property:"mlc"}:b.color,"line-width":T?{type:"identity",property:"mlw"}:b.width,"line-opacity":I}),o.layout.visibility="visible",l.layout.visibility="visible",c.geojson={type:"FeatureCollection",features:f},u(i),c},convertOnSelect:u}},22654:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),d=r(64496);ae.exports=function(S,M,v,u){function i(l,c){return D.coerce(S,M,d,l,c)}var s=i("locations"),a=i("z"),o=i("geojson");D.isArrayOrTypedArray(s)&&s.length&&D.isArrayOrTypedArray(a)&&a.length&&("string"==typeof o&&""!==o||D.isPlainObject(o))?(i("featureidkey"),M._length=Math.min(s.length,a.length),i("below"),i("text"),i("hovertext"),i("hovertemplate"),i("marker.line.width")&&i("marker.line.color"),i("marker.opacity"),E(S,M,u,i,{prefix:"",cLetter:"z"}),D.coerceSelectionMarkerOpacity(M,i)):M.visible=!1}},57516:function(ae,B,r){"use strict";ae.exports={attributes:r(64496),supplyDefaults:r(22654),colorbar:r(61243),calc:r(38675),plot:r(7852),hoverPoints:r(42300),eventData:r(92069),selectPoints:r(81253),styleOnSelect:function(D,E){E&&E[0].trace._glTrace.updateOnSelect(E)},getBelow:function(D,E){for(var d=E.getMapLayers(),S=d.length-2;S>=0;S--){var M=d[S].id;if("string"==typeof M&&0===M.indexOf("water"))for(var v=S+1;v<d.length;v++)if("string"==typeof(M=d[v].id)&&-1===M.indexOf("plotly-"))return M}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:r(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(ae,B,r){"use strict";var D=r(82004).convert,E=r(82004).convertOnSelect,d=r(77734).traceLayerPrefix;function S(v,u){this.type="choroplethmapbox",this.subplot=v,this.uid=u,this.sourceId="source-"+u,this.layerList=[["fill",d+u+"-fill"],["line",d+u+"-line"]],this.below=null}var M=S.prototype;M.update=function(v){this._update(D(v)),v[0].trace._glTrace=this},M.updateOnSelect=function(v){this._update(E(v))},M._update=function(v){var u=this.subplot,i=this.layerList,s=u.belowLookup["trace-"+this.uid];u.map.getSource(this.sourceId).setData(v.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(v,s),this.below=s);for(var a=0;a<i.length;a++){var o=i[a],c=o[1],f=v[o[0]];u.setOptions(c,"setLayoutProperty",f.layout),"visible"===f.layout.visibility&&u.setOptions(c,"setPaintProperty",f.paint)}},M._addLayers=function(v,u){for(var i=this.subplot,s=this.layerList,a=this.sourceId,o=0;o<s.length;o++){var l=s[o],c=l[0],f=v[c];i.addLayer({type:c,id:l[1],source:a,layout:f.layout,paint:f.paint},u)}},M._removeLayers=function(){for(var v=this.subplot.map,u=this.layerList,i=u.length-1;i>=0;i--)v.removeLayer(u[i][1])},M.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},ae.exports=function(v,u){var i=u[0].trace,s=new S(v,i.uid),a=s.sourceId,o=D(u),l=s.below=v.belowLookup["trace-"+i.uid];return v.map.addSource(a,{type:"geojson",data:o.geojson}),s._addLayers(o,l),u[0].trace._glTrace=s,s}},12674:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,d=r(5386).fF,S=r(2418),M=r(9012),v=r(1426).extendFlat,u={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:d({editType:"calc"},{keys:["norm"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(u,D("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){u[i]=S[i]}),u.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),u.transforms=void 0,ae.exports=u},31371:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,d){for(var S=d.u,M=d.v,v=d.w,u=Math.min(d.x.length,d.y.length,d.z.length,S.length,M.length,v.length),i=-1/0,s=1/0,a=0;a<u;a++){var o=S[a],l=M[a],c=v[a],f=Math.sqrt(o*o+l*l+c*c);i=Math.max(i,f),s=Math.min(s,f)}d._len=u,d._normMax=i,D(E,d,{vals:[s,i],containerStr:"",cLetter:"c"})}},5453:function(ae,B,r){"use strict";var D=r(9330).gl_cone3d,E=r(9330).gl_cone3d.createConeMesh,d=r(71828).simpleMap,S=r(81697).parseColorScale,M=r(21081).extractOpts,v=r(90060);function u(c,f){this.scene=c,this.uid=f,this.mesh=null,this.data=null}var i=u.prototype;i.handlePick=function(c){if(c.object===this.mesh){var f=c.index=c.data.index,x=this.data.u[f],m=this.data.v[f],b=this.data.w[f];c.traceCoordinate=[this.data.x[f],this.data.y[f],this.data.z[f],x,m,b,Math.sqrt(x*x+m*m+b*b)];var _=this.data.hovertext||this.data.text;return Array.isArray(_)&&void 0!==_[f]?c.textLabel=_[f]:_&&(c.textLabel=_),!0}};var s={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},o={tip:1,tail:1,cm:.75,center:.5};function l(c,f){var g=c.fullSceneLayout,h=c.dataScale,T={};function x(w,A){var p=g[A],I=h[s[A]];return d(w,function(k){return p.d2l(k)*I})}T.vectors=v(x(f.u,"xaxis"),x(f.v,"yaxis"),x(f.w,"zaxis"),f._len),T.positions=v(x(f.x,"xaxis"),x(f.y,"yaxis"),x(f.z,"zaxis"),f._len);var m=M(f);T.colormap=S(f),T.vertexIntensityBounds=[m.min/f._normMax,m.max/f._normMax],T.coneOffset=a[f.anchor],T.coneSize="scaled"===f.sizemode?f.sizeref||.5:f.sizeref&&f._normMax?f.sizeref/f._normMax:.5;var b=D(T),_=f.lightposition;return b.lightPosition=[_.x,_.y,_.z],b.ambient=f.lighting.ambient,b.diffuse=f.lighting.diffuse,b.specular=f.lighting.specular,b.roughness=f.lighting.roughness,b.fresnel=f.lighting.fresnel,b.opacity=f.opacity,f._pad=o[f.anchor]*b.vectorScale*b.coneScale*f._normMax,b}i.update=function(c){this.data=c;var f=l(this.scene,c);this.mesh.update(f)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(c,f){var g=c.glplot.gl,h=l(c,f),T=E(g,h),x=new u(c,f.uid);return x.mesh=T,x.data=f,T._trace=x,c.glplot.add(T),x}},91750:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),d=r(12674);ae.exports=function(S,M,v,u){function i(g,h){return D.coerce(S,M,d,g,h)}var s=i("u"),a=i("v"),o=i("w"),l=i("x"),c=i("y"),f=i("z");s&&s.length&&a&&a.length&&o&&o.length&&l&&l.length&&c&&c.length&&f&&f.length?(i("sizeref"),i("sizemode"),i("anchor"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(S,M,u,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},98128:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"cone",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(12674),supplyDefaults:r(91750),colorbar:{min:"cmin",max:"cmax"},calc:r(31371),plot:r(5453),eventData:function(D,E){return D.norm=E.traceCoordinate[6],D},meta:{}}},70600:function(ae,B,r){"use strict";var D=r(21606),E=r(82196),d=r(12663),S=d.axisHoverFormat,M=d.descriptionOnlyNumbers,v=r(50693),u=r(79952).P,i=r(41940),s=r(1426).extendFlat,a=r(74808),o=a.COMPARISON_OPS2,l=a.INTERVAL_OPS,c=E.line;ae.exports=s({z:D.z,x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,text:D.text,hovertext:D.hovertext,transpose:D.transpose,xtype:D.xtype,ytype:D.ytype,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:D.hovertemplate,texttemplate:s({},D.texttemplate,{}),textfont:s({},D.textfont,{}),hoverongaps:D.hoverongaps,connectgaps:s({},D.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:i({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:M("contour label")},operation:{valType:"enumerated",values:[].concat(o).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:s({},c.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:u,smoothing:s({},c.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(ae,B,r){"use strict";var D=r(21081),E=r(90757),d=r(18670),S=r(53572);ae.exports=function(M,v){var u=E(M,v),i=u[0].z;d(v,i);var s,a=v.contours,o=D.extractOpts(v);if("heatmap"===a.coloring&&o.auto&&!1===v.autocontour){var l=a.start,c=S(a),f=a.size||1,g=Math.floor((c-l)/f)+1;isFinite(f)||(f=1,g=1);var h=l-f/2;s=[h,h+g*f]}else s=i;return D.calc(M,v,{vals:s,cLetter:"z"}),u}},20083:function(ae){"use strict";ae.exports=function(B,r){var D,E=B[0],d=E.z;switch(r.type){case"levels":var S=Math.min(d[0][0],d[0][1]);for(D=0;D<B.length;D++){var M=B[D];M.prefixBoundary=!M.edgepaths.length&&(S>M.level||M.starts.length&&S===M.level)}break;case"constraint":if(E.prefixBoundary=!1,E.edgepaths.length)return;var v=E.x.length,u=E.y.length,i=-1/0,s=1/0;for(D=0;D<u;D++)s=Math.min(s,d[D][0]),s=Math.min(s,d[D][v-1]),i=Math.max(i,d[D][0]),i=Math.max(i,d[D][v-1]);for(D=1;D<v-1;D++)s=Math.min(s,d[0][D]),s=Math.min(s,d[u-1][D]),i=Math.max(i,d[0][D]),i=Math.max(i,d[u-1][D]);var a,o,l=r.value;switch(r._operation){case">":l>i&&(E.prefixBoundary=!0);break;case"<":(l<s||E.starts.length&&l===s)&&(E.prefixBoundary=!0);break;case"[]":a=Math.min(l[0],l[1]),((o=Math.max(l[0],l[1]))<s||a>i||E.starts.length&&o===s)&&(E.prefixBoundary=!0);break;case"][":a=Math.min(l[0],l[1]),o=Math.max(l[0],l[1]),a<s&&o>i&&(E.prefixBoundary=!0)}}}},90654:function(ae,B,r){"use strict";var D=r(21081),E=r(86068),d=r(53572);ae.exports={min:"zmin",max:"zmax",calc:function(S,M,v){var u=M.contours,i=M.line,s=u.size||1,a=u.coloring,o=E(M,{isColorbar:!0});if("heatmap"===a){var l=D.extractOpts(M);v._fillgradient=l.reversescale?D.flipScale(l.colorscale):l.colorscale,v._zrange=[l.min,l.max]}else"fill"===a&&(v._fillcolor=o);v._line={color:"lines"===a?o:i.color,width:!1!==u.showlines?i.width:0,dash:i.dash},v._levels={start:u.start,end:d(u),size:s}}}},36914:function(ae){"use strict";ae.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(ae,B,r){"use strict";var D=r(92770),E=r(14523),d=r(7901),S=d.addOpacity,M=d.opacity,v=r(74808),u=v.CONSTRAINT_REDUCTION,i=v.COMPARISON_OPS2;ae.exports=function(s,a,o,l,c,f){var g,h,T,b,_,w,x=a.contours,m=o("contours.operation");x._operation=u[m],b=o,-1===i.indexOf((_=x).operation)?(b("contours.value",[0,1]),Array.isArray(_.value)?_.value.length>2?_.value=_.value.slice(2):0===_.length?_.value=[0,1]:_.length<2?(w=parseFloat(_.value[0]),_.value=[w,w+1]):_.value=[parseFloat(_.value[0]),parseFloat(_.value[1])]:D(_.value)&&(w=parseFloat(_.value),_.value=[w,w+1])):(b("contours.value",0),D(_.value)||(_.value=Array.isArray(_.value)?parseFloat(_.value[0]):0)),"="===m?g=x.showlines=!0:(g=o("contours.showlines"),T=o("fillcolor",S((s.line||{}).color||c,.5))),g&&(h=o("line.color",T&&M(T)?S(a.fillcolor,1):c),o("line.width",2),o("line.dash")),o("line.smoothing"),E(o,l,h,f)}},64237:function(ae,B,r){"use strict";var D=r(74808),E=r(92770);function d(v,u){var i,s=Array.isArray(u);function a(o){return E(o)?+o:null}return-1!==D.COMPARISON_OPS2.indexOf(v)?i=a(s?u[0]:u):-1!==D.INTERVAL_OPS.indexOf(v)?i=s?[a(u[0]),a(u[1])]:[a(u),a(u)]:-1!==D.SET_OPS.indexOf(v)&&(i=s?u.map(a):[a(u)]),i}function S(v){return function(u){u=d(v,u);var i=Math.min(u[0],u[1]),s=Math.max(u[0],u[1]);return{start:i,end:s,size:s-i}}}function M(v){return function(u){return{start:u=d(v,u),end:1/0,size:1/0}}}ae.exports={"[]":S("[]"),"][":S("]["),">":M(">"),"<":M("<"),"=":M("=")}},67217:function(ae){"use strict";ae.exports=function(B,r,D,E){var d=E("contours.start"),S=E("contours.end"),M=!1===d||!1===S,v=D("contours.size");!(M?r.autocontour=!0:D("autocontour",!1))&&v||D("ncontours")}},84857:function(ae,B,r){"use strict";var D=r(71828);function E(d){return D.extendFlat({},d,{edgepaths:D.extendDeep([],d.edgepaths),paths:D.extendDeep([],d.paths),starts:D.extendDeep([],d.starts)})}ae.exports=function(d,S){var M,v,u,i=function(o){return o.reverse()},s=function(o){return o};switch(S){case"=":case"<":return d;case">":for(1!==d.length&&D.warn("Contour data invalid for the specified inequality operation."),v=d[0],M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=i(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=i(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=i(v.starts[M]);return d;case"][":var a=i;i=s,s=a;case"[]":for(2!==d.length&&D.warn("Contour data invalid for the specified inequality range operation."),v=E(d[0]),u=E(d[1]),M=0;M<v.edgepaths.length;M++)v.edgepaths[M]=i(v.edgepaths[M]);for(M=0;M<v.paths.length;M++)v.paths[M]=i(v.paths[M]);for(M=0;M<v.starts.length;M++)v.starts[M]=i(v.starts[M]);for(;u.edgepaths.length;)v.edgepaths.push(s(u.edgepaths.shift()));for(;u.paths.length;)v.paths.push(s(u.paths.shift()));for(;u.starts.length;)v.starts.push(s(u.starts.shift()));return[v]}}},13031:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),d=r(73927),S=r(83179),M=r(67217),v=r(8724),u=r(58623),i=r(70600);ae.exports=function(s,a,o,l){function c(g,h){return D.coerce(s,a,i,g,h)}if(E(s,a,c,l)){d(s,a,l,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hoverongaps"),c("hovertemplate");var f="constraint"===c("contours.type");c("connectgaps",D.isArray1D(a.z)),f?S(s,a,c,l,o):(M(s,a,c,function(g){return D.coerce2(s,a,i,g)}),v(s,a,c,l)),a.contours&&"heatmap"===a.contours.coloring&&u(c,l)}else a.visible=!1}},87558:function(ae,B,r){"use strict";var D=r(71828),E=r(64237),d=r(53572);ae.exports=function(S,M,v){for(var u="constraint"===S.type?E[S._operation](S.value):S,i=u.size,s=[],a=d(u),o=v.trace._carpetTrace,l=o?{xaxis:o.aaxis,yaxis:o.baxis,x:v.a,y:v.b}:{xaxis:M.xaxis,yaxis:M.yaxis,x:v.x,y:v.y},c=u.start;c<a;c+=i)if(s.push(D.extendFlat({level:c,crossings:{},starts:[],edgepaths:[],paths:[],z:v.z,smoothing:v.trace.line.smoothing},l)),s.length>1e3){D.warn("Too many contours, clipping at 1000",S);break}return s}},53572:function(ae){"use strict";ae.exports=function(B){return B.end+B.size/1e6}},81696:function(ae,B,r){"use strict";var D=r(71828),E=r(36914);function d(v,u,i,s){return Math.abs(v[0]-u[0])<i&&Math.abs(v[1]-u[1])<s}function S(v,u,i,s,a){var o,ce,he,ve,ke,l=u.join(","),c=v.crossings[l],f=(he=u,ve=0,ke=0,(ce=c)>20&&i?208===ce||1114===ce?ve=0===he[0]?1:-1:ke=0===he[1]?1:-1:-1!==E.BOTTOMSTART.indexOf(ce)?ke=1:-1!==E.LEFTSTART.indexOf(ce)?ve=1:-1!==E.TOPSTART.indexOf(ce)?ke=-1:ve=-1,[ve,ke]),g=[M(v,u,[-f[0],-f[1]])],h=v.z.length,T=v.z[0].length,x=u.slice(),m=f.slice();for(o=0;o<1e4;o++){if(c>20?v.crossings[l]=E.SADDLEREMAINDER[c=E.CHOOSESADDLE[c][(f[0]||f[1])<0?0:1]]:delete v.crossings[l],!(f=E.NEWDELTA[c])){D.log("Found bad marching index:",c,u,v.level);break}if(g.push(M(v,u,f)),u[0]+=f[0],u[1]+=f[1],l=u.join(","),d(g[g.length-1],g[g.length-2],s,a)&&g.pop(),u[0]===x[0]&&u[1]===x[1]&&f[0]===m[0]&&f[1]===m[1]||i&&(f[0]&&(u[0]<0||u[0]>T-2)||f[1]&&(u[1]<0||u[1]>h-2)))break;c=v.crossings[l]}1e4===o&&D.log("Infinite loop in contour?");var _,w,A,p,I,k,L,O,P,F,j,X,N,q,G,H=d(g[0],g[g.length-1],s,a),Z=0,$=.2*v.smoothing,se=[],ne=0;for(o=1;o<g.length;o++)q=(X=g[o])[2]-(N=g[o-1])[2],G=X[3]-N[3],Z+=L=Math.sqrt(q*q+G*G),se.push(L);var re=Z/se.length*$;function Q(ce){return g[ce%g.length]}for(o=g.length-2;o>=ne;o--)if((_=se[o])<re){for(A=0,w=o-1;w>=ne&&_+se[w]<re;w--)_+=se[w];if(H&&o===g.length-2)for(A=0;A<w&&_+se[A]<re;A++)_+=se[A];I=o-w+A+1,k=Math.floor((o+w+A+2)/2),p=H||o!==g.length-2?H||-1!==w?I%2?Q(k):[(Q(k)[0]+Q(k+1)[0])/2,(Q(k)[1]+Q(k+1)[1])/2]:g[0]:g[g.length-1],g.splice(w+1,o-w+1,p),o=w+1,A&&(ne=A),H&&(o===g.length-2?g[A]=g[g.length-1]:0===o&&(g[g.length-1]=g[0]))}for(g.splice(0,ne),o=0;o<g.length;o++)g[o].length=2;if(!(g.length<2))if(H)g.pop(),v.paths.push(g);else{i||D.log("Unclosed interior contour?",v.level,x.join(","),g.join("L"));var ee=!1;for(O=0;O<v.edgepaths.length;O++)if(F=v.edgepaths[O],!ee&&d(F[0],g[g.length-1],s,a)){g.pop(),ee=!0;var oe=!1;for(P=0;P<v.edgepaths.length;P++)if(d((j=v.edgepaths[P])[j.length-1],g[0],s,a)){oe=!0,g.shift(),v.edgepaths.splice(O,1),P===O?v.paths.push(g.concat(j)):(P>O&&P--,v.edgepaths[P]=j.concat(g,F));break}oe||(v.edgepaths[O]=g.concat(F))}for(O=0;O<v.edgepaths.length&&!ee;O++)d((F=v.edgepaths[O])[F.length-1],g[0],s,a)&&(g.shift(),v.edgepaths[O]=F.concat(g),ee=!0);ee||v.edgepaths.push(g)}}function M(v,u,i){var s=u[0]+Math.max(i[0],0),a=u[1]+Math.max(i[1],0),o=v.z[a][s],l=v.xaxis,c=v.yaxis;if(i[1]){var f=(v.level-o)/(v.z[a][s+1]-o),g=(1!==f?(1-f)*l.c2l(v.x[s]):0)+(0!==f?f*l.c2l(v.x[s+1]):0);return[l.c2p(l.l2c(g),!0),c.c2p(v.y[a],!0),s+f,a]}var h=(v.level-o)/(v.z[a+1][s]-o),T=(1!==h?(1-h)*c.c2l(v.y[a]):0)+(0!==h?h*c.c2l(v.y[a+1]):0);return[l.c2p(v.x[s],!0),c.c2p(c.l2c(T),!0),s,a+h]}ae.exports=function(v,u,i){var s,a,o,l;for(u=u||.01,i=i||.01,a=0;a<v.length;a++){for(o=v[a],l=0;l<o.starts.length;l++)S(o,o.starts[l],"edge",u,i);for(s=0;Object.keys(o.crossings).length&&s<1e4;)s++,S(o,Object.keys(o.crossings)[0].split(",").map(Number),void 0,u,i);1e4===s&&D.log("Infinite loop in contour?")}}},52421:function(ae,B,r){"use strict";var D=r(7901),E=r(46248);ae.exports=function(d,S,M,v,u){u||(u={}),u.isContour=!0;var i=E(d,S,M,v,u);return i&&i.forEach(function(s){var a=s.trace;"constraint"===a.contours.type&&(a.fillcolor&&D.opacity(a.fillcolor)?s.color=D.addOpacity(a.fillcolor,1):a.contours.showlines&&D.opacity(a.line.color)&&(s.color=D.addOpacity(a.line.color,1)))}),i}},99442:function(ae,B,r){"use strict";ae.exports={attributes:r(70600),supplyDefaults:r(13031),calc:r(27529),plot:r(29854).plot,style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"contour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d,S,M){if(M||(M={}),E("contours.showlabels")){var v=d.font;D.coerceFont(E,"contours.labelfont",{family:v.family,size:v.size,color:S}),E("contours.labelformat")}!1!==M.hasHover&&E("zhoverformat")}},86068:function(ae,B,r){"use strict";var D=r(39898),E=r(21081),d=r(53572);ae.exports=function(S){var M=S.contours,v=M.start,u=d(M),i=M.size||1,s=Math.floor((u-v)/i)+1,a="lines"===M.coloring?0:1,o=E.extractOpts(S);isFinite(i)||(i=1,s=1);var l,c,f=o.reversescale?E.flipScale(o.colorscale):o.colorscale,g=f.length,h=new Array(g),T=new Array(g),x=o.min,m=o.max;if("heatmap"===M.coloring){for(c=0;c<g;c++)h[c]=(l=f[c])[0]*(m-x)+x,T[c]=l[1];var b=D.extent([x,m,M.start,M.start+i*(s-1)]),_=b[x<m?0:1],w=b[x<m?1:0];_!==x&&(h.splice(0,0,_),T.splice(0,0,T[0])),w!==m&&(h.push(w),T.push(T[T.length-1]))}else{var A=S._input&&"number"==typeof S._input.zmin&&"number"==typeof S._input.zmax;for(A&&(v<=x||u>=m)&&(v<=x&&(v=x),u>=m&&(u=m),s=Math.floor((u-v)/i)+1,a=0),c=0;c<g;c++)h[c]=((l=f[c])[0]*(s+a-1)-a/2)*i+v,T[c]=l[1];(A||S.autocontour)&&(h[0]>x&&(h.unshift(x),T.unshift(T[0])),h[h.length-1]<m&&(h.push(m),T.push(T[T.length-1])))}return E.makeColorScaleFunc({domain:h,range:T},{noNumericCheck:!0})}},87678:function(ae,B,r){"use strict";var D=r(36914);function E(d,S){var M=(S[0][0]>d?0:1)+(S[0][1]>d?0:2)+(S[1][1]>d?0:4)+(S[1][0]>d?0:8);return 5===M||10===M?d>(S[0][0]+S[0][1]+S[1][0]+S[1][1])/4?5===M?713:1114:5===M?104:208:15===M?0:M}ae.exports=function(d){var S,M,v,u,i,s,a,o,l,c=d[0].z,f=c.length,g=c[0].length,h=2===f||2===g;for(M=0;M<f-1;M++)for(u=[],0===M&&(u=u.concat(D.BOTTOMSTART)),M===f-2&&(u=u.concat(D.TOPSTART)),S=0;S<g-1;S++)for(v=u.slice(),0===S&&(v=v.concat(D.LEFTSTART)),S===g-2&&(v=v.concat(D.RIGHTSTART)),i=S+","+M,s=[[c[M][S],c[M][S+1]],[c[M+1][S],c[M+1][S+1]]],l=0;l<d.length;l++)(a=E((o=d[l]).level,s))&&(o.crossings[i]=a,-1!==v.indexOf(a)&&(o.starts.push([S,M]),h&&-1!==v.indexOf(a,v.indexOf(a)+1)&&o.starts.push([S,M])))}},29854:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424),S=r(21081),M=r(63893),v=r(89298),u=r(21994),i=r(50347),s=r(87678),a=r(81696),o=r(87558),l=r(84857),c=r(20083),f=r(36914),g=f.LABELOPTIMIZER;function h(m,b){var _,w,A,p,I,k,O="",P=0,F=m.edgepaths.map(function(H,Z){return Z}),j=!0;function X(H){return Math.abs(H[1]-b[2][1])<.01}function q(H){return Math.abs(H[0]-b[2][0])<.01}for(;F.length;){for(k=d.smoothopen(m.edgepaths[P],m.smoothing),O+=j?k:k.replace(/^M/,"L"),F.splice(F.indexOf(P),1),_=m.edgepaths[P][m.edgepaths[P].length-1],p=-1,A=0;A<4;A++){if(!_){E.log("Missing end?",P,m);break}for(Math.abs(_[1]-b[0][1])<.01&&!q(_)?w=b[1]:Math.abs(_[0]-b[0][0])<.01?w=b[0]:X(_)?w=b[3]:q(_)&&(w=b[2]),I=0;I<m.edgepaths.length;I++){var G=m.edgepaths[I][0];Math.abs(_[0]-w[0])<.01?Math.abs(_[0]-G[0])<.01&&(G[1]-_[1])*(w[1]-G[1])>=0&&(w=G,p=I):Math.abs(_[1]-w[1])<.01?Math.abs(_[1]-G[1])<.01&&(G[0]-_[0])*(w[0]-G[0])>=0&&(w=G,p=I):E.log("endpt to newendpt is not vert. or horz.",_,w,G)}if(_=w,p>=0)break;O+="L"+w}if(p===m.edgepaths.length){E.log("unclosed perimeter path");break}(j=-1===F.indexOf(P=p))&&(P=F[0],O+="Z")}for(P=0;P<m.paths.length;P++)O+=d.smoothclosed(m.paths[P],m.smoothing);return O}function T(m,b,_,w){var A=b.width/2,p=b.height/2,I=m.x,k=m.y,L=m.theta,O=Math.cos(L)*A,P=Math.sin(L)*A,F=(I>w.center?w.right-I:I-w.left)/(O+Math.abs(Math.sin(L)*p)),j=(k>w.middle?w.bottom-k:k-w.top)/(Math.abs(P)+Math.cos(L)*p);if(F<1||j<1)return 1/0;var X=g.EDGECOST*(1/(F-1)+1/(j-1));X+=g.ANGLECOST*L*L;for(var N=I-O,q=k-P,G=I+O,H=k+P,Z=0;Z<_.length;Z++){var $=_[Z],se=Math.cos($.theta)*$.width/2,ne=Math.sin($.theta)*$.width/2,re=2*E.segmentDistance(N,q,G,H,$.x-se,$.y-ne,$.x+se,$.y+ne)/(b.height+$.height),Q=$.level===b.level,ee=Q?g.SAMELEVELDISTANCE:1;if(re<=ee)return 1/0;X+=g.NEIGHBORCOST*(Q?g.SAMELEVELFACTOR:1)/(re-ee)}return X}function x(m){var b,_,w=m.trace._emptypoints,A=[],p=m.z.length,I=m.z[0].length,k=[];for(b=0;b<I;b++)k.push(1);for(b=0;b<p;b++)A.push(k.slice());for(b=0;b<w.length;b++)A[(_=w[b])[0]][_[1]]=0;return m.zmask=A,A}B.plot=function(m,b,_,w){var A=b.xaxis,p=b.yaxis;E.makeTraceGroups(w,_,"contour").each(function(I){var k=D.select(this),L=I[0],P=L.x,F=L.y,j=L.trace.contours,X=o(j,b,L),N=E.ensureSingle(k,"g","heatmapcoloring"),q=[];"heatmap"===j.coloring&&(q=[I]),i(m,b,q,N),s(X),a(X);var Q,ee,oe,G=A.c2p(P[0],!0),H=A.c2p(P[P.length-1],!0),Z=p.c2p(F[0],!0),$=p.c2p(F[F.length-1],!0),se=[[G,$],[H,$],[H,Z],[G,Z]],ne=X;"constraint"===j.type&&(ne=l(X,j._operation)),Q=se,ee=j,(oe=E.ensureSingle(k,"g","contourbg").selectAll("path").data("fill"===ee.coloring?[0]:[])).enter().append("path"),oe.exit().remove(),oe.attr("d","M"+Q.join("L")+"Z").style("stroke","none"),function(re,Q,ee,oe){var ce="fill"===oe.coloring||"constraint"===oe.type&&"="!==oe._operation,ue="M"+ee.join("L")+"Z";ce&&c(Q,oe);var he=E.ensureSingle(re,"g","contourfill").selectAll("path").data(ce?Q:[]);he.enter().append("path"),he.exit().remove(),he.each(function(ve){var ke=(ve.prefixBoundary?ue:"")+h(ve,ee);ke?D.select(this).attr("d",ke).style("stroke","none"):D.select(this).remove()})}(k,ne,se,j),function(re,Q,ee,oe,ce){var ue=ee._context.staticPlot,he=E.ensureSingle(re,"g","contourlines"),ve=!1!==ce.showlines,ke=ce.showlabels,Ie=ve&&ke,Me=B.createLines(he,ve||ke,Q,ue),_e=B.createLineClip(he,Ie,ee,oe.trace.uid),we=re.selectAll("g.contourlabels").data(ke?[0]:[]);if(we.exit().remove(),we.enter().append("g").classed("contourlabels",!0),ke){var ze=[],Ee=[];E.clearLocationCache();var Se=B.labelFormatter(ee,oe),me=d.tester.append("text").attr("data-notex",1).call(d.font,ce.labelfont),fe=Q[0].xaxis,le=Q[0].yaxis,Te=fe._length,Re=le._length,De=fe.range,Ue=le.range,Ze=E.aggNums(Math.min,null,oe.x),xe=E.aggNums(Math.max,null,oe.x),Oe=E.aggNums(Math.min,null,oe.y),Ce=E.aggNums(Math.max,null,oe.y),Be=Math.max(fe.c2p(Ze,!0),0),qe=Math.min(fe.c2p(xe,!0),Te),He=Math.max(le.c2p(Ce,!0),0),Je=Math.min(le.c2p(Oe,!0),Re),et={};De[0]<De[1]?(et.left=Be,et.right=qe):(et.left=qe,et.right=Be),Ue[0]<Ue[1]?(et.top=He,et.bottom=Je):(et.top=Je,et.bottom=He),et.middle=(et.top+et.bottom)/2,et.center=(et.left+et.right)/2,ze.push([[et.left,et.top],[et.right,et.top],[et.right,et.bottom],[et.left,et.bottom]]);var st=Math.sqrt(Te*Te+Re*Re),pt=f.LABELDISTANCE*st/Math.max(1,Q.length/f.LABELINCREASE);Me.each(function(ct){var St=B.calcTextOpts(ct.level,Se,me,ee);D.select(this).selectAll("path").each(function(){var Dt=E.getVisibleSegment(this,et,St.height/2);if(Dt&&!(Dt.len<(St.width+St.height)*f.LABELMIN))for(var vt=Math.min(Math.ceil(Dt.len/pt),f.LABELMAX),gt=0;gt<vt;gt++){var Et=B.findBestTextLocation(this,Dt,St,Ee,et);if(!Et)break;B.addLabelData(Et,St,Ee,ze)}})}),me.remove(),B.drawLabels(we,Ee,ee,_e,Ie?ze:null)}ke&&!ve&&Me.remove()}(k,X,m,L,j),function(re,Q,ee,oe,ce){var ue=oe.trace,ve="clip"+ue.uid,ke=ee._fullLayout._clips.selectAll("#"+ve).data(ue.connectgaps?[]:[0]);if(ke.enter().append("clipPath").classed("contourclip",!0).attr("id",ve),ke.exit().remove(),!1===ue.connectgaps){var Ie={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Q.xaxis,yaxis:Q.yaxis,x:oe.x,y:oe.y,z:x(oe),smoothing:0};s([Ie]),a([Ie]),c([Ie],{type:"levels"}),E.ensureSingle(ke,"path","").attr("d",(Ie.prefixBoundary?"M"+ce.join("L")+"Z":"")+h(Ie,ce))}else ve=null;d.setClipUrl(re,ve,ee)}(k,b,m,L,se)})},B.createLines=function(m,b,_,w){var A=_[0].smoothing,p=m.selectAll("g.contourlevel").data(b?_:[]);if(p.exit().remove(),p.enter().append("g").classed("contourlevel",!0),b){var I=p.selectAll("path.openline").data(function(L){return L.pedgepaths||L.edgepaths});I.exit().remove(),I.enter().append("path").classed("openline",!0),I.attr("d",function(L){return d.smoothopen(L,A)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke");var k=p.selectAll("path.closedline").data(function(L){return L.ppaths||L.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(L){return d.smoothclosed(L,A)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke")}return p},B.createLineClip=function(m,b,_,w){var A=b?"clipline"+w:null,p=_._fullLayout._clips.selectAll("#"+A).data(b?[0]:[]);return p.exit().remove(),p.enter().append("clipPath").classed("contourlineclip",!0).attr("id",A),d.setClipUrl(m,A,_),p},B.labelFormatter=function(m,b){var _=m._fullLayout,w=b.trace,A=w.contours,p={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(A.labelformat)p.tickformat=A.labelformat,u(p,_);else{var I=S.extractOpts(w);if(I&&I.colorbar&&I.colorbar._axis)p=I.colorbar._axis;else{if("constraint"===A.type){var k=A.value;p.range=Array.isArray(k)?[k[0],k[k.length-1]]:[k,k]}else p.range=[A.start,A.end],p.nticks=(A.end-A.start)/A.size;p.range[0]===p.range[1]&&(p.range[1]+=p.range[0]||1),p.nticks||(p.nticks=1e3),u(p,_),v.prepTicks(p),p._tmin=null,p._tmax=null}}return function(L){return v.tickText(p,L).text}},B.calcTextOpts=function(m,b,_,w){var A=b(m);_.text(A).call(M.convertToTspans,w);var p=_.node(),I=d.bBox(p,!0);return{text:A,width:I.width,height:I.height,fontSize:+p.style["font-size"].replace("px",""),level:m,dy:(I.top+I.bottom)/2}},B.findBestTextLocation=function(m,b,_,w,A){var p,I,k,L,O,P=_.width;b.isClosed?(p=b.min+(I=b.len/g.INITIALSEARCHPOINTS)/2,k=b.max):(p=b.min+(I=(b.len-P)/(g.INITIALSEARCHPOINTS+1))+P/2,k=b.max-(I+P)/2);for(var F=1/0,j=0;j<g.ITERATIONS;j++){for(var X=p;X<k;X+=I){var N=E.getTextLocation(m,b.total,X,P),q=T(N,_,w,A);q<F&&(F=q,O=N,L=X)}if(F>2*g.MAXCOST)break;j&&(I/=2),k=(p=L-I/2)+1.5*I}if(F<=g.MAXCOST)return O},B.addLabelData=function(m,b,_,w){var A=b.fontSize,p=b.width+A/3,I=Math.max(0,b.height-A/3),k=m.x,L=m.y,O=m.theta,P=Math.sin(O),F=Math.cos(O),j=function(N,q){return[k+N*F-q*P,L+N*P+q*F]},X=[j(-p/2,-I/2),j(-p/2,I/2),j(p/2,I/2),j(p/2,-I/2)];_.push({text:b.text,x:k,y:L,dy:b.dy,theta:O,level:b.level,width:p,height:I}),w.push(X)},B.drawLabels=function(m,b,_,w,A){var p=m.selectAll("text").data(b,function(L){return L.text+","+L.x+","+L.y+","+L.theta});if(p.exit().remove(),p.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(L){var O=L.x+Math.sin(L.theta)*L.dy,P=L.y-Math.cos(L.theta)*L.dy;D.select(this).text(L.text).attr({x:O,y:P,transform:"rotate("+180*L.theta/Math.PI+" "+O+" "+P+")"}).call(M.convertToTspans,_)}),A){for(var I="",k=0;k<A.length;k++)I+="M"+A[k].join("L")+"Z";E.ensureSingle(w,"path","").attr("d",I)}}},18670:function(ae,B,r){"use strict";var D=r(89298),E=r(71828);function d(S,M,v){var u={type:"linear",range:[S,M]};return D.autoTicks(u,(M-S)/(v||15)),u}ae.exports=function(S,M){var v=S.contours;if(S.autocontour){var u=S.zmin,i=S.zmax;(S.zauto||void 0===u)&&(u=E.aggNums(Math.min,null,M)),(S.zauto||void 0===i)&&(i=E.aggNums(Math.max,null,M));var s=d(u,i,S.ncontours);v.size=s.dtick,v.start=D.tickFirst(s),s.range.reverse(),v.end=D.tickFirst(s),v.start===u&&(v.start+=v.size),v.end===i&&(v.end-=v.size),v.start>v.end&&(v.start=v.end=(v.start+v.end)/2),S._input.contours||(S._input.contours={}),E.extendFlat(S._input.contours,{start:v.start,end:v.end,size:v.size}),S._input.autocontour=!0}else if("constraint"!==v.type){var a,o=v.start,l=v.end,c=S._input.contours;o>l&&(v.start=c.start=l,l=v.end=c.end=o,o=v.start),v.size>0||(a=o===l?1:d(o,l,S.ncontours).dtick,c.size=v.size=a)}}},84426:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(70035),S=r(86068);ae.exports=function(M){var v=D.select(M).selectAll("g.contour");v.style("opacity",function(u){return u[0].trace.opacity}),v.each(function(u){var i=D.select(this),s=u[0].trace,a=s.contours,o=s.line,l=a.size||1,c=a.start,f="constraint"===a.type,g=!f&&"lines"===a.coloring,h=!f&&"fill"===a.coloring,T=g||h?S(s):null;i.selectAll("g.contourlevel").each(function(b){D.select(this).selectAll("path").call(E.lineGroupStyle,o.width,g?T(b.level):o.color,o.dash)});var x=a.labelfont;if(i.selectAll("g.contourlabels text").each(function(b){E.font(D.select(this),{family:x.family,size:x.size,color:x.color||(g?T(b.level):o.color)})}),f)i.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(h){var m;i.selectAll("g.contourfill path").style("fill",function(b){return void 0===m&&(m=b.level),T(b.level+.5*l)}),void 0===m&&(m=c),i.selectAll("g.contourbg path").style("fill",T(m-.5*l))}}),d(M)}},8724:function(ae,B,r){"use strict";var D=r(1586),E=r(14523);ae.exports=function(d,S,M,v,u){var i,s=M("contours.coloring"),a="";"fill"===s&&(i=M("contours.showlines")),!1!==i&&("lines"!==s&&(a=M("line.color","#000")),M("line.width",.5),M("line.dash")),"none"!==s&&(!0!==d.showlegend&&(S.showlegend=!1),S._dfltShowLegend=!1,D(d,S,v,M,{prefix:"",cLetter:"z"})),M("line.smoothing"),E(M,v,a,u)}},88085:function(ae,B,r){"use strict";var D=r(21606),E=r(70600),d=r(50693),S=r(1426).extendFlat,M=E.contours;ae.exports=S({carpet:{valType:"string",editType:"calc"},z:D.z,a:D.x,a0:D.x0,da:D.dx,b:D.y,b0:D.y0,db:D.dy,text:D.text,hovertext:D.hovertext,transpose:D.transpose,atype:D.xtype,btype:D.ytype,fillcolor:E.fillcolor,autocontour:E.autocontour,ncontours:E.ncontours,contours:{type:M.type,start:M.start,end:M.end,size:M.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:M.showlines,showlabels:M.showlabels,labelfont:M.labelfont,labelformat:M.labelformat,operation:M.operation,value:M.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:E.line.color,width:E.line.width,dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},transforms:void 0},d("",{cLetter:"z",autoColorDflt:!1}))},59885:function(ae,B,r){"use strict";var D=r(78803),E=r(71828),d=r(68296),S=r(4742),M=r(824),v=r(43907),u=r(70769),i=r(75005),s=r(22882),a=r(18670);ae.exports=function(o,l){var c=l._carpetTrace=s(o,l);if(c&&c.visible&&"legendonly"!==c.visible){if(!l.a||!l.b){var f=o.data[c.index],g=o.data[l.index];g.a||(g.a=f.a),g.b||(g.b=f.b),i(g,l,l._defaultColor,o._fullLayout)}var h=function(T,x){var m,b,_,w,A,p,I,k=x._carpetTrace,L=k.aaxis,O=k.baxis;L._minDtick=0,O._minDtick=0,E.isArray1D(x.z)&&d(x,L,O,"a","b",["z"]),m=x._a=x._a||x.a,w=x._b=x._b||x.b,m=m?L.makeCalcdata(x,"_a"):[],w=w?O.makeCalcdata(x,"_b"):[],b=x.a0||0,_=x.da||1,A=x.b0||0,p=x.db||1,I=x._z=S(x._z||x.z,x.transpose),x._emptypoints=v(I),M(I,x._emptypoints);var P=E.maxRowLength(I),N={a:u(x,"scaled"===x.xtype?"":m,b,_,P,L),b:u(x,"scaled"===x.ytype?"":w,A,p,I.length,O),z:I};return"levels"===x.contours.type&&"none"!==x.contours.coloring&&D(T,x,{vals:I,containerStr:"",cLetter:"z"}),[N]}(o,l);return a(l,l._z),h}}},75005:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),d=r(88085),S=r(83179),M=r(67217),v=r(8724);ae.exports=function(u,i,s,a){function o(l,c){return D.coerce(u,i,d,l,c)}if(o("carpet"),u.a&&u.b){if(!E(u,i,o,a,"a","b"))return void(i.visible=!1);o("text"),"constraint"===o("contours.type")?S(u,i,o,a,s,{hasHover:!1}):(M(u,i,o,function(l){return D.coerce2(u,i,d,l)}),v(u,i,o,a,{hasHover:!1}))}else i._defaultColor=s,i._length=null}},93740:function(ae,B,r){"use strict";ae.exports={attributes:r(88085),supplyDefaults:r(75005),colorbar:r(90654),calc:r(59885),plot:r(51048),style:r(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:r(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(ae,B,r){"use strict";var D=r(39898),E=r(27669),d=r(67961),S=r(91424),M=r(71828),v=r(87678),u=r(81696),i=r(29854),s=r(36914),a=r(84857),o=r(87558),l=r(20083),c=r(22882),f=r(4536);function g(x,m,b){var _=x.getPointAtLength(m),w=x.getPointAtLength(b),A=w.x-_.x,p=w.y-_.y,I=Math.sqrt(A*A+p*p);return[A/I,p/I]}function h(x){var m=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/m,x[1]/m]}function T(x,m){var b=Math.abs(x[0]*m[0]+x[1]*m[1]);return Math.sqrt(1-b*b)/b}ae.exports=function(x,m,b,_){var w=m.xaxis,A=m.yaxis;M.makeTraceGroups(_,b,"contour").each(function(p){var I=D.select(this),k=p[0],L=k.trace,O=L._carpetTrace=c(x,L),P=x.calcdata[O.index][0];if(O.visible&&"legendonly"!==O.visible){var F=k.a,j=k.b,X=L.contours,N=o(X,m,k),q="constraint"===X.type,G=X._operation,H=q?"="===G?"lines":"fill":X.coloring,Z=[[F[0],j[j.length-1]],[F[F.length-1],j[j.length-1]],[F[F.length-1],j[0]],[F[0],j[0]]];v(N),u(N,1e-8*(F[F.length-1]-F[0]),1e-8*(j[j.length-1]-j[0]));var ne,re,Q,ee,oe=N;"constraint"===X.type&&(oe=a(N,G)),function(ve,ke){var Ie,Me,_e,we,ze,Ee,Se,me,fe;for(Ie=0;Ie<ve.length;Ie++){for(ze=(we=ve[Ie]).pedgepaths=[],Ee=we.ppaths=[],Me=0;Me<we.edgepaths.length;Me++){for(fe=we.edgepaths[Me],Se=[],_e=0;_e<fe.length;_e++)Se[_e]=ke(fe[_e]);ze.push(Se)}for(Me=0;Me<we.paths.length;Me++){for(fe=we.paths[Me],me=[],_e=0;_e<fe.length;_e++)me[_e]=ke(fe[_e]);Ee.push(me)}}}(N,he);var ce=[];for(ee=P.clipsegments.length-1;ee>=0;ee--)re=E([],(ne=P.clipsegments[ee]).x,w.c2p),Q=E([],ne.y,A.c2p),re.reverse(),Q.reverse(),ce.push(d(re,Q,ne.bicubic));var ue="M"+ce.join("L")+"Z";(function(ve,ke,Ie,Me,_e,we){var ze,Ee,Se,me,fe=M.ensureSingle(ve,"g","contourbg").selectAll("path").data("fill"!==we||_e?[]:[0]);fe.enter().append("path"),fe.exit().remove();var le=[];for(me=0;me<ke.length;me++)Ee=E([],(ze=ke[me]).x,Ie.c2p),Se=E([],ze.y,Me.c2p),le.push(d(Ee,Se,ze.bicubic));fe.attr("d","M"+le.join("L")+"Z").style("stroke","none")})(I,P.clipsegments,w,A,q,H),function(ve,ke,Ie,Me,_e,we,ze,Ee,Se,me,fe){var le="fill"===me;le&&l(_e,ve.contours);var Te=M.ensureSingle(ke,"g","contourfill").selectAll("path").data(le?_e:[]);Te.enter().append("path"),Te.exit().remove(),Te.each(function(Re){var De=(Re.prefixBoundary?fe:"")+function(Ue,Ze,xe,Oe,Ce,Be,qe,He){var Je,et,st,pt,ct,St,Dt,vt="",gt=Ze.edgepaths.map(function(ht,Ve){return Ve}),Et=!0,Pt=1e-4*Math.abs(xe[0][0]-xe[2][0]),Ot=1e-4*Math.abs(xe[0][1]-xe[2][1]);function Ht(ht){return Math.abs(ht[1]-xe[0][1])<Ot}function zt(ht){return Math.abs(ht[1]-xe[2][1])<Ot}function nt(ht){return Math.abs(ht[0]-xe[0][0])<Pt}function it(ht){return Math.abs(ht[0]-xe[2][0])<Pt}function Ke(ht,Ve){var Ge,ut,dt,kt,bt="";for(Ht(ht)&&!it(ht)||zt(ht)&&!nt(ht)?(kt=Ce.aaxis,dt=f(Ce,Be,[ht[0],Ve[0]],.5*(ht[1]+Ve[1]))):(kt=Ce.baxis,dt=f(Ce,Be,.5*(ht[0]+Ve[0]),[ht[1],Ve[1]])),Ge=1;Ge<dt.length;Ge++)for(bt+=kt.smoothing?"C":"L",ut=0;ut<dt[Ge].length;ut++){var At=dt[Ge][ut];bt+=[qe.c2p(At[0]),He.c2p(At[1])]+" "}return bt}for(Je=0,et=null;gt.length;){for(et&&(vt+=Ke(et,Ze.edgepaths[Je][0])),Dt=S.smoothopen(Ze.edgepaths[Je].map(Oe),Ze.smoothing),vt+=Et?Dt:Dt.replace(/^M/,"L"),gt.splice(gt.indexOf(Je),1),et=Ze.edgepaths[Je][Ze.edgepaths[Je].length-1],ct=-1,pt=0;pt<4;pt++){if(!et){M.log("Missing end?",Je,Ze);break}for(Ht(et)&&!it(et)?st=xe[1]:nt(et)?st=xe[0]:zt(et)?st=xe[3]:it(et)&&(st=xe[2]),St=0;St<Ze.edgepaths.length;St++){var ft=Ze.edgepaths[St][0];Math.abs(et[0]-st[0])<Pt?Math.abs(et[0]-ft[0])<Pt&&(ft[1]-et[1])*(st[1]-ft[1])>=0&&(st=ft,ct=St):Math.abs(et[1]-st[1])<Ot?Math.abs(et[1]-ft[1])<Ot&&(ft[0]-et[0])*(st[0]-ft[0])>=0&&(st=ft,ct=St):M.log("endpt to newendpt is not vert. or horz.",et,st,ft)}if(ct>=0)break;vt+=Ke(et,st),et=st}if(ct===Ze.edgepaths.length){M.log("unclosed perimeter path");break}(Et=-1===gt.indexOf(Je=ct))&&(Je=gt[0],vt+=Ke(et,st)+"Z",et=null)}for(Je=0;Je<Ze.paths.length;Je++)vt+=S.smoothclosed(Ze.paths[Je].map(Oe),Ze.smoothing);return vt}(0,Re,we,ze,Ee,Se,Ie,Me);De?D.select(this).attr("d",De).style("stroke","none"):D.select(this).remove()})}(L,I,w,A,oe,Z,he,O,P,H,ue),function(ve,ke,Ie,Me,_e,we,ze){var Ee=Ie._context.staticPlot,Se=M.ensureSingle(ve,"g","contourlines"),me=!1!==_e.showlines,fe=_e.showlabels,le=me&&fe,Te=i.createLines(Se,me||fe,ke,Ee),Re=i.createLineClip(Se,le,Ie,Me.trace.uid),De=ve.selectAll("g.contourlabels").data(fe?[0]:[]);if(De.exit().remove(),De.enter().append("g").classed("contourlabels",!0),fe){var xe=we.xaxis._length,Oe=we.yaxis._length,Ce=[[[0,0],[xe,0],[xe,Oe],[0,Oe]]],Be=[];M.clearLocationCache();var qe=i.labelFormatter(Ie,Me),He=S.tester.append("text").attr("data-notex",1).call(S.font,_e.labelfont),Je={left:0,right:xe,center:xe/2,top:0,bottom:Oe,middle:Oe/2},et=Math.sqrt(xe*xe+Oe*Oe),st=s.LABELDISTANCE*et/Math.max(1,ke.length/s.LABELINCREASE);Te.each(function(pt){var ct=i.calcTextOpts(pt.level,qe,He,Ie);D.select(this).selectAll("path").each(function(St){var vt=M.getVisibleSegment(this,Je,ct.height/2);if(vt&&(function(Ot,Ht,zt,nt,it,Ke){for(var rt,ft=0;ft<zt.pedgepaths.length;ft++)Ht===zt.pedgepaths[ft]&&(rt=zt.edgepaths[ft]);if(rt){var ht=it.a[0],Ve=it.a[it.a.length-1],Ge=it.b[0],ut=it.b[it.b.length-1],dt=g(Ot,0,1),kt=g(Ot,nt.total,nt.total-1),bt=xt(rt[0],dt),At=nt.total-xt(rt[rt.length-1],kt);nt.min<bt&&(nt.min=bt),nt.max>At&&(nt.max=At),nt.len=nt.max-nt.min}function xt(Rt,_t){var Tt,It=0;return(Math.abs(Rt[0]-ht)<.1||Math.abs(Rt[0]-Ve)<.1)&&(Tt=h(it.dxydb_rough(Rt[0],Rt[1],.1)),It=Math.max(It,Ke*T(_t,Tt)/2)),(Math.abs(Rt[1]-Ge)<.1||Math.abs(Rt[1]-ut)<.1)&&(Tt=h(it.dxyda_rough(Rt[0],Rt[1],.1)),It=Math.max(It,Ke*T(_t,Tt)/2)),It}}(this,St,pt,vt,ze,ct.height),!(vt.len<(ct.width+ct.height)*s.LABELMIN)))for(var gt=Math.min(Math.ceil(vt.len/st),s.LABELMAX),Et=0;Et<gt;Et++){var Pt=i.findBestTextLocation(this,vt,ct,Be,Je);if(!Pt)break;i.addLabelData(Pt,ct,Be,Ce)}})}),He.remove(),i.drawLabels(De,Be,Ie,Re,le?Ce:null)}fe&&!me&&Te.remove()}(I,N,x,k,X,m,O),S.setClipUrl(I,O._clipPathId,x)}function he(ve){var ke=O.ab2xy(ve[0],ve[1],!0);return[w.c2p(ke[0]),A.c2p(ke[1])]}})}},64096:function(ae,B,r){"use strict";var D=r(50693),E=r(5386).fF,d=r(9012),S=r(99181),M=r(1426).extendFlat;ae.exports=M({lon:S.lon,lat:S.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:S.text,hovertext:S.hovertext,hoverinfo:M({},d.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:E(),showlegend:M({},d.showlegend,{dflt:!1})},D("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(ae,B,r){"use strict";var D=r(92770),E=r(71828).isArrayOrTypedArray,d=r(50606).BADNUM,S=r(78803),M=r(71828)._;ae.exports=function(v,u){for(var i=u._length,s=new Array(i),a=u.z,o=E(a)&&a.length,l=0;l<i;l++){var c=s[l]={},f=u.lon[l],g=u.lat[l];if(c.lonlat=D(f)&&D(g)?[+f,+g]:[d,d],o){var h=a[l];c.z=D(h)?h:d}}return S(v,u,{vals:o?a:[0,1],containerStr:"",cLetter:"z"}),i&&(s[0].t={labels:{lat:M(v,"lat:")+" ",lon:M(v,"lon:")+" "}}),s}},52414:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(7901),S=r(21081),M=r(50606).BADNUM,v=r(18214).makeBlank;ae.exports=function(u){var i=u[0].trace,s=!0===i.visible&&0!==i._length,a=i._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:v()};if(!s)return a;var o,l=[],c=i.z,f=i.radius,g=E.isArrayOrTypedArray(c)&&c.length,h=E.isArrayOrTypedArray(f);for(o=0;o<u.length;o++){var T=u[o],x=T.lonlat;if(x[0]!==M){var m={};if(g){var b=T.z;m.z=b!==M?b:0}h&&(m.r=D(f[o])&&f[o]>0?+f[o]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:x},properties:m})}}var _=S.extractOpts(i),w=_.reversescale?S.flipScale(_.colorscale):_.colorscale,A=w[0][1],p=["interpolate",["linear"],["heatmap-density"],0,d.opacity(A)<1?A:d.addOpacity(A,0)];for(o=1;o<w.length;o++)p.push(w[o][0],w[o][1]);return E.extendFlat(a.heatmap.paint,{"heatmap-weight":g?["interpolate",["linear"],["get","z"],_.min,0,_.max,1]:1/(_.max-_.min),"heatmap-color":p,"heatmap-radius":h?{type:"identity",property:"r"}:i.radius,"heatmap-opacity":i.opacity}),a.geojson={type:"FeatureCollection",features:l},a.heatmap.layout.visibility="visible",a}},79429:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),d=r(64096);ae.exports=function(S,M,v,u){function i(l,c){return D.coerce(S,M,d,l,c)}var s=i("lon")||[],a=i("lat")||[],o=Math.min(s.length,a.length);o?(M._length=o,i("z"),i("radius"),i("below"),i("text"),i("hovertext"),i("hovertemplate"),E(S,M,u,i,{prefix:"",cLetter:"z"})):M.visible=!1}},62474:function(ae){"use strict";ae.exports=function(B,r){return B.lon=r.lon,B.lat=r.lat,B.z=r.z,B}},84684:function(ae,B,r){"use strict";var D=r(89298),E=r(28178).hoverPoints,d=r(28178).getExtraText;ae.exports=function(S,M,v){var u=E(S,M,v);if(u){var i=u[0],s=i.cd,a=s[0].trace,o=s[i.index];if(delete i.color,"z"in o){var l=i.subplot.mockAxis;i.z=o.z,i.zLabel=D.tickText(l,l.c2l(o.z),"hover").text}return i.extraText=d(a,o,s[0].t.labels),[i]}}},93814:function(ae,B,r){"use strict";ae.exports={attributes:r(64096),supplyDefaults:r(79429),colorbar:r(61243),formatLabels:r(15636),calc:r(85070),plot:r(7336),hoverPoints:r(84684),eventData:r(62474),getBelow:function(D,E){for(var d=E.getMapLayers(),S=0;S<d.length;S++){var M=d[S],v=M.id;if("symbol"===M.type&&"string"==typeof v&&-1===v.indexOf("plotly-"))return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:r(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(ae,B,r){"use strict";var D=r(52414),E=r(77734).traceLayerPrefix;function d(M,v){this.type="densitymapbox",this.subplot=M,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",E+v+"-heatmap"]],this.below=null}var S=d.prototype;S.update=function(M){var v=this.subplot,u=this.layerList,i=D(M),s=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(i.geojson),s!==this.below&&(this._removeLayers(),this._addLayers(i,s),this.below=s);for(var a=0;a<u.length;a++){var o=u[a],c=o[1],f=i[o[0]];v.setOptions(c,"setLayoutProperty",f.layout),"visible"===f.layout.visibility&&v.setOptions(c,"setPaintProperty",f.paint)}},S._addLayers=function(M,v){for(var u=this.subplot,i=this.layerList,s=this.sourceId,a=0;a<i.length;a++){var o=i[a],l=o[0],c=M[l];u.addLayer({type:l,id:o[1],source:s,layout:c.layout,paint:c.paint},v)}},S._removeLayers=function(){for(var M=this.subplot.map,v=this.layerList,u=v.length-1;u>=0;u--)M.removeLayer(v[u][1])},S.dispose=function(){var M=this.subplot.map;this._removeLayers(),M.removeSource(this.sourceId)},ae.exports=function(M,v){var u=v[0].trace,i=new d(M,u.uid),s=i.sourceId,a=D(v),o=i.below=M.belowLookup["trace-"+u.uid];return M.map.addSource(s,{type:"geojson",data:a.geojson}),i._addLayers(a,o),i}},49789:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d){for(var S=0;S<E.length;S++)E[S].i=S;D.mergeArray(d.text,E,"tx"),D.mergeArray(d.hovertext,E,"htx");var M=d.marker;if(M){D.mergeArray(M.opacity,E,"mo"),D.mergeArray(M.color,E,"mc");var v=M.line;v&&(D.mergeArray(v.color,E,"mlc"),D.mergeArrayCastPositive(v.width,E,"mlw"))}}},1285:function(ae,B,r){"use strict";var D,E=r(1486),d=r(82196).line,S=r(9012),M=r(12663).axisHoverFormat,v=r(5386).fF,u=r(5386).si,i=r(18517),s=r(1426).extendFlat,a=r(7901);ae.exports={x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:M("x"),yhoverformat:M("y"),hovertext:E.hovertext,hovertemplate:v({},{keys:i.eventDataKeys}),hoverinfo:s({},S.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:u({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),text:E.text,textposition:E.textposition,insidetextanchor:s({},E.insidetextanchor,{dflt:"middle"}),textangle:s({},E.textangle,{dflt:0}),textfont:E.textfont,insidetextfont:E.insidetextfont,outsidetextfont:E.outsidetextfont,constraintext:E.constraintext,cliponaxis:E.cliponaxis,orientation:s({},E.orientation,{}),offset:s({},E.offset,{arrayOk:!1}),width:s({},E.width,{arrayOk:!1}),marker:(D=s({},E.marker),delete D.pattern,D),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:s({},d.color,{dflt:a.defaultLine}),width:s({},d.width,{dflt:0,editType:"plot"}),dash:d.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:E.offsetgroup,alignmentgroup:E.alignmentgroup}},9532:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),d=r(49789),S=r(66279),M=r(50606).BADNUM;function v(u){return u===M?0:u}ae.exports=function(u,i){var s,a,o,l,c,f,g,h,T=D.getFromId(u,i.xaxis||"x"),x=D.getFromId(u,i.yaxis||"y");"h"===i.orientation?(s=T.makeCalcdata(i,"x"),o=x.makeCalcdata(i,"y"),l=E(i,x,"y",o),c=!!i.yperiodalignment,f="y"):(s=x.makeCalcdata(i,"y"),o=T.makeCalcdata(i,"x"),l=E(i,T,"x",o),c=!!i.xperiodalignment,f="x"),a=l.vals;var m,b=Math.min(a.length,s.length),_=new Array(b);for(i._base=[],g=0;g<b;g++){s[g]<0&&(s[g]=M);var w=!1;s[g]!==M&&g+1<b&&s[g+1]!==M&&(w=!0),h=_[g]={p:a[g],s:s[g],cNext:w},i._base[g]=-.5*h.s,c&&(_[g].orig_p=o[g],_[g][f+"End"]=l.ends[g],_[g][f+"Start"]=l.starts[g]),i.ids&&(h.id=String(i.ids[g])),0===g&&(_[0].vTotal=0),_[0].vTotal+=v(h.s),h.begR=v(h.s)/v(_[0].s)}for(g=0;g<b;g++)(h=_[g]).s!==M&&(h.sumR=h.s/_[0].vTotal,h.difR=void 0!==m?h.s/m:1,m=h.s);return d(_,i),S(_,i),_}},18517:function(ae){"use strict";ae.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(ae,B,r){"use strict";var D=r(11661).setGroupPositions;ae.exports=function(E,d){var S,M,v=E._fullLayout,u=E._fullData,i=E.calcdata,s=d.xaxis,a=d.yaxis,o=[],l=[],c=[];for(M=0;M<u.length;M++){var f=u[M];!0===f.visible&&f.xaxis===s._id&&f.yaxis===a._id&&"funnel"===f.type&&(S=i[M],"h"===f.orientation?c.push(S):l.push(S),o.push(S))}var h={mode:v.funnelmode,norm:v.funnelnorm,gap:v.funnelgap,groupgap:v.funnelgroupgap};for(D(E,s,a,l,h),D(E,a,s,c,h),M=0;M<o.length;M++){S=o[M];for(var T=0;T<S.length;T++)T+1<S.length&&(S[T].nextP0=S[T+1].p0,S[T].nextS0=S[T+1].s0,S[T].nextP1=S[T+1].p1,S[T].nextS1=S[T+1].s1)}}},26199:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),d=r(90769).handleText,S=r(67513),M=r(73927),v=r(1285),u=r(7901);ae.exports={supplyDefaults:function(i,s,a,o){function l(h,T){return D.coerce(i,s,v,h,T)}if(S(i,s,o,l)){M(i,s,o,l),l("xhoverformat"),l("yhoverformat"),l("orientation",s.y&&!s.x?"v":"h"),l("offset"),l("width");var c=l("text");l("hovertext"),l("hovertemplate");var f=l("textposition");d(i,s,o,l,f,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"===s.textposition||s.texttemplate||l("textinfo",Array.isArray(c)?"text+value":"value");var g=l("marker.color",a);l("marker.line.color",u.defaultLine),l("marker.line.width"),l("connector.visible")&&(l("connector.fillcolor",(T=D.isArrayOrTypedArray(h=g)?"#000":h,u.addOpacity(T,.5*u.opacity(T)))),l("connector.line.width")&&(l("connector.line.color"),l("connector.line.dash")))}else s.visible=!1;var h,T},crossTraceDefaults:function(i,s){var a,o;function l(f){return D.coerce(o._input,o,v,f)}if("group"===s.funnelmode)for(var c=0;c<i.length;c++)a=(o=i[c])._input,E(a,o,s,l)}}},34598:function(ae){"use strict";ae.exports=function(B,r){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"percentInitial"in r&&(B.percentInitial=r.percentInitial),"percentPrevious"in r&&(B.percentPrevious=r.percentPrevious),"percentTotal"in r&&(B.percentTotal=r.percentTotal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},63341:function(ae,B,r){"use strict";var D=r(7901).opacity,E=r(95423).hoverOnBars,d=r(71828).formatPercent;ae.exports=function(S,M,v,u,i){var b,_,w,A,p,s=E(S,M,v,u,i);if(s){var a=s.cd,o=a[0].trace,c=a[s.index];s[("h"===o.orientation?"x":"y")+"LabelVal"]=c.s,s.percentInitial=c.begR,s.percentInitialLabel=d(c.begR,1),s.percentPrevious=c.difR,s.percentPreviousLabel=d(c.difR,1),s.percentTotal=c.sumR,s.percentTotalLabel=d(c.sumR,1);var f=c.hi||o.hoverinfo,g=[];if(f&&"none"!==f&&"skip"!==f){var h="all"===f,T=f.split("+"),x=function(m){return h||-1!==T.indexOf(m)};x("percent initial")&&g.push(s.percentInitialLabel+" of initial"),x("percent previous")&&g.push(s.percentPreviousLabel+" of previous"),x("percent total")&&g.push(s.percentTotalLabel+" of total")}return s.extraText=g.join("<br>"),s.color=(_=o.marker,A=(b=c).mlc||_.line.color,p=b.mlw||_.line.width,D(w=b.mc||_.color)?w:D(A)&&p?A:void 0),[s]}}},51759:function(ae,B,r){"use strict";ae.exports={attributes:r(1285),layoutAttributes:r(10440),supplyDefaults:r(26199).supplyDefaults,crossTraceDefaults:r(26199).crossTraceDefaults,supplyLayoutDefaults:r(93138),calc:r(9532),crossTraceCalc:r(8984),plot:r(80461),style:r(68266).style,hoverPoints:r(63341),eventData:r(34598),selectPoints:r(81974),moduleType:"trace",name:"funnel",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(ae){"use strict";ae.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(ae,B,r){"use strict";var D=r(71828),E=r(10440);ae.exports=function(d,S,M){var v=!1;function u(a,o){return D.coerce(d,S,E,a,o)}for(var i=0;i<M.length;i++){var s=M[i];if(s.visible&&"funnel"===s.type){v=!0;break}}v&&(u("funnelmode"),u("funnelgap",.2),u("funnelgroupgap"))}},80461:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424),S=r(50606).BADNUM,M=r(17295),v=r(72597).clearMinTextSize;function u(i,s,a,o){var l=[],c=[],f=o?s:a,g=o?a:s;return l[0]=f.c2p(i.s0,!0),c[0]=g.c2p(i.p0,!0),l[1]=f.c2p(i.s1,!0),c[1]=g.c2p(i.p1,!0),l[2]=f.c2p(i.nextS0,!0),c[2]=g.c2p(i.nextP0,!0),l[3]=f.c2p(i.nextS1,!0),c[3]=g.c2p(i.nextP1,!0),o?[l,c]:[c,l]}ae.exports=function(i,s,a,o){var c,f,T,x,l=i._fullLayout;v("funnel",l),c=i,T=(f=s).xaxis,x=f.yaxis,E.makeTraceGroups(o,a,"trace bars").each(function(m){var b=D.select(this),_=m[0].trace,w=E.ensureSingle(b,"g","regions");if(_.connector&&_.connector.visible){var A="h"===_.orientation,p=w.selectAll("g.region").data(E.identity);p.enter().append("g").classed("region",!0),p.exit().remove();var I=p.size();p.each(function(k,L){if(L===I-1||k.cNext){var O=u(k,T,x,A),P=O[0],F=O[1],j="";P[0]!==S&&F[0]!==S&&P[1]!==S&&F[1]!==S&&P[2]!==S&&F[2]!==S&&P[3]!==S&&F[3]!==S&&(j+=A?"M"+P[0]+","+F[1]+"L"+P[2]+","+F[2]+"H"+P[3]+"L"+P[1]+","+F[1]+"Z":"M"+P[1]+","+F[1]+"L"+P[2]+","+F[3]+"V"+F[2]+"L"+P[1]+","+F[0]+"Z"),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(d.setClipUrl,f.layerClipId,c)}})}else w.remove()}),function(c,f,g,h){var T=f.xaxis,x=f.yaxis;E.makeTraceGroups(h,g,"trace bars").each(function(m){var b=D.select(this),_=m[0].trace,w=E.ensureSingle(b,"g","lines");if(_.connector&&_.connector.visible&&_.connector.line.width){var A="h"===_.orientation,p=w.selectAll("g.line").data(E.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var I=p.size();p.each(function(k,L){if(L===I-1||k.cNext){var O=u(k,T,x,A),P=O[0],F=O[1],j="";void 0!==P[3]&&void 0!==F[3]&&(A?(j+="M"+P[0]+","+F[1]+"L"+P[2]+","+F[2],j+="M"+P[1]+","+F[1]+"L"+P[3]+","+F[2]):(j+="M"+P[1]+","+F[1]+"L"+P[2]+","+F[3],j+="M"+P[1]+","+F[0]+"L"+P[2]+","+F[2])),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(d.setClipUrl,f.layerClipId,c)}})}else w.remove()})}(i,s,a,o),M.plot(i,s,a,o,{mode:l.funnelmode,norm:l.funnelmode,gap:l.funnelgap,groupgap:l.funnelgroupgap})}},68266:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(7901),S=r(37822).DESELECTDIM,M=r(16688),v=r(72597).resizeText,u=M.styleTextPoints;ae.exports={style:function(i,s,a){var o=a||D.select(i).selectAll("g.funnellayer").selectAll("g.trace");v(i,o,"funnel"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var c=D.select(this),f=l[0].trace;c.selectAll(".point > path").each(function(g){if(!g.isBlank){var h=f.marker;D.select(this).call(d.fill,g.mc||h.color).call(d.stroke,g.mlc||h.line.color).call(E.dashLine,h.line.dash,g.mlw||h.line.width).style("opacity",f.selectedpoints&&!g.selected?S:1)}}),u(c,f,i),c.selectAll(".regions").each(function(){D.select(this).selectAll("path").style("stroke-width",0).call(d.fill,f.connector.fillcolor)}),c.selectAll(".lines").each(function(){var g=f.connector.line;E.lineGroupStyle(D.select(this).selectAll("path"),g.width,g.color,g.dash)})})}}},86807:function(ae,B,r){"use strict";var D=r(34e3),E=r(9012),d=r(27670).Y,S=r(5386).fF,M=r(5386).si,v=r(1426).extendFlat;ae.exports={labels:D.labels,label0:D.label0,dlabel:D.dlabel,values:D.values,marker:{colors:D.marker.colors,line:{color:v({},D.marker.line.color,{dflt:null}),width:v({},D.marker.line.width,{dflt:1}),editType:"calc"},pattern:D.marker.pattern,editType:"calc"},text:D.text,hovertext:D.hovertext,scalegroup:v({},D.scalegroup,{}),textinfo:v({},D.textinfo,{flags:["label","text","value","percent"]}),texttemplate:M({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},E.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","text","percent"]}),textposition:v({},D.textposition,{values:["inside","none"],dflt:"inside"}),textfont:D.textfont,insidetextfont:D.insidetextfont,title:{text:D.title.text,font:D.title.font,position:v({},D.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:d({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(ae,B,r){"use strict";var D=r(74875);B.name="funnelarea",B.plot=function(E,d,S,M){D.plotBasePlot(B.name,E,d,S,M)},B.clean=function(E,d,S,M){D.cleanBasePlot(B.name,E,d,S,M)}},89574:function(ae,B,r){"use strict";var D=r(32354);ae.exports={calc:function(E,d){return D.calc(E,d)},crossTraceCalc:function(E){D.crossTraceCalc(E,{type:"funnelarea"})}}},86282:function(ae,B,r){"use strict";var D=r(71828),E=r(86807),d=r(27670).c,S=r(90769).handleText,M=r(37434).handleLabelsAndValues,v=r(37434).handleMarkerDefaults;ae.exports=function(u,i,s,a){function o(b,_){return D.coerce(u,i,E,b,_)}var l=o("labels"),c=o("values"),f=M(l,c),g=f.len;if(i._hasLabels=f.hasLabels,i._hasValues=f.hasValues,!i._hasLabels&&i._hasValues&&(o("label0"),o("dlabel")),g){i._length=g,v(u,i,a,o),o("scalegroup");var h,T=o("text"),x=o("texttemplate");if(x||(h=o("textinfo",Array.isArray(T)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),x||h&&"none"!==h){var m=o("textposition");S(u,i,a,o,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}d(i,a,o),o("title.text")&&(o("title.position"),D.coerceFont(o,"title.font",a.font)),o("aspectratio"),o("baseratio")}else i.visible=!1}},10421:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"funnelarea",basePlotModule:r(6452),categories:["pie-like","funnelarea","showLegend"],attributes:r(86807),layoutAttributes:r(80097),supplyDefaults:r(86282),supplyLayoutDefaults:r(57402),calc:r(89574).calc,crossTraceCalc:r(89574).crossTraceCalc,plot:r(79187),style:r(71858),styleOne:r(63463),meta:{}}},80097:function(ae,B,r){"use strict";var D=r(92774).hiddenlabels;ae.exports={hiddenlabels:D,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(ae,B,r){"use strict";var D=r(71828),E=r(80097);ae.exports=function(d,S){function M(v,u){return D.coerce(d,S,E,v,u)}M("hiddenlabels"),M("funnelareacolorway",S.colorway),M("extendfunnelareacolors")}},79187:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(71828),S=d.strScale,M=d.strTranslate,v=r(63893),u=r(17295).toMoveInsideBar,i=r(72597),s=i.recordMinTextSize,a=i.clearMinTextSize,o=r(53581),l=r(14575),c=l.attachFxHandlers,f=l.determineInsideTextFont,g=l.layoutAreas,h=l.prerenderTitles,T=l.positionTitleOutside,x=l.formatSliceLabel;function m(b,_){return"l"+(_[0]-b[0])+","+(_[1]-b[1])}ae.exports=function(b,_){var w=b._context.staticPlot,A=b._fullLayout;a("funnelarea",A),h(_,b),g(_,A._size),d.makeTraceGroups(A._funnelarealayer,_,"trace").each(function(p){var I=D.select(this),k=p[0],L=k.trace;(function(O){if(O.length){var P=O[0],F=P.trace,j=F.aspectratio,X=F.baseratio;X>.999&&(X=.999);var N,q,G,H=Math.pow(X,2),Z=P.vTotal,$=Z,se=Z*H/(1-H)/Z,ne=[];for(ne.push(Se()),q=O.length-1;q>-1;q--)(G=O[q]).hidden||(se+=G.v/$,ne.push(Se()));var Q=1/0,ee=-1/0;for(q=0;q<ne.length;q++)N=ne[q],Q=Math.min(Q,N[1]),ee=Math.max(ee,N[1]);for(q=0;q<ne.length;q++)ne[q][1]-=(ee+Q)/2;var ce=P.r,ue=(ee-Q)/2,he=ce/ne[ne.length-1][0],ve=ce/ue*j;for(P.r=ve*ue,q=0;q<ne.length;q++)ne[q][0]*=he,ne[q][1]*=ve;var ke,Ie,Me=[-(N=ne[0])[0],N[1]],_e=[N[0],N[1]],we=0;for(q=O.length-1;q>-1;q--)if(!(G=O[q]).hidden){var ze=ne[we+=1][0],Ee=ne[we][1];G.TL=[-ze,Ee],G.TR=[ze,Ee],G.BL=Me,G.BR=_e,G.pxmid=[.5*((ke=G.TR)[0]+(Ie=G.BR)[0]),.5*(ke[1]+Ie[1])],Me=G.TL,_e=G.TR}}function Se(){var me,fe={x:me=Math.sqrt(se),y:-me};return[fe.x,fe.y]}})(p),I.each(function(){var O=D.select(this).selectAll("g.slice").data(p);O.enter().append("g").classed("slice",!0),O.exit().remove(),O.each(function(F,j){if(F.hidden)D.select(this).selectAll("path,g").remove();else{F.pointNumber=F.i,F.curveNumber=L.index;var X=k.cx,N=k.cy,q=D.select(this),G=q.selectAll("path.surface").data([F]);G.enter().append("path").classed("surface",!0).style({"pointer-events":w?"none":"all"}),q.call(c,b,p);var H="M"+(X+F.TR[0])+","+(N+F.TR[1])+m(F.TR,F.BR)+m(F.BR,F.BL)+m(F.BL,F.TL)+"Z";G.attr("d",H),x(b,F,k);var Z=o.castOption(L.textposition,F.pts),$=q.selectAll("g.slicetext").data(F.text&&"none"!==Z?[0]:[]);$.enter().append("g").classed("slicetext",!0),$.exit().remove(),$.each(function(){var se=d.ensureSingle(D.select(this),"text","",function(he){he.attr("data-notex",1)}),ne=d.ensureUniformFontSize(b,f(L,F,A.font));se.text(F.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(E.font,ne).call(v.convertToTspans,b);var re,Q,ee,oe=E.bBox(se.node()),ce=Math.min(F.BL[1],F.BR[1])+N,ue=Math.max(F.TL[1],F.TR[1])+N;Q=Math.max(F.TL[0],F.BL[0])+X,ee=Math.min(F.TR[0],F.BR[0])+X,(re=u(Q,ee,ce,ue,oe,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=ne.size,s(L.type,re,A),p[j].transform=re,d.setTransormAndDisplay(se,re)})}});var P=D.select(this).selectAll("g.titletext").data(L.title.text?[0]:[]);P.enter().append("g").classed("titletext",!0),P.exit().remove(),P.each(function(){var F=d.ensureSingle(D.select(this),"text","",function(N){N.attr("data-notex",1)}),j=L.title.text;L._meta&&(j=d.templateString(j,L._meta)),F.text(j).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(E.font,L.title.font).call(v.convertToTspans,b);var X=T(k,A._size);F.attr("transform",M(X.x,X.y)+S(Math.min(1,X.scale))+M(X.tx,X.ty))})})})}},71858:function(ae,B,r){"use strict";var D=r(39898),E=r(63463),d=r(72597).resizeText;ae.exports=function(S){var M=S._fullLayout._funnelarealayer.selectAll(".trace");d(S,M,"funnelarea"),M.each(function(v){var u=v[0].trace,i=D.select(this);i.style({opacity:u.opacity}),i.selectAll("path.surface").each(function(s){D.select(this).call(E,s,u,S)})})}},21606:function(ae,B,r){"use strict";var D=r(82196),E=r(9012),d=r(41940),S=r(12663).axisHoverFormat,M=r(5386).fF,v=r(5386).si,u=r(50693),i=r(1426).extendFlat;ae.exports=i({z:{valType:"data_array",editType:"calc"},x:i({},D.x,{impliedEdits:{xtype:"array"}}),x0:i({},D.x0,{impliedEdits:{xtype:"scaled"}}),dx:i({},D.dx,{impliedEdits:{xtype:"scaled"}}),y:i({},D.y,{impliedEdits:{ytype:"array"}}),y0:i({},D.y0,{impliedEdits:{ytype:"scaled"}}),dy:i({},D.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:i({},D.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:i({},D.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:i({},D.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:i({},D.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:i({},D.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:i({},D.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:M(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:d({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:i({},E.showlegend,{dflt:!1})},{transforms:void 0},u("",{cLetter:"z",autoColorDflt:!1}))},90757:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(89298),S=r(42973),M=r(17562),v=r(78803),u=r(68296),i=r(4742),s=r(824),a=r(43907),o=r(70769),l=r(50606).BADNUM;function c(f){for(var g=[],h=f.length,T=0;T<h;T++){var x=f[T];x!==l&&g.push(x)}return g}ae.exports=function(f,g){var h,T,x,m,b,_,w,A,p,I,k,L=d.getFromId(f,g.xaxis||"x"),O=d.getFromId(f,g.yaxis||"y"),P=D.traceIs(g,"contour"),F=D.traceIs(g,"histogram"),j=D.traceIs(g,"gl2d"),X=P?"best":g.zsmooth;if(L._minDtick=0,O._minDtick=0,F)m=(k=M(f,g)).orig_x,h=k.x,T=k.x0,x=k.dx,A=k.orig_y,b=k.y,_=k.y0,w=k.dy,p=k.z;else{var N=g.z;E.isArray1D(N)?(u(g,L,O,"x","y",["z"]),h=g._x,b=g._y,N=g._z):(m=g.x?L.makeCalcdata(g,"x"):[],A=g.y?O.makeCalcdata(g,"y"):[],h=S(g,L,"x",m).vals,b=S(g,O,"y",A).vals,g._x=h,g._y=b),T=g.x0,x=g.dx,_=g.y0,w=g.dy,p=i(N,g,L,O)}function q(ee){X=g._input.zsmooth=g.zsmooth=!1,E.warn('cannot use zsmooth: "fast": '+ee)}function G(ee){if(ee.length>1){var oe=(ee[ee.length-1]-ee[0])/(ee.length-1),ce=Math.abs(oe/100);for(I=0;I<ee.length-1;I++)if(Math.abs(ee[I+1]-ee[I]-oe)>ce)return!1}return!0}(L.rangebreaks||O.rangebreaks)&&(p=function(ee,oe,ce){for(var ue=[],he=-1,ve=0;ve<ce.length;ve++)if(oe[ve]!==l){ue[++he]=[];for(var ke=0;ke<ce[ve].length;ke++)ee[ke]!==l&&ue[he].push(ce[ve][ke])}return ue}(h,b,p),F||(h=c(h),b=c(b),g._x=h,g._y=b)),F||!P&&!g.connectgaps||(g._emptypoints=a(p),s(p,g._emptypoints)),g._islinear=!1,"log"===L.type||"log"===O.type?"fast"===X&&q("log axis found"):G(h)?G(b)?g._islinear=!0:"fast"===X&&q("y scale is not linear"):"fast"===X&&q("x scale is not linear");var H=E.maxRowLength(p),Z="scaled"===g.xtype?"":h,$=o(g,Z,T,x,H,L),se="scaled"===g.ytype?"":b,ne=o(g,se,_,w,p.length,O);j||(g._extremes[L._id]=d.findExtremes(L,$),g._extremes[O._id]=d.findExtremes(O,ne));var re={x:$,y:ne,z:p,text:g._text||g.text,hovertext:g._hovertext||g.hovertext};if(g.xperiodalignment&&m&&(re.orig_x=m),g.yperiodalignment&&A&&(re.orig_y=A),Z&&Z.length===$.length-1&&(re.xCenter=Z),se&&se.length===ne.length-1&&(re.yCenter=se),F&&(re.xRanges=k.xRanges,re.yRanges=k.yRanges,re.pts=k.pts),P||v(f,g,{vals:p,cLetter:"z"}),P&&g.contours&&"heatmap"===g.contours.coloring){var Q={type:"contour"===g.type?"heatmap":"histogram2d",xcalendar:g.xcalendar,ycalendar:g.ycalendar};re.xfill=o(Q,Z,T,x,H,L),re.yfill=o(Q,se,_,w,p.length,O)}return[re]}},4742:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(50606).BADNUM;ae.exports=function(S,M,v,u){var i,s,a,o,l,c;function f(b){if(D(b))return+b}if(M&&M.transpose){for(i=0,l=0;l<S.length;l++)i=Math.max(i,S[l].length);if(0===i)return!1;a=function(b){return b.length},o=function(b,_,w){return(b[w]||[])[_]}}else i=S.length,a=function(b,_){return b[_].length},o=function(b,_,w){return(b[_]||[])[w]};function h(b){if(M&&"carpet"!==M.type&&"contourcarpet"!==M.type&&b&&"category"===b.type&&M["_"+b._id.charAt(0)].length){var _=b._id.charAt(0),w={},A=M["_"+_+"CategoryMap"]||M[_];for(l=0;l<A.length;l++)w[A[l]]=l;return function(p){var I=w[b._categories[p]];return I+1?I:d}}return E.identity}var T=h(v),x=h(u);u&&"category"===u.type&&(i=u._categories.length);var b,_,w,m=new Array(i);for(l=0;l<i;l++)for(s=v&&"category"===v.type?v._categories.length:a(S,l),m[l]=new Array(s),c=0;c<s;c++)m[l][c]=f((b=S,_=x(l),w=T(c),_===d||w===d?d:o(b,_,w)));return m}},61243:function(ae){"use strict";ae.exports={min:"zmin",max:"zmax"}},68296:function(ae,B,r){"use strict";var D=r(71828),E=r(50606).BADNUM,d=r(42973);ae.exports=function(S,M,v,u,i,s){var a=S._length,o=M.makeCalcdata(S,u),l=v.makeCalcdata(S,i);o=d(S,M,u,o).vals,l=d(S,v,i,l).vals;var c,f,g,h,T=S.text,x=void 0!==T&&D.isArray1D(T),m=S.hovertext,b=void 0!==m&&D.isArray1D(m),_=D.distinctVals(o),w=_.vals,A=D.distinctVals(l),p=A.vals,I=[],k=p.length,L=w.length;for(c=0;c<s.length;c++)I[c]=D.init2dArray(k,L);x&&(g=D.init2dArray(k,L)),b&&(h=D.init2dArray(k,L));var O=D.init2dArray(k,L);for(c=0;c<a;c++)if(o[c]!==E&&l[c]!==E){var P=D.findBin(o[c]+_.minDiff/2,w),F=D.findBin(l[c]+A.minDiff/2,p);for(f=0;f<s.length;f++)I[f][F][P]=S[s[f]][c],O[F][P]=c;x&&(g[F][P]=T[c]),b&&(h[F][P]=m[c])}for(S["_"+u]=w,S["_"+i]=p,f=0;f<s.length;f++)S["_"+s[f]]=I[f];x&&(S._text=g),b&&(S._hovertext=h),M&&"category"===M.type&&(S["_"+u+"CategoryMap"]=w.map(function(X){return M._categories[X]})),v&&"category"===v.type&&(S["_"+i+"CategoryMap"]=p.map(function(X){return v._categories[X]})),S._after2before=O}},76382:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),d=r(58623),S=r(73927),M=r(49901),v=r(1586),u=r(21606);ae.exports=function(i,s,a,o){function l(c,f){return D.coerce(i,s,u,c,f)}E(i,s,l,o)?(S(i,s,o,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),d(l,o),M(i,s,l,o),l("hoverongaps"),l("connectgaps",D.isArray1D(s.z)&&!1!==s.zsmooth),v(i,s,o,l,{prefix:"",cLetter:"z"})):s.visible=!1}},43907:function(ae,B,r){"use strict";var D=r(71828).maxRowLength;ae.exports=function(E){var d,S,M,v,u,i,s,a,o=[],l={},c=[],f=E[0],g=[],h=[0,0,0],T=D(E);for(S=0;S<E.length;S++)for(d=g,g=f,f=E[S+1]||[],M=0;M<T;M++)void 0===g[M]&&((i=(void 0!==g[M-1]?1:0)+(void 0!==g[M+1]?1:0)+(void 0!==d[M]?1:0)+(void 0!==f[M]?1:0))?(0===S&&i++,0===M&&i++,S===E.length-1&&i++,M===g.length-1&&i++,i<4&&(l[[S,M]]=[S,M,i]),o.push([S,M,i])):c.push([S,M]));for(;c.length;){for(s={},a=!1,u=c.length-1;u>=0;u--)(i=((l[[(S=(v=c[u])[0])-1,M=v[1]]]||h)[2]+(l[[S+1,M]]||h)[2]+(l[[S,M-1]]||h)[2]+(l[[S,M+1]]||h)[2])/20)&&(s[v]=[S,M,i],c.splice(u,1),a=!0);if(!a)throw"findEmpties iterated with no new neighbors";for(v in s)l[v]=s[v],o.push(s[v])}return o.sort(function(x,m){return m[2]-x[2]})}},46248:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),d=r(89298),S=r(21081).extractOpts;ae.exports=function(M,v,u,i,s){s||(s={});var a,o,l,c,f=s.isContour,g=M.cd[0],h=g.trace,T=M.xa,x=M.ya,m=g.x,b=g.y,_=g.z,w=g.xCenter,A=g.yCenter,p=g.zmask,I=h.zhoverformat,k=m,L=b;if(!1!==M.index){try{l=Math.round(M.index[1]),c=Math.round(M.index[0])}catch{return void E.error("Error hovering on heatmap, pointNumber must be [row,col], found:",M.index)}if(l<0||l>=_[0].length||c<0||c>_.length)return}else{if(D.inbox(v-m[0],v-m[m.length-1],0)>0||D.inbox(u-b[0],u-b[b.length-1],0)>0)return;if(f){var O;for(k=[2*m[0]-m[1]],O=1;O<m.length;O++)k.push((m[O]+m[O-1])/2);for(k.push([2*m[m.length-1]-m[m.length-2]]),L=[2*b[0]-b[1]],O=1;O<b.length;O++)L.push((b[O]+b[O-1])/2);L.push([2*b[b.length-1]-b[b.length-2]])}l=Math.max(0,Math.min(k.length-2,E.findBin(v,k))),c=Math.max(0,Math.min(L.length-2,E.findBin(u,L)))}var P,F,j=T.c2p(m[l]),X=T.c2p(m[l+1]),N=x.c2p(b[c]),q=x.c2p(b[c+1]);f?(X=j,a=(P=g.orig_x||m)[l],q=N,o=(F=g.orig_y||b)[c]):(P=g.orig_x||w||m,F=g.orig_y||A||b,a=w?P[l]:(P[l]+P[l+1])/2,o=A?F[c]:(F[c]+F[c+1])/2,T&&"category"===T.type&&(a=m[l]),x&&"category"===x.type&&(o=b[c]),h.zsmooth&&(j=X=T.c2p(a),N=q=x.c2p(o)));var G=_[c][l];if(p&&!p[c][l]&&(G=void 0),void 0!==G||h.hoverongaps){var H;Array.isArray(g.hovertext)&&Array.isArray(g.hovertext[c])?H=g.hovertext[c][l]:Array.isArray(g.text)&&Array.isArray(g.text[c])&&(H=g.text[c][l]);var Z=S(h),se=d.tickText({type:"linear",range:[Z.min,Z.max],hoverformat:I,_separators:T._separators,_numFormat:T._numFormat},G,"hover").text;return[E.extendFlat(M,{index:h._after2before?h._after2before[c][l]:[c,l],distance:M.maxHoverDistance,spikeDistance:M.maxSpikeDistance,x0:j,x1:X,y0:N,y1:q,xLabelVal:a,yLabelVal:o,zLabelVal:G,zLabel:se,text:H})]}}},92165:function(ae,B,r){"use strict";ae.exports={attributes:r(21606),supplyDefaults:r(76382),calc:r(90757),plot:r(50347),colorbar:r(61243),style:r(70035),hoverPoints:r(46248),moduleType:"trace",name:"heatmap",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(ae,B,r){"use strict";var D=r(71828),E=[[-1,0],[1,0],[0,-1],[0,1]];function d(M){return.5-.25*Math.min(1,.5*M)}function S(M,v,u){var i,s,a,o,l,c,f,g,h,T,x,m,b,_=0;for(o=0;o<v.length;o++){for(x=M[s=(i=v[o])[0]][a=i[1]],T=0,h=0,l=0;l<4;l++)(f=M[s+(c=E[l])[0]])&&void 0!==(g=f[a+c[1]])&&(0===T?m=b=g:(m=Math.min(m,g),b=Math.max(b,g)),h++,T+=g);if(0===h)throw"iterateInterp2d order is wrong: no defined neighbors";M[s][a]=T/h,void 0===x?h<4&&(_=1):(M[s][a]=(1+u)*M[s][a]-u*x,b>m&&(_=Math.max(_,Math.abs(M[s][a]-x)/(b-m))))}return _}ae.exports=function(M,v){var u,i=1;for(S(M,v),u=0;u<v.length&&!(v[u][2]<4);u++);for(v=v.slice(u),u=0;u<100&&i>.01;u++)i=S(M,v,d(i));return i>.01&&D.log("interp2d didn't converge quickly",i),M}},58623:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d){E("texttemplate");var S=D.extendFlat({},d.font,{color:"auto",size:"auto"});D.coerceFont(E,"textfont",S)}},70769:function(ae,B,r){"use strict";var D=r(73972),E=r(71828).isArrayOrTypedArray;ae.exports=function(d,S,M,v,u,i){var s,a,o,l=[],c=D.traceIs(d,"contour"),f=D.traceIs(d,"histogram"),g=D.traceIs(d,"gl2d");if(E(S)&&S.length>1&&!f&&"category"!==i.type){var h=S.length;if(!(h<=u))return S.slice(0,c?u:u+1);if(c||g)l=S.slice(0,u);else if(1===u)l=[S[0]-.5,S[0]+.5];else{for(l=[1.5*S[0]-.5*S[1]],o=1;o<h;o++)l.push(.5*(S[o-1]+S[o]));l.push(1.5*S[h-1]-.5*S[h-2])}if(h<u){var T=l[l.length-1],x=T-l[l.length-2];for(o=h;o<u;o++)l.push(T+=x)}}else{var m=d[i._id.charAt(0)+"calendar"];for(s=f?i.r2c(M,0,m):E(S)&&1===S.length?S[0]:void 0===M?0:("log"===i.type?i.d2c:i.r2c)(M,0,m),a=v||1,o=c||g?0:-.5;o<u;o++)l.push(s+a*o)}return l}},50347:function(ae,B,r){"use strict";var D=r(39898),E=r(84267),d=r(73972),S=r(91424),M=r(89298),v=r(71828),u=r(63893),i=r(8225),s=r(7901),a=r(21081).extractOpts,o=r(21081).makeColorScaleFuncFromTrace,l=r(77922),c=r(18783).LINE_SPACING,f=r(3883),g=r(32396).STYLE,h="heatmap-label";function T(w){return w.selectAll("g."+h)}function x(w){T(w).remove()}function m(w,A){var p=A.length-2,I=v.constrain(v.findBin(w,A),0,p),k=A[I],O=v.constrain(I+(w-k)/(A[I+1]-k)-.5,0,p),P=Math.round(O),F=Math.abs(O-P);return O&&O!==p&&F?{bin0:P,frac:F,bin1:Math.round(P+F/(O-P))}:{bin0:P,bin1:P,frac:0}}function b(w,A){var p=A.length-1,I=v.constrain(v.findBin(w,A),0,p),k=A[I],L=(w-k)/(A[I+1]-k)||0;return L<=0?{bin0:I,bin1:I,frac:0}:L<.5?{bin0:I,bin1:I+1,frac:L}:{bin0:I+1,bin1:I,frac:1-L}}function _(w,A,p){w[A]=p[0],w[A+1]=p[1],w[A+2]=p[2],w[A+3]=Math.round(255*p[3])}ae.exports=function(w,A,p,I){var k=A.xaxis,L=A.yaxis;v.makeTraceGroups(I,p,"hm").each(function(O){var P,F,j,X,N,q,G,H,Z=D.select(this),$=O[0],se=$.trace,ne=se.xgap||0,re=se.ygap||0,Q=$.z,ee=$.x,oe=$.y,ce=$.xCenter,ue=$.yCenter,he=d.traceIs(se,"contour"),ve=he?"best":se.zsmooth,ke=Q.length,Ie=v.maxRowLength(Q),Me=!1,_e=!1;for(q=0;void 0===P&&q<ee.length-1;)P=k.c2p(ee[q]),q++;for(q=ee.length-1;void 0===F&&q>0;)F=k.c2p(ee[q]),q--;for(F<P&&(j=F,F=P,P=j,Me=!0),q=0;void 0===X&&q<oe.length-1;)X=L.c2p(oe[q]),q++;for(q=oe.length-1;void 0===N&&q>0;)N=L.c2p(oe[q]),q--;N<X&&(j=X,X=N,N=j,_e=!0),he&&(ce=ee,ue=oe,ee=$.xfill,oe=$.yfill);var we="default";if(ve?we="best"===ve?"smooth":"fast":se._islinear&&0===ne&&0===re&&f()&&(we="fast"),"fast"!==we){var ze="best"===ve?0:.5;P=Math.max(-ze*k._length,P),F=Math.min((1+ze)*k._length,F),X=Math.max(-ze*L._length,X),N=Math.min((1+ze)*L._length,N)}var Ee,Se,me=Math.round(F-P),fe=Math.round(N-X);if(P>=k._length||F<=0||X>=L._length||N<=0)return Z.selectAll("image").data([]).exit().remove(),void x(Z);"fast"===we?(Ee=Ie,Se=ke):(Ee=me,Se=fe);var le=document.createElement("canvas");le.width=Ee,le.height=Se;var Te,Re,De=le.getContext("2d"),Ue=o(se,{noNumericCheck:!0,returnArray:!0});"fast"===we?(Te=Me?function(Kt){return Ie-1-Kt}:v.identity,Re=_e?function(Kt){return ke-1-Kt}:v.identity):(Te=function(Kt){return v.constrain(Math.round(k.c2p(ee[Kt])-P),0,me)},Re=function(Kt){return v.constrain(Math.round(L.c2p(oe[Kt])-X),0,fe)});var Ze,xe,Oe,Ce,Be=Re(0),qe=[Be,Be],He=Me?0:1,Je=_e?0:1,et=0,st=0,pt=0,ct=0;function St(Kt,qt){if(void 0!==Kt){var Tn=Ue(Kt);return Tn[0]=Math.round(Tn[0]),Tn[1]=Math.round(Tn[1]),Tn[2]=Math.round(Tn[2]),et+=qt,st+=Tn[0]*qt,pt+=Tn[1]*qt,ct+=Tn[2]*qt,Tn}return[0,0,0,0]}function Dt(Kt,qt,Tn,xn){var In=Kt[Tn.bin0];if(void 0===In)return St(void 0,1);var Kn=Kt[Tn.bin1],Jn=qt[Tn.bin0],vr=qt[Tn.bin1];return St(In+Tn.frac*(Kn-In||0)+xn.frac*((Jn-In||0)+Tn.frac*(void 0===Kn?void 0===vr?0:void 0===Jn?2*(vr-In):2*(2*vr-Jn-In)/3:void 0===vr?void 0===Jn?0:2*(2*In-Kn-Jn)/3:void 0===Jn?2*(2*vr-Kn-In)/3:vr+In-Kn-Jn)))}if("default"!==we){var vt,gt=0;try{vt=new Uint8Array(Ee*Se*4)}catch{vt=new Array(Ee*Se*4)}if("smooth"===we){var Et,Pt,Ot,Ht=ce||ee,zt=ue||oe,nt=new Array(Ht.length),it=new Array(zt.length),Ke=new Array(me),rt=ce?b:m,ft=ue?b:m;for(q=0;q<Ht.length;q++)nt[q]=Math.round(k.c2p(Ht[q])-P);for(q=0;q<zt.length;q++)it[q]=Math.round(L.c2p(zt[q])-X);for(q=0;q<me;q++)Ke[q]=rt(q,nt);for(G=0;G<fe;G++)for(Pt=Q[(Et=ft(G,it)).bin0],Ot=Q[Et.bin1],q=0;q<me;q++,gt+=4)_(vt,gt,Ce=Dt(Pt,Ot,Ke[q],Et))}else for(G=0;G<ke;G++)for(Oe=Q[G],qe=Re(G),q=0;q<Ie;q++)Ce=St(Oe[q],1),_(vt,gt=4*(qe*Ie+Te(q)),Ce);var ht=De.createImageData(Ee,Se);try{ht.data.set(vt)}catch{var Ve=ht.data,Ge=Ve.length;for(G=0;G<Ge;G++)Ve[G]=vt[G]}De.putImageData(ht,0,0)}else{var ut=Math.floor(ne/2),dt=Math.floor(re/2);for(G=0;G<ke;G++)if(Oe=Q[G],qe.reverse(),qe[Je]=Re(G+1),qe[0]!==qe[1]&&void 0!==qe[0]&&void 0!==qe[1])for(Ze=[xe=Te(0),xe],q=0;q<Ie;q++)Ze.reverse(),Ze[He]=Te(q+1),Ze[0]!==Ze[1]&&void 0!==Ze[0]&&void 0!==Ze[1]&&(Ce=St(Oe[q],(Ze[1]-Ze[0])*(qe[1]-qe[0])),De.fillStyle="rgba("+Ce.join(",")+")",De.fillRect(Ze[0]+ut,qe[0]+dt,Ze[1]-Ze[0]-ne,qe[1]-qe[0]-re))}st=Math.round(st/et),pt=Math.round(pt/et),ct=Math.round(ct/et);var kt=E("rgb("+st+","+pt+","+ct+")");w._hmpixcount=(w._hmpixcount||0)+et,w._hmlumcount=(w._hmlumcount||0)+et*kt.getLuminance();var bt=Z.selectAll("image").data(O);bt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),bt.attr({height:fe,width:me,x:P,y:X,"xlink:href":le.toDataURL("image/png")}),"fast"!==we||ve||bt.attr("style",g),x(Z);var At=se.texttemplate;if(At){var xt=a(se),Rt={type:"linear",range:[xt.min,xt.max],_separators:k._separators,_numFormat:k._numFormat},_t="histogram2dcontour"===se.type,Tt="contour"===se.type,It=Tt?ke-1:ke,Wt=Tt?1:0,Zt=Tt?Ie-1:Ie,$t=[];for(q=Tt?1:0;q<It;q++){var dn;if(Tt)dn=$.y[q];else if(_t){if(0===q||q===ke-1)continue;dn=$.y[q]}else if($.yCenter)dn=$.yCenter[q];else{if(q+1===ke&&void 0===$.y[q+1])continue;dn=($.y[q]+$.y[q+1])/2}var nn=Math.round(L.c2p(dn));if(!(0>nn||nn>L._length))for(G=Wt;G<Zt;G++){var cn;if(Tt)cn=$.x[G];else if(_t){if(0===G||G===Ie-1)continue;cn=$.x[G]}else if($.xCenter)cn=$.xCenter[G];else{if(G+1===Ie&&void 0===$.x[G+1])continue;cn=($.x[G]+$.x[G+1])/2}var rn=Math.round(k.c2p(cn));if(!(0>rn||rn>k._length)){var En=i({x:cn,y:dn},se,w._fullLayout);En.x=cn,En.y=dn;var Pn=$.z[q][G];void 0===Pn?(En.z="",En.zLabel=""):(En.z=Pn,En.zLabel=M.tickText(Rt,Pn,"hover").text);var Mn=$.text&&$.text[q]&&$.text[q][G];void 0!==Mn&&!1!==Mn||(Mn=""),En.text=Mn;var en=v.texttemplateString(At,En,w._fullLayout._d3locale,En,se._meta||{});if(en){var gn=en.split("<br>"),an=gn.length,yn=0;for(H=0;H<an;H++)yn=Math.max(yn,gn[H].length);$t.push({l:an,c:yn,t:en,x:rn,y:nn,z:Pn})}}}}var kn=se.textfont,Ln=kn.family,Rn=kn.size,Wn=w._fullLayout.font.size;if(!Rn||"auto"===Rn){var Cn=1/0,Zn=1/0,mr=0,lr=0;for(H=0;H<$t.length;H++){var er=$t[H];if(mr=Math.max(mr,er.l),lr=Math.max(lr,er.c),H<$t.length-1){var xr=$t[H+1],dr=Math.abs(xr.x-er.x),jr=Math.abs(xr.y-er.y);dr&&(Cn=Math.min(Cn,dr)),jr&&(Zn=Math.min(Zn,jr))}}isFinite(Cn)&&isFinite(Zn)?(Cn-=ne,Zn-=re,Cn/=lr,Zn/=mr,Cn/=c/2,Zn/=c,Rn=Math.min(Math.floor(Cn),Math.floor(Zn),Wn)):Rn=Wn}if(Rn<=0||!isFinite(Rn))return;T(Z).data($t).enter().append("g").classed(h,1).append("text").attr("text-anchor","middle").each(function(Kt){var xn,qt=D.select(this),Tn=kn.color;Tn&&"auto"!==Tn||(Tn=s.contrast("rgba("+Ue(Kt.z).join()+")")),qt.attr("data-notex",1).call(u.positionText,(xn=Kt,xn.x),function(xn){return xn.y-Rn*(xn.l*c/2-1)}(Kt)).call(S.font,Ln,Rn,Tn).text(Kt.t).call(u.convertToTspans,w)})}})}},70035:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E){D.select(E).selectAll(".hm image").style("opacity",function(d){return d.trace.opacity})}},49901:function(ae){"use strict";ae.exports=function(B,r,D){!1===D("zsmooth")&&(D("xgap"),D("ygap")),D("zhoverformat")}},67684:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(73972);function S(M,v){var u=v(M);return"scaled"===(u?v(M+"type","array"):"scaled")&&(v(M+"0"),v("d"+M)),u}ae.exports=function(M,v,u,i,s,a){var o,l,c=u("z");if(s=s||"x",a=a||"y",void 0===c||!c.length)return 0;if(E.isArray1D(M.z)){o=u(s),l=u(a);var f=E.minRowLength(o),g=E.minRowLength(l);if(0===f||0===g)return 0;v._length=Math.min(f,g,c.length)}else{if(o=S(s,u),l=S(a,u),!function(h){for(var T,x=!0,m=!1,b=!1,_=0;_<h.length;_++){if(!E.isArrayOrTypedArray(T=h[_])){x=!1;break}T.length>0&&(m=!0);for(var w=0;w<T.length;w++)if(D(T[w])){b=!0;break}}return x&&m&&b}(c))return 0;u("transpose"),v._length=null}return"heatmapgl"===M.type||d.getComponentMethod("calendars","handleTraceDefaults")(M,v,[s,a],i),!0}},16063:function(ae,B,r){"use strict";for(var D=r(21606),E=r(50693),d=r(1426).extendFlat,S=r(30962).overrideAll,M=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},u=0;u<M.length;u++){var i=M[u];v[i]=D[i]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},d(v,E("",{cLetter:"z",autoColorDflt:!1})),ae.exports=S(v,"calc","nested")},59560:function(ae,B,r){"use strict";var D=r(9330).gl_heatmap2d,E=r(89298),d=r(78614);function S(v,u){this.scene=v,this.uid=u,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=D(v.glplot,this.options),this.heatmap._trace=this}var M=S.prototype;M.handlePick=function(v){var u=this.options,i=u.shape,s=v.pointId,a=s%i[0],o=Math.floor(s/i[0]);return{trace:this,dataCoord:v.dataCoord,traceCoord:[u.x[a],u.y[o],u.z[s]],textLabel:this.textLabels[s],name:this.name,pointIndex:[o,a],hoverinfo:this.hoverinfo}},M.update=function(v,u){var i=u[0];this.index=v.index,this.name=v.name,this.hoverinfo=v.hoverinfo;var s=i.z;this.options.z=[].concat.apply([],s),this.options.shape=[s[0].length,s.length],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=v.zsmooth;var l=function(T){for(var x=T.colorscale,m=T.zmin,b=T.zmax,_=x.length,w=new Array(_),A=new Array(4*_),p=0;p<_;p++){var I=x[p],k=d(I[1]);w[p]=m+I[0]*(b-m);for(var L=0;L<4;L++)A[4*p+L]=k[L]}return{colorLevels:w,colorValues:A}}(v);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],v.text),this.heatmap.update(this.options);var c,f,g=this.scene.xaxis,h=this.scene.yaxis;!1===v.zsmooth&&(c={ppad:i.x[1]-i.x[0]},f={ppad:i.y[1]-i.y[0]}),v._extremes[g._id]=E.findExtremes(g,i.x,c),v._extremes[h._id]=E.findExtremes(h,i.y,f)},M.dispose=function(){this.heatmap.dispose()},ae.exports=function(v,u,i){var s=new S(v,u.uid);return s.update(u,i),s}},19600:function(ae,B,r){"use strict";var D=r(71828),E=r(67684),d=r(1586),S=r(16063);ae.exports=function(M,v,u,i){function s(a,o){return D.coerce(M,v,S,a,o)}E(M,v,s,i)?(s("text"),s("zsmooth"),d(M,v,i,s,{prefix:"",cLetter:"z"})):v.visible=!1}},3325:function(ae,B,r){"use strict";["*heatmapgl* trace is deprecated!","Please consider switching to the *heatmap* or *image* trace types.","Alternatively you could contribute/sponsor rewriting this trace type","based on cartesian features and using regl framework."].join(" "),ae.exports={attributes:r(16063),supplyDefaults:r(19600),colorbar:r(61243),calc:r(90757),plot:r(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:r(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(ae,B,r){"use strict";var D=r(1486),E=r(12663).axisHoverFormat,d=r(5386).fF,S=r(5386).si,M=r(41940),v=r(17656),u=r(72406),i=r(1426).extendFlat;ae.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:E("x"),yhoverformat:E("y"),text:i({},D.text,{}),hovertext:i({},D.hovertext,{}),orientation:D.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:d({},{keys:u.eventDataKeys}),texttemplate:S({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:i({},D.textposition,{arrayOk:!1}),textfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:M({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:D.insidetextanchor,textangle:D.textangle,cliponaxis:D.cliponaxis,constraintext:D.constraintext,marker:D.marker,offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:D.selected,unselected:D.unselected,_deprecated:{bardir:D._deprecated.bardir}}},42174:function(ae){"use strict";ae.exports=function(B,r){for(var D=B.length,E=0,d=0;d<D;d++)r[d]?(B[d]/=r[d],E+=B[d]):B[d]=null;return E}},17656:function(ae){"use strict";ae.exports=function(B,r){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(ae,B,r){"use strict";var D=r(92770);ae.exports={count:function(E,d,S){return S[E]++,1},sum:function(E,d,S,M){var v=M[d];return D(v)?(v=Number(v),S[E]+=v,v):0},avg:function(E,d,S,M,v){var u=M[d];return D(u)&&(u=Number(u),S[E]+=u,v[E]++),0},min:function(E,d,S,M){var v=M[d];if(D(v)){if(v=Number(v),!D(S[E]))return S[E]=v,v;if(S[E]>v){var u=v-S[E];return S[E]=v,u}}return 0},max:function(E,d,S,M){var v=M[d];if(D(v)){if(v=Number(v),!D(S[E]))return S[E]=v,v;if(S[E]<v){var u=v-S[E];return S[E]=v,u}}return 0}}},40965:function(ae,B,r){"use strict";var D=r(50606),E=D.ONEAVGYEAR,d=D.ONEAVGMONTH,S=D.ONEDAY,M=D.ONEHOUR,v=D.ONEMIN,u=D.ONESEC,i=r(89298).tickIncrement;function s(c,f,g,h){if(c*f<=0)return 1/0;for(var T=Math.abs(f-c),x="date"===g.type,m=a(T,x),b=0;b<10;b++){var _=a(80*m,x);if(m===_||!o(_,c,f,x,g,h))break;m=_}return m}function a(c,f){return f&&c>u?c>S?c>1.1*E?E:c>1.1*d?d:S:c>M?M:c>v?v:u:Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function o(c,f,g,h,T,x){if(h&&c>S){var m=l(f,T,x),b=l(g,T,x),_=c===E?0:1;return m[_]!==b[_]}return Math.floor(g/c)-Math.floor(f/c)>.1}function l(c,f,g){var h=f.c2d(c,E,g).split("-");return""===h[0]&&(h.unshift(),h[0]="-"+h[0]),h}ae.exports=function(c,f,g,h,T){var x,m,b=-1.1*f,_=-.1*f,w=c-_,A=g[0],p=g[1],I=Math.min(s(A+_,A+w,h,T),s(p+_,p+w,h,T)),k=Math.min(s(A+b,A+_,h,T),s(p+b,p+_,h,T));if(I>k&&k<Math.abs(p-A)/4e3?(x=I,m=!1):(x=Math.min(I,k),m=!0),"date"===h.type&&x>S){var L=x===E?1:6,O=x===E?"M12":"M1";return function(P,F){var j=h.c2d(P,E,T),X=j.indexOf("-",L);X>0&&(j=j.substr(0,X));var N=h.d2c(j,0,T);if(N<P){var q=i(N,O,!1,T);(N+q)/2<P+c&&(N=q)}return F&&m?i(N,O,!0,T):N}}return function(P,F){var j=x*Math.round(P/x);return j+x/10<P&&j+.9*x<P+c&&(j+=x),F&&m&&(j-=x),j}}},72138:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(73972),S=r(89298),M=r(75341),v=r(59575),u=r(36362),i=r(42174),s=r(40965);function a(o,l,c,f,g){var h,T,x,m,b,_,w,A=f+"bins",p=o._fullLayout,k=p._histogramBinOpts[l["_"+f+"bingroup"]],L="overlay"===p.barmode,O=function(_e){return c.r2c(_e,0,m)},P=function(_e){return c.c2r(_e,0,m)},F="date"===c.type?function(_e){return _e||0===_e?E.cleanDate(_e,null,m):null}:function(_e){return D(_e)?Number(_e):null};function j(_e,we,ze){we[_e+"Found"]?(we[_e]=F(we[_e]),null===we[_e]&&(we[_e]=ze[_e])):(_[_e]=we[_e]=ze[_e],E.nestedProperty(T[0],A+"."+_e).set(ze[_e]))}if(l["_"+f+"autoBinFinished"])delete l["_"+f+"autoBinFinished"];else{T=k.traces;var X=[],N=!0,q=!1,G=!1;for(h=0;h<T.length;h++)if((x=T[h]).visible){var H=k.dirs[h];b=x["_"+H+"pos0"]=c.makeCalcdata(x,H),X=E.concat(X,b),delete x["_"+f+"autoBinFinished"],!0===l.visible&&(N?N=!1:(delete x._autoBin,x["_"+f+"autoBinFinished"]=1),d.traceIs(x,"2dMap")&&(q=!0),"histogram2dcontour"===x.type&&(G=!0))}var Z=S.autoBin(X,c,k.nbins,q,m=T[0][f+"calendar"],k.sizeFound&&k.size),$=T[0]._autoBin={};if(_=$[k.dirs[0]]={},G&&(k.size||(Z.start=P(S.tickIncrement(O(Z.start),Z.size,!0,m))),void 0===k.end&&(Z.end=P(S.tickIncrement(O(Z.end),Z.size,!1,m)))),L&&!d.traceIs(l,"2dMap")&&0===Z._dataSpan&&"category"!==c.type&&"multicategory"!==c.type){if(g)return[Z,b,!0];Z=function(_e,we,ze,Ee,Se){var me,fe,le,Te=_e._fullLayout,Re=function(st,pt){for(var ct=pt.xaxis,St=pt.yaxis,Dt=pt.orientation,vt=[],gt=st._fullData,Et=0;Et<gt.length;Et++){var Pt=gt[Et];"histogram"===Pt.type&&!0===Pt.visible&&Pt.orientation===Dt&&Pt.xaxis===ct&&Pt.yaxis===St&&vt.push(Pt)}return vt}(_e,we),De=!1,Ue=1/0,Ze=[we];for(me=0;me<Re.length;me++)if((fe=Re[me])===we)De=!0;else if(De){var xe=a(_e,fe,ze,Ee,!0),Oe=xe[0],Ce=xe[2];fe["_"+Ee+"autoBinFinished"]=1,fe["_"+Ee+"pos0"]=xe[1],Ce?Ze.push(fe):Ue=Math.min(Ue,Oe.size)}else le=Te._histogramBinOpts[fe["_"+Ee+"bingroup"]],Ue=Math.min(Ue,le.size||fe[Se].size);var Be=new Array(Ze.length);for(me=0;me<Ze.length;me++)for(var qe=Ze[me]["_"+Ee+"pos0"],He=0;He<qe.length;He++)if(void 0!==qe[He]){Be[me]=qe[He];break}for(isFinite(Ue)||(Ue=E.distinctVals(Be).minDiff),me=0;me<Ze.length;me++){var Je=(fe=Ze[me])[Ee+"calendar"],et={start:ze.c2r(Be[me]-Ue/2,0,Je),end:ze.c2r(Be[me]+Ue/2,0,Je),size:Ue};fe._input[Se]=fe[Se]=et,(le=Te._histogramBinOpts[fe["_"+Ee+"bingroup"]])&&E.extendFlat(le,et)}return we[Se]}(o,l,c,f,A)}(w=x.cumulative||{}).enabled&&"include"!==w.currentbin&&("decreasing"===w.direction?Z.start=P(S.tickIncrement(O(Z.start),Z.size,!0,m)):Z.end=P(S.tickIncrement(O(Z.end),Z.size,!1,m))),k.size=Z.size,k.sizeFound||(_.size=Z.size,E.nestedProperty(T[0],A+".size").set(Z.size)),j("start",k,Z),j("end",k,Z)}b=l["_"+f+"pos0"],delete l["_"+f+"pos0"];var se=l._input[A]||{},ne=E.extendFlat({},k),re=k.start,Q=c.r2l(se.start),ee=void 0!==Q;if((k.startFound||ee)&&Q!==c.r2l(re)){var oe=ee?Q:E.aggNums(Math.min,null,b),ce={type:"category"===c.type||"multicategory"===c.type?"linear":c.type,r2l:c.r2l,dtick:k.size,tick0:re,calendar:m,range:[oe,S.tickIncrement(oe,k.size,!1,m)].map(c.l2r)},ue=S.tickFirst(ce);ue>c.r2l(oe)&&(ue=S.tickIncrement(ue,k.size,!0,m)),ne.start=c.l2r(ue),ee||E.nestedProperty(l,A+".start").set(ne.start)}var he=k.end,ve=c.r2l(se.end),ke=void 0!==ve;if((k.endFound||ke)&&ve!==c.r2l(he)){var Ie=ke?ve:E.aggNums(Math.max,null,b);ne.end=c.l2r(Ie),ke||E.nestedProperty(l,A+".start").set(ne.end)}var Me="autobin"+f;return!1===l._input[Me]&&(l._input[A]=E.extendFlat({},l[A]||{}),delete l._input[Me],delete l[Me]),[ne,b]}ae.exports={calc:function(o,l){var c,f,g,h,T=[],x=[],m="h"===l.orientation,b=S.getFromId(o,m?l.yaxis:l.xaxis),_=m?"y":"x",w={x:"y",y:"x"}[_],A=l[_+"calendar"],p=l.cumulative,I=a(o,l,b,_),k=I[0],L=I[1],O="string"==typeof k.size,P=[],F=O?P:k,j=[],X=[],N=[],q=0,G=l.histnorm,H=l.histfunc,Z=-1!==G.indexOf("density");p.enabled&&Z&&(G=G.replace(/ ?density$/,""),Z=!1);var $,se="max"===H||"min"===H?null:0,ne=v.count,re=u[G],Q=!1,ee=function(fe){return b.r2c(fe,0,A)};for(E.isArrayOrTypedArray(l[w])&&"count"!==H&&($=l[w],Q="avg"===H,ne=v[H]),c=ee(k.start),g=ee(k.end)+(c-S.tickIncrement(c,k.size,!1,A))/1e6;c<g&&T.length<1e6&&(f=S.tickIncrement(c,k.size,!1,A),T.push((c+f)/2),x.push(se),N.push([]),P.push(c),Z&&j.push(1/(f-c)),Q&&X.push(0),!(f<=c));)c=f;P.push(c),O||"date"!==b.type||(F={start:ee(F.start),end:ee(F.end),size:F.size}),o._fullLayout._roundFnOpts||(o._fullLayout._roundFnOpts={});var oe=l["_"+_+"bingroup"],ce={leftGap:1/0,rightGap:1/0};oe&&(o._fullLayout._roundFnOpts[oe]||(o._fullLayout._roundFnOpts[oe]=ce),ce=o._fullLayout._roundFnOpts[oe]);var ue,he=x.length,ve=!0,ke=ce.leftGap,Ie=ce.rightGap,Me={};for(c=0;c<L.length;c++){var _e=L[c];(h=E.findBin(_e,F))>=0&&h<he&&(q+=ne(h,c,x,$,X),ve&&N[h].length&&_e!==L[N[h][0]]&&(ve=!1),N[h].push(c),Me[c]=h,ke=Math.min(ke,_e-P[h]),Ie=Math.min(Ie,P[h+1]-_e))}ce.leftGap=ke,ce.rightGap=Ie,ve||(ue=function(fe,le){return function(){var Te=o._fullLayout._roundFnOpts[oe];return s(Te.leftGap,Te.rightGap,P,b,A)(fe,le)}}),Q&&(q=i(x,X)),re&&re(x,q,j),p.enabled&&function(fe,le,Te){var Re,De,Ue;function Ze(Oe){Ue=fe[Oe],fe[Oe]/=2}function xe(Oe){fe[Oe]=Ue+(De=fe[Oe])/2,Ue+=De}if("half"===Te)if("increasing"===le)for(Ze(0),Re=1;Re<fe.length;Re++)xe(Re);else for(Ze(fe.length-1),Re=fe.length-2;Re>=0;Re--)xe(Re);else if("increasing"===le){for(Re=1;Re<fe.length;Re++)fe[Re]+=fe[Re-1];"exclude"===Te&&(fe.unshift(0),fe.pop())}else{for(Re=fe.length-2;Re>=0;Re--)fe[Re]+=fe[Re+1];"exclude"===Te&&(fe.push(0),fe.shift())}}(x,p.direction,p.currentbin);var we=Math.min(T.length,x.length),ze=[],Ee=0,Se=we-1;for(c=0;c<we;c++)if(x[c]){Ee=c;break}for(c=we-1;c>=Ee;c--)if(x[c]){Se=c;break}for(c=Ee;c<=Se;c++)if(D(T[c])&&D(x[c])){var me={p:T[c],s:x[c],b:0};p.enabled||(me.pts=N[c],ve?me.ph0=me.ph1=N[c].length?L[N[c][0]]:T[c]:(l._computePh=!0,me.ph0=ue(P[c]),me.ph1=ue(P[c+1],!0))),ze.push(me)}return 1===ze.length&&(ze[0].width1=S.tickIncrement(ze[0].p,k.size,!1,A)-ze[0].p),M(ze,l),E.isArrayOrTypedArray(l.selectedpoints)&&E.tagSelected(ze,l,Me),ze},calcAllAutoBins:a}},72406:function(ae){"use strict";ae.exports={eventDataKeys:["binNumber"]}},82222:function(ae,B,r){"use strict";var D=r(71828),E=r(41675),d=r(73972).traceIs,S=r(26125),M=D.nestedProperty,v=r(99082).getAxisGroup,u=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];ae.exports=function(s,a){var o,l,c,f,g,h,T,x=a._histogramBinOpts={},m=[],b={},_=[];function w(Z,$){return D.coerce(o._input,o,o._module.attributes,Z,$)}function A(Z){return"v"===Z.orientation?"x":"y"}function p(Z,$,se){var ne=Z.uid+"__"+se;$||($=ne);var re=E.getFromTrace({_fullLayout:a},Z,se).type,Q=Z[se+"calendar"]||"",ee=x[$],oe=!0;ee&&(re===ee.axType&&Q===ee.calendar?(oe=!1,ee.traces.push(Z),ee.dirs.push(se)):($=ne,re!==ee.axType&&D.warn(["Attempted to group the bins of trace",Z.index,"set on a","type:"+re,"axis","with bins on","type:"+ee.axType,"axis."].join(" ")),Q!==ee.calendar&&D.warn(["Attempted to group the bins of trace",Z.index,"set with a",Q,"calendar","with bins",ee.calendar?"on a "+ee.calendar+" calendar":"w/o a set calendar"].join(" ")))),oe&&(x[$]={traces:[Z],dirs:[se],axType:re,calendar:Z[se+"calendar"]||""}),Z["_"+se+"bingroup"]=$}for(g=0;g<s.length;g++)d(o=s[g],"histogram")&&(m.push(o),delete o._xautoBinFinished,delete o._yautoBinFinished,d(o,"2dMap")||S(o._input,o,a,w));var I=a._alignmentOpts||{};for(g=0;g<m.length;g++){if(c="",!d(o=m[g],"2dMap")){if(f=A(o),"group"===a.barmode&&o.alignmentgroup){var L=v(a,o[f+"axis"])+o.orientation;(I[L]||{})[o.alignmentgroup]&&(c=L)}c||"overlay"===a.barmode||(c=v(a,o.xaxis)+v(a,o.yaxis)+A(o))}c?(b[c]||(b[c]=[]),b[c].push(o)):_.push(o)}for(c in b)if(1!==(l=b[c]).length){var O=!1;for(l.length&&(o=l[0],O=w("bingroup")),c=O||c,g=0;g<l.length;g++){var P=(o=l[g])._input.bingroup;P&&P!==c&&D.warn(["Trace",o.index,"must match","within bingroup",c+".","Ignoring its bingroup:",P,"setting."].join(" ")),o.bingroup=c,p(o,c,A(o))}}else _.push(l[0]);for(g=0;g<_.length;g++){o=_[g];var F=w("bingroup");if(d(o,"2dMap"))for(T=0;T<2;T++){var j=w((f=i[T])+"bingroup",F?F+"__"+f:null);p(o,j,f)}else p(o,F,A(o))}for(c in x){var X=x[c];for(l=X.traces,h=0;h<u.length;h++){var N,q,G=u[h],H=G.name;if("nbins"!==H||!X.sizeFound){for(g=0;g<l.length;g++){if(void 0!==M((o=l[g])._input,N=G.aStr[f=X.dirs[g]]).get()){X[H]=w(N),X[H+"Found"]=!0;break}(q=(o._autoBin||{})[f]||{})[H]&&M(o,N).set(q[H])}if("start"===H||"end"===H)for(;g<l.length;g++)(o=l[g])["_"+f+"bingroup"]&&w(N,(q=(o._autoBin||{})[f]||{})[H]);"nbins"!==H||X.sizeFound||X.nbinsFound||(o=l[0],X[H]=w(N))}}}}},11385:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(7901),S=r(90769).handleText,M=r(98340),v=r(7745);ae.exports=function(u,i,s,a){function o(_,w){return E.coerce(u,i,v,_,w)}var l=o("x"),c=o("y");o("cumulative.enabled")&&(o("cumulative.direction"),o("cumulative.currentbin")),o("text");var f=o("textposition");S(u,i,a,o,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat");var g=o("orientation",c&&!l?"h":"v"),h="v"===g?"x":"y",T="v"===g?"y":"x",x=l&&c?Math.min(E.minRowLength(l)&&E.minRowLength(c)):E.minRowLength(i[h]||[]);if(x){i._length=x,D.getComponentMethod("calendars","handleTraceDefaults")(u,i,["x","y"],a),i[T]&&o("histfunc"),o("histnorm"),o("autobin"+h),M(u,i,o,s,a),E.coerceSelectionMarkerOpacity(i,o);var m=(i.marker.line||{}).color,b=D.getComponentMethod("errorbars","supplyDefaults");b(u,i,m||d.defaultLine,{axis:"y"}),b(u,i,m||d.defaultLine,{axis:"x",inherit:"y"})}else i.visible=!1}},84402:function(ae){"use strict";ae.exports=function(B,r,D,E,d){if(B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"zLabelVal"in r&&(B.z=r.zLabelVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),!(D.cumulative||{}).enabled){var S,M=Array.isArray(d)?E[0].pts[d[0]][d[1]]:E[d].pts;if(B.pointNumbers=M,B.binNumber=B.pointNumber,delete B.pointNumber,delete B.pointIndex,D._indexToPoints){S=[];for(var v=0;v<M.length;v++)S=S.concat(D._indexToPoints[M[v]])}else S=M;B.pointIndices=S}return B}},76440:function(ae,B,r){"use strict";var D=r(95423).hoverPoints,E=r(89298).hoverLabelText;ae.exports=function(d,S,M,v,u){var i=D(d,S,M,v,u);if(i){var s=(d=i[0]).cd[d.index],a=d.cd[0].trace;if(!a.cumulative.enabled){var o="h"===a.orientation?"y":"x";d[o+"Label"]=E(d[o+"a"],[s.ph0,s.ph1],a[o+"hoverformat"])}return i}}},36071:function(ae,B,r){"use strict";ae.exports={attributes:r(7745),layoutAttributes:r(43641),supplyDefaults:r(11385),crossTraceDefaults:r(82222),supplyLayoutDefaults:r(13957),calc:r(72138).calc,crossTraceCalc:r(11661).crossTraceCalc,plot:r(17295).plot,layerName:"barlayer",style:r(16688).style,styleOnSelect:r(16688).styleOnSelect,colorbar:r(4898),hoverPoints:r(76440),selectPoints:r(81974),eventData:r(84402),moduleType:"trace",name:"histogram",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(ae){"use strict";ae.exports={percent:function(B,r){for(var D=B.length,E=100/r,d=0;d<D;d++)B[d]*=E},probability:function(B,r){for(var D=B.length,E=0;E<D;E++)B[E]/=r},density:function(B,r,D,E){var d=B.length;E=E||1;for(var S=0;S<d;S++)B[S]*=D[S]*E},"probability density":function(B,r,D,E){var d=B.length;E&&(r/=E);for(var S=0;S<d;S++)B[S]*=D[S]/r}}},35361:function(ae,B,r){"use strict";var D=r(7745),E=r(17656),d=r(21606),S=r(9012),M=r(12663).axisHoverFormat,v=r(5386).fF,u=r(5386).si,i=r(50693),s=r(1426).extendFlat;ae.exports=s({x:D.x,y:D.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:D.histnorm,histfunc:D.histfunc,nbinsx:D.nbinsx,xbins:E("x"),nbinsy:D.nbinsy,ybins:E("y"),autobinx:D.autobinx,autobiny:D.autobiny,bingroup:s({},D.bingroup,{}),xbingroup:s({},D.bingroup,{}),ybingroup:s({},D.bingroup,{}),xgap:d.xgap,ygap:d.ygap,zsmooth:d.zsmooth,xhoverformat:M("x"),yhoverformat:M("y"),zhoverformat:M("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:u({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:d.textfont,showlegend:s({},S.showlegend,{dflt:!1})},i("",{cLetter:"z",autoColorDflt:!1}))},17562:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(59575),S=r(36362),M=r(42174),v=r(40965),u=r(72138).calcAllAutoBins;function i(o,l,c,f){var g,h=new Array(o);if(f)for(g=0;g<o;g++)h[g]=1/(l[g+1]-l[g]);else{var T=1/c;for(g=0;g<o;g++)h[g]=T}return h}function s(o,l){return{start:o(l.start),end:o(l.end),size:l.size}}function a(o,l,c,f,g,h){var T,x=o.length-1,m=new Array(x),b=v(c,f,o,g,h);for(T=0;T<x;T++){var _=(l||[])[T];m[T]=void 0===_?[b(o[T]),b(o[T+1],!0)]:[_,_]}return m}ae.exports=function(o,l){var c,f,g,h,T=E.getFromId(o,l.xaxis),x=E.getFromId(o,l.yaxis),m=l.xcalendar,b=l.ycalendar,_=function(St){return T.r2c(St,0,m)},w=function(St){return x.r2c(St,0,b)},A=u(o,l,T,"x"),p=A[0],I=A[1],k=u(o,l,x,"y"),L=k[0],O=k[1],P=l._length;I.length>P&&I.splice(P,I.length-P),O.length>P&&O.splice(P,O.length-P);var F=[],j=[],X=[],N="string"==typeof p.size,q="string"==typeof L.size,G=[],H=[],Z=N?G:p,$=q?H:L,se=0,ne=[],re=[],Q=l.histnorm,ee=l.histfunc,oe=-1!==Q.indexOf("density"),ce="max"===ee||"min"===ee?null:0,ue=d.count,he=S[Q],ve=!1,ke=[],Ie=[],Me="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";Me&&"count"!==ee&&(ve="avg"===ee,ue=d[ee]);var _e=p.size,we=_(p.start),ze=_(p.end)+(we-E.tickIncrement(we,_e,!1,m))/1e6;for(c=we;c<ze;c=E.tickIncrement(c,_e,!1,m))j.push(ce),G.push(c),ve&&X.push(0);G.push(c);var Se=j.length,me=(c-we)/Se,fe=T.c2r(we+me/2,0,m),le=L.size,Te=w(L.start),Re=w(L.end)+(Te-E.tickIncrement(Te,le,!1,b))/1e6;for(c=Te;c<Re;c=E.tickIncrement(c,le,!1,b)){F.push(j.slice()),H.push(c);var De=new Array(Se);for(f=0;f<Se;f++)De[f]=[];re.push(De),ve&&ne.push(X.slice())}H.push(c);var Ue=F.length,Ze=(c-Te)/Ue,xe=x.c2r(Te+Ze/2,0,b);oe&&(ke=i(j.length,Z,me,N),Ie=i(F.length,$,Ze,q)),N||"date"!==T.type||(Z=s(_,Z)),q||"date"!==x.type||($=s(w,$));var Oe=!0,Ce=!0,Be=new Array(Se),qe=new Array(Ue),He=1/0,Je=1/0,et=1/0,st=1/0;for(c=0;c<P;c++){var pt=I[c],ct=O[c];g=D.findBin(pt,Z),h=D.findBin(ct,$),g>=0&&g<Se&&h>=0&&h<Ue&&(se+=ue(g,c,F[h],Me,ne[h]),re[h][g].push(c),Oe&&(void 0===Be[g]?Be[g]=pt:Be[g]!==pt&&(Oe=!1)),Ce&&(void 0===qe[h]?qe[h]=ct:qe[h]!==ct&&(Ce=!1)),He=Math.min(He,pt-G[g]),Je=Math.min(Je,G[g+1]-pt),et=Math.min(et,ct-H[h]),st=Math.min(st,H[h+1]-ct))}if(ve)for(h=0;h<Ue;h++)se+=M(F[h],ne[h]);if(he)for(h=0;h<Ue;h++)he(F[h],se,ke,Ie[h]);return{x:I,xRanges:a(G,Oe&&Be,He,Je,T,m),x0:fe,dx:me,y:O,yRanges:a(H,Ce&&qe,et,st,x,b),y0:xe,dy:Ze,z:F,pts:re}}},93888:function(ae,B,r){"use strict";var D=r(71828),E=r(75238),d=r(49901),S=r(1586),M=r(58623),v=r(35361);ae.exports=function(u,i,s,a){function o(l,c){return D.coerce(u,i,v,l,c)}E(u,i,o,a),!1!==i.visible&&(d(u,i,o,a),S(u,i,a,o,{prefix:"",cLetter:"z"}),o("hovertemplate"),M(o,a),o("xhoverformat"),o("yhoverformat"))}},76128:function(ae,B,r){"use strict";var D=r(46248),E=r(89298).hoverLabelText;ae.exports=function(d,S,M,v,u){var i=D(d,S,M,v,u);if(i){var s=(d=i[0]).index,l=d.cd[0],c=l.trace,f=l.xRanges[s[1]],g=l.yRanges[s[0]];return d.xLabel=E(d.xa,[f[0],f[1]],c.xhoverformat),d.yLabel=E(d.ya,[g[0],g[1]],c.yhoverformat),i}}},43905:function(ae,B,r){"use strict";ae.exports={attributes:r(35361),supplyDefaults:r(93888),crossTraceDefaults:r(82222),calc:r(90757),plot:r(50347),layerName:"heatmaplayer",colorbar:r(61243),style:r(70035),hoverPoints:r(76128),eventData:r(84402),moduleType:"trace",name:"histogram2d",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports=function(d,S,M,v){var u=M("x"),i=M("y"),s=E.minRowLength(u),a=E.minRowLength(i);s&&a?(S._length=Math.min(s,a),D.getComponentMethod("calendars","handleTraceDefaults")(d,S,["x","y"],v),(M("z")||M("marker.color"))&&M("histfunc"),M("histnorm"),M("autobinx"),M("autobiny")):S.visible=!1}},99066:function(ae,B,r){"use strict";var D=r(35361),E=r(70600),d=r(50693),S=r(12663).axisHoverFormat,M=r(1426).extendFlat;ae.exports=M({x:D.x,y:D.y,z:D.z,marker:D.marker,histnorm:D.histnorm,histfunc:D.histfunc,nbinsx:D.nbinsx,xbins:D.xbins,nbinsy:D.nbinsy,ybins:D.ybins,autobinx:D.autobinx,autobiny:D.autobiny,bingroup:D.bingroup,xbingroup:D.xbingroup,ybingroup:D.ybingroup,autocontour:E.autocontour,ncontours:E.ncontours,contours:E.contours,line:{color:E.line.color,width:M({},E.line.width,{dflt:.5}),dash:E.line.dash,smoothing:E.line.smoothing,editType:"plot"},xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:D.hovertemplate,texttemplate:E.texttemplate,textfont:E.textfont},d("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(ae,B,r){"use strict";var D=r(71828),E=r(75238),d=r(67217),S=r(8724),M=r(58623),v=r(99066);ae.exports=function(u,i,s,a){function o(l,c){return D.coerce(u,i,v,l,c)}E(u,i,o,a),!1!==i.visible&&(d(u,i,o,function(l){return D.coerce2(u,i,v,l)}),S(u,i,o,a),o("xhoverformat"),o("yhoverformat"),o("hovertemplate"),i.contours&&"heatmap"===i.contours.coloring&&M(o,a))}},35902:function(ae,B,r){"use strict";ae.exports={attributes:r(99066),supplyDefaults:r(62654),crossTraceDefaults:r(82222),calc:r(27529),plot:r(29854).plot,layerName:"contourlayer",style:r(84426),colorbar:r(90654),hoverPoints:r(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,d=r(50693),S=r(27670).Y,M=r(34e3),v=r(57564),u=r(45802),i=r(43473),s=r(1426).extendFlat,a=r(79952).u;ae.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:u.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:s({colors:v.marker.colors,line:v.marker.line,pattern:a,editType:"calc"},d("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:u.pathbar,text:M.text,textinfo:v.textinfo,texttemplate:E({editType:"plot"},{keys:i.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:D({},{keys:i.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:u.outsidetextfont,textposition:u.textposition,sort:M.sort,root:v.root,domain:S({name:"icicle",trace:!0,editType:"calc"})}},96346:function(ae,B,r){"use strict";var D=r(74875);B.name="icicle",B.plot=function(E,d,S,M){D.plotBasePlot(B.name,E,d,S,M)},B.clean=function(E,d,S,M){D.cleanBasePlot(B.name,E,d,S,M)}},46584:function(ae,B,r){"use strict";var D=r(52147);B.y=function(E,d){return D.calc(E,d)},B.T=function(E){return D._runCrossTraceCalc("icicle",E)}},56524:function(ae,B,r){"use strict";var D=r(71828),E=r(46291),d=r(7901),S=r(27670).c,M=r(90769).handleText,v=r(97313).TEXTPAD,u=r(37434).handleMarkerDefaults,i=r(21081),s=i.hasColorscale,a=i.handleDefaults;ae.exports=function(o,l,c,f){function g(w,A){return D.coerce(o,l,E,w,A)}var h=g("labels"),T=g("parents");if(h&&h.length&&T&&T.length){var x=g("values");g(x&&x.length?"branchvalues":"count"),g("level"),g("maxdepth"),g("tiling.orientation"),g("tiling.flip"),g("tiling.pad");var m=g("text");g("texttemplate"),l.texttemplate||g("textinfo",Array.isArray(m)?"text+label":"label"),g("hovertext"),g("hovertemplate");var b=g("pathbar.visible");M(o,l,f,g,"auto",{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),g("textposition"),u(o,l,f,g);var _=l._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis;_&&a(o,l,f,g,{prefix:"marker.",cLetter:"c"}),g("leaf.opacity",_?1:.7),l._hovered={marker:{line:{width:2,color:d.contrast(f.paper_bgcolor)}}},b&&(g("pathbar.thickness",l.pathbar.textfont.size+2*v),g("pathbar.side"),g("pathbar.edgeshape")),g("sort"),g("root.color"),S(l,f,g),l._length=null}else l.visible=!1}},90666:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424),S=r(63893),M=r(21538),v=r(82454).styleOne,u=r(43473),i=r(2791),s=r(83523),a=r(24714).formatSliceLabel,o=!1;ae.exports=function(l,c,f,g,h){var T=h.width,x=h.height,m=h.viewX,b=h.viewY,_=h.pathSlice,w=h.toMoveInsideSlice,A=h.strTransform,p=h.hasTransition,I=h.handleSlicesExit,k=h.makeUpdateSliceInterpolator,L=h.makeUpdateTextInterpolator,O=h.prevEntry,P=l._context.staticPlot,F=l._fullLayout,j=c[0].trace,X=-1!==j.textposition.indexOf("left"),N=-1!==j.textposition.indexOf("right"),q=-1!==j.textposition.indexOf("bottom"),G=M(f,[T,x],{flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1,orientation:j.tiling.orientation,pad:{inner:j.tiling.pad},maxDepth:j._maxDepth}).descendants(),H=1/0,Z=-1/0;G.forEach(function(Q){var ee=Q.depth;ee>=j._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(H=Math.min(H,ee),Z=Math.max(Z,ee))}),g=g.data(G,i.getPtId),j._maxVisibleLayers=isFinite(Z)?Z-H+1:0,g.enter().append("g").classed("slice",!0),I(g,o,{},[T,x],_),g.order();var $=null;if(p&&O){var se=i.getPtId(O);g.each(function(Q){null===$&&i.getPtId(Q)===se&&($={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var ne=function(){return $||{x0:0,x1:T,y0:0,y1:x}},re=g;return p&&(re=re.transition().each("end",function(){var Q=D.select(this);i.setSliceCursor(Q,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),re.each(function(Q){Q._x0=m(Q.x0),Q._x1=m(Q.x1),Q._y0=b(Q.y0),Q._y1=b(Q.y1),Q._hoverX=m(Q.x1-j.tiling.pad),Q._hoverY=b(q?Q.y1-j.tiling.pad/2:Q.y0+j.tiling.pad/2);var ee=D.select(this),oe=E.ensureSingle(ee,"path","surface",function(ve){ve.style("pointer-events",P?"none":"all")});p?oe.transition().attrTween("d",function(ve){var ke=k(ve,o,ne(),[T,x],{orientation:j.tiling.orientation,flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1});return function(Ie){return _(ke(Ie))}}):oe.attr("d",_),ee.call(s,f,l,c,{styleOne:v,eventDataKeys:u.eventDataKeys,transitionTime:u.CLICK_TRANSITION_TIME,transitionEasing:u.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),oe.call(v,Q,j,l,{hovered:!1}),Q._text=Q.x0===Q.x1||Q.y0===Q.y1?"":a(Q,f,j,c,F)||"";var ce=E.ensureSingle(ee,"g","slicetext"),ue=E.ensureSingle(ce,"text","",function(ve){ve.attr("data-notex",1)}),he=E.ensureUniformFontSize(l,i.determineTextFont(j,Q,F.font));ue.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor",N?"end":X?"start":"middle").call(d.font,he).call(S.convertToTspans,l),Q.textBB=d.bBox(ue.node()),Q.transform=w(Q,{fontSize:he.size}),Q.transform.fontSize=he.size,p?ue.transition().attrTween("transform",function(ve){var ke=L(ve,o,ne(),[T,x]);return function(Ie){return A(ke(Ie))}}):ue.attr("transform",A(Q))}),$}},69816:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"icicle",basePlotModule:r(96346),categories:[],animatable:!0,attributes:r(46291),layoutAttributes:r(92894),supplyDefaults:r(56524),supplyLayoutDefaults:r(21070),calc:r(46584).y,crossTraceCalc:r(46584).T,plot:r(85596),style:r(82454).style,colorbar:r(4898),meta:{}}},92894:function(ae){"use strict";ae.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(ae,B,r){"use strict";var D=r(71828),E=r(92894);ae.exports=function(d,S){function M(v,u){return D.coerce(d,S,E,v,u)}M("iciclecolorway",S.colorway),M("extendiciclecolors")}},21538:function(ae,B,r){"use strict";var D=r(674),E=r(14102);ae.exports=function(d,S,M){var v=M.flipX,u=M.flipY,i="h"===M.orientation,s=M.maxDepth,a=S[0],o=S[1];s&&(a=(d.height+1)*S[0]/Math.min(d.height+1,s),o=(d.height+1)*S[1]/Math.min(d.height+1,s));var l=D.partition().padding(M.pad.inner).size(i?[S[1],a]:[S[0],o])(d);return(i||v||u)&&E(l,S,{swapXY:i,flipX:v,flipY:u}),l}},85596:function(ae,B,r){"use strict";var D=r(80694),E=r(90666);ae.exports=function(d,S,M,v){return D(d,S,M,v,{type:"icicle",drawDescendants:E})}},82454:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),d=r(71828),S=r(72597).resizeText,M=r(43467);function v(u,i,s,a){var l=!i.children,c=i.data.data.i,f=d.castOption(s,c,"marker.line.color")||E.defaultLine,g=d.castOption(s,c,"marker.line.width")||0;u.call(M,i,s,a).style("stroke-width",g).call(E.stroke,f).style("opacity",l?s.leaf.opacity:null)}ae.exports={style:function(u){var i=u._fullLayout._iciclelayer.selectAll(".trace");S(u,i,"icicle"),i.each(function(s){var a=D.select(this),o=s[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){D.select(this).call(v,l,o,u)})})},styleOne:v}},17230:function(ae,B,r){"use strict";for(var D=r(9012),E=r(5386).fF,d=r(1426).extendFlat,S=r(51877).colormodel,M=["rgb","rgba","rgba256","hsl","hsla"],v=[],u=[],i=0;i<M.length;i++){var s=S[M[i]];v.push("For the `"+M[i]+"` colormodel, it is ["+(s.zminDflt||s.min).join(", ")+"]."),u.push("For the `"+M[i]+"` colormodel, it is ["+(s.zmaxDflt||s.max).join(", ")+"].")}ae.exports=d({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:M,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:d({},D.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:E({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(ae,B,r){"use strict";var D=r(71828),E=r(51877),d=r(92770),S=r(89298),M=r(71828).maxRowLength,v=r(67395).A;function u(s,a,o,l){return function(c){return D.constrain((c-s)*a,o,l)}}function i(s,a){return function(o){return D.constrain(o,s,a)}}ae.exports=function(s,a){var o,l;if(a._hasZ)o=a.z.length,l=M(a.z);else if(a._hasSource){var c=v(a.source);o=c.height,l=c.width}var f,g=S.getFromId(s,a.xaxis||"x"),h=S.getFromId(s,a.yaxis||"y"),T=g.d2c(a.x0)-a.dx/2,x=h.d2c(a.y0)-a.dy/2,m=[T,T+l*a.dx],b=[x,x+o*a.dy];if(g&&"log"===g.type)for(f=0;f<l;f++)m.push(T+f*a.dx);if(h&&"log"===h.type)for(f=0;f<o;f++)b.push(x+f*a.dy);return a._extremes[g._id]=S.findExtremes(g,m),a._extremes[h._id]=S.findExtremes(h,b),a._scaler=function(_){var w=E.colormodel[_.colormodel],A=(w.colormodel||_.colormodel).length;_._sArray=[];for(var p=0;p<A;p++)_._sArray.push(w.min[p]!==_.zmin[p]||w.max[p]!==_.zmax[p]?u(_.zmin[p],(w.max[p]-w.min[p])/(_.zmax[p]-_.zmin[p]),w.min[p],w.max[p]):i(w.min[p],w.max[p]));return function(I){for(var k=I.slice(0,A),L=0;L<A;L++){var O=k[L];if(!d(O))return!1;k[L]=_._sArray[L](O)}return k}}(a),[{x0:T,y0:x,z:a.z,w:l,h:o}]}},51877:function(ae){"use strict";ae.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(B){return B.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(B){var r=B.slice(0,3);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(B){var r=B.slice(0,4);return r[1]=r[1]+"%",r[2]=r[2]+"%",r},suffix:["\xb0","%","%",""]}}}},13245:function(ae,B,r){"use strict";var D=r(71828),E=r(17230),d=r(51877),S=r(25095).IMAGE_URL_PREFIX;ae.exports=function(M,v){function u(a,o){return D.coerce(M,v,E,a,o)}u("source"),v.source&&!v.source.match(S)&&delete v.source,v._hasSource=!!v.source;var i,s=u("z");v._hasZ=!(void 0===s||!s.length||!s[0]||!s[0].length),v._hasZ||v._hasSource?(u("x0"),u("y0"),u("dx"),u("dy"),v._hasZ?(u("colormodel","rgb"),u("zmin",(i=d.colormodel[v.colormodel]).zminDflt||i.min),u("zmax",i.zmaxDflt||i.max)):v._hasSource&&(v.colormodel="rgba256",v.zmin=(i=d.colormodel[v.colormodel]).zminDflt,v.zmax=i.zmaxDflt),u("zsmooth"),u("text"),u("hovertext"),u("hovertemplate"),v._length=null):v.visible=!1}},30835:function(ae){"use strict";ae.exports=function(B,r){return"xVal"in r&&(B.x=r.xVal),"yVal"in r&&(B.y=r.yVal),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B.color=r.color,B.colormodel=r.trace.colormodel,B.z||(B.z=r.color),B}},67395:function(ae,B,r){"use strict";var D=r(33575),E=r(25095).IMAGE_URL_PREFIX,d=r(12856).Buffer;B.A=function(S){var M=S.replace(E,""),v=new d(M,"base64");return D(v)}},28749:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),d=r(51877);ae.exports=function(S,M,v){var u=S.cd[0],i=u.trace,s=S.xa,a=S.ya;if(!(D.inbox(M-u.x0,M-(u.x0+u.w*i.dx),0)>0||D.inbox(v-u.y0,v-(u.y0+u.h*i.dy),0)>0)){var o,l=Math.floor((M-u.x0)/i.dx),c=Math.floor(Math.abs(v-u.y0)/i.dy);if(i._hasZ?o=u.z[c][l]:i._hasSource&&(o=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,c,1,1).data),o){var f,g=u.hi||i.hoverinfo;if(g){var h=g.split("+");-1!==h.indexOf("all")&&(h=["color"]),-1!==h.indexOf("color")&&(f=!0)}var T,x=d.colormodel[i.colormodel],m=x.colormodel||i.colormodel,b=m.length,_=i._scaler(o),w=x.suffix,A=[];(i.hovertemplate||f)&&(A.push("["+[_[0]+w[0],_[1]+w[1],_[2]+w[2]].join(", ")),4===b&&A.push(", "+_[3]+w[3]),A.push("]"),A=A.join(""),S.extraText=m.toUpperCase()+": "+A),Array.isArray(i.hovertext)&&Array.isArray(i.hovertext[c])?T=i.hovertext[c][l]:Array.isArray(i.text)&&Array.isArray(i.text[c])&&(T=i.text[c][l]);var p=a.c2p(u.y0+(c+.5)*i.dy),I=u.x0+(l+.5)*i.dx,k=u.y0+(c+.5)*i.dy,L="["+o.slice(0,i.colormodel.length).join(", ")+"]";return[E.extendFlat(S,{index:[c,l],x0:s.c2p(u.x0+l*i.dx),x1:s.c2p(u.x0+(l+1)*i.dx),y0:p,y1:p,color:_,xVal:I,xLabelVal:I,yVal:k,yLabelVal:k,zLabelVal:L,text:T,hovertemplateLabels:{zLabel:L,colorLabel:A,"color[0]Label":_[0]+w[0],"color[1]Label":_[1]+w[1],"color[2]Label":_[2]+w[2],"color[3]Label":_[3]+w[3]}})]}}}},94507:function(ae,B,r){"use strict";ae.exports={attributes:r(17230),supplyDefaults:r(13245),calc:r(71113),plot:r(60775),style:r(12826),hoverPoints:r(28749),eventData:r(30835),moduleType:"trace",name:"image",basePlotModule:r(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=E.strTranslate,S=r(77922),M=r(51877),v=r(3883),u=r(32396).STYLE;ae.exports=function(i,s,a,o){var l=s.xaxis,c=s.yaxis,f=!i._context._exportedPlot&&v();E.makeTraceGroups(o,a,"im").each(function(g){var h=D.select(this),T=g[0],x=T.trace,m=("fast"===x.zsmooth||!1===x.zsmooth&&f)&&!x._hasZ&&x._hasSource&&"linear"===l.type&&"linear"===c.type;x._realImage=m;var b,_,w,A,p,I,k=T.z,L=T.x0,O=T.y0,P=T.w,F=T.h,j=x.dx,X=x.dy;for(I=0;void 0===b&&I<P;)b=l.c2p(L+I*j),I++;for(I=P;void 0===_&&I>0;)_=l.c2p(L+I*j),I--;for(I=0;void 0===A&&I<F;)A=c.c2p(O+I*X),I++;for(I=F;void 0===p&&I>0;)p=c.c2p(O+I*X),I--;_<b&&(w=_,_=b,b=w),p<A&&(w=A,A=p,p=w),m||(b=Math.max(-.5*l._length,b),_=Math.min(1.5*l._length,_),A=Math.max(-.5*c._length,A),p=Math.min(1.5*c._length,p));var N=Math.round(_-b),q=Math.round(p-A);if(N<=0||q<=0)h.selectAll("image").data([]).exit().remove();else{var G=h.selectAll("image").data([g]);G.enter().append("svg:image").attr({xmlns:S.svg,preserveAspectRatio:"none"}),G.exit().remove();var H=!1===x.zsmooth?u:"";if(m){var Z=E.simpleMap(l.range,l.r2l),$=E.simpleMap(c.range,c.r2l),se=Z[1]<Z[0],ne=$[1]>$[0];if(se||ne){var re=b+N/2,Q=A+q/2;H+="transform:"+d(re+"px",Q+"px")+"scale("+(se?-1:1)+","+(ne?-1:1)+")"+d(-re+"px",-Q+"px")+";"}}G.attr("style",H);var ee=new Promise(function(ce){if(x._hasZ)ce();else if(x._hasSource)if(x._canvas&&x._canvas.el.width===P&&x._canvas.el.height===F&&x._canvas.source===x.source)ce();else{var ue=document.createElement("canvas");ue.width=P,ue.height=F;var he=ue.getContext("2d",{willReadFrequently:!0});x._image=x._image||new Image;var ve=x._image;ve.onload=function(){he.drawImage(ve,0,0),x._canvas={el:ue,source:x.source},ce()},ve.setAttribute("src",x.source)}}).then(function(){var ce;if(x._hasZ)ce=oe(function(ve,ke){return k[ke][ve]}).toDataURL("image/png");else if(x._hasSource)if(m)ce=x.source;else{var he=x._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,P,F).data;ce=oe(function(ve,ke){var Ie=4*(ke*P+ve);return[he[Ie],he[Ie+1],he[Ie+2],he[Ie+3]]}).toDataURL("image/png")}G.attr({"xlink:href":ce,height:q,width:N,x:b,y:A})});i._promises.push(ee)}function oe(ce){var ue=document.createElement("canvas");ue.width=N,ue.height=q;var he,ve=ue.getContext("2d",{willReadFrequently:!0}),ke=function(le){return E.constrain(Math.round(l.c2p(L+le*j)-b),0,N)},Ie=function(le){return E.constrain(Math.round(c.c2p(O+le*X)-A),0,q)},Me=M.colormodel[x.colormodel],_e=Me.colormodel||x.colormodel,we=Me.fmt;for(I=0;I<T.w;I++){var ze=ke(I),Ee=ke(I+1);if(Ee!==ze&&!isNaN(Ee)&&!isNaN(ze))for(var Se=0;Se<T.h;Se++){var me=Ie(Se),fe=Ie(Se+1);fe===me||isNaN(fe)||isNaN(me)||!ce(I,Se)||(he=x._scaler(ce(I,Se)),ve.fillStyle=he?_e+"("+we(he).join(",")+")":"rgba(0,0,0,0)",ve.fillRect(ze,me,Ee-ze,fe-me))}}return ue}})}},12826:function(ae,B,r){"use strict";var D=r(39898);ae.exports=function(E){D.select(E).selectAll(".im image").style("opacity",function(d){return d[0].trace.opacity})}},54846:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(1426).extendDeep,d=r(30962).overrideAll,S=r(41940),M=r(22399),v=r(27670).Y,u=r(13838),i=r(44467).templatedArray,s=r(22372),a=r(12663).descriptionOnlyNumbers,o=S({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:M.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},c={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},f=i("step",E({},l,{range:c}));ae.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:D({},o,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:D({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:s.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:s.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:s.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:D({},o,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:E({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:d({range:c,visible:D({},u.visible,{dflt:!0}),tickmode:u.minor.tickmode,nticks:u.nticks,tick0:u.tick0,dtick:u.dtick,tickvals:u.tickvals,ticktext:u.ticktext,ticks:D({},u.ticks,{dflt:"outside"}),ticklen:u.ticklen,tickwidth:u.tickwidth,tickcolor:u.tickcolor,ticklabelstep:u.ticklabelstep,showticklabels:u.showticklabels,labelalias:u.labelalias,tickfont:S({}),tickangle:u.tickangle,tickformat:u.tickformat,tickformatstops:u.tickformatstops,tickprefix:u.tickprefix,showtickprefix:u.showtickprefix,ticksuffix:u.ticksuffix,showticksuffix:u.showticksuffix,separatethousands:u.separatethousands,exponentformat:u.exponentformat,minexponent:u.minexponent,showexponent:u.showexponent,editType:"plot"},"plot"),steps:f,threshold:{line:{color:D({},l.line.color,{}),width:D({},l.line.width,{dflt:1}),editType:"plot"},thickness:D({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(ae,B,r){"use strict";var D=r(74875);B.name="indicator",B.plot=function(E,d,S,M){D.plotBasePlot(B.name,E,d,S,M)},B.clean=function(E,d,S,M){D.cleanBasePlot(B.name,E,d,S,M)}},24667:function(ae){"use strict";ae.exports={calc:function(B,r){var D=[],E=r.value;"number"!=typeof r._lastValue&&(r._lastValue=r.value);var d=r._lastValue,S=d;return r._hasDelta&&"number"==typeof r.delta.reference&&(S=r.delta.reference),D[0]={y:E,lastY:d,delta:E-S,relativeDelta:(E-S)/S},D}}},84577:function(ae){"use strict";ae.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(ae,B,r){"use strict";var D=r(71828),E=r(54846),d=r(27670).c,S=r(44467),M=r(85501),v=r(84577),u=r(26218),i=r(38701),s=r(96115),a=r(89426);function o(l,c){function f(g,h){return D.coerce(l,c,E.gauge.steps,g,h)}f("color"),f("line.color"),f("line.width"),f("range"),f("thickness")}ae.exports={supplyDefaults:function(l,c,f,g){function h(O,P){return D.coerce(l,c,E,O,P)}d(c,g,h),h("mode"),c._hasNumber=-1!==c.mode.indexOf("number"),c._hasDelta=-1!==c.mode.indexOf("delta"),c._hasGauge=-1!==c.mode.indexOf("gauge");var T=h("value");c._range=[0,"number"==typeof T?1.5*T:1];var x,m,b,_,w,A,p=new Array(2);function I(O,P){return D.coerce(b,_,E.gauge,O,P)}function k(O,P){return D.coerce(w,A,E.gauge.axis,O,P)}if(c._hasNumber&&(h("number.valueformat"),h("number.font.color",g.font.color),h("number.font.family",g.font.family),h("number.font.size"),void 0===c.number.font.size&&(c.number.font.size=v.defaultNumberFontSize,p[0]=!0),h("number.prefix"),h("number.suffix"),x=c.number.font.size),c._hasDelta&&(h("delta.font.color",g.font.color),h("delta.font.family",g.font.family),h("delta.font.size"),void 0===c.delta.font.size&&(c.delta.font.size=(c._hasNumber?.5:1)*(x||v.defaultNumberFontSize),p[1]=!0),h("delta.reference",c.value),h("delta.relative"),h("delta.valueformat",c.delta.relative?"2%":""),h("delta.increasing.symbol"),h("delta.increasing.color"),h("delta.decreasing.symbol"),h("delta.decreasing.color"),h("delta.position"),h("delta.prefix"),h("delta.suffix"),m=c.delta.font.size),c._scaleNumbers=(!c._hasNumber||p[0])&&(!c._hasDelta||p[1])||!1,h("title.font.color",g.font.color),h("title.font.family",g.font.family),h("title.font.size",.25*(x||m||v.defaultNumberFontSize)),h("title.text"),c._hasGauge){(b=l.gauge)||(b={}),_=S.newContainer(c,"gauge"),I("shape"),(c._isBullet="bullet"===c.gauge.shape)||h("title.align","center"),(c._isAngular="angular"===c.gauge.shape)||h("align","center"),I("bgcolor",g.paper_bgcolor),I("borderwidth"),I("bordercolor"),I("bar.color"),I("bar.line.color"),I("bar.line.width"),I("bar.thickness",v.valueThickness*("bullet"===c.gauge.shape?.5:1)),M(b,_,{name:"steps",handleItemDefaults:o}),I("threshold.value"),I("threshold.thickness"),I("threshold.line.width"),I("threshold.line.color"),w={},b&&(w=b.axis||{}),A=S.newContainer(_,"axis"),k("visible"),c._range=k("range",c._range);var L={outerTicks:!0};u(w,A,k,"linear"),a(w,A,k,"linear",L),s(w,A,k,"linear",L),i(w,A,k,L)}else h("title.align","center"),h("align","center"),c._isAngular=c._isBullet=!1;c._length=null}}},15154:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"indicator",basePlotModule:r(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:r(54846),supplyDefaults:r(94425).supplyDefaults,calc:r(24667).calc,plot:r(75634),meta:{}}},75634:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).sX,d=r(81684).k4,S=r(71828),M=S.strScale,v=S.strTranslate,u=S.rad2deg,i=r(18783).MID_SHIFT,s=r(91424),a=r(84577),o=r(63893),l=r(89298),c=r(71453),f=r(52830),g=r(13838),h=r(7901),T={left:"start",center:"middle",right:"end"},x={left:0,center:.5,right:1},m=/[yzafpn\xb5mkMGTPEZY]/;function b(k){return k&&k.duration>0}function _(k){k.each(function(L){h.stroke(D.select(this),L.line.color)}).each(function(L){h.fill(D.select(this),L.color)}).style("stroke-width",function(L){return L.line.width})}function w(k,L,O){var P=k._fullLayout,F=S.extendFlat({type:"linear",ticks:"outside",range:O,showline:!0},L),j={type:"linear",_id:"x"+L._id},X={letter:"x",font:P.font,noHover:!0,noTickson:!0};function N(q,G){return S.coerce(F,j,g,q,G)}return c(F,j,N,X,P),f(F,j,N,X),j}function A(k,L,O){return[Math.min(L/k.width,O/k.height),k,L+"x"+O]}function p(k,L,O,P){var F=document.createElementNS("http://www.w3.org/2000/svg","text"),j=D.select(F);return j.text(k).attr("x",0).attr("y",0).attr("text-anchor",O).attr("data-unformatted",k).call(o.convertToTspans,P).call(s.font,L),s.bBox(j.node())}function I(k,L,O,P,F,j){var X="_cache"+L;k[X]&&k[X].key===F||(k[X]={key:F,value:O});var N=S.aggNums(j,null,[k[X].value,P],2);return k[X].value=N,N}ae.exports=function(k,L,O,P){var F,j=k._fullLayout;b(O)&&P&&(F=P()),S.makeTraceGroups(j._indicatorlayer,L,"trace").each(function(X){var N,q,G,H,Z,$=X[0].trace,se=D.select(this),ne=$._hasGauge,re=$._isAngular,Q=$._isBullet,ee=$.domain,oe={w:j._size.w*(ee.x[1]-ee.x[0]),h:j._size.h*(ee.y[1]-ee.y[0]),l:j._size.l+j._size.w*ee.x[0],r:j._size.r+j._size.w*(1-ee.x[1]),t:j._size.t+j._size.h*(1-ee.y[1]),b:j._size.b+j._size.h*ee.y[0]},ce=oe.l+oe.w/2,ue=oe.t+oe.h/2,he=Math.min(oe.w/2,oe.h),ve=a.innerRadius*he,ke=$.align||"center";if(q=ue,ne){if(re&&(N=ce,q=ue+he/2,G=function(me){return fe=me,[(le=.9*ve)/Math.sqrt(fe.width/2*(fe.width/2)+fe.height*fe.height),fe,le];var fe,le}),Q){var Ie=a.bulletPadding,Me=1-a.bulletNumberDomainSize+Ie;N=oe.l+(Me+(1-Me)*x[ke])*oe.w,G=function(me){return A(me,(a.bulletNumberDomainSize-Ie)*oe.w,oe.h)}}}else N=oe.l+x[ke]*oe.w,G=function(me){return A(me,oe.w,oe.h)};(function(me,fe,le,Te){var Re,De,Ue,Ze=le[0].trace,xe=Te.numbersX,Oe=Te.numbersY,Ce=Ze.align||"center",Be=T[Ce],qe=Te.transitionOpts,He=Te.onComplete,Je=S.ensureSingle(fe,"g","numbers"),et=[];Ze._hasNumber&&et.push("number"),Ze._hasDelta&&(et.push("delta"),"left"===Ze.delta.position&&et.reverse());var st=Je.selectAll("text").data(et);function pt(Ot,Ht,zt,nt){if(!Ot.match("s")||zt>=0==nt>=0||Ht(zt).slice(-1).match(m)||Ht(nt).slice(-1).match(m))return Ht;var it=Ot.slice().replace("s","f").replace(/\d+/,function(rt){return parseInt(rt)-1}),Ke=w(me,{tickformat:it});return function(rt){return Math.abs(rt)<1?l.tickText(Ke,rt).text:Ht(rt)}}st.enter().append("text"),st.attr("text-anchor",function(){return Be}).attr("class",function(Ot){return Ot}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),st.exit().remove();var ct,St=Ze.mode+Ze.align;if(Ze._hasDelta&&(ct=function(){var Ot=w(me,{tickformat:Ze.delta.valueformat},Ze._range);Ot.setScale(),l.prepTicks(Ot);var Ht=function(Ve){return l.tickText(Ot,Ve).text},zt=Ze.delta.suffix,nt=Ze.delta.prefix,it=function(Ve){return Ze.delta.relative?Ve.relativeDelta:Ve.delta},Ke=function(Ve,Ge){return 0===Ve||"number"!=typeof Ve||isNaN(Ve)?"-":(Ve>0?Ze.delta.increasing.symbol:Ze.delta.decreasing.symbol)+nt+Ge(Ve)+zt},rt=function(Ve){return Ve.delta>=0?Ze.delta.increasing.color:Ze.delta.decreasing.color};void 0===Ze._deltaLastValue&&(Ze._deltaLastValue=it(le[0]));var ft=Je.select("text.delta");function ht(){ft.text(Ke(it(le[0]),Ht)).call(h.fill,rt(le[0])).call(o.convertToTspans,me)}return ft.call(s.font,Ze.delta.font).call(h.fill,rt({delta:Ze._deltaLastValue})),b(qe)?ft.transition().duration(qe.duration).ease(qe.easing).tween("text",function(){var Ve=D.select(this),Ge=it(le[0]),ut=Ze._deltaLastValue,dt=pt(Ze.delta.valueformat,Ht,ut,Ge),kt=d(ut,Ge);return Ze._deltaLastValue=Ge,function(bt){Ve.text(Ke(kt(bt),dt)),Ve.call(h.fill,rt({delta:kt(bt)}))}}).each("end",function(){ht(),He&&He()}).each("interrupt",function(){ht(),He&&He()}):ht(),De=p(Ke(it(le[0]),Ht),Ze.delta.font,Be,me),ft}(),St+=Ze.delta.position+Ze.delta.font.size+Ze.delta.font.family+Ze.delta.valueformat,St+=Ze.delta.increasing.symbol+Ze.delta.decreasing.symbol,Ue=De),Ze._hasNumber&&(function(){var Ot=w(me,{tickformat:Ze.number.valueformat},Ze._range);Ot.setScale(),l.prepTicks(Ot);var Ht=function(rt){return l.tickText(Ot,rt).text},zt=Ze.number.suffix,nt=Ze.number.prefix,it=Je.select("text.number");function Ke(){var rt="number"==typeof le[0].y?nt+Ht(le[0].y)+zt:"-";it.text(rt).call(s.font,Ze.number.font).call(o.convertToTspans,me)}b(qe)?it.transition().duration(qe.duration).ease(qe.easing).each("end",function(){Ke(),He&&He()}).each("interrupt",function(){Ke(),He&&He()}).attrTween("text",function(){var rt=D.select(this),ft=d(le[0].lastY,le[0].y);Ze._lastValue=le[0].y;var ht=pt(Ze.number.valueformat,Ht,le[0].lastY,le[0].y);return function(Ve){rt.text(nt+ht(ft(Ve))+zt)}}):Ke(),Re=p(nt+Ht(le[0].y)+zt,Ze.number.font,Be,me)}(),St+=Ze.number.font.size+Ze.number.font.family+Ze.number.valueformat+Ze.number.suffix+Ze.number.prefix,Ue=Re),Ze._hasDelta&&Ze._hasNumber){var Dt,vt,gt=[(Re.left+Re.right)/2,(Re.top+Re.bottom)/2],Et=[(De.left+De.right)/2,(De.top+De.bottom)/2],Pt=.75*Ze.delta.font.size;"left"===Ze.delta.position&&(Dt=I(Ze,"deltaPos",0,-1*(Re.width*x[Ze.align]+De.width*(1-x[Ze.align])+Pt),St,Math.min),vt=gt[1]-Et[1],Ue={width:Re.width+De.width+Pt,height:Math.max(Re.height,De.height),left:De.left+Dt,right:Re.right,top:Math.min(Re.top,De.top+vt),bottom:Math.max(Re.bottom,De.bottom+vt)}),"right"===Ze.delta.position&&(Dt=I(Ze,"deltaPos",0,Re.width*(1-x[Ze.align])+De.width*x[Ze.align]+Pt,St,Math.max),vt=gt[1]-Et[1],Ue={width:Re.width+De.width+Pt,height:Math.max(Re.height,De.height),left:Re.left,right:De.right+Dt,top:Math.min(Re.top,De.top+vt),bottom:Math.max(Re.bottom,De.bottom+vt)}),"bottom"===Ze.delta.position&&(Dt=null,vt=De.height,Ue={width:Math.max(Re.width,De.width),height:Re.height+De.height,left:Math.min(Re.left,De.left),right:Math.max(Re.right,De.right),top:Re.bottom-Re.height,bottom:Re.bottom+De.height}),"top"===Ze.delta.position&&(Dt=null,vt=Re.top,Ue={width:Math.max(Re.width,De.width),height:Re.height+De.height,left:Math.min(Re.left,De.left),right:Math.max(Re.right,De.right),top:Re.bottom-Re.height-De.height,bottom:Re.bottom}),ct.attr({dx:Dt,dy:vt})}(Ze._hasNumber||Ze._hasDelta)&&Je.attr("transform",function(){var Ht,Ot=Te.numbersScaler(Ue),zt=I(Ze,"numbersScale",1,Ot[0],St+=Ot[2],Math.min);Ze._scaleNumbers||(zt=1),Ze._numbersTop=zt*Ue.top+(Ht=Ze._isAngular?Oe-zt*Ue.bottom:Oe-zt*(Ue.top+Ue.bottom)/2);var nt=Ue[Ce];"center"===Ce&&(nt=(Ue.left+Ue.right)/2);var it=xe-zt*nt;return it=I(Ze,"numbersTranslate",0,it,St,Math.max),v(it,Ht)+M(zt)})})(k,se,X,{numbersX:N,numbersY:q,numbersScaler:G,transitionOpts:O,onComplete:F}),ne&&(H={range:$.gauge.axis.range,color:$.gauge.bgcolor,line:{color:$.gauge.bordercolor,width:0},thickness:1},Z={range:$.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:$.gauge.bordercolor,width:$.gauge.borderwidth},thickness:1});var _e=se.selectAll("g.angular").data(re?X:[]);_e.exit().remove();var we=se.selectAll("g.angularaxis").data(re?X:[]);we.exit().remove(),re&&function(me,fe,le,Te){var Re,De,Ue,Ze,xe=le[0].trace,Oe=Te.size,Ce=Te.radius,Be=Te.innerRadius,qe=Te.gaugeBg,He=Te.gaugeOutline,Je=[Oe.l+Oe.w/2,Oe.t+Oe.h/2+Ce/2],et=Te.gauge,st=Te.layer,pt=Te.transitionOpts,ct=Te.onComplete,St=Math.PI/2;function Dt(bt){var At=xe.gauge.axis.range[0],xt=(bt-At)/(xe.gauge.axis.range[1]-At)*Math.PI-St;return xt<-St?-St:xt>St?St:xt}function vt(bt){return D.svg.arc().innerRadius((Be+Ce)/2-bt/2*(Ce-Be)).outerRadius((Be+Ce)/2+bt/2*(Ce-Be)).startAngle(-St)}function gt(bt){bt.attr("d",function(At){return vt(At.thickness).startAngle(Dt(At.range[0])).endAngle(Dt(At.range[1]))()})}et.enter().append("g").classed("angular",!0),et.attr("transform",v(Je[0],Je[1])),st.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),st.selectAll("g.xangularaxistick,path,text").remove(),(Re=w(me,xe.gauge.axis)).type="linear",Re.range=xe.gauge.axis.range,Re._id="xangularaxis",Re.ticklabeloverflow="allow",Re.setScale();var Et=function(bt){return(Re.range[0]-bt.x)/(Re.range[1]-Re.range[0])*Math.PI+Math.PI},Pt={},Ot=l.makeLabelFns(Re,0).labelStandoff;Pt.xFn=function(bt){var At=Et(bt);return Math.cos(At)*Ot},Pt.yFn=function(bt){var At=Et(bt),xt=Math.sin(At)>0?.2:1;return-Math.sin(At)*(Ot+bt.fontSize*xt)+Math.abs(Math.cos(At))*(bt.fontSize*i)},Pt.anchorFn=function(bt){var At=Et(bt),xt=Math.cos(At);return Math.abs(xt)<.1?"middle":xt>0?"start":"end"},Pt.heightFn=function(bt,At,xt){var Rt=Et(bt);return-.5*(1+Math.sin(Rt))*xt};var Ht=function(bt){return v(Je[0]+Ce*Math.cos(bt),Je[1]-Ce*Math.sin(bt))};Ue=function(bt){return Ht(Et(bt))},De=l.calcTicks(Re),Ze=l.getTickSigns(Re)[2],Re.visible&&(l.drawTicks(me,Re,{vals:De,layer:st,path:"M"+(Ze="inside"===Re.ticks?-1:1)*((Re.linewidth||1)/2)+",0h"+Ze*Re.ticklen,transFn:function(bt){var At=Et(bt);return Ht(At)+"rotate("+-u(At)+")"}}),l.drawLabels(me,Re,{vals:De,layer:st,transFn:Ue,labelFns:Pt}));var nt=[qe].concat(xe.gauge.steps),it=et.selectAll("g.bg-arc").data(nt);it.enter().append("g").classed("bg-arc",!0).append("path"),it.select("path").call(gt).call(_),it.exit().remove();var Ke=vt(xe.gauge.bar.thickness),rt=et.selectAll("g.value-arc").data([xe.gauge.bar]);rt.enter().append("g").classed("value-arc",!0).append("path");var ft,ht,Ve,Ge=rt.select("path");b(pt)?(Ge.transition().duration(pt.duration).ease(pt.easing).each("end",function(){ct&&ct()}).each("interrupt",function(){ct&&ct()}).attrTween("d",(ft=Ke,ht=Dt(le[0].lastY),Ve=Dt(le[0].y),function(){var bt=E(ht,Ve);return function(At){return ft.endAngle(bt(At))()}})),xe._lastValue=le[0].y):Ge.attr("d","number"==typeof le[0].y?Ke.endAngle(Dt(le[0].y)):"M0,0Z"),Ge.call(_),rt.exit().remove(),nt=[];var ut=xe.gauge.threshold.value;(ut||0===ut)&&nt.push({range:[ut,ut],color:xe.gauge.threshold.color,line:{color:xe.gauge.threshold.line.color,width:xe.gauge.threshold.line.width},thickness:xe.gauge.threshold.thickness});var dt=et.selectAll("g.threshold-arc").data(nt);dt.enter().append("g").classed("threshold-arc",!0).append("path"),dt.select("path").call(gt).call(_),dt.exit().remove();var kt=et.selectAll("g.gauge-outline").data([He]);kt.enter().append("g").classed("gauge-outline",!0).append("path"),kt.select("path").call(gt).call(_),kt.exit().remove()}(k,0,X,{radius:he,innerRadius:ve,gauge:_e,layer:we,size:oe,gaugeBg:H,gaugeOutline:Z,transitionOpts:O,onComplete:F});var ze=se.selectAll("g.bullet").data(Q?X:[]);ze.exit().remove();var Ee=se.selectAll("g.bulletaxis").data(Q?X:[]);Ee.exit().remove(),Q&&function(me,fe,le,Te){var Re,De,Ue,Ze,xe,Oe=le[0].trace,Ce=Te.gauge,Be=Te.layer,qe=Te.gaugeBg,He=Te.gaugeOutline,Je=Te.size,et=Oe.domain,st=Te.transitionOpts,pt=Te.onComplete;Ce.enter().append("g").classed("bullet",!0),Ce.attr("transform",v(Je.l,Je.t)),Be.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Be.selectAll("g.xbulletaxistick,path,text").remove();var ct=Je.h,St=Oe.gauge.bar.thickness*ct,Dt=et.x[0],vt=et.x[0]+(et.x[1]-et.x[0])*(Oe._hasNumber||Oe._hasDelta?1-a.bulletNumberDomainSize:1);function gt(it){it.attr("width",function(Ke){return Math.max(0,Re.c2p(Ke.range[1])-Re.c2p(Ke.range[0]))}).attr("x",function(Ke){return Re.c2p(Ke.range[0])}).attr("y",function(Ke){return.5*(1-Ke.thickness)*ct}).attr("height",function(Ke){return Ke.thickness*ct})}(Re=w(me,Oe.gauge.axis))._id="xbulletaxis",Re.domain=[Dt,vt],Re.setScale(),De=l.calcTicks(Re),Ue=l.makeTransTickFn(Re),Ze=l.getTickSigns(Re)[2],xe=Je.t+Je.h,Re.visible&&(l.drawTicks(me,Re,{vals:"inside"===Re.ticks?l.clipEnds(Re,De):De,layer:Be,path:l.makeTickPath(Re,xe,Ze),transFn:Ue}),l.drawLabels(me,Re,{vals:De,layer:Be,transFn:Ue,labelFns:l.makeLabelFns(Re,xe)}));var Et=[qe].concat(Oe.gauge.steps),Pt=Ce.selectAll("g.bg-bullet").data(Et);Pt.enter().append("g").classed("bg-bullet",!0).append("rect"),Pt.select("rect").call(gt).call(_),Pt.exit().remove();var Ot=Ce.selectAll("g.value-bullet").data([Oe.gauge.bar]);Ot.enter().append("g").classed("value-bullet",!0).append("rect"),Ot.select("rect").attr("height",St).attr("y",(ct-St)/2).call(_),b(st)?Ot.select("rect").transition().duration(st.duration).ease(st.easing).each("end",function(){pt&&pt()}).each("interrupt",function(){pt&&pt()}).attr("width",Math.max(0,Re.c2p(Math.min(Oe.gauge.axis.range[1],le[0].y)))):Ot.select("rect").attr("width","number"==typeof le[0].y?Math.max(0,Re.c2p(Math.min(Oe.gauge.axis.range[1],le[0].y))):0),Ot.exit().remove();var Ht=le.filter(function(){return Oe.gauge.threshold.value||0===Oe.gauge.threshold.value}),zt=Ce.selectAll("g.threshold-bullet").data(Ht);zt.enter().append("g").classed("threshold-bullet",!0).append("line"),zt.select("line").attr("x1",Re.c2p(Oe.gauge.threshold.value)).attr("x2",Re.c2p(Oe.gauge.threshold.value)).attr("y1",(1-Oe.gauge.threshold.thickness)/2*ct).attr("y2",(1-(1-Oe.gauge.threshold.thickness)/2)*ct).call(h.stroke,Oe.gauge.threshold.line.color).style("stroke-width",Oe.gauge.threshold.line.width),zt.exit().remove();var nt=Ce.selectAll("g.gauge-outline").data([He]);nt.enter().append("g").classed("gauge-outline",!0).append("rect"),nt.select("rect").call(gt).call(_),nt.exit().remove()}(k,0,X,{gauge:ze,layer:Ee,size:oe,gaugeBg:H,gaugeOutline:Z,transitionOpts:O,onComplete:F});var Se=se.selectAll("text.title").data(X);Se.exit().remove(),Se.enter().append("text").classed("title",!0),Se.attr("text-anchor",function(){return Q?T.right:T[$.title.align]}).text($.title.text).call(s.font,$.title.font).call(o.convertToTspans,k),Se.attr("transform",function(){var me,fe=oe.l+oe.w*x[$.title.align],le=a.titlePadding,Te=s.bBox(Se.node());return ne?(re&&(me=$.gauge.axis.visible?s.bBox(we.node()).top-le-Te.bottom:oe.t+oe.h/2-he/2-Te.bottom-le),Q&&(me=q-(Te.top+Te.bottom)/2,fe=oe.l-a.bulletPadding*oe.w)):me=$._numbersTop-le-Te.bottom,v(fe,me)})})}},16249:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,d=r(5386).fF,S=r(2418),M=r(9012),v=r(1426).extendFlat,u=r(30962).overrideAll,i=ae.exports=u(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:d(),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),valuehoverformat:E("value",1),showlegend:v({},M.showlegend,{dflt:!1})},D("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,lightposition:S.lightposition,lighting:S.lighting,flatshading:S.flatshading,contour:S.contour,hoverinfo:v({},M.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},56959:function(ae,B,r){"use strict";var D=r(78803),E=r(88489).processGrid,d=r(88489).filter;ae.exports=function(S,M){M._len=Math.min(M.x.length,M.y.length,M.z.length,M.value.length),M._x=d(M.x,M._len),M._y=d(M.y,M._len),M._z=d(M.z,M._len),M._value=d(M.value,M._len);var v=E(M);M._gridFill=v.fill,M._Xs=v.Xs,M._Ys=v.Ys,M._Zs=v.Zs,M._len=v.len;for(var u=1/0,i=-1/0,s=0;s<M._len;s++){var a=M._value[s];u=Math.min(u,a),i=Math.max(i,a)}M._minValues=u,M._maxValues=i,M._vMin=null==M.isomin?u:M.isomin,M._vMax=void 0===M.isomax||null===M.isomin?i:M.isomax,D(S,M,{vals:[M._vMin,M._vMax],containerStr:"",cLetter:"c"})}},22674:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(81697).parseColorScale,d=r(78614),S=r(21081).extractOpts,M=r(90060),v=function(o,l){for(var c=l.length-1;c>0;c--){var f=Math.min(l[c],l[c-1]),g=Math.max(l[c],l[c-1]);if(g>f&&f<o&&o<=g)return{id:c,distRatio:(g-o)/(g-f)}}return{id:0,distRatio:0}};function u(o,l,c){this.scene=o,this.uid=c,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=u.prototype;i.handlePick=function(o){if(o.object===this.mesh){var l=o.data.index,f=this.data._meshY[l],g=this.data._meshZ[l],h=this.data._Ys.length,T=this.data._Zs.length,x=v(this.data._meshX[l],this.data._Xs).id,m=v(f,this.data._Ys).id,b=v(g,this.data._Zs).id,_=o.index=b+T*m+T*h*x;o.traceCoordinate=[this.data._meshX[_],this.data._meshY[_],this.data._meshZ[_],this.data._value[_]];var w=this.data.hovertext||this.data.text;return Array.isArray(w)&&void 0!==w[_]?o.textLabel=w[_]:w&&(o.textLabel=w),!0}},i.update=function(o){var l=this.scene,c=l.fullSceneLayout;function f(T,x,m,b){return x.map(function(_){return T.d2l(_,0,b)*m})}this.data=a(o);var g={positions:M(f(c.xaxis,o._meshX,l.dataScale[0],o.xcalendar),f(c.yaxis,o._meshY,l.dataScale[1],o.ycalendar),f(c.zaxis,o._meshZ,l.dataScale[2],o.zcalendar)),cells:M(o._meshI,o._meshJ,o._meshK),lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:d(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},h=S(o);g.vertexIntensity=o._meshIntensity,g.vertexIntensityBounds=[h.min,h.max],g.colormap=E(o),this.mesh.update(g)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var s=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(o){o._meshI=[],o._meshJ=[],o._meshK=[];var l,c,f,g,h,T,x,m=o.surface.show,b=o.spaceframe.show,_=o.surface.fill,w=o.spaceframe.fill,A=!1,p=!1,I=0,k=o._Xs,L=o._Ys,O=o._Zs,P=k.length,F=L.length,j=O.length,X=s.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),N=function(Ce,Be,qe){switch(X){case 5:return qe+j*Be+j*F*Ce;case 4:return qe+j*Ce+j*P*Be;case 3:return Be+F*qe+F*j*Ce;case 2:return Be+F*Ce+F*P*qe;case 1:return Ce+P*qe+P*j*Be;default:return Ce+P*Be+P*F*qe}},q=o._minValues,G=o._maxValues,H=o._vMin,Z=o._vMax;function $(Ce,Be,qe){for(var He=T.length,Je=c;Je<He;Je++)if(Ce===f[Je]&&Be===g[Je]&&qe===h[Je])return Je;return-1}function se(){c=l}function ne(){f=[],g=[],h=[],T=[],l=0,se()}function re(Ce,Be,qe,He){return f.push(Ce),g.push(Be),h.push(qe),T.push(He),++l-1}function Q(Ce,Be,qe){for(var He=[],Je=0;Je<Ce.length;Je++)He[Je]=Ce[Je]*(1-qe)+qe*Be[Je];return He}function ee(Ce){x=Ce}function oe(Ce,Be){return"all"===Ce||null===Ce||Ce.indexOf(Be)>-1}function ce(Ce,Be){return null===Ce?Be:Ce}function ue(Ce,Be,qe){se();var Je,et,zt,nt,it,Ke,rt,ft,ht,Ve,Ge,ut,dt,kt,bt,st=[Be],pt=[qe];if(x>=1)st=[Be],pt=[qe];else if(x>0){var ct=(nt=qe,Ve=Q(ft=function(At,xt,Rt){for(var _t=[],Tt=0;Tt<At.length;Tt++)_t[Tt]=(At[Tt]+xt[Tt]+Rt[Tt])/3;return _t}(it=(zt=Be)[0],Ke=zt[1],rt=zt[2]),it,ht=Math.sqrt(1-x)),{xyzv:[[it,Ke,Ge=Q(ft,Ke,ht)],[Ge,Ve,it],[Ke,rt,ut=Q(ft,rt,ht)],[ut,Ge,Ke],[rt,it,Ve],[Ve,ut,rt]],abc:[[dt=nt[0],kt=nt[1],-1],[-1,-1,dt],[kt,bt=nt[2],-1],[-1,-1,kt],[bt,dt,-1],[-1,-1,bt]]});st=ct.xyzv,pt=ct.abc}for(var St=0;St<st.length;St++){Be=st[St],qe=pt[St];for(var Dt=[],vt=0;vt<3;vt++){var gt=Be[vt][0],Et=Be[vt][1],Pt=Be[vt][2],Ot=Be[vt][3],Ht=qe[vt]>-1?qe[vt]:$(gt,Et,Pt);Dt[vt]=Ht>-1?Ht:re(gt,Et,Pt,ce(Ce,Ot))}Je=Dt[1],et=Dt[2],o._meshI.push(Dt[0]),o._meshJ.push(Je),o._meshK.push(et),++I}}function he(Ce,Be,qe,He){var Je=Ce[3];Je<qe&&(Je=qe),Je>He&&(Je=He);for(var et=(Ce[3]-Je)/(Ce[3]-Be[3]+1e-9),st=[],pt=0;pt<4;pt++)st[pt]=(1-et)*Ce[pt]+et*Be[pt];return st}function ve(Ce,Be,qe){return Ce>=Be&&Ce<=qe}function ke(Ce){var Be=.001*(Z-H);return Ce>=H-Be&&Ce<=Z+Be}function Ie(Ce){for(var Be=[],qe=0;qe<4;qe++){var He=Ce[qe];Be.push([o._x[He],o._y[He],o._z[He],o._value[He]])}return Be}var Me=3;function _e(Ce,Be,qe,He,Je,et){et||(et=1),qe=[-1,-1,-1];var st=!1,pt=[ve(Be[0][3],He,Je),ve(Be[1][3],He,Je),ve(Be[2][3],He,Je)];if(!pt[0]&&!pt[1]&&!pt[2])return!1;var ct=function(Dt,vt,gt){return ke(vt[0][3])&&ke(vt[1][3])&&ke(vt[2][3])?(ue(Dt,vt,gt),!0):et<Me&&_e(Dt,vt,gt,H,Z,++et)};if(pt[0]&&pt[1]&&pt[2])return ct(Ce,Be,qe)||st;var St=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(Dt){if(pt[Dt[0]]&&pt[Dt[1]]&&!pt[Dt[2]]){var vt=Be[Dt[0]],gt=Be[Dt[1]],Et=Be[Dt[2]],Pt=he(Et,vt,He,Je),Ot=he(Et,gt,He,Je);st=ct(Ce,[Ot,Pt,vt],[-1,-1,qe[Dt[0]]])||st,st=ct(Ce,[vt,gt,Ot],[qe[Dt[0]],qe[Dt[1]],-1])||st,St=!0}}),St||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(Dt){if(pt[Dt[0]]&&!pt[Dt[1]]&&!pt[Dt[2]]){var vt=Be[Dt[0]],Et=Be[Dt[2]],Pt=he(Be[Dt[1]],vt,He,Je),Ot=he(Et,vt,He,Je);st=ct(Ce,[Ot,Pt,vt],[-1,-1,qe[Dt[0]]])||st,St=!0}}),st}function we(Ce,Be,qe,He){var ct,St,Dt,vt,Je=!1,et=Ie(Be),st=[ve(et[0][3],qe,He),ve(et[1][3],qe,He),ve(et[2][3],qe,He),ve(et[3][3],qe,He)];if(!(st[0]||st[1]||st[2]||st[3]))return Je;if(st[0]&&st[1]&&st[2]&&st[3])return p&&(ct=Ce,St=et,Dt=Be,(vt=function(gt,Et,Pt){ue(ct,[St[gt],St[Et],St[Pt]],[Dt[gt],Dt[Et],Dt[Pt]])})(0,1,2),vt(3,0,1),vt(2,3,0),Je=void vt(1,2,3)||Je),Je;var pt=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(ct){if(st[ct[0]]&&st[ct[1]]&&st[ct[2]]&&!st[ct[3]]){var St=et[ct[0]],Dt=et[ct[1]],vt=et[ct[2]],gt=et[ct[3]];if(p)Je=ue(Ce,[St,Dt,vt],[Be[ct[0]],Be[ct[1]],Be[ct[2]]])||Je;else{var Et=he(gt,St,qe,He),Pt=he(gt,Dt,qe,He),Ot=he(gt,vt,qe,He);Je=ue(null,[Et,Pt,Ot],[-1,-1,-1])||Je}pt=!0}}),pt||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(ct){if(st[ct[0]]&&st[ct[1]]&&!st[ct[2]]&&!st[ct[3]]){var St=et[ct[0]],Dt=et[ct[1]],vt=et[ct[2]],gt=et[ct[3]],Et=he(vt,St,qe,He),Pt=he(vt,Dt,qe,He),Ot=he(gt,Dt,qe,He),Ht=he(gt,St,qe,He);p?(Je=ue(Ce,[St,Ht,Et],[Be[ct[0]],-1,-1])||Je,Je=ue(Ce,[Dt,Pt,Ot],[Be[ct[1]],-1,-1])||Je):(nt=[Et,Pt,Ot,Ht],it=[-1,-1,-1,-1],(Ke=function(rt,ft,ht){ue(null,[nt[rt],nt[ft],nt[ht]],[it[rt],it[ft],it[ht]])})(0,1,2),Je=void Ke(2,3,0)||Je),pt=!0}var nt,it,Ke}),pt||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(ct){if(st[ct[0]]&&!st[ct[1]]&&!st[ct[2]]&&!st[ct[3]]){var St=et[ct[0]],vt=et[ct[2]],gt=et[ct[3]],Et=he(et[ct[1]],St,qe,He),Pt=he(vt,St,qe,He),Ot=he(gt,St,qe,He);p?(Je=ue(Ce,[St,Et,Pt],[Be[ct[0]],-1,-1])||Je,Je=ue(Ce,[St,Pt,Ot],[Be[ct[0]],-1,-1])||Je,Je=ue(Ce,[St,Ot,Et],[Be[ct[0]],-1,-1])||Je):Je=ue(null,[Et,Pt,Ot],[-1,-1,-1])||Je,pt=!0}})),Je}function ze(Ce,Be,qe,He,Je,et,st,pt,ct,St,Dt){var vt=!1;return A&&(oe(Ce,"A")&&(vt=we(null,[Be,qe,He,et],St,Dt)||vt),oe(Ce,"B")&&(vt=we(null,[qe,He,Je,ct],St,Dt)||vt),oe(Ce,"C")&&(vt=we(null,[qe,et,st,ct],St,Dt)||vt),oe(Ce,"D")&&(vt=we(null,[He,et,pt,ct],St,Dt)||vt),oe(Ce,"E")&&(vt=we(null,[qe,He,et,ct],St,Dt)||vt)),p&&(vt=we(Ce,[qe,He,et,ct],St,Dt)||vt),vt}function Ee(Ce,Be,qe,He,Je,et,st,pt){return[!0===pt[0]||_e(Ce,Ie([Be,qe,He]),[Be,qe,He],et,st),!0===pt[1]||_e(Ce,Ie([He,Je,Be]),[He,Je,Be],et,st)]}function Se(Ce,Be,qe,He,Je,et,st,pt,ct){return pt?Ee(Ce,Be,qe,Je,He,et,st,ct):Ee(Ce,qe,Je,He,Be,et,st,ct)}function me(Ce,Be,qe,He,Je,et,st){var pt,ct,St,Dt,vt=!1,gt=function(){vt=_e(Ce,[pt,ct,St],[-1,-1,-1],Je,et)||vt,vt=_e(Ce,[St,Dt,pt],[-1,-1,-1],Je,et)||vt},Et=st[0],Pt=st[1],Ot=st[2];return Et&&(pt=Q(Ie([N(Be,qe-0,He-0)])[0],Ie([N(Be-1,qe-0,He-0)])[0],Et),ct=Q(Ie([N(Be,qe-0,He-1)])[0],Ie([N(Be-1,qe-0,He-1)])[0],Et),St=Q(Ie([N(Be,qe-1,He-1)])[0],Ie([N(Be-1,qe-1,He-1)])[0],Et),Dt=Q(Ie([N(Be,qe-1,He-0)])[0],Ie([N(Be-1,qe-1,He-0)])[0],Et),gt()),Pt&&(pt=Q(Ie([N(Be-0,qe,He-0)])[0],Ie([N(Be-0,qe-1,He-0)])[0],Pt),ct=Q(Ie([N(Be-0,qe,He-1)])[0],Ie([N(Be-0,qe-1,He-1)])[0],Pt),St=Q(Ie([N(Be-1,qe,He-1)])[0],Ie([N(Be-1,qe-1,He-1)])[0],Pt),Dt=Q(Ie([N(Be-1,qe,He-0)])[0],Ie([N(Be-1,qe-1,He-0)])[0],Pt),gt()),Ot&&(pt=Q(Ie([N(Be-0,qe-0,He)])[0],Ie([N(Be-0,qe-0,He-1)])[0],Ot),ct=Q(Ie([N(Be-0,qe-1,He)])[0],Ie([N(Be-0,qe-1,He-1)])[0],Ot),St=Q(Ie([N(Be-1,qe-1,He)])[0],Ie([N(Be-1,qe-1,He-1)])[0],Ot),Dt=Q(Ie([N(Be-1,qe-0,He)])[0],Ie([N(Be-1,qe-0,He-1)])[0],Ot),gt()),vt}function fe(Ce,Be,qe,He,Je,et,st,pt,ct,St,Dt,vt){var gt=Ce;return vt?(A&&"even"===Ce&&(gt=null),ze(gt,Be,qe,He,Je,et,st,pt,ct,St,Dt)):(A&&"odd"===Ce&&(gt=null),ze(gt,ct,pt,st,et,Je,He,qe,Be,St,Dt))}function le(Ce,Be,qe,He,Je){for(var et=[],st=0,pt=0;pt<Be.length;pt++)for(var ct=Be[pt],St=1;St<j;St++)for(var Dt=1;Dt<F;Dt++)et.push(Se(Ce,N(ct,Dt-1,St-1),N(ct,Dt-1,St),N(ct,Dt,St-1),N(ct,Dt,St),qe,He,(ct+Dt+St)%2,Je&&Je[st]?Je[st]:[])),st++;return et}function Te(Ce,Be,qe,He,Je){for(var et=[],st=0,pt=0;pt<Be.length;pt++)for(var ct=Be[pt],St=1;St<P;St++)for(var Dt=1;Dt<j;Dt++)et.push(Se(Ce,N(St-1,ct,Dt-1),N(St,ct,Dt-1),N(St-1,ct,Dt),N(St,ct,Dt),qe,He,(St+ct+Dt)%2,Je&&Je[st]?Je[st]:[])),st++;return et}function Re(Ce,Be,qe,He,Je){for(var et=[],st=0,pt=0;pt<Be.length;pt++)for(var ct=Be[pt],St=1;St<F;St++)for(var Dt=1;Dt<P;Dt++)et.push(Se(Ce,N(Dt-1,St-1,ct),N(Dt-1,St,ct),N(Dt,St-1,ct),N(Dt,St,ct),qe,He,(Dt+St+ct)%2,Je&&Je[st]?Je[st]:[])),st++;return et}function De(Ce,Be,qe){for(var He=1;He<j;He++)for(var Je=1;Je<F;Je++)for(var et=1;et<P;et++)fe(Ce,N(et-1,Je-1,He-1),N(et-1,Je-1,He),N(et-1,Je,He-1),N(et-1,Je,He),N(et,Je-1,He-1),N(et,Je-1,He),N(et,Je,He-1),N(et,Je,He),Be,qe,(et+Je+He)%2)}function Ue(Ce,Be,qe,He,Je,et){for(var st=[],ct=0;ct<Be.length;ct++)for(var St=Be[ct],Dt=1;Dt<j;Dt++)for(var vt=1;vt<F;vt++)st.push(me(Ce,St,vt,Dt,qe,He,Je[ct]));return st}function Ze(Ce,Be,qe,He,Je,et){for(var st=[],ct=0;ct<Be.length;ct++)for(var St=Be[ct],Dt=1;Dt<P;Dt++)for(var vt=1;vt<j;vt++)st.push(me(Ce,Dt,St,vt,qe,He,Je[ct]));return st}function xe(Ce,Be,qe,He,Je,et){for(var st=[],ct=0;ct<Be.length;ct++)for(var St=Be[ct],Dt=1;Dt<F;Dt++)for(var vt=1;vt<P;vt++)st.push(me(Ce,vt,Dt,St,qe,He,Je[ct]));return st}function Oe(Ce,Be){for(var qe=[],He=Ce;He<Be;He++)qe.push(He);return qe}return function(){ne(),function(){for(var ct=0;ct<P;ct++)for(var St=0;St<F;St++)for(var Dt=0;Dt<j;Dt++){var vt=N(ct,St,Dt);re(o._x[vt],o._y[vt],o._z[vt],o._value[vt])}}();var Ce=null;if(b&&w&&(ee(w),p=!0,De(Ce,H,Z),p=!1),m&&_){ee(_);for(var Be=o.surface.pattern,qe=o.surface.count,He=0;He<qe;He++){var Je=1===qe?.5:He/(qe-1),et=(1-Je)*H+Je*Z,st=Math.abs(et-q)>Math.abs(et-G)?[q,et]:[et,G];A=!0,De(Be,st[0],st[1]),A=!1}}var pt=[[Math.min(H,G),Math.max(H,G)],[Math.min(q,Z),Math.max(q,Z)]];["x","y","z"].forEach(function(ct){for(var St=[],Dt=0;Dt<pt.length;Dt++){var vt=0,gt=pt[Dt][0],Et=pt[Dt][1],Pt=o.slices[ct];if(Pt.show&&Pt.fill){ee(Pt.fill);var Ot=[],Ht=[],zt=[];if(Pt.locations.length)for(var nt=0;nt<Pt.locations.length;nt++){var it=v(Pt.locations[nt],"x"===ct?k:"y"===ct?L:O);0===it.distRatio?Ot.push(it.id):it.id>0&&(Ht.push(it.id),zt.push("x"===ct?[it.distRatio,0,0]:"y"===ct?[0,it.distRatio,0]:[0,0,it.distRatio]))}else Ot=Oe(1,"x"===ct?P-1:"y"===ct?F-1:j-1);Ht.length>0&&(St[vt]="x"===ct?Ue(Ce,Ht,gt,Et,zt):"y"===ct?Ze(Ce,Ht,gt,Et,zt):xe(Ce,Ht,gt,Et,zt),vt++),Ot.length>0&&(St[vt]="x"===ct?le(Ce,Ot,gt,Et,St[vt]):"y"===ct?Te(Ce,Ot,gt,Et,St[vt]):Re(Ce,Ot,gt,Et,St[vt]),vt++)}var Ke=o.caps[ct];Ke.show&&Ke.fill&&(ee(Ke.fill),St[vt]="x"===ct?le(Ce,[0,P-1],gt,Et,St[vt]):"y"===ct?Te(Ce,[0,F-1],gt,Et,St[vt]):Re(Ce,[0,j-1],gt,Et,St[vt]),vt++)}}),0===I&&ne(),o._meshX=f,o._meshY=g,o._meshZ=h,o._meshIntensity=T,o._Xs=k,o._Ys=L,o._Zs=O}(),o}ae.exports={findNearestOnAxis:v,generateIsoMeshes:a,createIsosurfaceTrace:function(o,l){var f=D({gl:o.glplot.gl}),g=new u(o,f,l.uid);return f._trace=g,g.update(l),o.glplot.add(f),g}}},82738:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),d=r(16249),S=r(1586);function M(v,u,i,s,a){var o=a("isomin"),l=a("isomax");null!=l&&null!=o&&o>l&&(u.isomin=null,u.isomax=null);var c=a("x"),f=a("y"),g=a("z"),h=a("value");c&&c.length&&f&&f.length&&g&&g.length&&h&&h.length?(E.getComponentMethod("calendars","handleTraceDefaults")(v,u,["x","y","z"],s),a("valuehoverformat"),["x","y","z"].forEach(function(T){a(T+"hoverformat");var x="caps."+T;a(x+".show")&&a(x+".fill");var m="slices."+T;a(m+".show")&&(a(m+".fill"),a(m+".locations"))}),a("spaceframe.show")&&a("spaceframe.fill"),a("surface.show")&&(a("surface.count"),a("surface.fill"),a("surface.pattern")),a("contour.show")&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(T){a(T)}),S(v,u,s,a,{prefix:"",cLetter:"c"}),u._length=null):u.visible=!1}ae.exports={supplyDefaults:function(v,u,i,s){M(v,u,0,s,function(a,o){return D.coerce(v,u,d,a,o)})},supplyIsoDefaults:M}},64943:function(ae,B,r){"use strict";ae.exports={attributes:r(16249),supplyDefaults:r(82738).supplyDefaults,calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,d=r(5386).fF,S=r(54532),M=r(9012),v=r(1426).extendFlat;ae.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:d({editType:"calc"}),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},D("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:S.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},S.contours.x.show,{}),color:S.contours.x.color,width:S.contours.x.width,editType:"calc"},lightposition:{x:v({},S.lightposition.x,{dflt:1e5}),y:v({},S.lightposition.y,{dflt:1e5}),z:v({},S.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},S.lighting),hoverinfo:v({},M.hoverinfo,{editType:"calc"}),showlegend:v({},M.showlegend,{dflt:!1})})},82932:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,d){d.intensity&&D(E,d,{vals:d.intensity,containerStr:"",cLetter:"c"})}},91134:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(9330).delaunay_triangulate,d=r(9330).alpha_shape,S=r(9330).convex_hull,M=r(81697).parseColorScale,v=r(78614),u=r(21081).extractOpts,i=r(90060);function s(g,h,T){this.scene=g,this.uid=T,this.mesh=h,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=s.prototype;function o(g){for(var h=[],T=g.length,x=0;x<T;x++)h[x]=v(g[x]);return h}function l(g,h,T,x){for(var m=[],b=h.length,_=0;_<b;_++)m[_]=g.d2l(h[_],0,x)*T;return m}function c(g){for(var h=[],T=g.length,x=0;x<T;x++)h[x]=Math.round(g[x]);return h}function f(g,h){for(var T=g.length,x=0;x<T;x++)if(g[x]<=-.5||g[x]>=h-.5)return!1;return!0}a.handlePick=function(g){if(g.object===this.mesh){var h=g.index=g.data.index;g.traceCoordinate=g.data._cellCenter?g.data.dataCoordinate:[this.data.x[h],this.data.y[h],this.data.z[h]];var T=this.data.hovertext||this.data.text;return Array.isArray(T)&&void 0!==T[h]?g.textLabel=T[h]:T&&(g.textLabel=T),!0}},a.update=function(g){var h=this.scene,T=h.fullSceneLayout;this.data=g;var x,m=g.x.length,b=i(l(T.xaxis,g.x,h.dataScale[0],g.xcalendar),l(T.yaxis,g.y,h.dataScale[1],g.ycalendar),l(T.zaxis,g.z,h.dataScale[2],g.zcalendar));if(g.i&&g.j&&g.k){if(g.i.length!==g.j.length||g.j.length!==g.k.length||!f(g.i,m)||!f(g.j,m)||!f(g.k,m))return;x=i(c(g.i),c(g.j),c(g.k))}else x=0===g.alphahull?S(b):g.alphahull>0?d(g.alphahull,b):function(p,I){for(var k=["x","y","z"].indexOf(p),L=[],O=I.length,P=0;P<O;P++)L[P]=[I[P][(k+1)%3],I[P][(k+2)%3]];return E(L)}(g.delaunayaxis,b);var _={positions:b,cells:x,lightPosition:[g.lightposition.x,g.lightposition.y,g.lightposition.z],ambient:g.lighting.ambient,diffuse:g.lighting.diffuse,specular:g.lighting.specular,roughness:g.lighting.roughness,fresnel:g.lighting.fresnel,vertexNormalsEpsilon:g.lighting.vertexnormalsepsilon,faceNormalsEpsilon:g.lighting.facenormalsepsilon,opacity:g.opacity,contourEnable:g.contour.show,contourColor:v(g.contour.color).slice(0,3),contourWidth:g.contour.width,useFacetNormals:g.flatshading};if(g.intensity){var w=u(g);this.color="#fff";var A=g.intensitymode;_[A+"Intensity"]=g.intensity,_[A+"IntensityBounds"]=[w.min,w.max],_.colormap=M(g)}else g.vertexcolor?(this.color=g.vertexcolor[0],_.vertexColors=o(g.vertexcolor)):g.facecolor?(this.color=g.facecolor[0],_.cellColors=o(g.facecolor)):(this.color=g.color,_.meshColor=v(g.color));this.mesh.update(_)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(g,h){var x=D({gl:g.glplot.gl}),m=new s(g,x,h.uid);return x._trace=m,m.update(h),g.glplot.add(x),m}},58669:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(1586),S=r(2418);ae.exports=function(M,v,u,i){function s(o,l){return E.coerce(M,v,S,o,l)}function a(o){var l=o.map(function(c){var f=s(c);return f&&E.isArrayOrTypedArray(f)?f:null});return l.every(function(c){return c&&c.length===l[0].length})&&l}a(["x","y","z"])?(a(["i","j","k"]),(!v.i||v.j&&v.k)&&(!v.j||v.k&&v.i)&&(!v.k||v.i&&v.j)?(D.getComponentMethod("calendars","handleTraceDefaults")(M,v,["x","y","z"],i),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(o){s(o)}),s("contour.show")&&(s("contour.color"),s("contour.width")),"intensity"in M?(s("intensity"),s("intensitymode"),d(M,v,i,s,{prefix:"",cLetter:"c"})):(v.showscale=!1,"facecolor"in M?s("facecolor"):"vertexcolor"in M?s("vertexcolor"):s("color",u)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),v._length=null):v.visible=!1):v.visible=!1}},21164:function(ae,B,r){"use strict";ae.exports={attributes:r(2418),supplyDefaults:r(58669),calc:r(82932),colorbar:{min:"cmin",max:"cmax"},plot:r(91134),moduleType:"trace",name:"mesh3d",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(ae,B,r){"use strict";var D=r(71828).extendFlat,E=r(82196),d=r(12663).axisHoverFormat,S=r(79952).P,M=r(77914),v=r(22372),u=v.INCREASING.COLOR,i=v.DECREASING.COLOR,s=E.line;function a(o){return{line:{color:D({},s.color,{dflt:o}),width:s.width,dash:S,editType:"style"},editType:"style"}}ae.exports={xperiod:E.xperiod,xperiod0:E.xperiod0,xperiodalignment:E.xperiodalignment,xhoverformat:d("x"),yhoverformat:d("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:D({},s.width,{}),dash:D({},S,{}),editType:"style"},increasing:a(u),decreasing:a(i),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:D({},M.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(ae,B,r){"use strict";var D=r(71828),E=D._,d=r(89298),S=r(42973),M=r(50606).BADNUM;function v(i,s,a,o){return{o:i,h:s,l:a,c:o}}function u(i,s,a,o,l,c){for(var f=l.makeCalcdata(s,"open"),g=l.makeCalcdata(s,"high"),h=l.makeCalcdata(s,"low"),T=l.makeCalcdata(s,"close"),x=Array.isArray(s.text),m=Array.isArray(s.hovertext),b=!0,_=null,w=!!s.xperiodalignment,A=[],p=0;p<o.length;p++){var I=o[p],k=f[p],L=g[p],O=h[p],P=T[p];if(I!==M&&k!==M&&L!==M&&O!==M&&P!==M){P===k?null!==_&&P!==_&&(b=P>_):b=P>k,_=P;var F=c(k,L,O,P);F.pos=I,F.yc=(k+P)/2,F.i=p,F.dir=b?"increasing":"decreasing",F.x=F.pos,F.y=[O,L],w&&(F.orig_p=a[p]),x&&(F.tx=s.text[p]),m&&(F.htx=s.hovertext[p]),A.push(F)}else A.push({pos:I,empty:!0})}return s._extremes[l._id]=d.findExtremes(l,D.concat(h,g),{padded:!0}),A.length&&(A[0].t={labels:{open:E(i,"open:")+" ",high:E(i,"high:")+" ",low:E(i,"low:")+" ",close:E(i,"close:")+" "}}),A}ae.exports={calc:function(i,s){var a=d.getFromId(i,s.xaxis),o=d.getFromId(i,s.yaxis),l=function(T,x,m){var b=m._minDiff;if(!b){var _,w=T._fullData,A=[];for(b=1/0,_=0;_<w.length;_++){var p=w[_];if("ohlc"===p.type&&!0===p.visible&&p.xaxis===x._id){A.push(p);var I=x.makeCalcdata(p,"x");p._origX=I;var k=S(m,x,"x",I).vals;p._xcalc=k;var L=D.distinctVals(k).minDiff;L&&isFinite(L)&&(b=Math.min(b,L))}}for(b===1/0&&(b=1),_=0;_<A.length;_++)A[_]._minDiff=b}return b*m.tickwidth}(i,a,s),c=s._minDiff;s._minDiff=null;var f=s._origX;s._origX=null;var g=s._xcalc;s._xcalc=null;var h=u(i,s,f,g,o,v);return s._extremes[a._id]=d.findExtremes(a,g,{vpad:c/2}),h.length?(D.extendFlat(h[0].t,{wHover:c/2,tickLen:l}),h):[{t:{empty:!0}}]},calcCommon:u}},16169:function(ae,B,r){"use strict";var D=r(71828),E=r(14555),d=r(73927),S=r(2522);function M(v,u,i,s){i(s+".line.color"),i(s+".line.width",u.line.width),i(s+".line.dash",u.line.dash)}ae.exports=function(v,u,i,s){function a(o,l){return D.coerce(v,u,S,o,l)}E(v,u,a,s)?(d(v,u,s,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),M(0,u,a,"increasing"),M(0,u,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),s._requestRangeslider[u.xaxis]=!0):u.visible=!1}},66449:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),d=r(30211),S=r(7901),M=r(71828).fillText,v=r(22372),u={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function i(o,l,c,f){var g,h,T=o.cd,x=o.xa,m=T[0].trace,b=T[0].t,_=m.type,w="ohlc"===_?"l":"min",A="ohlc"===_?"h":"max",p=b.bPos||0,I=function(H){return H.pos+p-l},k=b.bdPos||b.tickLen,L=b.wHover,O=Math.min(1,k/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));function P(H){var Z=I(H);return d.inbox(Z-L,Z+L,g)}function F(H){var Z=H[w],$=H[A];return Z===$||d.inbox(Z-c,$-c,g)}function j(H){return(P(H)+F(H))/2}g=o.maxHoverDistance-O,h=o.maxSpikeDistance-O;var X=d.getDistanceFunction(f,P,F,j);if(d.getClosest(T,X,o),!1===o.index)return null;var N=T[o.index];if(N.empty)return null;var q=m[N.dir],G=q.line.color;return o.color=S.opacity(G)&&q.line.width?G:q.fillcolor,o.x0=x.c2p(N.pos+p-k,!0),o.x1=x.c2p(N.pos+p+k,!0),o.xLabelVal=void 0!==N.orig_p?N.orig_p:N.pos,o.spikeDistance=j(N)*h/g,o.xSpike=x.c2p(N.pos,!0),o}function s(o,l,c,f){var g=o.cd,h=o.ya,T=g[0].trace,x=g[0].t,m=[],b=i(o,l,c,f);if(!b)return[];var _=g[b.index].hi||T.hoverinfo,w=_.split("+");if("all"!==_&&-1===w.indexOf("y"))return[];for(var A=["high","open","close","low"],p={},I=0;I<A.length;I++){var k,L=A[I],O=T[L][b.index],P=h.c2p(O,!0);O in p?(k=p[O]).yLabel+="<br>"+x.labels[L]+D.hoverLabelText(h,O,T.yhoverformat):((k=E.extendFlat({},b)).y0=k.y1=P,k.yLabelVal=O,k.yLabel=x.labels[L]+D.hoverLabelText(h,O,T.yhoverformat),k.name="",m.push(k),p[O]=k)}return m}function a(o,l,c,f){var g=o.cd,h=o.ya,T=g[0].trace,x=g[0].t,m=i(o,l,c,f);if(!m)return[];var b=g[m.index],_=m.index=b.i,w=b.dir;function A(F){return x.labels[F]+D.hoverLabelText(h,T[F][_],T.yhoverformat)}var p=b.hi||T.hoverinfo,I=p.split("+"),k="all"===p,L=k||-1!==I.indexOf("y"),O=k||-1!==I.indexOf("text"),P=L?[A("open"),A("high"),A("low"),A("close")+"  "+u[w]]:[];return O&&M(b,T,P),m.extraText=P.join("<br>"),m.y0=m.y1=h.c2p(b.yc,!0),[m]}ae.exports={hoverPoints:function(o,l,c,f){return o.cd[0].trace.hoverlabel.split?s(o,l,c,f):a(o,l,c,f)},hoverSplit:s,hoverOnPoints:a}},54186:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"ohlc",basePlotModule:r(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:r(2522),supplyDefaults:r(16169),calc:r(3485).calc,plot:r(72314),style:r(53101),hoverPoints:r(66449).hoverPoints,selectPoints:r(67324)}},14555:function(ae,B,r){"use strict";var D=r(73972),E=r(71828);ae.exports=function(d,S,M,v){var u=M("x"),i=M("open"),s=M("high"),a=M("low"),o=M("close");if(M("hoverlabel.split"),D.getComponentMethod("calendars","handleTraceDefaults")(d,S,["x"],v),i&&s&&a&&o){var l=Math.min(i.length,s.length,a.length,o.length);return u&&(l=Math.min(l,E.minRowLength(u))),S._length=l,l}}},72314:function(ae,B,r){"use strict";var D=r(39898),E=r(71828);ae.exports=function(d,S,M,v){var u=S.yaxis,i=S.xaxis,s=!!i.rangebreaks;E.makeTraceGroups(v,M,"trace ohlc").each(function(a){var o=D.select(this),l=a[0],c=l.t;if(!0!==l.trace.visible||c.empty)o.remove();else{var f=c.tickLen,g=o.selectAll("path").data(E.identity);g.enter().append("path"),g.exit().remove(),g.attr("d",function(h){if(h.empty)return"M0,0Z";var T=i.c2p(h.pos-f,!0),x=i.c2p(h.pos+f,!0),m=s?(T+x)/2:i.c2p(h.pos,!0);return"M"+T+","+u.c2p(h.o,!0)+"H"+m+"M"+m+","+u.c2p(h.h,!0)+"V"+u.c2p(h.l,!0)+"M"+x+","+u.c2p(h.c,!0)+"H"+m})}})}},67324:function(ae){"use strict";ae.exports=function(B,r){var D,E=B.cd,d=B.xaxis,S=B.yaxis,M=[],v=E[0].t.bPos||0;if(!1===r)for(D=0;D<E.length;D++)E[D].selected=0;else for(D=0;D<E.length;D++){var u=E[D];r.contains([d.c2p(u.pos+v),S.c2p(u.yc)],null,u.i,B)?(M.push({pointNumber:u.i,x:d.c2d(u.pos),y:S.c2d(u.yc)}),u.selected=1):u.selected=0}return M}},53101:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(7901);ae.exports=function(S,M,v){var u=v||D.select(S).selectAll("g.ohlclayer").selectAll("g.trace");u.style("opacity",function(i){return i[0].trace.opacity}),u.each(function(i){var s=i[0].trace;D.select(this).selectAll("path").each(function(a){if(!a.empty){var o=s[a.dir].line;D.select(this).style("fill","none").call(d.stroke,o.color).call(E.dashLine,o.dash,o.width).style("opacity",s.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(ae,B,r){"use strict";var D=r(1426).extendFlat,E=r(9012),d=r(41940),S=r(50693),M=r(5386).fF,v=r(27670).Y,u=D({editType:"calc"},S("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});ae.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:D({},E.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:M({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:d({editType:"calc"}),tickfont:d({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:u,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(ae,B,r){"use strict";var D=r(27659).a0,E=r(45784),d="parcats";B.name=d,B.plot=function(S,M,v,u){var i=D(S.calcdata,d);i.length&&E(S,i[0],v,u)},B.clean=function(S,M,v,u){var i=u._has&&u._has("parcats"),s=M._has&&M._has("parcats");i&&!s&&u._paperdiv.selectAll(".parcats").remove()}},28699:function(ae,B,r){"use strict";var D=r(28984).wrap,E=r(52075).hasColorscale,d=r(78803),S=r(75744),M=r(91424),v=r(71828),u=r(92770);function i(o,l,c){o.valueInds.push(l),o.count+=c}function s(o,l,c){return{categoryInds:o,color:l,rawColor:c,valueInds:[],count:0}}function a(o,l,c){o.valueInds.push(l),o.count+=c}ae.exports=function(o,l){var c=v.filterVisible(l.dimensions);if(0===c.length)return[];var f,g,h,T=c.map(function($){var se;if("trace"===$.categoryorder)se=null;else if("array"===$.categoryorder)se=$.categoryarray;else{se=S($.values);for(var ne=!0,re=0;re<se.length;re++)if(!u(se[re])){ne=!1;break}se.sort(ne?v.sorterAsc:void 0),"category descending"===$.categoryorder&&(se=se.reverse())}return function(Q,ee){ee=null==ee?[]:ee.map(function(Me){return Me});var oe={},ce={},ue=[];ee.forEach(function(Me,_e){oe[Me]=0,ce[Me]=_e});for(var he=0;he<Q.length;he++){var ve,ke=Q[he];void 0===oe[ke]?(oe[ke]=1,ve=ee.push(ke)-1,ce[ke]=ve):(oe[ke]++,ve=ce[ke]),ue.push(ve)}var Ie=ee.map(function(Me){return oe[Me]});return{uniqueValues:ee,uniqueCounts:Ie,inds:ue}}($.values,se)});f=v.isArrayOrTypedArray(l.counts)?l.counts:[l.counts],function($){var se;if(function(re){for(var Q=new Array(re.length),ee=0;ee<re.length;ee++){if(re[ee]<0||re[ee]>=re.length||void 0!==Q[re[ee]])return!1;Q[re[ee]]=!0}return!0}($.map(function(re){return re.displayindex})))for(se=0;se<$.length;se++)$[se]._displayindex=$[se].displayindex;else for(se=0;se<$.length;se++)$[se]._displayindex=se}(c),c.forEach(function($,se){!function(ne,re){ne._categoryarray=re.uniqueValues,ne._ticktext=null==ne.ticktext?[]:ne.ticktext.slice();for(var Q=ne._ticktext.length;Q<re.uniqueValues.length;Q++)ne._ticktext.push(re.uniqueValues[Q])}($,T[se])});var x,m=l.line;m?(E(l,"line")&&d(o,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),x=M.tryColorscale(m)):x=v.identity;var b,_,w,A,p,I=c[0].values.length,k={},L=T.map(function($){return $.inds});for(h=0,b=0;b<I;b++){var O=[];for(_=0;_<L.length;_++)O.push(L[_][b]);h+=g=f[b%f.length];var P=(w=b,A=void 0,p=void 0,v.isArrayOrTypedArray(m.color)?p=A=m.color[w%m.color.length]:A=m.color,{color:x(A),rawColor:p}),F=O+"-"+P.rawColor;void 0===k[F]&&(k[F]=s(O,P.color,P.rawColor)),a(k[F],b,g)}var j,$,se,ne,re,X=c.map(function($,se){return{dimensionInd:se,containerInd:$._index,displayInd:$._displayindex,dimensionLabel:$.label,count:h,categories:[],dragX:null}});for(b=0;b<I;b++)for(g=f[b%f.length],_=0;_<X.length;_++){var N=X[_].containerInd,q=T[_].inds[b],G=X[_].categories;void 0===G[q]&&(G[q]={dimensionInd:_,categoryInd:j=q,categoryValue:l.dimensions[N]._categoryarray[q],displayInd:j,categoryLabel:l.dimensions[N]._ticktext[q],valueInds:[],count:0,dragY:null}),i(G[q],b,g)}return D((se=k,ne=h,re=($=X).map(function(Q){return Q.categories.length}).reduce(function(Q,ee){return Math.max(Q,ee)}),{dimensions:$,paths:se,trace:void 0,maxCats:re,count:ne}))}},14647:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,d=r(1586),S=r(27670).c,M=r(85501),v=r(99506),u=r(94397);function i(s,a){function o(x,m){return D.coerce(s,a,v.dimensions,x,m)}var l=o("values"),c=o("visible");if(l&&l.length||(c=a.visible=!1),c){o("label"),o("displayindex",a._index);var f,g=s.categoryarray,h=Array.isArray(g)&&g.length>0;h&&(f="array");var T=o("categoryorder",f);"array"===T?(o("categoryarray"),o("ticktext")):(delete s.categoryarray,delete s.ticktext),h||"array"!==T||(a.categoryorder="trace")}}ae.exports=function(s,a,o,l){function c(x,m){return D.coerce(s,a,v,x,m)}var f=M(s,a,{name:"dimensions",handleItemDefaults:i}),g=function(x,m,b,_,w){w("line.shape"),w("line.hovertemplate");var A=w("line.color",_.colorway[0]);if(E(x,"line")&&D.isArrayOrTypedArray(A)){if(A.length)return w("line.colorscale"),d(x,m,_,w,{prefix:"line.",cLetter:"c"}),A.length;m.line.color=b}return 1/0}(s,a,o,l,c);S(a,l,c),Array.isArray(f)&&f.length||(a.visible=!1),u(a,f,"values",g),c("hoveron"),c("hovertemplate"),c("arrangement"),c("bundlecolors"),c("sortpaths"),c("counts");var h={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};D.coerceFont(c,"labelfont",h);var T={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};D.coerceFont(c,"tickfont",T)}},94873:function(ae,B,r){"use strict";ae.exports={attributes:r(99506),supplyDefaults:r(14647),calc:r(28699),plot:r(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:r(27677),categories:["noOpacity"],meta:{}}},45460:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).k4,d=r(72391),S=r(30211),M=r(71828),v=M.strTranslate,u=r(91424),i=r(84267),s=r(63893);function a(ne,re,Q,ee){var oe=re._context.staticPlot,ce=ne.map(G.bind(0,re,Q)),ue=ee.selectAll("g.parcatslayer").data([null]);ue.enter().append("g").attr("class","parcatslayer").style("pointer-events",oe?"none":"all");var he=ue.selectAll("g.trace.parcats").data(ce,o),ve=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(me){return v(me.x,me.y)}),ve.append("g").attr("class","paths");var ke=he.select("g.paths").selectAll("path.path").data(function(me){return me.paths},o);ke.attr("fill",function(me){return me.model.color});var Ie=ke.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(me){return me.model.color}).attr("fill-opacity",0);m(Ie),ke.attr("d",function(me){return me.svgD}),Ie.empty()||ke.sort(c),ke.exit().remove(),ke.on("mouseover",f).on("mouseout",g).on("click",x),ve.append("g").attr("class","dimensions");var Me=he.select("g.dimensions").selectAll("g.dimension").data(function(me){return me.dimensions},o);Me.enter().append("g").attr("class","dimension"),Me.attr("transform",function(me){return v(me.x,0)}),Me.exit().remove();var _e=Me.selectAll("g.category").data(function(me){return me.categories},o),we=_e.enter().append("g").attr("class","category");_e.attr("transform",function(me){return v(0,me.y)}),we.append("rect").attr("class","catrect").attr("pointer-events","none"),_e.select("rect.catrect").attr("fill","none").attr("width",function(me){return me.width}).attr("height",function(me){return me.height}),_(we);var ze=_e.selectAll("rect.bandrect").data(function(me){return me.bands},o);ze.each(function(){M.raiseToTop(this)}),ze.attr("fill",function(me){return me.color});var Ee=ze.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);ze.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}).attr("cursor",function(me){return"fixed"===me.parcatsViewModel.arrangement?"default":"perpendicular"===me.parcatsViewModel.arrangement?"ns-resize":"move"}),w(Ee),ze.exit().remove(),we.append("text").attr("class","catlabel").attr("pointer-events","none");var Se=re._fullLayout.paper_bgcolor;_e.select("text.catlabel").attr("text-anchor",function(me){return l(me)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",s.makeTextShadow(Se)).style("fill","rgb(0, 0, 0)").attr("x",function(me){return l(me)?me.width+5:-5}).attr("y",function(me){return me.height/2}).text(function(me){return me.model.categoryLabel}).each(function(me){u.font(D.select(this),me.parcatsViewModel.categorylabelfont),s.convertToTspans(D.select(this),re)}),we.append("text").attr("class","dimlabel"),_e.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(me){return"fixed"===me.parcatsViewModel.arrangement?"default":"ew-resize"}).attr("x",function(me){return me.width/2}).attr("y",-5).text(function(me,fe){return 0===fe?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null}).each(function(me){u.font(D.select(this),me.parcatsViewModel.labelfont)}),_e.selectAll("rect.bandrect").on("mouseover",L).on("mouseout",O),_e.exit().remove(),Me.call(D.behavior.drag().origin(function(me){return{x:me.x,y:0}}).on("dragstart",P).on("drag",F).on("dragend",j)),he.each(function(me){me.traceSelection=D.select(this),me.pathSelection=D.select(this).selectAll("g.paths").selectAll("path.path"),me.dimensionSelection=D.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}function o(ne){return ne.key}function l(ne){return ne.model.dimensionInd===ne.parcatsViewModel.dimensions[ne.parcatsViewModel.dimensions.length-1].model.dimensionInd}function c(ne,re){return ne.model.rawColor>re.model.rawColor?1:ne.model.rawColor<re.model.rawColor?-1:0}function f(ne){if(!ne.parcatsViewModel.dragDimension&&-1===ne.parcatsViewModel.hoverinfoItems.indexOf("skip")){M.raiseToTop(this),b(D.select(this));var re=h(ne),Q=T(ne);if(ne.parcatsViewModel.graphDiv.emit("plotly_hover",{points:re,event:D.event,constraints:Q}),-1===ne.parcatsViewModel.hoverinfoItems.indexOf("none")){var ee,oe,ce,ue=D.mouse(this)[0],he=ne.parcatsViewModel.graphDiv,ve=ne.parcatsViewModel.trace,ke=he._fullLayout,Ie=ke._paperdiv.node().getBoundingClientRect(),Me=ne.parcatsViewModel.graphDiv.getBoundingClientRect();for(ce=0;ce<ne.leftXs.length-1;ce++)if(ne.leftXs[ce]+ne.dimWidths[ce]-2<=ue&&ue<=ne.leftXs[ce+1]+2){var _e=ne.parcatsViewModel.dimensions[ce];ee=(_e.x+_e.width+ne.parcatsViewModel.dimensions[ce+1].x)/2,oe=(ne.topYs[ce]+ne.topYs[ce+1]+ne.height)/2;break}var ze=ne.parcatsViewModel.x+ee,Ee=ne.parcatsViewModel.y+oe,Se=i.mostReadable(ne.model.color,["black","white"]),me=ne.model.count,fe=me/ne.parcatsViewModel.model.count,le={countLabel:me,probabilityLabel:fe.toFixed(3)},Te=[];-1!==ne.parcatsViewModel.hoverinfoItems.indexOf("count")&&Te.push(["Count:",le.countLabel].join(" ")),-1!==ne.parcatsViewModel.hoverinfoItems.indexOf("probability")&&Te.push(["P:",le.probabilityLabel].join(" "));var Re=Te.join("<br>"),De=D.mouse(he)[0];S.loneHover({trace:ve,x:ze-Ie.left+Me.left,y:Ee-Ie.top+Me.top,text:Re,color:ne.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Se,idealAlign:De<ze?"right":"left",hovertemplate:(ve.line||{}).hovertemplate,hovertemplateLabels:le,eventData:[{data:ve._input,fullData:ve,count:me,probability:fe}]},{container:ke._hoverlayer.node(),outerContainer:ke._paper.node(),gd:he})}}}function g(ne){if(!ne.parcatsViewModel.dragDimension&&(m(D.select(this)),S.loneUnhover(ne.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),ne.parcatsViewModel.pathSelection.sort(c),-1===ne.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var re=h(ne),Q=T(ne);ne.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:re,event:D.event,constraints:Q})}}function h(ne){for(var re=[],Q=X(ne.parcatsViewModel),ee=0;ee<ne.model.valueInds.length;ee++)re.push({curveNumber:Q,pointNumber:ne.model.valueInds[ee]});return re}function T(ne){for(var re={},Q=ne.parcatsViewModel.model.dimensions,ee=0;ee<Q.length;ee++){var oe=Q[ee];re[oe.containerInd]=oe.categories[ne.model.categoryInds[ee]].categoryValue}return void 0!==ne.model.rawColor&&(re.color=ne.model.rawColor),re}function x(ne){if(-1===ne.parcatsViewModel.hoverinfoItems.indexOf("skip")){var re=h(ne),Q=T(ne);ne.parcatsViewModel.graphDiv.emit("plotly_click",{points:re,event:D.event,constraints:Q})}}function m(ne){ne.attr("fill",function(re){return re.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function b(ne){ne.attr("fill-opacity",.8).attr("stroke",function(re){return i.mostReadable(re.model.color,["black","white"])}).attr("stroke-width",.3)}function _(ne){ne.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function w(ne){ne.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function A(ne){var Q=ne.categoryViewModel.model.dimensionInd,ee=ne.categoryViewModel.model.categoryInd;return ne.parcatsViewModel.pathSelection.filter(function(oe){return oe.model.categoryInds[Q]===ee&&oe.model.color===ne.color})}function p(ne,re,Q){var ee=D.select(ne).datum(),oe=ee.categoryViewModel.model,ce=ee.parcatsViewModel.graphDiv,ue=D.select(ne.parentNode).selectAll("rect.bandrect"),he=[];ue.each(function(ke){A(ke).each(function(Ie){Array.prototype.push.apply(he,h(Ie))})});var ve={};ve[oe.dimensionInd]=oe.categoryValue,ce.emit(re,{points:he,event:Q,constraints:ve})}function I(ne,re,Q){var ee=D.select(ne).datum(),oe=ee.categoryViewModel.model,ce=ee.parcatsViewModel.graphDiv,ue=A(ee),he=[];ue.each(function(ke){Array.prototype.push.apply(he,h(ke))});var ve={};ve[oe.dimensionInd]=oe.categoryValue,void 0!==ee.rawColor&&(ve.color=ee.rawColor),ce.emit(re,{points:he,event:Q,constraints:ve})}function k(ne,re,Q){ne._fullLayout._calcInverseTransform(ne);var ee,oe,ce=ne._fullLayout._invScaleX,ue=ne._fullLayout._invScaleY,he=D.select(Q.parentNode).select("rect.catrect"),ve=he.node().getBoundingClientRect(),ke=he.datum(),Ie=ke.parcatsViewModel,_e=Ie.trace,we=ve.top+ve.height/2;Ie.dimensions.length>1&&Ie.model.dimensions[ke.model.dimensionInd].displayInd===Ie.dimensions.length-1?(ee=ve.left,oe="left"):(ee=ve.left+ve.width,oe="right");var ze=ke.model.count,Ee=ke.model.categoryLabel,Se=ze/ke.parcatsViewModel.model.count,me={countLabel:ze,categoryLabel:Ee,probabilityLabel:Se.toFixed(3)},fe=[];-1!==ke.parcatsViewModel.hoverinfoItems.indexOf("count")&&fe.push(["Count:",me.countLabel].join(" ")),-1!==ke.parcatsViewModel.hoverinfoItems.indexOf("probability")&&fe.push(["P("+me.categoryLabel+"):",me.probabilityLabel].join(" "));var le=fe.join("<br>");return{trace:_e,x:ce*(ee-re.left),y:ue*(we-re.top),text:le,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:oe,hovertemplate:_e.hovertemplate,hovertemplateLabels:me,eventData:[{data:_e._input,fullData:_e,count:ze,category:Ee,probability:Se}]}}function L(ne){if(!ne.parcatsViewModel.dragDimension&&-1===ne.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(D.mouse(this)[1]<-1)return;var re,Q=ne.parcatsViewModel.graphDiv,ee=Q._fullLayout,oe=ee._paperdiv.node().getBoundingClientRect(),ce=ne.parcatsViewModel.hoveron,ue=this;"color"===ce?(b(ke=A(ve=D.select(he=ue).datum())),ke.each(function(){M.raiseToTop(this)}),D.select(he.parentNode).selectAll("rect.bandrect").filter(function(Ie){return Ie.color===ve.color}).each(function(){M.raiseToTop(this),D.select(this).attr("stroke","black").attr("stroke-width",1.5)}),I(ue,"plotly_hover",D.event)):(function(he){D.select(he.parentNode).selectAll("rect.bandrect").each(function(ve){var ke=A(ve);b(ke),ke.each(function(){M.raiseToTop(this)})}),D.select(he.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ue),p(ue,"plotly_hover",D.event)),-1===ne.parcatsViewModel.hoverinfoItems.indexOf("none")&&("category"===ce?re=k(Q,oe,ue):"color"===ce?re=function(he,ve,ke){he._fullLayout._calcInverseTransform(he);var Ie,Me,_e=he._fullLayout._invScaleX,we=he._fullLayout._invScaleY,ze=ke.getBoundingClientRect(),Ee=D.select(ke).datum(),Se=Ee.categoryViewModel,me=Se.parcatsViewModel,le=me.trace,Te=ze.y+ze.height/2;me.dimensions.length>1&&me.model.dimensions[Se.model.dimensionInd].displayInd===me.dimensions.length-1?(Ie=ze.left,Me="left"):(Ie=ze.left+ze.width,Me="right");var Re=Se.model.categoryLabel,De=Ee.parcatsViewModel.model.count,Ue=0;Ee.categoryViewModel.bands.forEach(function(st){st.color===Ee.color&&(Ue+=st.count)});var Ze=Se.model.count,xe=0;me.pathSelection.each(function(st){st.model.color===Ee.color&&(xe+=st.model.count)});var Oe=Ue/De,Ce=Ue/xe,Be=Ue/Ze,qe={countLabel:De,categoryLabel:Re,probabilityLabel:Oe.toFixed(3)},He=[];-1!==Se.parcatsViewModel.hoverinfoItems.indexOf("count")&&He.push(["Count:",qe.countLabel].join(" ")),-1!==Se.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(He.push("P(color \u2229 "+Re+"): "+qe.probabilityLabel),He.push("P("+Re+" | color): "+Ce.toFixed(3)),He.push("P(color | "+Re+"): "+Be.toFixed(3)));var Je=He.join("<br>"),et=i.mostReadable(Ee.color,["black","white"]);return{trace:le,x:_e*(Ie-ve.left),y:we*(Te-ve.top),text:Je,color:Ee.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:et,fontSize:10,idealAlign:Me,hovertemplate:le.hovertemplate,hovertemplateLabels:qe,eventData:[{data:le._input,fullData:le,category:Re,count:De,probability:Oe,categorycount:Ze,colorcount:xe,bandcolorcount:Ue}]}}(Q,oe,ue):"dimension"===ce&&(re=function(he,ve,ke){var Ie=[];return D.select(ke.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){Ie.push(k(he,ve,this))}),Ie}(Q,oe,ue)),re&&S.loneHover(re,{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:Q}))}var he,ve,ke}function O(ne){var re=ne.parcatsViewModel;re.dragDimension||(m(re.pathSelection),_(re.dimensionSelection.selectAll("g.category")),w(re.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),S.loneUnhover(re.graphDiv._fullLayout._hoverlayer.node()),re.pathSelection.sort(c),-1!==re.hoverinfoItems.indexOf("skip"))||("color"===ne.parcatsViewModel.hoveron?I(this,"plotly_unhover",D.event):p(this,"plotly_unhover",D.event))}function P(ne){"fixed"!==ne.parcatsViewModel.arrangement&&(ne.dragDimensionDisplayInd=ne.model.displayInd,ne.initialDragDimensionDisplayInds=ne.parcatsViewModel.model.dimensions.map(function(re){return re.displayInd}),ne.dragHasMoved=!1,ne.dragCategoryDisplayInd=null,D.select(this).selectAll("g.category").select("rect.catrect").each(function(re){var Q=D.mouse(this)[0],ee=D.mouse(this)[1];-2<=Q&&Q<=re.width+2&&-2<=ee&&ee<=re.height+2&&(ne.dragCategoryDisplayInd=re.model.displayInd,ne.initialDragCategoryDisplayInds=ne.model.categories.map(function(oe){return oe.displayInd}),re.model.dragY=re.y,M.raiseToTop(this.parentNode),D.select(this.parentNode).selectAll("rect.bandrect").each(function(oe){oe.y<ee&&ee<=oe.y+oe.height&&(ne.potentialClickBand=this)}))}),ne.parcatsViewModel.dragDimension=ne,S.loneUnhover(ne.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function F(ne){if("fixed"!==ne.parcatsViewModel.arrangement&&(ne.dragHasMoved=!0,null!==ne.dragDimensionDisplayInd)){var re=ne.dragDimensionDisplayInd,Q=re-1,ee=re+1,oe=ne.parcatsViewModel.dimensions[re];if(null!==ne.dragCategoryDisplayInd){var ce=oe.categories[ne.dragCategoryDisplayInd];ce.model.dragY+=D.event.dy;var ue=ce.model.dragY,he=ce.model.displayInd,ve=oe.categories,ke=ve[he-1],Ie=ve[he+1];void 0!==ke&&ue<ke.y+ke.height/2&&(ce.model.displayInd=ke.model.displayInd,ke.model.displayInd=he),void 0!==Ie&&ue+ce.height>Ie.y+Ie.height/2&&(ce.model.displayInd=Ie.model.displayInd,Ie.model.displayInd=he),ne.dragCategoryDisplayInd=ce.model.displayInd}if(null===ne.dragCategoryDisplayInd||"freeform"===ne.parcatsViewModel.arrangement){oe.model.dragX=D.event.x;var Me=ne.parcatsViewModel.dimensions[Q],_e=ne.parcatsViewModel.dimensions[ee];void 0!==Me&&oe.model.dragX<Me.x+Me.width&&(oe.model.displayInd=Me.model.displayInd,Me.model.displayInd=re),void 0!==_e&&oe.model.dragX+oe.width>_e.x&&(oe.model.displayInd=_e.model.displayInd,_e.model.displayInd=ne.dragDimensionDisplayInd),ne.dragDimensionDisplayInd=oe.model.displayInd}$(ne.parcatsViewModel),Z(ne.parcatsViewModel),q(ne.parcatsViewModel),N(ne.parcatsViewModel)}}function j(ne){if("fixed"!==ne.parcatsViewModel.arrangement&&null!==ne.dragDimensionDisplayInd){D.select(this).selectAll("text").attr("font-weight","normal");var re={},Q=X(ne.parcatsViewModel),ee=ne.parcatsViewModel.model.dimensions.map(function(Ie){return Ie.displayInd}),oe=ne.initialDragDimensionDisplayInds.some(function(Ie,Me){return Ie!==ee[Me]});oe&&ee.forEach(function(Ie,Me){re["dimensions["+ne.parcatsViewModel.model.dimensions[Me].containerInd+"].displayindex"]=Ie});var ce=!1;if(null!==ne.dragCategoryDisplayInd){var ue=ne.model.categories.map(function(Ie){return Ie.displayInd});if(ce=ne.initialDragCategoryDisplayInds.some(function(Ie,Me){return Ie!==ue[Me]})){var he=ne.model.categories.slice().sort(function(Ie,Me){return Ie.displayInd-Me.displayInd}),ve=he.map(function(Ie){return Ie.categoryValue}),ke=he.map(function(Ie){return Ie.categoryLabel});re["dimensions["+ne.model.containerInd+"].categoryarray"]=[ve],re["dimensions["+ne.model.containerInd+"].ticktext"]=[ke],re["dimensions["+ne.model.containerInd+"].categoryorder"]="array"}}-1===ne.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!ne.dragHasMoved&&ne.potentialClickBand&&("color"===ne.parcatsViewModel.hoveron?I(ne.potentialClickBand,"plotly_click",D.event.sourceEvent):p(ne.potentialClickBand,"plotly_click",D.event.sourceEvent)),ne.model.dragX=null,null!==ne.dragCategoryDisplayInd&&(ne.parcatsViewModel.dimensions[ne.dragDimensionDisplayInd].categories[ne.dragCategoryDisplayInd].model.dragY=null,ne.dragCategoryDisplayInd=null),ne.dragDimensionDisplayInd=null,ne.parcatsViewModel.dragDimension=null,ne.dragHasMoved=null,ne.potentialClickBand=null,$(ne.parcatsViewModel),Z(ne.parcatsViewModel),D.transition().duration(300).ease("cubic-in-out").each(function(){q(ne.parcatsViewModel,!0),N(ne.parcatsViewModel,!0)}).each("end",function(){(oe||ce)&&d.restyle(ne.parcatsViewModel.graphDiv,re,[Q])})}}function X(ne){for(var re,Q=ne.graphDiv._fullData,ee=0;ee<Q.length;ee++)if(ne.key===Q[ee].uid){re=ee;break}return re}function N(ne,re){var Q;void 0===re&&(re=!1),ne.pathSelection.data(function(ee){return ee.paths},o),(Q=ne.pathSelection,re?Q.transition():Q).attr("d",function(ee){return ee.svgD})}function q(ne,re){function Q(ue){return re?ue.transition():ue}void 0===re&&(re=!1),ne.dimensionSelection.data(function(ue){return ue.dimensions},o);var ee=ne.dimensionSelection.selectAll("g.category").data(function(ue){return ue.categories},o);Q(ne.dimensionSelection).attr("transform",function(ue){return v(ue.x,0)}),Q(ee).attr("transform",function(ue){return v(0,ue.y)}),ee.select(".dimlabel").text(function(ue,he){return 0===he?ue.parcatsViewModel.model.dimensions[ue.model.dimensionInd].dimensionLabel:null}),ee.select(".catlabel").attr("text-anchor",function(ue){return l(ue)?"start":"end"}).attr("x",function(ue){return l(ue)?ue.width+5:-5}).each(function(ue){var he,ve;l(ue)?(he=ue.width+5,ve="start"):(he=-5,ve="end"),D.select(this).selectAll("tspan").attr("x",he).attr("text-anchor",ve)});var oe=ee.selectAll("rect.bandrect").data(function(ue){return ue.bands},o),ce=oe.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ue){return ue.color}).attr("fill-opacity",0);oe.attr("fill",function(ue){return ue.color}).attr("width",function(ue){return ue.width}).attr("height",function(ue){return ue.height}).attr("y",function(ue){return ue.y}),w(ce),oe.each(function(){M.raiseToTop(this)}),oe.exit().remove()}function G(ne,re,Q){var ee,oe=Q[0],ce=re.margin||{l:80,r:80,t:100,b:80},ue=oe.trace,he=ue.domain,ve=re.width,ke=re.height,Ie=Math.floor(ve*(he.x[1]-he.x[0])),Me=Math.floor(ke*(he.y[1]-he.y[0])),_e=he.x[0]*ve+ce.l,we=re.height-he.y[1]*re.height+ce.t,ze=ue.line.shape;ee="all"===ue.hoverinfo?["count","probability"]:(ue.hoverinfo||"").split("+");var Ee={trace:ue,key:ue.uid,model:oe,x:_e,y:we,width:Ie,height:Me,hoveron:ue.hoveron,hoverinfoItems:ee,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:ze,dragDimension:null,margin:ce,paths:[],dimensions:[],graphDiv:ne,traceSelection:null,pathSelection:null,dimensionSelection:null};return oe.dimensions&&($(Ee),Z(Ee)),Ee}function H(ne,re,Q,ee,oe){var ce,ue,he=[],ve=[];for(ue=0;ue<Q.length-1;ue++)ce=E(Q[ue]+ne[ue],ne[ue+1]),he.push(ce(oe)),ve.push(ce(1-oe));var ke="M "+ne[0]+","+re[0];for(ke+="l"+Q[0]+",0 ",ue=1;ue<Q.length;ue++)ke+="C"+he[ue-1]+","+re[ue-1]+" "+ve[ue-1]+","+re[ue]+" "+ne[ue]+","+re[ue],ke+="l"+Q[ue]+",0 ";for(ke+="l0,"+ee+" ",ke+="l -"+Q[Q.length-1]+",0 ",ue=Q.length-2;ue>=0;ue--)ke+="C"+ve[ue]+","+(re[ue+1]+ee)+" "+he[ue]+","+(re[ue]+ee)+" "+(ne[ue]+Q[ue])+","+(re[ue]+ee),ke+="l-"+Q[ue]+",0 ";return ke+"Z"}function Z(ne){var re=ne.dimensions,Q=ne.model,ee=re.map(function(qe){return qe.categories.map(function(He){return He.y})}),oe=ne.model.dimensions.map(function(qe){return qe.categories.map(function(He){return He.displayInd})}),ce=ne.model.dimensions.map(function(qe){return qe.displayInd}),ue=ne.dimensions.map(function(qe){return qe.model.dimensionInd}),he=re.map(function(qe){return qe.x}),ve=re.map(function(qe){return qe.width}),ke=[];for(var Ie in Q.paths)Q.paths.hasOwnProperty(Ie)&&ke.push(Q.paths[Ie]);function Me(qe){var He=qe.categoryInds.map(function(Je,et){return oe[et][Je]});return ue.map(function(Je){return He[Je]})}ke.sort(function(qe,He){var Je=Me(qe),et=Me(He);return"backward"===ne.sortpaths&&(Je.reverse(),et.reverse()),Je.push(qe.valueInds[0]),et.push(He.valueInds[0]),ne.bundlecolors&&(Je.unshift(qe.rawColor),et.unshift(He.rawColor)),Je<et?-1:Je>et?1:0});for(var _e=new Array(ke.length),we=re[0].model.count,ze=re[0].categories.map(function(qe){return qe.height}).reduce(function(qe,He){return qe+He}),Ee=0;Ee<ke.length;Ee++){var Se,me=ke[Ee];Se=we>0?ze*(me.count/we):0;for(var fe,le=new Array(ee.length),Te=0;Te<me.categoryInds.length;Te++){var De=oe[Te][me.categoryInds[Te]],Ue=ce[Te];le[Ue]=ee[Ue][De],ee[Ue][De]+=Se;var Ze=ne.dimensions[Ue].categories[De],xe=Ze.bands.length,Oe=Ze.bands[xe-1];if(void 0===Oe||me.rawColor!==Oe.rawColor){var Ce=void 0===Oe?0:Oe.y+Oe.height;Ze.bands.push({key:Ce,color:me.color,rawColor:me.rawColor,height:Se,width:Ze.width,count:me.count,y:Ce,categoryViewModel:Ze,parcatsViewModel:ne})}else{var Be=Ze.bands[xe-1];Be.height+=Se,Be.count+=me.count}}fe=H(he,le,ve,Se,"hspline"===ne.pathShape?.5:0),_e[Ee]={key:me.valueInds[0],model:me,height:Se,leftXs:he,topYs:le,dimWidths:ve,svgD:fe,parcatsViewModel:ne}}ne.paths=_e}function $(ne){var re=ne.model.dimensions.map(function(ue){return{displayInd:ue.displayInd,dimensionInd:ue.dimensionInd}});re.sort(function(ue,he){return ue.displayInd-he.displayInd});var Q=[];for(var ee in re)Q.push(se(ne,ne.model.dimensions[re[ee].dimensionInd]));ne.dimensions=Q}function se(ne,re){var Q,ee=ne.model.dimensions.length;Q=40+(ee>1?(ne.width-80-16)/(ee-1):0)*re.displayInd;var ce,ue,he,ke,Ie=[],Me=ne.model.maxCats,_e=re.categories.length,we=re.count,ze=ne.height-8*(Me-1),Ee=8*(Me-_e)/2,Se=re.categories.map(function(me){return{displayInd:me.displayInd,categoryInd:me.categoryInd}});for(Se.sort(function(me,fe){return me.displayInd-fe.displayInd}),ke=0;ke<_e;ke++)he={key:(ue=re.categories[Se[ke].categoryInd]).valueInds[0],model:ue,width:16,height:ce=we>0?ue.count/we*ze:0,y:null!==ue.dragY?ue.dragY:Ee,bands:[],parcatsViewModel:ne},Ee=Ee+ce+8,Ie.push(he);return{key:re.dimensionInd,x:null!==re.dragX?re.dragX:Q,y:0,width:16,model:re,categories:Ie,parcatsViewModel:ne,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}ae.exports=function(ne,re,Q,ee){a(Q,ne,ee,re)}},45784:function(ae,B,r){"use strict";var D=r(45460);ae.exports=function(E,d,S,M){var v=E._fullLayout,i=v._size;D(E,v._paper,d,{width:i.w,height:i.h,margin:{t:i.t,r:i.r,b:i.b,l:i.l}},S,M)}},73362:function(ae,B,r){"use strict";var D=r(50693),E=r(13838),d=r(41940),S=r(27670).Y,M=r(1426).extendFlat,v=r(44467).templatedArray;ae.exports={domain:S({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:d({editType:"plot"}),tickfont:d({editType:"plot"}),rangefont:d({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:M({},E.tickvals,{editType:"plot"}),ticktext:M({},E.ticktext,{editType:"plot"}),tickformat:M({},E.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:M({editType:"calc"},D("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(ae,B,r){"use strict";var D=r(25706),E=r(39898),d=r(28984).keyFun,S=r(28984).repeat,M=r(71828).sorterAsc,v=r(71828).strTranslate,u=D.bar.snapRatio;function i(k,L){return k*(1-u)+L*u}var s=D.bar.snapClose;function a(k,L){return k*(1-s)+L*s}function o(k,L,O,P){if(function(se,ne){for(var re=0;re<ne.length;re++)if(se>=ne[re][0]&&se<=ne[re][1])return!0;return!1}(O,P))return O;var F=k?-1:1,j=0,X=L.length-1;if(F<0){var N=j;j=X,X=N}for(var q=L[j],G=q,H=j;F*H<F*X;H+=F){var Z=H+F,$=L[Z];if(F*O<F*a(q,$))return i(q,G);if(F*O<F*$||Z===X)return i($,q);G=q,q=$}}function l(k){k.attr("x",-D.bar.captureWidth/2).attr("width",D.bar.captureWidth)}function c(k){k.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function f(k){if(!k.brush.filterSpecified)return"0,"+k.height;for(var L,O,P,F=g(k.brush.filter.getConsolidated(),k.height),j=[0],X=F.length?F[0][0]:null,N=0;N<F.length;N++)O=(L=F[N])[1]-L[0],j.push(X),j.push(O),(P=N+1)<F.length&&(X=F[P][0]-L[1]);return j.push(k.height),j}function g(k,L){return k.map(function(O){return O.map(function(P){return Math.max(0,P*L)}).sort(M)})}function h(){E.select(document.body).style("cursor",null)}function T(k){k.attr("stroke-dasharray",f)}function x(k,L){var O=E.select(k).selectAll(".highlight, .highlight-shadow");T(L?O.transition().duration(D.bar.snapDuration).each("end",L):O)}function m(k,L){var O,P=k.brush,F=NaN,j={};if(P.filterSpecified){var X=k.height,N=P.filter.getConsolidated(),q=g(N,X),G=NaN,H=NaN,Z=NaN;for(O=0;O<=q.length;O++){var $=q[O];if($&&$[0]<=L&&L<=$[1]){G=O;break}if(H=O?O-1:NaN,$&&$[0]>L){Z=O;break}}if(F=G,isNaN(F)&&(F=isNaN(H)||isNaN(Z)?isNaN(H)?Z:H:L-q[H][1]<q[Z][0]-L?H:Z),!isNaN(F)){var se=q[F],ne=function(oe,ce){var ue=D.bar.handleHeight;if(!(ce>oe[1]+ue||ce<oe[0]-ue))return ce>=.9*oe[1]+.1*oe[0]?"n":ce<=.9*oe[0]+.1*oe[1]?"s":"ns"}(se,L);ne&&(j.interval=N[F],j.intervalPix=se,j.region=ne)}}if(k.ordinal&&!j.region){var re=k.unitTickvals,Q=k.unitToPaddedPx.invert(L);for(O=0;O<re.length;O++){var ee=[.25*re[Math.max(O-1,0)]+.75*re[O],.25*re[Math.min(O+1,re.length-1)]+.75*re[O]];if(Q>=ee[0]&&Q<=ee[1]){j.clickableOrdinalRange=ee;break}}}return j}function b(k,L){E.event.sourceEvent.stopPropagation();var O=L.height-E.mouse(k)[1]-2*D.verticalPadding,P=L.brush.svgBrush;P.wasDragged=!0,P._dragging=!0,P.newExtent=P.grabbingBar?[O-P.grabPoint,O+P.barLength-P.grabPoint].map(L.unitToPaddedPx.invert):[P.startExtent,L.unitToPaddedPx.invert(O)].sort(M),L.brush.filterSpecified=!0,P.extent=P.stayingIntervals.concat([P.newExtent]),P.brushCallback(L),x(k.parentNode)}function _(k,L){var O=m(L,L.height-E.mouse(k)[1]-2*D.verticalPadding),P="crosshair";O.clickableOrdinalRange?P="pointer":O.region&&(P=O.region+"-resize"),E.select(document.body).style("cursor",P)}function w(k){k.on("mousemove",function(L){E.event.preventDefault(),L.parent.inBrushDrag||_(this,L)}).on("mouseleave",function(L){L.parent.inBrushDrag||h()}).call(E.behavior.drag().on("dragstart",function(L){!function(O,P){E.event.sourceEvent.stopPropagation();var F=P.height-E.mouse(O)[1]-2*D.verticalPadding,j=P.unitToPaddedPx.invert(F),X=P.brush,N=m(P,F),q=N.interval,G=X.svgBrush;if(G.wasDragged=!1,G.grabbingBar="ns"===N.region,G.grabbingBar){var H=q.map(P.unitToPaddedPx);G.grabPoint=F-H[0]-D.verticalPadding,G.barLength=H[1]-H[0]}G.clickableOrdinalRange=N.clickableOrdinalRange,G.stayingIntervals=P.multiselect&&X.filterSpecified?X.filter.getConsolidated():[],q&&(G.stayingIntervals=G.stayingIntervals.filter(function(Z){return Z[0]!==q[0]&&Z[1]!==q[1]})),G.startExtent=N.region?q["s"===N.region?1:0]:j,P.parent.inBrushDrag=!0,G.brushStartCallback()}(this,L)}).on("drag",function(L){b(this,L)}).on("dragend",function(L){!function(O,P){var F=P.brush,j=F.filter,X=F.svgBrush;X._dragging||(_(O,P),b(O,P),P.brush.svgBrush.wasDragged=!1),X._dragging=!1,E.event.sourceEvent.stopPropagation();var N=X.grabbingBar;if(X.grabbingBar=!1,X.grabLocation=void 0,P.parent.inBrushDrag=!1,h(),!X.wasDragged)return X.wasDragged=void 0,X.clickableOrdinalRange?F.filterSpecified&&P.multiselect?X.extent.push(X.clickableOrdinalRange):(X.extent=[X.clickableOrdinalRange],F.filterSpecified=!0):N?(X.extent=X.stayingIntervals,0===X.extent.length&&p(F)):p(F),X.brushCallback(P),x(O.parentNode),void X.brushEndCallback(F.filterSpecified?j.getConsolidated():[]);var q=function(){j.set(j.getConsolidated())};if(P.ordinal){var G=P.unitTickvals;G[G.length-1]<G[0]&&G.reverse(),X.newExtent=[o(0,G,X.newExtent[0],X.stayingIntervals),o(1,G,X.newExtent[1],X.stayingIntervals)];var H=X.newExtent[1]>X.newExtent[0];X.extent=X.stayingIntervals.concat(H?[X.newExtent]:[]),X.extent.length||p(F),X.brushCallback(P),H?x(O.parentNode,q):(q(),x(O.parentNode))}else q();X.brushEndCallback(F.filterSpecified?j.getConsolidated():[])}(this,L)}))}function A(k,L){return k[0]-L[0]}function p(k){k.filterSpecified=!1,k.svgBrush.extent=[[-1/0,1/0]]}function I(k){for(var L,O=k.slice(),P=[],F=O.shift();F;){for(L=F.slice();(F=O.shift())&&F[0]<=L[1];)L[1]=Math.max(L[1],F[1]);P.push(L)}return 1===P.length&&P[0][0]>P[0][1]&&(P=[]),P}ae.exports={makeBrush:function(k,L,O,P,F,j){var X,q,G,H,N=(H=[],{set:function(Z){1===(H=Z.map(function($){return $.slice().sort(M)}).sort(A)).length&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),q=I(H),G=H.reduce(function($,se){return[Math.min($[0],se[0]),Math.max($[1],se[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return q},getBounds:function(){return G}});return N.set(O),{filter:N,filterSpecified:L,svgBrush:{extent:[],brushStartCallback:P,brushCallback:(X=F,function(q){var G=q.brush,Z=G.svgBrush.extent.map(function(se){return se.slice()}).slice();G.filter.set(Z),X()}),brushEndCallback:j}}},ensureAxisBrush:function(k,L,O){var P=k.selectAll("."+D.cn.axisBrush).data(S,d);P.enter().append("g").classed(D.cn.axisBrush,!0),function(F,j,X){var N=X._context.staticPlot,q=F.selectAll(".background").data(S);q.enter().append("rect").classed("background",!0).call(l).call(c).style("pointer-events",N?"none":"auto").attr("transform",v(0,D.verticalPadding)),q.call(w).attr("height",function(Z){return Z.height-D.verticalPadding});var G=F.selectAll(".highlight-shadow").data(S);G.enter().append("line").classed("highlight-shadow",!0).attr("x",-D.bar.width/2).attr("stroke-width",D.bar.width+D.bar.strokeWidth).attr("stroke",j).attr("opacity",D.bar.strokeOpacity).attr("stroke-linecap","butt"),G.attr("y1",function(Z){return Z.height}).call(T);var H=F.selectAll(".highlight").data(S);H.enter().append("line").classed("highlight",!0).attr("x",-D.bar.width/2).attr("stroke-width",D.bar.width-D.bar.strokeWidth).attr("stroke",D.bar.fillColor).attr("opacity",D.bar.fillOpacity).attr("stroke-linecap","butt"),H.attr("y1",function(Z){return Z.height}).call(T)}(P,L,O)},cleanRanges:function(k,L){if(Array.isArray(k[0])?(k=k.map(function(P){return P.sort(M)}),k=L.multiselect?I(k.sort(A)):[k[0]]):k=[k.sort(M)],L.tickvals){var O=L.tickvals.slice().sort(M);if(!(k=k.map(function(P){var F=[o(0,O,P[0],[]),o(1,O,P[1],[])];if(F[1]>F[0])return F}).filter(function(P){return P})).length)return}return k.length>1?k:k[0]}}},71791:function(ae,B,r){"use strict";ae.exports={attributes:r(73362),supplyDefaults:r(3633),calc:r(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:r(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(ae,B,r){"use strict";var D=r(39898),E=r(27659).a0,d=r(21341),S=r(77922);B.name="parcoords",B.plot=function(M){var v=E(M.calcdata,"parcoords")[0];v.length&&d(M,v)},B.clean=function(M,v,u,i){var s=i._has&&i._has("parcoords"),a=v._has&&v._has("parcoords");s&&!a&&(i._paperdiv.selectAll(".parcoords").remove(),i._glimages.selectAll("*").remove())},B.toSVG=function(M){var v=M._fullLayout._glimages,u=D.select(M).selectAll(".svg-container");u.filter(function(i,s){return s===u.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var i=this,s=i.toDataURL("image/png");v.append("svg:image").attr({xmlns:S.svg,"xlink:href":s,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}),window.setTimeout(function(){D.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray,E=r(21081),d=r(28984).wrap;ae.exports=function(S,M){var v,u;return E.hasColorscale(M,"line")&&D(M.line.color)?(v=M.line.color,u=E.extractOpts(M.line).colorscale,E.calc(S,M,{vals:v,containerStr:"line",cLetter:"c"})):(v=function(i){for(var s=new Array(i),a=0;a<i;a++)s[a]=.5;return s}(M._length),u=[[0,M.line.color],[1,M.line.color]]),d({lineColor:v,cscale:u})}},25706:function(ae){"use strict";ae.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(ae,B,r){"use strict";var D=r(71828),E=r(52075).hasColorscale,d=r(1586),S=r(27670).c,M=r(85501),v=r(89298),u=r(73362),i=r(57920),s=r(25706).maxDimensionCount,a=r(94397);function o(l,c,f,g){function h(_,w){return D.coerce(l,c,u.dimensions,_,w)}var T=h("values"),x=h("visible");if(T&&T.length||(x=c.visible=!1),x){h("label"),h("tickvals"),h("ticktext"),h("tickformat");var m=h("range");c._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:m},v.setConvert(c._ax,g.layout),h("multiselect");var b=h("constraintrange");b&&(c.constraintrange=i.cleanRanges(b,c))}}ae.exports=function(l,c,f,g){function h(_,w){return D.coerce(l,c,u,_,w)}var T=l.dimensions;Array.isArray(T)&&T.length>s&&(D.log("parcoords traces support up to "+s+" dimensions at the moment"),T.splice(s));var x=M(l,c,{name:"dimensions",layout:g,handleItemDefaults:o}),m=function(_,w,A,p,I){var k=I("line.color",A);if(E(_,"line")&&D.isArrayOrTypedArray(k)){if(k.length)return I("line.colorscale"),d(_,w,p,I,{prefix:"line.",cLetter:"c"}),k.length;w.line.color=A}return 1/0}(l,c,f,g,h);S(c,g,h),Array.isArray(x)&&x.length||(c.visible=!1),a(c,x,"values",m);var b={family:g.font.family,size:Math.round(g.font.size/1.2),color:g.font.color};D.coerceFont(h,"labelfont",b),D.coerceFont(h,"tickfont",b),D.coerceFont(h,"rangefont",b),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(ae,B,r){"use strict";var D=r(71828).isTypedArray;B.convertTypedArray=function(E){return D(E)?Array.prototype.slice.call(E):E},B.isOrdinal=function(E){return!!E.tickvals},B.isVisible=function(E){return E.visible||!("visible"in E)}},67618:function(ae,B,r){"use strict";var D=r(71791);D.plot=r(21341),ae.exports=D},83398:function(ae,B,r){"use strict";var D=r(56068),E=D(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nattribute vec4 p01_04, p05_08, p09_12, p13_16,\n               p17_20, p21_24, p25_28, p29_32,\n               p33_36, p37_40, p41_44, p45_48,\n               p49_52, p53_56, p57_60, colors;\n\nuniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,\n             loA, hiA, loB, hiB, loC, hiC, loD, hiD;\n\nuniform vec2 resolution, viewBoxPos, viewBoxSize;\nuniform float maskHeight;\nuniform float drwLayer; // 0: context, 1: focus, 2: pick\nuniform vec4 contextColor;\nuniform sampler2D maskTexture, palette;\n\nbool isPick    = (drwLayer > 1.5);\nbool isContext = (drwLayer < 0.5);\n\nconst vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);\nconst vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);\n\nfloat val(mat4 p, mat4 v) {\n    return dot(matrixCompMult(p, v) * UNITS, UNITS);\n}\n\nfloat axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);\n    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);\n    return y1 * (1.0 - ratio) + y2 * ratio;\n}\n\nint iMod(int a, int b) {\n    return a - b * (a / b);\n}\n\nbool fOutside(float p, float lo, float hi) {\n    return (lo < hi) && (lo > p || p > hi);\n}\n\nbool vOutside(vec4 p, vec4 lo, vec4 hi) {\n    return (\n        fOutside(p[0], lo[0], hi[0]) ||\n        fOutside(p[1], lo[1], hi[1]) ||\n        fOutside(p[2], lo[2], hi[2]) ||\n        fOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool mOutside(mat4 p, mat4 lo, mat4 hi) {\n    return (\n        vOutside(p[0], lo[0], hi[0]) ||\n        vOutside(p[1], lo[1], hi[1]) ||\n        vOutside(p[2], lo[2], hi[2]) ||\n        vOutside(p[3], lo[3], hi[3])\n    );\n}\n\nbool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {\n    return mOutside(A, loA, hiA) ||\n           mOutside(B, loB, hiB) ||\n           mOutside(C, loC, hiC) ||\n           mOutside(D, loD, hiD);\n}\n\nbool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {\n    mat4 pnts[4];\n    pnts[0] = A;\n    pnts[1] = B;\n    pnts[2] = C;\n    pnts[3] = D;\n\n    for(int i = 0; i < 4; ++i) {\n        for(int j = 0; j < 4; ++j) {\n            for(int k = 0; k < 4; ++k) {\n                if(0 == iMod(\n                    int(255.0 * texture2D(maskTexture,\n                        vec2(\n                            (float(i * 2 + j / 2) + 0.5) / 8.0,\n                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight\n                        ))[3]\n                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),\n                    2\n                )) return true;\n            }\n        }\n    }\n    return false;\n}\n\nvec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {\n    float x = 0.5 * sign(v) + 0.5;\n    float y = axisY(x, A, B, C, D);\n    float z = 1.0 - abs(v);\n\n    z += isContext ? 0.0 : 2.0 * float(\n        outsideBoundingBox(A, B, C, D) ||\n        outsideRasterMask(A, B, C, D)\n    );\n\n    return vec4(\n        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,\n        z,\n        1.0\n    );\n}\n\nvoid main() {\n    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);\n    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);\n    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);\n    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);\n\n    float v = colors[3];\n\n    gl_Position = position(isContext, v, A, B, C, D);\n\n    fragColor =\n        isContext ? vec4(contextColor) :\n        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));\n}\n"]),d=D(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n    gl_FragColor = fragColor;\n}\n"]),S=r(25706).maxDimensionCount,M=r(71828),v=1e-6,u=new Uint8Array(4),i=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(m,b,_,w,A){var p=m._gl;p.enable(p.SCISSOR_TEST),p.scissor(b,_,w,A),m.clear({color:[0,0,0,0],depth:1})}function o(m,b,_,w,A,p){var I=p.key;_.drawCompleted||(m.read({x:0,y:0,width:1,height:1,data:u}),_.drawCompleted=!0),function k(L){var O=Math.min(w,A-L*w);0===L&&(window.cancelAnimationFrame(_.currentRafs[I]),delete _.currentRafs[I],a(m,p.scissorX,p.scissorY,p.scissorWidth,p.viewBoxSize[1])),_.clearOnly||(p.count=2*O,p.offset=2*L*w,b(p),L*w+O<A&&(_.currentRafs[I]=window.requestAnimationFrame(function(){k(L+1)})),_.drawCompleted=!1)}(0)}function l(m,b){for(var _=new Array(256),w=0;w<256;w++)_[w]=m(w/255).concat(b);return _}function c(m,b){return(m>>>8*b)%256/255}function f(m,b,_){for(var w=new Array(8*b),A=0,p=0;p<b;p++)for(var I=0;I<2;I++)for(var k=0;k<4;k++){var L=4*m+k,O=_[64*p+L];63===L&&0===I&&(O*=-1),w[A++]=O}return w}function g(m){var b="0"+m;return b.substr(b.length-2)}function h(m){return m<S?"p"+g(m+1)+"_"+g(m+4):"colors"}function T(m,b,_,w,A,p,I,k,L,O,P,F,j,X){for(var N=[[],[]],q=0;q<64;q++)N[0][q]=q===A?1:0,N[1][q]=q===p?1:0;var G=m.lines.canvasOverdrag*X,H=m.domain,Z=m.canvasWidth*X,$=m.canvasHeight*X,se=m.pad.l*X,ne=m.pad.b*X,re=m.layoutHeight*X,Q=m.layoutWidth*X,ee=m.deselectedLines.color,oe=m.deselectedLines.opacity;return M.extendFlat({key:P,resolution:[Z,$],viewBoxPos:[(I*=X)+G,k*=X],viewBoxSize:[L*=X,O*=X],i0:A,i1:p,dim0A:N[0].slice(0,16),dim0B:N[0].slice(16,32),dim0C:N[0].slice(32,48),dim0D:N[0].slice(48,64),dim1A:N[1].slice(0,16),dim1B:N[1].slice(16,32),dim1C:N[1].slice(32,48),dim1D:N[1].slice(48,64),drwLayer:F,contextColor:[ee[0]/255,ee[1]/255,ee[2]/255,"auto"!==oe?ee[3]*oe:Math.max(.00392156862745098,Math.pow(1/m.lines.color.length,.3333333333333333))],scissorX:(w===b?0:I+G)+(se-G)+Q*H.x[0],scissorWidth:(w===_?Z-I+G:L+.5)+(w===b?I+G:0),scissorY:k+ne+re*H.y[0],scissorHeight:O,viewportX:se-G+Q*H.x[0],viewportY:ne+re*H.y[0],viewportWidth:Z,viewportHeight:$},j)}function x(m){var b=2047,_=Math.max(0,Math.floor(m[0]*b),0),w=Math.min(b,Math.ceil(m[1]*b),b);return[Math.min(_,w),Math.max(_,w)]}ae.exports=function(m,b){var _,A,p,I,k=b.context,L=b.pick,O=b.regl,P=O._gl,F=P.getParameter(P.ALIASED_LINE_WIDTH_RANGE),j=Math.max(F[0],Math.min(F[1],b.viewModel.plotGlPixelRatio)),X={currentRafs:{},drawCompleted:!0,clearOnly:!1},N=function($){for(var se={},ne=0;ne<=S;ne+=4)se[h(ne)]=$.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return se}(O),q=O.texture(s),G=[];Z(b);var H=O({profile:!1,blend:{enable:k,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!k,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:O.prop("scissorX"),y:O.prop("scissorY"),width:O.prop("scissorWidth"),height:O.prop("scissorHeight")}},viewport:{x:O.prop("viewportX"),y:O.prop("viewportY"),width:O.prop("viewportWidth"),height:O.prop("viewportHeight")},dither:!1,vert:E,frag:d,primitive:"lines",lineWidth:j,attributes:N,uniforms:{resolution:O.prop("resolution"),viewBoxPos:O.prop("viewBoxPos"),viewBoxSize:O.prop("viewBoxSize"),dim0A:O.prop("dim0A"),dim1A:O.prop("dim1A"),dim0B:O.prop("dim0B"),dim1B:O.prop("dim1B"),dim0C:O.prop("dim0C"),dim1C:O.prop("dim1C"),dim0D:O.prop("dim0D"),dim1D:O.prop("dim1D"),loA:O.prop("loA"),hiA:O.prop("hiA"),loB:O.prop("loB"),hiB:O.prop("hiB"),loC:O.prop("loC"),hiC:O.prop("hiC"),loD:O.prop("loD"),hiD:O.prop("hiD"),palette:q,contextColor:O.prop("contextColor"),maskTexture:O.prop("maskTexture"),drwLayer:O.prop("drwLayer"),maskHeight:O.prop("maskHeight")},offset:O.prop("offset"),count:O.prop("count")});function Z($){_=$.model,A=$.viewModel.dimensions.slice(),p=A[0]?A[0].values.length:0;var se=_.lines,ne=L?se.color.map(function(Q,ee){return ee/se.color.length}):se.color,re=function(Q,ee,oe){for(var ue=new Array(Q*(S+4)),he=0,ve=0;ve<Q;ve++){for(var ke=0;ke<S;ke++)ue[he++]=ke<ee.length?ee[ke].paddedUnitValues[ve]:.5;ue[he++]=c(ve,2),ue[he++]=c(ve,1),ue[he++]=c(ve,0),ue[he++]=Math.max(v,Math.min(.999999,oe[ve]))}return ue}(p,A,ne);(function(Q,ee,oe){for(var ce=0;ce<=S;ce+=4)Q[h(ce)](f(ce/4,ee,oe))})(N,p,re),k||L||(q=O.texture(M.extendFlat({data:l(_.unitToColor,255)},s)))}return{render:function($,se,ne){var re,Q,ee,oe=$.length,ce=1/0,ue=-1/0;for(re=0;re<oe;re++)$[re].dim0.canvasX<ce&&(ce=$[re].dim0.canvasX,Q=re),$[re].dim1.canvasX>ue&&(ue=$[re].dim1.canvasX,ee=re);0===oe&&a(O,0,0,_.canvasWidth,_.canvasHeight);var he=function(me){var fe,le,Te,Re=[[],[]];for(Te=0;Te<64;Te++){var De=!me&&Te<A.length?A[Te].brush.filter.getBounds():[-1/0,1/0];Re[0][Te]=De[0],Re[1][Te]=De[1]}var Ue=new Array(16384);for(fe=0;fe<16384;fe++)Ue[fe]=255;if(!me)for(fe=0;fe<A.length;fe++){var Ze=fe%8,xe=(fe-Ze)/8,Oe=Math.pow(2,Ze),Ce=A[fe].brush.filter.get();if(!(Ce.length<2)){var Be=x(Ce[0])[1];for(le=1;le<Ce.length;le++){var qe=x(Ce[le]);for(Te=Be+1;Te<qe[0];Te++)Ue[8*Te+xe]&=~Oe;Be=Math.max(Be,qe[1])}}}var He={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ue};return I?I(He):I=O.texture(He),{maskTexture:I,maskHeight:2048,loA:Re[0].slice(0,16),loB:Re[0].slice(16,32),loC:Re[0].slice(32,48),loD:Re[0].slice(48,64),hiA:Re[1].slice(0,16),hiB:Re[1].slice(16,32),hiC:Re[1].slice(32,48),hiD:Re[1].slice(48,64)}}(k);for(re=0;re<oe;re++){var ve=$[re],ke=ve.dim0.crossfilterDimensionIndex,Ie=ve.dim1.crossfilterDimensionIndex,Me=ve.canvasX,_e=ve.canvasY,we=Me+ve.panelSizeX,ze=ve.plotGlPixelRatio;if(se||!G[ke]||G[ke][0]!==Me||G[ke][1]!==we){G[ke]=[Me,we];var Ee=T(_,Q,ee,re,ke,Ie,Me,_e,ve.panelSizeX,ve.panelSizeY,ve.dim0.crossfilterDimensionIndex,k?0:L?2:1,he,ze);X.clearOnly=ne,o(O,H,X,se?_.lines.blockLineCount:p,p,Ee)}}},readPixel:function($,se){return O.read({x:$,y:se,width:1,height:1,data:i}),i},readPixels:function($,se,ne,re){var Q=new Uint8Array(4*ne*re);return O.read({x:$,y:se,width:ne,height:re,data:Q}),Q},destroy:function(){for(var $ in m.style["pointer-events"]="none",q.destroy(),I&&I.destroy(),N)N[$].destroy()},update:Z}}},94397:function(ae){"use strict";ae.exports=function(B,r,D,E){var d,S;for(E||(E=1/0),d=0;d<r.length;d++)(S=r[d]).visible&&(E=Math.min(E,S[D].length));for(E===1/0&&(E=0),B._length=E,d=0;d<r.length;d++)(S=r[d]).visible&&(S._length=E);return E}},17171:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=E.numberFormat,S=r(36652),M=r(89298),v=E.strRotate,u=E.strTranslate,i=r(63893),s=r(91424),a=r(21081),o=r(28984),l=o.keyFun,c=o.repeat,f=o.unwrap,g=r(1602),h=r(25706),T=r(57920),x=r(83398);function m(q,G,H){return E.aggNums(q,null,G,H)}function b(q,G){return w(m(Math.min,q,G),m(Math.max,q,G))}function _(q){var G=q.range;return G?w(G[0],G[1]):b(q.values,q._length)}function w(q,G){return!isNaN(q)&&isFinite(q)||(q=0),!isNaN(G)&&isFinite(G)||(G=0),q===G&&(0===q?(q-=1,G+=1):(q*=.9,G*=1.1)),[q,G]}function A(q,G,H,Z,$){var se,ne,re=_(H);return Z?D.scale.ordinal().domain(Z.map((se=d(H.tickformat),ne=$,ne?function(Q,ee){return ne[ee]??se(Q)}:se))).range(Z.map(function(Q){return q-G+(Q-re[0])/(re[1]-re[0])*(2*G-q)})):D.scale.linear().domain(re).range([q-G,G])}function p(q){if(q.tickvals){var G=_(q);return D.scale.ordinal().domain(q.tickvals).range(q.tickvals.map(function(H){return(H-G[0])/(G[1]-G[0])}))}}function I(q){var G=q.map(function($){return $[0]}),H=q.map(function($){var se=S($[1]);return D.rgb("rgb("+se[0]+","+se[1]+","+se[2]+")")}),Z="rgb".split("").map(function($){return D.scale.linear().clamp(!0).domain(G).range(H.map((se=$,function(ne){return ne[se]})));var se});return function($){return Z.map(function(se){return se($)})}}function k(q){return q.dimensions.some(function(G){return G.brush.filterSpecified})}function L(q,G,H){var Z=f(G),$=Z.trace,se=g.convertTypedArray(Z.lineColor),ne=$.line,re={color:S($.unselected.line.color),opacity:$.unselected.line.opacity},Q=a.extractOpts(ne),ee=Q.reversescale?a.flipScale(Z.cscale):Z.cscale,oe=$.domain,ce=$.dimensions,ue=q.width,he=$.labelangle,ve=$.labelside,ke=$.labelfont,Ie=$.tickfont,Me=$.rangefont,_e=E.extendDeepNoArrays({},ne,{color:se.map(D.scale.linear().domain(_({values:se,range:[Q.min,Q.max],_length:$._length}))),blockLineCount:h.blockLineCount,canvasOverdrag:h.overdrag*h.canvasPixelRatio}),we=Math.floor(ue*(oe.x[1]-oe.x[0])),ze=Math.floor(q.height*(oe.y[1]-oe.y[0])),Ee=q.margin||{l:80,r:80,t:100,b:80},Se=we,me=ze;return{key:H,colCount:ce.filter(g.isVisible).length,dimensions:ce,tickDistance:h.tickDistance,unitToColor:I(ee),lines:_e,deselectedLines:re,labelAngle:he,labelSide:ve,labelFont:ke,tickFont:Ie,rangeFont:Me,layoutWidth:ue,layoutHeight:q.height,domain:oe,translateX:oe.x[0]*ue,translateY:q.height-oe.y[1]*q.height,pad:Ee,canvasWidth:Se*h.canvasPixelRatio+2*_e.canvasOverdrag,canvasHeight:me*h.canvasPixelRatio,width:Se,height:me,canvasPixelRatio:h.canvasPixelRatio}}function O(q,G,H){var ue,he,Z=H.width,$=H.height,se=H.dimensions,ne=H.canvasPixelRatio,re=function(ue){return Z*ue/Math.max(1,H.colCount-1)},Q=h.verticalPadding/$,ee=(ue=$,he=h.verticalPadding,D.scale.linear().range([he,ue-he])),oe={key:H.key,xScale:re,model:H,inBrushDrag:!1},ce={};return oe.dimensions=se.filter(g.isVisible).map(function(ue,he){var De,Ue,ve=(De=ue,Ue=Q,D.scale.linear().domain(_(De)).range([Ue,1-Ue])),ke=ce[ue.label];ce[ue.label]=(ke||0)+1;var Ie=ue.label+(ke?"__"+ke:""),Me=ue.constraintrange,_e=Me&&Me.length;_e&&!Array.isArray(Me[0])&&(Me=[Me]);var we=_e?Me.map(function(De){return De.map(ve)}):[[-1/0,1/0]],ze=ue.values;ze.length>ue._length&&(ze=ze.slice(0,ue._length));var Ee,Se=ue.tickvals;function me(De,Ue){return{val:De,text:Ee[Ue]}}function fe(De,Ue){return De.val-Ue.val}if(Array.isArray(Se)&&Se.length){Ee=ue.ticktext,Array.isArray(Ee)&&Ee.length?Ee.length>Se.length?Ee=Ee.slice(0,Se.length):Se.length>Ee.length&&(Se=Se.slice(0,Ee.length)):Ee=Se.map(d(ue.tickformat));for(var le=1;le<Se.length;le++)if(Se[le]<Se[le-1]){for(var Te=Se.map(me).sort(fe),Re=0;Re<Se.length;Re++)Se[Re]=Te[Re].val,Ee[Re]=Te[Re].text;break}}else Se=void 0;return ze=g.convertTypedArray(ze),{key:Ie,label:ue.label,tickFormat:ue.tickformat,tickvals:Se,ticktext:Ee,ordinal:g.isOrdinal(ue),multiselect:ue.multiselect,xIndex:he,crossfilterDimensionIndex:he,visibleIndex:ue._index,height:$,values:ze,paddedUnitValues:ze.map(ve),unitTickvals:Se&&Se.map(ve),xScale:re,x:re(he),canvasX:re(he)*ne,unitToPaddedPx:ee,domainScale:A($,h.verticalPadding,ue,Se,Ee),ordinalScale:p(ue),parent:oe,model:H,brush:T.makeBrush(q,_e,we,function(){q.linePickActive(!1)},function(){var De=oe;De.focusLayer&&De.focusLayer.render(De.panels,!0);var Ue=k(De);!q.contextShown()&&Ue?(De.contextLayer&&De.contextLayer.render(De.panels,!0),q.contextShown(!0)):q.contextShown()&&!Ue&&(De.contextLayer&&De.contextLayer.render(De.panels,!0,!0),q.contextShown(!1))},function(De){if(oe.focusLayer.render(oe.panels,!0),oe.pickLayer&&oe.pickLayer.render(oe.panels,!0),q.linePickActive(!0),G&&G.filterChanged){var Ue=ve.invert,Ze=De.map(function(xe){return xe.map(Ue).sort(E.sorterAsc)}).sort(function(xe,Oe){return xe[0]-Oe[0]});G.filterChanged(oe.key,ue._index,Ze)}})}}),oe}function P(q){q.classed(h.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function F(q,G){var Z=q*Math.PI/180;return{dir:"top"===G?1:-1,dx:Math.sin(Z),dy:Math.cos(Z),degrees:q}}function j(q,G,H){for(var Z=G.panels||(G.panels=[]),$=q.data(),se=0;se<$.length-1;se++){var ne=Z[se]||(Z[se]={}),re=$[se],Q=$[se+1];ne.dim0=re,ne.dim1=Q,ne.canvasX=re.canvasX,ne.panelSizeX=Q.canvasX-re.canvasX,ne.panelSizeY=G.model.canvasHeight,ne.y=0,ne.canvasY=0,ne.plotGlPixelRatio=H}}function X(q,G){return M.tickText(q._ax,G,!1).text}function N(q,G){if(q.ordinal)return"";var H=q.domainScale.domain();return X(q.model.dimensions[q.visibleIndex],H[G?H.length-1:0])}ae.exports=function(q,G,H,Z){var $=q._context.staticPlot,se=q._fullLayout,ne=se._toppaper,re=se._glcontainer,Q=q._context.plotGlPixelRatio,ee=q._fullLayout.paper_bgcolor;!function(De){for(var Ue=0;Ue<De.length;Ue++)for(var Ze=0;Ze<De[Ue].length;Ze++)for(var xe=De[Ue][Ze].trace,Oe=xe.dimensions,Ce=0;Ce<Oe.length;Ce++){var Be=Oe[Ce].values,qe=Oe[Ce]._ax;qe&&(qe.range=qe.range?w(qe.range[0],qe.range[1]):b(Be,xe._length),qe.dtick||(qe.dtick=.01*(Math.abs(qe.range[1]-qe.range[0])||1)),qe.tickformat=Oe[Ce].tickformat,M.calcTicks(qe),qe.cleanRange())}}(G);var oe,ce,ue=(oe=!0,ce=!1,{linePickActive:function(De){return arguments.length?oe=!!De:oe},contextShown:function(De){return arguments.length?ce=!!De:ce}}),he=G.filter(function(De){return f(De).trace.visible}).map(L.bind(0,H)).map(O.bind(0,ue,Z));re.each(function(De,Ue){return E.extendFlat(De,he[Ue])});var ve=re.selectAll(".gl-canvas").each(function(De){De.viewModel=he[0],De.viewModel.plotGlPixelRatio=Q,De.viewModel.paperColor=ee,De.model=De.viewModel?De.viewModel.model:null}),ke=null;ve.filter(function(De){return De.pick}).style("pointer-events",$?"none":"auto").on("mousemove",function(De){if(ue.linePickActive()&&De.lineLayer&&Z&&Z.hover){var Ue=D.event,Ze=this.width,xe=this.height,Oe=D.mouse(this),Ce=Oe[0],Be=Oe[1];if(Ce<0||Be<0||Ce>=Ze||Be>=xe)return;var qe=De.lineLayer.readPixel(Ce,xe-1-Be),He=0!==qe[3],Je=He?qe[2]+256*(qe[1]+256*qe[0]):null,et={x:Ce,y:Be,clientX:Ue.clientX,clientY:Ue.clientY,dataIndex:De.model.key,curveNumber:Je};Je!==ke&&(He?Z.hover(et):Z.unhover&&Z.unhover(et),ke=Je)}}),ve.style("opacity",function(De){return De.pick?0:1}),ne.style("background","rgba(255, 255, 255, 0)");var Ie=ne.selectAll("."+h.cn.parcoords).data(he,l);Ie.exit().remove(),Ie.enter().append("g").classed(h.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ie.attr("transform",function(De){return u(De.model.translateX,De.model.translateY)});var Me=Ie.selectAll("."+h.cn.parcoordsControlView).data(c,l);Me.enter().append("g").classed(h.cn.parcoordsControlView,!0),Me.attr("transform",function(De){return u(De.model.pad.l,De.model.pad.t)});var _e=Me.selectAll("."+h.cn.yAxis).data(function(De){return De.dimensions},l);_e.enter().append("g").classed(h.cn.yAxis,!0),Me.each(function(De){j(_e,De,Q)}),ve.each(function(De){De.viewModel&&(!De.lineLayer||Z?De.lineLayer=x(this,De):De.lineLayer.update(De),(De.key||0===De.key)&&(De.viewModel[De.key]=De.lineLayer),De.lineLayer.render(De.viewModel.panels,!De.context||Z))}),_e.attr("transform",function(De){return u(De.xScale(De.xIndex),0)}),_e.call(D.behavior.drag().origin(function(De){return De}).on("drag",function(De){var Ue=De.parent;ue.linePickActive(!1),De.x=Math.max(-h.overdrag,Math.min(De.model.width+h.overdrag,D.event.x)),De.canvasX=De.x*De.model.canvasPixelRatio,_e.sort(function(Ze,xe){return Ze.x-xe.x}).each(function(Ze,xe){Ze.xIndex=xe,Ze.x=De===Ze?Ze.x:Ze.xScale(Ze.xIndex),Ze.canvasX=Ze.x*Ze.model.canvasPixelRatio}),j(_e,Ue,Q),_e.filter(function(Ze){return 0!==Math.abs(De.xIndex-Ze.xIndex)}).attr("transform",function(Ze){return u(Ze.xScale(Ze.xIndex),0)}),D.select(this).attr("transform",u(De.x,0)),_e.each(function(Ze,xe,Oe){Oe===De.parent.key&&(Ue.dimensions[xe]=Ze)}),Ue.contextLayer&&Ue.contextLayer.render(Ue.panels,!1,!k(Ue)),Ue.focusLayer.render&&Ue.focusLayer.render(Ue.panels)}).on("dragend",function(De){var Ue=De.parent;De.x=De.xScale(De.xIndex),De.canvasX=De.x*De.model.canvasPixelRatio,j(_e,Ue,Q),D.select(this).attr("transform",function(Ze){return u(Ze.x,0)}),Ue.contextLayer&&Ue.contextLayer.render(Ue.panels,!1,!k(Ue)),Ue.focusLayer&&Ue.focusLayer.render(Ue.panels),Ue.pickLayer&&Ue.pickLayer.render(Ue.panels,!0),ue.linePickActive(!0),Z&&Z.axesMoved&&Z.axesMoved(Ue.key,Ue.dimensions.map(function(Ze){return Ze.crossfilterDimensionIndex}))})),_e.exit().remove();var we=_e.selectAll("."+h.cn.axisOverlays).data(c,l);we.enter().append("g").classed(h.cn.axisOverlays,!0),we.selectAll("."+h.cn.axis).remove();var ze=we.selectAll("."+h.cn.axis).data(c,l);ze.enter().append("g").classed(h.cn.axis,!0),ze.each(function(De){var Ue=De.model.height/De.model.tickDistance,Ze=De.domainScale,xe=Ze.domain();D.select(this).call(D.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Ue,De.tickFormat).tickValues(De.ordinal?xe:null).tickFormat(function(Oe){return g.isOrdinal(De)?Oe:X(De.model.dimensions[De.visibleIndex],Oe)}).scale(Ze)),s.font(ze.selectAll("text"),De.model.tickFont)}),ze.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),ze.selectAll("text").style("text-shadow",i.makeTextShadow(ee)).style("cursor","default");var Ee=we.selectAll("."+h.cn.axisHeading).data(c,l);Ee.enter().append("g").classed(h.cn.axisHeading,!0);var Se=Ee.selectAll("."+h.cn.axisTitle).data(c,l);Se.enter().append("text").classed(h.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",$?"none":"auto"),Se.text(function(De){return De.label}).each(function(De){var Ue=D.select(this);s.font(Ue,De.model.labelFont),i.convertToTspans(Ue,q)}).attr("transform",function(De){var Ue=F(De.model.labelAngle,De.model.labelSide),Ze=h.axisTitleOffset;return(Ue.dir>0?"":u(0,2*Ze+De.model.height))+v(Ue.degrees)+u(-Ze*Ue.dx,-Ze*Ue.dy)}).attr("text-anchor",function(De){var Ue=F(De.model.labelAngle,De.model.labelSide);return 2*Math.abs(Ue.dx)>Math.abs(Ue.dy)?Ue.dir*Ue.dx<0?"start":"end":"middle"});var me=we.selectAll("."+h.cn.axisExtent).data(c,l);me.enter().append("g").classed(h.cn.axisExtent,!0);var fe=me.selectAll("."+h.cn.axisExtentTop).data(c,l);fe.enter().append("g").classed(h.cn.axisExtentTop,!0),fe.attr("transform",u(0,-h.axisExtentOffset));var le=fe.selectAll("."+h.cn.axisExtentTopText).data(c,l);le.enter().append("text").classed(h.cn.axisExtentTopText,!0).call(P),le.text(function(De){return N(De,!0)}).each(function(De){s.font(D.select(this),De.model.rangeFont)});var Te=me.selectAll("."+h.cn.axisExtentBottom).data(c,l);Te.enter().append("g").classed(h.cn.axisExtentBottom,!0),Te.attr("transform",function(De){return u(0,De.model.height+h.axisExtentOffset)});var Re=Te.selectAll("."+h.cn.axisExtentBottomText).data(c,l);Re.enter().append("text").classed(h.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(P),Re.text(function(De){return N(De,!1)}).each(function(De){s.font(D.select(this),De.model.rangeFont)}),T.ensureAxisBrush(we,ee,q)}},21341:function(ae,B,r){"use strict";var D=r(17171),E=r(79749),d=r(1602).isVisible,S={};function M(v,u,i){var s=u.indexOf(i),a=v.indexOf(s);return-1===a&&(a+=u.length),a}(ae.exports=function(v,u){var i=v._fullLayout;if(E(v,[],S)){var s={},a={},o={},l={},c=i._size;u.forEach(function(f,g){var h=f[0].trace;o[g]=h.index;var T=l[g]=h._fullInput.index;s[g]=v.data[T].dimensions,a[g]=v.data[T].dimensions.slice()}),D(v,u,{width:c.w,height:c.h,margin:{t:c.t,r:c.r,b:c.b,l:c.l}},{filterChanged:function(f,g,h){var T=a[f][g],x=h.map(function(p){return p.slice()}),m="dimensions["+g+"].constraintrange",b=i._tracePreGUI[v._fullData[o[f]]._fullInput.uid];void 0===b[m]&&(b[m]=T.constraintrange||null);var w=v._fullData[o[f]].dimensions[g];x.length?(1===x.length&&(x=x[0]),T.constraintrange=x,w.constraintrange=x.slice(),x=[x]):(delete T.constraintrange,delete w.constraintrange,x=null);var A={};A[m]=x,v.emit("plotly_restyle",[A,[l[f]]])},hover:function(f){v.emit("plotly_hover",f)},unhover:function(f){v.emit("plotly_unhover",f)},axesMoved:function(f,g){var T,x,h=(T=g,x=a[f].filter(d),function(m,b){return M(T,x,m)-M(T,x,b)});s[f].sort(h),a[f].filter(function(T){return!d(T)}).sort(function(T){return a[f].indexOf(T)}).forEach(function(T){s[f].splice(s[f].indexOf(T),1),s[f].splice(a[f].indexOf(T),0,T)}),v.emit("plotly_restyle",[{dimensions:[s[f]]},[l[f]]])}})}}).reglPrecompiled=S},34e3:function(ae,B,r){"use strict";var D=r(9012),E=r(27670).Y,d=r(41940),S=r(22399),M=r(5386).fF,v=r(5386).si,u=r(1426).extendFlat,i=r(79952).u,s=d({editType:"plot",arrayOk:!0,colorEditType:"plot"});ae.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:S.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:i,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:u({},D.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:M({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:u({},s,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:u({},s,{}),outsidetextfont:u({},s,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:u({},s,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:E({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:u({},s,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(ae,B,r){"use strict";var D=r(74875);B.name="pie",B.plot=function(E,d,S,M){D.plotBasePlot(B.name,E,d,S,M)},B.clean=function(E,d,S,M){D.cleanBasePlot(B.name,E,d,S,M)}},32354:function(ae,B,r){"use strict";var D=r(92770),E=r(84267),d=r(7901),S={};function M(u){return function(i,s){return!!i&&!!(i=E(i)).isValid()&&(i=d.addOpacity(i,i.getAlpha()),u[s]||(u[s]=i),i)}}function v(u,i){var s,a=JSON.stringify(u),o=i[a];if(!o){for(o=u.slice(),s=0;s<u.length;s++)o.push(E(u[s]).lighten(20).toHexString());for(s=0;s<u.length;s++)o.push(E(u[s]).darken(20).toHexString());i[a]=o}return o}ae.exports={calc:function(u,i){var s,a,o=[],l=u._fullLayout,c=l.hiddenlabels||[],f=i.labels,g=i.marker.colors||[],h=i.values,T=i._length,x=i._hasValues&&T;if(i.dlabel)for(f=new Array(T),s=0;s<T;s++)f[s]=String(i.label0+s*i.dlabel);var m={},b=M(l["_"+i.type+"colormap"]),_=0,w=!1;for(s=0;s<T;s++){var A,p,I;if(x){if(!D(A=h[s]))continue;A=+A}else A=1;void 0!==(p=f[s])&&""!==p||(p=s);var k=m[p=String(p)];void 0===k?(m[p]=o.length,(I=-1!==c.indexOf(p))||(_+=A),o.push({v:A,label:p,color:b(g[s],p),i:s,pts:[s],hidden:I})):(w=!0,(a=o[k]).v+=A,a.pts.push(s),a.hidden||(_+=A),!1===a.color&&g[s]&&(a.color=b(g[s],p)))}return o=o.filter(function(L){return L.v>=0}),("funnelarea"===i.type?w:i.sort)&&o.sort(function(L,O){return O.v-L.v}),o[0]&&(o[0].vTotal=_),o},crossTraceCalc:function(u,i){var s=(i||{}).type;s||(s="pie");var a=u._fullLayout,o=u.calcdata,l=a[s+"colorway"],c=a["_"+s+"colormap"];a["extend"+s+"colors"]&&(l=v(l,S));for(var f=0,g=0;g<o.length;g++){var h=o[g];if(h[0].trace.type===s)for(var T=0;T<h.length;T++){var x=h[T];!1===x.color&&(c[x.label]?x.color=c[x.label]:(c[x.label]=x.color=l[f%l.length],f++))}}},makePullColorFn:M,generateExtendedColors:v}},37434:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(34e3),S=r(27670).c,M=r(90769).handleText,v=r(71828).coercePattern;function u(s,a){var o=Array.isArray(s),l=E.isArrayOrTypedArray(a),c=Math.min(o?s.length:1/0,l?a.length:1/0);if(isFinite(c)||(c=0),c&&l){for(var f,g=0;g<c;g++){var h=a[g];if(D(h)&&h>0){f=!0;break}}f||(c=0)}return{hasLabels:o,hasValues:l,len:c}}function i(s,a,o,l,c){l("marker.line.width")&&l("marker.line.color",c?void 0:o.paper_bgcolor);var f=l("marker.colors");v(l,"marker.pattern",f),s.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=s.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=o.paper_bgcolor)}ae.exports={handleLabelsAndValues:u,handleMarkerDefaults:i,supplyDefaults:function(s,a,o,l){function c(w,A){return E.coerce(s,a,d,w,A)}var f=u(c("labels"),c("values")),g=f.len;if(a._hasLabels=f.hasLabels,a._hasValues=f.hasValues,!a._hasLabels&&a._hasValues&&(c("label0"),c("dlabel")),g){a._length=g,i(s,a,l,c,!0),c("scalegroup");var h,T=c("text"),x=c("texttemplate");if(x||(h=c("textinfo",Array.isArray(T)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),x||h&&"none"!==h){var m=c("textposition");M(s,a,l,c,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(m)||"auto"===m||"outside"===m)&&c("automargin"),("inside"===m||"auto"===m||Array.isArray(m))&&c("insidetextorientation")}S(a,l,c);var b=c("hole");if(c("title.text")){var _=c("title.position",b?"middle center":"top center");b||"middle center"!==_||(a.title.position="top center"),E.coerceFont(c,"title.font",l.font)}c("sort"),c("direction"),c("rotation"),c("pull")}else a.visible=!1}}},20007:function(ae,B,r){"use strict";var D=r(23469).appendArrayMultiPointValues;ae.exports=function(E,d){var S={curveNumber:d.index,pointNumbers:E.pts,data:d._input,fullData:d,label:E.label,color:E.color,value:E.v,percent:E.percent,text:E.text,bbox:E.bbox,v:E.v};return 1===E.pts.length&&(S.pointNumber=S.i=E.pts[0]),D(S,d,E.pts),"funnelarea"===d.type&&(delete S.v,delete S.i),S}},22209:function(ae,B,r){"use strict";var D=r(91424),E=r(7901);ae.exports=function(d,S,M,v){var u=M.marker.pattern;u&&u.shape?D.pointStyle(d,M,v,S):E.fill(d,S.color)}},53581:function(ae,B,r){"use strict";var D=r(71828);function E(d){return-1!==d.indexOf("e")?d.replace(/[.]?0+e/,"e"):-1!==d.indexOf(".")?d.replace(/[.]?0+$/,""):d}B.formatPiePercent=function(d,S){var M=E((100*d).toPrecision(3));return D.numSeparate(M,S)+"%"},B.formatPieValue=function(d,S){var M=E(d.toPrecision(10));return D.numSeparate(M,S)},B.getFirstFilled=function(d,S){if(Array.isArray(d))for(var M=0;M<S.length;M++){var v=d[S[M]];if(v||0===v||""===v)return v}},B.castOption=function(d,S){return Array.isArray(d)?B.getFirstFilled(d,S):d||void 0},B.getRotationAngle=function(d){return("auto"===d?0:d)*Math.PI/180}},58810:function(ae,B,r){"use strict";ae.exports={attributes:r(34e3),supplyDefaults:r(37434).supplyDefaults,supplyLayoutDefaults:r(92097),layoutAttributes:r(92774),calc:r(32354).calc,crossTraceCalc:r(32354).crossTraceCalc,plot:r(14575).plot,style:r(68357),styleOne:r(63463),moduleType:"trace",name:"pie",basePlotModule:r(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(ae){"use strict";ae.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(ae,B,r){"use strict";var D=r(71828),E=r(92774);ae.exports=function(d,S){function M(v,u){return D.coerce(d,S,E,v,u)}M("hiddenlabels"),M("piecolorway",S.colorway),M("extendpiecolors")}},14575:function(ae,B,r){"use strict";var D=r(39898),E=r(74875),d=r(30211),S=r(7901),M=r(91424),v=r(71828),u=v.strScale,i=v.strTranslate,s=r(63893),a=r(72597),o=a.recordMinTextSize,l=a.clearMinTextSize,c=r(97313).TEXTPAD,f=r(53581),g=r(20007),h=r(71828).isValidTextValue;function T(G,H,Z){var $=Z[0],se=$.cx,ne=$.cy,re=$.trace,Q="funnelarea"===re.type;"_hasHoverLabel"in re||(re._hasHoverLabel=!1),"_hasHoverEvent"in re||(re._hasHoverEvent=!1),G.on("mouseover",function(ee){var oe=H._fullLayout,ce=H._fullData[re.index];if(!H._dragging&&!1!==oe.hovermode){var ue=ce.hoverinfo;if(Array.isArray(ue)&&(ue=d.castHoverinfo({hoverinfo:[f.castOption(ue,ee.pts)],_module:re._module},oe,0)),"all"===ue&&(ue="label+text+value+percent+name"),ce.hovertemplate||"none"!==ue&&"skip"!==ue&&ue){var he=ee.rInscribed||0,ve=se+ee.pxmid[0]*(1-he),ke=ne+ee.pxmid[1]*(1-he),Ie=oe.separators,Me=[];if(ue&&-1!==ue.indexOf("label")&&Me.push(ee.label),ee.text=f.castOption(ce.hovertext||ce.text,ee.pts),ue&&-1!==ue.indexOf("text")){var _e=ee.text;v.isValidTextValue(_e)&&Me.push(_e)}ee.value=ee.v,ee.valueLabel=f.formatPieValue(ee.v,Ie),ue&&-1!==ue.indexOf("value")&&Me.push(ee.valueLabel),ee.percent=ee.v/$.vTotal,ee.percentLabel=f.formatPiePercent(ee.percent,Ie),ue&&-1!==ue.indexOf("percent")&&Me.push(ee.percentLabel);var we=ce.hoverlabel,ze=we.font,Ee=[];d.loneHover({trace:re,x0:ve-he*$.r,x1:ve+he*$.r,y:ke,_x0:Q?se+ee.TL[0]:ve-he*$.r,_x1:Q?se+ee.TR[0]:ve+he*$.r,_y0:Q?ne+ee.TL[1]:ke-he*$.r,_y1:Q?ne+ee.BL[1]:ke+he*$.r,text:Me.join("<br>"),name:ce.hovertemplate||-1!==ue.indexOf("name")?ce.name:void 0,idealAlign:ee.pxmid[0]<0?"left":"right",color:f.castOption(we.bgcolor,ee.pts)||ee.color,borderColor:f.castOption(we.bordercolor,ee.pts),fontFamily:f.castOption(ze.family,ee.pts),fontSize:f.castOption(ze.size,ee.pts),fontColor:f.castOption(ze.color,ee.pts),nameLength:f.castOption(we.namelength,ee.pts),textAlign:f.castOption(we.align,ee.pts),hovertemplate:f.castOption(ce.hovertemplate,ee.pts),hovertemplateLabels:ee,eventData:[g(ee,ce)]},{container:oe._hoverlayer.node(),outerContainer:oe._paper.node(),gd:H,inOut_bbox:Ee}),ee.bbox=Ee[0],re._hasHoverLabel=!0}re._hasHoverEvent=!0,H.emit("plotly_hover",{points:[g(ee,ce)],event:D.event})}}),G.on("mouseout",function(ee){var oe=H._fullLayout,ce=H._fullData[re.index],ue=D.select(this).datum();re._hasHoverEvent&&(ee.originalEvent=D.event,H.emit("plotly_unhover",{points:[g(ue,ce)],event:D.event}),re._hasHoverEvent=!1),re._hasHoverLabel&&(d.loneUnhover(oe._hoverlayer.node()),re._hasHoverLabel=!1)}),G.on("click",function(ee){H._dragging||!1===H._fullLayout.hovermode||(H._hoverdata=[g(ee,H._fullData[re.index])],d.click(H,D.event))})}function x(G,H,Z){var $=f.castOption(G.insidetextfont.color,H.pts);!$&&G._input.textfont&&($=f.castOption(G._input.textfont.color,H.pts));var se=f.castOption(G.insidetextfont.family,H.pts)||f.castOption(G.textfont.family,H.pts)||Z.family,ne=f.castOption(G.insidetextfont.size,H.pts)||f.castOption(G.textfont.size,H.pts)||Z.size;return{color:$||S.contrast(H.color),family:se,size:ne}}function m(G,H){for(var Z,$,se=0;se<G.length;se++)if(($=(Z=G[se][0]).trace).title.text){var ne=$.title.text;$._meta&&(ne=v.templateString(ne,$._meta));var re=M.tester.append("text").attr("data-notex",1).text(ne).call(M.font,$.title.font).call(s.convertToTspans,H),Q=M.bBox(re.node(),!0);Z.titleBox={width:Q.width,height:Q.height},re.remove()}}function b(G,H,Z){var $=Z.r||H.rpx1,se=H.rInscribed;if(H.startangle===H.stopangle)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var ne,re=H.ring,Q=1===re&&Math.abs(H.startangle-H.stopangle)===2*Math.PI,ee=H.halfangle,oe=H.midangle,ce=Z.trace.insidetextorientation,ue="horizontal"===ce,he="tangential"===ce,ve="radial"===ce,ke="auto"===ce,Ie=[];if(!ke){var Me,_e=function(fe,le){if(Oe=(Ue=H).stopangle,(xe=Ue.startangle)>(Ze=fe)&&Ze>Oe||xe<Ze&&Ze<Oe){var Te=Math.abs(fe-H.startangle),Re=Math.abs(fe-H.stopangle),De=Te<Re?Te:Re;(ne="tan"===le?w(G,$,re,De,0):_(G,$,re,De,Math.PI/2)).textPosAngle=fe,Ie.push(ne)}var Ue,Ze,xe,Oe};if(ue||he){for(Me=4;Me>=-4;Me-=2)_e(Math.PI*Me,"tan");for(Me=4;Me>=-4;Me-=2)_e(Math.PI*(Me+1),"tan")}if(ue||ve){for(Me=4;Me>=-4;Me-=2)_e(Math.PI*(Me+1.5),"rad");for(Me=4;Me>=-4;Me-=2)_e(Math.PI*(Me+.5),"rad")}}if(Q||ke||ue){var we=Math.sqrt(G.width*G.width+G.height*G.height);if((ne={scale:se*$*2/we,rCenter:1-se,rotate:0}).textPosAngle=(H.startangle+H.stopangle)/2,ne.scale>=1)return ne;Ie.push(ne)}(ke||ve)&&((ne=_(G,$,re,ee,oe)).textPosAngle=(H.startangle+H.stopangle)/2,Ie.push(ne)),(ke||he)&&((ne=w(G,$,re,ee,oe)).textPosAngle=(H.startangle+H.stopangle)/2,Ie.push(ne));for(var ze=0,Ee=0,Se=0;Se<Ie.length;Se++){var me=Ie[Se].scale;if(Ee<me&&(Ee=me,ze=Se),!ke&&Ee>=1)break}return Ie[ze]}function _(G,H,Z,$,se){H=Math.max(0,H-2*c);var ne=G.width/G.height,re=I(ne,$,H,Z);return{scale:2*re/G.height,rCenter:A(ne,re/H),rotate:p(se)}}function w(G,H,Z,$,se){H=Math.max(0,H-2*c);var ne=G.height/G.width,re=I(ne,$,H,Z);return{scale:2*re/G.width,rCenter:A(ne,re/H),rotate:p(se+Math.PI/2)}}function A(G,H){return Math.cos(H)-G*H}function p(G){return(180/Math.PI*G+720)%180-90}function I(G,H,Z,$){var se=G+1/(2*Math.tan(H));return Z*Math.min(1/(Math.sqrt(se*se+.5)+se),$/(Math.sqrt(G*G+$/2)+G))}function k(G,H){return G.v!==H.vTotal||H.trace.hole?Math.min(1/(1+1/Math.sin(G.halfangle)),G.ring/2):1}function L(G,H){var Z=H.pxmid[0],$=H.pxmid[1],se=G.width/2,ne=G.height/2;return Z<0&&(se*=-1),$<0&&(ne*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(ne)*(se>0?1:-1)/2,y:ne/(1+Z*Z/($*$)),outside:!0}}function O(G,H){var Z,$,se,ne=G.trace,re={x:G.cx,y:G.cy},Q={tx:0,ty:0};Q.ty+=ne.title.font.size,se=F(ne),-1!==ne.title.position.indexOf("top")?(re.y-=(1+se)*G.r,Q.ty-=G.titleBox.height):-1!==ne.title.position.indexOf("bottom")&&(re.y+=(1+se)*G.r);var ee,oe=G.r/(void 0===(ee=G.trace.aspectratio)?1:ee),ce=H.w*(ne.domain.x[1]-ne.domain.x[0])/2;return-1!==ne.title.position.indexOf("left")?(ce+=oe,re.x-=(1+se)*oe,Q.tx+=G.titleBox.width/2):-1!==ne.title.position.indexOf("center")?ce*=2:-1!==ne.title.position.indexOf("right")&&(ce+=oe,re.x+=(1+se)*oe,Q.tx-=G.titleBox.width/2),Z=ce/G.titleBox.width,$=P(G,H)/G.titleBox.height,{x:re.x,y:re.y,scale:Math.min(Z,$),tx:Q.tx,ty:Q.ty}}function P(G,H){var Z=G.trace;return Math.min(G.titleBox.height,H.h*(Z.domain.y[1]-Z.domain.y[0])/2)}function F(G){var H,Z=G.pull;if(!Z)return 0;if(Array.isArray(Z))for(Z=0,H=0;H<G.pull.length;H++)G.pull[H]>Z&&(Z=G.pull[H]);return Z}function j(G,H){for(var Z=[],$=0;$<G.length;$++){var se=G[$][0],ne=se.trace,re=ne.domain,Q=H.w*(re.x[1]-re.x[0]),ee=H.h*(re.y[1]-re.y[0]);ne.title.text&&"middle center"!==ne.title.position&&(ee-=P(se,H));var ce=ee/2;"funnelarea"!==ne.type||ne.scalegroup||(ce/=ne.aspectratio),se.r=Math.min(Q/2,ce)/(1+F(ne)),se.cx=H.l+H.w*(ne.domain.x[1]+ne.domain.x[0])/2,se.cy=H.t+H.h*(1-ne.domain.y[0])-ee/2,ne.title.text&&-1!==ne.title.position.indexOf("bottom")&&(se.cy-=P(se,H)),ne.scalegroup&&-1===Z.indexOf(ne.scalegroup)&&Z.push(ne.scalegroup)}!function(ue,he){for(var ve,ke,Ie,Me=0;Me<he.length;Me++){var _e=1/0,we=he[Me];for(ke=0;ke<ue.length;ke++)if((Ie=(ve=ue[ke][0]).trace).scalegroup===we){var ze;if("pie"===Ie.type)ze=ve.r*ve.r;else if("funnelarea"===Ie.type){var Ee,Se;Ie.aspectratio>1?Se=(Ee=ve.r)/Ie.aspectratio:Ee=(Se=ve.r)*Ie.aspectratio,ze=(Ee*=(1+Ie.baseratio)/2)*Se}_e=Math.min(_e,ze/ve.vTotal)}for(ke=0;ke<ue.length;ke++)if((Ie=(ve=ue[ke][0]).trace).scalegroup===we){var me=_e*ve.vTotal;"funnelarea"===Ie.type&&(me/=(1+Ie.baseratio)/2,me/=Ie.aspectratio),ve.r=Math.sqrt(me)}}}(G,Z)}function X(G,H){return[G*Math.sin(H),-G*Math.cos(H)]}function N(G,H,Z){var ze,$=G._fullLayout,se=Z.trace,ne=se.texttemplate,re=se.textinfo;if(!ne&&re&&"none"!==re){var Q,ee=re.split("+"),oe=function(ze){return-1!==ee.indexOf(ze)},ce=oe("label"),ue=oe("text"),he=oe("value"),ve=oe("percent"),ke=$.separators;if(Q=ce?[H.label]:[],ue){var Ie=f.getFirstFilled(se.text,H.pts);h(Ie)&&Q.push(Ie)}he&&Q.push(f.formatPieValue(H.v,ke)),ve&&Q.push(f.formatPiePercent(H.v/Z.vTotal,ke)),H.text=Q.join("<br>")}if(ne){var Me=v.castOption(se,H.i,"texttemplate");if(Me){var _e={label:(ze=H).label,value:ze.v,valueLabel:f.formatPieValue(ze.v,$.separators),percent:ze.v/Z.vTotal,percentLabel:f.formatPiePercent(ze.v/Z.vTotal,$.separators),color:ze.color,text:ze.text,customdata:v.castOption(se,ze.i,"customdata")},we=f.getFirstFilled(se.text,H.pts);(h(we)||""===we)&&(_e.text=we),H.text=v.texttemplateString(Me,_e,G._fullLayout._d3locale,_e,se._meta||{})}else H.text=""}}function q(G,H){var Z=G.rotate*Math.PI/180,$=Math.cos(Z),se=Math.sin(Z),ne=(H.left+H.right)/2,re=(H.top+H.bottom)/2;G.textX=ne*$-re*se,G.textY=ne*se+re*$,G.noCenter=!0}ae.exports={plot:function(G,H){var Z=G._context.staticPlot,$=G._fullLayout,se=$._size;l("pie",$),m(H,G),j(H,se);var ne=v.makeTraceGroups($._pielayer,H,"trace").each(function(re){var Q=D.select(this),ee=re[0],oe=ee.trace;(function(ce){var ue,he,ve,ke=ce[0],Ie=ke.r,Me=ke.trace,_e=f.getRotationAngle(Me.rotation),we=2*Math.PI/ke.vTotal,ze="px0",Ee="px1";if("counterclockwise"===Me.direction){for(ue=0;ue<ce.length&&ce[ue].hidden;ue++);if(ue===ce.length)return;_e+=we*ce[ue].v,we*=-1,ze="px1",Ee="px0"}for(ve=X(Ie,_e),ue=0;ue<ce.length;ue++)(he=ce[ue]).hidden||(he[ze]=ve,he.startangle=_e,he.pxmid=X(Ie,_e+=we*he.v/2),he.midangle=_e,ve=X(Ie,_e+=we*he.v/2),he.stopangle=_e,he[Ee]=ve,he.largeArc=he.v>ke.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/ke.vTotal,.5),he.ring=1-Me.hole,he.rInscribed=k(he,ke))})(re),Q.attr("stroke-linejoin","round"),Q.each(function(){var ce=D.select(this).selectAll("g.slice").data(re);ce.enter().append("g").classed("slice",!0),ce.exit().remove();var ue=[[[],[]],[[],[]]],he=!1;ce.each(function(Ee,Se){if(Ee.hidden)D.select(this).selectAll("path,g").remove();else{Ee.pointNumber=Ee.i,Ee.curveNumber=oe.index,ue[Ee.pxmid[1]<0?0:1][Ee.pxmid[0]<0?0:1].push(Ee);var me=ee.cx,fe=ee.cy,le=D.select(this),Te=le.selectAll("path.surface").data([Ee]);if(Te.enter().append("path").classed("surface",!0).style({"pointer-events":Z?"none":"all"}),le.call(T,G,re),oe.pull){var Re=+f.castOption(oe.pull,Ee.pts)||0;Re>0&&(me+=Re*Ee.pxmid[0],fe+=Re*Ee.pxmid[1])}Ee.cxFinal=me,Ee.cyFinal=fe;var De=oe.hole;if(Ee.v===ee.vTotal){var Ue="M"+(me+Ee.px0[0])+","+(fe+Ee.px0[1])+Be(Ee.px0,Ee.pxmid,!0,1)+Be(Ee.pxmid,Ee.px0,!0,1)+"Z";Te.attr("d",De?"M"+(me+De*Ee.px0[0])+","+(fe+De*Ee.px0[1])+Be(Ee.px0,Ee.pxmid,!1,De)+Be(Ee.pxmid,Ee.px0,!1,De)+"Z"+Ue:Ue)}else{var Ze=Be(Ee.px0,Ee.px1,!0,1);if(De){var xe=1-De;Te.attr("d","M"+(me+De*Ee.px1[0])+","+(fe+De*Ee.px1[1])+Be(Ee.px1,Ee.px0,!1,De)+"l"+xe*Ee.px0[0]+","+xe*Ee.px0[1]+Ze+"Z")}else Te.attr("d","M"+me+","+fe+"l"+Ee.px0[0]+","+Ee.px0[1]+Ze+"Z")}N(G,Ee,ee);var Oe=f.castOption(oe.textposition,Ee.pts),Ce=le.selectAll("g.slicetext").data(Ee.text&&"none"!==Oe?[0]:[]);Ce.enter().append("g").classed("slicetext",!0),Ce.exit().remove(),Ce.each(function(){var Dt,vt,gt,qe=v.ensureSingle(D.select(this),"text","",function(Dt){Dt.attr("data-notex",1)}),He=v.ensureUniformFontSize(G,"outside"===Oe?(gt=$.font,{color:f.castOption((Dt=oe).outsidetextfont.color,(vt=Ee).pts)||f.castOption(Dt.textfont.color,vt.pts)||gt.color,family:f.castOption(Dt.outsidetextfont.family,vt.pts)||f.castOption(Dt.textfont.family,vt.pts)||gt.family,size:f.castOption(Dt.outsidetextfont.size,vt.pts)||f.castOption(Dt.textfont.size,vt.pts)||gt.size}):x(oe,Ee,$.font));qe.text(Ee.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(M.font,He).call(s.convertToTspans,G);var Je,et=M.bBox(qe.node());if("outside"===Oe)Je=L(et,Ee);else if(Je=b(et,Ee,ee),"auto"===Oe&&Je.scale<1){var st=v.ensureUniformFontSize(G,oe.outsidetextfont);qe.call(M.font,st),Je=L(et=M.bBox(qe.node()),Ee)}var pt=Je.textPosAngle,ct=void 0===pt?Ee.pxmid:X(ee.r,pt);if(Je.targetX=me+ct[0]*Je.rCenter+(Je.x||0),Je.targetY=fe+ct[1]*Je.rCenter+(Je.y||0),q(Je,et),Je.outside){var St=Je.targetY;Ee.yLabelMin=St-et.height/2,Ee.yLabelMid=St,Ee.yLabelMax=St+et.height/2,Ee.labelExtraX=0,Ee.labelExtraY=0,he=!0}Je.fontSize=He.size,o(oe.type,Je,$),re[Se].transform=Je,v.setTransormAndDisplay(qe,Je)})}function Be(qe,He,Je,et){return"a"+et*ee.r+","+et*ee.r+" 0 "+Ee.largeArc+(Je?" 1 ":" 0 ")+et*(He[0]-qe[0])+","+et*(He[1]-qe[1])}});var Se,ve=D.select(this).selectAll("g.titletext").data(oe.title.text?[0]:[]);if(ve.enter().append("g").classed("titletext",!0),ve.exit().remove(),ve.each(function(){var Ee,fe,le,Se=v.ensureSingle(D.select(this),"text","",function(fe){fe.attr("data-notex",1)}),me=oe.title.text;oe._meta&&(me=v.templateString(me,oe._meta)),Se.text(me).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(M.font,oe.title.font).call(s.convertToTspans,G),Ee="middle center"===oe.title.position?(fe=ee,le=Math.sqrt(fe.titleBox.width*fe.titleBox.width+fe.titleBox.height*fe.titleBox.height),{x:fe.cx,y:fe.cy,scale:fe.trace.hole*fe.r*2/le,tx:0,ty:-fe.titleBox.height/2+fe.trace.title.font.size}):O(ee,se),Se.attr("transform",i(Ee.x,Ee.y)+u(Math.min(1,Ee.scale))+i(Ee.tx,Ee.ty))}),he&&function(Ee,Se){var me,fe,le,Te,Re,De,Ue,Ze,xe,Oe,Ce,Be,qe;function He(pt,ct){return pt.pxmid[1]-ct.pxmid[1]}function Je(pt,ct){return ct.pxmid[1]-pt.pxmid[1]}function et(pt,ct){ct||(ct={});var St,Dt,vt,gt,Et=ct.labelExtraY+(fe?ct.yLabelMax:ct.yLabelMin),Pt=fe?pt.yLabelMin:pt.yLabelMax,Ot=fe?pt.yLabelMax:pt.yLabelMin,Ht=pt.cyFinal+Re(pt.px0[1],pt.px1[1]),zt=Et-Pt;if(zt*Ue>0&&(pt.labelExtraY=zt),Array.isArray(Se.pull))for(Dt=0;Dt<Oe.length;Dt++)(vt=Oe[Dt])===pt||(f.castOption(Se.pull,pt.pts)||0)>=(f.castOption(Se.pull,vt.pts)||0)||((pt.pxmid[1]-vt.pxmid[1])*Ue>0?(zt=vt.cyFinal+Re(vt.px0[1],vt.px1[1])-Pt-pt.labelExtraY)*Ue>0&&(pt.labelExtraY+=zt):(Ot+pt.labelExtraY-Ht)*Ue>0&&(St=3*De*Math.abs(Dt-Oe.indexOf(pt)),(gt=vt.cxFinal+Te(vt.px0[0],vt.px1[0])+St-(pt.cxFinal+pt.pxmid[0])-pt.labelExtraX)*De>0&&(pt.labelExtraX+=gt)))}for(fe=0;fe<2;fe++)for(le=fe?He:Je,Re=fe?Math.max:Math.min,Ue=fe?1:-1,me=0;me<2;me++){for(Te=me?Math.max:Math.min,De=me?1:-1,(Ze=Ee[fe][me]).sort(le),Oe=(xe=Ee[1-fe][me]).concat(Ze),Be=[],Ce=0;Ce<Ze.length;Ce++)void 0!==Ze[Ce].yLabelMid&&Be.push(Ze[Ce]);for(qe=!1,Ce=0;fe&&Ce<xe.length;Ce++)if(void 0!==xe[Ce].yLabelMid){qe=xe[Ce];break}for(Ce=0;Ce<Be.length;Ce++){var st=Ce&&Be[Ce-1];qe&&!Ce&&(st=qe),et(Be[Ce],st)}}}(ue,oe),Se=oe,ce.each(function(me){var fe=D.select(this);if(me.labelExtraX||me.labelExtraY){var le=fe.select("g.slicetext text");me.transform.targetX+=me.labelExtraX,me.transform.targetY+=me.labelExtraY,v.setTransormAndDisplay(le,me.transform);var Te=me.cxFinal+me.pxmid[0],Re="M"+Te+","+(me.cyFinal+me.pxmid[1]),De=(me.yLabelMax-me.yLabelMin)*(me.pxmid[0]<0?-1:1)/4;if(me.labelExtraX){var Ue=me.labelExtraX*me.pxmid[1]/me.pxmid[0],Ze=me.yLabelMid+me.labelExtraY-(me.cyFinal+me.pxmid[1]);Math.abs(Ue)>Math.abs(Ze)?Re+="l"+Ze*me.pxmid[0]/me.pxmid[1]+","+Ze+"H"+(Te+me.labelExtraX+De):Re+="l"+me.labelExtraX+","+Ue+"v"+(Ze-Ue)+"h"+De}else Re+="V"+(me.yLabelMid+me.labelExtraY)+"h"+De;v.ensureSingle(fe,"path","textline").call(S.stroke,Se.outsidetextfont.color).attr({"stroke-width":Math.min(2,Se.outsidetextfont.size/8),d:Re,fill:"none"})}else fe.select("path.textline").remove()}),he&&oe.automargin){var ke=M.bBox(Q.node()),Ie=oe.domain,we=(se.w*(Ie.x[1]-Ie.x[0])*.5-ee.r)/se.w,ze=(se.h*(Ie.y[1]-Ie.y[0])*.5-ee.r)/se.h;E.autoMargin(G,"pie."+oe.uid+".automargin",{xl:Ie.x[0]-we,xr:Ie.x[1]+we,yb:Ie.y[0]-ze,yt:Ie.y[1]+ze,l:Math.max(ee.cx-ee.r-ke.left,0),r:Math.max(ke.right-(ee.cx+ee.r),0),b:Math.max(ke.bottom-(ee.cy+ee.r),0),t:Math.max(ee.cy-ee.r-ke.top,0),pad:5})}})});setTimeout(function(){ne.selectAll("tspan").each(function(){var re=D.select(this);re.attr("dy")&&re.attr("dy",re.attr("dy"))})},0)},formatSliceLabel:N,transformInsideText:b,determineInsideTextFont:x,positionTitleOutside:O,prerenderTitles:m,layoutAreas:j,attachFxHandlers:T,computeTransform:q}},68357:function(ae,B,r){"use strict";var D=r(39898),E=r(63463),d=r(72597).resizeText;ae.exports=function(S){var M=S._fullLayout._pielayer.selectAll(".trace");d(S,M,"pie"),M.each(function(v){var u=v[0].trace,i=D.select(this);i.style({opacity:u.opacity}),i.selectAll("path.surface").each(function(s){D.select(this).call(E,s,u,S)})})}},63463:function(ae,B,r){"use strict";var D=r(7901),E=r(53581).castOption,d=r(22209);ae.exports=function(S,M,v,u){var i=v.marker.line,s=E(i.color,M.pts)||D.defaultLine,a=E(i.width,M.pts)||0;S.call(d,M,v,u).style("stroke-width",a).call(D.stroke,s)}},10959:function(ae,B,r){"use strict";var D=r(82196);ae.exports={x:D.x,y:D.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:D.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(ae,B,r){"use strict";var D=r(9330).gl_pointcloud2d,E=r(78614),d=r(71739).findExtremes,S=r(34603);function M(u,i){this.scene=u,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=D(u.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=M.prototype;v.handlePick=function(u){var i=this.idToIndex[u.pointId];return{trace:this,dataCoord:u.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:Array.isArray(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},v.update=function(u){this.index=u.index,this.textLabels=u.text,this.name=u.name,this.hoverinfo=u.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(u),this.color=S(u,{})},v.updateFast=function(u){var i,s,a,o,l,c,f=this.xData=this.pickXData=u.x,g=this.yData=this.pickYData=u.y,h=this.pickXYData=u.xy,x=u.indices,m=this.bounds;if(h){if(a=h,i=h.length>>>1,u.xbounds&&u.ybounds)m[0]=u.xbounds[0],m[2]=u.xbounds[1],m[1]=u.ybounds[0],m[3]=u.ybounds[1];else for(c=0;c<i;c++)l=a[2*c+1],(o=a[2*c])<m[0]&&(m[0]=o),o>m[2]&&(m[2]=o),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);if(x)s=x;else for(s=new Int32Array(i),c=0;c<i;c++)s[c]=c}else for(i=f.length,a=new Float32Array(2*i),s=new Int32Array(i),c=0;c<i;c++)o=f[c],l=g[c],s[c]=c,a[2*c]=o,a[2*c+1]=l,o<m[0]&&(m[0]=o),o>m[2]&&(m[2]=o),l<m[1]&&(m[1]=l),l>m[3]&&(m[3]=l);this.idToIndex=s,this.pointcloudOptions.idToIndex=s,this.pointcloudOptions.positions=a;var b=E(u.marker.color),_=E(u.marker.border.color),w=u.opacity*u.marker.opacity;b[3]*=w,this.pointcloudOptions.color=b;var A=u.marker.blend;null===A&&(A=f.length<100||g.length<100),this.pointcloudOptions.blend=A,_[3]*=w,this.pointcloudOptions.borderColor=_;var p=u.marker.sizemin,I=Math.max(u.marker.sizemax,u.marker.sizemin);this.pointcloudOptions.sizeMin=p,this.pointcloudOptions.sizeMax=I,this.pointcloudOptions.areaRatio=u.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var k=this.scene.xaxis,L=this.scene.yaxis,O=I/2||.5;u._extremes[k._id]=d(k,[m[0],m[2]],{ppad:O}),u._extremes[L._id]=d(L,[m[1],m[3]],{ppad:O})},v.dispose=function(){this.pointcloud.dispose()},ae.exports=function(u,i){var s=new M(u,i.uid);return s.update(i),s}},33876:function(ae,B,r){"use strict";var D=r(71828),E=r(10959);ae.exports=function(d,S,M){function v(u,i){return D.coerce(d,S,E,u,i)}v("x"),v("y"),v("xbounds"),v("ybounds"),d.xy&&d.xy instanceof Float32Array&&(S.xy=d.xy),d.indices&&d.indices instanceof Int32Array&&(S.indices=d.indices),v("text"),v("marker.color",M),v("marker.opacity"),v("marker.blend"),v("marker.sizemin"),v("marker.sizemax"),v("marker.border.color",M),v("marker.border.arearatio"),S._length=null}},20593:function(ae,B,r){"use strict";["*pointcloud* trace is deprecated!","Please consider switching to the *scattergl* trace type."].join(" "),ae.exports={attributes:r(10959),supplyDefaults:r(33876),calc:r(36563),plot:r(42743),moduleType:"trace",name:"pointcloud",basePlotModule:r(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(ae,B,r){"use strict";var D=r(41940),E=r(9012),d=r(22399),S=r(77914),M=r(27670).Y,v=r(5386).fF,u=r(50693),i=r(44467).templatedArray,s=r(12663).descriptionOnlyNumbers,a=r(1426).extendFlat,o=r(30962).overrideAll;(ae.exports=o({hoverinfo:a({},E.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:S.hoverlabel,domain:M({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:s("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:D({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:d.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:d.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:S.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:i("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(u().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(ae,B,r){"use strict";var D=r(30962).overrideAll,E=r(27659).a0,d=r(60436),S=r(528),M=r(6964),v=r(28569),u=r(47322).prepSelect,i=r(71828),s=r(73972),a="sankey";function o(l,c){var f=l._fullData[c],g=l._fullLayout,h=g.dragmode,x=f._bgRect;if(x&&"pan"!==h&&"zoom"!==h){M(x,"pan"===g.dragmode?"move":"crosshair");var m={_id:"x",c2p:i.identity,_offset:f._sankey.translateX,_length:f._sankey.width},b={_id:"y",c2p:i.identity,_offset:f._sankey.translateY,_length:f._sankey.height},_={gd:l,element:x.node(),plotinfo:{id:c,xaxis:m,yaxis:b,fillRangeItems:i.noop},subplot:c,xaxes:[m],yaxes:[b],doneFnCompleted:function(w){var A,p=l._fullData[c],I=p.node.groups.slice(),k=[];function L(j){for(var X=p._sankey.graph.nodes,N=0;N<X.length;N++)if(X[N].pointNumber===j)return X[N]}for(var O=0;O<w.length;O++){var P=L(w[O].pointNumber);if(P)if(P.group){for(var F=0;F<P.childrenNodes.length;F++)k.push(P.childrenNodes[F].pointNumber);I[P.pointNumber-p.node._count]=!1}else k.push(P.pointNumber)}A=I.filter(Boolean).concat([k]),s.call("_guiRestyle",l,{"node.groups":[A]},c)},prepFn:function(w,A,p){u(w,A,p,_,h)}};v.init(_)}}B.name=a,B.baseLayoutAttrOverrides=D({hoverlabel:S.hoverlabel},"plot","nested"),B.plot=function(l){var c=E(l.calcdata,a)[0];d(l,c),B.updateFx(l)},B.clean=function(l,c,f,g){var h=g._has&&g._has(a),T=c._has&&c._has(a);h&&!T&&(g._paperdiv.selectAll(".sankey").remove(),g._paperdiv.selectAll(".bgsankey").remove())},B.updateFx=function(l){for(var c=0;c<l._fullData.length;c++)o(l,c)}},92930:function(ae,B,r){"use strict";var D=r(68664),E=r(71828),d=r(28984).wrap,S=E.isArrayOrTypedArray,M=E.isIndex,v=r(21081);ae.exports=function(u,i){var s=function(a){var o,l=a.node,c=a.link,f=[],g=S(c.color),h=S(c.customdata),T={},x={},m=c.colorscales.length;for(o=0;o<m;o++){var b=c.colorscales[o],_=v.extractScale(b,{cLetter:"c"}),w=v.makeColorScaleFunc(_);x[b.label]=w}var A=0;for(o=0;o<c.value.length;o++)c.source[o]>A&&(A=c.source[o]),c.target[o]>A&&(A=c.target[o]);var p,I=A+1;a.node._count=I;var k=a.node.groups,L={};for(o=0;o<k.length;o++){var O=k[o];for(p=0;p<O.length;p++){var P=O[p],F=I+o;L.hasOwnProperty(P)?E.warn("Node "+P+" is already part of a group."):L[P]=F}}var j={source:[],target:[]};for(o=0;o<c.value.length;o++){var X=c.value[o],N=c.source[o],q=c.target[o];if(X>0&&M(N,I)&&M(q,I)&&(!L.hasOwnProperty(N)||!L.hasOwnProperty(q)||L[N]!==L[q])){L.hasOwnProperty(q)&&(q=L[q]),L.hasOwnProperty(N)&&(N=L[N]),T[N=+N]=T[q=+q]=!0;var G="";c.label&&c.label[o]&&(G=c.label[o]);var H=null;G&&x.hasOwnProperty(G)&&(H=x[G]),f.push({pointNumber:o,label:G,color:g?c.color[o]:c.color,customdata:h?c.customdata[o]:c.customdata,concentrationscale:H,source:N,target:q,value:+X}),j.source.push(N),j.target.push(q)}}var Z=I+k.length,$=S(l.color),se=S(l.customdata),ne=[];for(o=0;o<Z;o++)T[o]&&ne.push({group:o>I-1,childrenNodes:[],pointNumber:o,label:l.label[o],color:$?l.color[o]:l.color,customdata:se?l.customdata[o]:l.customdata});var Q=!1;return function(ee,oe,ce){for(var ue=E.init2dArray(ee,0),he=0;he<Math.min(oe.length,ce.length);he++)if(E.isIndex(oe[he],ee)&&E.isIndex(ce[he],ee)){if(oe[he]===ce[he])return!0;ue[oe[he]].push(ce[he])}return D(ue).components.some(function(ve){return ve.length>1})}(Z,j.source,j.target)&&(Q=!0),{circular:Q,links:f,nodes:ne,groups:k,groupLookup:L}}(i);return d({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(ae){"use strict";ae.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(ae,B,r){"use strict";var D=r(71828),E=r(39953),d=r(7901),S=r(84267),M=r(27670).c,v=r(38048),u=r(44467),i=r(85501);function s(a,o){function l(c,f){return D.coerce(a,o,E.link.colorscales,c,f)}l("label"),l("cmin"),l("cmax"),l("colorscale")}ae.exports=function(a,o,l,c){function f(I,k){return D.coerce(a,o,E,I,k)}var g=D.extendDeep(c.hoverlabel,a.hoverlabel),h=a.node,T=u.newContainer(o,"node");function x(I,k){return D.coerce(h,T,E.node,I,k)}x("label"),x("groups"),x("x"),x("y"),x("pad"),x("thickness"),x("line.color"),x("line.width"),x("hoverinfo",a.hoverinfo),v(h,T,x,g),x("hovertemplate");var m=c.colorway;x("color",T.label.map(function(I,k){return d.addOpacity(m[k%m.length],.8)})),x("customdata");var b=a.link||{},_=u.newContainer(o,"link");function w(I,k){return D.coerce(b,_,E.link,I,k)}w("label"),w("arrowlen"),w("source"),w("target"),w("value"),w("line.color"),w("line.width"),w("hoverinfo",a.hoverinfo),v(b,_,w,g),w("hovertemplate");var A,p=S(c.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";w("color",D.repeat(p,_.value.length)),w("customdata"),i(b,_,{name:"colorscales",handleItemDefaults:s}),M(o,c,f),f("orientation"),f("valueformat"),f("valuesuffix"),T.x.length&&T.y.length&&(A="freeform"),f("arrangement",A),D.coerceFont(f,"textfont",D.extendFlat({},c.font)),o._length=null}},29396:function(ae,B,r){"use strict";ae.exports={attributes:r(39953),supplyDefaults:r(26857),calc:r(92930),plot:r(60436),moduleType:"trace",name:"sankey",basePlotModule:r(75536),selectPoints:r(84564),categories:["noOpacity"],meta:{}}},60436:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=E.numberFormat,S=r(3393),M=r(30211),v=r(7901),u=r(85247).cn,i=E._;function s(b){return""!==b}function a(b,_){return b.filter(function(w){return w.key===_.traceId})}function o(b,_){D.select(b).select("path").style("fill-opacity",_),D.select(b).select("rect").style("fill-opacity",_)}function l(b){D.select(b).select("text.name").style("fill","black")}function c(b){return function(_){return-1!==b.node.sourceLinks.indexOf(_.link)||-1!==b.node.targetLinks.indexOf(_.link)}}function f(b){return function(_){return-1!==_.node.sourceLinks.indexOf(b.link)||-1!==_.node.targetLinks.indexOf(b.link)}}function g(b,_,w){_&&w&&a(w,_).selectAll("."+u.sankeyLink).filter(c(_)).call(T.bind(0,_,w,!1))}function h(b,_,w){_&&w&&a(w,_).selectAll("."+u.sankeyLink).filter(c(_)).call(x.bind(0,_,w,!1))}function T(b,_,w,A){var p=A.datum().link.label;A.style("fill-opacity",function(I){if(!I.link.concentrationscale)return.4}),p&&a(_,b).selectAll("."+u.sankeyLink).filter(function(I){return I.link.label===p}).style("fill-opacity",function(I){if(!I.link.concentrationscale)return.4}),w&&a(_,b).selectAll("."+u.sankeyNode).filter(f(b)).call(g)}function x(b,_,w,A){var p=A.datum().link.label;A.style("fill-opacity",function(I){return I.tinyColorAlpha}),p&&a(_,b).selectAll("."+u.sankeyLink).filter(function(I){return I.link.label===p}).style("fill-opacity",function(I){return I.tinyColorAlpha}),w&&a(_,b).selectAll(u.sankeyNode).filter(f(b)).call(h)}function m(b,_){var A=E.nestedProperty(b.hoverlabel||{},_).get();return!Array.isArray(A)&&A}ae.exports=function(b,_){for(var w=b._fullLayout,A=w._paper,p=w._size,I=0;I<b._fullData.length;I++)if(b._fullData[I].visible&&b._fullData[I].type===u.sankey&&!b._fullData[I]._viewInitial){var k=b._fullData[I].node;b._fullData[I]._viewInitial={node:{groups:k.groups.slice(),x:k.x.slice(),y:k.y.slice()}}}var L=i(b,"source:")+" ",O=i(b,"target:")+" ",P=i(b,"concentration:")+" ",F=i(b,"incoming flow count:")+" ",j=i(b,"outgoing flow count:")+" ";S(b,A,_,{width:p.w,height:p.h,margin:{t:p.t,r:p.r,b:p.b,l:p.l}},{linkEvents:{hover:function(X,N,q){!1!==b._fullLayout.hovermode&&(D.select(X).call(T.bind(0,N,q,!0)),"skip"!==N.link.trace.link.hoverinfo&&(N.link.fullData=N.link.trace,b.emit("plotly_hover",{event:D.event,points:[N.link]})))},follow:function(X,N){if(!1!==b._fullLayout.hovermode){var q=N.link.trace.link;if("none"!==q.hoverinfo&&"skip"!==q.hoverinfo){for(var G=[],H=0,Z=0;Z<N.flow.links.length;Z++){var $=N.flow.links[Z];if("closest"!==b._fullLayout.hovermode||N.link.pointNumber===$.pointNumber){N.link.pointNumber===$.pointNumber&&(H=Z),$.fullData=$.trace,q=N.link.trace.link;var se=re($),ne={valueLabel:d(N.valueFormat)($.value)+N.valueSuffix};G.push({x:se[0],y:se[1],name:ne.valueLabel,text:[$.label||"",L+$.source.label,O+$.target.label,$.concentrationscale?P+d("%0.2f")($.flow.labelConcentration):""].filter(s).join("<br>"),color:m(q,"bgcolor")||v.addOpacity($.color,1),borderColor:m(q,"bordercolor"),fontFamily:m(q,"font.family"),fontSize:m(q,"font.size"),fontColor:m(q,"font.color"),nameLength:m(q,"namelength"),textAlign:m(q,"align"),idealAlign:D.event.x<se[0]?"right":"left",hovertemplate:q.hovertemplate,hovertemplateLabels:ne,eventData:[$]})}}M.loneHover(G,{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:b,anchorIndex:H}).each(function(){N.link.concentrationscale||o(this,.65),l(this)})}}function re(Q){var ee,oe;Q.circular?(ee=(Q.circularPathData.leftInnerExtent+Q.circularPathData.rightInnerExtent)/2,oe=Q.circularPathData.verticalFullExtent):(ee=(Q.source.x1+Q.target.x0)/2,oe=(Q.y0+Q.y1)/2);var ce=[ee,oe];return"v"===Q.trace.orientation&&ce.reverse(),ce[0]+=N.parent.translateX,ce[1]+=N.parent.translateY,ce}},unhover:function(X,N,q){!1!==b._fullLayout.hovermode&&(D.select(X).call(x.bind(0,N,q,!0)),"skip"!==N.link.trace.link.hoverinfo&&(N.link.fullData=N.link.trace,b.emit("plotly_unhover",{event:D.event,points:[N.link]})),M.loneUnhover(w._hoverlayer.node()))},select:function(X,N){var q=N.link;q.originalEvent=D.event,b._hoverdata=[q],M.click(b,{target:!0})}},nodeEvents:{hover:function(X,N,q){!1!==b._fullLayout.hovermode&&(D.select(X).call(g,N,q),"skip"!==N.node.trace.node.hoverinfo&&(N.node.fullData=N.node.trace,b.emit("plotly_hover",{event:D.event,points:[N.node]})))},follow:function(X,N){if(!1!==b._fullLayout.hovermode){var q=N.node.trace.node;if("none"!==q.hoverinfo&&"skip"!==q.hoverinfo){var G=D.select(X).select("."+u.nodeRect),H=b._fullLayout._paperdiv.node().getBoundingClientRect(),Z=G.node().getBoundingClientRect(),$=Z.left-2-H.left,se=Z.right+2-H.left,ne=Z.top+Z.height/4-H.top,re={valueLabel:d(N.valueFormat)(N.node.value)+N.valueSuffix};N.node.fullData=N.node.trace,b._fullLayout._calcInverseTransform(b);var Q=b._fullLayout._invScaleX,oe=M.loneHover({x0:Q*$,x1:Q*se,y:b._fullLayout._invScaleY*ne,name:d(N.valueFormat)(N.node.value)+N.valueSuffix,text:[N.node.label,F+N.node.targetLinks.length,j+N.node.sourceLinks.length].filter(s).join("<br>"),color:m(q,"bgcolor")||N.tinyColorHue,borderColor:m(q,"bordercolor"),fontFamily:m(q,"font.family"),fontSize:m(q,"font.size"),fontColor:m(q,"font.color"),nameLength:m(q,"namelength"),textAlign:m(q,"align"),idealAlign:"left",hovertemplate:q.hovertemplate,hovertemplateLabels:re,eventData:[N.node]},{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:b});o(oe,.85),l(oe)}}},unhover:function(X,N,q){!1!==b._fullLayout.hovermode&&(D.select(X).call(h,N,q),"skip"!==N.node.trace.node.hoverinfo&&(N.node.fullData=N.node.trace,b.emit("plotly_unhover",{event:D.event,points:[N.node]})),M.loneUnhover(w._hoverlayer.node()))},select:function(X,N,q){var G=N.node;G.originalEvent=D.event,b._hoverdata=[G],D.select(X).call(h,N,q),M.click(b,{target:!0})}}})}},3393:function(ae,B,r){"use strict";var D=r(49887),E=r(81684).k4,d=r(39898),S=r(30838),M=r(86781),v=r(85247),u=r(84267),i=r(7901),s=r(91424),a=r(71828),o=a.strTranslate,l=a.strRotate,c=r(28984),f=c.keyFun,g=c.repeat,h=c.unwrap,T=r(63893),x=r(73972),m=r(18783),b=m.CAP_SHIFT,_=m.LINE_SPACING;function w(Z,$,se){var ne,re=h($),Q=re.trace,ee=Q.domain,oe="h"===Q.orientation,ce=Q.node.pad,ue=Q.node.thickness,he=Z.width*(ee.x[1]-ee.x[0]),ve=Z.height*(ee.y[1]-ee.y[0]),ke=re._nodes,Ie=re._links,Me=re.circular;(ne=Me?M.sankeyCircular().circularLinkGap(0):S.sankey()).iterations(v.sankeyIterations).size(oe?[he,ve]:[ve,he]).nodeWidth(ue).nodePadding(ce).nodeId(function(De){return De.pointNumber}).nodes(ke).links(Ie);var _e,we,ze,Ee=ne();for(var Se in ne.nodePadding()<ce&&a.warn("node.pad was reduced to ",ne.nodePadding()," to fit within the figure."),re._groupLookup){var me,fe=parseInt(re._groupLookup[Se]);for(_e=0;_e<Ee.nodes.length;_e++)if(Ee.nodes[_e].pointNumber===fe){me=Ee.nodes[_e];break}if(me){var le={pointNumber:parseInt(Se),x0:me.x0,x1:me.x1,y0:me.y0,y1:me.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Ee.nodes.unshift(le),me.childrenNodes.unshift(le)}}if(function(){for(_e=0;_e<Ee.nodes.length;_e++){var De,Ue,Ze=Ee.nodes[_e],xe={};for(we=0;we<Ze.targetLinks.length;we++)De=(Ue=Ze.targetLinks[we]).source.pointNumber+":"+Ue.target.pointNumber,xe.hasOwnProperty(De)||(xe[De]=[]),xe[De].push(Ue);var Oe=Object.keys(xe);for(we=0;we<Oe.length;we++){var Ce=xe[De=Oe[we]],Be=0,qe={};for(ze=0;ze<Ce.length;ze++)qe[(Ue=Ce[ze]).label]||(qe[Ue.label]=0),qe[Ue.label]+=Ue.value,Be+=Ue.value;for(ze=0;ze<Ce.length;ze++)(Ue=Ce[ze]).flow={value:Be,labelConcentration:qe[Ue.label]/Be,concentration:Ue.value/Be,links:Ce},Ue.concentrationscale&&(Ue.color=u(Ue.concentrationscale(Ue.flow.labelConcentration)))}var He=0;for(we=0;we<Ze.sourceLinks.length;we++)He+=Ze.sourceLinks[we].value;for(we=0;we<Ze.sourceLinks.length;we++)(Ue=Ze.sourceLinks[we]).concentrationOut=Ue.value/He;var Je=0;for(we=0;we<Ze.targetLinks.length;we++)Je+=Ze.targetLinks[we].value;for(we=0;we<Ze.targetLinks.length;we++)(Ue=Ze.targetLinks[we]).concenrationIn=Ue.value/Je}}(),Q.node.x.length&&Q.node.y.length){for(_e=0;_e<Math.min(Q.node.x.length,Q.node.y.length,Ee.nodes.length);_e++)if(Q.node.x[_e]&&Q.node.y[_e]){var Te=[Q.node.x[_e]*he,Q.node.y[_e]*ve];Ee.nodes[_e].x0=Te[0]-ue/2,Ee.nodes[_e].x1=Te[0]+ue/2;var Re=Ee.nodes[_e].y1-Ee.nodes[_e].y0;Ee.nodes[_e].y0=Te[1]-Re/2,Ee.nodes[_e].y1=Te[1]+Re/2}"snap"===Q.arrangement&&function(De){var Ue,Ze,xe=De.map(function(He,Je){return{x0:He.x0,index:Je}}).sort(function(He,Je){return He.x0-Je.x0}),Oe=[],Ce=-1,Be=-1/0;for(_e=0;_e<xe.length;_e++){var qe=De[xe[_e].index];qe.x0>Be+ue&&(Ce+=1,Ue=qe.x0),Be=qe.x0,Oe[Ce]||(Oe[Ce]=[]),Oe[Ce].push(qe),qe.x0+=Ze=Ue-qe.x0,qe.x1+=Ze}return Oe}(ke=Ee.nodes).forEach(function(De){var Ue,Ze,xe,Oe=0,Ce=De.length;for(De.sort(function(Be,qe){return Be.y0-qe.y0}),xe=0;xe<Ce;++xe)(Ue=De[xe]).y0>=Oe||(Ze=Oe-Ue.y0)>1e-6&&(Ue.y0+=Ze,Ue.y1+=Ze),Oe=Ue.y1+ce}),ne.update(Ee)}return{circular:Me,key:se,trace:Q,guid:a.randstr(),horizontal:oe,width:he,height:ve,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:ee.x[0]*Z.width+Z.margin.l,translateY:Z.height-ee.y[1]*Z.height+Z.margin.t,dragParallel:oe?ve:he,dragPerpendicular:oe?he:ve,arrangement:Q.arrangement,sankey:ne,graph:Ee,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function A(Z,$,se){var ne=u($.color),re=$.source.label+"|"+$.target.label+"__"+se;return $.trace=Z.trace,$.curveNumber=Z.trace.index,{circular:Z.circular,key:re,traceId:Z.key,pointNumber:$.pointNumber,link:$,tinyColorHue:i.tinyRGB(ne),tinyColorAlpha:ne.getAlpha(),linkPath:p,linkLineColor:Z.linkLineColor,linkLineWidth:Z.linkLineWidth,linkArrowLength:Z.linkArrowLength,valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,parent:Z,interactionState:Z.interactionState,flow:$.flow}}function p(){return function(Z){var we,ze,Ee,Se,$=Z.linkArrowLength;if(Z.link.circular)return ze=$,Ee=(we=Z.link).width/2,Se=we.circularPathData,"top"===we.circularLinkType?"M "+(Se.targetX-ze)+" "+(Se.targetY+Ee)+" L"+(Se.rightInnerExtent-ze)+" "+(Se.targetY+Ee)+"A"+(Se.rightLargeArcRadius+Ee)+" "+(Se.rightSmallArcRadius+Ee)+" 0 0 1 "+(Se.rightFullExtent-Ee-ze)+" "+(Se.targetY-Se.rightSmallArcRadius)+"L"+(Se.rightFullExtent-Ee-ze)+" "+Se.verticalRightInnerExtent+"A"+(Se.rightLargeArcRadius+Ee)+" "+(Se.rightLargeArcRadius+Ee)+" 0 0 1 "+(Se.rightInnerExtent-ze)+" "+(Se.verticalFullExtent-Ee)+"L"+Se.leftInnerExtent+" "+(Se.verticalFullExtent-Ee)+"A"+(Se.leftLargeArcRadius+Ee)+" "+(Se.leftLargeArcRadius+Ee)+" 0 0 1 "+(Se.leftFullExtent+Ee)+" "+Se.verticalLeftInnerExtent+"L"+(Se.leftFullExtent+Ee)+" "+(Se.sourceY-Se.leftSmallArcRadius)+"A"+(Se.leftLargeArcRadius+Ee)+" "+(Se.leftSmallArcRadius+Ee)+" 0 0 1 "+Se.leftInnerExtent+" "+(Se.sourceY+Ee)+"L"+Se.sourceX+" "+(Se.sourceY+Ee)+"L"+Se.sourceX+" "+(Se.sourceY-Ee)+"L"+Se.leftInnerExtent+" "+(Se.sourceY-Ee)+"A"+(Se.leftLargeArcRadius-Ee)+" "+(Se.leftSmallArcRadius-Ee)+" 0 0 0 "+(Se.leftFullExtent-Ee)+" "+(Se.sourceY-Se.leftSmallArcRadius)+"L"+(Se.leftFullExtent-Ee)+" "+Se.verticalLeftInnerExtent+"A"+(Se.leftLargeArcRadius-Ee)+" "+(Se.leftLargeArcRadius-Ee)+" 0 0 0 "+Se.leftInnerExtent+" "+(Se.verticalFullExtent+Ee)+"L"+(Se.rightInnerExtent-ze)+" "+(Se.verticalFullExtent+Ee)+"A"+(Se.rightLargeArcRadius-Ee)+" "+(Se.rightLargeArcRadius-Ee)+" 0 0 0 "+(Se.rightFullExtent+Ee-ze)+" "+Se.verticalRightInnerExtent+"L"+(Se.rightFullExtent+Ee-ze)+" "+(Se.targetY-Se.rightSmallArcRadius)+"A"+(Se.rightLargeArcRadius-Ee)+" "+(Se.rightSmallArcRadius-Ee)+" 0 0 0 "+(Se.rightInnerExtent-ze)+" "+(Se.targetY-Ee)+"L"+(Se.targetX-ze)+" "+(Se.targetY-Ee)+(ze>0?"L"+Se.targetX+" "+Se.targetY:"")+"Z":"M "+(Se.targetX-ze)+" "+(Se.targetY-Ee)+" L"+(Se.rightInnerExtent-ze)+" "+(Se.targetY-Ee)+"A"+(Se.rightLargeArcRadius+Ee)+" "+(Se.rightSmallArcRadius+Ee)+" 0 0 0 "+(Se.rightFullExtent-Ee-ze)+" "+(Se.targetY+Se.rightSmallArcRadius)+"L"+(Se.rightFullExtent-Ee-ze)+" "+Se.verticalRightInnerExtent+"A"+(Se.rightLargeArcRadius+Ee)+" "+(Se.rightLargeArcRadius+Ee)+" 0 0 0 "+(Se.rightInnerExtent-ze)+" "+(Se.verticalFullExtent+Ee)+"L"+Se.leftInnerExtent+" "+(Se.verticalFullExtent+Ee)+"A"+(Se.leftLargeArcRadius+Ee)+" "+(Se.leftLargeArcRadius+Ee)+" 0 0 0 "+(Se.leftFullExtent+Ee)+" "+Se.verticalLeftInnerExtent+"L"+(Se.leftFullExtent+Ee)+" "+(Se.sourceY+Se.leftSmallArcRadius)+"A"+(Se.leftLargeArcRadius+Ee)+" "+(Se.leftSmallArcRadius+Ee)+" 0 0 0 "+Se.leftInnerExtent+" "+(Se.sourceY-Ee)+"L"+Se.sourceX+" "+(Se.sourceY-Ee)+"L"+Se.sourceX+" "+(Se.sourceY+Ee)+"L"+Se.leftInnerExtent+" "+(Se.sourceY+Ee)+"A"+(Se.leftLargeArcRadius-Ee)+" "+(Se.leftSmallArcRadius-Ee)+" 0 0 1 "+(Se.leftFullExtent-Ee)+" "+(Se.sourceY+Se.leftSmallArcRadius)+"L"+(Se.leftFullExtent-Ee)+" "+Se.verticalLeftInnerExtent+"A"+(Se.leftLargeArcRadius-Ee)+" "+(Se.leftLargeArcRadius-Ee)+" 0 0 1 "+Se.leftInnerExtent+" "+(Se.verticalFullExtent-Ee)+"L"+(Se.rightInnerExtent-ze)+" "+(Se.verticalFullExtent-Ee)+"A"+(Se.rightLargeArcRadius-Ee)+" "+(Se.rightLargeArcRadius-Ee)+" 0 0 1 "+(Se.rightFullExtent+Ee-ze)+" "+Se.verticalRightInnerExtent+"L"+(Se.rightFullExtent+Ee-ze)+" "+(Se.targetY+Se.rightSmallArcRadius)+"A"+(Se.rightLargeArcRadius-Ee)+" "+(Se.rightSmallArcRadius-Ee)+" 0 0 1 "+(Se.rightInnerExtent-ze)+" "+(Se.targetY+Ee)+"L"+(Se.targetX-ze)+" "+(Se.targetY+Ee)+(ze>0?"L"+Se.targetX+" "+Se.targetY:"")+"Z";var se=Math.abs((Z.link.target.x0-Z.link.source.x1)/2);$>se&&($=se);var ne=Z.link.source.x1,re=Z.link.target.x0-$,Q=E(ne,re),ee=Q(.5),oe=Q(.5),ce=Z.link.y0-Z.link.width/2,ue=Z.link.y0+Z.link.width/2,he=Z.link.y1-Z.link.width/2,ve=Z.link.y1+Z.link.width/2,_e=$>0?"L"+(re+$)+","+(he+Z.link.width/2):"";return"M"+ne+","+ce+"C"+ee+","+ce+" "+oe+","+he+" "+re+","+he+(_e+="L"+re+","+ve)+"C"+oe+","+ve+" "+ee+","+ue+" "+ne+","+ue+"Z"}}function I(Z,$){var se=u($.color),ne=v.nodePadAcross,re=Z.nodePad/2;$.dx=$.x1-$.x0,$.dy=$.y1-$.y0;var Q=$.dx,ee=Math.max(.5,$.dy),oe="node_"+$.pointNumber;return $.group&&(oe=a.randstr()),$.trace=Z.trace,$.curveNumber=Z.trace.index,{index:$.pointNumber,key:oe,partOfGroup:$.partOfGroup||!1,group:$.group,traceId:Z.key,trace:Z.trace,node:$,nodePad:Z.nodePad,nodeLineColor:Z.nodeLineColor,nodeLineWidth:Z.nodeLineWidth,textFont:Z.textFont,size:Z.horizontal?Z.height:Z.width,visibleWidth:Math.ceil(Q),visibleHeight:ee,zoneX:-ne,zoneY:-re,zoneWidth:Q+2*ne,zoneHeight:ee+2*re,labelY:Z.horizontal?$.dy/2+1:$.dx/2+1,left:1===$.originalLayer,sizeAcross:Z.width,forceLayouts:Z.forceLayouts,horizontal:Z.horizontal,darkBackground:se.getBrightness()<=128,tinyColorHue:i.tinyRGB(se),tinyColorAlpha:se.getAlpha(),valueFormat:Z.valueFormat,valueSuffix:Z.valueSuffix,sankey:Z.sankey,graph:Z.graph,arrangement:Z.arrangement,uniqueNodeLabelPathId:[Z.guid,Z.key,oe].join("_"),interactionState:Z.interactionState,figure:Z}}function k(Z){Z.attr("transform",function($){return o($.node.x0.toFixed(3),$.node.y0.toFixed(3))})}function L(Z){Z.call(k)}function O(Z,$){Z.call(L),$.attr("d",p())}function P(Z){Z.attr("width",function($){return $.node.x1-$.node.x0}).attr("height",function($){return $.visibleHeight})}function F(Z){return Z.link.width>1||Z.linkLineWidth>0}function j(Z){return o(Z.translateX,Z.translateY)+(Z.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function X(Z,$,se){Z.on(".basic",null).on("mouseover.basic",function(ne){ne.interactionState.dragInProgress||ne.partOfGroup||(se.hover(this,ne,$),ne.interactionState.hovered=[this,ne])}).on("mousemove.basic",function(ne){ne.interactionState.dragInProgress||ne.partOfGroup||(se.follow(this,ne),ne.interactionState.hovered=[this,ne])}).on("mouseout.basic",function(ne){ne.interactionState.dragInProgress||ne.partOfGroup||(se.unhover(this,ne,$),ne.interactionState.hovered=!1)}).on("click.basic",function(ne){ne.interactionState.hovered&&(se.unhover(this,ne,$),ne.interactionState.hovered=!1),ne.interactionState.dragInProgress||ne.partOfGroup||se.select(this,ne,$)})}function N(Z,$,se,ne){var re=d.behavior.drag().origin(function(Q){return{x:Q.node.x0+Q.visibleWidth/2,y:Q.node.y0+Q.visibleHeight/2}}).on("dragstart",function(Q){if("fixed"!==Q.arrangement&&(a.ensureSingle(ne._fullLayout._infolayer,"g","dragcover",function(oe){ne._fullLayout._dragCover=oe}),a.raiseToTop(this),Q.interactionState.dragInProgress=Q.node,G(Q.node),Q.interactionState.hovered&&(se.nodeEvents.unhover.apply(0,Q.interactionState.hovered),Q.interactionState.hovered=!1),"snap"===Q.arrangement)){var ee=Q.traceId+"|"+Q.key;Q.forceLayouts[ee]?Q.forceLayouts[ee].alpha(1):function(oe,ce,ue,he){!function(ke){for(var Ie=0;Ie<ke.length;Ie++)ke[Ie].y=(ke[Ie].y0+ke[Ie].y1)/2,ke[Ie].x=(ke[Ie].x0+ke[Ie].x1)/2}(ue.graph.nodes);var Ie,Me,_e,ve=ue.graph.nodes.filter(function(ke){return ke.originalX===ue.node.originalX}).filter(function(ke){return!ke.partOfGroup});ue.forceLayouts[ce]=D.forceSimulation(ve).alphaDecay(0).force("collide",D.forceCollide().radius(function(ke){return ke.dy/2+ue.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",(Ie=ce,Me=ve,_e=ue,function(){for(var we=0,ze=0;ze<Me.length;ze++){var Ee=Me[ze];Ee===_e.interactionState.dragInProgress?(Ee.x=Ee.lastDraggedX,Ee.y=Ee.lastDraggedY):(Ee.vx=(Ee.originalX-Ee.x)/v.forceTicksPerFrame,Ee.y=Math.min(_e.size-Ee.dy/2,Math.max(Ee.dy/2,Ee.y))),we=Math.max(we,Math.abs(Ee.vx),Math.abs(Ee.vy))}!_e.interactionState.dragInProgress&&we<.1&&_e.forceLayouts[Ie].alpha()>0&&_e.forceLayouts[Ie].alpha(0)})).stop()}(0,ee,Q),oe=Z,ce=$,ue=Q,he=ee,ve=ne,window.requestAnimationFrame(function ke(){var Ie;for(Ie=0;Ie<v.forceTicksPerFrame;Ie++)ue.forceLayouts[he].tick();if(function(_e){for(var we=0;we<_e.length;we++)_e[we].y0=_e[we].y-_e[we].dy/2,_e[we].y1=_e[we].y0+_e[we].dy,_e[we].x0=_e[we].x-_e[we].dx/2,_e[we].x1=_e[we].x0+_e[we].dx}(ue.graph.nodes),ue.sankey.update(ue.graph),O(oe.filter(H(ue)),ce),ue.forceLayouts[he].alpha()>0)window.requestAnimationFrame(ke);else{var Me=ue.node.originalX;ue.node.x0=Me-ue.visibleWidth/2,ue.node.x1=Me+ue.visibleWidth/2,q(ue,ve)}})}var oe,ce,ue,he,ve}).on("drag",function(Q){if("fixed"!==Q.arrangement){var ee=d.event.x,oe=d.event.y;"snap"===Q.arrangement?(Q.node.x0=ee-Q.visibleWidth/2,Q.node.x1=ee+Q.visibleWidth/2,Q.node.y0=oe-Q.visibleHeight/2,Q.node.y1=oe+Q.visibleHeight/2):("freeform"===Q.arrangement&&(Q.node.x0=ee-Q.visibleWidth/2,Q.node.x1=ee+Q.visibleWidth/2),oe=Math.max(0,Math.min(Q.size-Q.visibleHeight/2,oe)),Q.node.y0=oe-Q.visibleHeight/2,Q.node.y1=oe+Q.visibleHeight/2),G(Q.node),"snap"!==Q.arrangement&&(Q.sankey.update(Q.graph),O(Z.filter(H(Q)),$))}}).on("dragend",function(Q){if("fixed"!==Q.arrangement){Q.interactionState.dragInProgress=!1;for(var ee=0;ee<Q.node.childrenNodes.length;ee++)Q.node.childrenNodes[ee].x=Q.node.x,Q.node.childrenNodes[ee].y=Q.node.y;"snap"!==Q.arrangement&&q(Q,ne)}});Z.on(".drag",null).call(re)}function q(Z,$){for(var se=[],ne=[],re=0;re<Z.graph.nodes.length;re++){var ee=(Z.graph.nodes[re].y0+Z.graph.nodes[re].y1)/2;se.push((Z.graph.nodes[re].x0+Z.graph.nodes[re].x1)/2/Z.figure.width),ne.push(ee/Z.figure.height)}x.call("_guiRestyle",$,{"node.x":[se],"node.y":[ne]},Z.trace.index).then(function(){$._fullLayout._dragCover&&$._fullLayout._dragCover.remove()})}function G(Z){Z.lastDraggedX=Z.x0+Z.dx/2,Z.lastDraggedY=Z.y0+Z.dy/2}function H(Z){return function($){return $.node.originalX===Z.node.originalX}}ae.exports=function(Z,$,se,ne,re){var Q=Z._context.staticPlot,ee=!1;a.ensureSingle(Z._fullLayout._infolayer,"g","first-render",function(){ee=!0});var oe=Z._fullLayout._dragCover,ce=se.filter(function(we){return h(we).trace.visible}).map(w.bind(null,ne)),ue=$.selectAll("."+v.cn.sankey).data(ce,f);ue.exit().remove(),ue.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Q?"none":"auto").attr("transform",j),ue.each(function(we,ze){Z._fullData[ze]._sankey=we;var Ee="bgsankey-"+we.trace.uid+"-"+ze;a.ensureSingle(Z._fullLayout._draggers,"rect",Ee),Z._fullData[ze]._bgRect=d.select("."+Ee),Z._fullData[ze]._bgRect.style("pointer-events",Q?"none":"all").attr("width",we.width).attr("height",we.height).attr("x",we.translateX).attr("y",we.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ue.transition().ease(v.ease).duration(v.duration).attr("transform",j);var he=ue.selectAll("."+v.cn.sankeyLinks).data(g,f);he.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var ve=he.selectAll("."+v.cn.sankeyLink).data(function(we){return we.graph.links.filter(function(ze){return ze.value}).map(A.bind(null,we))},f);ve.enter().append("path").classed(v.cn.sankeyLink,!0).call(X,ue,re.linkEvents),ve.style("stroke",function(we){return F(we)?i.tinyRGB(u(we.linkLineColor)):we.tinyColorHue}).style("stroke-opacity",function(we){return F(we)?i.opacity(we.linkLineColor):we.tinyColorAlpha}).style("fill",function(we){return we.tinyColorHue}).style("fill-opacity",function(we){return we.tinyColorAlpha}).style("stroke-width",function(we){return F(we)?we.linkLineWidth:1}).attr("d",p()),ve.style("opacity",function(){return Z._context.staticPlot||ee||oe?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),ve.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var ke=ue.selectAll("."+v.cn.sankeyNodeSet).data(g,f);ke.enter().append("g").classed(v.cn.sankeyNodeSet,!0),ke.style("cursor",function(we){switch(we.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ie=ke.selectAll("."+v.cn.sankeyNode).data(function(we){var ze=we.graph.nodes;return function(Ee){var Se,me=[];for(Se=0;Se<Ee.length;Se++)Ee[Se].originalX=(Ee[Se].x0+Ee[Se].x1)/2,Ee[Se].originalY=(Ee[Se].y0+Ee[Se].y1)/2,-1===me.indexOf(Ee[Se].originalX)&&me.push(Ee[Se].originalX);for(me.sort(function(fe,le){return fe-le}),Se=0;Se<Ee.length;Se++)Ee[Se].originalLayerIndex=me.indexOf(Ee[Se].originalX),Ee[Se].originalLayer=Ee[Se].originalLayerIndex/(me.length-1)}(ze),ze.map(I.bind(null,we))},f);Ie.enter().append("g").classed(v.cn.sankeyNode,!0).call(k).style("opacity",function(we){return!Z._context.staticPlot&&!ee||we.partOfGroup?0:1}),Ie.call(X,ue,re.nodeEvents).call(N,ve,re,Z),Ie.transition().ease(v.ease).duration(v.duration).call(k).style("opacity",function(we){return we.partOfGroup?0:1}),Ie.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Me=Ie.selectAll("."+v.cn.nodeRect).data(g);Me.enter().append("rect").classed(v.cn.nodeRect,!0).call(P),Me.style("stroke-width",function(we){return we.nodeLineWidth}).style("stroke",function(we){return i.tinyRGB(u(we.nodeLineColor))}).style("stroke-opacity",function(we){return i.opacity(we.nodeLineColor)}).style("fill",function(we){return we.tinyColorHue}).style("fill-opacity",function(we){return we.tinyColorAlpha}),Me.transition().ease(v.ease).duration(v.duration).call(P);var _e=Ie.selectAll("."+v.cn.nodeLabel).data(g);_e.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),_e.attr("data-notex",1).text(function(we){return we.node.label}).each(function(we){var ze=d.select(this);s.font(ze,we.textFont),T.convertToTspans(ze,Z)}).style("text-shadow",T.makeTextShadow(Z._fullLayout.paper_bgcolor)).attr("text-anchor",function(we){return we.horizontal&&we.left?"end":"start"}).attr("transform",function(we){var ze=d.select(this),Ee=T.lineCount(ze),me=we.nodeLineWidth/2+3,fe=((we.horizontal?we.visibleHeight:we.visibleWidth)-we.textFont.size*((Ee-1)*_-b))/2;we.horizontal&&(we.left?me=-me:me+=we.visibleWidth);var le=we.horizontal?"":"scale(-1,1)"+l(90);return o(we.horizontal?me:fe,we.horizontal?fe:me)+le}),_e.transition().ease(v.ease).duration(v.duration)}},84564:function(ae){"use strict";ae.exports=function(B,r){for(var D=[],E=B.cd[0].trace,d=E._sankey.graph.nodes,S=0;S<d.length;S++){var M=d[S];if(!M.partOfGroup){var v=[(M.x0+M.x1)/2,(M.y0+M.y1)/2];"v"===E.orientation&&v.reverse(),r&&r.contains(v,!1,S,B)&&D.push({pointNumber:M.pointNumber})}}return D}},75225:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d){for(var S=0;S<E.length;S++)E[S].i=S;D.mergeArray(d.text,E,"tx"),D.mergeArray(d.texttemplate,E,"txt"),D.mergeArray(d.hovertext,E,"htx"),D.mergeArray(d.customdata,E,"data"),D.mergeArray(d.textposition,E,"tp"),d.textfont&&(D.mergeArrayCastPositive(d.textfont.size,E,"ts"),D.mergeArray(d.textfont.color,E,"tc"),D.mergeArray(d.textfont.family,E,"tf"));var M=d.marker;if(M){D.mergeArrayCastPositive(M.size,E,"ms"),D.mergeArrayCastPositive(M.opacity,E,"mo"),D.mergeArray(M.symbol,E,"mx"),D.mergeArray(M.angle,E,"ma"),D.mergeArray(M.standoff,E,"mf"),D.mergeArray(M.color,E,"mc");var v=M.line;M.line&&(D.mergeArray(v.color,E,"mlc"),D.mergeArrayCastPositive(v.width,E,"mlw"));var u=M.gradient;u&&"none"!==u.type&&(D.mergeArray(u.type,E,"mgt"),D.mergeArray(u.color,E,"mgc"))}}},82196:function(ae,B,r){"use strict";var D=r(12663).axisHoverFormat,E=r(5386).si,d=r(5386).fF,S=r(50693),M=r(41940),v=r(79952).P,u=r(79952).u,i=r(91424),s=r(47581),a=r(1426).extendFlat;ae.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:D("x"),yhoverformat:D("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:E({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:d({},{keys:s.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:u,marker:a({symbol:{valType:"enumerated",values:i.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},S("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},S("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:M({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(89298),S=r(42973),M=r(50606).BADNUM,v=r(34098),u=r(36922),i=r(75225),s=r(66279);function a(g,h,T,x,m,b,_){var w=h._length,A=g._fullLayout,p=T._id,I=x._id,k=A._firstScatter[c(h)]===h.uid,L=(f(h,A,T,x)||{}).orientation,O=h.fill;T._minDtick=0,x._minDtick=0;var P={padded:!0},F={padded:!0};_&&(P.ppad=F.ppad=_);var j=w<2||m[0]!==m[w-1]||b[0]!==b[w-1];j&&("tozerox"===O||"tonextx"===O&&(k||"h"===L))?P.tozero=!0:(h.error_y||{}).visible||"tonexty"!==O&&"tozeroy"!==O&&(v.hasMarkers(h)||v.hasText(h))||(P.padded=!1,P.ppad=0),j&&("tozeroy"===O||"tonexty"===O&&(k||"v"===L))?F.tozero=!0:"tonextx"!==O&&"tozerox"!==O||(F.padded=!1),p&&(h._extremes[p]=d.findExtremes(T,m,P)),I&&(h._extremes[I]=d.findExtremes(x,b,F))}function o(g,h){if(v.hasMarkers(g)){var T,x=g.marker,m=1.6*(g.marker.sizeref||1);if(T="area"===g.marker.sizemode?function(p){return Math.max(Math.sqrt((p||0)/m),3)}:function(p){return Math.max((p||0)/m,3)},E.isArrayOrTypedArray(x.size)){var b={type:"linear"};d.setConvert(b);for(var _=b.makeCalcdata(g.marker,"size"),w=new Array(h),A=0;A<h;A++)w[A]=T(_[A]);return w}return T(x.size)}}function l(g,h){var T=c(h),x=g._firstScatter;x[T]||(x[T]=h.uid)}function c(g){var h=g.stackgroup;return g.xaxis+g.yaxis+g.type+(h?"-"+h:"")}function f(g,h,T,x){var m=g.stackgroup;if(m){var b=h._scatterStackOpts[T._id+x._id][m],_="v"===b.orientation?x:T;return"linear"===_.type||"log"===_.type?b:void 0}}ae.exports={calc:function(g,h){var T,x,m,b,_,w,A=g._fullLayout,p=h._xA=d.getFromId(g,h.xaxis||"x","x"),I=h._yA=d.getFromId(g,h.yaxis||"y","y"),k=p.makeCalcdata(h,"x"),L=I.makeCalcdata(h,"y"),O=S(h,p,"x",k),P=S(h,I,"y",L),F=O.vals,j=P.vals,X=h._length,N=new Array(X),q=h.ids,G=f(h,A,p,I),H=!1;l(A,h);var Z,$="x",se="y";G?(E.pushUnique(G.traceIndices,h._expandedIndex),(T="v"===G.orientation)?(se="s",Z="x"):($="s",Z="y"),_="interpolate"===G.stackgaps):a(g,h,p,I,F,j,o(h,X));var ne=!!h.xperiodalignment,re=!!h.yperiodalignment;for(x=0;x<X;x++){var Q=N[x]={},ee=D(F[x]),oe=D(j[x]);ee&&oe?(Q[$]=F[x],Q[se]=j[x],ne&&(Q.orig_x=k[x],Q.xEnd=O.ends[x],Q.xStart=O.starts[x]),re&&(Q.orig_y=L[x],Q.yEnd=P.ends[x],Q.yStart=P.starts[x])):G&&(T?ee:oe)?(Q[Z]=T?F[x]:j[x],Q.gap=!0,_?(Q.s=M,H=!0):Q.s=0):Q[$]=Q[se]=M,q&&(Q.id=String(q[x]))}if(i(N,h),u(g,h),s(N,h),G){for(x=0;x<N.length;)N[x][Z]===M?N.splice(x,1):x++;if(E.sort(N,function(ve,ke){return ve[Z]-ke[Z]||ve.i-ke.i}),H){for(x=0;x<N.length-1&&N[x].gap;)x++;for((w=N[x].s)||(w=N[x].s=0),m=0;m<x;m++)N[m].s=w;for(b=N.length-1;b>x&&N[b].gap;)b--;for(w=N[b].s,m=N.length-1;m>b;m--)N[m].s=w;for(;x<b;)if(N[++x].gap){for(m=x+1;N[m].gap;)m++;for(var ce=N[x-1][Z],ue=N[x-1].s,he=(N[m].s-ue)/(N[m][Z]-ce);x<m;)N[x].s=ue+(N[x][Z]-ce)*he,x++}}}return N},calcMarkerSize:o,calcAxisExpansion:a,setFirstScatter:l,getStackOpts:f}},66279:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d){D.isArrayOrTypedArray(d.selectedpoints)&&D.tagSelected(E,d)}},36922:function(ae,B,r){"use strict";var D=r(52075).hasColorscale,E=r(78803),d=r(34098);ae.exports=function(S,M){d.hasLines(M)&&D(M,"line")&&E(S,M,{vals:M.line.color,containerStr:"line",cLetter:"c"}),d.hasMarkers(M)&&(D(M,"marker")&&E(S,M,{vals:M.marker.color,containerStr:"marker",cLetter:"c"}),D(M,"marker.line")&&E(S,M,{vals:M.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(ae){"use strict";ae.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(ae,B,r){"use strict";var D=r(47761),E=r(11661).setGroupPositions;function d(S,M,v,u,i,s,a){i[u]=!0;var c,f,h,T,x,o={i:null,gap:!0,s:0};if(o[a]=v,S.splice(M,0,o),M&&v===S[M-1][a]){var l=S[M-1];o.s=l.s,o.i=l.i,o.gap=l.gap}else s&&(o.s=(h=a,T=(c=S)[(f=M)-1],(x=c[f+1])?T?T.s+(x.s-T.s)*(v-T[h])/(x[h]-T[h]):x.s:T.s));M||(S[0].t=S[1].t,S[0].trace=S[1].trace,delete S[1].t,delete S[1].trace)}ae.exports=function(S,M){"group"===S._fullLayout.scattermode&&function(Z,$){for(var se=$.xaxis,ne=$.yaxis,re=Z._fullLayout,Q=Z._fullData,ee=Z.calcdata,oe=[],ce=[],ue=0;ue<Q.length;ue++){var he=Q[ue];!0===he.visible&&"scatter"===he.type&&he.xaxis===se._id&&he.yaxis===ne._id&&("h"===he.orientation?oe.push(ee[ue]):"v"===he.orientation&&ce.push(ee[ue]))}var ve={mode:re.scattermode,gap:re.scattergap};E(Z,se,ne,ce,ve),E(Z,ne,se,oe,ve)}(S,M);var v=M.xaxis,u=M.yaxis,s=S._fullLayout._scatterStackOpts[v._id+u._id];if(s){var a,o,l,c,f,g,h,T,x,m,b,_,w,A,p,I=S.calcdata;for(var k in s){var L=(m=s[k]).traceIndices;if(L.length){for(b="interpolate"===m.stackgaps,_=m.groupnorm,"v"===m.orientation?(w="x",A="y"):(w="y",A="x"),p=new Array(L.length),a=0;a<p.length;a++)p[a]=!1;g=I[L[0]];var O=new Array(g.length);for(a=0;a<g.length;a++)O[a]=g[a][w];for(a=1;a<L.length;a++){for(f=I[L[a]],o=l=0;o<f.length;o++){for(h=f[o][w];h>O[l]&&l<O.length;l++)d(f,o,O[l],a,p,b,w),o++;if(h!==O[l]){for(c=0;c<a;c++)d(I[L[c]],l,h,c,p,b,w);O.splice(l,0,h)}l++}for(;l<O.length;l++)d(f,o,O[l],a,p,b,w),o++}var P=O.length;for(o=0;o<g.length;o++){for(T=g[o][A]=g[o].s,a=1;a<L.length;a++)(f=I[L[a]])[0].trace._rawLength=f[0].trace._length,f[0].trace._length=P,f[o][A]=T+=f[o].s;if(_)for(x=("fraction"===_?T:T/100)||1,a=0;a<L.length;a++){var F=I[L[a]][o];F[A]/=x,F.sNorm=F.s/x}}for(a=0;a<L.length;a++){var j=(f=I[L[a]])[0].trace,X=D.calcMarkerSize(j,j._rawLength),N=Array.isArray(X);if(X&&p[a]||N){var q=X;for(X=new Array(P),o=0;o<P;o++)X[o]=f[o].gap?0:N?q[f[o].i]:q}var G=new Array(P),H=new Array(P);for(o=0;o<P;o++)G[o]=f[o].x,H[o]=f[o].y;D.calcAxisExpansion(S,j,v,u,G,H,X),f[0].t.orientation=m.orientation}}}}}},34936:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),d=r(82196);ae.exports=function(S,M){var u,i;function s(f){return D.coerce(u._input,u,d,f)}if("group"===M.scattermode)for(i=0;i<S.length;i++)"scatter"===(u=S[i]).type&&E(u._input,u,M,s);for(i=0;i<S.length;i++){var a=S[i];if("scatter"===a.type){var o=a.fill;if("none"!==o&&"toself"!==o&&(a.opacity=void 0,"tonexty"===o||"tonextx"===o))for(var l=i-1;l>=0;l--){var c=S[l];if("scatter"===c.type&&c.xaxis===a.xaxis&&c.yaxis===a.yaxis){c.opacity=void 0;break}}}}}},17438:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),d=r(82196),S=r(47581),M=r(34098),v=r(67513),u=r(73927),i=r(565),s=r(49508),a=r(11058),o=r(94039),l=r(82410),c=r(28908),f=r(71828).coercePattern;ae.exports=function(g,h,T,x){function m(L,O){return D.coerce(g,h,d,L,O)}var b=v(g,h,x,m);if(b||(h.visible=!1),h.visible){u(g,h,x,m),m("xhoverformat"),m("yhoverformat");var _=i(g,h,x,m);"group"===x.scattermode&&void 0===h.orientation&&m("orientation","v");var w=!_&&b<S.PTS_LINESONLY?"lines+markers":"lines";m("text"),m("hovertext"),m("mode",w),M.hasLines(h)&&(a(g,h,T,x,m,{backoff:!0}),o(g,h,m),m("connectgaps"),m("line.simplify")),M.hasMarkers(h)&&s(g,h,T,x,m,{gradient:!0}),M.hasText(h)&&(m("texttemplate"),l(g,h,x,m));var A=[];(M.hasMarkers(h)||M.hasText(h))&&(m("cliponaxis"),m("marker.maxdisplayed"),A.push("points")),m("fill",_?_.fillDflt:"none"),"none"!==h.fill&&(c(g,h,T,m),M.hasLines(h)||o(g,h,m),f(m,"fillpattern",h.fillcolor,!1));var p=(h.line||{}).color,I=(h.marker||{}).color;"tonext"!==h.fill&&"toself"!==h.fill||A.push("fills"),m("hoveron",A.join("+")||"points"),"fills"!==h.hoveron&&m("hovertemplate");var k=E.getComponentMethod("errorbars","supplyDefaults");k(g,h,p||I||T,{axis:"y"}),k(g,h,p||I||T,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(h,m)}}},28908:function(ae,B,r){"use strict";var D=r(7901),E=r(71828).isArrayOrTypedArray;ae.exports=function(d,S,M,v){var u=!1;if(S.marker){var i=S.marker.color,s=(S.marker.line||{}).color;i&&!E(i)?u=i:s&&!E(s)&&(u=s)}v("fillcolor",D.addOpacity((S.line||{}).color||u||M,.5))}},8225:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,d,S){var M={},v={_fullLayout:S},u=D.getFromTrace(v,d,"x"),i=D.getFromTrace(v,d,"y"),s=E.orig_x;void 0===s&&(s=E.x);var a=E.orig_y;return void 0===a&&(a=E.y),M.xLabel=D.tickText(u,u.c2l(s),!0).text,M.yLabel=D.tickText(i,i.c2l(a),!0).text,M}},34603:function(ae,B,r){"use strict";var D=r(7901),E=r(34098);ae.exports=function(d,S){var M,v;if("lines"===d.mode)return(M=d.line.color)&&D.opacity(M)?M:d.fillcolor;if("none"===d.mode)return d.fill?d.fillcolor:"";var u=S.mcc||(d.marker||{}).color,i=S.mlcc||((d.marker||{}).line||{}).color;return(v=u&&D.opacity(u)?u:i&&D.opacity(i)&&(S.mlw||((d.marker||{}).line||{}).width)?i:"")?D.opacity(v)<.3?D.addOpacity(v,.3):v:(M=(d.line||{}).color)&&D.opacity(M)&&E.hasLines(d)&&d.line.width?M:d.fillcolor}},26125:function(ae,B,r){"use strict";var D=r(99082).getAxisGroup;ae.exports=function(E,d,S,M){var v=d.orientation,i=D(S,d[{v:"x",h:"y"}[v]+"axis"])+v,s=S._alignmentOpts||{},a=M("alignmentgroup"),o=s[i];o||(o=s[i]={});var l=o[a];l?l.traces.push(d):l=o[a]={traces:[d],alignmentIndex:Object.keys(o).length,offsetGroups:{}};var c=M("offsetgroup"),f=l.offsetGroups,g=f[c];c&&(g||(g=f[c]={offsetIndex:Object.keys(f).length}),d._offsetIndex=g.offsetIndex)}},33720:function(ae,B,r){"use strict";var D=r(71828),E=r(30211),d=r(73972),S=r(34603),M=r(7901),v=D.fillText;ae.exports=function(u,i,s,a){var o=u.cd,l=o[0].trace,c=u.xa,f=u.ya,g=c.c2p(i),h=f.c2p(s),T=[g,h],x=l.hoveron||"",m=-1!==l.mode.indexOf("markers")?3:.5,b=!!l.xperiodalignment,_=!!l.yperiodalignment;if(-1!==x.indexOf("points")){var w=function(Ie){var Me=Math.max(m,Ie.mrc||0),_e=c.c2p(Ie.x)-g,we=f.c2p(Ie.y)-h;return Math.max(Math.sqrt(_e*_e+we*we)-Me,1-m/Me)},A=E.getDistanceFunction(a,function(Ie){if(b){var Me=c.c2p(Ie.xStart),_e=c.c2p(Ie.xEnd);return g>=Math.min(Me,_e)&&g<=Math.max(Me,_e)?0:1/0}var we=Math.max(3,Ie.mrc||0),ze=1-1/we,Ee=Math.abs(c.c2p(Ie.x)-g);return Ee<we?ze*Ee/we:Ee-we+ze},function(Ie){if(_){var Me=f.c2p(Ie.yStart),_e=f.c2p(Ie.yEnd);return h>=Math.min(Me,_e)&&h<=Math.max(Me,_e)?0:1/0}var we=Math.max(3,Ie.mrc||0),ze=1-1/we,Ee=Math.abs(f.c2p(Ie.y)-h);return Ee<we?ze*Ee/we:Ee-we+ze},w);if(E.getClosest(o,A,u),!1!==u.index){var p=o[u.index],I=c.c2p(p.x,!0),k=f.c2p(p.y,!0),L=p.mrc||1;u.index=p.i;var O=o[0].t.orientation,P=O&&(p.sNorm||p.s),F="h"===O?P:void 0!==p.orig_x?p.orig_x:p.x,j="v"===O?P:void 0!==p.orig_y?p.orig_y:p.y;return D.extendFlat(u,{color:S(l,p),x0:I-L,x1:I+L,xLabelVal:F,y0:k-L,y1:k+L,yLabelVal:j,spikeDistance:w(p),hovertemplate:l.hovertemplate}),v(p,l,u),d.getComponentMethod("errorbars","hoverInfo")(p,l,u),[u]}}if(-1!==x.indexOf("fills")&&l._polygons){var X,N,q,G,H,Z,se,ne,re=l._polygons,Q=[],ee=!1,oe=1/0,ce=-1/0,ue=1/0,he=-1/0;for(X=0;X<re.length;X++)(q=re[X]).contains(T)&&(ee=!ee,Q.push(q),ue=Math.min(ue,q.ymin),he=Math.max(he,q.ymax));if(ee){var ve=((ue=Math.max(ue,0))+(he=Math.min(he,f._length)))/2;for(X=0;X<Q.length;X++)for(G=Q[X].pts,N=1;N<G.length;N++)(se=G[N-1][1])>ve!=(ne=G[N][1])>=ve&&(Z=G[N-1][0],ne-se&&(H=Z+(G[N][0]-Z)*(ve-se)/(ne-se),oe=Math.min(oe,H),ce=Math.max(ce,H)));oe=Math.max(oe,0),ce=Math.min(ce,c._length);var ke=M.defaultLine;return M.opacity(l.fillcolor)?ke=l.fillcolor:M.opacity((l.line||{}).color)&&(ke=l.line.color),D.extendFlat(u,{distance:u.maxHoverDistance,x0:oe,x1:ce,y0:ve,y1:ve,color:ke,hovertemplate:!1}),delete u.index,u.text=l.text&&!Array.isArray(l.text)?String(l.text):l.name,[u]}}}},67368:function(ae,B,r){"use strict";var D=r(34098);ae.exports={hasLines:D.hasLines,hasMarkers:D.hasMarkers,hasText:D.hasText,isBubble:D.isBubble,attributes:r(82196),layoutAttributes:r(21479),supplyDefaults:r(17438),crossTraceDefaults:r(34936),supplyLayoutDefaults:r(79334),calc:r(47761).calc,crossTraceCalc:r(72626),arraysToCalcdata:r(75225),plot:r(32663),colorbar:r(4898),formatLabels:r(8225),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(33720),selectPoints:r(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(ae){"use strict";ae.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(ae,B,r){"use strict";var D=r(71828),E=r(21479);ae.exports=function(d,S){"group"===S.scattermode&&D.coerce(d,S,E,"scattergap","group"===S.barmode?S.bargap:.2)}},11058:function(ae,B,r){"use strict";var D=r(71828).isArrayOrTypedArray,E=r(52075).hasColorscale,d=r(1586);ae.exports=function(S,M,v,u,i,s){s||(s={});var a=(S.marker||{}).color;i("line.color",v),E(S,"line")?d(S,M,u,i,{prefix:"line.",cLetter:"c"}):i("line.color",!D(a)&&a||v),i("line.width"),s.noDash||i("line.dash"),s.backoff&&i("line.backoff")}},34621:function(ae,B,r){"use strict";var D=r(91424),E=r(50606),d=E.BADNUM,S=E.LOG_CLIP,M=S+.5,v=S-.5,u=r(71828),i=u.segmentsIntersect,s=u.constrain,a=r(47581);ae.exports=function(o,l){var c,f,g,h,T,x,m,b,_,w,A,p,I,k,L,O,P,F,j=l.trace||{},X=l.xaxis,N=l.yaxis,q="log"===X.type,G="log"===N.type,H=X._length,Z=N._length,$=l.backoff,se=j.marker,ne=l.connectGaps,re=l.baseTolerance,Q=l.shape,ee="linear"===Q,oe=j.fill&&"none"!==j.fill,ce=[],ue=a.minTolerance,he=o.length,ve=new Array(he),ke=0;function Ie(zt){var nt=o[zt];if(!nt)return!1;var it=l.linearized?X.l2p(nt.x):X.c2p(nt.x),Ke=l.linearized?N.l2p(nt.y):N.c2p(nt.y);if(it===d){if(q&&(it=X.c2p(nt.x,!0)),it===d)return!1;G&&Ke===d&&(it*=Math.abs(X._m*Z*(X._m>0?M:v)/(N._m*H*(N._m>0?M:v)))),it*=1e3}if(Ke===d){if(G&&(Ke=N.c2p(nt.y,!0)),Ke===d)return!1;Ke*=1e3}return[it,Ke]}function Me(zt,nt,it,Ke){var rt=it-zt,ft=Ke-nt,ht=.5-zt,Ve=.5-nt,Ge=rt*rt+ft*ft,ut=rt*ht+ft*Ve;if(ut>0&&ut<Ge){var dt=ht*ft-Ve*rt;if(dt*dt<Ge)return!0}}function _e(zt,nt){var it=zt[0]/H,Ke=zt[1]/Z,rt=Math.max(0,-it,it-1,-Ke,Ke-1);return rt&&void 0!==P&&Me(it,Ke,P,F)&&(rt=0),rt&&nt&&Me(it,Ke,nt[0]/H,nt[1]/Z)&&(rt=0),(1+a.toleranceGrowth*rt)*re}function we(zt,nt){var it=zt[0]-nt[0],Ke=zt[1]-nt[1];return Math.sqrt(it*it+Ke*Ke)}var ze,Ee,Se,me,fe,le,Te,Re=a.maxScreensAway,De=-H*Re,Ue=H*(1+Re),Ze=-Z*Re,xe=Z*(1+Re),Oe=[[De,Ze,Ue,Ze],[Ue,Ze,Ue,xe],[Ue,xe,De,xe],[De,xe,De,Ze]];function Ce(zt){if(zt[0]<De||zt[0]>Ue||zt[1]<Ze||zt[1]>xe)return[s(zt[0],De,Ue),s(zt[1],Ze,xe)]}function Be(zt,nt){return zt[0]===nt[0]&&(zt[0]===De||zt[0]===Ue)||zt[1]===nt[1]&&(zt[1]===Ze||zt[1]===xe)||void 0}function qe(zt,nt,it){return function(Ke,rt){var ft=Ce(Ke),ht=Ce(rt),Ve=[];if(ft&&ht&&Be(ft,ht))return Ve;ft&&Ve.push(ft),ht&&Ve.push(ht);var Ge=2*u.constrain((Ke[zt]+rt[zt])/2,nt,it)-((ft||Ke)[zt]+(ht||rt)[zt]);return Ge&&((ft&&ht?Ge>0==ft[zt]>ht[zt]?ft:ht:ft||ht)[zt]+=Ge),Ve}}function He(zt){var nt=zt[0],it=zt[1],Ke=nt===ve[ke-1][0],rt=it===ve[ke-1][1];if(!Ke||!rt)if(ke>1){var ft=nt===ve[ke-2][0],ht=it===ve[ke-2][1];Ke&&(nt===De||nt===Ue)&&ft?ht?ke--:ve[ke-1]=zt:rt&&(it===Ze||it===xe)&&ht?ft?ke--:ve[ke-1]=zt:ve[ke++]=zt}else ve[ke++]=zt}function Je(zt){ve[ke-1][0]!==zt[0]&&ve[ke-1][1]!==zt[1]&&He([Se,me]),He(zt),fe=null,Se=me=0}"linear"===Q||"spline"===Q?Te=function(zt,nt){for(var it=[],Ke=0,rt=0;rt<4;rt++){var ft=Oe[rt],ht=i(zt[0],zt[1],nt[0],nt[1],ft[0],ft[1],ft[2],ft[3]);ht&&(!Ke||Math.abs(ht.x-it[0][0])>1||Math.abs(ht.y-it[0][1])>1)&&(ht=[ht.x,ht.y],Ke&&we(ht,zt)<we(it[0],zt)?it.unshift(ht):it.push(ht),Ke++)}return it}:"hv"===Q||"vh"===Q?Te=function(zt,nt){var it=[],Ke=Ce(zt),rt=Ce(nt);return Ke&&rt&&Be(Ke,rt)||(Ke&&it.push(Ke),rt&&it.push(rt)),it}:"hvh"===Q?Te=qe(0,De,Ue):"vhv"===Q&&(Te=qe(1,Ze,xe));var et=u.isArrayOrTypedArray(se);function st(zt){if(zt&&$&&(zt.i=c,zt.d=o,zt.trace=j,zt.marker=et?se[zt.i]:se,zt.backoff=$),P=zt[0]/H,F=zt[1]/Z,Ee=zt[1]<Ze?Ze:zt[1]>xe?xe:0,(ze=zt[0]<De?De:zt[0]>Ue?Ue:0)||Ee){if(ke)if(fe){var nt=Te(fe,zt);nt.length>1&&(Je(nt[0]),ve[ke++]=nt[1])}else le=Te(ve[ke-1],zt)[0],ve[ke++]=le;else ve[ke++]=[ze||zt[0],Ee||zt[1]];var it=ve[ke-1];ze&&Ee&&(it[0]!==ze||it[1]!==Ee)?(fe&&(Se!==ze&&me!==Ee?He(Se&&me?(ft=(rt=zt)[0]-(Ke=fe)[0],ht=(rt[1]-Ke[1])/ft,(Ke[1]*rt[0]-rt[1]*Ke[0])/ft>0?[ht>0?De:Ue,xe]:[ht>0?Ue:De,Ze]):[Se||ze,me||Ee]):Se&&me&&He([Se,me])),He([ze,Ee])):Se-ze&&me-Ee&&He([ze||Se,Ee||me]),fe=zt,Se=ze,me=Ee}else fe&&Je(Te(fe,zt)[0]),ve[ke++]=zt;var Ke,rt,ft,ht}for(c=0;c<he;c++)if(f=Ie(c)){for(ke=0,fe=null,st(f),c++;c<he;c++){if(!(h=Ie(c))){if(ne)continue;break}if(ee&&l.simplify){var pt=Ie(c+1);if(w=we(h,f),oe&&(0===ke||ke===he-1)||!(w<_e(h,pt)*ue)){for(b=[(h[0]-f[0])/w,(h[1]-f[1])/w],T=f,A=w,p=k=L=0,m=!1,g=h,c++;c<o.length;c++){if(x=pt,pt=Ie(c+1),!x){if(ne)continue;break}if(O=(_=[x[0]-f[0],x[1]-f[1]])[0]*b[1]-_[1]*b[0],k=Math.min(k,O),(L=Math.max(L,O))-k>_e(x,pt))break;g=x,(I=_[0]*b[0]+_[1]*b[1])>A?(A=I,h=x,m=!1):I<p&&(p=I,T=x,m=!0)}if(m?(st(h),g!==T&&st(T)):(T!==f&&st(T),g!==h&&st(h)),st(g),c>=o.length||!x)break;st(x),f=x}}else st(h)}fe&&He([Se||fe[0],me||fe[1]]),ce.push(ve.slice(0,ke))}var ct=Q.slice(Q.length-1);if($&&"h"!==ct&&"v"!==ct){for(var St=!1,Dt=-1,vt=[],gt=0;gt<ce.length;gt++)for(var Et=0;Et<ce[gt].length-1;Et++){var Pt=ce[gt][Et],Ot=ce[gt][Et+1],Ht=D.applyBackoff(Ot,Pt);Ht[0]===Ot[0]&&Ht[1]===Ot[1]||(St=!0),vt[Dt+1]||(vt[++Dt]=[Pt,[Ht[0],Ht[1]]])}return St?vt:ce}return ce}},94039:function(ae){"use strict";ae.exports=function(B,r,D){"spline"===D("line.shape")&&D("line.smoothing")}},68687:function(ae){"use strict";var B={tonextx:1,tonexty:1,tonext:1};ae.exports=function(r,D,E){var d,S,M,v,u,i={},s=!1,a=-1,o=0,l=-1;for(S=0;S<E.length;S++)(M=(d=E[S][0].trace).stackgroup||"")?M in i?u=i[M]:(u=i[M]=o,o++):d.fill in B&&l>=0?u=l:(u=l=o,o++),u<a&&(s=!0),d._groupIndex=a=u;var c=E.slice();s&&c.sort(function(g,h){var T=g[0].trace,x=h[0].trace;return T._groupIndex-x._groupIndex||T.index-x.index});var f={};for(S=0;S<c.length;S++)M=(d=c[S][0].trace).stackgroup||"",!0===d.visible?(d._nexttrace=null,d.fill in B&&(d._prevtrace=(v=f[M])||null,v&&(v._nexttrace=d)),d._ownfill=d.fill&&("tozero"===d.fill.substr(0,6)||"toself"===d.fill||"to"===d.fill.substr(0,2)&&!d._prevtrace),f[M]=d):d._prevtrace=d._nexttrace=d._ownfill=null;return c}},39984:function(ae,B,r){"use strict";var D=r(92770);ae.exports=function(E,d){d||(d=2);var S=E.marker,M=S.sizeref||1,v=S.sizemin||0,u="area"===S.sizemode?function(i){return Math.sqrt(i/M)}:function(i){return i/M};return function(i){var s=u(i/d);return D(s)&&s>0?Math.max(s,v):0}}},4898:function(ae){"use strict";ae.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(ae,B,r){"use strict";var D=r(7901),E=r(52075).hasColorscale,d=r(1586),S=r(34098);ae.exports=function(M,v,u,i,s,a){var o=S.isBubble(M),l=(M.line||{}).color;a=a||{},l&&(u=l),s("marker.symbol"),s("marker.opacity",o?.7:1),s("marker.size"),a.noAngle||(s("marker.angle"),a.noAngleRef||s("marker.angleref"),a.noStandOff||s("marker.standoff")),s("marker.color",u),E(M,"marker")&&d(M,v,i,s,{prefix:"marker.",cLetter:"c"}),a.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),a.noLine||(s("marker.line.color",l&&!Array.isArray(l)&&v.marker.color!==l?l:o?D.background:D.defaultLine),E(M,"marker.line")&&d(M,v,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",o?1:0)),o&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),a.gradient&&"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}},73927:function(ae,B,r){"use strict";var D=r(71828).dateTick0,E=r(50606).ONEWEEK;function d(S,M){return D(M,S%E==0?1:0)}ae.exports=function(S,M,v,u,i){if(i||(i={x:!0,y:!0}),i.x){var s=u("xperiod");s&&(u("xperiod0",d(s,M.xcalendar)),u("xperiodalignment"))}if(i.y){var a=u("yperiod");a&&(u("yperiod0",d(a,M.ycalendar)),u("yperiodalignment"))}}},32663:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(71828),S=d.ensureSingle,M=d.identity,v=r(91424),u=r(34098),i=r(34621),s=r(68687),a=r(61082).tester;function o(l,c,f,g,h,T,x){var m,b=l._context.staticPlot;!function(Te,Re,De,Ue,Ze){var xe=De.xaxis,Oe=De.yaxis,Ce=D.extent(d.simpleMap(xe.range,xe.r2c)),Be=D.extent(d.simpleMap(Oe.range,Oe.r2c)),qe=Ue[0].trace;if(u.hasMarkers(qe)){var He=qe.marker.maxdisplayed;if(0!==He){var Je=Ue.filter(function(ct){return ct.x>=Ce[0]&&ct.x<=Ce[1]&&ct.y>=Be[0]&&ct.y<=Be[1]}),et=Math.ceil(Je.length/He),st=0;Ze.forEach(function(ct,St){var Dt=ct[0].trace;u.hasMarkers(Dt)&&Dt.marker.maxdisplayed>0&&St<Re&&st++});var pt=Math.round(st*et/3+Math.floor(st/3)*et/7.1);Ue.forEach(function(ct){delete ct.vis}),Je.forEach(function(ct,St){0===Math.round((St+pt)%et)&&(ct.vis=!0)})}}}(0,c,f,g,h);var _=!!x&&x.duration>0;function w(Te){return _?Te.transition():Te}var A=f.xaxis,p=f.yaxis,I=g[0].trace,k=I.line,L=D.select(T),O=S(L,"g","errorbars"),P=S(L,"g","lines"),F=S(L,"g","points"),j=S(L,"g","text");if(E.getComponentMethod("errorbars","plot")(l,O,f,x),!0===I.visible){var X,N;w(L).style("opacity",I.opacity);var q=I.fill.charAt(I.fill.length-1);"x"!==q&&"y"!==q&&(q=""),g[0][f.isRangePlot?"nodeRangePlot3":"node3"]=L;var G,H,Z="",$=[],se=I._prevtrace;se&&(Z=se._prevRevpath||"",N=se._nextFill,$=se._polygons);var ne,re,Q,ee,oe,ce,ue,he="",ve="",ke=[],Ie=d.noop;if(X=I._ownFill,u.hasLines(I)||"none"!==I.fill){for(N&&N.datum(g),-1!==["hv","vh","hvh","vhv"].indexOf(k.shape)?(ne=v.steps(k.shape),re=v.steps(k.shape.split("").reverse().join(""))):ne=re="spline"===k.shape?function(Te){var Re=Te[Te.length-1];return Te.length>1&&Te[0][0]===Re[0]&&Te[0][1]===Re[1]?v.smoothclosed(Te.slice(1),k.smoothing):v.smoothopen(Te,k.smoothing)}:function(Te){return"M"+Te.join("L")},Q=function(Te){return re(Te.reverse())},ke=i(g,{xaxis:A,yaxis:p,trace:I,connectGaps:I.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,backoff:k.backoff,simplify:k.simplify,fill:I.fill}),ue=I._polygons=new Array(ke.length),m=0;m<ke.length;m++)I._polygons[m]=a(ke[m]);ke.length&&(ee=ke[0][0],ce=(oe=ke[ke.length-1])[oe.length-1]),Ie=function(Te){return function(Re){if(G=ne(Re),H=Q(Re),he?q?(he+="L"+G.substr(1),ve=H+"L"+ve.substr(1)):(he+="Z"+G,ve=H+"Z"+ve):(he=G,ve=H),u.hasLines(I)){var De=D.select(this);if(De.datum(g),Te)w(De.style("opacity",0).attr("d",G).call(v.lineGroupStyle)).style("opacity",1);else{var Ue=w(De);Ue.attr("d",G),v.singleLineStyle(g,Ue)}}}}}var Me=P.selectAll(".js-line").data(ke);w(Me.exit()).style("opacity",0).remove(),Me.each(Ie(!1)),Me.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Ie(!0)),v.setClipUrl(Me,f.layerClipId,l),ke.length?(X?(X.datum(g),ee&&ce&&(q?("y"===q?ee[1]=ce[1]=p.c2p(0,!0):"x"===q&&(ee[0]=ce[0]=A.c2p(0,!0)),w(X).attr("d","M"+ce+"L"+ee+"L"+he.substr(1)).call(v.singleFillStyle,l)):w(X).attr("d",he+"Z").call(v.singleFillStyle,l))):N&&("tonext"===I.fill.substr(0,6)&&he&&Z?("tonext"===I.fill?w(N).attr("d",he+"Z"+Z+"Z").call(v.singleFillStyle,l):w(N).attr("d",he+"L"+Z.substr(1)+"Z").call(v.singleFillStyle,l),I._polygons=I._polygons.concat($)):(we(N),I._polygons=null)),I._prevRevpath=ve,I._prevPolygons=ue):(X?we(X):N&&we(N),I._polygons=I._prevRevpath=I._prevPolygons=null),F.datum(g),j.datum(g),function(Te,Re,De){var Ue,Ze=De[0].trace,xe=u.hasMarkers(Ze),Oe=u.hasText(Ze),Ce=function fe(Te){if(Te.ids)return me}(Ze),Be=le,qe=le;if(xe||Oe){var He=M,Je=Ze.stackgroup,et=Je&&"infer zero"===l._fullLayout._scatterStackOpts[A._id+p._id][Je].stackgaps;Ze.marker.maxdisplayed||Ze._needsCull?He=et?Ee:ze:Je&&!et&&(He=Se),xe&&(Be=He),Oe&&(qe=He)}var st,pt=(Ue=Te.selectAll("path.point").data(Be,Ce)).enter().append("path").classed("point",!0);_&&pt.call(v.pointStyle,Ze,l).call(v.translatePoints,A,p).style("opacity",0).transition().style("opacity",1),Ue.order(),xe&&(st=v.makePointStyleFns(Ze)),Ue.each(function(ct){var St=D.select(this),Dt=w(St);v.translatePoint(ct,Dt,A,p)?(v.singlePointStyle(ct,Dt,Ze,st,l),f.layerClipId&&v.hideOutsideRangePoint(ct,Dt,A,p,Ze.xcalendar,Ze.ycalendar),Ze.customdata&&St.classed("plotly-customdata",null!=ct.data)):Dt.remove()}),_?Ue.exit().transition().style("opacity",0).remove():Ue.exit().remove(),(Ue=Re.selectAll("g").data(qe,Ce)).enter().append("g").classed("textpoint",!0).append("text"),Ue.order(),Ue.each(function(ct){var St=D.select(this),Dt=w(St.select("text"));v.translatePoint(ct,Dt,A,p)?f.layerClipId&&v.hideOutsideRangePoint(ct,St,A,p,Ze.xcalendar,Ze.ycalendar):St.remove()}),Ue.selectAll("text").call(v.textPointStyle,Ze,l).each(function(ct){var St=A.c2p(ct.x),Dt=p.c2p(ct.y);D.select(this).selectAll("tspan.line").each(function(){w(D.select(this)).attr({x:St,y:Dt})})}),Ue.exit().remove()}(F,j,g);var _e=!1===I.cliponaxis?null:f.layerClipId;v.setClipUrl(F,_e,l),v.setClipUrl(j,_e,l)}function we(Te){w(Te).attr("d","M0,0Z")}function ze(Te){return Te.filter(function(Re){return!Re.gap&&Re.vis})}function Ee(Te){return Te.filter(function(Re){return Re.vis})}function Se(Te){return Te.filter(function(Re){return!Re.gap})}function me(Te){return Te.id}function le(){return!1}}ae.exports=function(l,c,f,g,h,T){var x,m,A,I,b=!h,_=!!h&&h.duration>0,w=s(l,c,f);(x=g.selectAll("g.trace").data(w,function(A){return A[0].trace.uid})).enter().append("g").attr("class",function(A){return"trace scatter trace"+A[0].trace.uid}).style("stroke-miterlimit",2),x.order(),A=l,I=c,x.each(function(k){var L=S(D.select(this),"g","fills");v.setClipUrl(L,I.layerClipId,A);var O=k[0].trace,P=[];O._ownfill&&P.push("_ownFill"),O._nexttrace&&P.push("_nextFill");var F=L.selectAll("g").data(P,M);F.enter().append("g"),F.exit().each(function(j){O[j]=null}).remove(),F.order().each(function(j){O[j]=S(D.select(this),"path","js-fill")})}),_?(T&&(m=T()),D.transition().duration(h.duration).ease(h.easing).each("end",function(){m&&m()}).each("interrupt",function(){m&&m()}).each(function(){g.selectAll("g.trace").each(function(A,p){o(l,p,c,A,w,this,h)})})):x.each(function(A,p){o(l,p,c,A,w,this,h)}),b&&x.exit().remove(),g.selectAll("path:not([d])").remove()}},98002:function(ae,B,r){"use strict";var D=r(34098);ae.exports=function(E,d){var S,M,v,u,i=E.cd,s=E.xaxis,a=E.yaxis,o=[],l=i[0].trace;if(!D.hasMarkers(l)&&!D.hasText(l))return[];if(!1===d)for(S=0;S<i.length;S++)i[S].selected=0;else for(S=0;S<i.length;S++)v=s.c2p((M=i[S]).x),u=a.c2p(M.y),null!==M.i&&d.contains([v,u],!1,S,E)?(o.push({pointNumber:M.i,x:s.c2d(M.x),y:a.c2d(M.y)}),M.selected=1):M.selected=0;return o}},565:function(ae){"use strict";var B=["orientation","groupnorm","stackgaps"];ae.exports=function(r,D,E,d){var S=E._scatterStackOpts,M=d("stackgroup");if(M){var v=D.xaxis+D.yaxis,u=S[v];u||(u=S[v]={});var i=u[M],s=!1;i?i.traces.push(D):(i=u[M]={traceIndices:[],traces:[D]},s=!0);for(var a={orientation:D.x&&!D.y?"h":"v"},o=0;o<B.length;o++){var l=B[o],c=l+"Found";if(!i[c]){var f=void 0!==r[l],g="orientation"===l;if((f||s)&&(i[l]=d(l,a[l]),g&&(i.fillDflt="h"===i[l]?"tonextx":"tonexty"),f&&(i[c]=!0,!s&&(delete i.traces[0][l],g))))for(var h=0;h<i.traces.length-1;h++){var T=i.traces[h];T._input.fill!==T.fill&&(T.fill=i.fillDflt)}}}return i}}},16296:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(73972);function S(v,u,i){E.pointStyle(v.selectAll("path.point"),u,i)}function M(v,u,i){E.textPointStyle(v.selectAll("text"),u,i)}ae.exports={style:function(v){var u=D.select(v).selectAll("g.trace.scatter");u.style("opacity",function(i){return i[0].trace.opacity}),u.selectAll("g.points").each(function(i){S(D.select(this),i.trace||i[0].trace,v)}),u.selectAll("g.text").each(function(i){M(D.select(this),i.trace||i[0].trace,v)}),u.selectAll("g.trace path.js-line").call(E.lineGroupStyle),u.selectAll("g.trace path.js-fill").call(E.fillGroupStyle,v),d.getComponentMethod("errorbars","style")(u)},stylePoints:S,styleText:M,styleOnSelect:function(v,u,i){var s=u[0].trace;s.selectedpoints?(E.selectedPointStyle(i.selectAll("path.point"),s),E.selectedTextStyle(i.selectAll("text"),s)):(S(i,s,v),M(i,s,v))}}},34098:function(ae,B,r){"use strict";var D=r(71828);ae.exports={hasLines:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("lines")},hasMarkers:function(E){return E.visible&&(E.mode&&-1!==E.mode.indexOf("markers")||"splom"===E.type)},hasText:function(E){return E.visible&&E.mode&&-1!==E.mode.indexOf("text")},isBubble:function(E){return D.isPlainObject(E.marker)&&D.isArrayOrTypedArray(E.marker.size)}}},82410:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d,S,M,v){v=v||{},M("textposition"),D.coerceFont(M,"textfont",v.font||S.font),v.noSelect||(M("selected.textfont.color"),M("unselected.textfont.color"))}},67513:function(ae,B,r){"use strict";var D=r(71828),E=r(73972);ae.exports=function(d,S,M,v){var u,i=v("x"),s=v("y");if(E.getComponentMethod("calendars","handleTraceDefaults")(d,S,["x","y"],M),i){var a=D.minRowLength(i);s?u=Math.min(a,D.minRowLength(s)):(u=a,v("y0"),v("dy"))}else{if(!s)return 0;u=D.minRowLength(s),v("x0"),v("dx")}return S._length=u,u}},44542:function(ae,B,r){"use strict";var D=r(82196),E=r(50693),d=r(12663).axisHoverFormat,S=r(5386).fF,M=r(5386).si,v=r(9012),u=r(29659),i=r(87381),s=r(1426).extendFlat,a=r(30962).overrideAll,o=r(78607),c=D.marker,f=c.line,g=s({width:D.line.width,dash:{valType:"enumerated",values:o(u),dflt:"solid"}},E("line")),h=ae.exports=a({x:D.x,y:D.y,z:{valType:"data_array"},text:s({},D.text,{}),texttemplate:M({},{}),hovertext:s({},D.hovertext,{}),hovertemplate:S(),xhoverformat:d("x"),yhoverformat:d("y"),zhoverformat:d("z"),mode:s({},D.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:D.connectgaps,line:g,marker:s({symbol:{valType:"enumerated",values:o(i),dflt:"circle",arrayOk:!0},size:s({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:s({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:s({width:s({},f.width,{arrayOk:!1})},E("marker.line"))},E("marker")),textposition:s({},D.textposition,{dflt:"top center"}),textfont:{color:D.textfont.color,size:D.textfont.size,family:s({},D.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:s({},v.hoverinfo)},"calc","nested");h.x.editType=h.y.editType=h.z.editType="calc+clearAxisTypes"},36563:function(ae,B,r){"use strict";var D=r(75225),E=r(36922);ae.exports=function(d,S){var M=[{x:!1,y:!1,trace:S,t:{}}];return D(M,S),E(d,S),M}},67336:function(ae,B,r){"use strict";var D=r(73972);function E(d,S,M,v){if(!S||!S.visible)return null;for(var u=D.getComponentMethod("errorbars","makeComputeError")(S),i=new Array(d.length),s=0;s<d.length;s++){var a=u(+d[s],s);if("log"===v.type){var o=v.c2l(d[s]),l=d[s]-a[0],c=d[s]+a[1];if(i[s]=[(v.c2l(l,!0)-o)*M,(v.c2l(c,!0)-o)*M],l>0){var f=v.c2l(l);v._lowerLogErrorBound||(v._lowerLogErrorBound=f),v._lowerErrorBound=Math.min(v._lowerLogErrorBound,f)}}else i[s]=[-a[0]*M,a[1]*M]}return i}ae.exports=function(d,S,M){var v=[E(d.x,d.error_x,S[0],M.xaxis),E(d.y,d.error_y,S[1],M.yaxis),E(d.z,d.error_z,S[2],M.zaxis)],u=function(c){for(var f=0;f<c.length;f++)if(c[f])return c[f].length;return 0}(v);if(0===u)return null;for(var i=new Array(u),s=0;s<u;s++){for(var a=[[0,0,0],[0,0,0]],o=0;o<3;o++)if(v[o])for(var l=0;l<2;l++)a[l][o]=v[o][s][l];i[s]=a}return i}},58925:function(ae,B,r){"use strict";var D=r(9330).gl_line3d,E=r(9330).gl_scatter3d,d=r(9330).gl_error3d,S=r(9330).gl_mesh3d,M=r(9330).delaunay_triangulate,v=r(71828),u=r(78614),i=r(81697).formatColor,s=r(39984),a=r(29659),o=r(87381),l=r(89298),c=r(23469).appendArrayPointValue,f=r(67336);function g(p,I){this.scene=p,this.uid=I,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=g.prototype;function T(p){return null==p?0:p.indexOf("left")>-1?-1:p.indexOf("right")>-1?1:0}function x(p){return null==p?0:p.indexOf("top")>-1?-1:p.indexOf("bottom")>-1?1:0}function m(p,I){return I(4*p)}function b(p){return o[p]}function _(p,I,k,L,O){var P=null;if(v.isArrayOrTypedArray(p)){P=[];for(var F=0;F<I;F++)P[F]=void 0===p[F]?L:k(p[F],O)}else P=k(p,v.identity);return P}function w(p){if(v.isArrayOrTypedArray(p)){var I=p[0];return v.isArrayOrTypedArray(I)&&(p=I),"rgb("+p.slice(0,3).map(function(k){return Math.round(255*k)})+")"}return null}function A(p){return v.isArrayOrTypedArray(p)?4===p.length&&"number"==typeof p[0]?w(p):p.map(w):null}h.handlePick=function(p){if(p.object&&(p.object===this.linePlot||p.object===this.delaunayMesh||p.object===this.textMarkers||p.object===this.scatterPlot)){var I=p.index=p.data.index;return p.object.highlight&&p.object.highlight(null),this.scatterPlot&&(p.object=this.scatterPlot,this.scatterPlot.highlight(p.data)),p.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[I]||0===this.textLabels[I])&&(p.textLabel=this.textLabels[I]):p.textLabel=this.textLabels),p.traceCoordinate=[this.data.x[I],this.data.y[I],this.data.z[I]],!0}},h.update=function(p){var I,k,L,O,P=this.scene.glplot.gl,F=a.solid;this.data=p;var j=function(q,G){var H,Z,$,se,ne,re,Q=[],ee=q.fullSceneLayout,oe=q.dataScale,ce=ee.xaxis,ue=ee.yaxis,he=ee.zaxis,ve=G.marker,ke=G.line,Ie=G.x||[],Me=G.y||[],_e=G.z||[],we=Ie.length,ze=G.xcalendar,Ee=G.ycalendar,Se=G.zcalendar;for(ne=0;ne<we;ne++)H=ce.d2l(Ie[ne],0,ze)*oe[0],Z=ue.d2l(Me[ne],0,Ee)*oe[1],$=he.d2l(_e[ne],0,Se)*oe[2],Q[ne]=[H,Z,$];if(Array.isArray(G.text))re=G.text;else if(void 0!==G.text)for(re=new Array(we),ne=0;ne<we;ne++)re[ne]=G.text;function me(Je,et){var st=ee[Je];return l.tickText(st,st.d2l(et),!0).text}var fe=G.texttemplate;if(fe){var le=q.fullLayout._d3locale,Te=Array.isArray(fe),Re=Te?Math.min(fe.length,we):we,De=Te?function(Je){return fe[Je]}:function(){return fe};for(re=new Array(Re),ne=0;ne<Re;ne++){var Ue={x:Ie[ne],y:Me[ne],z:_e[ne]},Ze={xLabel:me("xaxis",Ie[ne]),yLabel:me("yaxis",Me[ne]),zLabel:me("zaxis",_e[ne])},xe={};c(xe,G,ne);var Oe=G._meta||{};re[ne]=v.texttemplateString(De(ne),Ze,le,xe,Ue,Oe)}}if(se={position:Q,mode:G.mode,text:re},"line"in G&&(se.lineColor=i(ke,1,we),se.lineWidth=ke.width,se.lineDashes=ke.dash),"marker"in G){var Ce=s(G);se.scatterColor=i(ve,1,we),se.scatterSize=_(ve.size,we,m,20,Ce),se.scatterMarker=_(ve.symbol,we,b,"\u25cf"),se.scatterLineWidth=ve.line.width,se.scatterLineColor=i(ve.line,1,we),se.scatterAngle=0}"textposition"in G&&(se.textOffset=function(Je){var et=[0,0];if(Array.isArray(Je))for(var st=0;st<Je.length;st++)et[st]=[0,0],Je[st]&&(et[st][0]=T(Je[st]),et[st][1]=x(Je[st]));else et[0]=T(Je),et[1]=x(Je);return et}(G.textposition),se.textColor=i(G.textfont,1,we),se.textSize=_(G.textfont.size,we,v.identity,12),se.textFont=G.textfont.family,se.textAngle=0);var Be=["x","y","z"];for(se.project=[!1,!1,!1],se.projectScale=[1,1,1],se.projectOpacity=[1,1,1],ne=0;ne<3;++ne){var qe=G.projection[Be[ne]];(se.project[ne]=qe.show)&&(se.projectOpacity[ne]=qe.opacity,se.projectScale[ne]=qe.scale)}se.errorBounds=f(G,oe,ee);var He=function(Je){for(var et=[0,0,0],st=[[0,0,0],[0,0,0],[0,0,0]],pt=[1,1,1],ct=0;ct<3;ct++){var St=Je[ct];St&&!1!==St.copy_zstyle&&!1!==Je[2].visible&&(St=Je[2]),St&&St.visible&&(et[ct]=St.width/2,st[ct]=u(St.color),pt[ct]=St.thickness)}return{capSize:et,color:st,lineWidth:pt}}([G.error_x,G.error_y,G.error_z]);return se.errorColor=He.color,se.errorLineWidth=He.lineWidth,se.errorCapSize=He.capSize,se.delaunayAxis=G.surfaceaxis,se.delaunayColor=u(G.surfacecolor),se}(this.scene,p);"mode"in j&&(this.mode=j.mode),"lineDashes"in j&&j.lineDashes in a&&(F=a[j.lineDashes]),this.color=A(j.scatterColor)||A(j.lineColor),this.dataPoints=j.position,I={gl:this.scene.glplot.gl,position:j.position,color:j.lineColor,lineWidth:j.lineWidth||1,dashes:F[0],dashScale:F[1],opacity:p.opacity,connectGaps:p.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(I):(this.linePlot=D(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var X=p.opacity;if(p.marker&&void 0!==p.marker.opacity&&(X*=p.marker.opacity),k={gl:this.scene.glplot.gl,position:j.position,color:j.scatterColor,size:j.scatterSize,glyph:j.scatterMarker,opacity:X,orthographic:!0,lineWidth:j.scatterLineWidth,lineColor:j.scatterLineColor,project:j.project,projectScale:j.projectScale,projectOpacity:j.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(k):(this.scatterPlot=E(k),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),O={gl:this.scene.glplot.gl,position:j.position,glyph:j.text,color:j.textColor,size:j.textSize,angle:j.textAngle,alignment:j.textOffset,font:j.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:p.opacity},this.textLabels=p.hovertext||p.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(O):(this.textMarkers=E(O),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),L={gl:this.scene.glplot.gl,position:j.position,color:j.errorColor,error:j.errorBounds,lineWidth:j.errorLineWidth,capSize:j.errorCapSize,opacity:p.opacity},this.errorBars?j.errorBounds?this.errorBars.update(L):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):j.errorBounds&&(this.errorBars=d(L),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),j.delaunayAxis>=0){var N=function(q,G,H){var Z,$=(H+1)%3,se=(H+2)%3,ne=[],re=[];for(Z=0;Z<q.length;++Z){var Q=q[Z];!isNaN(Q[$])&&isFinite(Q[$])&&!isNaN(Q[se])&&isFinite(Q[se])&&(ne.push([Q[$],Q[se]]),re.push(Z))}var ee=M(ne);for(Z=0;Z<ee.length;++Z)for(var oe=ee[Z],ce=0;ce<oe.length;++ce)oe[ce]=re[oe[ce]];return{positions:q,cells:ee,meshColor:G}}(j.position,j.delaunayColor,j.delaunayAxis);N.opacity=p.opacity,this.delaunayMesh?this.delaunayMesh.update(N):(N.gl=P,this.delaunayMesh=S(N),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},ae.exports=function(p,I){var k=new g(p,I.uid);return k.update(I),k}},21428:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(34098),S=r(49508),M=r(11058),v=r(82410),u=r(44542);ae.exports=function(i,s,a,o){function l(b,_){return E.coerce(i,s,u,b,_)}var b,_,w,A,p,I,k,L;if(b=i,_=s,A=o,p=0,I=(w=l)("x"),k=w("y"),L=w("z"),D.getComponentMethod("calendars","handleTraceDefaults")(b,_,["x","y","z"],A),I&&k&&L&&(p=Math.min(I.length,k.length,L.length),_._length=_._xlength=_._ylength=_._zlength=p),p){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),d.hasLines(s)&&(l("connectgaps"),M(i,s,a,o,l)),d.hasMarkers(s)&&S(i,s,a,o,l,{noSelect:!0,noAngle:!0}),d.hasText(s)&&(l("texttemplate"),v(i,s,o,l,{noSelect:!0}));var f=(s.line||{}).color,g=(s.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",f||g);for(var h=["x","y","z"],T=0;T<3;++T){var x="projection."+h[T];l(x+".show")&&(l(x+".opacity"),l(x+".scale"))}var m=D.getComponentMethod("errorbars","supplyDefaults");m(i,s,f||g||a,{axis:"z"}),m(i,s,f||g||a,{axis:"y",inherit:"z"}),m(i,s,f||g||a,{axis:"x",inherit:"z"})}else s.visible=!1}},13551:function(ae,B,r){"use strict";ae.exports={plot:r(58925),attributes:r(44542),markerSymbols:r(87381),supplyDefaults:r(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:r(36563),moduleType:"trace",name:"scatter3d",basePlotModule:r(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(ae,B,r){"use strict";var D=r(82196),E=r(9012),d=r(5386).fF,S=r(5386).si,M=r(50693),v=r(1426).extendFlat,u=D.marker,i=D.line,s=u.line;ae.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},D.mode,{dflt:"markers"}),text:v({},D.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},D.hovertext,{}),line:{color:i.color,width:i.width,dash:i.dash,backoff:i.backoff,shape:v({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:D.connectgaps,fill:v({},D.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:D.fillcolor,marker:v({symbol:u.symbol,opacity:u.opacity,maxdisplayed:u.maxdisplayed,angle:u.angle,angleref:u.angleref,standoff:u.standoff,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,line:v({width:s.width,editType:"calc"},M("marker.line")),gradient:u.gradient,editType:"calc"},M("marker")),textfont:D.textfont,textposition:D.textposition,selected:D.selected,unselected:D.unselected,hoverinfo:v({},E.hoverinfo,{flags:["a","b","text","name"]}),hoveron:D.hoveron,hovertemplate:d()}},34618:function(ae,B,r){"use strict";var D=r(92770),E=r(36922),d=r(75225),S=r(66279),M=r(47761).calcMarkerSize,v=r(22882);ae.exports=function(u,i){var s=i._carpetTrace=v(u,i);if(s&&s.visible&&"legendonly"!==s.visible){var a;i.xaxis=s.xaxis,i.yaxis=s.yaxis;var o,l,c=i._length,f=new Array(c),g=!1;for(a=0;a<c;a++)if(l=i.b[a],D(o=i.a[a])&&D(l)){var h=s.ab2xy(+o,+l,!0),T=s.isVisible(+o,+l);T||(g=!0),f[a]={x:h[0],y:h[1],a:o,b:l,vis:T}}else f[a]={x:!1,y:!1};return i._needsCull=g,f[0].carpet=s,f[0].trace=i,M(i,c),E(u,i),d(f,i),S(f,i),f}}},98965:function(ae,B,r){"use strict";var D=r(71828),E=r(47581),d=r(34098),S=r(49508),M=r(11058),v=r(94039),u=r(82410),i=r(28908),s=r(97001);ae.exports=function(a,o,l,c){function f(m,b){return D.coerce(a,o,s,m,b)}f("carpet"),o.xaxis="x",o.yaxis="y";var g=f("a"),h=f("b"),T=Math.min(g.length,h.length);if(T){o._length=T,f("text"),f("texttemplate"),f("hovertext"),f("mode",T<E.PTS_LINESONLY?"lines+markers":"lines"),d.hasLines(o)&&(M(a,o,l,c,f,{backoff:!0}),v(a,o,f),f("connectgaps")),d.hasMarkers(o)&&S(a,o,l,c,f,{gradient:!0}),d.hasText(o)&&u(a,o,c,f);var x=[];(d.hasMarkers(o)||d.hasText(o))&&(f("marker.maxdisplayed"),x.push("points")),f("fill"),"none"!==o.fill&&(i(a,o,l,f),d.hasLines(o)||v(a,o,f)),"tonext"!==o.fill&&"toself"!==o.fill||x.push("fills"),"fills"!==f("hoveron",x.join("+")||"points")&&f("hovertemplate"),D.coerceSelectionMarkerOpacity(o,f)}else o.visible=!1}},16165:function(ae){"use strict";ae.exports=function(B,r,D,E,d){var S=E[d];return B.a=S.a,B.b=S.b,B.y=S.y,B}},48953:function(ae){"use strict";ae.exports=function(B,r){var D={},E=r._carpet,d=E.ab2ij([B.a,B.b]),S=Math.floor(d[0]),M=d[0]-S,v=Math.floor(d[1]),i=E.evalxy([],S,v,M,d[1]-v);return D.yLabel=i[1].toFixed(3),D}},22931:function(ae,B,r){"use strict";var D=r(33720),E=r(71828).fillText;ae.exports=function(d,S,M,v){var u=D(d,S,M,v);if(u&&!1!==u[0].index){var i=u[0];if(void 0===i.index){var a=d.xa._length,o=a*(1-i.y0/d.ya._length)/2,l=a-o;return i.x0=Math.max(Math.min(i.x0,l),o),i.x1=Math.max(Math.min(i.x1,l),o),u}var c=i.cd[i.index];i.a=c.a,i.b=c.b,i.xLabelVal=void 0,i.yLabelVal=void 0;var f=i.trace,g=f._carpet,h=f._module.formatLabels(c,f);i.yLabel=h.yLabel,delete i.text;var T=[];if(!f.hovertemplate){var x=(c.hi||f.hoverinfo).split("+");-1!==x.indexOf("all")&&(x=["a","b","text"]),-1!==x.indexOf("a")&&m(g.aaxis,c.a),-1!==x.indexOf("b")&&m(g.baxis,c.b),T.push("y: "+i.yLabel),-1!==x.indexOf("text")&&E(c,f,T),i.extraText=T.join("<br>")}return u}function m(b,_){var w;w=b.labelprefix&&b.labelprefix.length>0?b.labelprefix.replace(/ = $/,""):b._hovertitle,T.push(w+": "+_.toFixed(3)+b.labelsuffix)}}},46858:function(ae,B,r){"use strict";ae.exports={attributes:r(97001),supplyDefaults:r(98965),colorbar:r(4898),formatLabels:r(48953),calc:r(34618),plot:r(1913),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(22931),selectPoints:r(98002),eventData:r(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:r(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(ae,B,r){"use strict";var D=r(32663),E=r(89298),d=r(91424);ae.exports=function(S,M,v,u){var i,s,a,o=v[0][0].carpet,l=E.getFromId(S,o.xaxis||"x"),c=E.getFromId(S,o.yaxis||"y"),f={xaxis:l,yaxis:c,plot:M.plot};for(i=0;i<v.length;i++)(s=v[i][0].trace)._xA=l,s._yA=c;for(D(S,f,v,u),i=0;i<v.length;i++)a=u.selectAll("g.trace"+(s=v[i][0].trace).uid+" .js-line"),d.setClipUrl(a,v[i][0].carpet._clipPathId,S)}},19316:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,d=r(82196),S=r(9012),M=r(50693),v=r(79952).P,u=r(1426).extendFlat,i=r(30962).overrideAll,s=d.marker,a=d.line,o=s.line;ae.exports=i({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:u({},d.mode,{dflt:"markers"}),text:u({},d.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:u({},d.hovertext,{}),textfont:d.textfont,textposition:d.textposition,line:{color:a.color,width:a.width,dash:v},connectgaps:d.connectgaps,marker:u({symbol:s.symbol,opacity:s.opacity,angle:s.angle,angleref:u({},s.angleref,{values:["previous","up","north"]}),standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,colorbar:s.colorbar,line:u({width:o.width},M("marker.line")),gradient:s.gradient},M("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:d.fillcolor,selected:d.selected,unselected:d.unselected,hoverinfo:u({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:D()},"calc","nested")},84622:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,d=r(36922),S=r(75225),M=r(66279),v=r(71828)._;function u(i){return i&&"string"==typeof i}ae.exports=function(i,s){var a,o=Array.isArray(s.locations),l=o?s.locations.length:s._length,c=new Array(l);a=s.geojson?function(m){return u(m)||D(m)}:u;for(var f=0;f<l;f++){var g=c[f]={};if(o){var h=s.locations[f];g.loc=a(h)?h:null}else{var T=s.lon[f],x=s.lat[f];g.lonlat=D(T)&&D(x)?[+T,+x]:[E,E]}}return S(c,s),d(i,s),M(c,s),l&&(c[0].t={labels:{lat:v(i,"lat:")+" ",lon:v(i,"lon:")+" "}}),c}},10659:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),d=r(49508),S=r(11058),M=r(82410),v=r(28908),u=r(19316);ae.exports=function(i,s,a,o){function l(m,b){return D.coerce(i,s,u,m,b)}var c,f=l("locations");if(f&&f.length){var g,h=l("geojson");("string"==typeof h&&""!==h||D.isPlainObject(h))&&(g="geojson-id"),"geojson-id"===l("locationmode",g)&&l("featureidkey"),c=f.length}else{var T=l("lon")||[],x=l("lat")||[];c=Math.min(T.length,x.length)}c?(s._length=c,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),E.hasLines(s)&&(S(i,s,a,o,l),l("connectgaps")),E.hasMarkers(s)&&d(i,s,a,o,l,{gradient:!0}),E.hasText(s)&&(l("texttemplate"),M(i,s,o,l)),l("fill"),"none"!==s.fill&&v(i,s,a,l),D.coerceSelectionMarkerOpacity(s,l)):s.visible=!1}},84084:function(ae){"use strict";ae.exports=function(B,r,D,E,d){B.lon=r.lon,B.lat=r.lat,B.location=r.loc?r.loc:null;var S=E[d];return S.fIn&&S.fIn.properties&&(B.properties=S.fIn.properties),B}},82719:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,d,S){var M={},v=S[d.geo]._subplot.mockAxis,u=E.lonlat;return M.lonLabel=D.tickText(v,v.c2l(u[0]),!0).text,M.latLabel=D.tickText(v,v.c2l(u[1]),!0).text,M}},14977:function(ae,B,r){"use strict";var D=r(30211),E=r(50606).BADNUM,d=r(34603),S=r(71828).fillText,M=r(19316);ae.exports=function(v,u,i){var s=v.cd,a=s[0].trace,o=v.xa,l=v.ya,c=v.subplot,f=c.projection.isLonLatOverEdges,g=c.project;if(D.getClosest(s,function(w){var A=w.lonlat;if(A[0]===E||f(A))return 1/0;var p=g(A),I=g([u,i]),k=Math.abs(p[0]-I[0]),L=Math.abs(p[1]-I[1]),O=Math.max(3,w.mrc||0);return Math.max(Math.sqrt(k*k+L*L)-O,1-3/O)},v),!1!==v.index){var h=s[v.index],T=h.lonlat,x=[o.c2p(T),l.c2p(T)],m=h.mrc||1;v.x0=x[0]-m,v.x1=x[0]+m,v.y0=x[1]-m,v.y1=x[1]+m,v.loc=h.loc,v.lon=T[0],v.lat=T[1];var b={};b[a.geo]={_subplot:c};var _=a._module.formatLabels(h,a,b);return v.lonLabel=_.lonLabel,v.latLabel=_.latLabel,v.color=d(a,h),v.extraText=function(w,A,p,I){if(!w.hovertemplate){var k=A.hi||w.hoverinfo,L="all"===k?M.hoverinfo.flags:k.split("+"),O=-1!==L.indexOf("location")&&Array.isArray(w.locations),P=-1!==L.indexOf("lon"),F=-1!==L.indexOf("lat"),j=-1!==L.indexOf("text"),X=[];return O?X.push(A.loc):P&&F?X.push("("+N(p.latLabel)+", "+N(p.lonLabel)+")"):P?X.push(I.lon+N(p.lonLabel)):F&&X.push(I.lat+N(p.latLabel)),j&&S(A,w,X),X.join("<br>")}function N(q){return q+"\xb0"}}(a,h,v,s[0].t.labels),v.hovertemplate=a.hovertemplate,[v]}}},17988:function(ae,B,r){"use strict";ae.exports={attributes:r(19316),supplyDefaults:r(10659),colorbar:r(4898),formatLabels:r(82719),calc:r(84622),calcGeoJSON:r(89171).calcGeoJSON,plot:r(89171).plot,style:r(33095),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(14977),eventData:r(84084),selectPoints:r(20548),moduleType:"trace",name:"scattergeo",basePlotModule:r(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(90973).getTopojsonFeatures,S=r(18214),M=r(41327),v=r(71739).findExtremes,u=r(50606).BADNUM,i=r(47761).calcMarkerSize,s=r(34098),a=r(33095);ae.exports={calcGeoJSON:function(o,l){var c,f,g=o[0].trace,h=l[g.geo],T=h._subplot,x=g._length;if(Array.isArray(g.locations)){var m=g.locationmode,b="geojson-id"===m?M.extractTraceFeature(o):d(g,T.topojson);for(c=0;c<x;c++){f=o[c];var _="geojson-id"===m?f.fOut:M.locationToFeature(m,f.loc,b);f.lonlat=_?_.properties.ct:[u,u]}}var w,A,p={padded:!0};if("geojson"===h.fitbounds&&"geojson-id"===g.locationmode){var I=M.computeBbox(M.getTraceGeojson(g));w=[I[0],I[2]],A=[I[1],I[3]]}else{for(w=new Array(x),A=new Array(x),c=0;c<x;c++)w[c]=(f=o[c]).lonlat[0],A[c]=f.lonlat[1];p.ppad=i(g,x)}g._extremes.lon=v(h.lonaxis._ax,w,p),g._extremes.lat=v(h.lataxis._ax,A,p)},plot:function(o,l,c){var f=l.layers.frontplot.select(".scatterlayer"),g=E.makeTraceGroups(f,c,"trace scattergeo");function h(T,x){T.lonlat[0]===u&&D.select(x).remove()}g.selectAll("*").remove(),g.each(function(T){var x=D.select(this),m=T[0].trace;if(s.hasLines(m)||"none"!==m.fill){var b=S.calcTraceToLineCoords(T),_="none"!==m.fill?S.makePolygon(b):S.makeLine(b);x.selectAll("path.js-line").data([{geojson:_,trace:m}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}s.hasMarkers(m)&&x.selectAll("path.point").data(E.identity).enter().append("path").classed("point",!0).each(function(w){h(w,this)}),s.hasText(m)&&x.selectAll("g").data(E.identity).enter().append("g").append("text").each(function(w){h(w,this)}),a(o,T)})}}},20548:function(ae,B,r){"use strict";var D=r(34098),E=r(50606).BADNUM;ae.exports=function(d,S){var M,v,u,i,s,a=d.cd,o=d.xaxis,l=d.yaxis,c=[],f=a[0].trace;if(!D.hasMarkers(f)&&!D.hasText(f))return[];if(!1===S)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++)(v=(M=a[s]).lonlat)[0]!==E&&(u=o.c2p(v),i=l.c2p(v),S.contains([u,i],null,s,d)?(c.push({pointNumber:s,lon:v[0],lat:v[1]}),M.selected=1):M.selected=0);return c}},33095:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(7901),S=r(16296),M=S.stylePoints,v=S.styleText;ae.exports=function(u,i){var s,a,o,l;i&&(s=u,o=(a=i)[0].trace,(l=a[0].node3).style("opacity",a[0].trace.opacity),M(l,o,s),v(l,o,s),l.selectAll("path.js-line").style("fill","none").each(function(c){var f=D.select(this),g=c.trace,h=g.line||{};f.call(d.stroke,h.color).call(E.dashLine,h.dash||"",h.width||0),"none"!==g.fill&&f.call(d.fill,g.fillcolor)}))}},42341:function(ae,B,r){"use strict";var D=r(9012),E=r(82196),d=r(12663).axisHoverFormat,S=r(50693),M=r(78607),v=r(1426).extendFlat,u=r(30962).overrideAll,i=r(78232).DASHES,s=E.line,a=E.marker,o=a.line,l=ae.exports=u({x:E.x,x0:E.x0,dx:E.dx,y:E.y,y0:E.y0,dy:E.dy,xperiod:E.xperiod,yperiod:E.yperiod,xperiod0:E.xperiod0,yperiod0:E.yperiod0,xperiodalignment:E.xperiodalignment,yperiodalignment:E.yperiodalignment,xhoverformat:d("x"),yhoverformat:d("y"),text:E.text,hovertext:E.hovertext,textposition:E.textposition,textfont:E.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:s.color,width:s.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:M(i),dflt:"solid"}},marker:v({},S("marker"),{symbol:a.symbol,angle:a.angle,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,opacity:a.opacity,colorbar:a.colorbar,line:v({},S("marker.line"),{width:o.width})}),connectgaps:E.connectgaps,fill:v({},E.fill,{dflt:"none"}),fillcolor:E.fillcolor,selected:{marker:E.selected.marker,textfont:E.selected.textfont},unselected:{marker:E.unselected.marker,textfont:E.unselected.textfont},opacity:D.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=E.hovertemplate,l.texttemplate=E.texttemplate},72156:function(ae,B,r){"use strict";var D=r(20794);ae.exports={moduleType:"trace",name:"scattergl",basePlotModule:r(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:r(42341),supplyDefaults:r(47148),crossTraceDefaults:r(34936),colorbar:r(4898),formatLabels:r(68101),calc:r(45032),hoverPoints:D.hoverPoints,selectPoints:r(58147),meta:{}}},45032:function(ae,B,r){"use strict";var D=r(88294),E=r(71828),d=r(41675),S=r(71739).findExtremes,M=r(42973),v=r(47761),u=v.calcMarkerSize,i=v.calcAxisExpansion,s=v.setFirstScatter,a=r(36922),o=r(19635),l=r(38967),c=r(50606).BADNUM,f=r(78232).TOO_MANY_POINTS;function g(h,T,x){var m=h._extremes[T._id],b=S(T,x._bnds,{padded:!0});m.min=m.min.concat(b.min),m.max=m.max.concat(b.max)}ae.exports=function(h,T){var x,m=h._fullLayout,b=T._xA=d.getFromId(h,T.xaxis,"x"),_=T._yA=d.getFromId(h,T.yaxis,"y"),w=m._plots[T.xaxis+T.yaxis],A=T._length,p=A>=f,I=2*A,k={},L=b.makeCalcdata(T,"x"),O=_.makeCalcdata(T,"y"),P=M(T,b,"x",L),F=M(T,_,"y",O),j=P.vals,X=F.vals;T._x=j,T._y=X,T.xperiodalignment&&(T._origX=L,T._xStarts=P.starts,T._xEnds=P.ends),T.yperiodalignment&&(T._origY=O,T._yStarts=F.starts,T._yEnds=F.ends);var N=new Array(I),q=new Array(A);for(x=0;x<A;x++)N[2*x]=j[x]===c?NaN:j[x],N[2*x+1]=X[x]===c?NaN:X[x],q[x]=x;if("log"===b.type)for(x=0;x<I;x+=2)N[x]=b.c2l(N[x]);if("log"===_.type)for(x=1;x<I;x+=2)N[x]=_.c2l(N[x]);p&&"log"!==b.type&&"log"!==_.type?k.tree=D(N):k.ids=q,a(h,T);var G,H=function($,se,ne,re,Q,ee){var oe=o.style($,ne);if(oe.marker&&(oe.marker.positions=re),oe.line&&re.length>1&&E.extendFlat(oe.line,o.linePositions($,ne,re)),oe.errorX||oe.errorY){var ce=o.errorBarPositions($,ne,re,Q,ee);oe.errorX&&E.extendFlat(oe.errorX,ce.x),oe.errorY&&E.extendFlat(oe.errorY,ce.y)}return oe.text&&(E.extendFlat(oe.text,{positions:re},o.textPosition($,ne,oe.text,oe.marker)),E.extendFlat(oe.textSel,{positions:re},o.textPosition($,ne,oe.text,oe.markerSel)),E.extendFlat(oe.textUnsel,{positions:re},o.textPosition($,ne,oe.text,oe.markerUnsel))),oe}(h,0,T,N,j,X),Z=l(h,w);return s(m,T),p?H.marker&&(G=H.marker.sizeAvg||Math.max(H.marker.size,3)):G=u(T,A),i(h,T,b,_,j,X,G),H.errorX&&g(T,b,H.errorX),H.errorY&&g(T,_,H.errorY),H.fill&&!Z.fill2d&&(Z.fill2d=!0),H.marker&&!Z.scatter2d&&(Z.scatter2d=!0),H.line&&!Z.line2d&&(Z.line2d=!0),!H.errorX&&!H.errorY||Z.error2d||(Z.error2d=!0),H.text&&!Z.glText&&(Z.glText=!0),H.marker&&(H.marker.snap=A),Z.lineOptions.push(H.line),Z.errorXOptions.push(H.errorX),Z.errorYOptions.push(H.errorY),Z.fillOptions.push(H.fill),Z.markerOptions.push(H.marker),Z.markerSelectedOptions.push(H.markerSel),Z.markerUnselectedOptions.push(H.markerUnsel),Z.textOptions.push(H.text),Z.textSelectedOptions.push(H.textSel),Z.textUnselectedOptions.push(H.textUnsel),Z.selectBatch.push([]),Z.unselectBatch.push([]),k._scene=Z,k.index=Z.count,k.x=j,k.y=X,k.positions=N,Z.count++,[{x:!1,y:!1,t:k,trace:T}]}},78232:function(ae){"use strict";ae.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(ae,B,r){"use strict";var D=r(92770),E=r(82019),d=r(25075),S=r(73972),M=r(71828),v=r(91424),u=r(41675),i=r(81697).formatColor,s=r(34098),a=r(39984),o=r(68645),l=r(78232),c=r(37822).DESELECTDIM,f={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},g=r(23469).appendArrayPointValue;function h(L,O){var P,F=L._fullLayout,j=O._length,X=O.textfont,N=O.textposition,q=Array.isArray(N)?N:[N],G=X.color,H=X.size,Z=X.family,$={},se=L._context.plotGlPixelRatio,ne=O.texttemplate;if(ne){$.text=[];var re=F._d3locale,Q=Array.isArray(ne),ee=Q?Math.min(ne.length,j):j,oe=Q?function(Me){return ne[Me]}:function(){return ne};for(P=0;P<ee;P++){var ce={i:P},ue=O._module.formatLabels(ce,O,F),he={};g(he,O,P);var ve=O._meta||{};$.text.push(M.texttemplateString(oe(P),ue,re,he,ce,ve))}}else $.text=Array.isArray(O.text)&&O.text.length<j?O.text.slice():O.text;if(Array.isArray($.text))for(P=$.text.length;P<j;P++)$.text[P]="";for($.opacity=O.opacity,$.font={},$.align=[],$.baseline=[],P=0;P<q.length;P++){var ke=q[P].split(/\s+/);switch(ke[1]){case"left":$.align.push("right");break;case"right":$.align.push("left");break;default:$.align.push(ke[1])}switch(ke[0]){case"top":$.baseline.push("bottom");break;case"bottom":$.baseline.push("top");break;default:$.baseline.push(ke[0])}}if(Array.isArray(G))for($.color=new Array(j),P=0;P<j;P++)$.color[P]=G[P];else $.color=G;if(M.isArrayOrTypedArray(H)||Array.isArray(Z))for($.font=new Array(j),P=0;P<j;P++){var Ie=$.font[P]={};Ie.size=(M.isTypedArray(H)?H[P]:Array.isArray(H)?D(H[P])?H[P]:0:H)*se,Ie.family=Array.isArray(Z)?Z[P]:Z}else $.font={size:H*se,family:Z};return $}function T(L,O){var P,F,j=O._length,X=O.marker,N={},q=M.isArrayOrTypedArray(X.symbol),G=M.isArrayOrTypedArray(X.angle),H=M.isArrayOrTypedArray(X.color),Z=M.isArrayOrTypedArray(X.line.color),$=M.isArrayOrTypedArray(X.opacity),se=M.isArrayOrTypedArray(X.size),ne=M.isArrayOrTypedArray(X.line.width);if(q||(F=o.isOpenSymbol(X.symbol)),q||H||Z||$||G){N.symbols=new Array(j),N.angles=new Array(j),N.colors=new Array(j),N.borderColors=new Array(j);var re=X.symbol,Q=X.angle,ee=i(X,X.opacity,j),oe=i(X.line,X.opacity,j);if(!Array.isArray(oe[0])){var ce=oe;for(oe=Array(j),P=0;P<j;P++)oe[P]=ce}if(!Array.isArray(ee[0])){var ue=ee;for(ee=Array(j),P=0;P<j;P++)ee[P]=ue}if(!Array.isArray(re)){var he=re;for(re=Array(j),P=0;P<j;P++)re[P]=he}if(!Array.isArray(Q)){var ve=Q;for(Q=Array(j),P=0;P<j;P++)Q[P]=ve}for(N.symbols=re,N.angles=Q,N.colors=ee,N.borderColors=oe,P=0;P<j;P++)q&&(F=o.isOpenSymbol(X.symbol[P])),F&&(oe[P]=ee[P].slice(),ee[P]=ee[P].slice(),ee[P][3]=0);for(N.opacity=O.opacity,N.markers=new Array(j),P=0;P<j;P++)N.markers[P]=k({mx:N.symbols[P],ma:N.angles[P]},O)}else F?(N.color=d(X.color,"uint8"),N.color[3]=0,N.borderColor=d(X.color,"uint8")):(N.color=d(X.color,"uint8"),N.borderColor=d(X.line.color,"uint8")),N.opacity=O.opacity*X.opacity,N.marker=k({mx:X.symbol,ma:X.angle},O);var ke,Ie=a(O,1);if(se||ne){var Me,_e=N.sizes=new Array(j),we=N.borderSizes=new Array(j),ze=0;if(se){for(P=0;P<j;P++)_e[P]=Ie(X.size[P]),ze+=_e[P];Me=ze/j}else for(ke=Ie(X.size),P=0;P<j;P++)_e[P]=ke;if(ne)for(P=0;P<j;P++)we[P]=X.line.width[P];else for(ke=X.line.width,P=0;P<j;P++)we[P]=ke;N.sizeAvg=Me}else N.size=Ie(X&&X.size||10),N.borderSizes=Ie(X.line.width);return N}function x(L,O,P){var j={};return P&&(P.marker&&P.marker.symbol?j=T(0,M.extendFlat({},O.marker,P.marker)):P.marker&&(P.marker.size&&(j.size=P.marker.size),P.marker.color&&(j.colors=P.marker.color),void 0!==P.marker.opacity&&(j.opacity=P.marker.opacity))),j}function m(L,O,P){var F={};if(!P)return F;if(P.textfont){var j={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:M.extendFlat({},O.textfont)};P.textfont&&M.extendFlat(j.textfont,P.textfont),F=h(L,j)}return F}function b(L,O,P){var F={capSize:2*O.width*P,lineWidth:O.thickness*P,color:O.color};return O.copy_ystyle&&(F=L.error_y),F}var _=l.SYMBOL_SDF_SIZE,w=l.SYMBOL_SIZE,A=l.SYMBOL_STROKE,p={},I=v.symbolFuncs[0](.05*w);function k(L,O){var P,F,j=L.mx;if("circle"===j)return null;var X=v.symbolNumber(j),N=v.symbolFuncs[X%100],q=!!v.symbolNoDot[X%100],G=!!v.symbolNoFill[X%100],H=o.isDotSymbol(j);if(L.ma&&(j+="_"+L.ma),p[j])return p[j];var Z=v.getMarkerAngle(L,O);return P=H&&!q?N(1.1*w,Z)+I:N(w,Z),F=E(P,{w:_,h:_,viewBox:[-w,-w,w,w],stroke:G?A:-A}),p[j]=F,F||null}ae.exports={style:function(L,O){var P,F={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},j=L._context.plotGlPixelRatio;if(!0!==O.visible)return F;if(s.hasText(O)&&(F.text=h(L,O),F.textSel=m(L,O,O.selected),F.textUnsel=m(L,O,O.unselected)),s.hasMarkers(O)&&(F.marker=T(0,O),F.markerSel=x(0,O,O.selected),F.markerUnsel=x(0,O,O.unselected),!O.unselected&&M.isArrayOrTypedArray(O.marker.opacity))){var X=O.marker.opacity;for(F.markerUnsel.opacity=new Array(X.length),P=0;P<X.length;P++)F.markerUnsel.opacity[P]=c*X[P]}if(s.hasLines(O)){F.line={overlay:!0,thickness:O.line.width*j,color:O.line.color,opacity:O.opacity};var N=(l.DASHES[O.line.dash]||[1]).slice();for(P=0;P<N.length;++P)N[P]*=O.line.width*j;F.line.dashes=N}return O.error_x&&O.error_x.visible&&(F.errorX=b(O,O.error_x,j)),O.error_y&&O.error_y.visible&&(F.errorY=b(O,O.error_y,j)),O.fill&&"none"!==O.fill&&(F.fill={closed:!0,fill:O.fillcolor,thickness:0}),F},markerStyle:T,markerSelection:x,linePositions:function(L,O,P){var F,j,X=P.length,N=X/2;if(s.hasLines(O)&&N)if("hv"===O.line.shape){for(F=[],j=0;j<N-1;j++)isNaN(P[2*j])||isNaN(P[2*j+1])?F.push(NaN,NaN,NaN,NaN):(F.push(P[2*j],P[2*j+1]),isNaN(P[2*j+2])||isNaN(P[2*j+3])?F.push(NaN,NaN):F.push(P[2*j+2],P[2*j+1]));F.push(P[X-2],P[X-1])}else if("hvh"===O.line.shape){for(F=[],j=0;j<N-1;j++)if(isNaN(P[2*j])||isNaN(P[2*j+1])||isNaN(P[2*j+2])||isNaN(P[2*j+3]))isNaN(P[2*j])||isNaN(P[2*j+1])?F.push(NaN,NaN):F.push(P[2*j],P[2*j+1]),F.push(NaN,NaN);else{var q=(P[2*j]+P[2*j+2])/2;F.push(P[2*j],P[2*j+1],q,P[2*j+1],q,P[2*j+3])}F.push(P[X-2],P[X-1])}else if("vhv"===O.line.shape){for(F=[],j=0;j<N-1;j++)if(isNaN(P[2*j])||isNaN(P[2*j+1])||isNaN(P[2*j+2])||isNaN(P[2*j+3]))isNaN(P[2*j])||isNaN(P[2*j+1])?F.push(NaN,NaN):F.push(P[2*j],P[2*j+1]),F.push(NaN,NaN);else{var G=(P[2*j+1]+P[2*j+3])/2;F.push(P[2*j],P[2*j+1],P[2*j],G,P[2*j+2],G)}F.push(P[X-2],P[X-1])}else if("vh"===O.line.shape){for(F=[],j=0;j<N-1;j++)isNaN(P[2*j])||isNaN(P[2*j+1])?F.push(NaN,NaN,NaN,NaN):(F.push(P[2*j],P[2*j+1]),isNaN(P[2*j+2])||isNaN(P[2*j+3])?F.push(NaN,NaN):F.push(P[2*j],P[2*j+3]));F.push(P[X-2],P[X-1])}else F=P;var H=!1;for(j=0;j<F.length;j++)if(isNaN(F[j])){H=!0;break}var Z=H||F.length>l.TOO_MANY_POINTS||s.hasMarkers(O)?"rect":"round";if(H&&O.connectgaps){var $=F[0],se=F[1];for(j=0;j<F.length;j+=2)isNaN(F[j])||isNaN(F[j+1])?(F[j]=$,F[j+1]=se):($=F[j],se=F[j+1])}return{join:Z,positions:F}},errorBarPositions:function(L,O,P,F,j){var X=S.getComponentMethod("errorbars","makeComputeError"),N=u.getFromId(L,O.xaxis,"x"),q=u.getFromId(L,O.yaxis,"y"),G=P.length/2,H={};function Z($,se){var ne=se._id.charAt(0),re=O["error_"+ne];if(re&&re.visible&&("linear"===se.type||"log"===se.type)){for(var Q=X(re),ee={x:0,y:1}[ne],oe={x:[0,1,2,3],y:[2,3,0,1]}[ne],ce=new Float64Array(4*G),ue=1/0,he=-1/0,ve=0,ke=0;ve<G;ve++,ke+=4){var Ie=$[ve];if(D(Ie)){var Me=P[2*ve+ee],_e=Q(Ie,ve),we=_e[0],ze=_e[1];if(D(we)&&D(ze)){var Se=Ie+ze;ce[ke+oe[0]]=Me-se.c2l(Ie-we),ce[ke+oe[1]]=se.c2l(Se)-Me,ce[ke+oe[2]]=0,ce[ke+oe[3]]=0,ue=Math.min(ue,Ie-we),he=Math.max(he,Ie+ze)}}}H[ne]={positions:P,errors:ce,_bnds:[ue,he]}}}return Z(F,N),Z(j,q),H},textPosition:function(L,O,P,F){var j,X=O._length,N={};if(s.hasMarkers(O)){var q=P.font,G=P.align,H=P.baseline;for(N.offset=new Array(X),j=0;j<X;j++){var Z=F.sizes?F.sizes[j]:F.size,$=Array.isArray(q)?q[j].size:q.size,se=Array.isArray(G)?G.length>1?G[j]:G[0]:G,ne=Array.isArray(H)?H.length>1?H[j]:H[0]:H,Q=f[ne],ee=Z?Z/.8+1:0;N.offset[j]=[f[se]*ee/$,(-Q*ee-.5*Q)/$]}}return N}}},47148:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),d=r(68645),S=r(42341),M=r(47581),v=r(34098),u=r(67513),i=r(73927),s=r(49508),a=r(11058),o=r(28908),l=r(82410);ae.exports=function(c,f,g,h){function T(I,k){return D.coerce(c,f,S,I,k)}var x=!!c.marker&&d.isOpenSymbol(c.marker.symbol),m=v.isBubble(c),b=u(c,f,h,T);if(b){i(c,f,h,T),T("xhoverformat"),T("yhoverformat");var _=b<M.PTS_LINESONLY?"lines+markers":"lines";T("text"),T("hovertext"),T("hovertemplate"),T("mode",_),v.hasLines(f)&&(T("connectgaps"),a(c,f,g,h,T),T("line.shape")),v.hasMarkers(f)&&(s(c,f,g,h,T,{noAngleRef:!0,noStandOff:!0}),T("marker.line.width",x||m?1:0)),v.hasText(f)&&(T("texttemplate"),l(c,f,h,T));var w=(f.line||{}).color,A=(f.marker||{}).color;T("fill"),"none"!==f.fill&&o(c,f,g,T);var p=E.getComponentMethod("errorbars","supplyDefaults");p(c,f,w||A||g,{axis:"y"}),p(c,f,w||A||g,{axis:"x",inherit:"y"}),D.coerceSelectionMarkerOpacity(f,T)}else f.visible=!1}},5345:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(37822).DESELECTDIM;ae.exports={styleTextSelection:function(S){var M,v,u=S[0],i=u.trace,s=u.t,a=s._scene,o=s.index,l=a.selectBatch[o],c=a.unselectBatch[o],f=a.textOptions[o],g=a.textSelectedOptions[o]||{},h=a.textUnselectedOptions[o]||{},T=D.extendFlat({},f);if(l.length||c.length){var x=g.color,m=h.color,b=f.color,_=Array.isArray(b);for(T.color=new Array(i._length),M=0;M<l.length;M++)T.color[v=l[M]]=x||(_?b[v]:b);for(M=0;M<c.length;M++){v=c[M];var w=_?b[v]:b;T.color[v]=m||(x?w:E.addOpacity(w,d))}}a.glText[o].update(T)}}},68101:function(ae,B,r){"use strict";var D=r(8225);ae.exports=function(E,d,S){var M=E.i;return"x"in E||(E.x=d._x[M]),"y"in E||(E.y=d._y[M]),D(E,d,S)}},68645:function(ae,B,r){"use strict";var D=r(78232);B.isOpenSymbol=function(E){return"string"==typeof E?D.OPEN_RE.test(E):E%200>100},B.isDotSymbol=function(E){return"string"==typeof E?D.DOT_RE.test(E):E>200}},20794:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(34603);function S(M,v,u,i){var s=M.xa,a=M.ya,o=M.distance,l=M.dxy,c=M.index,f={pointNumber:c,x:v[c],y:u[c]};f.tx=Array.isArray(i.text)?i.text[c]:i.text,f.htx=Array.isArray(i.hovertext)?i.hovertext[c]:i.hovertext,f.data=Array.isArray(i.customdata)?i.customdata[c]:i.customdata,f.tp=Array.isArray(i.textposition)?i.textposition[c]:i.textposition;var g=i.textfont;g&&(f.ts=E.isArrayOrTypedArray(g.size)?g.size[c]:g.size,f.tc=Array.isArray(g.color)?g.color[c]:g.color,f.tf=Array.isArray(g.family)?g.family[c]:g.family);var h=i.marker;h&&(f.ms=E.isArrayOrTypedArray(h.size)?h.size[c]:h.size,f.mo=E.isArrayOrTypedArray(h.opacity)?h.opacity[c]:h.opacity,f.mx=E.isArrayOrTypedArray(h.symbol)?h.symbol[c]:h.symbol,f.ma=E.isArrayOrTypedArray(h.angle)?h.angle[c]:h.angle,f.mc=E.isArrayOrTypedArray(h.color)?h.color[c]:h.color);var T=h&&h.line;T&&(f.mlc=Array.isArray(T.color)?T.color[c]:T.color,f.mlw=E.isArrayOrTypedArray(T.width)?T.width[c]:T.width);var x=h&&h.gradient;x&&"none"!==x.type&&(f.mgt=Array.isArray(x.type)?x.type[c]:x.type,f.mgc=Array.isArray(x.color)?x.color[c]:x.color);var m=s.c2p(f.x,!0),b=a.c2p(f.y,!0),_=f.mrc||1,w=i.hoverlabel;w&&(f.hbg=Array.isArray(w.bgcolor)?w.bgcolor[c]:w.bgcolor,f.hbc=Array.isArray(w.bordercolor)?w.bordercolor[c]:w.bordercolor,f.hts=E.isArrayOrTypedArray(w.font.size)?w.font.size[c]:w.font.size,f.htc=Array.isArray(w.font.color)?w.font.color[c]:w.font.color,f.htf=Array.isArray(w.font.family)?w.font.family[c]:w.font.family,f.hnl=E.isArrayOrTypedArray(w.namelength)?w.namelength[c]:w.namelength);var A=i.hoverinfo;A&&(f.hi=Array.isArray(A)?A[c]:A);var p=i.hovertemplate;p&&(f.ht=Array.isArray(p)?p[c]:p);var I={};I[M.index]=f;var k=i._origX,L=i._origY,O=E.extendFlat({},M,{color:d(i,f),x0:m-_,x1:m+_,xLabelVal:k?k[c]:f.x,y0:b-_,y1:b+_,yLabelVal:L?L[c]:f.y,cd:I,distance:o,spikeDistance:l,hovertemplate:f.ht});return f.htx?O.text=f.htx:f.tx?O.text=f.tx:i.text&&(O.text=i.text),E.fillText(f,i,O),D.getComponentMethod("errorbars","hoverInfo")(f,i,O),O}ae.exports={hoverPoints:function(M,v,u,i){var s,a,o,l,c,f,g,h,T,x,m=M.cd,b=m[0].t,_=m[0].trace,w=M.xa,A=M.ya,p=b.x,I=b.y,k=w.c2p(v),L=A.c2p(u),O=M.distance;if(b.tree){var P=w.p2c(k-O),F=w.p2c(k+O),j=A.p2c(L-O),X=A.p2c(L+O);s="x"===i?b.tree.range(Math.min(P,F),Math.min(A._rl[0],A._rl[1]),Math.max(P,F),Math.max(A._rl[0],A._rl[1])):b.tree.range(Math.min(P,F),Math.min(j,X),Math.max(P,F),Math.max(j,X))}else s=b.ids;var N=O;if("x"===i){var q=!!_.xperiodalignment,G=!!_.yperiodalignment;for(f=0;f<s.length;f++){if(l=p[a=s[f]],g=Math.abs(w.c2p(l)-k),q){var H=w.c2p(_._xStarts[a]),Z=w.c2p(_._xEnds[a]);g=k>=Math.min(H,Z)&&k<=Math.max(H,Z)?0:1/0}if(g<N){if(N=g,h=A.c2p(c=I[a])-L,G){var $=A.c2p(_._yStarts[a]),se=A.c2p(_._yEnds[a]);h=L>=Math.min($,se)&&L<=Math.max($,se)?0:1/0}x=Math.sqrt(g*g+h*h),o=s[f]}}}else for(f=s.length-1;f>-1;f--)l=p[a=s[f]],c=I[a],g=w.c2p(l)-k,h=A.c2p(c)-L,(T=Math.sqrt(g*g+h*h))<N&&(N=x=T,o=a);return M.index=o,M.distance=N,M.dxy=x,void 0===o?[M]:[S(M,p,I,_)]},calcHover:S}},68868:function(ae,B,r){"use strict";var D=r(72156);D.plot=r(26787),ae.exports=D},26787:function(ae,B,r){"use strict";var D=r(11870),E=r(46075),d=r(3593),S=r(42505),M=r(71828),v=r(64505).selectMode,u=r(79749),i=r(34098),s=r(68687),a=r(5345).styleTextSelection,o={};function l(c,f,g,h){var T=c._size,p=T.w*h,I=T.h*h;return[T.l*h+f.domain[0]*p,T.b*h+g.domain[0]*I,c.width*h-T.r*h-(1-f.domain[1])*p,c.height*h-T.t*h-(1-g.domain[1])*I]}(ae.exports=function(c,f,g){if(g.length){var h,T,x=c._fullLayout,m=f._scene,b=f.xaxis,_=f.yaxis;if(m)if(u(c,["ANGLE_instanced_arrays","OES_element_index_uint"],o)){var w=m.count,A=x._glcanvas.data()[0].regl;if(s(c,f,g),m.dirty){if(!0===m.error2d&&(m.error2d=d(A)),!0===m.line2d&&(m.line2d=E(A)),!0===m.scatter2d&&(m.scatter2d=D(A)),!0===m.fill2d&&(m.fill2d=E(A)),!0===m.glText)for(m.glText=new Array(w),h=0;h<w;h++)m.glText[h]=new S(A);if(m.glText){if(w>m.glText.length){var p=w-m.glText.length;for(h=0;h<p;h++)m.glText.push(new S(A))}else w<m.glText.length&&m.glText.splice(w,m.glText.length-w).forEach(function(ce){ce.destroy()});for(h=0;h<w;h++)m.glText[h].update(m.textOptions[h])}if(m.line2d&&(m.line2d.update(m.lineOptions),m.lineOptions=m.lineOptions.map(function(ce){if(ce&&ce.positions){for(var ue=ce.positions,he=0;he<ue.length&&(isNaN(ue[he])||isNaN(ue[he+1]));)he+=2;for(var ve=ue.length-2;ve>he&&(isNaN(ue[ve])||isNaN(ue[ve+1]));)ve-=2;ce.positions=ue.slice(he,ve+2)}return ce}),m.line2d.update(m.lineOptions)),m.error2d){var k=(m.errorXOptions||[]).concat(m.errorYOptions||[]);m.error2d.update(k)}m.scatter2d&&m.scatter2d.update(m.markerOptions),m.fillOrder=M.repeat(null,w),m.fill2d&&(m.fillOptions=m.fillOptions.map(function(ce,ue){var he=g[ue];if(ce&&he&&he[0]&&he[0].trace){var ve,ke,Ie=he[0],Me=Ie.trace,_e=Ie.t,we=m.lineOptions[ue],ze=[];Me._ownfill&&ze.push(ue),Me._nexttrace&&ze.push(ue+1),ze.length&&(m.fillOrder[ue]=ze);var Ee,Se,me=[],fe=we&&we.positions||_e.positions;if("tozeroy"===Me.fill){for(Ee=0;Ee<fe.length&&isNaN(fe[Ee+1]);)Ee+=2;for(Se=fe.length-2;Se>Ee&&isNaN(fe[Se+1]);)Se-=2;0!==fe[Ee+1]&&(me=[fe[Ee],0]),me=me.concat(fe.slice(Ee,Se+2)),0!==fe[Se+1]&&(me=me.concat([fe[Se],0]))}else if("tozerox"===Me.fill){for(Ee=0;Ee<fe.length&&isNaN(fe[Ee]);)Ee+=2;for(Se=fe.length-2;Se>Ee&&isNaN(fe[Se]);)Se-=2;0!==fe[Ee]&&(me=[0,fe[Ee+1]]),me=me.concat(fe.slice(Ee,Se+2)),0!==fe[Se]&&(me=me.concat([0,fe[Se+1]]))}else if("toself"===Me.fill||"tonext"===Me.fill){for(me=[],ve=0,ce.splitNull=!0,ke=0;ke<fe.length;ke+=2)(isNaN(fe[ke])||isNaN(fe[ke+1]))&&((me=me.concat(fe.slice(ve,ke))).push(fe[ve],fe[ve+1]),me.push(null,null),ve=ke+2);me=me.concat(fe.slice(ve)),ve&&me.push(fe[ve],fe[ve+1])}else{var le=Me._nexttrace;if(le){var Te=m.lineOptions[ue+1];if(Te){var Re=Te.positions;if("tonexty"===Me.fill){for(me=fe.slice(),ue=Math.floor(Re.length/2);ue--;){var De=Re[2*ue],Ue=Re[2*ue+1];isNaN(De)||isNaN(Ue)||me.push(De,Ue)}ce.fill=le.fillcolor}}}}if(Me._prevtrace&&"tonext"===Me._prevtrace.fill){var Ze=m.lineOptions[ue-1].positions,xe=me.length/2,Oe=[ve=xe];for(ke=0;ke<Ze.length;ke+=2)(isNaN(Ze[ke])||isNaN(Ze[ke+1]))&&(Oe.push(ke/2+xe+1),ve=ke+2);me=me.concat(Ze),ce.hole=Oe}return ce.fillmode=Me.fill,ce.opacity=Me.opacity,ce.positions=me,ce}}),m.fill2d.update(m.fillOptions))}var O=v(x.dragmode),P=x.clickmode.indexOf("select")>-1;for(h=0;h<w;h++){var F=g[h][0],j=F.trace,X=F.t,N=X.index,q=j._length,G=X.x,H=X.y;if(j.selectedpoints||O||P){if(O||(O=!0),j.selectedpoints){var Z=m.selectBatch[N]=M.selIndices2selPoints(j),$={};for(T=0;T<Z.length;T++)$[Z[T]]=1;var se=[];for(T=0;T<q;T++)$[T]||se.push(T);m.unselectBatch[N]=se}var ne=X.xpx=new Array(q),re=X.ypx=new Array(q);for(T=0;T<q;T++)ne[T]=b.c2p(G[T]),re[T]=_.c2p(H[T])}else X.xpx=X.ypx=null}if(O){if(m.select2d||(m.select2d=D(x._glcanvas.data()[1].regl)),m.scatter2d){var Q=new Array(w);for(h=0;h<w;h++)Q[h]=m.selectBatch[h].length||m.unselectBatch[h].length?m.markerUnselectedOptions[h]:{};m.scatter2d.update(Q)}m.select2d&&(m.select2d.update(m.markerOptions),m.select2d.update(m.markerSelectedOptions)),m.glText&&g.forEach(function(ce){i.hasText(((ce||[])[0]||{}).trace||{})&&a(ce)})}else m.scatter2d&&m.scatter2d.update(m.markerOptions);var ee={viewport:l(x,b,_,c._context.plotGlPixelRatio),range:[(b._rl||b.range)[0],(_._rl||_.range)[0],(b._rl||b.range)[1],(_._rl||_.range)[1]]},oe=M.repeat(ee,m.count);m.fill2d&&m.fill2d.update(oe),m.line2d&&m.line2d.update(oe),m.error2d&&m.error2d.update(oe.concat(oe)),m.scatter2d&&m.scatter2d.update(oe),m.select2d&&m.select2d.update(oe),m.glText&&m.glText.forEach(function(ce){ce.update(ee)})}else m.init()}}).reglPrecompiled=o},38967:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d){var S=d._scene,M={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},v={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return d._scene||((S=d._scene={}).init=function(){D.extendFlat(S,v,M)},S.init(),S.update=function(u){var i=D.repeat(u,S.count);if(S.fill2d&&S.fill2d.update(i),S.scatter2d&&S.scatter2d.update(i),S.line2d&&S.line2d.update(i),S.error2d&&S.error2d.update(i.concat(i)),S.select2d&&S.select2d.update(i),S.glText)for(var s=0;s<S.count;s++)S.glText[s].update(u)},S.draw=function(){for(var u=S.count,i=S.fill2d,s=S.error2d,a=S.line2d,o=S.scatter2d,l=S.glText,c=S.select2d,f=S.selectBatch,g=S.unselectBatch,h=0;h<u;h++){if(i&&S.fillOrder[h]&&i.draw(S.fillOrder[h]),a&&S.lineOptions[h]&&a.draw(h),s&&(S.errorXOptions[h]&&s.draw(h),S.errorYOptions[h]&&s.draw(h+u)),o&&S.markerOptions[h])if(g[h].length){var T=D.repeat([],S.count);T[h]=g[h],o.draw(T)}else f[h].length||o.draw(h);l[h]&&S.textOptions[h]&&l[h].render()}c&&c.draw(f),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(u){u.destroy&&u.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,d._scene=null}),S.dirty||D.extendFlat(S,M),S}},58147:function(ae,B,r){"use strict";var D=r(34098),E=r(5345).styleTextSelection;ae.exports=function(d,S){var M=d.cd,v=d.xaxis,u=d.yaxis,i=[],s=M[0].trace,a=M[0].t,o=s._length,l=a.x,c=a.y,f=a._scene,g=a.index;if(!f)return i;var h=D.hasText(s),T=D.hasMarkers(s);if(!0!==s.visible||!T&&!h)return i;var m=[],b=[];if(!1!==S&&!S.degenerate)for(var _=0;_<o;_++)S.contains([a.xpx[_],a.ypx[_]],!1,_,d)?(m.push(_),i.push({pointNumber:_,x:v.c2d(l[_]),y:u.c2d(c[_])})):b.push(_);if(T){var w=f.scatter2d;if(m.length||b.length){if(!f.selectBatch[g].length&&!f.unselectBatch[g].length){var A=new Array(f.count);A[g]=f.markerUnselectedOptions[g],w.update.apply(w,A)}}else{var p=new Array(f.count);p[g]=f.markerOptions[g],w.update.apply(w,p)}}return f.selectBatch[g]=m,f.unselectBatch[g]=b,h&&E(M),i}},99181:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,d=r(19316),S=r(82196),M=r(23585),v=r(9012),u=r(50693),i=r(1426).extendFlat,s=r(30962).overrideAll,a=r(23585),o=d.line,l=d.marker;ae.exports=s({lon:d.lon,lat:d.lat,cluster:{enabled:{valType:"boolean"},maxzoom:i({},a.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:i({},l.opacity,{dflt:1})},mode:i({},S.mode,{dflt:"markers"}),text:i({},S.text,{}),texttemplate:E({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:i({},S.hovertext,{}),line:{color:o.color,width:o.width},connectgaps:S.connectgaps,marker:i({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},u("marker")),fill:d.fill,fillcolor:S.fillcolor,textfont:M.layers.symbol.textfont,textposition:M.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:i({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:D()},"calc","nested")},15790:function(ae,B,r){"use strict";var D=r(92770),E=r(71828),d=r(50606).BADNUM,S=r(18214),M=r(21081),v=r(91424),u=r(39984),i=r(34098),s=r(13056),a=r(23469).appendArrayPointValue,o=r(63893).NEWLINES,l=r(63893).BR_TAG_ALL;function c(x){return{type:x,geojson:S.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function f(x,m){return E.isArrayOrTypedArray(x)?m?function(b){return D(x[b])?+x[b]:0}:function(b){return x[b]}:x?function(){return x}:g}function g(){return""}function h(x){return x[0]===d}function T(x,m){var b;if(E.isArrayOrTypedArray(x)&&E.isArrayOrTypedArray(m)){b=["step",["get","point_count"],x[0]];for(var _=1;_<x.length;_++)b.push(m[_-1],x[_])}else b=x;return b}ae.exports=function(x,m){var b,_=m[0].trace,w=!0===_.visible&&0!==_._length,A="none"!==_.fill,p=i.hasLines(_),I=i.hasMarkers(_),k=i.hasText(_),L=I&&"circle"===_.marker.symbol,O=I&&"circle"!==_.marker.symbol,P=_.cluster&&_.cluster.enabled,F=c("fill"),j=c("line"),X=c("circle"),N=c("symbol"),q={fill:F,line:j,circle:X,symbol:N};if(!w)return q;if((A||p)&&(b=S.calcTraceToLineCoords(m)),A&&(F.geojson=S.makePolygon(b),F.layout.visibility="visible",E.extendFlat(F.paint,{"fill-color":_.fillcolor})),p&&(j.geojson=S.makeLine(b),j.layout.visibility="visible",E.extendFlat(j.paint,{"line-width":_.line.width,"line-color":_.line.color,"line-opacity":_.opacity})),L){var G=function($){var se,ne,re,Q,ee=$[0].trace,oe=ee.marker,ce=ee.selectedpoints,ue=E.isArrayOrTypedArray(oe.color),he=E.isArrayOrTypedArray(oe.size),ve=E.isArrayOrTypedArray(oe.opacity);function ke(me){return ee.opacity*me}ue&&(ne=M.hasColorscale(ee,"marker")?M.makeColorScaleFuncFromTrace(oe):E.identity),he&&(re=u(ee)),ve&&(Q=function(me){return ke(D(me)?+E.constrain(me,0,1):0)});var Ie,Me,_e=[];for(se=0;se<$.length;se++){var we=$[se],ze=we.lonlat;if(!h(ze)){var Ee={};ne&&(Ee.mcc=we.mcc=ne(we.mc)),re&&(Ee.mrc=we.mrc=re(we.ms)),Q&&(Ee.mo=Q(we.mo)),ce&&(Ee.selected=we.selected||0),_e.push({type:"Feature",id:se+1,geometry:{type:"Point",coordinates:ze},properties:Ee})}}if(ce)for(Ie=v.makeSelectedPointStyleFns(ee),se=0;se<_e.length;se++){var Se=_e[se].properties;Ie.selectedOpacityFn&&(Se.mo=ke(Ie.selectedOpacityFn(Se))),Ie.selectedColorFn&&(Se.mcc=Ie.selectedColorFn(Se)),Ie.selectedSizeFn&&(Se.mrc=Ie.selectedSizeFn(Se))}return{geojson:{type:"FeatureCollection",features:_e},mcc:ue||Ie&&Ie.selectedColorFn?{type:"identity",property:"mcc"}:oe.color,mrc:he||Ie&&Ie.selectedSizeFn?{type:"identity",property:"mrc"}:(Me=oe.size,Me/2),mo:ve||Ie&&Ie.selectedOpacityFn?{type:"identity",property:"mo"}:ke(oe.opacity)}}(m);X.geojson=G.geojson,X.layout.visibility="visible",P&&(X.filter=["!",["has","point_count"]],q.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":T(_.cluster.color,_.cluster.step),"circle-radius":T(_.cluster.size,_.cluster.step),"circle-opacity":T(_.cluster.opacity,_.cluster.step)}},q.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),E.extendFlat(X.paint,{"circle-color":G.mcc,"circle-radius":G.mrc,"circle-opacity":G.mo})}if(L&&P&&(X.filter=["!",["has","point_count"]]),(O||k)&&(N.geojson=function($,se){for(var ne=se._fullLayout,re=$[0].trace,Q=re.marker||{},ee=Q.symbol,oe=Q.angle,ce="circle"!==ee?f(ee):g,ue="auto"!==oe?f(oe,!0):g,he=i.hasText(re)?f(re.text):g,ve=[],ke=0;ke<$.length;ke++){var Ie=$[ke];if(!h(Ie.lonlat)){var Me,_e=re.texttemplate;if(_e){var we=Array.isArray(_e)?_e[ke]||"":_e,ze=re._module.formatLabels(Ie,re,ne),Ee={};a(Ee,re,Ie.i),Me=E.texttemplateString(we,ze,ne._d3locale,Ee,Ie,re._meta||{})}else Me=he(ke);Me&&(Me=Me.replace(o,"").replace(l,"\n")),ve.push({type:"Feature",geometry:{type:"Point",coordinates:Ie.lonlat},properties:{symbol:ce(ke),angle:ue(ke),text:Me}})}}return{type:"FeatureCollection",features:ve}}(m,x),E.extendFlat(N.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),O&&(E.extendFlat(N.layout,{"icon-size":_.marker.size/10}),"angle"in _.marker&&"auto"!==_.marker.angle&&E.extendFlat(N.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),N.layout["icon-allow-overlap"]=_.marker.allowoverlap,E.extendFlat(N.paint,{"icon-opacity":_.opacity*_.marker.opacity,"icon-color":_.marker.color})),k)){var Z=s(_.textposition,(_.marker||{}).size);E.extendFlat(N.layout,{"text-size":_.textfont.size,"text-anchor":Z.anchor,"text-offset":Z.offset,"text-font":_.textfont.family.split(", ")}),E.extendFlat(N.paint,{"text-color":_.textfont.color,"text-opacity":_.opacity})}return q}},76645:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),d=r(49508),S=r(11058),M=r(82410),v=r(28908),u=r(99181),i=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];ae.exports=function(s,a,o,l){function c(w,A){return D.coerce(s,a,u,w,A)}function f(w,A){return D.coerce2(s,a,u,w,A)}var A,p,I,k,L;if(A=a,I=(p=c)("lon")||[],k=p("lat")||[],L=Math.min(I.length,k.length),A._length=L,L){if(c("text"),c("texttemplate"),c("hovertext"),c("hovertemplate"),c("mode"),c("below"),E.hasLines(a)&&(S(s,a,o,l,c,{noDash:!0}),c("connectgaps")),E.hasMarkers(a)){d(s,a,o,l,c,{noLine:!0,noAngle:!0}),c("marker.allowoverlap"),c("marker.angle");var h=a.marker;"circle"!==h.symbol&&(D.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),D.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}var T=f("cluster.maxzoom"),x=f("cluster.step"),m=f("cluster.color",a.marker&&a.marker.color||o),b=f("cluster.size"),_=f("cluster.opacity");c("cluster.enabled",!1!==T||!1!==x||!1!==m||!1!==b||!1!==_),E.hasText(a)&&M(s,a,l,c,{noSelect:!0,font:{family:-1!==i.indexOf(l.font.family)?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),c("fill"),"none"!==a.fill&&v(s,a,o,c),D.coerceSelectionMarkerOpacity(a,c)}else a.visible=!1}},53353:function(ae){"use strict";ae.exports=function(B,r){return B.lon=r.lon,B.lat=r.lat,B}},15636:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,d,S){var M={},v=S[d.subplot]._subplot.mockAxis,u=E.lonlat;return M.lonLabel=D.tickText(v,v.c2l(u[0]),!0).text,M.latLabel=D.tickText(v,v.c2l(u[1]),!0).text,M}},28178:function(ae,B,r){"use strict";var D=r(30211),E=r(71828),d=r(34603),S=E.fillText,M=r(50606).BADNUM,v=r(77734).traceLayerPrefix;function u(i,s,a){if(!i.hovertemplate){var o=(s.hi||i.hoverinfo).split("+"),l=-1!==o.indexOf("all"),c=-1!==o.indexOf("lon"),f=-1!==o.indexOf("lat"),g=s.lonlat,h=[];return l||c&&f?h.push("("+T(g[1])+", "+T(g[0])+")"):c?h.push(a.lon+T(g[0])):f&&h.push(a.lat+T(g[1])),(l||-1!==o.indexOf("text"))&&S(s,i,h),h.join("<br>")}function T(x){return x+"\xb0"}}ae.exports={hoverPoints:function(i,s,a){var o=i.cd,l=o[0].trace,c=i.xa,f=i.ya,g=i.subplot,h=[],x=l.cluster&&l.cluster.enabled;if(x){var m=g.map.queryRenderedFeatures(null,{layers:[v+l.uid+"-circle"]});h=m.map(function(F){return F.id})}var b=360*(s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360)),_=s-b;if(D.getClosest(o,function(F){var j=F.lonlat;if(j[0]===M||x&&-1===h.indexOf(F.i+1))return 1/0;var X=E.modHalf(j[0],360),N=j[1],q=g.project([X,N]),G=q.x-c.c2p([_,N]),H=q.y-f.c2p([X,a]),Z=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(G*G+H*H)-Z,1-3/Z)},i),!1!==i.index){var w=o[i.index],A=w.lonlat,p=[E.modHalf(A[0],360)+b,A[1]],I=c.c2p(p),k=f.c2p(p),L=w.mrc||1;i.x0=I-L,i.x1=I+L,i.y0=k-L,i.y1=k+L;var O={};O[l.subplot]={_subplot:g};var P=l._module.formatLabels(w,l,O);return i.lonLabel=P.lonLabel,i.latLabel=P.latLabel,i.color=d(l,w),i.extraText=u(l,w,o[0].t.labels),i.hovertemplate=l.hovertemplate,[i]}},getExtraText:u}},20467:function(ae,B,r){"use strict";ae.exports={attributes:r(99181),supplyDefaults:r(76645),colorbar:r(4898),formatLabels:r(15636),calc:r(84622),plot:r(86951),hoverPoints:r(28178).hoverPoints,eventData:r(53353),selectPoints:r(86387),styleOnSelect:function(D,E){E&&E[0].trace._glTrace.update(E)},moduleType:"trace",name:"scattermapbox",basePlotModule:r(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(ae,B,r){"use strict";var D=r(71828),E=r(15790),d=r(77734).traceLayerPrefix,S={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function M(u,i,s,a){this.type="scattermapbox",this.subplot=u,this.uid=i,this.clusterEnabled=s,this.isHidden=a,this.sourceIds={fill:"source-"+i+"-fill",line:"source-"+i+"-line",circle:"source-"+i+"-circle",symbol:"source-"+i+"-symbol",cluster:"source-"+i+"-circle",clusterCount:"source-"+i+"-circle"},this.layerIds={fill:d+i+"-fill",line:d+i+"-line",circle:d+i+"-circle",symbol:d+i+"-symbol",cluster:d+i+"-cluster",clusterCount:d+i+"-cluster-count"},this.below=null}var v=M.prototype;v.addSource=function(u,i,s){var a={type:"geojson",data:i.geojson};s&&s.enabled&&D.extendFlat(a,{cluster:!0,clusterMaxZoom:s.maxzoom});var o=this.subplot.map.getSource(this.sourceIds[u]);o?o.setData(i.geojson):this.subplot.map.addSource(this.sourceIds[u],a)},v.setSourceData=function(u,i){this.subplot.map.getSource(this.sourceIds[u]).setData(i.geojson)},v.addLayer=function(u,i,s){var a={type:i.type,id:this.layerIds[u],source:this.sourceIds[u],layout:i.layout,paint:i.paint};i.filter&&(a.filter=i.filter);for(var o,l=this.layerIds[u],c=this.subplot.getMapLayers(),f=0;f<c.length;f++)if(c[f].id===l){o=!0;break}o?(this.subplot.setOptions(l,"setLayoutProperty",a.layout),"visible"===a.layout.visibility&&this.subplot.setOptions(l,"setPaintProperty",a.paint)):this.subplot.addLayer(a,s)},v.update=function(u){var i=u[0].trace,s=this.subplot,a=s.map,o=E(s.gd,u),l=s.belowLookup["trace-"+this.uid],c=!(!i.cluster||!i.cluster.enabled),f=!!this.clusterEnabled,g=this;function h(_){f?function(w){for(var A=S.cluster,p=A.length-1;p>=0;p--)a.removeLayer(g.layerIds[A[p]]);w||a.removeSource(g.sourceIds.circle)}(_):function(w){for(var A=S.nonCluster,p=A.length-1;p>=0;p--){var I=A[p];a.removeLayer(g.layerIds[I]),w||a.removeSource(g.sourceIds[I])}}(_)}function T(_){c?function(w){w||g.addSource("circle",o.circle,i.cluster);for(var A=S.cluster,p=0;p<A.length;p++){var I=A[p];g.addLayer(I,o[I],l)}}(_):function(w){for(var A=S.nonCluster,p=0;p<A.length;p++){var I=A[p],k=o[I];w||g.addSource(I,k),g.addLayer(I,k,l)}}(_)}var m=this.isHidden,b=!0!==i.visible;b?m||h():m?b||T():f!==c?(h(),T()):(this.below!==l&&(h(!0),T(!0)),function x(){for(var _=c?S.cluster:S.nonCluster,w=0;w<_.length;w++){var A=_[w],p=o[A];p&&(s.setOptions(g.layerIds[A],"setLayoutProperty",p.layout),"visible"===p.layout.visibility&&("cluster"!==A&&g.setSourceData(A,p),s.setOptions(g.layerIds[A],"setPaintProperty",p.paint)))}}()),this.clusterEnabled=c,this.isHidden=b,this.below=l,u[0].trace._glTrace=this},v.dispose=function(){for(var u=this.subplot.map,i=this.clusterEnabled?S.cluster:S.nonCluster,s=i.length-1;s>=0;s--){var a=i[s];u.removeLayer(this.layerIds[a]),u.removeSource(this.sourceIds[a])}},ae.exports=function(u,i){var s,a,o,l=i[0].trace,c=l.cluster&&l.cluster.enabled,g=new M(u,l.uid,c,!0!==l.visible),h=E(u.gd,i),T=g.below=u.belowLookup["trace-"+l.uid];if(c)for(g.addSource("circle",h.circle,l.cluster),s=0;s<S.cluster.length;s++)o=h[a=S.cluster[s]],g.addLayer(a,o,T);else for(s=0;s<S.nonCluster.length;s++)o=h[a=S.nonCluster[s]],g.addSource(a,o,l.cluster),g.addLayer(a,o,T);return i[0].trace._glTrace=g,g}},86387:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),d=r(50606).BADNUM;ae.exports=function(S,M){var v,u=S.cd,i=S.xaxis,s=S.yaxis,a=[];if(!E.hasMarkers(u[0].trace))return[];if(!1===M)for(v=0;v<u.length;v++)u[v].selected=0;else for(v=0;v<u.length;v++){var l=u[v],c=l.lonlat;if(c[0]!==d){var f=[D.modHalf(c[0],360),c[1]],g=[i.c2p(f),s.c2p(f)];M.contains(g,null,v,S)?(a.push({pointNumber:v,lon:c[0],lat:c[1]}),l.selected=1):l.selected=0}}return a}},81245:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,d=r(1426).extendFlat,S=r(82196),M=r(9012),v=S.line;ae.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:E({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:d({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:d({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:d({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,hoverinfo:d({},M.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:D(),selected:S.selected,unselected:S.unselected}},26442:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,d=r(89298),S=r(36922),M=r(75225),v=r(66279),u=r(47761).calcMarkerSize;ae.exports=function(i,s){for(var a=i._fullLayout,o=s.subplot,l=a[o].radialaxis,c=a[o].angularaxis,f=l.makeCalcdata(s,"r"),g=c.makeCalcdata(s,"theta"),h=s._length,T=new Array(h),x=0;x<h;x++){var m=f[x],b=g[x],_=T[x]={};D(m)&&D(b)?(_.r=m,_.theta=b):_.r=E}var w=u(s,h);return s._extremes.x=d.findExtremes(l,f,{ppad:w}),S(i,s),M(T,s),v(T,s),T}},22184:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),d=r(49508),S=r(11058),M=r(94039),v=r(82410),u=r(28908),i=r(47581).PTS_LINESONLY,s=r(81245);function a(o,l,c,f){var g,h=f("r"),T=f("theta");if(h)T?g=Math.min(h.length,T.length):(g=h.length,f("theta0"),f("dtheta"));else{if(!T)return 0;g=l.theta.length,f("r0"),f("dr")}return l._length=g,g}ae.exports={handleRThetaDefaults:a,supplyDefaults:function(o,l,c,f){function g(x,m){return D.coerce(o,l,s,x,m)}var h=a(0,l,0,g);if(h){g("thetaunit"),g("mode",h<i?"lines+markers":"lines"),g("text"),g("hovertext"),"fills"!==l.hoveron&&g("hovertemplate"),E.hasLines(l)&&(S(o,l,c,f,g,{backoff:!0}),M(o,l,g),g("connectgaps")),E.hasMarkers(l)&&d(o,l,c,f,g,{gradient:!0}),E.hasText(l)&&(g("texttemplate"),v(o,l,f,g));var T=[];(E.hasMarkers(l)||E.hasText(l))&&(g("cliponaxis"),g("marker.maxdisplayed"),T.push("points")),g("fill"),"none"!==l.fill&&(u(o,l,c,g),E.hasLines(l)||M(o,l,g)),"tonext"!==l.fill&&"toself"!==l.fill||T.push("fills"),g("hoveron",T.join("+")||"points"),D.coerceSelectionMarkerOpacity(l,g)}else l.visible=!1}}},98608:function(ae,B,r){"use strict";var D=r(71828),E=r(89298);ae.exports=function(d,S,M){var v,u,i={},s=M[S.subplot]._subplot;s?(v=s.radialAxis,u=s.angularAxis):(v=(s=M[S.subplot]).radialaxis,u=s.angularaxis);var a=v.c2l(d.r);i.rLabel=E.tickText(v,a,!0).text;var o="degrees"===u.thetaunit?D.rad2deg(d.theta):d.theta;return i.thetaLabel=E.tickText(u,o,!0).text,i}},59150:function(ae,B,r){"use strict";var D=r(33720);function E(d,S,M,v){var u=M.radialAxis,i=M.angularAxis;u._hovertitle="r",i._hovertitle="\u03b8";var s={};s[S.subplot]={_subplot:M};var a=S._module.formatLabels(d,S,s);v.rLabel=a.rLabel,v.thetaLabel=a.thetaLabel;var l=[];function c(g,h){l.push(g._hovertitle+": "+h)}if(!S.hovertemplate){var f=(d.hi||S.hoverinfo).split("+");-1!==f.indexOf("all")&&(f=["r","theta","text"]),-1!==f.indexOf("r")&&c(u,v.rLabel),-1!==f.indexOf("theta")&&c(i,v.thetaLabel),-1!==f.indexOf("text")&&v.text&&(l.push(v.text),delete v.text),v.extraText=l.join("<br>")}}ae.exports={hoverPoints:function(d,S,M,v){var u=D(d,S,M,v);if(u&&!1!==u[0].index){var i=u[0];if(void 0===i.index)return u;var s=d.subplot,a=i.cd[i.index],o=i.trace;if(s.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,s,i),i.hovertemplate=o.hovertemplate,u}},makeHoverPointText:E}},91271:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:r(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:r(81245),supplyDefaults:r(22184).supplyDefaults,colorbar:r(4898),formatLabels:r(98608),calc:r(26442),plot:r(45162),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(59150).hoverPoints,selectPoints:r(98002),meta:{}}},45162:function(ae,B,r){"use strict";var D=r(32663),E=r(50606).BADNUM;ae.exports=function(d,S,M){for(var v=S.layers.frontplot.select("g.scatterlayer"),u=S.xaxis,i=S.yaxis,s={xaxis:u,yaxis:i,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},a=S.radialAxis,o=S.angularAxis,l=0;l<M.length;l++)for(var c=M[l],f=0;f<c.length;f++){0===f&&(c[0].trace._xA=u,c[0].trace._yA=i);var g=c[f],h=g.r;if(h===E)g.x=g.y=E;else{var T=a.c2g(h),x=o.c2g(g.theta);g.x=T*Math.cos(x),g.y=T*Math.sin(x)}}D(d,s,M,v)}},53286:function(ae,B,r){"use strict";var D=r(81245),E=r(42341),d=r(5386).si;ae.exports={mode:D.mode,r:D.r,theta:D.theta,r0:D.r0,dr:D.dr,theta0:D.theta0,dtheta:D.dtheta,thetaunit:D.thetaunit,text:D.text,texttemplate:d({editType:"plot"},{keys:["r","theta","text"]}),hovertext:D.hovertext,hovertemplate:D.hovertemplate,line:E.line,connectgaps:E.connectgaps,marker:E.marker,fill:E.fill,fillcolor:E.fillcolor,textposition:E.textposition,textfont:E.textfont,hoverinfo:D.hoverinfo,selected:D.selected,unselected:D.unselected}},65746:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:r(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:r(53286),supplyDefaults:r(75485),colorbar:r(4898),formatLabels:r(46255),calc:r(37499),hoverPoints:r(29347).hoverPoints,selectPoints:r(58147),meta:{}}},37499:function(ae,B,r){"use strict";var D=r(36922),E=r(47761).calcMarkerSize,d=r(19635),S=r(89298),M=r(78232).TOO_MANY_POINTS;ae.exports=function(v,u){var i=v._fullLayout,s=u.subplot,a=i[s].radialaxis,o=i[s].angularaxis,l=u._r=a.makeCalcdata(u,"r"),c=u._theta=o.makeCalcdata(u,"theta"),f=u._length,g={};f<l.length&&(l=l.slice(0,f)),f<c.length&&(c=c.slice(0,f)),g.r=l,g.theta=c,D(v,u);var h,T=g.opts=d.style(v,u);return f<M?h=E(u,f):T.marker&&(h=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),u._extremes.x=S.findExtremes(a,l,{ppad:h}),[{x:!1,y:!1,t:g,trace:u}]}},75485:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),d=r(22184).handleRThetaDefaults,S=r(49508),M=r(11058),v=r(82410),u=r(28908),i=r(47581).PTS_LINESONLY,s=r(53286);ae.exports=function(a,o,l,c){function f(h,T){return D.coerce(a,o,s,h,T)}var g=d(a,o,c,f);g?(f("thetaunit"),f("mode",g<i?"lines+markers":"lines"),f("text"),f("hovertext"),"fills"!==o.hoveron&&f("hovertemplate"),E.hasLines(o)&&(M(a,o,l,c,f),f("connectgaps")),E.hasMarkers(o)&&S(a,o,l,c,f,{noAngleRef:!0,noStandOff:!0}),E.hasText(o)&&(f("texttemplate"),v(a,o,c,f)),f("fill"),"none"!==o.fill&&u(a,o,l,f),D.coerceSelectionMarkerOpacity(o,f)):o.visible=!1}},46255:function(ae,B,r){"use strict";var D=r(98608);ae.exports=function(E,d,S){var M=E.i;return"r"in E||(E.r=d._r[M]),"theta"in E||(E.theta=d._theta[M]),D(E,d,S)}},29347:function(ae,B,r){"use strict";var D=r(20794),E=r(59150).makeHoverPointText;ae.exports={hoverPoints:function(d,S,M,v){var u=d.cd[0].t,i=u.r,s=u.theta,a=D.hoverPoints(d,S,M,v);if(a&&!1!==a[0].index){var o=a[0];if(void 0===o.index)return a;var l=d.subplot,c=o.cd[o.index],f=o.trace;if(c.r=i[o.index],c.theta=s[o.index],l.isPtInside(c))return o.xLabelVal=void 0,o.yLabelVal=void 0,E(c,f,l,o),a}}}},21461:function(ae,B,r){"use strict";var D=r(65746);D.plot=r(49741),ae.exports=D},49741:function(ae,B,r){"use strict";var D=r(88294),E=r(92770),d=r(26787),S=r(38967),M=r(19635),v=r(71828),u=r(78232).TOO_MANY_POINTS;ae.exports=function(i,s,a){if(a.length){var o=s.radialAxis,l=s.angularAxis,c=S(i,s);return a.forEach(function(f){if(f&&f[0]&&f[0].trace){var g,h=f[0],T=h.trace,x=h.t,m=T._length,b=x.r,_=x.theta,w=x.opts,A=b.slice(),p=_.slice();for(g=0;g<b.length;g++)s.isPtInside({r:b[g],theta:_[g]})||(A[g]=NaN,p[g]=NaN);var I=new Array(2*m),k=Array(m),L=Array(m);for(g=0;g<m;g++){var O,P,F=A[g];if(E(F)){var j=o.c2g(F),X=l.c2g(p[g],T.thetaunit);O=j*Math.cos(X),P=j*Math.sin(X)}else O=P=NaN;k[g]=I[2*g]=O,L[g]=I[2*g+1]=P}x.tree=D(I),w.marker&&m>=u&&(w.marker.cluster=x.tree),w.marker&&(w.markerSel.positions=w.markerUnsel.positions=w.marker.positions=I),w.line&&I.length>1&&v.extendFlat(w.line,M.linePositions(i,T,I)),w.text&&(v.extendFlat(w.text,{positions:I},M.textPosition(i,T,w.text,w.marker)),v.extendFlat(w.textSel,{positions:I},M.textPosition(i,T,w.text,w.markerSel)),v.extendFlat(w.textUnsel,{positions:I},M.textPosition(i,T,w.text,w.markerUnsel))),w.fill&&!c.fill2d&&(c.fill2d=!0),w.marker&&!c.scatter2d&&(c.scatter2d=!0),w.line&&!c.line2d&&(c.line2d=!0),w.text&&!c.glText&&(c.glText=!0),c.lineOptions.push(w.line),c.fillOptions.push(w.fill),c.markerOptions.push(w.marker),c.markerSelectedOptions.push(w.markerSel),c.markerUnselectedOptions.push(w.markerUnsel),c.textOptions.push(w.text),c.textSelectedOptions.push(w.textSel),c.textUnselectedOptions.push(w.textUnsel),c.selectBatch.push([]),c.unselectBatch.push([]),x.x=k,x.y=L,x.rawx=k,x.rawy=L,x.r=b,x.theta=_,x.positions=I,x._scene=c,x.index=c.count,c.count++}}),d(i,s,a)}},ae.exports.reglPrecompiled={}},48300:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,d=r(1426).extendFlat,S=r(82196),M=r(9012),v=S.line;ae.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:E({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:d({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:d({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:d({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:S.fillcolor,hoverinfo:d({},M.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:D(),selected:S.selected,unselected:S.unselected}},30621:function(ae,B,r){"use strict";var D=r(92770),E=r(50606).BADNUM,d=r(36922),S=r(75225),M=r(66279),v=r(47761).calcMarkerSize;ae.exports=function(u,i){for(var s=u._fullLayout,a=i.subplot,l=s[a].imaginaryaxis,c=s[a].realaxis.makeCalcdata(i,"real"),f=l.makeCalcdata(i,"imag"),g=i._length,h=new Array(g),T=0;T<g;T++){var x=c[T],m=f[T],b=h[T]={};D(x)&&D(m)?(b.real=x,b.imag=m):b.real=E}return v(i,g),d(u,i),S(h,i),M(h,i),h}},65269:function(ae,B,r){"use strict";var D=r(71828),E=r(34098),d=r(49508),S=r(11058),M=r(94039),v=r(82410),u=r(28908),i=r(47581).PTS_LINESONLY,s=r(48300);ae.exports=function(a,o,l,c){function f(T,x){return D.coerce(a,o,s,T,x)}var x,b,_,w,A,g=(x=o,w=(b=f)("real"),A=b("imag"),w&&A&&(_=Math.min(w.length,A.length)),x._length=_,_);if(g){f("mode",g<i?"lines+markers":"lines"),f("text"),f("hovertext"),"fills"!==o.hoveron&&f("hovertemplate"),E.hasLines(o)&&(S(a,o,l,c,f,{backoff:!0}),M(a,o,f),f("connectgaps")),E.hasMarkers(o)&&d(a,o,l,c,f,{gradient:!0}),E.hasText(o)&&(f("texttemplate"),v(a,o,c,f));var h=[];(E.hasMarkers(o)||E.hasText(o))&&(f("cliponaxis"),f("marker.maxdisplayed"),h.push("points")),f("fill"),"none"!==o.fill&&(u(a,o,l,f),E.hasLines(o)||M(a,o,f)),"tonext"!==o.fill&&"toself"!==o.fill||h.push("fills"),f("hoveron",h.join("+")||"points"),D.coerceSelectionMarkerOpacity(o,f)}else o.visible=!1}},62047:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,d,S){var M={},v=S[d.subplot]._subplot;return M.realLabel=D.tickText(v.radialAxis,E.real,!0).text,M.imagLabel=D.tickText(v.angularAxis,E.imag,!0).text,M}},11350:function(ae,B,r){"use strict";var D=r(33720);function E(d,S,M,v){var u=M.radialAxis,i=M.angularAxis;u._hovertitle="real",i._hovertitle="imag";var s={};s[S.subplot]={_subplot:M};var a=S._module.formatLabels(d,S,s);v.realLabel=a.realLabel,v.imagLabel=a.imagLabel;var l=[];function c(g,h){l.push(g._hovertitle+": "+h)}if(!S.hovertemplate){var f=(d.hi||S.hoverinfo).split("+");-1!==f.indexOf("all")&&(f=["real","imag","text"]),-1!==f.indexOf("real")&&c(u,v.realLabel),-1!==f.indexOf("imag")&&c(i,v.imagLabel),-1!==f.indexOf("text")&&v.text&&(l.push(v.text),delete v.text),v.extraText=l.join("<br>")}}ae.exports={hoverPoints:function(d,S,M,v){var u=D(d,S,M,v);if(u&&!1!==u[0].index){var i=u[0];if(void 0===i.index)return u;var s=d.subplot,a=i.cd[i.index],o=i.trace;if(s.isPtInside(a))return i.xLabelVal=void 0,i.yLabelVal=void 0,E(a,o,s,i),i.hovertemplate=o.hovertemplate,u}},makeHoverPointText:E}},85956:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"scattersmith",basePlotModule:r(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:r(48300),supplyDefaults:r(65269),colorbar:r(4898),formatLabels:r(62047),calc:r(30621),plot:r(12480),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(11350).hoverPoints,selectPoints:r(98002),meta:{}}},12480:function(ae,B,r){"use strict";var D=r(32663),E=r(50606).BADNUM,d=r(23893).smith;ae.exports=function(S,M,v){for(var u=M.layers.frontplot.select("g.scatterlayer"),i=M.xaxis,s=M.yaxis,a={xaxis:i,yaxis:s,plot:M.framework,layerClipId:M._hasClipOnAxisFalse?M.clipIds.forTraces:null},o=0;o<v.length;o++)for(var l=v[o],c=0;c<l.length;c++){0===c&&(l[0].trace._xA=i,l[0].trace._yA=s);var f=l[c],g=f.real;if(g===E)f.x=f.y=E;else{var h=d([g,f.imag]);f.x=h[0],f.y=h[1]}}D(S,a,v,u)}},50413:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,d=r(82196),S=r(9012),M=r(50693),v=r(79952).P,u=r(1426).extendFlat,i=d.marker,s=d.line,a=i.line;ae.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:u({},d.mode,{dflt:"markers"}),text:u({},d.text,{}),texttemplate:E({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:u({},d.hovertext,{}),line:{color:s.color,width:s.width,dash:v,backoff:s.backoff,shape:u({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:d.connectgaps,cliponaxis:d.cliponaxis,fill:u({},d.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:d.fillcolor,marker:u({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:i.angleref,standoff:i.standoff,maxdisplayed:i.maxdisplayed,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,line:u({width:a.width,editType:"calc"},M("marker.line")),gradient:i.gradient,editType:"calc"},M("marker")),textfont:d.textfont,textposition:d.textposition,selected:d.selected,unselected:d.unselected,hoverinfo:u({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:d.hoveron,hovertemplate:D()}},54337:function(ae,B,r){"use strict";var D=r(92770),E=r(36922),d=r(75225),S=r(66279),M=r(47761).calcMarkerSize,v=["a","b","c"],u={a:["b","c"],b:["a","c"],c:["a","b"]};ae.exports=function(i,s){var a,o,l,c,f,g,h=i._fullLayout[s.subplot].sum,T=s.sum||h,x={a:s.a,b:s.b,c:s.c};for(a=0;a<v.length;a++)if(!x[l=v[a]]){for(f=x[u[l][0]],g=x[u[l][1]],c=new Array(f.length),o=0;o<f.length;o++)c[o]=T-f[o]-g[o];x[l]=c}var m,b,_,w,I=s._length,k=new Array(I);for(a=0;a<I;a++)b=x.b[a],_=x.c[a],D(m=x.a[a])&&D(b)&&D(_)?(1!=(w=h/((m=+m)+(b=+b)+(_=+_)))&&(m*=w,b*=w,_*=w),k[a]={x:_-b,y:m,a:m,b,c:_}):k[a]={x:!1,y:!1};return M(s,I),E(i,s),d(k,s),S(k,s),k}},46008:function(ae,B,r){"use strict";var D=r(71828),E=r(47581),d=r(34098),S=r(49508),M=r(11058),v=r(94039),u=r(82410),i=r(28908),s=r(50413);ae.exports=function(a,o,l,c){function f(b,_){return D.coerce(a,o,s,b,_)}var g,h=f("a"),T=f("b"),x=f("c");if(h?(g=h.length,T?(g=Math.min(g,T.length),x&&(g=Math.min(g,x.length))):g=x?Math.min(g,x.length):0):T&&x&&(g=Math.min(T.length,x.length)),g){o._length=g,f("sum"),f("text"),f("hovertext"),"fills"!==o.hoveron&&f("hovertemplate"),f("mode",g<E.PTS_LINESONLY?"lines+markers":"lines"),d.hasLines(o)&&(M(a,o,l,c,f,{backoff:!0}),v(a,o,f),f("connectgaps")),d.hasMarkers(o)&&S(a,o,l,c,f,{gradient:!0}),d.hasText(o)&&(f("texttemplate"),u(a,o,c,f));var m=[];(d.hasMarkers(o)||d.hasText(o))&&(f("cliponaxis"),f("marker.maxdisplayed"),m.push("points")),f("fill"),"none"!==o.fill&&(i(a,o,l,f),d.hasLines(o)||v(a,o,f)),"tonext"!==o.fill&&"toself"!==o.fill||m.push("fills"),f("hoveron",m.join("+")||"points"),D.coerceSelectionMarkerOpacity(o,f)}else o.visible=!1}},4524:function(ae){"use strict";ae.exports=function(B,r,D,E,d){if(r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),E[d]){var S=E[d];B.a=S.a,B.b=S.b,B.c=S.c}else B.a=r.a,B.b=r.b,B.c=r.c;return B}},93645:function(ae,B,r){"use strict";var D=r(89298);ae.exports=function(E,d,S){var M={},v=S[d.subplot]._subplot;return M.aLabel=D.tickText(v.aaxis,E.a,!0).text,M.bLabel=D.tickText(v.baxis,E.b,!0).text,M.cLabel=D.tickText(v.caxis,E.c,!0).text,M}},47250:function(ae,B,r){"use strict";var D=r(33720);ae.exports=function(E,d,S,M){var v=D(E,d,S,M);if(v&&!1!==v[0].index){var u=v[0];if(void 0===u.index){var s=E.xa._length,a=s*(1-u.y0/E.ya._length)/2,o=s-a;return u.x0=Math.max(Math.min(u.x0,o),a),u.x1=Math.max(Math.min(u.x1,o),a),v}var l=u.cd[u.index],c=u.trace,f=u.subplot;u.a=l.a,u.b=l.b,u.c=l.c,u.xLabelVal=void 0,u.yLabelVal=void 0;var g={};g[c.subplot]={_subplot:f};var h=c._module.formatLabels(l,c,g);u.aLabel=h.aLabel,u.bLabel=h.bLabel,u.cLabel=h.cLabel;var x=[];if(!c.hovertemplate){var m=(l.hi||c.hoverinfo).split("+");-1!==m.indexOf("all")&&(m=["a","b","c"]),-1!==m.indexOf("a")&&b(f.aaxis,u.aLabel),-1!==m.indexOf("b")&&b(f.baxis,u.bLabel),-1!==m.indexOf("c")&&b(f.caxis,u.cLabel)}return u.extraText=x.join("<br>"),u.hovertemplate=c.hovertemplate,v}function b(_,w){x.push(_._hovertitle+": "+w)}}},52979:function(ae,B,r){"use strict";ae.exports={attributes:r(50413),supplyDefaults:r(46008),colorbar:r(4898),formatLabels:r(93645),calc:r(54337),plot:r(7507),style:r(16296).style,styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(47250),selectPoints:r(98002),eventData:r(4524),moduleType:"trace",name:"scatterternary",basePlotModule:r(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(ae,B,r){"use strict";var D=r(32663);ae.exports=function(E,d,S){var M=d.plotContainer;M.select(".scatterlayer").selectAll("*").remove();for(var v=d.xaxis,u=d.yaxis,i={xaxis:v,yaxis:u,plot:M,layerClipId:d._hasClipOnAxisFalse?d.clipIdRelative:null},s=d.layers.frontplot.select("g.scatterlayer"),a=0;a<S.length;a++){var o=S[a];o.length&&(o[0].trace._xA=v,o[0].trace._yA=u)}D(E,i,S,s)}},46880:function(ae,B,r){"use strict";var D=r(82196),E=r(50693),d=r(12663).axisHoverFormat,S=r(5386).fF,M=r(42341),v=r(85555).idRegex,u=r(44467).templatedArray,i=r(1426).extendFlat,s=D.marker,a=s.line,o=i(E("marker.line",{editTypeOverride:"calc"}),{width:i({},a.width,{editType:"calc"}),editType:"calc"}),l=i(E("marker"),{symbol:s.symbol,angle:s.angle,size:i({},s.size,{editType:"markerSize"}),sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:o,editType:"calc"});function c(f){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[f],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",ae.exports={dimensions:u("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:i({},M.text,{}),hovertext:i({},M.hovertext,{}),hovertemplate:S(),xhoverformat:d("x"),yhoverformat:d("y"),marker:l,xaxes:c("x"),yaxes:c("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:M.selected.marker,editType:"calc"},unselected:{marker:M.unselected.marker,editType:"calc"},opacity:M.opacity}},65017:function(ae,B,r){"use strict";var D=r(73972),E=r(83312);ae.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:r(46880),supplyDefaults:r(25784),colorbar:r(4898),calc:r(87625),plot:r(79410),hoverPoints:r(8567).hoverPoints,selectPoints:r(8689),editStyle:r(28801),meta:{}},D.register(E)},16947:function(ae,B,r){"use strict";var D=r(46075),E=r(73972),d=r(79749),S=r(27659).a0,M=r(93612),v=r(41675).getFromId,u=r(89298).shouldShowZeroLine,i="splom",s={};function a(l,c,f){for(var h=c._visibleDims,T=f.viewOpts.ranges=new Array(f.matrixOptions.data.length),x=0;x<h.length;x++){var m=h[x],b=T[x]=new Array(4),_=v(l,c._diag[m][0]);_&&(b[0]=_.r2l(_.range[0]),b[2]=_.r2l(_.range[1]));var w=v(l,c._diag[m][1]);w&&(b[1]=w.r2l(w.range[0]),b[3]=w.r2l(w.range[1]))}f.selectBatch.length||f.unselectBatch.length?f.matrix.update({ranges:T},{ranges:T}):f.matrix.update({ranges:T})}function o(l){var c=l._fullLayout,f=c._glcanvas.data()[0].regl,g=c._splomGrid;g||(g=c._splomGrid=D(f)),g.update(function(h){var T,x=h._context.plotGlPixelRatio,m=h._fullLayout,b=m._size,_=[0,0,m.width*x,m.height*x],w={};function A($,se,ne,re,Q,ee){ne*=x,re*=x,Q*=x,ee*=x;var oe=se[$+"color"],ce=se[$+"width"],ue=String(oe+ce);ue in w?w[ue].data.push(NaN,NaN,ne,re,Q,ee):w[ue]={data:[ne,re,Q,ee],join:"rect",thickness:ce*x,color:oe,viewport:_,range:_,overlay:!1}}for(T in m._splomSubplots){var p,I,k=m._plots[T],L=k.xaxis,O=k.yaxis,P=L._gridVals,F=O._gridVals,j=L._offset,X=L._length,N=O._length,q=b.b+O.domain[0]*b.h,G=-O._m,H=-G*O.r2l(O.range[0],O.calendar);if(L.showgrid)for(T=0;T<P.length;T++)p=j+L.l2p(P[T].x),A("grid",L,p,q,p,q+N);if(O.showgrid)for(T=0;T<F.length;T++)A("grid",O,j,I=q+H+G*F[T].x,j+X,I);u(h,L,O)&&(p=j+L.l2p(0),A("zeroline",L,p,q,p,q+N)),u(h,O,L)&&A("zeroline",O,j,I=q+H+0,j+X,I)}var Z=[];for(T in w)Z.push(w[T]);return Z}(l))}ae.exports={name:i,attr:M.attr,attrRegex:M.attrRegex,layoutAttributes:M.layoutAttributes,supplyLayoutDefaults:M.supplyLayoutDefaults,drawFramework:M.drawFramework,plot:function(l){var c=l._fullLayout,f=E.getModule(i),g=S(l.calcdata,f)[0];d(l,["ANGLE_instanced_arrays","OES_element_index_uint"],s)&&(c._hasOnlyLargeSploms&&o(l),f.plot(l,{},g))},drag:function(l){var c=l.calcdata,f=l._fullLayout;f._hasOnlyLargeSploms&&o(l);for(var g=0;g<c.length;g++){var h=c[g][0].trace,T=f._splomScenes[h.uid];"splom"===h.type&&T&&T.matrix&&a(l,h,T)}},updateGrid:o,clean:function(l,c,f,g){var h,T={};if(g._splomScenes){for(h=0;h<l.length;h++){var x=l[h];"splom"===x.type&&(T[x.uid]=1)}for(h=0;h<f.length;h++){var m=f[h];if(!T[m.uid]){var b=g._splomScenes[m.uid];b&&b.destroy&&b.destroy(),g._splomScenes[m.uid]=null,delete g._splomScenes[m.uid]}}}0===Object.keys(g._splomScenes||{}).length&&delete g._splomScenes,g._splomGrid&&!c._hasOnlyLargeSploms&&g._hasOnlyLargeSploms&&(g._splomGrid.destroy(),g._splomGrid=null,delete g._splomGrid),M.clean(l,c,f,g)},updateFx:M.updateFx,toSVG:M.toSVG,reglPrecompiled:s}},87625:function(ae,B,r){"use strict";var D=r(71828),E=r(41675),d=r(47761).calcMarkerSize,S=r(47761).calcAxisExpansion,M=r(36922),v=r(19635).markerSelection,u=r(19635).markerStyle,i=r(10164),s=r(50606).BADNUM,a=r(78232).TOO_MANY_POINTS;ae.exports=function(o,l){var c,f,g,h,T,x,m=l.dimensions,b=l._length,_={},w=_.cdata=[],A=_.data=[],p=l._visibleDims=[];function I(L,O){for(var P=L.makeCalcdata({v:O.values,vcalendar:l.calendar},"v"),F=0;F<P.length;F++)P[F]=P[F]===s?NaN:P[F];w.push(P),A.push("log"===L.type?D.simpleMap(P,L.c2l):P)}for(c=0;c<m.length;c++)if((g=m[c]).visible){if(h=E.getFromId(o,l._diag[c][0]),T=E.getFromId(o,l._diag[c][1]),h&&T&&h.type!==T.type){D.log("Skipping splom dimension "+c+" with conflicting axis types");continue}h?(I(h,g),T&&"category"===T.type&&(T._categories=h._categories.slice())):I(T,g),p.push(c)}for(M(o,l),D.extendFlat(_,u(o,l)),x=w.length*b>a?_.sizeAvg||Math.max(_.size,3):d(l,b),f=0;f<p.length;f++)g=m[c=p[f]],h=E.getFromId(o,l._diag[c][0])||{},T=E.getFromId(o,l._diag[c][1])||{},S(o,l,h,T,w[f],w[f],x);var k=i(o,l);return k.matrix||(k.matrix=!0),k.matrixOptions=_,k.selectedOptions=v(o,l,l.selected),k.unselectedOptions=v(o,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},25784:function(ae,B,r){"use strict";var D=r(71828),E=r(85501),d=r(46880),S=r(34098),M=r(49508),v=r(94397),u=r(68645).isOpenSymbol;function i(s,a){function o(c,f){return D.coerce(s,a,d.dimensions,c,f)}o("label");var l=o("values");l&&l.length?o("visible"):a.visible=!1,o("axis.type"),o("axis.matches")}ae.exports=function(s,a,o,l){function c(b,_){return D.coerce(s,a,d,b,_)}var f=E(s,a,{name:"dimensions",handleItemDefaults:i}),g=c("diagonal.visible"),h=c("showupperhalf"),T=c("showlowerhalf");if(v(a,f,"values")&&(g||h||T)){c("text"),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat"),M(s,a,o,l,c,{noAngleRef:!0,noStandOff:!0});var x=u(a.marker.symbol),m=S.isBubble(a);c("marker.line.width",x||m?1:0),function(b,_,w,A){var p,I,k=_.dimensions,L=k.length,O=_.showupperhalf,P=_.showlowerhalf,F=_.diagonal.visible,j=new Array(L),X=new Array(L);for(p=0;p<L;p++){var N=p?p+1:"";j[p]="x"+N,X[p]="y"+N}var q=A("xaxes",j),G=A("yaxes",X),H=_._diag=new Array(L);_._xaxes={},_._yaxes={};var Z=[],$=[];function se(ve,ke,Ie,Me){if(ve){var _e=ve.charAt(0),we=w._splomAxes[_e];if(_["_"+_e+"axes"][ve]=1,Me.push(ve),!(ve in we)){var ze=we[ve]={};Ie&&(ze.label=Ie.label||"",Ie.visible&&Ie.axis&&(Ie.axis.type&&(ze.type=Ie.axis.type),Ie.axis.matches&&(ze.matches=ke)))}}}var ne=!F&&!P,re=!F&&!O;for(_._axesDim={},p=0;p<L;p++){var Q=k[p],ee=0===p,oe=p===L-1,ce=ee&&ne||oe&&re?void 0:q[p],ue=ee&&re||oe&&ne?void 0:G[p];se(ce,ue,Q,Z),se(ue,ce,Q,$),H[p]=[ce,ue],_._axesDim[ce]=p,_._axesDim[ue]=p}for(p=0;p<Z.length;p++)for(I=0;I<$.length;I++){var he=Z[p]+$[I];p>I&&O||p<I&&P?w._splomSubplots[he]=1:p!==I||!F&&P&&O||(w._splomSubplots[he]=1)}(!P||!F&&O&&P)&&(w._splomGridDflt.xside="bottom",w._splomGridDflt.yside="left")}(0,a,l,c),D.coerceSelectionMarkerOpacity(a,c)}else a.visible=!1}},28801:function(ae,B,r){"use strict";var D=r(71828),E=r(36922),d=r(19635).markerStyle;ae.exports=function(S,M){var v=M.trace,u=S._fullLayout._splomScenes[v.uid];if(u){E(S,v),D.extendFlat(u.matrixOptions,d(S,v));var i=D.extendFlat({},u.matrixOptions,u.viewOpts);u.matrix.update(i,null)}}},35948:function(ae,B){"use strict";B.getDimIndex=function(r,D){for(var E=D._id,d={x:0,y:1}[E.charAt(0)],S=r._visibleDims,M=0;M<S.length;M++)if(r._diag[S[M]][d]===E)return M;return!1}},8567:function(ae,B,r){"use strict";var D=r(35948),E=r(20794).calcHover;ae.exports={hoverPoints:function(d,S,M){var v=d.cd[0].trace,u=d.scene.matrixOptions.cdata,i=d.xa,s=d.ya,a=i.c2p(S),o=s.c2p(M),l=d.distance,c=D.getDimIndex(v,i),f=D.getDimIndex(v,s);if(!1===c||!1===f)return[d];for(var g,h,T=u[c],x=u[f],m=l,b=0;b<T.length;b++){var w=x[b],A=i.c2p(T[b])-a,p=s.c2p(w)-o,I=Math.sqrt(A*A+p*p);I<m&&(m=h=I,g=b)}return d.index=g,d.distance=m,d.dxy=h,void 0===g?[d]:[E(d,T,x,v)]}}},6419:function(ae,B,r){"use strict";var D=r(65017);D.basePlotModule=r(16947),ae.exports=D},79410:function(ae,B,r){"use strict";var D=r(60487),E=r(71828),d=r(41675),S=r(64505).selectMode;function M(v,u){var i,s,a,o,l,c=v._fullLayout,f=c._size,g=u.trace,h=u.t,T=c._splomScenes[g.uid],x=T.matrixOptions,m=x.cdata,b=c._glcanvas.data()[0].regl,_=c.dragmode;if(0!==m.length){x.lower=g.showupperhalf,x.upper=g.showlowerhalf,x.diagonal=g.diagonal.visible;var w=g._visibleDims,A=m.length,p=T.viewOpts={};for(p.ranges=new Array(A),p.domains=new Array(A),l=0;l<w.length;l++){a=w[l];var I=p.ranges[l]=new Array(4),k=p.domains[l]=new Array(4);(i=d.getFromId(v,g._diag[a][0]))&&(I[0]=i._rl[0],I[2]=i._rl[1],k[0]=i.domain[0],k[2]=i.domain[1]),(s=d.getFromId(v,g._diag[a][1]))&&(I[1]=s._rl[0],I[3]=s._rl[1],k[1]=s.domain[0],k[3]=s.domain[1])}var L=v._context.plotGlPixelRatio,O=f.l*L,P=f.b*L;p.viewport=[O,P,f.w*L+O,f.h*L+P],!0===T.matrix&&(T.matrix=D(b));var X=c.clickmode.indexOf("select")>-1,N=!0;if(S(_)||g.selectedpoints||X){var q=g._length;if(g.selectedpoints){T.selectBatch=g.selectedpoints;var G=g.selectedpoints,H={};for(a=0;a<G.length;a++)H[G[a]]=!0;var Z=[];for(a=0;a<q;a++)H[a]||Z.push(a);T.unselectBatch=Z}var $=h.xpx=new Array(A),se=h.ypx=new Array(A);for(l=0;l<w.length;l++){if(i=d.getFromId(v,g._diag[a=w[l]][0]))for($[l]=new Array(q),o=0;o<q;o++)$[l][o]=i.c2p(m[l][o]);if(s=d.getFromId(v,g._diag[a][1]))for(se[l]=new Array(q),o=0;o<q;o++)se[l][o]=s.c2p(m[l][o])}if(T.selectBatch.length||T.unselectBatch.length){var ne=E.extendFlat({},x,T.unselectedOptions,p),re=E.extendFlat({},x,T.selectedOptions,p);T.matrix.update(ne,re),N=!1}}else h.xpx=h.ypx=null;if(N){var Q=E.extendFlat({},x,p);T.matrix.update(Q,null)}}}ae.exports=function(v,u,i){if(i.length)for(var s=0;s<i.length;s++)M(v,i[s][0])}},10164:function(ae,B,r){"use strict";var D=r(71828);ae.exports=function(E,d){var S=E._fullLayout,M=d.uid,v=S._splomScenes;v||(v=S._splomScenes={});var u={dirty:!0,selectBatch:[],unselectBatch:[]},i=v[d.uid];return i||((i=v[M]=D.extendFlat({},u,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||D.extendFlat(i,u),i}},8689:function(ae,B,r){"use strict";var D=r(71828),E=D.pushUnique,d=r(34098),S=r(35948);ae.exports=function(M,v){var u=M.cd,i=u[0].trace,s=u[0].t,a=M.scene,o=a.matrixOptions.cdata,l=M.xaxis,c=M.yaxis,f=[];if(!a)return f;var g=!d.hasMarkers(i)&&!d.hasText(i);if(!0!==i.visible||g)return f;var h=S.getDimIndex(i,l),T=S.getDimIndex(i,c);if(!1===h||!1===T)return f;var x=s.xpx[h],m=s.ypx[T],b=o[h],_=o[T],w=(M.scene.selectBatch||[]).slice(),A=[];if(!1!==v&&!v.degenerate)for(var p=0;p<b.length;p++)v.contains([x[p],m[p]],null,p,M)?(f.push({pointNumber:p,x:b[p],y:_[p]}),E(w,p)):-1!==w.indexOf(p)?E(w,p):A.push(p);var I=a.matrixOptions;return w.length||A.length?a.selectBatch.length||a.unselectBatch.length||a.matrix.update(a.unselectedOptions,D.extendFlat({},I,a.selectedOptions,a.viewOpts)):a.matrix.update(I,null),a.selectBatch=w,a.unselectBatch=A,f}},21850:function(ae,B,r){"use strict";var D=r(50693),E=r(12663).axisHoverFormat,d=r(5386).fF,S=r(2418),M=r(9012),v=r(1426).extendFlat,u={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:d({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:E("u",1),vhoverformat:E("v",1),whoverformat:E("w",1),xhoverformat:E("x"),yhoverformat:E("y"),zhoverformat:E("z"),showlegend:v({},M.showlegend,{dflt:!1})};v(u,D("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(i){u[i]=S[i]}),u.hoverinfo=v({},M.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),u.transforms=void 0,ae.exports=u},88489:function(ae,B,r){"use strict";var D=r(71828),E=r(78803);function d(v){var u,i,s,a,o,l,c,f,g,h,T,x,m=v._x,b=v._y,_=v._z,w=v._len,A=-1/0,p=1/0,I=-1/0,k=1/0,L=-1/0,O=1/0,P="";for(w&&(c=m[0],g=b[0],T=_[0]),w>1&&(f=m[w-1],h=b[w-1],x=_[w-1]),u=0;u<w;u++)A=Math.max(A,m[u]),p=Math.min(p,m[u]),I=Math.max(I,b[u]),k=Math.min(k,b[u]),L=Math.max(L,_[u]),O=Math.min(O,_[u]),a||m[u]===c||(a=!0,P+="x"),o||b[u]===g||(o=!0,P+="y"),l||_[u]===T||(l=!0,P+="z");a||(P+="x"),o||(P+="y"),l||(P+="z");var F=S(v._x),j=S(v._y),X=S(v._z);P=(P=(P=P.replace("x",(c>f?"-":"+")+"x")).replace("y",(g>h?"-":"+")+"y")).replace("z",(T>x?"-":"+")+"z");var N=function(){w=0,F=[],j=[],X=[]};(!w||w<F.length*j.length*X.length)&&N();var q=function(_e){return"x"===_e?m:"y"===_e?b:_},G=function(_e){return"x"===_e?F:"y"===_e?j:X},H=function(_e){return _e[w-1]<_e[0]?-1:1},Z=q(P[1]),$=q(P[3]),se=q(P[5]),ne=G(P[1]).length,re=G(P[3]).length,Q=G(P[5]).length,ee=!1,oe=function(_e,we,ze){return ne*(re*_e+we)+ze},ce=H(q(P[1])),ue=H(q(P[3])),he=H(q(P[5]));for(u=0;u<Q-1;u++){for(i=0;i<re-1;i++){for(s=0;s<ne-1;s++){var ve=oe(u,i,s),ke=oe(u,i,s+1),Ie=oe(u,i+1,s),Me=oe(u+1,i,s);if(Z[ve]*ce<Z[ke]*ce&&$[ve]*ue<$[Ie]*ue&&se[ve]*he<se[Me]*he||(ee=!0),ee)break}if(ee)break}if(ee)break}return ee&&(D.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:p,yMin:k,zMin:O,xMax:A,yMax:I,zMax:L,Xs:F,Ys:j,Zs:X,len:w,fill:P}}function S(v){return D.distinctVals(v).vals}function M(v,u){if(void 0===u&&(u=v.length),D.isTypedArray(v))return v.subarray(0,u);for(var i=[],s=0;s<u;s++)i[s]=+v[s];return i}ae.exports={calc:function(v,u){u._len=Math.min(u.u.length,u.v.length,u.w.length,u.x.length,u.y.length,u.z.length),u._u=M(u.u,u._len),u._v=M(u.v,u._len),u._w=M(u.w,u._len),u._x=M(u.x,u._len),u._y=M(u.y,u._len),u._z=M(u.z,u._len);var i=d(u);u._gridFill=i.fill,u._Xs=i.Xs,u._Ys=i.Ys,u._Zs=i.Zs,u._len=i.len;var s,a,o,l=0;u.starts&&(s=M(u.starts.x||[]),a=M(u.starts.y||[]),o=M(u.starts.z||[]),l=Math.min(s.length,a.length,o.length)),u._startsX=s||[],u._startsY=a||[],u._startsZ=o||[];var c,f=0,g=1/0;for(c=0;c<u._len;c++){var h=u._u[c],T=u._v[c],x=u._w[c],m=Math.sqrt(h*h+T*T+x*x);f=Math.max(f,m),g=Math.min(g,m)}for(E(v,u,{vals:[g,f],containerStr:"",cLetter:"c"}),c=0;c<l;c++){var b=s[c];i.xMax=Math.max(i.xMax,b),i.xMin=Math.min(i.xMin,b);var _=a[c];i.yMax=Math.max(i.yMax,_),i.yMin=Math.min(i.yMin,_);var w=o[c];i.zMax=Math.max(i.zMax,w),i.zMin=Math.min(i.zMin,w)}u._slen=l,u._normMax=f,u._xbnds=[i.xMin,i.xMax],u._ybnds=[i.yMin,i.yMax],u._zbnds=[i.zMin,i.zMax]},filter:M,processGrid:d}},90154:function(ae,B,r){"use strict";var D=r(9330).gl_streamtube3d,E=D.createTubeMesh,d=r(71828),S=r(81697).parseColorScale,M=r(21081).extractOpts,v=r(90060),u={xaxis:0,yaxis:1,zaxis:2};function i(c,f){this.scene=c,this.uid=f,this.mesh=null,this.data=null}var s=i.prototype;function a(c){var f=c.length;return f>2?c.slice(1,f-1):2===f?[(c[0]+c[1])/2]:c}function o(c){var f=c.length;return 1===f?[.5,.5]:[c[1]-c[0],c[f-1]-c[f-2]]}function l(c,f){var g=c.fullSceneLayout,h=c.dataScale,T=f._len,x={};function m(ne,re){var Q=g[re],ee=h[u[re]];return d.simpleMap(ne,function(oe){return Q.d2l(oe)*ee})}if(x.vectors=v(m(f._u,"xaxis"),m(f._v,"yaxis"),m(f._w,"zaxis"),T),!T)return{positions:[],cells:[]};var b=m(f._Xs,"xaxis"),_=m(f._Ys,"yaxis"),w=m(f._Zs,"zaxis");if(x.meshgrid=[b,_,w],x.gridFill=f._gridFill,f._slen)x.startingPositions=v(m(f._startsX,"xaxis"),m(f._startsY,"yaxis"),m(f._startsZ,"zaxis"));else{for(var A=_[0],p=a(b),I=a(w),k=new Array(p.length*I.length),L=0,O=0;O<p.length;O++)for(var P=0;P<I.length;P++)k[L++]=[p[O],A,I[P]];x.startingPositions=k}x.colormap=S(f),x.tubeSize=f.sizeref,x.maxLength=f.maxdisplayed;var F=m(f._xbnds,"xaxis"),j=m(f._ybnds,"yaxis"),X=m(f._zbnds,"zaxis"),N=o(b),q=o(_),G=o(w),Z=D(x,[[F[0]-N[0],j[0]-q[0],X[0]-G[0]],[F[1]+N[1],j[1]+q[1],X[1]+G[1]]]),$=M(f);Z.vertexIntensityBounds=[$.min/f._normMax,$.max/f._normMax];var se=f.lightposition;return Z.lightPosition=[se.x,se.y,se.z],Z.ambient=f.lighting.ambient,Z.diffuse=f.lighting.diffuse,Z.specular=f.lighting.specular,Z.roughness=f.lighting.roughness,Z.fresnel=f.lighting.fresnel,Z.opacity=f.opacity,f._pad=Z.tubeScale*f.sizeref*2,Z}s.handlePick=function(c){var f=this.scene.fullSceneLayout,g=this.scene.dataScale;function h(m,b){var w=g[u[b]];return f[b].l2c(m)/w}if(c.object===this.mesh){var T=c.data.position,x=c.data.velocity;return c.traceCoordinate=[h(T[0],"xaxis"),h(T[1],"yaxis"),h(T[2],"zaxis"),h(x[0],"xaxis"),h(x[1],"yaxis"),h(x[2],"zaxis"),c.data.intensity*this.data._normMax,c.data.divergence],c.textLabel=this.data.hovertext||this.data.text,!0}},s.update=function(c){this.data=c;var f=l(this.scene,c);this.mesh.update(f)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(c,f){var g=c.glplot.gl,h=l(c,f),T=E(g,h),x=new i(c,f.uid);return x.mesh=T,x.data=f,T._trace=x,c.glplot.add(T),x}},22459:function(ae,B,r){"use strict";var D=r(71828),E=r(1586),d=r(21850);ae.exports=function(S,M,v,u){function i(g,h){return D.coerce(S,M,d,g,h)}var s=i("u"),a=i("v"),o=i("w"),l=i("x"),c=i("y"),f=i("z");s&&s.length&&a&&a.length&&o&&o.length&&l&&l.length&&c&&c.length&&f&&f.length?(i("starts.x"),i("starts.y"),i("starts.z"),i("maxdisplayed"),i("sizeref"),i("lighting.ambient"),i("lighting.diffuse"),i("lighting.specular"),i("lighting.roughness"),i("lighting.fresnel"),i("lightposition.x"),i("lightposition.y"),i("lightposition.z"),E(S,M,u,i,{prefix:"",cLetter:"c"}),i("text"),i("hovertext"),i("hovertemplate"),i("uhoverformat"),i("vhoverformat"),i("whoverformat"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),M._length=null):M.visible=!1}},61510:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"streamtube",basePlotModule:r(58547),categories:["gl3d","showLegend"],attributes:r(21850),supplyDefaults:r(22459),colorbar:{min:"cmin",max:"cmax"},calc:r(88489).calc,plot:r(90154),eventData:function(D,E){return D.tubex=D.x,D.tubey=D.y,D.tubez=D.z,D.tubeu=E.traceCoordinate[3],D.tubev=E.traceCoordinate[4],D.tubew=E.traceCoordinate[5],D.norm=E.traceCoordinate[6],D.divergence=E.traceCoordinate[7],delete D.x,delete D.y,delete D.z,D},meta:{}}},57564:function(ae,B,r){"use strict";var D=r(9012),E=r(5386).fF,d=r(5386).si,S=r(50693),M=r(27670).Y,v=r(34e3),u=r(7055),i=r(1426).extendFlat,s=r(79952).u;ae.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:i({colors:{valType:"data_array",editType:"calc"},line:{color:i({},v.marker.line.color,{dflt:null}),width:i({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:s,editType:"calc"},S("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:d({editType:"plot"},{keys:u.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:i({},D.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:E({},{keys:u.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:i({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:M({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(ae,B,r){"use strict";var D=r(74875);B.name="sunburst",B.plot=function(E,d,S,M){D.plotBasePlot(B.name,E,d,S,M)},B.clean=function(E,d,S,M){D.cleanBasePlot(B.name,E,d,S,M)}},52147:function(ae,B,r){"use strict";var D=r(674),E=r(92770),d=r(71828),S=r(21081).makeColorScaleFuncFromTrace,M=r(32354).makePullColorFn,v=r(32354).generateExtendedColors,u=r(21081).calc,i=r(50606).ALMOST_EQUAL,s={},a={},o={};function l(c,f,g){var h=0,T=c.children;if(T){for(var x=T.length,m=0;m<x;m++)h+=l(T[m],f,g);g.branches&&h++}else g.leaves&&h++;return c.value=c.data.data.value=h,f._values||(f._values=[]),f._values[c.data.data.i]=h,h}B.calc=function(c,f){var g,h,T,x,m,b,_=c._fullLayout,w=f.ids,A=d.isArrayOrTypedArray(w),p=f.labels,I=f.parents,k=f.values,L=d.isArrayOrTypedArray(k),O=[],P={},F={},j=function(he){return he||"number"==typeof he},X=function(he){return!L||E(k[he])&&k[he]>=0};A?(g=Math.min(w.length,I.length),h=function(he){return j(w[he])&&X(he)},T=function(he){return String(w[he])}):(g=Math.min(p.length,I.length),h=function(he){return j(p[he])&&X(he)},T=function(he){return String(p[he])}),L&&(g=Math.min(g,k.length));for(var N=0;N<g;N++)if(h(N)){var q=T(N),G=j(I[N])?String(I[N]):"",H={i:N,id:q,pid:G,label:j(p[N])?String(p[N]):""};L&&(H.v=+k[N]),O.push(H),m=q,P[x=G]?P[x].push(m):P[x]=[m],F[m]=1}if(P[""]){if(P[""].length>1){for(var Z=d.randstr(),$=0;$<O.length;$++)""===O[$].pid&&(O[$].pid=Z);O.unshift({hasMultipleRoots:!0,id:Z,pid:"",label:""})}}else{var se,ne=[];for(se in P)F[se]||ne.push(se);if(1!==ne.length)return d.warn(["Multiple implied roots, cannot build",f.type,"hierarchy of",f.name+".","These roots include:",ne.join(", ")].join(" "));O.unshift({hasImpliedRoot:!0,id:se=ne[0],pid:"",label:se})}try{b=D.stratify().id(function(he){return he.id}).parentId(function(he){return he.pid})(O)}catch(he){return d.warn(["Failed to build",f.type,"hierarchy of",f.name+".","Error:",he.message].join(" "))}var re=D.hierarchy(b),Q=!1;if(L)switch(f.branchvalues){case"remainder":re.sum(function(he){return he.data.v});break;case"total":re.each(function(he){var ve=he.data.data,ke=ve.v;if(he.children){var Ie=he.children.reduce(function(Me,_e){return Me+_e.data.data.v},0);if((ve.hasImpliedRoot||ve.hasMultipleRoots)&&(ke=Ie),ke<Ie*i)return Q=!0,d.warn(["Total value for node",he.data.data.id,"of",f.name,"is smaller than the sum of its children.","\nparent value =",ke,"\nchildren sum =",Ie].join(" "))}he.value=ke})}else l(re,f,{branches:-1!==f.count.indexOf("branches"),leaves:-1!==f.count.indexOf("leaves")});if(!Q){var ee,oe;f.sort&&re.sort(function(he,ve){return ve.value-he.value});var ce=f.marker.colors||[];return f._hasColorscale?(!!ce.length||(ce=L?f.values:f._values),u(c,f,{vals:ce,containerStr:"marker",cLetter:"c"}),oe=S(f.marker)):ee=M(_["_"+f.type+"colormap"]),re.each(function(he){var ve=he.data.data;ve.color=f._hasColorscale?oe(ce[ve.i]):ee(ce[ve.i],ve.id)}),O[0].hierarchy=re,O}},B._runCrossTraceCalc=function(c,f){var g=f._fullLayout,h=f.calcdata,T=g[c+"colorway"],x=g["_"+c+"colormap"];g["extend"+c+"colors"]&&(T=v(T,"icicle"===c?o:"treemap"===c?a:s));var m,b=0;function _(p){var I=p.data.data,k=I.id;!1===I.color&&(x[k]?I.color=x[k]:p.parent?p.parent.parent?I.color=p.parent.data.data.color:(x[k]=I.color=T[b%T.length],b++):I.color=m)}for(var w=0;w<h.length;w++){var A=h[w][0];A.trace.type===c&&A.hierarchy&&(m=A.trace.root.color,A.hierarchy.each(_))}},B.crossTraceCalc=function(c){return B._runCrossTraceCalc("sunburst",c)}},7055:function(ae){"use strict";ae.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(ae,B,r){"use strict";var D=r(71828),E=r(57564),d=r(27670).c,S=r(90769).handleText,M=r(37434).handleMarkerDefaults,v=r(21081),u=v.hasColorscale,i=v.handleDefaults;ae.exports=function(s,a,o,l){function c(m,b){return D.coerce(s,a,E,m,b)}var f=c("labels"),g=c("parents");if(f&&f.length&&g&&g.length){var h=c("values");c(h&&h.length?"branchvalues":"count"),c("level"),c("maxdepth"),M(s,a,l,c);var T=a._hasColorscale=u(s,"marker","colors")||(s.marker||{}).coloraxis;T&&i(s,a,l,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",T?1:.7);var x=c("text");c("texttemplate"),a.texttemplate||c("textinfo",Array.isArray(x)?"text+label":"label"),c("hovertext"),c("hovertemplate"),S(s,a,l,c,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("insidetextorientation"),c("sort"),c("rotation"),c("root.color"),d(a,l,c),a._length=null}else a.visible=!1}},43467:function(ae,B,r){"use strict";var D=r(91424),E=r(7901);ae.exports=function(d,S,M,v,u){var i=S.data.data,a=u||i.color;if(i.i>=0){S.i=i.i;var o=M.marker;o.pattern&&o.colors&&o.pattern.shape||(o.color=a,S.color=a),D.pointStyle(d,M,v,S)}else E.fill(d,a)}},83523:function(ae,B,r){"use strict";var D=r(39898),E=r(73972),d=r(23469).appendArrayPointValue,S=r(30211),M=r(71828),v=r(11086),u=r(2791),i=r(53581).formatPieValue;function s(a,o,l){for(var c=a.data.data,f={curveNumber:o.index,pointNumber:c.i,data:o._input,fullData:o},g=0;g<l.length;g++){var h=l[g];h in a&&(f[h]=a[h])}return"parentString"in a&&!u.isHierarchyRoot(a)&&(f.parent=a.parentString),d(f,o,c.i),f}ae.exports=function(a,o,l,c,f){var g=c[0],h=g.trace,T=g.hierarchy,x="sunburst"===h.type,m="treemap"===h.type||"icicle"===h.type;"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1),a.on("mouseover",function(b){var _=l._fullLayout;if(!l._dragging&&!1!==_.hovermode){var w,A=l._fullData[h.index],p=b.data.data,I=p.i,k=u.isHierarchyRoot(b),L=u.getParent(T,b),O=u.getValue(b),P=function(ce){return M.castOption(A,I,ce)},F=P("hovertemplate"),j=S.castHoverinfo(A,_,I),X=_.separators;if(F||j&&"none"!==j&&"skip"!==j){var N,q;x&&(N=g.cx+b.pxmid[0]*(1-b.rInscribed),q=g.cy+b.pxmid[1]*(1-b.rInscribed)),m&&(N=b._hoverX,q=b._hoverY);var G,H={},Z=[],$=[],se=function(ce){return-1!==Z.indexOf(ce)};j&&(Z="all"===j?A._module.attributes.hoverinfo.flags:j.split("+")),H.label=p.label,se("label")&&H.label&&$.push(H.label),p.hasOwnProperty("v")&&(H.value=p.v,H.valueLabel=i(H.value,X),se("value")&&$.push(H.valueLabel)),H.currentPath=b.currentPath=u.getPath(b.data),se("current path")&&!k&&$.push(H.currentPath);var ne=[],re=function(){-1===ne.indexOf(G)&&($.push(G),ne.push(G))};H.percentParent=b.percentParent=O/u.getValue(L),H.parent=b.parentString=u.getPtLabel(L),se("percent parent")&&(G=u.formatPercent(H.percentParent,X)+" of "+H.parent,re()),H.percentEntry=b.percentEntry=O/u.getValue(o),H.entry=b.entry=u.getPtLabel(o),!se("percent entry")||k||b.onPathbar||(G=u.formatPercent(H.percentEntry,X)+" of "+H.entry,re()),H.percentRoot=b.percentRoot=O/u.getValue(T),H.root=b.root=u.getPtLabel(T),se("percent root")&&!k&&(G=u.formatPercent(H.percentRoot,X)+" of "+H.root,re()),H.text=P("hovertext")||P("text"),se("text")&&M.isValidTextValue(G=H.text)&&$.push(G),w=[s(b,A,f.eventDataKeys)];var Q={trace:A,y:q,_x0:b._x0,_x1:b._x1,_y0:b._y0,_y1:b._y1,text:$.join("<br>"),name:F||se("name")?A.name:void 0,color:P("hoverlabel.bgcolor")||p.color,borderColor:P("hoverlabel.bordercolor"),fontFamily:P("hoverlabel.font.family"),fontSize:P("hoverlabel.font.size"),fontColor:P("hoverlabel.font.color"),nameLength:P("hoverlabel.namelength"),textAlign:P("hoverlabel.align"),hovertemplate:F,hovertemplateLabels:H,eventData:w};x&&(Q.x0=N-b.rInscribed*b.rpx1,Q.x1=N+b.rInscribed*b.rpx1,Q.idealAlign=b.pxmid[0]<0?"left":"right"),m&&(Q.x=N,Q.idealAlign=N<0?"left":"right");var ee=[];S.loneHover(Q,{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:l,inOut_bbox:ee}),w[0].bbox=ee[0],h._hasHoverLabel=!0}if(m){var oe=a.select("path.surface");f.styleOne(oe,b,A,l,{hovered:!0})}h._hasHoverEvent=!0,l.emit("plotly_hover",{points:w||[s(b,A,f.eventDataKeys)],event:D.event})}}),a.on("mouseout",function(b){var _=l._fullLayout,w=l._fullData[h.index],A=D.select(this).datum();if(h._hasHoverEvent&&(b.originalEvent=D.event,l.emit("plotly_unhover",{points:[s(A,w,f.eventDataKeys)],event:D.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(S.loneUnhover(_._hoverlayer.node()),h._hasHoverLabel=!1),m){var p=a.select("path.surface");f.styleOne(p,A,w,l,{hovered:!1})}}),a.on("click",function(b){var _=l._fullLayout,w=l._fullData[h.index],A=x&&(u.isHierarchyRoot(b)||u.isLeaf(b)),p=u.getPtId(b),I=u.isEntry(b)?u.findEntryWithChild(T,p):u.findEntryWithLevel(T,p),k=u.getPtId(I),L={points:[s(b,w,f.eventDataKeys)],event:D.event};A||(L.nextLevel=k);var O=v.triggerHandler(l,"plotly_"+h.type+"click",L);if(!1!==O&&_.hovermode&&(l._hoverdata=[s(b,w,f.eventDataKeys)],S.click(l,D.event)),!A&&!1!==O&&!l._dragging&&!l._transitioning){E.call("_storeDirectGUIEdit",w,_._tracePreGUI[w.uid],{level:w.level});var P={data:[{level:k}],traces:[h.index]},F={frame:{redraw:!1,duration:f.transitionTime},transition:{duration:f.transitionTime,easing:f.transitionEasing},mode:"immediate",fromcurrent:!0};S.loneUnhover(_._hoverlayer.node()),E.call("animate",l,P,F)}})}},2791:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(6964),S=r(53581);function M(v){return v.data.data.pid}B.findEntryWithLevel=function(v,u){var i;return u&&v.eachAfter(function(s){if(B.getPtId(s)===u)return i=s.copy()}),i||v},B.findEntryWithChild=function(v,u){var i;return v.eachAfter(function(s){for(var a=s.children||[],o=0;o<a.length;o++)if(B.getPtId(a[o])===u)return i=s.copy()}),i||v},B.isEntry=function(v){return!v.parent},B.isLeaf=function(v){return!v.children},B.getPtId=function(v){return v.data.data.id},B.getPtLabel=function(v){return v.data.data.label},B.getValue=function(v){return v.value},B.isHierarchyRoot=function(v){return""===M(v)},B.setSliceCursor=function(v,u,i){var s=i.isTransitioning;if(!s){var a=v.datum();s=i.hideOnRoot&&B.isHierarchyRoot(a)||i.hideOnLeaves&&B.isLeaf(a)}d(v,s?null:"pointer")},B.getInsideTextFontKey=function(v,u,i,s,a){var l=i.data.data.i;return D.castOption(u,l,((a||{}).onPathbar?"pathbar.textfont":"insidetextfont")+"."+v)||D.castOption(u,l,"textfont."+v)||s.size},B.getOutsideTextFontKey=function(v,u,i,s){var a=i.data.data.i;return D.castOption(u,a,"outsidetextfont."+v)||D.castOption(u,a,"textfont."+v)||s.size},B.isOutsideText=function(v,u){return!v._hasColorscale&&B.isHierarchyRoot(u)},B.determineTextFont=function(v,u,i,s){return B.isOutsideText(v,u)?{color:B.getOutsideTextFontKey("color",a=v,o=u,l=i),family:B.getOutsideTextFontKey("family",a,o,l),size:B.getOutsideTextFontKey("size",a,o,l)}:function(a,o,l,c){var g=o.data.data,h=g.i,T=D.castOption(a,h,((c||{}).onPathbar?"pathbar.textfont":"insidetextfont")+".color");return!T&&a._input.textfont&&(T=D.castOption(a._input,h,"textfont.color")),{color:T||E.contrast(g.color),family:B.getInsideTextFontKey("family",a,o,l,c),size:B.getInsideTextFontKey("size",a,o,l,c)}}(v,u,i,s);var a,o,l},B.hasTransition=function(v){return!!(v&&v.duration>0)},B.getMaxDepth=function(v){return v.maxdepth>=0?v.maxdepth:1/0},B.isHeader=function(v,u){return!(B.isLeaf(v)||v.depth===u._maxDepth-1)},B.getParent=function(v,u){return B.findEntryWithLevel(v,M(u))},B.listPath=function(v,u){var i=v.parent;if(!i)return[];var s=u?[i.data[u]]:[i];return B.listPath(i,u).concat(s)},B.getPath=function(v){return B.listPath(v,"label").join("/")+"/"},B.formatValue=S.formatPieValue,B.formatPercent=function(v,u){var i=D.formatPercent(v,0);return"0%"===i&&(i=S.formatPiePercent(v,u)),i}},87619:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"sunburst",basePlotModule:r(66888),categories:[],animatable:!0,attributes:r(57564),layoutAttributes:r(2654),supplyDefaults:r(17094),supplyLayoutDefaults:r(57034),calc:r(52147).calc,crossTraceCalc:r(52147).crossTraceCalc,plot:r(24714).plot,style:r(29969).style,colorbar:r(4898),meta:{}}},2654:function(ae){"use strict";ae.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(ae,B,r){"use strict";var D=r(71828),E=r(2654);ae.exports=function(d,S){function M(v,u){return D.coerce(d,S,E,v,u)}M("sunburstcolorway",S.colorway),M("extendsunburstcolors")}},24714:function(ae,B,r){"use strict";var D=r(39898),E=r(674),d=r(81684).sX,S=r(91424),M=r(71828),v=r(63893),u=r(72597),i=u.recordMinTextSize,s=u.clearMinTextSize,a=r(14575),o=r(53581).getRotationAngle,l=a.computeTransform,c=a.transformInsideText,f=r(29969).styleOne,g=r(16688).resizeText,h=r(83523),T=r(7055),x=r(2791);function m(_,w,A,p){var I=_._context.staticPlot,k=_._fullLayout,L=!k.uniformtext.mode&&x.hasTransition(p),O=D.select(A).selectAll("g.slice"),P=w[0],F=P.trace,X=x.findEntryWithLevel(P.hierarchy,F.level),N=x.getMaxDepth(F),q=k._size,G=F.domain,Z=q.h*(G.y[1]-G.y[0]),$=.5*Math.min(q.w*(G.x[1]-G.x[0]),Z),se=P.cx=q.l+q.w*(G.x[1]+G.x[0])/2,ne=P.cy=q.t+q.h*(1-G.y[0])-Z/2;if(!X)return O.remove();var re=null,Q={};L&&O.each(function(fe){Q[x.getPtId(fe)]={rpx0:fe.rpx0,rpx1:fe.rpx1,x0:fe.x0,x1:fe.x1,transform:fe.transform},!re&&x.isEntry(fe)&&(re=fe)});var fe,ee=(fe=X,E.partition().size([2*Math.PI,fe.height+1])(fe)).descendants(),oe=X.height+1,ce=0,ue=N;P.hasMultipleRoots&&x.isHierarchyRoot(X)&&(ee=ee.slice(1),oe-=1,ce=1,ue+=1),ee=ee.filter(function(fe){return fe.y1<=ue});var he=o(F.rotation);he&&ee.forEach(function(fe){fe.x0+=he,fe.x1+=he});var ve=Math.min(oe,N),ke=function(fe){return(fe-ce)/ve*$},Ie=function(fe,le){return[fe*Math.cos(le),-fe*Math.sin(le)]},Me=function(fe){return M.pathAnnulus(fe.rpx0,fe.rpx1,fe.x0,fe.x1,se,ne)},_e=function(fe){return se+b(fe)[0]*(fe.transform.rCenter||0)+(fe.transform.x||0)},we=function(fe){return ne+b(fe)[1]*(fe.transform.rCenter||0)+(fe.transform.y||0)};(O=O.data(ee,x.getPtId)).enter().append("g").classed("slice",!0),L?O.exit().transition().each(function(){var fe=D.select(this);fe.select("path.surface").transition().attrTween("d",function(le){var Te=function(Re){var De,Ue=x.getPtId(Re),Ze=Q[Ue],xe=Q[x.getPtId(X)];if(xe){var Oe=(Re.x1>xe.x1?2*Math.PI:0)+he;De=Re.rpx1<xe.rpx1?{x0:Re.x0,x1:Re.x1,rpx0:0,rpx1:0}:{x0:Oe,x1:Oe,rpx0:Re.rpx0,rpx1:Re.rpx1}}else{var Ce,Be=x.getPtId(Re.parent);O.each(function(st){if(x.getPtId(st)===Be)return Ce=st});var qe,He=Ce.children;He.forEach(function(st,pt){if(x.getPtId(st)===Ue)return qe=pt});var Je=He.length,et=d(Ce.x0,Ce.x1);De={rpx0:$,rpx1:$,x0:et(qe/Je),x1:et((qe+1)/Je)}}return d(Ze,De)}(le);return function(Re){return Me(Te(Re))}}),fe.select("g.slicetext").attr("opacity",0)}).remove():O.exit().remove(),O.order();var ze=null;if(L&&re){var Ee=x.getPtId(re);O.each(function(fe){null===ze&&x.getPtId(fe)===Ee&&(ze=fe.x1)})}var Se=O;function me(fe){var le=fe.parent,Te=Q[x.getPtId(le)],Re={};if(Te){var De=le.children,Ue=De.indexOf(fe),Ze=De.length,xe=d(Te.x0,Te.x1);Re.x0=xe(Ue/Ze),Re.x1=xe(Ue/Ze)}else Re.x0=Re.x1=0;return Re}L&&(Se=Se.transition().each("end",function(){var fe=D.select(this);x.setSliceCursor(fe,_,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Se.each(function(fe){var Oe,le=D.select(this),Te=M.ensureSingle(le,"path","surface",function(Oe){Oe.style("pointer-events",I?"none":"all")});fe.rpx0=ke(fe.y0),fe.rpx1=ke(fe.y1),fe.xmid=(fe.x0+fe.x1)/2,fe.pxmid=Ie(fe.rpx1,fe.xmid),fe.midangle=-(fe.xmid-Math.PI/2),fe.startangle=-(fe.x0-Math.PI/2),fe.stopangle=-(fe.x1-Math.PI/2),fe.halfangle=.5*Math.min(M.angleDelta(fe.x0,fe.x1)||Math.PI,Math.PI),fe.ring=1-fe.rpx0/fe.rpx1,fe.rInscribed=0===(Oe=fe).rpx0&&M.isFullCircle([Oe.x0,Oe.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Oe.halfangle)),Oe.ring/2)),L?Te.transition().attrTween("d",function(Oe){var Ce=function(Be){var qe,He=Q[x.getPtId(Be)],Je={x0:Be.x0,x1:Be.x1,rpx0:Be.rpx0,rpx1:Be.rpx1};if(He)qe=He;else if(re)if(Be.parent)if(ze){var et=(Be.x1>ze?2*Math.PI:0)+he;qe={x0:et,x1:et}}else M.extendFlat(qe={rpx0:$,rpx1:$},me(Be));else qe={rpx0:0,rpx1:0};else qe={x0:he,x1:he};return d(qe,Je)}(Oe);return function(Be){return Me(Ce(Be))}}):Te.attr("d",Me),le.call(h,X,_,w,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(x.setSliceCursor,_,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:_._transitioning}),Te.call(f,fe,F,_);var Re=M.ensureSingle(le,"g","slicetext"),De=M.ensureSingle(Re,"text","",function(Oe){Oe.attr("data-notex",1)}),Ue=M.ensureUniformFontSize(_,x.determineTextFont(F,fe,k.font));De.text(B.formatSliceLabel(fe,X,F,w,k)).classed("slicetext",!0).attr("text-anchor","middle").call(S.font,Ue).call(v.convertToTspans,_);var Ze=S.bBox(De.node());fe.transform=c(Ze,fe,P),fe.transform.targetX=_e(fe),fe.transform.targetY=we(fe);var xe=function(Oe,Ce){var Be=Oe.transform;return l(Be,Ce),Be.fontSize=Ue.size,i(F.type,Be,k),M.getTextTransform(Be)};L?De.transition().attrTween("transform",function(Oe){var Ce=function(Be){var qe,He=Q[x.getPtId(Be)],Je=Be.transform;if(He)qe=He;else if(qe={rpx1:Be.rpx1,transform:{textPosAngle:Je.textPosAngle,scale:0,rotate:Je.rotate,rCenter:Je.rCenter,x:Je.x,y:Je.y}},re)if(Be.parent)if(ze){var et=Be.x1>ze?2*Math.PI:0;qe.x0=qe.x1=et}else M.extendFlat(qe,me(Be));else qe.x0=qe.x1=he;else qe.x0=qe.x1=he;var st=d(qe.transform.textPosAngle,Be.transform.textPosAngle),pt=d(qe.rpx1,Be.rpx1),ct=d(qe.x0,Be.x0),St=d(qe.x1,Be.x1),Dt=d(qe.transform.scale,Je.scale),vt=d(qe.transform.rotate,Je.rotate),gt=0===Je.rCenter?3:0===qe.transform.rCenter?1/3:1,Et=d(qe.transform.rCenter,Je.rCenter);return function(Pt){var Ot=pt(Pt),Ht=ct(Pt),zt=St(Pt),nt=Et(Math.pow(Pt,gt)),it={pxmid:Ie(Ot,(Ht+zt)/2),rpx1:Ot,transform:{textPosAngle:st(Pt),rCenter:nt,x:Je.x,y:Je.y}};return i(F.type,Je,k),{transform:{targetX:_e(it),targetY:we(it),scale:Dt(Pt),rotate:vt(Pt),rCenter:nt}}}}(Oe);return function(Be){return xe(Ce(Be),Ze)}}):De.attr("transform",xe(fe,Ze))})}function b(_){return A=_.transform.textPosAngle,[(w=_.rpx1)*Math.sin(A),-w*Math.cos(A)];var w,A}B.plot=function(_,w,A,p){var I,k,L=_._fullLayout,O=L._sunburstlayer,P=!A,F=!L.uniformtext.mode&&x.hasTransition(A);s("sunburst",L),(I=O.selectAll("g.trace.sunburst").data(w,function(j){return j[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),I.order(),F?(p&&(k=p()),D.transition().duration(A.duration).ease(A.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()}).each(function(){O.selectAll("g.trace").each(function(j){m(_,j,this,A)})})):(I.each(function(j){m(_,j,this,A)}),L.uniformtext.mode&&g(_,L._sunburstlayer.selectAll(".trace"),"sunburst")),P&&I.exit().remove()},B.formatSliceLabel=function(_,w,A,p,I){var k=A.texttemplate,L=A.textinfo;if(!(k||L&&"none"!==L))return"";var O=I.separators,F=_.data.data,j=p[0].hierarchy,X=x.isHierarchyRoot(_),N=x.getParent(j,_),q=x.getValue(_);if(!k){var G,H=L.split("+"),Z=function(ue){return-1!==H.indexOf(ue)},$=[];if(Z("label")&&F.label&&$.push(F.label),F.hasOwnProperty("v")&&Z("value")&&$.push(x.formatValue(F.v,O)),!X){Z("current path")&&$.push(x.getPath(_.data));var se=0;Z("percent parent")&&se++,Z("percent entry")&&se++,Z("percent root")&&se++;var ne=se>1;if(se){var re,Q=function(ue){G=x.formatPercent(re,O),ne&&(G+=" of "+ue),$.push(G)};Z("percent parent")&&!X&&(re=q/x.getValue(N),Q("parent")),Z("percent entry")&&(re=q/x.getValue(w),Q("entry")),Z("percent root")&&(re=q/x.getValue(j),Q("root"))}}return Z("text")&&(G=M.castOption(A,F.i,"text"),M.isValidTextValue(G)&&$.push(G)),$.join("<br>")}var ee=M.castOption(A,F.i,"texttemplate");if(!ee)return"";var oe={};F.label&&(oe.label=F.label),F.hasOwnProperty("v")&&(oe.value=F.v,oe.valueLabel=x.formatValue(F.v,O)),oe.currentPath=x.getPath(_.data),X||(oe.percentParent=q/x.getValue(N),oe.percentParentLabel=x.formatPercent(oe.percentParent,O),oe.parent=x.getPtLabel(N)),oe.percentEntry=q/x.getValue(w),oe.percentEntryLabel=x.formatPercent(oe.percentEntry,O),oe.entry=x.getPtLabel(w),oe.percentRoot=q/x.getValue(j),oe.percentRootLabel=x.formatPercent(oe.percentRoot,O),oe.root=x.getPtLabel(j),F.hasOwnProperty("color")&&(oe.color=F.color);var ce=M.castOption(A,F.i,"text");return(M.isValidTextValue(ce)||""===ce)&&(oe.text=ce),oe.customdata=M.castOption(A,F.i,"customdata"),M.texttemplateString(ee,oe,I._d3locale,oe,A._meta||{})}},29969:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),d=r(71828),S=r(72597).resizeText,M=r(43467);function v(u,i,s,a){var l=!i.children,c=i.data.data.i,f=d.castOption(s,c,"marker.line.color")||E.defaultLine,g=d.castOption(s,c,"marker.line.width")||0;u.call(M,i,s,a).style("stroke-width",g).call(E.stroke,f).style("opacity",l?s.leaf.opacity:null)}ae.exports={style:function(u){var i=u._fullLayout._sunburstlayer.selectAll(".trace");S(u,i,"sunburst"),i.each(function(s){var a=D.select(this),o=s[0].trace;a.style("opacity",o.opacity),a.selectAll("path.surface").each(function(l){D.select(this).call(v,l,o,u)})})},styleOne:v}},54532:function(ae,B,r){"use strict";var D=r(7901),E=r(50693),d=r(12663).axisHoverFormat,S=r(5386).fF,M=r(9012),v=r(1426).extendFlat,u=r(30962).overrideAll;function i(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:D.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:D.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=ae.exports=u(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:S(),xhoverformat:d("x"),yhoverformat:d("y"),zhoverformat:d("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},E("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:i(),y:i(),z:i()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},E.zauto,{}),zmin:v({},E.zmin,{}),zmax:v({},E.zmax,{})},hoverinfo:v({},M.hoverinfo),showlegend:v({},M.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(ae,B,r){"use strict";var D=r(78803);ae.exports=function(E,d){D(E,d,d.surfacecolor?{vals:d.surfacecolor,containerStr:"",cLetter:"c"}:{vals:d.z,containerStr:"",cLetter:"c"})}},43768:function(ae,B,r){"use strict";var D=r(9330).gl_surface3d,E=r(9330).ndarray,d=r(9330).ndarray_linear_interpolate.d2,S=r(824),M=r(43907),v=r(71828).isArrayOrTypedArray,u=r(81697).parseColorScale,i=r(78614),s=r(21081).extractOpts;function a(A,p,I){this.scene=A,this.uid=I,this.surface=p,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var o=a.prototype;o.getXat=function(A,p,I,k){var L=v(this.data.x)?v(this.data.x[0])?this.data.x[p][A]:this.data.x[A]:A;return void 0===I?L:k.d2l(L,0,I)},o.getYat=function(A,p,I,k){var L=v(this.data.y)?v(this.data.y[0])?this.data.y[p][A]:this.data.y[p]:p;return void 0===I?L:k.d2l(L,0,I)},o.getZat=function(A,p,I,k){var L=this.data.z[p][A];return null===L&&this.data.connectgaps&&this.data._interpolatedZ&&(L=this.data._interpolatedZ[p][A]),void 0===I?L:k.d2l(L,0,I)},o.handlePick=function(A){if(A.object===this.surface){var I=(A.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round((A.data.index[0]-1)/this.dataScaleX-1),this.data.z[0].length-1),0),L=Math.max(Math.min(Math.round(I),this.data._ylength-1),0);A.index=[k,L],A.traceCoordinate=[this.getXat(k,L),this.getYat(k,L),this.getZat(k,L)],A.dataCoordinate=[this.getXat(k,L,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,L,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,L,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var O=0;O<3;O++)null!=A.dataCoordinate[O]&&(A.dataCoordinate[O]*=this.scene.dataScale[O]);var P=this.data.hovertext||this.data.text;return A.textLabel=Array.isArray(P)&&P[L]&&void 0!==P[L][k]?P[L][k]:P||"",A.data.dataCoordinate=A.dataCoordinate.slice(),this.surface.highlight(A.data),this.scene.glplot.spikes.position=A.dataCoordinate,!0}};var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function c(A,p){if(A<p)return 0;for(var I=0;0===Math.floor(A%p);)A/=p,I++;return I}function f(A){for(var p=[],I=0;I<l.length;I++)p.push(c(A,l[I]));return p}function g(A){for(var p=f(A),I=A,k=0;k<l.length;k++)if(p[k]>0){I=l[k];break}return I}function h(A,p){if(!(A<1||p<1)){for(var I=f(A),k=f(p),L=1,O=0;O<l.length;O++)L*=Math.pow(l[O],Math.max(I[O],k[O]));return L}}o.calcXnums=function(A){var p,I=[];for(p=1;p<A;p++){var k=this.getXat(p-1,0),L=this.getXat(p,0);I[p-1]=L!==k&&null!=k&&null!=L?Math.abs(L-k):0}var O=0;for(p=1;p<A;p++)O+=I[p-1];for(p=1;p<A;p++)I[p-1]=0===I[p-1]?1:Math.round(O/I[p-1]);return I},o.calcYnums=function(A){var p,I=[];for(p=1;p<A;p++){var k=this.getYat(0,p-1),L=this.getYat(0,p);I[p-1]=L!==k&&null!=k&&null!=L?Math.abs(L-k):0}var O=0;for(p=1;p<A;p++)O+=I[p-1];for(p=1;p<A;p++)I[p-1]=0===I[p-1]?1:Math.round(O/I[p-1]);return I};var T=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],x=T[9],m=T[13];function b(A,p,I){var k=I[8]+I[2]*p[0]+I[5]*p[1];return A[0]=(I[6]+I[0]*p[0]+I[3]*p[1])/k,A[1]=(I[7]+I[1]*p[0]+I[4]*p[1])/k,A}function _(A,p,I){return function(k,L,O,P){for(var F=[0,0],j=k.shape[0],X=k.shape[1],N=0;N<j;N++)for(var q=0;q<X;q++)O(F,[N,q],P),k.set(N,q,d(L,F[0],F[1]))}(A,p,b,I),A}function w(A,p){for(var I=!1,k=0;k<A.length;k++)if(p===A[k]){I=!0;break}!1===I&&A.push(p)}o.estimateScale=function(A,p){for(var I=1+function(L){if(0!==L.length){for(var O=1,P=0;P<L.length;P++)O=h(O,L[P]);return O}}(0===p?this.calcXnums(A):this.calcYnums(A));I<x;)I*=2;for(;I>m;)I--,I/=g(I),++I<x&&(I=m);var k=Math.round(I/A);return k>1?k:1},o.refineCoords=function(A){for(var p=this.dataScaleX,I=this.dataScaleY,k=A[0].shape[0],L=A[0].shape[1],O=0|Math.floor(A[0].shape[0]*p+1),P=0|Math.floor(A[0].shape[1]*I+1),F=1+k+1,j=1+L+1,X=E(new Float32Array(F*j),[F,j]),N=[1/p,0,0,0,1/I,0,0,0,1],q=0;q<A.length;++q){this.surface.padField(X,A[q]);var G=E(new Float32Array(O*P),[O,P]);_(G,X,N),A[q]=G}},o.setContourLevels=function(){var A,p,k=[[],[],[]],L=[!1,!1,!1],O=!1;for(A=0;A<3;++A)if(this.showContour[A]&&(O=!0,this.contourSize[A]>0&&null!==this.contourStart[A]&&null!==this.contourEnd[A]&&this.contourEnd[A]>this.contourStart[A]))for(L[A]=!0,p=this.contourStart[A];p<this.contourEnd[A];p+=this.contourSize[A])w(k[A],p*this.scene.dataScale[A]);if(O){var P=[[],[],[]];for(A=0;A<3;++A)this.showContour[A]&&(P[A]=L[A]?k[A]:this.scene.contourLevels[A]);this.surface.update({levels:P})}},o.update=function(A){var p,I,k,L,O=this.scene,P=O.fullSceneLayout,F=this.surface,j=u(A),X=O.dataScale,N=A.z[0].length,q=A._ylength,G=O.contourLevels;this.data=A;var H=[];for(p=0;p<3;p++)for(H[p]=[],I=0;I<N;I++)H[p][I]=[];for(I=0;I<N;I++)for(k=0;k<q;k++)H[0][I][k]=this.getXat(I,k,A.xcalendar,P.xaxis),H[1][I][k]=this.getYat(I,k,A.ycalendar,P.yaxis),H[2][I][k]=this.getZat(I,k,A.zcalendar,P.zaxis);if(A.connectgaps)for(A._emptypoints=M(H[2]),S(H[2],A._emptypoints),A._interpolatedZ=[],I=0;I<N;I++)for(A._interpolatedZ[I]=[],k=0;k<q;k++)A._interpolatedZ[I][k]=H[2][I][k];for(p=0;p<3;p++)for(I=0;I<N;I++)for(k=0;k<q;k++)null==(L=H[p][I][k])?H[p][I][k]=NaN:L=H[p][I][k]*=X[p];for(p=0;p<3;p++)for(I=0;I<N;I++)for(k=0;k<q;k++)null!=(L=H[p][I][k])&&(this.minValues[p]>L&&(this.minValues[p]=L),this.maxValues[p]<L&&(this.maxValues[p]=L));for(p=0;p<3;p++)this.objectOffset[p]=.5*(this.minValues[p]+this.maxValues[p]);for(p=0;p<3;p++)for(I=0;I<N;I++)for(k=0;k<q;k++)null!=(L=H[p][I][k])&&(H[p][I][k]-=this.objectOffset[p]);var Z=[E(new Float32Array(N*q),[N,q]),E(new Float32Array(N*q),[N,q]),E(new Float32Array(N*q),[N,q])];for(p=0;p<3;p++)for(I=0;I<N;I++)for(k=0;k<q;k++)Z[p].set(I,k,H[p][I][k]);H=[];var $={colormap:j,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!A.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:A.opacityscale,opacity:A.opacity},se=s(A);if($.intensityBounds=[se.min,se.max],A.surfacecolor){var ne=E(new Float32Array(N*q),[N,q]);for(I=0;I<N;I++)for(k=0;k<q;k++)ne.set(I,k,A.surfacecolor[k][I]);Z.push(ne)}else $.intensityBounds[0]*=X[2],$.intensityBounds[1]*=X[2];(m<Z[0].shape[0]||m<Z[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(Z[0].shape[0],0),this.dataScaleY=this.estimateScale(Z[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(Z)),A.surfacecolor&&($.intensity=Z.pop());var oe,ce,ue,re=[!0,!0,!0],Q=["x","y","z"];for(p=0;p<3;++p){var ee=A.contours[Q[p]];re[p]=ee.highlight,$.showContour[p]=ee.show||ee.highlight,$.showContour[p]&&($.contourProject[p]=[ee.project.x,ee.project.y,ee.project.z],ee.show?(this.showContour[p]=!0,$.levels[p]=G[p],F.highlightColor[p]=$.contourColor[p]=i(ee.color),F.highlightTint[p]=$.contourTint[p]=ee.usecolormap?0:1,$.contourWidth[p]=ee.width,this.contourStart[p]=ee.start,this.contourEnd[p]=ee.end,this.contourSize[p]=ee.size):(this.showContour[p]=!1,this.contourStart[p]=null,this.contourEnd[p]=null,this.contourSize[p]=0),ee.highlight&&($.dynamicColor[p]=i(ee.highlightcolor),$.dynamicWidth[p]=ee.highlightwidth))}(ce=(oe=j)[0].rgb)[0]===(ue=oe[oe.length-1].rgb)[0]&&ce[1]===ue[1]&&ce[2]===ue[2]&&ce[3]===ue[3]&&($.vertexColor=!0),$.objectOffset=this.objectOffset,$.coords=Z,F.update($),F.visible=A.visible,F.enableDynamic=re,F.enableHighlight=re,F.snapToData=!0,"lighting"in A&&(F.ambientLight=A.lighting.ambient,F.diffuseLight=A.lighting.diffuse,F.specularLight=A.lighting.specular,F.roughness=A.lighting.roughness,F.fresnel=A.lighting.fresnel),"lightposition"in A&&(F.lightPosition=[A.lightposition.x,A.lightposition.y,A.lightposition.z])},o.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},ae.exports=function(A,p){var k=D({gl:A.glplot.gl}),L=new a(A,k,p.uid);return k._trace=L,L.update(p),A.glplot.add(k),L}},91831:function(ae,B,r){"use strict";var D=r(73972),E=r(71828),d=r(1586),S=r(54532);function M(u,i,s,a){var o=a("opacityscale");"max"===o?i.opacityscale=[[0,.1],[1,1]]:"min"===o?i.opacityscale=[[0,1],[1,.1]]:"extremes"===o?i.opacityscale=function(l,c){for(var f=[],g=0;g<32;g++){var h=g/31,T=.1+.9*(1-Math.pow(Math.sin(1*h*Math.PI),2));f.push([h,Math.max(0,Math.min(1,T))])}return f}():function(l){var c=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||0!=+l[0][0]||1!=+l[l.length-1][0])return!1;for(var f=0;f<l.length;f++){var g=l[f];if(2!==g.length||+g[0]<c)return!1;c=+g[0]}return!0}(o)||(i.opacityscale=void 0)}function v(u,i,s){i in u&&!(s in u)&&(u[s]=u[i])}ae.exports={supplyDefaults:function(u,i,s,a){var o,l;function c(w,A){return E.coerce(u,i,S,w,A)}var f=c("x"),g=c("y"),h=c("z");if(!h||!h.length||f&&f.length<1||g&&g.length<1)i.visible=!1;else{i._xlength=Array.isArray(f)&&E.isArrayOrTypedArray(f[0])?h.length:h[0].length,i._ylength=h.length,D.getComponentMethod("calendars","handleTraceDefaults")(u,i,["x","y","z"],a),c("text"),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat"),c("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(w){c(w)});var T=c("surfacecolor"),x=["x","y","z"];for(o=0;o<3;++o){var m="contours."+x[o],b=c(m+".show"),_=c(m+".highlight");if(b||_)for(l=0;l<3;++l)c(m+".project."+x[l]);b&&(c(m+".color"),c(m+".width"),c(m+".usecolormap")),_&&(c(m+".highlightcolor"),c(m+".highlightwidth")),c(m+".start"),c(m+".end"),c(m+".size")}T||(v(u,"zmin","cmin"),v(u,"zmax","cmax"),v(u,"zauto","cauto")),d(u,i,a,c,{prefix:"",cLetter:"c"}),M(0,i,0,c),i._length=null}},opacityscaleDefaults:M}},93601:function(ae,B,r){"use strict";ae.exports={attributes:r(54532),supplyDefaults:r(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:r(18396),plot:r(43768),moduleType:"trace",name:"surface",basePlotModule:r(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(ae,B,r){"use strict";var D=r(50215),E=r(1426).extendFlat,d=r(30962).overrideAll,S=r(41940),M=r(27670).Y,v=r(12663).descriptionOnlyNumbers;(ae.exports=d({domain:M({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:E({},D.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},S({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:E({},D.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:E({},S({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(ae,B,r){"use strict";var D=r(27659).a0,E=r(36736),d="table";B.name=d,B.plot=function(S){var M=D(S.calcdata,d)[0];M.length&&E(S,M)},B.clean=function(S,M,v,u){var i=u._has&&u._has(d),s=M._has&&M._has(d);i&&!s&&u._paperdiv.selectAll(".table").remove()}},76333:function(ae,B,r){"use strict";var D=r(28984).wrap;ae.exports=function(){return D({})}},49850:function(ae){"use strict";ae.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(ae,B,r){"use strict";var D=r(49850),E=r(1426).extendFlat,d=r(92770);function S(o){if(Array.isArray(o)){for(var l=0,c=0;c<o.length;c++)l=Math.max(l,S(o[c]));return l}return o}function M(o,l){return o+l}function v(o){var l,c=o.slice(),f=1/0,g=0;for(l=0;l<c.length;l++)Array.isArray(c[l])||(c[l]=[c[l]]),f=Math.min(f,c[l].length),g=Math.max(g,c[l].length);if(f!==g)for(l=0;l<c.length;l++){var h=g-c[l].length;h&&(c[l]=c[l].concat(u(h)))}return c}function u(o){for(var l=new Array(o),c=0;c<o;c++)l[c]="";return l}function i(o){return o.calcdata.columns.reduce(function(l,c){return c.xIndex<o.xIndex?l+c.columnWidth:l},0)}function s(o,l){return Object.keys(o).map(function(c){return E({},o[c],{auxiliaryBlocks:l})})}function a(o,l){for(var c,f={},g=0,h=0,T={firstRowIndex:null,lastRowIndex:null,rows:[]},x=0,m=0,b=0;b<o.length;b++)T.rows.push({rowIndex:b,rowHeight:c=o[b]}),((h+=c)>=l||b===o.length-1)&&(f[g]=T,T.key=m++,T.firstRowIndex=x,T.lastRowIndex=b,T={firstRowIndex:null,lastRowIndex:null,rows:[]},g+=h,x=b+1,h=0);return f}ae.exports=function(o,l){var c=v(l.cells.values),f=function(X){return X.slice(l.header.values.length,X.length)},g=v(l.header.values);g.length&&!g[0].length&&(g[0]=[""],g=v(g));var h=g.concat(f(c).map(function(){return u((g[0]||[""]).length)})),T=l.domain,x=Math.floor(o._fullLayout._size.w*(T.x[1]-T.x[0])),m=Math.floor(o._fullLayout._size.h*(T.y[1]-T.y[0])),b=l.header.values.length?h[0].map(function(){return l.header.height}):[D.emptyHeaderHeight],_=c.length?c[0].map(function(){return l.cells.height}):[],w=b.reduce(M,0),A=a(_,m-w+D.uplift),p=s(a(b,w),[]),I=s(A,p),k={},L=l._fullInput.columnorder.concat(f(c.map(function(X,N){return N}))),O=h.map(function(X,N){var q=Array.isArray(l.columnwidth)?l.columnwidth[Math.min(N,l.columnwidth.length-1)]:l.columnwidth;return d(q)?Number(q):1}),P=O.reduce(M,0);O=O.map(function(X){return X/P*x});var F=Math.max(S(l.header.line.width),S(l.cells.line.width)),j={key:l.uid+o._context.staticPlot,translateX:T.x[0]*o._fullLayout._size.w,translateY:o._fullLayout._size.h*(1-T.y[1]),size:o._fullLayout._size,width:x,maxLineWidth:F,height:m,columnOrder:L,groupHeight:m,rowBlocks:I,headerRowBlocks:p,scrollY:0,cells:E({},l.cells,{values:c}),headerCells:E({},l.header,{values:h}),gdColumns:h.map(function(X){return X[0]}),gdColumnsOriginalOrder:h.map(function(X){return X[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:h.map(function(X,N){return k[X]=(k[X]||0)+1,{key:X+"__"+k[X],label:X,specIndex:N,xIndex:L[N],xScale:i,x:void 0,calcdata:void 0,columnWidth:O[N]}})};return j.columns.forEach(function(X){X.calcdata=j,X.x=i(X)}),j}},56269:function(ae,B,r){"use strict";var D=r(1426).extendFlat;B.splitToPanels=function(E){var d=[0,0],S=D({},E,{key:"header",type:"header",page:0,prevPages:d,currentRepaint:[null,null],dragHandle:!0,values:E.calcdata.headerCells.values[E.specIndex],rowBlocks:E.calcdata.headerRowBlocks,calcdata:D({},E.calcdata,{cells:E.calcdata.headerCells})});return[D({},E,{key:"cells1",type:"cells",page:0,prevPages:d,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),D({},E,{key:"cells2",type:"cells",page:1,prevPages:d,currentRepaint:[null,null],dragHandle:!1,values:E.calcdata.cells.values[E.specIndex],rowBlocks:E.calcdata.rowBlocks}),S]},B.splitToCells=function(E){var S,M,v,d=[v=(M=(S=E).rowBlocks[S.page])?M.rows[0].rowIndex:0,M?v+M.rows.length:0];return(E.values||[]).slice(d[0],d[1]).map(function(S,M){return{keyWithinBlock:M+("string"==typeof S&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:d[0]+M,column:E,calcdata:E.calcdata,page:E.page,rowBlocks:E.rowBlocks,value:S}})}},39754:function(ae,B,r){"use strict";var D=r(71828),E=r(44464),d=r(27670).c;ae.exports=function(S,M,v,u){function i(s,a){return D.coerce(S,M,E,s,a)}d(M,u,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),D.coerceFont(i,"header.font",D.extendFlat({},u.font)),function(s,a){for(var l=s.header.values.length,c=(s.columnorder||[]).slice(0,l),f=c.slice().sort(function(T,x){return T-x}),g=c.map(function(T){return f.indexOf(T)}),h=g.length;h<l;h++)g.push(h);a("columnorder",g)}(M,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),D.coerceFont(i,"cells.font",D.extendFlat({},u.font)),M._length=null}},96595:function(ae,B,r){"use strict";ae.exports={attributes:r(44464),supplyDefaults:r(39754),calc:r(76333),plot:r(36736),moduleType:"trace",name:"table",basePlotModule:r(99469),categories:["noOpacity"],meta:{}}},36736:function(ae,B,r){"use strict";var D=r(49850),E=r(39898),d=r(71828).numberFormat,S=r(28984),M=r(91424),v=r(63893),u=r(71828).raiseToTop,i=r(71828).strTranslate,s=r(71828).cancelTransition,a=r(51018),o=r(56269),l=r(7901);function c(Z){return Math.ceil(Z.calcdata.maxLineWidth/2)}function f(Z,$){return"clip"+Z._fullLayout._uid+"_scrollAreaBottomClip_"+$.key}function g(Z,$){return"clip"+Z._fullLayout._uid+"_columnBoundaryClippath_"+$.calcdata.key+"_"+$.specIndex}function h(Z){return[].concat.apply([],Z.map(function($){return $})).map(function($){return $.__data__})}function T(Z,$,se){var ne=Z.selectAll("."+D.cn.scrollbarKit).data(S.repeat,S.keyFun);ne.enter().append("g").classed(D.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),ne.each(function(ce){var ve,ue=ce.scrollbarState;ue.totalHeight=N(ve=ce.rowBlocks,ve.length-1)+(ve.length?q(ve[ve.length-1],1/0):1),ue.scrollableAreaHeight=ce.groupHeight-I(ce),ue.currentlyVisibleHeight=Math.min(ue.totalHeight,ue.scrollableAreaHeight),ue.ratio=ue.currentlyVisibleHeight/ue.totalHeight,ue.barLength=Math.max(ue.ratio*ue.currentlyVisibleHeight,D.goldenRatio*D.scrollbarWidth),ue.barWiggleRoom=ue.currentlyVisibleHeight-ue.barLength,ue.wiggleRoom=Math.max(0,ue.totalHeight-ue.scrollableAreaHeight),ue.topY=0===ue.barWiggleRoom?0:ce.scrollY/ue.wiggleRoom*ue.barWiggleRoom,ue.bottomY=ue.topY+ue.barLength,ue.dragMultiplier=ue.wiggleRoom/ue.barWiggleRoom}).attr("transform",function(ce){return i(ce.width+D.scrollbarWidth/2+D.scrollbarOffset,I(ce))});var re=ne.selectAll("."+D.cn.scrollbar).data(S.repeat,S.keyFun);re.enter().append("g").classed(D.cn.scrollbar,!0);var Q=re.selectAll("."+D.cn.scrollbarSlider).data(S.repeat,S.keyFun);Q.enter().append("g").classed(D.cn.scrollbarSlider,!0),Q.attr("transform",function(ce){return i(0,ce.scrollbarState.topY||0)});var ee=Q.selectAll("."+D.cn.scrollbarGlyph).data(S.repeat,S.keyFun);ee.enter().append("line").classed(D.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",D.scrollbarWidth).attr("stroke-linecap","round").attr("y1",D.scrollbarWidth/2),ee.attr("y2",function(ce){return ce.scrollbarState.barLength-D.scrollbarWidth/2}).attr("stroke-opacity",function(ce){return ce.columnDragInProgress||!ce.scrollbarState.barWiggleRoom||se?0:.4}),ee.transition().delay(0).duration(0),ee.transition().delay(D.scrollbarHideDelay).duration(D.scrollbarHideDuration).attr("stroke-opacity",0);var oe=re.selectAll("."+D.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);oe.enter().append("line").classed(D.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",D.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ce){var ue=E.event.y,he=this.getBoundingClientRect(),ve=ce.scrollbarState,ke=ue-he.top,Ie=E.scale.linear().domain([0,ve.scrollableAreaHeight]).range([0,ve.totalHeight]).clamp(!0);ve.topY<=ke&&ke<=ve.bottomY||L($,Z,null,Ie(ke-ve.barLength/2))(ce)}).call(E.behavior.drag().origin(function(ce){return E.event.stopPropagation(),ce.scrollbarState.scrollbarScrollInProgress=!0,ce}).on("drag",L($,Z)).on("dragend",function(){})),oe.attr("y2",function(ce){return ce.scrollbarState.scrollableAreaHeight}),$._context.staticPlot&&(ee.remove(),oe.remove())}function x(Z,$,se,ne){var he,Q=function(ue){var he=ue.selectAll("."+D.cn.columnCell).data(o.splitToCells,function(ve){return ve.keyWithinBlock});return he.enter().append("g").classed(D.cn.columnCell,!0),he.exit().remove(),he}(((he=se.selectAll("."+D.cn.columnCells).data(S.repeat,S.keyFun)).enter().append("g").classed(D.cn.columnCells,!0),he.exit().remove(),he));Q.each(function(he,ve){var ke=he.calcdata.cells.font,Ie=he.column.specIndex,Me={size:_(ke.size,Ie,ve),color:_(ke.color,Ie,ve),family:_(ke.family,Ie,ve)};he.rowNumber=he.key,he.align=_(he.calcdata.cells.align,Ie,ve),he.cellBorderWidth=_(he.calcdata.cells.line.width,Ie,ve),he.font=Me});var ee=function(ue){var he=ue.selectAll("."+D.cn.cellRect).data(S.repeat,function(ve){return ve.keyWithinBlock});return he.enter().append("rect").classed(D.cn.cellRect,!0),he}(Q);!function(ue){ue.attr("width",function(he){return he.column.columnWidth}).attr("stroke-width",function(he){return he.cellBorderWidth}).each(function(he){var ve=E.select(this);l.stroke(ve,_(he.calcdata.cells.line.color,he.column.specIndex,he.rowNumber)),l.fill(ve,_(he.calcdata.cells.fill.color,he.column.specIndex,he.rowNumber))})}(ee);var oe=function(ue){var he=ue.selectAll("."+D.cn.cellTextHolder).data(S.repeat,function(ve){return ve.keyWithinBlock});return he.enter().append("g").classed(D.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),he}(Q),ce=function(ue){var he=ue.selectAll("."+D.cn.cellText).data(S.repeat,function(ve){return ve.keyWithinBlock});return he.enter().append("text").classed(D.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){E.event.stopPropagation()}),he}(oe);(function(ue){ue.each(function(he){M.font(E.select(this),he.font)})})(ce),m(ce,$,ne,Z),X(Q)}function m(Z,$,se,ne){Z.text(function(re){var Q=re.column.specIndex,ee=re.rowNumber,oe=re.value,ce="string"==typeof oe,ue=ce&&oe.match(/<br>/i),he=!ce||ue;re.mayHaveMarkup=ce&&oe.match(/[<&>]/);var ve,ke="string"==typeof(ve=oe)&&ve.match(D.latexCheck);re.latex=ke;var Ie,Me,_e=ke?"":_(re.calcdata.cells.prefix,Q,ee)||"",we=ke?"":_(re.calcdata.cells.suffix,Q,ee)||"",ze=ke?null:_(re.calcdata.cells.format,Q,ee)||null,Ee=_e+(ze?d(ze)(re.value):re.value)+we;if(re.wrappingNeeded=!re.wrapped&&!he&&!ke&&(Ie=b(Ee)),re.cellHeightMayIncrease=ue||ke||re.mayHaveMarkup||(void 0===Ie?b(Ee):Ie),re.needsConvertToTspans=re.mayHaveMarkup||re.wrappingNeeded||re.latex,re.wrappingNeeded){var Se=(" "===D.wrapSplitCharacter?Ee.replace(/<a href=/gi,"<a_href="):Ee).split(D.wrapSplitCharacter),me=" "===D.wrapSplitCharacter?Se.map(function(fe){return fe.replace(/<a_href=/gi,"<a href=")}):Se;re.fragments=me.map(function(fe){return{text:fe,width:null}}),re.fragments.push({fragment:D.wrapSpacer,width:null}),Me=me.join(D.lineBreaker)+D.lineBreaker+D.wrapSpacer}else delete re.fragments,Me=Ee;return Me}).attr("dy",function(re){return re.needsConvertToTspans?0:"0.75em"}).each(function(re){var Q=this,ee=E.select(Q);re.needsConvertToTspans?v.convertToTspans(ee,ne,(re.wrappingNeeded?P:F)(se,Q,$,ne,re)):E.select(Q.parentNode).attr("transform",function(ce){return i(j(ce),D.cellPad)}).attr("text-anchor",function(ce){return{left:"start",center:"middle",right:"end"}[ce.align]})})}function b(Z){return-1!==Z.indexOf(D.wrapSplitCharacter)}function _(Z,$,se){if(Array.isArray(Z)){var ne=Z[Math.min($,Z.length-1)];return Array.isArray(ne)?ne[Math.min(se,ne.length-1)]:ne}return Z}function w(Z,$,se){Z.transition().ease(D.releaseTransitionEase).duration(D.releaseTransitionDuration).attr("transform",i($.x,se))}function A(Z){return"cells"===Z.type}function p(Z){return"header"===Z.type}function I(Z){return(Z.rowBlocks.length?Z.rowBlocks[0].auxiliaryBlocks:[]).reduce(function($,se){return $+q(se,1/0)},0)}function k(Z,$,se){var ne=h($)[0];if(void 0!==ne){var re=ne.rowBlocks,Q=ne.calcdata,ee=N(re,re.length),oe=ne.calcdata.groupHeight-I(ne),ce=Q.scrollY=Math.max(0,Math.min(ee-oe,Q.scrollY)),ue=function(he,ve,ke){for(var Ie=[],Me=0,_e=0;_e<he.length;_e++){for(var we=he[_e],ze=we.rows,Ee=0,Se=0;Se<ze.length;Se++)Ee+=ze[Se].rowHeight;we.allRowsHeight=Ee,ve<Me+Ee&&ve+ke>Me&&Ie.push(_e),Me+=Ee}return Ie}(re,ce,oe);1===ue.length&&(ue[0]===re.length-1?ue.unshift(ue[0]-1):ue.push(ue[0]+1)),ue[0]%2&&ue.reverse(),$.each(function(he,ve){he.page=ue[ve],he.scrollY=ce}),$.attr("transform",function(he){var ve=N(he.rowBlocks,he.page)-he.scrollY;return i(0,ve)}),Z&&(O(Z,se,$,ue,ne.prevPages,ne,0),O(Z,se,$,ue,ne.prevPages,ne,1),T(se,Z))}}function L(Z,$,se,ne){return function(re){var Q=re.calcdata?re.calcdata:re,ee=$.filter(function(he){return Q.key===he.key}),ce=Q.scrollY;Q.scrollY=void 0===ne?Q.scrollY+(se||Q.scrollbarState.dragMultiplier)*E.event.dy:ne;var ue=ee.selectAll("."+D.cn.yColumn).selectAll("."+D.cn.columnBlock).filter(A);return k(Z,ue,ee),Q.scrollY===ce}}function O(Z,$,se,ne,re,Q,ee){ne[ee]!==re[ee]&&(clearTimeout(Q.currentRepaint[ee]),Q.currentRepaint[ee]=setTimeout(function(){var oe=se.filter(function(ce,ue){return ue===ee&&ne[ue]!==re[ue]});x(Z,$,oe,se),re[ee]=ne[ee]}))}function P(Z,$,se,ne){return function(){var re=E.select($.parentNode);re.each(function(Q){var ee=Q.fragments;re.selectAll("tspan.line").each(function(Me,_e){ee[_e].width=this.getComputedTextLength()});var oe,ce,ue=ee[ee.length-1].width,he=ee.slice(0,-1),ve=[],ke=0,Ie=Q.column.columnWidth-2*D.cellPad;for(Q.value="";he.length;)ke+(ce=(oe=he.shift()).width+ue)>Ie&&(Q.value+=ve.join(D.wrapSpacer)+D.lineBreaker,ve=[],ke=0),ve.push(oe.text),ke+=ce;ke&&(Q.value+=ve.join(D.wrapSpacer)),Q.wrapped=!0}),re.selectAll("tspan.line").remove(),m(re.select("."+D.cn.cellText),se,Z,ne),E.select($.parentNode.parentNode).call(X)}}function F(Z,$,se,ne,re){return function(){if(!re.settledY){var Q=E.select($.parentNode),ee=H(re),oe=re.key-ee.firstRowIndex,ce=ee.rows[oe].rowHeight,ue=re.cellHeightMayIncrease?$.parentNode.getBoundingClientRect().height+2*D.cellPad:ce,he=Math.max(ue,ce);he-ee.rows[oe].rowHeight&&(ee.rows[oe].rowHeight=he,Z.selectAll("."+D.cn.columnCell).call(X),k(null,Z.filter(A),0),T(se,ne,!0)),Q.attr("transform",function(){var ke=this.parentNode.getBoundingClientRect(),Ie=E.select(this.parentNode).select("."+D.cn.cellRect).node().getBoundingClientRect(),Me=this.transform.baseVal.consolidate(),_e=Ie.top-ke.top+(Me?Me.matrix.f:D.cellPad);return i(j(re,E.select(this.parentNode).select("."+D.cn.cellTextHolder).node().getBoundingClientRect().width),_e)}),re.settledY=!0}}}function j(Z,$){switch(Z.align){case"left":default:return D.cellPad;case"right":return Z.column.columnWidth-($||0)-D.cellPad;case"center":return(Z.column.columnWidth-($||0))/2}}function X(Z){Z.attr("transform",function($){var se=$.rowBlocks[0].auxiliaryBlocks.reduce(function(re,Q){return re+q(Q,1/0)},0),ne=q(H($),$.key);return i(0,ne+se)}).selectAll("."+D.cn.cellRect).attr("height",function($){return(se=H($),ne=$.key,se.rows[ne-se.firstRowIndex]).rowHeight;var se,ne})}function N(Z,$){for(var se=0,ne=$-1;ne>=0;ne--)se+=G(Z[ne]);return se}function q(Z,$){for(var se=0,ne=0;ne<Z.rows.length&&Z.rows[ne].rowIndex<$;ne++)se+=Z.rows[ne].rowHeight;return se}function G(Z){var $=Z.allRowsHeight;if(void 0!==$)return $;for(var se=0,ne=0;ne<Z.rows.length;ne++)se+=Z.rows[ne].rowHeight;return Z.allRowsHeight=se,se}function H(Z){return Z.rowBlocks[Z.page]}ae.exports=function(Z,$){var se=!Z._context.staticPlot,ne=Z._fullLayout._paper.selectAll("."+D.cn.table).data($.map(function(we){var ze=S.unwrap(we).trace;return a(Z,ze)}),S.keyFun);ne.exit().remove(),ne.enter().append("g").classed(D.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),ne.attr("width",function(we){return we.width+we.size.l+we.size.r}).attr("height",function(we){return we.height+we.size.t+we.size.b}).attr("transform",function(we){return i(we.translateX,we.translateY)});var re=ne.selectAll("."+D.cn.tableControlView).data(S.repeat,S.keyFun),Q=re.enter().append("g").classed(D.cn.tableControlView,!0).style("box-sizing","content-box");if(se){var ee="onwheel"in document?"wheel":"mousewheel";Q.on("mousemove",function(we){re.filter(function(ze){return we===ze}).call(T,Z)}).on(ee,function(we){we.scrollbarState.wheeling||(we.scrollbarState.wheeling=!0,L(Z,re,null,we.scrollY+E.event.deltaY)(we)||(E.event.stopPropagation(),E.event.preventDefault()),we.scrollbarState.wheeling=!1)}).call(T,Z,!0)}re.attr("transform",function(we){return i(we.size.l,we.size.t)});var oe=re.selectAll("."+D.cn.scrollBackground).data(S.repeat,S.keyFun);oe.enter().append("rect").classed(D.cn.scrollBackground,!0).attr("fill","none"),oe.attr("width",function(we){return we.width}).attr("height",function(we){return we.height}),re.each(function(we){M.setClipUrl(E.select(this),f(Z,we),Z)});var ce=re.selectAll("."+D.cn.yColumn).data(function(we){return we.columns},S.keyFun);ce.enter().append("g").classed(D.cn.yColumn,!0),ce.exit().remove(),ce.attr("transform",function(we){return i(we.x,0)}),se&&ce.call(E.behavior.drag().origin(function(we){return w(E.select(this),we,-D.uplift),u(this),we.calcdata.columnDragInProgress=!0,T(re.filter(function(ze){return we.calcdata.key===ze.key}),Z),we}).on("drag",function(we){var ze=E.select(this),Ee=function(Se){return(we===Se?E.event.x:Se.x)+Se.columnWidth/2};we.x=Math.max(-D.overdrag,Math.min(we.calcdata.width+D.overdrag-we.columnWidth,E.event.x)),h(ce).filter(function(Se){return Se.calcdata.key===we.calcdata.key}).sort(function(Se,me){return Ee(Se)-Ee(me)}).forEach(function(Se,me){Se.xIndex=me,Se.x=we===Se?Se.x:Se.xScale(Se)}),ce.filter(function(Se){return we!==Se}).transition().ease(D.transitionEase).duration(D.transitionDuration).attr("transform",function(Se){return i(Se.x,0)}),ze.call(s).attr("transform",i(we.x,-D.uplift))}).on("dragend",function(we){var Se,me,fe,le,ze=E.select(this),Ee=we.calcdata;we.x=we.xScale(we),we.calcdata.columnDragInProgress=!1,w(ze,we,0),Se=Z,me=Ee,fe=Ee.columns.map(function(Se){return Se.xIndex}),le=me.gdColumnsOriginalOrder,me.gdColumns.sort(function(Te,Re){return fe[le.indexOf(Te)]-fe[le.indexOf(Re)]}),me.columnorder=fe,Se.emit("plotly_restyle")})),ce.each(function(we){M.setClipUrl(E.select(this),g(Z,we),Z)});var ue=ce.selectAll("."+D.cn.columnBlock).data(o.splitToPanels,S.keyFun);ue.enter().append("g").classed(D.cn.columnBlock,!0).attr("id",function(we){return we.key}),ue.style("cursor",function(we){return we.dragHandle?"ew-resize":we.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var he=ue.filter(p),ve=ue.filter(A);se&&ve.call(E.behavior.drag().origin(function(we){return E.event.stopPropagation(),we}).on("drag",L(Z,re,-1)).on("dragend",function(){})),x(Z,re,he,ue),x(Z,re,ve,ue);var ke=re.selectAll("."+D.cn.scrollAreaClip).data(S.repeat,S.keyFun);ke.enter().append("clipPath").classed(D.cn.scrollAreaClip,!0).attr("id",function(we){return f(Z,we)});var Ie=ke.selectAll("."+D.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);Ie.enter().append("rect").classed(D.cn.scrollAreaClipRect,!0).attr("x",-D.overdrag).attr("y",-D.uplift).attr("fill","none"),Ie.attr("width",function(we){return we.width+2*D.overdrag}).attr("height",function(we){return we.height+D.uplift}),ce.selectAll("."+D.cn.columnBoundary).data(S.repeat,S.keyFun).enter().append("g").classed(D.cn.columnBoundary,!0);var Me=ce.selectAll("."+D.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);Me.enter().append("clipPath").classed(D.cn.columnBoundaryClippath,!0),Me.attr("id",function(we){return g(Z,we)});var _e=Me.selectAll("."+D.cn.columnBoundaryRect).data(S.repeat,S.keyFun);_e.enter().append("rect").classed(D.cn.columnBoundaryRect,!0).attr("fill","none"),_e.attr("width",function(we){return we.columnWidth+2*c(we)}).attr("height",function(we){return we.calcdata.height+2*c(we)+D.uplift}).attr("x",function(we){return-c(we)}).attr("y",function(we){return-c(we)}),k(null,ve,re)}},45802:function(ae,B,r){"use strict";var D=r(5386).fF,E=r(5386).si,d=r(50693),S=r(27670).Y,M=r(34e3),v=r(57564),u=r(43473),i=r(1426).extendFlat,s=r(79952).u;ae.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:i({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:s,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},d("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:i({},M.textfont,{}),editType:"calc"},text:M.text,textinfo:v.textinfo,texttemplate:E({editType:"plot"},{keys:u.eventDataKeys.concat(["label","value"])}),hovertext:M.hovertext,hoverinfo:v.hoverinfo,hovertemplate:D({},{keys:u.eventDataKeys}),textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:i({},M.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:M.sort,root:v.root,domain:S({name:"treemap",trace:!0,editType:"calc"})}},78018:function(ae,B,r){"use strict";var D=r(74875);B.name="treemap",B.plot=function(E,d,S,M){D.plotBasePlot(B.name,E,d,S,M)},B.clean=function(E,d,S,M){D.cleanBasePlot(B.name,E,d,S,M)}},65039:function(ae,B,r){"use strict";var D=r(52147);B.y=function(E,d){return D.calc(E,d)},B.T=function(E){return D._runCrossTraceCalc("treemap",E)}},43473:function(ae){"use strict";ae.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(ae,B,r){"use strict";var D=r(71828),E=r(45802),d=r(7901),S=r(27670).c,M=r(90769).handleText,v=r(97313).TEXTPAD,u=r(37434).handleMarkerDefaults,i=r(21081),s=i.hasColorscale,a=i.handleDefaults;ae.exports=function(o,l,c,f){function g(A,p){return D.coerce(o,l,E,A,p)}var h=g("labels"),T=g("parents");if(h&&h.length&&T&&T.length){var x=g("values");g(x&&x.length?"branchvalues":"count"),g("level"),g("maxdepth"),"squarify"===g("tiling.packing")&&g("tiling.squarifyratio"),g("tiling.flip"),g("tiling.pad");var m=g("text");g("texttemplate"),l.texttemplate||g("textinfo",Array.isArray(m)?"text+label":"label"),g("hovertext"),g("hovertemplate");var b=g("pathbar.visible");M(o,l,f,g,"auto",{hasPathbar:b,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),g("textposition");var _=-1!==l.textposition.indexOf("bottom");u(o,l,f,g),(l._hasColorscale=s(o,"marker","colors")||(o.marker||{}).coloraxis)?a(o,l,f,g,{prefix:"marker.",cLetter:"c"}):g("marker.depthfade",!(l.marker.colors||[]).length);var w=2*l.textfont.size;g("marker.pad.t",_?w/4:w),g("marker.pad.l",w/4),g("marker.pad.r",w/4),g("marker.pad.b",_?w:w/4),g("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:d.contrast(f.paper_bgcolor)}}},b&&(g("pathbar.thickness",l.pathbar.textfont.size+2*v),g("pathbar.side"),g("pathbar.edgeshape")),g("sort"),g("root.color"),S(l,f,g),l._length=null}else l.visible=!1}},80694:function(ae,B,r){"use strict";var D=r(39898),E=r(2791),d=r(72597).clearMinTextSize,S=r(16688).resizeText,M=r(46650);ae.exports=function(v,u,i,s,a){var o,l,c=a.type,f=a.drawDescendants,g=v._fullLayout,h=g["_"+c+"layer"],T=!i;d(c,g),(o=h.selectAll("g.trace."+c).data(u,function(x){return x[0].trace.uid})).enter().append("g").classed("trace",!0).classed(c,!0),o.order(),!g.uniformtext.mode&&E.hasTransition(i)?(s&&(l=s()),D.transition().duration(i.duration).ease(i.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){h.selectAll("g.trace").each(function(x){M(v,x,this,i,f)})})):(o.each(function(x){M(v,x,this,i,f)}),g.uniformtext.mode&&S(v,h.selectAll(".trace"),c)),T&&o.exit().remove()}},66209:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424),S=r(63893),M=r(37210),v=r(96362).styleOne,u=r(43473),i=r(2791),s=r(83523),a=!0;ae.exports=function(o,l,c,f,g){var h=g.barDifY,T=g.width,x=g.height,m=g.viewX,b=g.viewY,_=g.pathSlice,w=g.toMoveInsideSlice,A=g.strTransform,p=g.hasTransition,I=g.handleSlicesExit,k=g.makeUpdateSliceInterpolator,L=g.makeUpdateTextInterpolator,O={},P=o._context.staticPlot,F=o._fullLayout,j=l[0],X=j.trace,N=j.hierarchy,q=T/X._entryDepth,G=i.listPath(c.data,"id"),H=M(N.copy(),[T,x],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(H=H.filter(function($){var se=G.indexOf($.data.id);return-1!==se&&($.x0=q*se,$.x1=q*(se+1),$.y0=h,$.y1=h+x,$.onPathbar=!0,!0)})).reverse(),(f=f.data(H,i.getPtId)).enter().append("g").classed("pathbar",!0),I(f,a,O,[T,x],_),f.order();var Z=f;p&&(Z=Z.transition().each("end",function(){var $=D.select(this);i.setSliceCursor($,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function($){$._x0=m($.x0),$._x1=m($.x1),$._y0=b($.y0),$._y1=b($.y1),$._hoverX=m($.x1-Math.min(T,x)/2),$._hoverY=b($.y1-x/2);var se=D.select(this),ne=E.ensureSingle(se,"path","surface",function(oe){oe.style("pointer-events",P?"none":"all")});p?ne.transition().attrTween("d",function(oe){var ce=k(oe,a,O,[T,x]);return function(ue){return _(ce(ue))}}):ne.attr("d",_),se.call(s,c,o,l,{styleOne:v,eventDataKeys:u.eventDataKeys,transitionTime:u.CLICK_TRANSITION_TIME,transitionEasing:u.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:o._transitioning}),ne.call(v,$,X,o,{hovered:!1}),$._text=(i.getPtLabel($)||"").split("<br>").join(" ")||"";var re=E.ensureSingle(se,"g","slicetext"),Q=E.ensureSingle(re,"text","",function(oe){oe.attr("data-notex",1)}),ee=E.ensureUniformFontSize(o,i.determineTextFont(X,$,F.font,{onPathbar:!0}));Q.text($._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(d.font,ee).call(S.convertToTspans,o),$.textBB=d.bBox(Q.node()),$.transform=w($,{fontSize:ee.size,onPathbar:!0}),$.transform.fontSize=ee.size,p?Q.transition().attrTween("transform",function(oe){var ce=L(oe,a,O,[T,x]);return function(ue){return A(ce(ue))}}):Q.attr("transform",A($))})}},52583:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424),S=r(63893),M=r(37210),v=r(96362).styleOne,u=r(43473),i=r(2791),s=r(83523),a=r(24714).formatSliceLabel,o=!1;ae.exports=function(l,c,f,g,h){var T=h.width,x=h.height,m=h.viewX,b=h.viewY,_=h.pathSlice,w=h.toMoveInsideSlice,A=h.strTransform,p=h.hasTransition,I=h.handleSlicesExit,k=h.makeUpdateSliceInterpolator,L=h.makeUpdateTextInterpolator,O=h.prevEntry,P=l._context.staticPlot,F=l._fullLayout,j=c[0].trace,X=-1!==j.textposition.indexOf("left"),N=-1!==j.textposition.indexOf("right"),q=-1!==j.textposition.indexOf("bottom"),G=!q&&!j.marker.pad.t||q&&!j.marker.pad.b,H=M(f,[T,x],{packing:j.tiling.packing,squarifyratio:j.tiling.squarifyratio,flipX:j.tiling.flip.indexOf("x")>-1,flipY:j.tiling.flip.indexOf("y")>-1,pad:{inner:j.tiling.pad,top:j.marker.pad.t,left:j.marker.pad.l,right:j.marker.pad.r,bottom:j.marker.pad.b}}).descendants(),Z=1/0,$=-1/0;H.forEach(function(ee){var oe=ee.depth;oe>=j._maxDepth?(ee.x0=ee.x1=(ee.x0+ee.x1)/2,ee.y0=ee.y1=(ee.y0+ee.y1)/2):(Z=Math.min(Z,oe),$=Math.max($,oe))}),g=g.data(H,i.getPtId),j._maxVisibleLayers=isFinite($)?$-Z+1:0,g.enter().append("g").classed("slice",!0),I(g,o,{},[T,x],_),g.order();var se=null;if(p&&O){var ne=i.getPtId(O);g.each(function(ee){null===se&&i.getPtId(ee)===ne&&(se={x0:ee.x0,x1:ee.x1,y0:ee.y0,y1:ee.y1})})}var re=function(){return se||{x0:0,x1:T,y0:0,y1:x}},Q=g;return p&&(Q=Q.transition().each("end",function(){var ee=D.select(this);i.setSliceCursor(ee,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(ee){var oe=i.isHeader(ee,j);ee._x0=m(ee.x0),ee._x1=m(ee.x1),ee._y0=b(ee.y0),ee._y1=b(ee.y1),ee._hoverX=m(ee.x1-j.marker.pad.r),ee._hoverY=b(q?ee.y1-j.marker.pad.b/2:ee.y0+j.marker.pad.t/2);var ce=D.select(this),ue=E.ensureSingle(ce,"path","surface",function(Ie){Ie.style("pointer-events",P?"none":"all")});p?ue.transition().attrTween("d",function(Ie){var Me=k(Ie,o,re(),[T,x]);return function(_e){return _(Me(_e))}}):ue.attr("d",_),ce.call(s,f,l,c,{styleOne:v,eventDataKeys:u.eventDataKeys,transitionTime:u.CLICK_TRANSITION_TIME,transitionEasing:u.CLICK_TRANSITION_EASING}).call(i.setSliceCursor,l,{isTransitioning:l._transitioning}),ue.call(v,ee,j,l,{hovered:!1}),ee._text=ee.x0===ee.x1||ee.y0===ee.y1?"":oe?G?"":i.getPtLabel(ee)||"":a(ee,f,j,c,F)||"";var he=E.ensureSingle(ce,"g","slicetext"),ve=E.ensureSingle(he,"text","",function(Ie){Ie.attr("data-notex",1)}),ke=E.ensureUniformFontSize(l,i.determineTextFont(j,ee,F.font));ve.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor",N?"end":X||oe?"start":"middle").call(d.font,ke).call(S.convertToTspans,l),ee.textBB=d.bBox(ve.node()),ee.transform=w(ee,{fontSize:ke.size,isHeader:oe}),ee.transform.fontSize=ke.size,p?ve.transition().attrTween("transform",function(Ie){var Me=L(Ie,o,re(),[T,x]);return function(_e){return A(Me(_e))}}):ve.attr("transform",A(ee))}),se}},14102:function(ae){"use strict";ae.exports=function B(r,D,E){var d;E.swapXY&&(d=r.x0,r.x0=r.y0,r.y0=d,d=r.x1,r.x1=r.y1,r.y1=d),E.flipX&&(d=r.x0,r.x0=D[0]-r.x1,r.x1=D[0]-d),E.flipY&&(d=r.y0,r.y0=D[1]-r.y1,r.y1=D[1]-d);var S=r.children;if(S)for(var M=0;M<S.length;M++)B(S[M],D,E)}},70954:function(ae,B,r){"use strict";ae.exports={moduleType:"trace",name:"treemap",basePlotModule:r(78018),categories:[],animatable:!0,attributes:r(45802),layoutAttributes:r(55479),supplyDefaults:r(91174),supplyLayoutDefaults:r(77182),calc:r(65039).y,crossTraceCalc:r(65039).T,plot:r(5893),style:r(96362).style,colorbar:r(4898),meta:{}}},55479:function(ae){"use strict";ae.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(ae,B,r){"use strict";var D=r(71828),E=r(55479);ae.exports=function(d,S){function M(v,u){return D.coerce(d,S,E,v,u)}M("treemapcolorway",S.colorway),M("extendtreemapcolors")}},37210:function(ae,B,r){"use strict";var D=r(674),E=r(14102);ae.exports=function(d,S,M){var v,u=M.flipX,i=M.flipY,s="dice-slice"===M.packing,a=M.pad[i?"bottom":"top"],o=M.pad[u?"right":"left"],l=M.pad[u?"left":"right"],c=M.pad[i?"top":"bottom"];s&&(v=o,o=a,a=v,v=l,l=c,c=v);var f=D.treemap().tile(function(g,h){switch(g){case"squarify":return D.treemapSquarify.ratio(h);case"binary":return D.treemapBinary;case"dice":return D.treemapDice;case"slice":return D.treemapSlice;default:return D.treemapSliceDice}}(M.packing,M.squarifyratio)).paddingInner(M.pad.inner).paddingLeft(o).paddingRight(l).paddingTop(a).paddingBottom(c).size(s?[S[1],S[0]]:S)(d);return(s||u||i)&&E(f,S,{swapXY:s,flipX:u,flipY:i}),f}},5893:function(ae,B,r){"use strict";var D=r(80694),E=r(52583);ae.exports=function(d,S,M,v){return D(d,S,M,v,{type:"treemap",drawDescendants:E})}},46650:function(ae,B,r){"use strict";var D=r(39898),E=r(81684).sX,d=r(2791),S=r(71828),M=r(97313).TEXTPAD,v=r(17295).toMoveInsideBar,u=r(72597).recordMinTextSize,i=r(43473),s=r(66209);function a(o){return d.isHierarchyRoot(o)?"":d.getPtId(o)}ae.exports=function(o,l,c,f,g){var h=o._fullLayout,T=l[0],x=T.trace,m="icicle"===x.type,b=T.hierarchy,_=d.findEntryWithLevel(b,x.level),w=D.select(c),A=w.selectAll("g.pathbar"),p=w.selectAll("g.slice");if(!_)return A.remove(),void p.remove();var I=d.isHierarchyRoot(_),k=!h.uniformtext.mode&&d.hasTransition(f),L=d.getMaxDepth(x),O=h._size,P=x.domain,F=O.w*(P.x[1]-P.x[0]),j=O.h*(P.y[1]-P.y[0]),X=F,N=x.pathbar.thickness,q=x.marker.line.width+i.gapWithPathbar,G=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?j+q:-(N+q):0,H={x0:X,x1:X,y0:G,y1:G+N},Z=function(Ce,Be,qe){var He=x.tiling.pad,Je=function(ct){return ct-He<=Be.x0},et=function(ct){return ct+He>=Be.x1},st=function(ct){return ct-He<=Be.y0},pt=function(ct){return ct+He>=Be.y1};return Ce.x0===Be.x0&&Ce.x1===Be.x1&&Ce.y0===Be.y0&&Ce.y1===Be.y1?{x0:Ce.x0,x1:Ce.x1,y0:Ce.y0,y1:Ce.y1}:{x0:Je(Ce.x0-He)?0:et(Ce.x0-He)?qe[0]:Ce.x0,x1:Je(Ce.x1+He)?0:et(Ce.x1+He)?qe[0]:Ce.x1,y0:st(Ce.y0-He)?0:pt(Ce.y0-He)?qe[1]:Ce.y0,y1:st(Ce.y1+He)?0:pt(Ce.y1+He)?qe[1]:Ce.y1}},$=null,se={},ne={},re=null,Q=function(Ce,Be){return Be?se[a(Ce)]:ne[a(Ce)]};T.hasMultipleRoots&&I&&L++,x._maxDepth=L,x._backgroundColor=h.paper_bgcolor,x._entryDepth=_.data.depth,x._atRootLevel=I;var ee=-F/2+O.l+O.w*(P.x[1]+P.x[0])/2,oe=-j/2+O.t+O.h*(1-(P.y[1]+P.y[0])/2),ce=function(Ce){return ee+Ce},ue=function(Ce){return oe+Ce},he=ue(0),ve=ce(0),ke=function(Ce){return ve+Ce},Ie=function(Ce){return he+Ce};function Me(Ce,Be){return Ce+","+Be}var _e=ke(0),we=function(Ce){Ce.x=Math.max(_e,Ce.x)},ze=x.pathbar.edgeshape,Ee=x[m?"tiling":"marker"].pad,Se=function(Ce){return-1!==x.textposition.indexOf(Ce)},me=Se("top"),fe=Se("left"),le=Se("right"),Te=Se("bottom"),Re=function(Ce,Be){var qe=Ce.x0,He=Ce.x1,Je=Ce.y0,et=Ce.y1,st=Ce.textBB,pt=me||Be.isHeader&&!Te?"start":Te?"end":"middle",ct=Se("right"),St=Se("left")||Be.onPathbar?-1:ct?1:0;if(Be.isHeader){if((qe+=(m?Ee:Ee.l)-M)>=(He-=(m?Ee:Ee.r)-M)){var Dt=(qe+He)/2;qe=Dt,He=Dt}var vt;Te?Je<(vt=et-(m?Ee:Ee.b))&&vt<et&&(Je=vt):Je<(vt=Je+(m?Ee:Ee.t))&&vt<et&&(et=vt)}var gt=v(qe,He,Je,et,st,{isHorizontal:!1,constrained:!0,angle:0,anchor:pt,leftToRight:St});return gt.fontSize=Be.fontSize,gt.targetX=ce(gt.targetX),gt.targetY=ue(gt.targetY),isNaN(gt.targetX)||isNaN(gt.targetY)?{}:(qe!==He&&Je!==et&&u(x.type,gt,h),{scale:gt.scale,rotate:gt.rotate,textX:gt.textX,textY:gt.textY,anchorX:gt.anchorX,anchorY:gt.anchorY,targetX:gt.targetX,targetY:gt.targetY})},De=function(Ce,Be){for(var qe,He=0,Je=Ce;!qe&&He<L;)He++,(Je=Je.parent)?qe=Q(Je,Be):He=L;return qe||{}},Ue=function(Ce,Be,qe,He,Je){var et,st=Q(Ce,Be);if(st)et=st;else if(Be)et=H;else if($)if(Ce.parent){var pt=re||qe;pt&&!Be?et=Z(Ce,pt,He):S.extendFlat(et={},De(Ce,Be))}else et=S.extendFlat({},Ce),m&&("h"===Je.orientation?Je.flipX?et.x0=Ce.x1:et.x1=0:Je.flipY?et.y0=Ce.y1:et.y1=0);else et={};return E(et,{x0:Ce.x0,x1:Ce.x1,y0:Ce.y0,y1:Ce.y1})},Ze=function(Ce,Be,qe,He){var ct,Dt,vt,Je=Q(Ce,Be),et={},st=(ct=Ce,Dt=qe,vt=He,Be?se[a(b)]||H:ct.data.depth-_.data.depth<L?Z(ct,ne[x.level]||Dt,vt):{});S.extendFlat(et,{transform:Re({x0:st.x0,x1:st.x1,y0:st.y0,y1:st.y1,textBB:Ce.textBB,_text:Ce._text},{isHeader:d.isHeader(Ce,x)})}),Je?et=Je:Ce.parent&&S.extendFlat(et,De(Ce,Be));var pt=Ce.transform;return Ce.x0!==Ce.x1&&Ce.y0!==Ce.y1&&u(x.type,pt,h),E(et,{transform:{scale:pt.scale,rotate:pt.rotate,textX:pt.textX,textY:pt.textY,anchorX:pt.anchorX,anchorY:pt.anchorY,targetX:pt.targetX,targetY:pt.targetY}})},xe=function(Ce,Be,qe,He,Je){var et=He[0],st=He[1];k?Ce.exit().transition().each(function(){var pt=D.select(this);pt.select("path.surface").transition().attrTween("d",function(ct){var St=function(Dt,vt,gt,Et){var Pt,Ot=Q(Dt,vt);if(vt)Pt=H;else{var Ht=Q(_,vt);Pt=Ht?Z(Dt,Ht,Et):{}}return E(Ot,Pt)}(ct,Be,0,[et,st]);return function(Dt){return Je(St(Dt))}}),pt.select("g.slicetext").attr("opacity",0)}).remove():Ce.exit().remove()},Oe=function(Ce){var Be=Ce.transform;return Ce.x0!==Ce.x1&&Ce.y0!==Ce.y1&&u(x.type,Be,h),S.getTextTransform({textX:Be.textX,textY:Be.textY,anchorX:Be.anchorX,anchorY:Be.anchorY,targetX:Be.targetX,targetY:Be.targetY,scale:Be.scale,rotate:Be.rotate})};k&&(A.each(function(Ce){se[a(Ce)]={x0:Ce.x0,x1:Ce.x1,y0:Ce.y0,y1:Ce.y1},Ce.transform&&(se[a(Ce)].transform={textX:Ce.transform.textX,textY:Ce.transform.textY,anchorX:Ce.transform.anchorX,anchorY:Ce.transform.anchorY,targetX:Ce.transform.targetX,targetY:Ce.transform.targetY,scale:Ce.transform.scale,rotate:Ce.transform.rotate})}),p.each(function(Ce){ne[a(Ce)]={x0:Ce.x0,x1:Ce.x1,y0:Ce.y0,y1:Ce.y1},Ce.transform&&(ne[a(Ce)].transform={textX:Ce.transform.textX,textY:Ce.transform.textY,anchorX:Ce.transform.anchorX,anchorY:Ce.transform.anchorY,targetX:Ce.transform.targetX,targetY:Ce.transform.targetY,scale:Ce.transform.scale,rotate:Ce.transform.rotate}),!$&&d.isEntry(Ce)&&($=Ce)})),re=g(o,l,_,p,{width:F,height:j,viewX:ce,viewY:ue,pathSlice:function(Ce){var Be=ce(Ce.x0),qe=ce(Ce.x1),He=ue(Ce.y0),Je=ue(Ce.y1),et=qe-Be,st=Je-He;if(!et||!st)return"";var ct=Math.min(x.marker.cornerradius||0,et/2,st/2);ct&&Ce.data&&Ce.data.data&&Ce.data.data.label&&(me&&(ct=Math.min(ct,Ee.t)),fe&&(ct=Math.min(ct,Ee.l)),le&&(ct=Math.min(ct,Ee.r)),Te&&(ct=Math.min(ct,Ee.b)));var St=function(Dt,vt){return ct?"a"+Me(ct,ct)+" 0 0 1 "+Me(Dt,vt):""};return"M"+Me(Be,He+ct)+St(ct,-ct)+"L"+Me(qe-ct,He)+St(ct,ct)+"L"+Me(qe,Je-ct)+St(-ct,ct)+"L"+Me(Be+ct,Je)+St(-ct,-ct)+"Z"},toMoveInsideSlice:Re,prevEntry:$,makeUpdateSliceInterpolator:Ue,makeUpdateTextInterpolator:Ze,handleSlicesExit:xe,hasTransition:k,strTransform:Oe}),x.pathbar.visible?s(o,l,_,A,{barDifY:G,width:X,height:N,viewX:ke,viewY:Ie,pathSlice:function(Ce){var Be=ke(Math.max(Math.min(Ce.x0,Ce.x0),0)),qe=ke(Math.min(Math.max(Ce.x1,Ce.x1),X)),He=Ie(Ce.y0),Je=Ie(Ce.y1),et=N/2,st={},pt={};st.x=Be,pt.x=qe,st.y=pt.y=(He+Je)/2;var ct={x:Be,y:He},St={x:qe,y:He},Dt={x:qe,y:Je},vt={x:Be,y:Je};return">"===ze?(ct.x-=et,St.x-=et,Dt.x-=et,vt.x-=et):"/"===ze?(Dt.x-=et,vt.x-=et,st.x-=et/2,pt.x-=et/2):"\\"===ze?(ct.x-=et,St.x-=et,st.x-=et/2,pt.x-=et/2):"<"===ze&&(st.x-=et,pt.x-=et),we(ct),we(vt),we(st),we(St),we(Dt),we(pt),"M"+Me(ct.x,ct.y)+"L"+Me(St.x,St.y)+"L"+Me(pt.x,pt.y)+"L"+Me(Dt.x,Dt.y)+"L"+Me(vt.x,vt.y)+"L"+Me(st.x,st.y)+"Z"},toMoveInsideSlice:Re,makeUpdateSliceInterpolator:Ue,makeUpdateTextInterpolator:Ze,handleSlicesExit:xe,hasTransition:k,strTransform:Oe}):A.remove()}},96362:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),d=r(71828),S=r(2791),M=r(72597).resizeText,v=r(43467);function u(i,s,a,o,l){var c,f,g=(l||{}).hovered,h=s.data.data,T=h.i,x=h.color,m=S.isHierarchyRoot(s),b=1;if(g)c=a._hovered.marker.line.color,f=a._hovered.marker.line.width;else if(m&&x===a.root.color)b=100,c="rgba(0,0,0,0)",f=0;else if(c=d.castOption(a,T,"marker.line.color")||E.defaultLine,f=d.castOption(a,T,"marker.line.width")||0,!a._hasColorscale&&!s.onPathbar){var _=a.marker.depthfade;if(_){var w,A=E.combine(E.addOpacity(a._backgroundColor,.75),x);if(!0===_){var p=S.getMaxDepth(a);w=isFinite(p)?S.isLeaf(s)?0:a._maxVisibleLayers-(s.data.depth-a._entryDepth):s.data.height+1}else w=s.data.depth-a._entryDepth,a._atRootLevel||w++;if(w>0)for(var I=0;I<w;I++)x=E.combine(E.addOpacity(A,.5*I/w),x)}}i.call(v,s,a,o,x).style("stroke-width",f).call(E.stroke,c).style("opacity",b)}ae.exports={style:function(i){var s=i._fullLayout._treemaplayer.selectAll(".trace");M(i,s,"treemap"),s.each(function(a){var o=D.select(this),l=a[0].trace;o.style("opacity",l.opacity),o.selectAll("path.surface").each(function(c){D.select(this).call(u,c,l,i,{hovered:!1})})})},styleOne:u}},68875:function(ae,B,r){"use strict";var D=r(53522),E=r(1426).extendFlat,d=r(12663).axisHoverFormat;ae.exports={y:D.y,x:D.x,x0:D.x0,y0:D.y0,xhoverformat:d("x"),yhoverformat:d("y"),name:E({},D.name,{}),orientation:E({},D.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:D.fillcolor,points:E({},D.boxpoints,{}),jitter:E({},D.jitter,{}),pointpos:E({},D.pointpos,{}),width:E({},D.width,{}),marker:D.marker,text:D.text,hovertext:D.hovertext,hovertemplate:D.hovertemplate,quartilemethod:D.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup,selected:D.selected,unselected:D.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(48518),S=r(60168),M=r(50606).BADNUM;function v(i,s,a){var o=s.max-s.min;if(!o)return i.bandwidth?i.bandwidth:0;if(i.bandwidth)return Math.max(i.bandwidth,o/1e4);var f,l=a.length,c=D.stdev(a,l-1,s.mean);return Math.max((f=l,1.059*Math.min(c,(s.q3-s.q1)/1.349)*Math.pow(f,-.2)),o/100)}function u(i,s,a,o){var l,c=i.spanmode,f=i.span||[],h=[s.min-2*o,s.max+2*o];function T(m){var b=f[m],_="multicategory"===a.type?a.r2c(b):a.d2c(b,0,i[s.valLetter+"calendar"]);return _===M?h[m]:_}var x={type:"linear",range:l="soft"===c?h:"hard"===c?[s.min,s.max]:[T(0),T(1)]};return E.setConvert(x),x.cleanRange(),l}ae.exports=function(i,s){var a=d(i,s);if(a[0].t.empty)return a;for(var o=i._fullLayout,l=E.getFromId(i,s["h"===s.orientation?"xaxis":"yaxis"]),c=1/0,f=-1/0,g=0,h=0,T=0;T<a.length;T++){var x=a[T],m=x.pts.map(S.extractVal),b=x.bandwidth=v(s,x,m),_=x.span=u(s,x,l,b);if(x.min===x.max&&0===b)_=x.span=[x.min,x.max],x.density=[{v:1,t:_[0]}],x.bandwidth=b,g=Math.max(g,1);else{var w=_[1]-_[0],A=Math.ceil(w/(b/3)),p=w/A;if(!isFinite(p)||!isFinite(A))return D.error("Something went wrong with computing the violin span"),a[0].t.empty=!0,a;var I=S.makeKDE(x,s,m);x.density=new Array(A);for(var k=0,L=_[0];L<_[1]+p/2;k++,L+=p){var O=I(L);x.density[k]={v:O,t:L},g=Math.max(g,O)}}h=Math.max(h,m.length),c=Math.min(c,_[0]),f=Math.max(f,_[1])}var P=E.findExtremes(l,[c,f],{padded:!0});if(s._extremes[l._id]=P,s.width)a[0].t.maxKDE=g;else{var F=o._violinScaleGroupStats,j=s.scalegroup,X=F[j];X?(X.maxKDE=Math.max(X.maxKDE,g),X.maxCount=Math.max(X.maxCount,h)):F[j]={maxKDE:g,maxCount:h}}return a[0].t.labels.kde=D._(i,"kde:"),a}},86403:function(ae,B,r){"use strict";var D=r(37188).setPositionOffset,E=["v","h"];ae.exports=function(d,S){for(var M=d.calcdata,v=S.xaxis,u=S.yaxis,i=0;i<E.length;i++){for(var s=E[i],a="h"===s?u:v,o=[],l=0;l<M.length;l++){var c=M[l],g=c[0].trace;!0!==g.visible||"violin"!==g.type||c[0].t.empty||g.orientation!==s||g.xaxis!==v._id||g.yaxis!==u._id||o.push(l)}D("violin",d,o,a)}}},15899:function(ae,B,r){"use strict";var D=r(71828),E=r(7901),d=r(36411),S=r(68875);ae.exports=function(M,v,u,i){function s(w,A){return D.coerce(M,v,S,w,A)}function a(w,A){return D.coerce2(M,v,S,w,A)}if(d.handleSampleDefaults(M,v,s,i),!1!==v.visible){s("bandwidth"),s("side"),s("width")||(s("scalegroup",v.name),s("scalemode"));var o,l=s("span");Array.isArray(l)&&(o="manual"),s("spanmode",o);var c=s("line.color",(M.marker||{}).color||u),f=s("line.width"),g=s("fillcolor",E.addOpacity(v.line.color,.5));d.handlePointsDefaults(M,v,s,{prefix:""});var h=a("box.width"),T=a("box.fillcolor",g),x=a("box.line.color",c),m=a("box.line.width",f);s("box.visible",Boolean(h||T||x||m))||(v.box={visible:!1});var b=a("meanline.color",c),_=a("meanline.width",f);s("meanline.visible",Boolean(b||_))||(v.meanline={visible:!1}),s("quartilemethod")}}},60168:function(ae,B,r){"use strict";var D=r(71828),E=function(d){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*d*d)};B.makeKDE=function(d,S,M){var v=M.length,u=E,i=d.bandwidth,s=1/(v*i);return function(a){for(var o=0,l=0;l<v;l++)o+=u((a-M[l])/i);return s*o}},B.getPositionOnKdePath=function(d,S,M){var v,u;"h"===S.orientation?(v="y",u="x"):(v="x",u="y");var i=D.findPointOnPath(d.path,M,u,{pathLength:d.pathLength}),s=d.posCenterPx,a=i[v];return[a,"both"===S.side?2*s-a:s]},B.getKdeValue=function(d,S,M){var v=d.pts.map(B.extractVal);return B.makeKDE(d,S,v)(M)/d.posDensityScale},B.extractVal=function(d){return d.v}},57634:function(ae,B,r){"use strict";var D=r(7901),E=r(71828),d=r(89298),S=r(41868),M=r(60168);ae.exports=function(v,u,i,s,a){a||(a={});var o,l,c=a.hoverLayer,f=v.cd,g=f[0].trace,h=g.hoveron,T=-1!==h.indexOf("violins"),x=-1!==h.indexOf("kde"),m=[];if(T||x){var b=S.hoverOnBoxes(v,u,i,s);if(x&&b.length>0){var _,w,A,p,I,k=v.xa,L=v.ya;"h"===g.orientation?(I=u,_="y",A=L,w="x",p=k):(I=i,_="x",A=k,w="y",p=L);var O=f[v.index];if(I>=O.span[0]&&I<=O.span[1]){var P=E.extendFlat({},v),F=p.c2p(I,!0),j=M.getKdeValue(O,g,I),X=M.getPositionOnKdePath(O,g,F),N=A._offset,q=A._length;P[_+"0"]=X[0],P[_+"1"]=X[1],P[w+"0"]=P[w+"1"]=F,P[w+"Label"]=w+": "+d.hoverLabelText(p,I,g[w+"hoverformat"])+", "+f[0].t.labels.kde+" "+j.toFixed(3);for(var G=0,H=0;H<b.length;H++)if("med"===b[H].attr){G=H;break}P.spikeDistance=b[G].spikeDistance;var Z=_+"Spike";P[Z]=b[G][Z],b[G].spikeDistance=void 0,b[G][Z]=void 0,P.hovertemplate=!1,m.push(P),(l={})[_+"1"]=E.constrain(N+X[0],N,N+q),l[_+"2"]=E.constrain(N+X[1],N,N+q),l[w+"1"]=l[w+"2"]=p._offset+F}}T&&(m=m.concat(b))}-1!==h.indexOf("points")&&(o=S.hoverOnPoints(v,u,i));var $=c.selectAll(".violinline-"+g.uid).data(l?[0]:[]);return $.enter().append("line").classed("violinline-"+g.uid,!0).attr("stroke-width",1.5),$.exit().remove(),$.attr(l).call(D.stroke,v.color),"closest"===s?o?[o]:m:(o&&m.push(o),m)}},47462:function(ae,B,r){"use strict";ae.exports={attributes:r(68875),layoutAttributes:r(9228),supplyDefaults:r(15899),crossTraceDefaults:r(36411).crossTraceDefaults,supplyLayoutDefaults:r(33598),calc:r(38603),crossTraceCalc:r(86403),plot:r(28443),style:r(31847),styleOnSelect:r(16296).styleOnSelect,hoverPoints:r(57634),selectPoints:r(24626),moduleType:"trace",name:"violin",basePlotModule:r(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(ae,B,r){"use strict";var D=r(40094),E=r(71828).extendFlat;ae.exports={violinmode:E({},D.boxmode,{}),violingap:E({},D.boxgap,{}),violingroupgap:E({},D.boxgroupgap,{})}},33598:function(ae,B,r){"use strict";var D=r(71828),E=r(9228),d=r(4199);ae.exports=function(S,M,v){d._supply(S,M,v,function(u,i){return D.coerce(S,M,E,u,i)},"violin")}},28443:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424),S=r(86047),M=r(34621),v=r(60168);ae.exports=function(u,i,s,a){var o=u._context.staticPlot,l=u._fullLayout,c=i.xaxis,f=i.yaxis;function g(h,T){var x=M(h,{xaxis:c,yaxis:f,trace:T,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return d.smoothopen(x[0],1)}E.makeTraceGroups(a,s,"trace violins").each(function(h){var T=D.select(this),x=h[0],m=x.t,b=x.trace;if(!0!==b.visible||m.empty)T.remove();else{var _=m.bPos,w=m.bdPos,A=i[m.valLetter+"axis"],p=i[m.posLetter+"axis"],I="both"===b.side,k=I||"positive"===b.side,L=I||"negative"===b.side,O=T.selectAll("path.violin").data(E.identity);O.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","violin"),O.exit().remove(),O.each(function(H){var Z,$,se,ne,re,Q,ee,oe,ce=D.select(this),ue=H.density,he=ue.length,ve=p.c2l(H.pos+_,!0),ke=p.l2p(ve);if(b.width)Z=m.maxKDE/w;else{var Ie=l._violinScaleGroupStats[b.scalegroup];Z="count"===b.scalemode?Ie.maxKDE/w*(Ie.maxCount/H.pts.length):Ie.maxKDE/w}if(k){for(ee=new Array(he),re=0;re<he;re++)(oe=ee[re]={})[m.posLetter]=ve+ue[re].v/Z,oe[m.valLetter]=A.c2l(ue[re].t,!0);$=g(ee,b)}if(L){for(ee=new Array(he),Q=0,re=he-1;Q<he;Q++,re--)(oe=ee[Q]={})[m.posLetter]=ve-ue[re].v/Z,oe[m.valLetter]=A.c2l(ue[re].t,!0);se=g(ee,b)}if(I)ne=$+"L"+se.substr(1)+"Z";else{var Me=[ke,A.c2p(ue[0].t)],_e=[ke,A.c2p(ue[he-1].t)];"h"===b.orientation&&(Me.reverse(),_e.reverse()),ne=k?"M"+Me+"L"+$.substr(1)+"L"+_e:"M"+_e+"L"+se.substr(1)+"L"+Me}ce.attr("d",ne),H.posCenterPx=ke,H.posDensityScale=Z*w,H.path=ce.node(),H.pathLength=H.path.getTotalLength()/(I?2:1)});var P,F,j,X=b.box,N=X.width,q=(X.line||{}).width;I?(P=w*N,F=0):k?(P=[0,w*N/2],F=q*{x:1,y:-1}[m.posLetter]):(P=[w*N/2,0],F=q*{x:-1,y:1}[m.posLetter]),S.plotBoxAndWhiskers(T,{pos:p,val:A},b,{bPos:_,bdPos:P,bPosPxOffset:F}),S.plotBoxMean(T,{pos:p,val:A},b,{bPos:_,bdPos:P,bPosPxOffset:F}),!b.box.visible&&b.meanline.visible&&(j=E.identity);var G=T.selectAll("path.meanline").data(j||[]);G.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",o?"none":"non-scaling-stroke"),G.exit().remove(),G.each(function(H){var Z=A.c2p(H.mean,!0),$=v.getPositionOnKdePath(H,b,Z);D.select(this).attr("d","h"===b.orientation?"M"+Z+","+$[0]+"V"+$[1]:"M"+$[0]+","+Z+"H"+$[1])}),S.plotPoints(T,{x:c,y:f},b,m)}})}},31847:function(ae,B,r){"use strict";var D=r(39898),E=r(7901),d=r(16296).stylePoints;ae.exports=function(S){var M=D.select(S).selectAll("g.trace.violins");M.style("opacity",function(v){return v[0].trace.opacity}),M.each(function(v){var u=v[0].trace,i=D.select(this),s=u.box||{},a=s.line||{},o=u.meanline||{},l=o.width;i.selectAll("path.violin").style("stroke-width",u.line.width+"px").call(E.stroke,u.line.color).call(E.fill,u.fillcolor),i.selectAll("path.box").style("stroke-width",a.width+"px").call(E.stroke,a.color).call(E.fill,s.fillcolor);var c={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};i.selectAll("path.mean").style(c).call(E.stroke,o.color),i.selectAll("path.meanline").style(c).call(E.stroke,o.color),d(i,u,S)})}},16336:function(ae,B,r){"use strict";var D=r(50693),E=r(16249),d=r(54532),S=r(9012),M=r(1426).extendFlat,v=r(30962).overrideAll,u=ae.exports=v(M({x:E.x,y:E.y,z:E.z,value:E.value,isomin:E.isomin,isomax:E.isomax,surface:E.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:E.slices,caps:E.caps,text:E.text,hovertext:E.hovertext,xhoverformat:E.xhoverformat,yhoverformat:E.yhoverformat,zhoverformat:E.zhoverformat,valuehoverformat:E.valuehoverformat,hovertemplate:E.hovertemplate},D("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:E.colorbar,opacity:E.opacity,opacityscale:d.opacityscale,lightposition:E.lightposition,lighting:E.lighting,flatshading:E.flatshading,contour:E.contour,hoverinfo:M({},S.hoverinfo),showlegend:M({},S.showlegend,{dflt:!1})}),"calc","nested");u.x.editType=u.y.editType=u.z.editType=u.value.editType="calc+clearAxisTypes",u.transforms=void 0},64809:function(ae,B,r){"use strict";var D=r(9330).gl_mesh3d,E=r(81697).parseColorScale,d=r(78614),S=r(21081).extractOpts,M=r(90060),v=r(22674).findNearestOnAxis,u=r(22674).generateIsoMeshes;function i(a,o,l){this.scene=a,this.uid=l,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var s=i.prototype;s.handlePick=function(a){if(a.object===this.mesh){var o=a.data.index,c=this.data._meshY[o],f=this.data._meshZ[o],g=this.data._Ys.length,h=this.data._Zs.length,T=v(this.data._meshX[o],this.data._Xs).id,x=v(c,this.data._Ys).id,m=v(f,this.data._Zs).id,b=a.index=m+h*x+h*g*T;a.traceCoordinate=[this.data._meshX[b],this.data._meshY[b],this.data._meshZ[b],this.data._value[b]];var _=this.data.hovertext||this.data.text;return Array.isArray(_)&&void 0!==_[b]?a.textLabel=_[b]:_&&(a.textLabel=_),!0}},s.update=function(a){var o=this.scene,l=o.fullSceneLayout;function c(h,T,x,m){return T.map(function(b){return h.d2l(b,0,m)*x})}this.data=u(a);var f={positions:M(c(l.xaxis,a._meshX,o.dataScale[0],a.xcalendar),c(l.yaxis,a._meshY,o.dataScale[1],a.ycalendar),c(l.zaxis,a._meshZ,o.dataScale[2],a.zcalendar)),cells:M(a._meshI,a._meshJ,a._meshK),lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,opacityscale:a.opacityscale,contourEnable:a.contour.show,contourColor:d(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},g=S(a);f.vertexIntensity=a._meshIntensity,f.vertexIntensityBounds=[g.min,g.max],f.colormap=E(a),this.mesh.update(f)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},ae.exports=function(a,o){var c=D({gl:a.glplot.gl}),f=new i(a,c,o.uid);return c._trace=f,f.update(o),a.glplot.add(c),f}},47651:function(ae,B,r){"use strict";var D=r(71828),E=r(16336),d=r(82738).supplyIsoDefaults,S=r(91831).opacityscaleDefaults;ae.exports=function(M,v,u,i){function s(a,o){return D.coerce(M,v,E,a,o)}d(M,v,u,i,s),S(M,v,i,s)}},17659:function(ae,B,r){"use strict";ae.exports={attributes:r(16336),supplyDefaults:r(47651),calc:r(56959),colorbar:{min:"cmin",max:"cmax"},plot:r(64809),moduleType:"trace",name:"volume",basePlotModule:r(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(ae,B,r){"use strict";var D=r(1486),E=r(82196).line,d=r(9012),S=r(12663).axisHoverFormat,M=r(5386).fF,v=r(5386).si,u=r(48334),i=r(1426).extendFlat,s=r(7901);function a(o){return{marker:{color:i({},D.marker.color,{arrayOk:!1,editType:"style"}),line:{color:i({},D.marker.line.color,{arrayOk:!1,editType:"style"}),width:i({},D.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}ae.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:D.x,x0:D.x0,dx:D.dx,y:D.y,y0:D.y0,dy:D.dy,xperiod:D.xperiod,yperiod:D.yperiod,xperiod0:D.xperiod0,yperiod0:D.yperiod0,xperiodalignment:D.xperiodalignment,yperiodalignment:D.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),hovertext:D.hovertext,hovertemplate:M({},{keys:u.eventDataKeys}),hoverinfo:i({},d.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:u.eventDataKeys.concat(["label"])}),text:D.text,textposition:D.textposition,insidetextanchor:D.insidetextanchor,textangle:D.textangle,textfont:D.textfont,insidetextfont:D.insidetextfont,outsidetextfont:D.outsidetextfont,constraintext:D.constraintext,cliponaxis:D.cliponaxis,orientation:D.orientation,offset:D.offset,width:D.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:i({},E.color,{dflt:s.defaultLine}),width:i({},E.width,{editType:"plot"}),dash:E.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:D.offsetgroup,alignmentgroup:D.alignmentgroup}},52752:function(ae,B,r){"use strict";var D=r(89298),E=r(42973),d=r(71828).mergeArray,S=r(66279),M=r(50606).BADNUM;function v(i){return"a"===i||"absolute"===i}function u(i){return"t"===i||"total"===i}ae.exports=function(i,s){var a,o,l,c,f,g,h=D.getFromId(i,s.xaxis||"x"),T=D.getFromId(i,s.yaxis||"y");"h"===s.orientation?(a=h.makeCalcdata(s,"x"),l=T.makeCalcdata(s,"y"),c=E(s,T,"y",l),f=!!s.yperiodalignment,g="y"):(a=T.makeCalcdata(s,"y"),l=h.makeCalcdata(s,"x"),c=E(s,h,"x",l),f=!!s.xperiodalignment,g="x"),o=c.vals;for(var x,m=Math.min(o.length,a.length),b=new Array(m),_=0,w=!1,A=0;A<m;A++){var p=a[A]||0,I=!1;(a[A]!==M||u(s.measure[A])||v(s.measure[A]))&&A+1<m&&(a[A+1]!==M||u(s.measure[A+1])||v(s.measure[A+1]))&&(I=!0);var k=b[A]={i:A,p:o[A],s:p,rawS:p,cNext:I};v(s.measure[A])?(_=k.s,k.isSum=!0,k.dir="totals",k.s=_):u(s.measure[A])?(k.isSum=!0,k.dir="totals",k.s=_):(k.isSum=!1,k.dir=k.rawS<0?"decreasing":"increasing",k.s=_+(x=k.s),_+=x),"totals"===k.dir&&(w=!0),f&&(b[A].orig_p=l[A],b[A][g+"End"]=c.ends[A],b[A][g+"Start"]=c.starts[A]),s.ids&&(k.id=String(s.ids[A])),k.v=(s.base||0)+_}return b.length&&(b[0].hasTotals=w),d(s.text,b,"tx"),d(s.hovertext,b,"htx"),S(b,s),b}},48334:function(ae){"use strict";ae.exports={eventDataKeys:["initial","delta","final"]}},70766:function(ae,B,r){"use strict";var D=r(11661).setGroupPositions;ae.exports=function(E,d){var S,M,v=E._fullLayout,u=E._fullData,i=E.calcdata,s=d.xaxis,a=d.yaxis,o=[],l=[],c=[];for(M=0;M<u.length;M++){var f=u[M];!0===f.visible&&f.xaxis===s._id&&f.yaxis===a._id&&"waterfall"===f.type&&(S=i[M],"h"===f.orientation?c.push(S):l.push(S),o.push(S))}var g={mode:v.waterfallmode,norm:v.waterfallnorm,gap:v.waterfallgap,groupgap:v.waterfallgroupgap};for(D(E,s,a,l,g),D(E,a,s,c,g),M=0;M<o.length;M++){S=o[M];for(var h=0;h<S.length;h++){var T=S[h];!1===T.isSum&&(T.s0+=0===h?0:S[h-1].s),h+1<S.length&&(S[h].nextP0=S[h+1].p0,S[h].nextS0=S[h+1].s0)}}}},83266:function(ae,B,r){"use strict";var D=r(71828),E=r(26125),d=r(90769).handleText,S=r(67513),M=r(73927),v=r(43037),u=r(7901),i=r(22372),s=i.INCREASING.COLOR,a=i.DECREASING.COLOR;function o(l,c,f){l(c+".marker.color",f),l(c+".marker.line.color",u.defaultLine),l(c+".marker.line.width")}ae.exports={supplyDefaults:function(l,c,f,g){function h(x,m){return D.coerce(l,c,v,x,m)}if(S(l,c,g,h)){M(l,c,g,h),h("xhoverformat"),h("yhoverformat"),h("measure"),h("orientation",c.x&&!c.y?"h":"v"),h("base"),h("offset"),h("width"),h("text"),h("hovertext"),h("hovertemplate");var T=h("textposition");d(l,c,g,h,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),"none"!==c.textposition&&(h("texttemplate"),c.texttemplate||h("textinfo")),o(h,"increasing",s),o(h,"decreasing",a),o(h,"totals","#4499FF"),h("connector.visible")&&(h("connector.mode"),h("connector.line.width")&&(h("connector.line.color"),h("connector.line.dash")))}else c.visible=!1},crossTraceDefaults:function(l,c){var f,g;function h(x){return D.coerce(g._input,g,v,x)}if("group"===c.waterfallmode)for(var T=0;T<l.length;T++)f=(g=l[T])._input,E(f,g,c,h)}}},58593:function(ae){"use strict";ae.exports=function(B,r){return B.x="xVal"in r?r.xVal:r.x,B.y="yVal"in r?r.yVal:r.y,"initial"in r&&(B.initial=r.initial),"delta"in r&&(B.delta=r.delta),"final"in r&&(B.final=r.final),r.xa&&(B.xaxis=r.xa),r.ya&&(B.yaxis=r.ya),B}},61326:function(ae,B,r){"use strict";var D=r(89298).hoverLabelText,E=r(7901).opacity,d=r(95423).hoverOnBars,S=r(22372),M=S.INCREASING.SYMBOL,v=S.DECREASING.SYMBOL;ae.exports=function(u,i,s,a,o){var P,F,j,X,l=d(u,i,s,a,o);if(l){var c=l.cd,f=c[0].trace,g="h"===f.orientation,h=g?"x":"y",T=g?u.xa:u.ya,x=c[l.index],m=x.isSum?x.b+x.s:x.rawS;l.initial=x.b+x.s-m,l.delta=m,l.final=l.initial+l.delta;var b=k(Math.abs(l.delta));l.deltaLabel=m<0?"("+b+")":b,l.finalLabel=k(l.final),l.initialLabel=k(l.initial);var _=x.hi||f.hoverinfo,w=[];if(_&&"none"!==_&&"skip"!==_){var A="all"===_,p=_.split("+"),I=function(L){return A||-1!==p.indexOf(L)};x.isSum||(!I("final")||I(g?"x":"y")||w.push(l.finalLabel),I("delta")&&w.push(m<0?l.deltaLabel+" "+v:l.deltaLabel+" "+M),I("initial")&&w.push("Initial: "+l.initialLabel))}return w.length&&(l.extraText=w.join("<br>")),l.color=(j=(P=f[x.dir].marker).line.color,X=P.line.width,E(F=P.color)?F:E(j)&&X?j:void 0),[l]}function k(L){return D(T,L,f[h+"hoverformat"])}}},19990:function(ae,B,r){"use strict";ae.exports={attributes:r(43037),layoutAttributes:r(13494),supplyDefaults:r(83266).supplyDefaults,crossTraceDefaults:r(83266).crossTraceDefaults,supplyLayoutDefaults:r(5176),calc:r(52752),crossTraceCalc:r(70766),plot:r(30436),style:r(55750).style,hoverPoints:r(61326),eventData:r(58593),selectPoints:r(81974),moduleType:"trace",name:"waterfall",basePlotModule:r(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(ae){"use strict";ae.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(ae,B,r){"use strict";var D=r(71828),E=r(13494);ae.exports=function(d,S,M){var v=!1;function u(a,o){return D.coerce(d,S,E,a,o)}for(var i=0;i<M.length;i++){var s=M[i];if(s.visible&&"waterfall"===s.type){v=!0;break}}v&&(u("waterfallmode"),u("waterfallgap",.2),u("waterfallgroupgap"))}},30436:function(ae,B,r){"use strict";var D=r(39898),E=r(71828),d=r(91424),S=r(50606).BADNUM,M=r(17295),v=r(72597).clearMinTextSize;ae.exports=function(u,i,s,a){var l,c,h,T,o=u._fullLayout;v("waterfall",o),M.plot(u,i,s,a,{mode:o.waterfallmode,norm:o.waterfallmode,gap:o.waterfallgap,groupgap:o.waterfallgroupgap}),l=u,h=(c=i).xaxis,T=c.yaxis,E.makeTraceGroups(a,s,"trace bars").each(function(x){var m=D.select(this),b=x[0].trace,_=E.ensureSingle(m,"g","lines");if(b.connector&&b.connector.visible){var w="h"===b.orientation,A=b.connector.mode,p=_.selectAll("g.line").data(E.identity);p.enter().append("g").classed("line",!0),p.exit().remove();var I=p.size();p.each(function(k,L){if(L===I-1||k.cNext){var O=(N=h,q=T,Z=[],se=(G=w)?q:N,(H=[])[0]=($=G?N:q).c2p((X=k).s0,!0),Z[0]=se.c2p(X.p0,!0),H[1]=$.c2p(X.s1,!0),Z[1]=se.c2p(X.p1,!0),H[2]=$.c2p(X.nextS0,!0),Z[2]=se.c2p(X.nextP0,!0),G?[H,Z]:[Z,H]),P=O[0],F=O[1],j="";P[0]!==S&&F[0]!==S&&P[1]!==S&&F[1]!==S&&("spanning"===A&&!k.isSum&&L>0&&(j+=w?"M"+P[0]+","+F[1]+"V"+F[0]:"M"+P[1]+","+F[0]+"H"+P[0]),"between"!==A&&(k.isSum||L<I-1)&&(j+=w?"M"+P[1]+","+F[0]+"V"+F[1]:"M"+P[0]+","+F[1]+"H"+P[1]),P[2]!==S&&F[2]!==S&&(j+=w?"M"+P[1]+","+F[1]+"V"+F[2]:"M"+P[1]+","+F[1]+"H"+P[2])),""===j&&(j="M0,0Z"),E.ensureSingle(D.select(this),"path").attr("d",j).call(d.setClipUrl,c.layerClipId,l)}var X,N,q,G,H,Z,$,se})}else _.remove()})}},55750:function(ae,B,r){"use strict";var D=r(39898),E=r(91424),d=r(7901),S=r(37822).DESELECTDIM,M=r(16688),v=r(72597).resizeText,u=M.styleTextPoints;ae.exports={style:function(i,s,a){var o=a||D.select(i).selectAll("g.waterfalllayer").selectAll("g.trace");v(i,o,"waterfall"),o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var c=D.select(this),f=l[0].trace;c.selectAll(".point > path").each(function(g){if(!g.isBlank){var h=f[g.dir].marker;D.select(this).call(d.fill,h.color).call(d.stroke,h.line.color).call(E.dashLine,h.line.dash,h.line.width).style("opacity",f.selectedpoints&&!g.selected?S:1)}}),u(c,f,i),c.selectAll(".lines").each(function(){var g=f.connector.line;E.lineGroupStyle(D.select(this).selectAll("path"),g.width,g.color,g.dash)})})}}},82887:function(ae,B,r){"use strict";var D=r(89298),E=r(71828),d=r(86281),S=r(79344).p,M=r(50606).BADNUM;B.moduleType="transform",B.name="aggregate";var v=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},u=v.aggregations;function i(l,c,f,g){if(g.enabled){for(var h=g.target,T=E.nestedProperty(c,h),x=T.get(),m=function(w,A){var I=A.d2c,k=A.c2d;switch(w.func){case"count":return s;case"first":return a;case"last":return o;case"sum":return function(L,O){for(var P=0,F=0;F<O.length;F++){var j=I(L[O[F]]);j!==M&&(P+=j)}return k(P)};case"avg":return function(L,O){for(var P=0,F=0,j=0;j<O.length;j++){var X=I(L[O[j]]);X!==M&&(P+=X,F++)}return F?k(P/F):M};case"min":return function(L,O){for(var P=1/0,F=0;F<O.length;F++){var j=I(L[O[F]]);j!==M&&(P=Math.min(P,j))}return P===1/0?M:k(P)};case"max":return function(L,O){for(var P=-1/0,F=0;F<O.length;F++){var j=I(L[O[F]]);j!==M&&(P=Math.max(P,j))}return P===-1/0?M:k(P)};case"range":return function(L,O){for(var P=1/0,F=-1/0,j=0;j<O.length;j++){var X=I(L[O[j]]);X!==M&&(P=Math.min(P,X),F=Math.max(F,X))}return F===-1/0||P===1/0?M:k(F-P)};case"change":return function(L,O){var P=I(L[O[0]]),F=I(L[O[O.length-1]]);return P===M||F===M?M:k(F-P)};case"median":return function(L,O){for(var P=[],F=0;F<O.length;F++){var j=I(L[O[F]]);j!==M&&P.push(j)}if(!P.length)return M;P.sort(E.sorterAsc);var X=(P.length-1)/2;return k((P[Math.floor(X)]+P[Math.ceil(X)])/2)};case"mode":return function(L,O){for(var P={},F=0,j=M,X=0;X<O.length;X++){var N=I(L[O[X]]);if(N!==M){var q=P[N]=(P[N]||0)+1;q>F&&(F=q,j=N)}}return F?k(j):M};case"rms":return function(L,O){for(var P=0,F=0,j=0;j<O.length;j++){var X=I(L[O[j]]);X!==M&&(P+=X*X,F++)}return F?k(Math.sqrt(P/F)):M};case"stddev":return function(L,O){var P,F=0,j=0,X=1,N=M;for(P=0;P<O.length&&N===M;P++)N=I(L[O[P]]);if(N===M)return M;for(;P<O.length;P++){var q=I(L[O[P]]);if(q!==M){var G=q-N;F+=G,j+=G*G,X++}}var H="sample"===w.funcmode?X-1:X;return H?Math.sqrt((j-F*F/X)/H):0}}}(g,D.getDataConversions(l,c,h,x)),b=new Array(f.length),_=0;_<f.length;_++)b[_]=m(x,f[_]);T.set(b),"count"===g.func&&E.pushUnique(c._arrayAttrs,h)}}function s(l,c){return c.length}function a(l,c){return l[c[0]]}function o(l,c){return l[c[c.length-1]]}B.supplyDefaults=function(l,c){var f,g={};function h(k,L){return E.coerce(l,g,v,k,L)}if(!h("enabled"))return g;var T=d.findArrayAttributes(c),x={};for(f=0;f<T.length;f++)x[T[f]]=1;var m=h("groups");if(!Array.isArray(m)){if(!x[m])return g.enabled=!1,g;x[m]=0}var b,_=l.aggregations||[],w=g.aggregations=new Array(_.length);function A(k,L){return E.coerce(_[f],b,u,k,L)}for(f=0;f<_.length;f++){b={_index:f};var p=A("target"),I=A("func");A("enabled")&&p&&(x[p]||"count"===I&&void 0===x[p])?("stddev"===I&&A("funcmode"),x[p]=0,w[f]=b):w[f]={enabled:!1,_index:f}}for(f=0;f<T.length;f++)x[T[f]]&&w.push({target:T[f],func:u.func.dflt,enabled:!0,_index:-1});return g},B.calcTransform=function(l,c,f){if(f.enabled){var g=f.groups,h=E.getTargetArray(c,{target:g});if(h){var T,x,m,_={},w={},A=[],p=S(c.transforms,f),I=h.length;for(c._length&&(I=Math.min(I,c._length)),T=0;T<I;T++)void 0===(m=_[x=h[T]])?(_[x]=A.length,A.push([T]),w[_[x]]=p(T)):(A[m].push(T),w[_[x]]=(w[_[x]]||[]).concat(p(T)));f._indexToPoints=w;var k=f.aggregations;for(T=0;T<k.length;T++)i(l,c,A,k[T]);"string"==typeof g&&i(l,c,A,{target:g,func:"first",enabled:!0}),c._length=A.length}}}},14382:function(ae,B,r){"use strict";var D=r(71828),E=r(73972),d=r(89298),S=r(79344).p,M=r(74808),v=M.COMPARISON_OPS,u=M.INTERVAL_OPS,i=M.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(u).concat(i),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(s){var a={};function o(f,g){return D.coerce(s,a,B.attributes,f,g)}if(o("enabled")){var l=o("target");if(D.isArrayOrTypedArray(l)&&0===l.length)return a.enabled=!1,a;o("preservegaps"),o("operation"),o("value");var c=E.getComponentMethod("calendars","handleDefaults");c(s,a,"valuecalendar",null),c(s,a,"targetcalendar",null)}return a},B.calcTransform=function(s,a,o){if(o.enabled){var l=D.getTargetArray(a,o);if(l){var c=o.target,f=l.length;a._length&&(f=Math.min(f,a._length));var g=o.targetcalendar,h=a._arrayAttrs,T=o.preservegaps;if("string"==typeof c){var x=D.nestedProperty(a,c+"calendar").get();x&&(g=x)}var m,b,_=function(O,P,F){var j=O.operation,X=O.value,N=Array.isArray(X);function q($){return-1!==$.indexOf(j)}var G,H=function($){return P($,0,O.valuecalendar)},Z=function($){return P($,0,F)};switch(q(v)?G=H(N?X[0]:X):q(u)?G=N?[H(X[0]),H(X[1])]:[H(X),H(X)]:q(i)&&(G=N?X.map(H):[H(X)]),j){case"=":return function($){return Z($)===G};case"!=":return function($){return Z($)!==G};case"<":return function($){return Z($)<G};case"<=":return function($){return Z($)<=G};case">":return function($){return Z($)>G};case">=":return function($){return Z($)>=G};case"[]":return function($){var se=Z($);return se>=G[0]&&se<=G[1]};case"()":return function($){var se=Z($);return se>G[0]&&se<G[1]};case"[)":return function($){var se=Z($);return se>=G[0]&&se<G[1]};case"(]":return function($){var se=Z($);return se>G[0]&&se<=G[1]};case"][":return function($){var se=Z($);return se<=G[0]||se>=G[1]};case")(":return function($){var se=Z($);return se<G[0]||se>G[1]};case"](":return function($){var se=Z($);return se<=G[0]||se>G[1]};case")[":return function($){var se=Z($);return se<G[0]||se>=G[1]};case"{}":return function($){return-1!==G.indexOf(Z($))};case"}{":return function($){return-1===G.indexOf(Z($))}}}(o,d.getDataToCoordFunc(s,a,c,l),g),w={},A={},p=0;T?(m=function(O){w[O.astr]=D.extendDeep([],O.get()),O.set(new Array(f))},b=function(O,P){var F=w[O.astr][P];O.get()[P]=F}):(m=function(O){w[O.astr]=D.extendDeep([],O.get()),O.set([])},b=function(O,P){var F=w[O.astr][P];O.get().push(F)}),L(m);for(var I=S(a.transforms,o),k=0;k<f;k++)_(l[k])?(L(b,k),A[p++]=I(k)):T&&p++;o._indexToPoints=A,a._length=p}}function L(O,P){for(var F=0;F<h.length;F++)O(D.nestedProperty(a,h[F]),P)}}},43102:function(ae,B,r){"use strict";var D=r(71828),E=r(86281),d=r(74875),S=r(79344).p;function M(v,u){var i,s,a,o,l,c,f,g,h,T,x=u.transform,m=u.transformIndex,b=v.transforms[m].groups,_=S(v.transforms,x);if(!D.isArrayOrTypedArray(b)||0===b.length)return[v];var w=D.filterUnique(b),A=new Array(w.length),p=b.length,I=E.findArrayAttributes(v),k=x.styles||[],L={};for(i=0;i<k.length;i++)L[k[i].target]=k[i].value;x.styles&&(T=D.keyedContainer(x,"styles","target","value.name"));var O={},P={};for(i=0;i<w.length;i++){O[c=w[i]]=i,P[c]=0,(f=A[i]=D.extendDeepNoArrays({},v))._group=c,f.transforms[m]._indexToPoints={};var F=null;for(T&&(F=T.get(c)),f.name=F||""===F?F:D.templateString(x.nameformat,{trace:v.name,group:c}),g=f.transforms,f.transforms=[],s=0;s<g.length;s++)f.transforms[s]=D.extendDeepNoArrays({},g[s]);for(s=0;s<I.length;s++)D.nestedProperty(f,I[s]).set([])}for(a=0;a<I.length;a++){for(o=I[a],s=0,h=[];s<w.length;s++)h[s]=D.nestedProperty(A[s],o).get();for(l=D.nestedProperty(v,o).get(),s=0;s<p;s++)h[O[b[s]]].push(l[s])}for(s=0;s<p;s++)(f=A[O[b[s]]]).transforms[m]._indexToPoints[P[b[s]]]=_(s),P[b[s]]++;for(i=0;i<w.length;i++)c=w[i],d.clearExpandedTraceDefaultColors(f=A[i]),f=D.extendDeepNoArrays(f,L[c]||{});return A}B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(v,u,i){var s,a={};function o(h,T){return D.coerce(v,a,B.attributes,h,T)}if(!o("enabled"))return a;o("groups"),o("nameformat",i._dataLength>1?"%{group} (%{trace})":"%{group}");var l=v.styles,c=a.styles=[];if(l)for(s=0;s<l.length;s++){var f=c[s]={};D.coerce(l[s],c[s],B.attributes.styles,"target");var g=D.coerce(l[s],c[s],B.attributes.styles,"value");D.isPlainObject(g)?f.value=D.extendDeep({},g):g&&delete f.value}return a},B.transform=function(v,u){var i,s,a,o=[];for(s=0;s<v.length;s++)for(i=M(v[s],u),a=0;a<i.length;a++)o.push(i[a]);return o}},79344:function(ae,B){"use strict";B.p=function(r,D){for(var E,d,S=0;S<r.length&&(E=r[S])!==D;S++)E._indexToPoints&&!1!==E.enabled&&(d=E._indexToPoints);return d?function(v){return d[v]}:function(v){return[v]}}},32275:function(ae,B,r){"use strict";var D=r(71828),E=r(89298),d=r(79344).p,S=r(50606).BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(M){var v={};function u(i,s){return D.coerce(M,v,B.attributes,i,s)}return u("enabled")&&(u("target"),u("order")),v},B.calcTransform=function(M,v,u){if(u.enabled){var i=D.getTargetArray(v,u);if(i){var s=u.target,a=i.length;v._length&&(a=Math.min(a,v._length));var o,l,c=v._arrayAttrs,f=function(b,_,w,A){var p,I=new Array(A),k=new Array(A);for(p=0;p<A;p++)I[p]={v:_[p],i:p};for(I.sort(function(L,O){switch(L.order){case"ascending":return function(P,F){var j=O(P.v),X=O(F.v);return j===S?1:X===S?-1:j-X};case"descending":return function(P,F){var j=O(P.v),X=O(F.v);return j===S?1:X===S?-1:X-j}}}(b,w)),p=0;p<A;p++)k[p]=I[p].i;return k}(u,i,E.getDataToCoordFunc(M,v,s,i),a),g=d(v.transforms,u),h={};for(o=0;o<c.length;o++){var T=D.nestedProperty(v,c[o]),x=T.get(),m=new Array(a);for(l=0;l<a;l++)m[l]=x[f[l]];T.set(m)}for(l=0;l<a;l++)h[l]=g(f[l]);u._indexToPoints=h,v._length=a}}}},11506:function(ae,B){"use strict";B.version="2.26.0"},9330:function(ae,B,r){var D,E=r(90386);D=function(){return function(){var d={7386:function(v,u,i){v.exports={alpha_shape:i(2350),convex_hull:i(5537),delaunay_triangulate:i(4419),gl_cone3d:i(1140),gl_error3d:i(3110),gl_heatmap2d:i(6386),gl_line3d:i(6086),gl_mesh3d:i(8116),gl_plot2d:i(2117),gl_plot3d:i(1059),gl_pointcloud2d:i(8271),gl_scatter3d:i(2182),gl_select_box:i(6623),gl_spikes2d:i(3050),gl_streamtube3d:i(7307),gl_surface3d:i(3754),ndarray:i(5050),ndarray_linear_interpolate:i(3581)}},2146:function(v,u,i){"use strict";function a(xe,Oe){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ce,Be){return Ce.__proto__=Be,Ce})(xe,Oe)}function o(xe){if(void 0===xe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xe}function l(xe){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Oe){return Oe.__proto__||Object.getPrototypeOf(Oe)})(xe)}function c(xe){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Oe){return typeof Oe}:function(Oe){return Oe&&"function"==typeof Symbol&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe})(xe)}var f=i(3910),g=i(3187),h="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;u.lW=m,u.h2=50;var T=2147483647;function x(xe){if(xe>T)throw new RangeError('The value "'+xe+'" is invalid for option "size"');var Oe=new Uint8Array(xe);return Object.setPrototypeOf(Oe,m.prototype),Oe}function m(xe,Oe,Ce){if("number"==typeof xe){if("string"==typeof Oe)throw new TypeError('The "string" argument must be of type string. Received type number');return w(xe)}return b(xe,Oe,Ce)}function b(xe,Oe,Ce){if("string"==typeof xe)return function(He,Je){if("string"==typeof Je&&""!==Je||(Je="utf8"),!m.isEncoding(Je))throw new TypeError("Unknown encoding: "+Je);var et=0|k(He,Je),st=x(et),pt=st.write(He,Je);return pt!==et&&(st=st.slice(0,pt)),st}(xe,Oe);if(ArrayBuffer.isView(xe))return function(He){if(Te(He,Uint8Array)){var Je=new Uint8Array(He);return p(Je.buffer,Je.byteOffset,Je.byteLength)}return A(He)}(xe);if(null==xe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(xe));if(Te(xe,ArrayBuffer)||xe&&Te(xe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Te(xe,SharedArrayBuffer)||xe&&Te(xe.buffer,SharedArrayBuffer)))return p(xe,Oe,Ce);if("number"==typeof xe)throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=xe.valueOf&&xe.valueOf();if(null!=Be&&Be!==xe)return m.from(Be,Oe,Ce);var qe=function(He){if(m.isBuffer(He)){var Je=0|I(He.length),et=x(Je);return 0===et.length||He.copy(et,0,0,Je),et}return void 0!==He.length?"number"!=typeof He.length||Re(He.length)?x(0):A(He):"Buffer"===He.type&&Array.isArray(He.data)?A(He.data):void 0}(xe);if(qe)return qe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof xe[Symbol.toPrimitive])return m.from(xe[Symbol.toPrimitive]("string"),Oe,Ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(xe))}function _(xe){if("number"!=typeof xe)throw new TypeError('"size" argument must be of type number');if(xe<0)throw new RangeError('The value "'+xe+'" is invalid for option "size"')}function w(xe){return _(xe),x(xe<0?0:0|I(xe))}function A(xe){for(var Oe=xe.length<0?0:0|I(xe.length),Ce=x(Oe),Be=0;Be<Oe;Be+=1)Ce[Be]=255&xe[Be];return Ce}function p(xe,Oe,Ce){if(Oe<0||xe.byteLength<Oe)throw new RangeError('"offset" is outside of buffer bounds');if(xe.byteLength<Oe+(Ce||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return Be=void 0===Oe&&void 0===Ce?new Uint8Array(xe):void 0===Ce?new Uint8Array(xe,Oe):new Uint8Array(xe,Oe,Ce),Object.setPrototypeOf(Be,m.prototype),Be}function I(xe){if(xe>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|xe}function k(xe,Oe){if(m.isBuffer(xe))return xe.length;if(ArrayBuffer.isView(xe)||Te(xe,ArrayBuffer))return xe.byteLength;if("string"!=typeof xe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(xe));var Ce=xe.length,Be=arguments.length>2&&!0===arguments[2];if(!Be&&0===Ce)return 0;for(var qe=!1;;)switch(Oe){case"ascii":case"latin1":case"binary":return Ce;case"utf8":case"utf-8":return me(xe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Ce;case"hex":return Ce>>>1;case"base64":return fe(xe).length;default:if(qe)return Be?-1:me(xe).length;Oe=(""+Oe).toLowerCase(),qe=!0}}function L(xe,Oe,Ce){var Be=!1;if((void 0===Oe||Oe<0)&&(Oe=0),Oe>this.length||((void 0===Ce||Ce>this.length)&&(Ce=this.length),Ce<=0)||(Ce>>>=0)<=(Oe>>>=0))return"";for(xe||(xe="utf8");;)switch(xe){case"hex":return re(this,Oe,Ce);case"utf8":case"utf-8":return Z(this,Oe,Ce);case"ascii":return se(this,Oe,Ce);case"latin1":case"binary":return ne(this,Oe,Ce);case"base64":return H(this,Oe,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,Oe,Ce);default:if(Be)throw new TypeError("Unknown encoding: "+xe);xe=(xe+"").toLowerCase(),Be=!0}}function O(xe,Oe,Ce){var Be=xe[Oe];xe[Oe]=xe[Ce],xe[Ce]=Be}function P(xe,Oe,Ce,Be,qe){if(0===xe.length)return-1;if("string"==typeof Ce?(Be=Ce,Ce=0):Ce>2147483647?Ce=2147483647:Ce<-2147483648&&(Ce=-2147483648),Re(Ce=+Ce)&&(Ce=qe?0:xe.length-1),Ce<0&&(Ce=xe.length+Ce),Ce>=xe.length){if(qe)return-1;Ce=xe.length-1}else if(Ce<0){if(!qe)return-1;Ce=0}if("string"==typeof Oe&&(Oe=m.from(Oe,Be)),m.isBuffer(Oe))return 0===Oe.length?-1:F(xe,Oe,Ce,Be,qe);if("number"==typeof Oe)return Oe&=255,"function"==typeof Uint8Array.prototype.indexOf?qe?Uint8Array.prototype.indexOf.call(xe,Oe,Ce):Uint8Array.prototype.lastIndexOf.call(xe,Oe,Ce):F(xe,[Oe],Ce,Be,qe);throw new TypeError("val must be string, number or Buffer")}function F(xe,Oe,Ce,Be,qe){var He,Je=1,et=xe.length,st=Oe.length;if(void 0!==Be&&("ucs2"===(Be=String(Be).toLowerCase())||"ucs-2"===Be||"utf16le"===Be||"utf-16le"===Be)){if(xe.length<2||Oe.length<2)return-1;Je=2,et/=2,st/=2,Ce/=2}function pt(vt,gt){return 1===Je?vt[gt]:vt.readUInt16BE(gt*Je)}if(qe){var ct=-1;for(He=Ce;He<et;He++)if(pt(xe,He)===pt(Oe,-1===ct?0:He-ct)){if(-1===ct&&(ct=He),He-ct+1===st)return ct*Je}else-1!==ct&&(He-=He-ct),ct=-1}else for(Ce+st>et&&(Ce=et-st),He=Ce;He>=0;He--){for(var St=!0,Dt=0;Dt<st;Dt++)if(pt(xe,He+Dt)!==pt(Oe,Dt)){St=!1;break}if(St)return He}return-1}function j(xe,Oe,Ce,Be){Ce=Number(Ce)||0;var qe=xe.length-Ce;Be?(Be=Number(Be))>qe&&(Be=qe):Be=qe;var He,Je=Oe.length;for(Be>Je/2&&(Be=Je/2),He=0;He<Be;++He){var et=parseInt(Oe.substr(2*He,2),16);if(Re(et))return He;xe[Ce+He]=et}return He}function X(xe,Oe,Ce,Be){return le(me(Oe,xe.length-Ce),xe,Ce,Be)}function N(xe,Oe,Ce,Be){return le(function(qe){for(var He=[],Je=0;Je<qe.length;++Je)He.push(255&qe.charCodeAt(Je));return He}(Oe),xe,Ce,Be)}function q(xe,Oe,Ce,Be){return le(fe(Oe),xe,Ce,Be)}function G(xe,Oe,Ce,Be){return le(function(qe,He){for(var Je,et,pt=[],ct=0;ct<qe.length&&!((He-=2)<0);++ct)et=(Je=qe.charCodeAt(ct))>>8,pt.push(Je%256),pt.push(et);return pt}(Oe,xe.length-Ce),xe,Ce,Be)}function H(xe,Oe,Ce){return f.fromByteArray(0===Oe&&Ce===xe.length?xe:xe.slice(Oe,Ce))}function Z(xe,Oe,Ce){Ce=Math.min(xe.length,Ce);for(var Be=[],qe=Oe;qe<Ce;){var He=xe[qe],Je=null,et=He>239?4:He>223?3:He>191?2:1;if(qe+et<=Ce){var st=void 0,pt=void 0,ct=void 0,St=void 0;switch(et){case 1:He<128&&(Je=He);break;case 2:128==(192&(st=xe[qe+1]))&&(St=(31&He)<<6|63&st)>127&&(Je=St);break;case 3:pt=xe[qe+2],128==(192&(st=xe[qe+1]))&&128==(192&pt)&&(St=(15&He)<<12|(63&st)<<6|63&pt)>2047&&(St<55296||St>57343)&&(Je=St);break;case 4:pt=xe[qe+2],ct=xe[qe+3],128==(192&(st=xe[qe+1]))&&128==(192&pt)&&128==(192&ct)&&(St=(15&He)<<18|(63&st)<<12|(63&pt)<<6|63&ct)>65535&&St<1114112&&(Je=St)}}null===Je?(Je=65533,et=1):Je>65535&&(Be.push((Je-=65536)>>>10&1023|55296),Je=56320|1023&Je),Be.push(Je),qe+=et}return function(Dt){var vt=Dt.length;if(vt<=$)return String.fromCharCode.apply(String,Dt);for(var gt="",Et=0;Et<vt;)gt+=String.fromCharCode.apply(String,Dt.slice(Et,Et+=$));return gt}(Be)}(m.TYPED_ARRAY_SUPPORT=function(){try{var xe=new Uint8Array(1),Oe={foo:function(){return 42}};return Object.setPrototypeOf(Oe,Uint8Array.prototype),Object.setPrototypeOf(xe,Oe),42===xe.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(xe,Oe,Ce){return b(xe,Oe,Ce)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(xe,Oe,Ce){return qe=Oe,He=Ce,_(Be=xe),Be<=0?x(Be):void 0!==qe?"string"==typeof He?x(Be).fill(qe,He):x(Be).fill(qe):x(Be);var Be,qe,He},m.allocUnsafe=function(xe){return w(xe)},m.allocUnsafeSlow=function(xe){return w(xe)},m.isBuffer=function(xe){return null!=xe&&!0===xe._isBuffer&&xe!==m.prototype},m.compare=function(xe,Oe){if(Te(xe,Uint8Array)&&(xe=m.from(xe,xe.offset,xe.byteLength)),Te(Oe,Uint8Array)&&(Oe=m.from(Oe,Oe.offset,Oe.byteLength)),!m.isBuffer(xe)||!m.isBuffer(Oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(xe===Oe)return 0;for(var Ce=xe.length,Be=Oe.length,qe=0,He=Math.min(Ce,Be);qe<He;++qe)if(xe[qe]!==Oe[qe]){Ce=xe[qe],Be=Oe[qe];break}return Ce<Be?-1:Be<Ce?1:0},m.isEncoding=function(xe){switch(String(xe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(xe,Oe){if(!Array.isArray(xe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===xe.length)return m.alloc(0);var Ce;if(void 0===Oe)for(Oe=0,Ce=0;Ce<xe.length;++Ce)Oe+=xe[Ce].length;var Be=m.allocUnsafe(Oe),qe=0;for(Ce=0;Ce<xe.length;++Ce){var He=xe[Ce];if(Te(He,Uint8Array))qe+He.length>Be.length?(m.isBuffer(He)||(He=m.from(He)),He.copy(Be,qe)):Uint8Array.prototype.set.call(Be,He,qe);else{if(!m.isBuffer(He))throw new TypeError('"list" argument must be an Array of Buffers');He.copy(Be,qe)}qe+=He.length}return Be},m.byteLength=k,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var xe=this.length;if(xe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Oe=0;Oe<xe;Oe+=2)O(this,Oe,Oe+1);return this},m.prototype.swap32=function(){var xe=this.length;if(xe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Oe=0;Oe<xe;Oe+=4)O(this,Oe,Oe+3),O(this,Oe+1,Oe+2);return this},m.prototype.swap64=function(){var xe=this.length;if(xe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Oe=0;Oe<xe;Oe+=8)O(this,Oe,Oe+7),O(this,Oe+1,Oe+6),O(this,Oe+2,Oe+5),O(this,Oe+3,Oe+4);return this},m.prototype.toString=function(){var xe=this.length;return 0===xe?"":0===arguments.length?Z(this,0,xe):L.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(xe){if(!m.isBuffer(xe))throw new TypeError("Argument must be a Buffer");return this===xe||0===m.compare(this,xe)},m.prototype.inspect=function(){var xe="",Oe=u.h2;return xe=this.toString("hex",0,Oe).replace(/(.{2})/g,"$1 ").trim(),this.length>Oe&&(xe+=" ... "),"<Buffer "+xe+">"},h&&(m.prototype[h]=m.prototype.inspect),m.prototype.compare=function(xe,Oe,Ce,Be,qe){if(Te(xe,Uint8Array)&&(xe=m.from(xe,xe.offset,xe.byteLength)),!m.isBuffer(xe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(xe));if(void 0===Oe&&(Oe=0),void 0===Ce&&(Ce=xe?xe.length:0),void 0===Be&&(Be=0),void 0===qe&&(qe=this.length),Oe<0||Ce>xe.length||Be<0||qe>this.length)throw new RangeError("out of range index");if(Be>=qe&&Oe>=Ce)return 0;if(Be>=qe)return-1;if(Oe>=Ce)return 1;if(this===xe)return 0;for(var He=(qe>>>=0)-(Be>>>=0),Je=(Ce>>>=0)-(Oe>>>=0),et=Math.min(He,Je),st=this.slice(Be,qe),pt=xe.slice(Oe,Ce),ct=0;ct<et;++ct)if(st[ct]!==pt[ct]){He=st[ct],Je=pt[ct];break}return He<Je?-1:Je<He?1:0},m.prototype.includes=function(xe,Oe,Ce){return-1!==this.indexOf(xe,Oe,Ce)},m.prototype.indexOf=function(xe,Oe,Ce){return P(this,xe,Oe,Ce,!0)},m.prototype.lastIndexOf=function(xe,Oe,Ce){return P(this,xe,Oe,Ce,!1)},m.prototype.write=function(xe,Oe,Ce,Be){if(void 0===Oe)Be="utf8",Ce=this.length,Oe=0;else if(void 0===Ce&&"string"==typeof Oe)Be=Oe,Ce=this.length,Oe=0;else{if(!isFinite(Oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Oe>>>=0,isFinite(Ce)?(Ce>>>=0,void 0===Be&&(Be="utf8")):(Be=Ce,Ce=void 0)}var qe=this.length-Oe;if((void 0===Ce||Ce>qe)&&(Ce=qe),xe.length>0&&(Ce<0||Oe<0)||Oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var He=!1;;)switch(Be){case"hex":return j(this,xe,Oe,Ce);case"utf8":case"utf-8":return X(this,xe,Oe,Ce);case"ascii":case"latin1":case"binary":return N(this,xe,Oe,Ce);case"base64":return q(this,xe,Oe,Ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,xe,Oe,Ce);default:if(He)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),He=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;function se(xe,Oe,Ce){var Be="";Ce=Math.min(xe.length,Ce);for(var qe=Oe;qe<Ce;++qe)Be+=String.fromCharCode(127&xe[qe]);return Be}function ne(xe,Oe,Ce){var Be="";Ce=Math.min(xe.length,Ce);for(var qe=Oe;qe<Ce;++qe)Be+=String.fromCharCode(xe[qe]);return Be}function re(xe,Oe,Ce){var Be=xe.length;(!Oe||Oe<0)&&(Oe=0),(!Ce||Ce<0||Ce>Be)&&(Ce=Be);for(var qe="",He=Oe;He<Ce;++He)qe+=De[xe[He]];return qe}function Q(xe,Oe,Ce){for(var Be=xe.slice(Oe,Ce),qe="",He=0;He<Be.length-1;He+=2)qe+=String.fromCharCode(Be[He]+256*Be[He+1]);return qe}function ee(xe,Oe,Ce){if(xe%1!=0||xe<0)throw new RangeError("offset is not uint");if(xe+Oe>Ce)throw new RangeError("Trying to access beyond buffer length")}function oe(xe,Oe,Ce,Be,qe,He){if(!m.isBuffer(xe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Oe>qe||Oe<He)throw new RangeError('"value" argument is out of bounds');if(Ce+Be>xe.length)throw new RangeError("Index out of range")}function ce(xe,Oe,Ce,Be,qe){we(Oe,Be,qe,xe,Ce,7);var He=Number(Oe&BigInt(4294967295));xe[Ce++]=He,xe[Ce++]=He>>=8,xe[Ce++]=He>>=8,xe[Ce++]=He>>=8;var Je=Number(Oe>>BigInt(32)&BigInt(4294967295));return xe[Ce++]=Je,xe[Ce++]=Je>>=8,xe[Ce++]=Je>>=8,xe[Ce++]=Je>>=8,Ce}function ue(xe,Oe,Ce,Be,qe){we(Oe,Be,qe,xe,Ce,7);var He=Number(Oe&BigInt(4294967295));xe[Ce+7]=He,xe[Ce+6]=He>>=8,xe[Ce+5]=He>>=8,xe[Ce+4]=He>>=8;var Je=Number(Oe>>BigInt(32)&BigInt(4294967295));return xe[Ce+3]=Je,xe[Ce+2]=Je>>=8,xe[Ce+1]=Je>>=8,xe[Ce]=Je>>=8,Ce+8}function he(xe,Oe,Ce,Be,qe,He){if(Ce+Be>xe.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("Index out of range")}function ve(xe,Oe,Ce,Be,qe){return Oe=+Oe,Ce>>>=0,qe||he(xe,0,Ce,4),g.write(xe,Oe,Ce,Be,23,4),Ce+4}function ke(xe,Oe,Ce,Be,qe){return Oe=+Oe,Ce>>>=0,qe||he(xe,0,Ce,8),g.write(xe,Oe,Ce,Be,52,8),Ce+8}m.prototype.slice=function(xe,Oe){var Ce=this.length;(xe=~~xe)<0?(xe+=Ce)<0&&(xe=0):xe>Ce&&(xe=Ce),(Oe=void 0===Oe?Ce:~~Oe)<0?(Oe+=Ce)<0&&(Oe=0):Oe>Ce&&(Oe=Ce),Oe<xe&&(Oe=xe);var Be=this.subarray(xe,Oe);return Object.setPrototypeOf(Be,m.prototype),Be},m.prototype.readUintLE=m.prototype.readUIntLE=function(xe,Oe,Ce){xe>>>=0,Oe>>>=0,Ce||ee(xe,Oe,this.length);for(var Be=this[xe],qe=1,He=0;++He<Oe&&(qe*=256);)Be+=this[xe+He]*qe;return Be},m.prototype.readUintBE=m.prototype.readUIntBE=function(xe,Oe,Ce){xe>>>=0,Oe>>>=0,Ce||ee(xe,Oe,this.length);for(var Be=this[xe+--Oe],qe=1;Oe>0&&(qe*=256);)Be+=this[xe+--Oe]*qe;return Be},m.prototype.readUint8=m.prototype.readUInt8=function(xe,Oe){return xe>>>=0,Oe||ee(xe,1,this.length),this[xe]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,2,this.length),this[xe]|this[xe+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,2,this.length),this[xe]<<8|this[xe+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,4,this.length),(this[xe]|this[xe+1]<<8|this[xe+2]<<16)+16777216*this[xe+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,4,this.length),16777216*this[xe]+(this[xe+1]<<16|this[xe+2]<<8|this[xe+3])},m.prototype.readBigUInt64LE=Ue(function(xe){ze(xe>>>=0,"offset");var Oe=this[xe],Ce=this[xe+7];void 0!==Oe&&void 0!==Ce||Ee(xe,this.length-8);var Be=Oe+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,24),qe=this[++xe]+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+Ce*Math.pow(2,24);return BigInt(Be)+(BigInt(qe)<<BigInt(32))}),m.prototype.readBigUInt64BE=Ue(function(xe){ze(xe>>>=0,"offset");var Oe=this[xe],Ce=this[xe+7];void 0!==Oe&&void 0!==Ce||Ee(xe,this.length-8);var Be=Oe*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+this[++xe],qe=this[++xe]*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+Ce;return(BigInt(Be)<<BigInt(32))+BigInt(qe)}),m.prototype.readIntLE=function(xe,Oe,Ce){xe>>>=0,Oe>>>=0,Ce||ee(xe,Oe,this.length);for(var Be=this[xe],qe=1,He=0;++He<Oe&&(qe*=256);)Be+=this[xe+He]*qe;return Be>=(qe*=128)&&(Be-=Math.pow(2,8*Oe)),Be},m.prototype.readIntBE=function(xe,Oe,Ce){xe>>>=0,Oe>>>=0,Ce||ee(xe,Oe,this.length);for(var Be=Oe,qe=1,He=this[xe+--Be];Be>0&&(qe*=256);)He+=this[xe+--Be]*qe;return He>=(qe*=128)&&(He-=Math.pow(2,8*Oe)),He},m.prototype.readInt8=function(xe,Oe){return xe>>>=0,Oe||ee(xe,1,this.length),128&this[xe]?-1*(255-this[xe]+1):this[xe]},m.prototype.readInt16LE=function(xe,Oe){xe>>>=0,Oe||ee(xe,2,this.length);var Ce=this[xe]|this[xe+1]<<8;return 32768&Ce?4294901760|Ce:Ce},m.prototype.readInt16BE=function(xe,Oe){xe>>>=0,Oe||ee(xe,2,this.length);var Ce=this[xe+1]|this[xe]<<8;return 32768&Ce?4294901760|Ce:Ce},m.prototype.readInt32LE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,4,this.length),this[xe]|this[xe+1]<<8|this[xe+2]<<16|this[xe+3]<<24},m.prototype.readInt32BE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,4,this.length),this[xe]<<24|this[xe+1]<<16|this[xe+2]<<8|this[xe+3]},m.prototype.readBigInt64LE=Ue(function(xe){ze(xe>>>=0,"offset");var Oe=this[xe],Ce=this[xe+7];void 0!==Oe&&void 0!==Ce||Ee(xe,this.length-8);var Be=this[xe+4]+this[xe+5]*Math.pow(2,8)+this[xe+6]*Math.pow(2,16)+(Ce<<24);return(BigInt(Be)<<BigInt(32))+BigInt(Oe+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,24))}),m.prototype.readBigInt64BE=Ue(function(xe){ze(xe>>>=0,"offset");var Oe=this[xe],Ce=this[xe+7];void 0!==Oe&&void 0!==Ce||Ee(xe,this.length-8);var Be=(Oe<<24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+this[++xe];return(BigInt(Be)<<BigInt(32))+BigInt(this[++xe]*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+Ce)}),m.prototype.readFloatLE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,4,this.length),g.read(this,xe,!0,23,4)},m.prototype.readFloatBE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,4,this.length),g.read(this,xe,!1,23,4)},m.prototype.readDoubleLE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,8,this.length),g.read(this,xe,!0,52,8)},m.prototype.readDoubleBE=function(xe,Oe){return xe>>>=0,Oe||ee(xe,8,this.length),g.read(this,xe,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(xe,Oe,Ce,Be){xe=+xe,Oe>>>=0,Ce>>>=0,Be||oe(this,xe,Oe,Ce,Math.pow(2,8*Ce)-1,0);var qe=1,He=0;for(this[Oe]=255&xe;++He<Ce&&(qe*=256);)this[Oe+He]=xe/qe&255;return Oe+Ce},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(xe,Oe,Ce,Be){xe=+xe,Oe>>>=0,Ce>>>=0,Be||oe(this,xe,Oe,Ce,Math.pow(2,8*Ce)-1,0);var qe=Ce-1,He=1;for(this[Oe+qe]=255&xe;--qe>=0&&(He*=256);)this[Oe+qe]=xe/He&255;return Oe+Ce},m.prototype.writeUint8=m.prototype.writeUInt8=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,1,255,0),this[Oe]=255&xe,Oe+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,2,65535,0),this[Oe]=255&xe,this[Oe+1]=xe>>>8,Oe+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,2,65535,0),this[Oe]=xe>>>8,this[Oe+1]=255&xe,Oe+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,4,4294967295,0),this[Oe+3]=xe>>>24,this[Oe+2]=xe>>>16,this[Oe+1]=xe>>>8,this[Oe]=255&xe,Oe+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,4,4294967295,0),this[Oe]=xe>>>24,this[Oe+1]=xe>>>16,this[Oe+2]=xe>>>8,this[Oe+3]=255&xe,Oe+4},m.prototype.writeBigUInt64LE=Ue(function(xe){return ce(this,xe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Ue(function(xe){return ue(this,xe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(xe,Oe,Ce,Be){if(xe=+xe,Oe>>>=0,!Be){var qe=Math.pow(2,8*Ce-1);oe(this,xe,Oe,Ce,qe-1,-qe)}var He=0,Je=1,et=0;for(this[Oe]=255&xe;++He<Ce&&(Je*=256);)xe<0&&0===et&&0!==this[Oe+He-1]&&(et=1),this[Oe+He]=(xe/Je>>0)-et&255;return Oe+Ce},m.prototype.writeIntBE=function(xe,Oe,Ce,Be){if(xe=+xe,Oe>>>=0,!Be){var qe=Math.pow(2,8*Ce-1);oe(this,xe,Oe,Ce,qe-1,-qe)}var He=Ce-1,Je=1,et=0;for(this[Oe+He]=255&xe;--He>=0&&(Je*=256);)xe<0&&0===et&&0!==this[Oe+He+1]&&(et=1),this[Oe+He]=(xe/Je>>0)-et&255;return Oe+Ce},m.prototype.writeInt8=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,1,127,-128),xe<0&&(xe=255+xe+1),this[Oe]=255&xe,Oe+1},m.prototype.writeInt16LE=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,2,32767,-32768),this[Oe]=255&xe,this[Oe+1]=xe>>>8,Oe+2},m.prototype.writeInt16BE=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,2,32767,-32768),this[Oe]=xe>>>8,this[Oe+1]=255&xe,Oe+2},m.prototype.writeInt32LE=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,4,2147483647,-2147483648),this[Oe]=255&xe,this[Oe+1]=xe>>>8,this[Oe+2]=xe>>>16,this[Oe+3]=xe>>>24,Oe+4},m.prototype.writeInt32BE=function(xe,Oe,Ce){return xe=+xe,Oe>>>=0,Ce||oe(this,xe,Oe,4,2147483647,-2147483648),xe<0&&(xe=4294967295+xe+1),this[Oe]=xe>>>24,this[Oe+1]=xe>>>16,this[Oe+2]=xe>>>8,this[Oe+3]=255&xe,Oe+4},m.prototype.writeBigInt64LE=Ue(function(xe){return ce(this,xe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Ue(function(xe){return ue(this,xe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeFloatLE=function(xe,Oe,Ce){return ve(this,xe,Oe,!0,Ce)},m.prototype.writeFloatBE=function(xe,Oe,Ce){return ve(this,xe,Oe,!1,Ce)},m.prototype.writeDoubleLE=function(xe,Oe,Ce){return ke(this,xe,Oe,!0,Ce)},m.prototype.writeDoubleBE=function(xe,Oe,Ce){return ke(this,xe,Oe,!1,Ce)},m.prototype.copy=function(xe,Oe,Ce,Be){if(!m.isBuffer(xe))throw new TypeError("argument should be a Buffer");if(Ce||(Ce=0),Be||0===Be||(Be=this.length),Oe>=xe.length&&(Oe=xe.length),Oe||(Oe=0),Be>0&&Be<Ce&&(Be=Ce),Be===Ce||0===xe.length||0===this.length)return 0;if(Oe<0)throw new RangeError("targetStart out of bounds");if(Ce<0||Ce>=this.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),xe.length-Oe<Be-Ce&&(Be=xe.length-Oe+Ce);var qe=Be-Ce;return this===xe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(Oe,Ce,Be):Uint8Array.prototype.set.call(xe,this.subarray(Ce,Be),Oe),qe},m.prototype.fill=function(xe,Oe,Ce,Be){if("string"==typeof xe){if("string"==typeof Oe?(Be=Oe,Oe=0,Ce=this.length):"string"==typeof Ce&&(Be=Ce,Ce=this.length),void 0!==Be&&"string"!=typeof Be)throw new TypeError("encoding must be a string");if("string"==typeof Be&&!m.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);if(1===xe.length){var qe=xe.charCodeAt(0);("utf8"===Be&&qe<128||"latin1"===Be)&&(xe=qe)}}else"number"==typeof xe?xe&=255:"boolean"==typeof xe&&(xe=Number(xe));if(Oe<0||this.length<Oe||this.length<Ce)throw new RangeError("Out of range index");if(Ce<=Oe)return this;var He;if(Oe>>>=0,Ce=void 0===Ce?this.length:Ce>>>0,xe||(xe=0),"number"==typeof xe)for(He=Oe;He<Ce;++He)this[He]=xe;else{var Je=m.isBuffer(xe)?xe:m.from(xe,Be),et=Je.length;if(0===et)throw new TypeError('The value "'+xe+'" is invalid for argument "value"');for(He=0;He<Ce-Oe;++He)this[He+Oe]=Je[He%et]}return this};var Ie={};function Me(xe,Oe,Ce){Ie[xe]=function(Be){!function(ct,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function");ct.prototype=Object.create(St&&St.prototype,{constructor:{value:ct,writable:!0,configurable:!0}}),Object.defineProperty(ct,"prototype",{writable:!1}),St&&a(ct,St)}(pt,Be);var qe,He,Je,et,st=(Je=pt,et=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ct,St=l(Je);if(et){var Dt=l(this).constructor;ct=Reflect.construct(St,arguments,Dt)}else ct=St.apply(this,arguments);return function(vt,gt){if(gt&&("object"===c(gt)||"function"==typeof gt))return gt;if(void 0!==gt)throw new TypeError("Derived constructors may only return object or undefined");return o(vt)}(this,ct)});function pt(){var ct;return function(St,Dt){if(!(St instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,pt),ct=st.call(this),Object.defineProperty(o(ct),"message",{value:Oe.apply(o(ct),arguments),writable:!0,configurable:!0}),ct.name="".concat(ct.name," [").concat(xe,"]"),delete ct.name,ct}return qe=pt,(He=[{key:"code",get:function(){return xe},set:function(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(xe,"]: ").concat(this.message)}}])&&function s(xe,Oe){for(var Ce=0;Ce<Oe.length;Ce++){var Be=Oe[Ce];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(xe,Be.key,Be)}}(qe.prototype,He),Object.defineProperty(qe,"prototype",{writable:!1}),pt}(Ce)}function _e(xe){for(var Oe="",Ce=xe.length,Be="-"===xe[0]?1:0;Ce>=Be+4;Ce-=3)Oe="_".concat(xe.slice(Ce-3,Ce)).concat(Oe);return"".concat(xe.slice(0,Ce)).concat(Oe)}function we(xe,Oe,Ce,Be,qe,He){if(xe>Ce||xe<Oe){var Je,et="bigint"==typeof Oe?"n":"";throw Je=He>3?0===Oe||Oe===BigInt(0)?">= 0".concat(et," and < 2").concat(et," ** ").concat(8*(He+1)).concat(et):">= -(2".concat(et," ** ").concat(8*(He+1)-1).concat(et,") and < 2 ** ")+"".concat(8*(He+1)-1).concat(et):">= ".concat(Oe).concat(et," and <= ").concat(Ce).concat(et),new Ie.ERR_OUT_OF_RANGE("value",Je,xe)}var st,pt,ct;st=Be,ct=He,ze(pt=qe,"offset"),void 0!==st[pt]&&void 0!==st[pt+ct]||Ee(pt,st.length-(ct+1))}function ze(xe,Oe){if("number"!=typeof xe)throw new Ie.ERR_INVALID_ARG_TYPE(Oe,"number",xe)}function Ee(xe,Oe,Ce){throw Math.floor(xe)!==xe?(ze(xe,Ce),new Ie.ERR_OUT_OF_RANGE(Ce||"offset","an integer",xe)):Oe<0?new Ie.ERR_BUFFER_OUT_OF_BOUNDS:new Ie.ERR_OUT_OF_RANGE(Ce||"offset",">= ".concat(Ce?1:0," and <= ").concat(Oe),xe)}Me("ERR_BUFFER_OUT_OF_BOUNDS",function(xe){return xe?"".concat(xe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Me("ERR_INVALID_ARG_TYPE",function(xe,Oe){return'The "'.concat(xe,'" argument must be of type number. Received type ').concat(c(Oe))},TypeError),Me("ERR_OUT_OF_RANGE",function(xe,Oe,Ce){var Be='The value of "'.concat(xe,'" is out of range.'),qe=Ce;return Number.isInteger(Ce)&&Math.abs(Ce)>Math.pow(2,32)?qe=_e(String(Ce)):"bigint"==typeof Ce&&(qe=String(Ce),(Ce>Math.pow(BigInt(2),BigInt(32))||Ce<-Math.pow(BigInt(2),BigInt(32)))&&(qe=_e(qe)),qe+="n"),Be+" It must be ".concat(Oe,". Received ").concat(qe)},RangeError);var Se=/[^+/0-9A-Za-z-_]/g;function me(xe,Oe){var Ce;Oe=Oe||1/0;for(var Be=xe.length,qe=null,He=[],Je=0;Je<Be;++Je){if((Ce=xe.charCodeAt(Je))>55295&&Ce<57344){if(!qe){if(Ce>56319){(Oe-=3)>-1&&He.push(239,191,189);continue}if(Je+1===Be){(Oe-=3)>-1&&He.push(239,191,189);continue}qe=Ce;continue}if(Ce<56320){(Oe-=3)>-1&&He.push(239,191,189),qe=Ce;continue}Ce=65536+(qe-55296<<10|Ce-56320)}else qe&&(Oe-=3)>-1&&He.push(239,191,189);if(qe=null,Ce<128){if((Oe-=1)<0)break;He.push(Ce)}else if(Ce<2048){if((Oe-=2)<0)break;He.push(Ce>>6|192,63&Ce|128)}else if(Ce<65536){if((Oe-=3)<0)break;He.push(Ce>>12|224,Ce>>6&63|128,63&Ce|128)}else{if(!(Ce<1114112))throw new Error("Invalid code point");if((Oe-=4)<0)break;He.push(Ce>>18|240,Ce>>12&63|128,Ce>>6&63|128,63&Ce|128)}}return He}function fe(xe){return f.toByteArray(function(Oe){if((Oe=(Oe=Oe.split("=")[0]).trim().replace(Se,"")).length<2)return"";for(;Oe.length%4!=0;)Oe+="=";return Oe}(xe))}function le(xe,Oe,Ce,Be){var qe;for(qe=0;qe<Be&&!(qe+Ce>=Oe.length||qe>=xe.length);++qe)Oe[qe+Ce]=xe[qe];return qe}function Te(xe,Oe){return xe instanceof Oe||null!=xe&&null!=xe.constructor&&null!=xe.constructor.name&&xe.constructor.name===Oe.name}function Re(xe){return xe!=xe}var De=function(){for(var xe="0123456789abcdef",Oe=new Array(256),Ce=0;Ce<16;++Ce)for(var Be=16*Ce,qe=0;qe<16;++qe)Oe[Be+qe]=xe[Ce]+xe[qe];return Oe}();function Ue(xe){return typeof BigInt>"u"?Ze:xe}function Ze(){throw new Error("BigInt not supported")}},2321:function(v){"use strict";v.exports=a,v.exports.isMobile=a,v.exports.default=a;var u=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/CrOS/,s=/android|ipad|playbook|silk/i;function a(o){o||(o={});var l=o.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&"string"==typeof l.headers["user-agent"]&&(l=l.headers["user-agent"]),"string"!=typeof l)return!1;var c=u.test(l)&&!i.test(l)||!!o.tablet&&s.test(l);return!c&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==l.indexOf("Macintosh")&&-1!==l.indexOf("Safari")&&(c=!0),c}},3910:function(v,u){"use strict";u.byteLength=function(g){var h=c(g),x=h[1];return 3*(h[0]+x)/4-x},u.toByteArray=function(g){var h,T,k,x=c(g),m=x[0],b=x[1],_=new a(3*(m+(k=b))/4-k),w=0,A=b>0?m-4:m;for(T=0;T<A;T+=4)h=s[g.charCodeAt(T)]<<18|s[g.charCodeAt(T+1)]<<12|s[g.charCodeAt(T+2)]<<6|s[g.charCodeAt(T+3)],_[w++]=h>>16&255,_[w++]=h>>8&255,_[w++]=255&h;return 2===b&&(h=s[g.charCodeAt(T)]<<2|s[g.charCodeAt(T+1)]>>4,_[w++]=255&h),1===b&&(h=s[g.charCodeAt(T)]<<10|s[g.charCodeAt(T+1)]<<4|s[g.charCodeAt(T+2)]>>2,_[w++]=h>>8&255,_[w++]=255&h),_},u.fromByteArray=function(g){for(var h,T=g.length,x=T%3,m=[],b=16383,_=0,w=T-x;_<w;_+=b)m.push(f(g,_,_+b>w?w:_+b));return 1===x?m.push(i[(h=g[T-1])>>2]+i[h<<4&63]+"=="):2===x&&m.push(i[(h=(g[T-2]<<8)+g[T-1])>>10]+i[h>>4&63]+i[h<<2&63]+"="),m.join("")};for(var i=[],s=[],a=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)i[l]=o[l],s[o.charCodeAt(l)]=l;function c(g){var h=g.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=g.indexOf("=");return-1===T&&(T=h),[T,T===h?0:4-T%4]}function f(g,h,T){for(var m,b=[],_=h;_<T;_+=3)b.push(i[(m=(g[_]<<16&16711680)+(g[_+1]<<8&65280)+(255&g[_+2]))>>18&63]+i[m>>12&63]+i[m>>6&63]+i[63&m]);return b.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},3187:function(v,u){u.read=function(i,s,a,o,l){var c,f,g=8*l-o-1,h=(1<<g)-1,T=h>>1,x=-7,m=a?l-1:0,b=a?-1:1,_=i[s+m];for(m+=b,c=_&(1<<-x)-1,_>>=-x,x+=g;x>0;c=256*c+i[s+m],m+=b,x-=8);for(f=c&(1<<-x)-1,c>>=-x,x+=o;x>0;f=256*f+i[s+m],m+=b,x-=8);if(0===c)c=1-T;else{if(c===h)return f?NaN:1/0*(_?-1:1);f+=Math.pow(2,o),c-=T}return(_?-1:1)*f*Math.pow(2,c-o)},u.write=function(i,s,a,o,l,c){var f,g,h,T=8*c-l-1,x=(1<<T)-1,m=x>>1,b=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,_=o?0:c-1,w=o?1:-1,A=s<0||0===s&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(g=isNaN(s)?1:0,f=x):(f=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-f))<1&&(f--,h*=2),(s+=f+m>=1?b/h:b*Math.pow(2,1-m))*h>=2&&(f++,h/=2),f+m>=x?(g=0,f=x):f+m>=1?(g=(s*h-1)*Math.pow(2,l),f+=m):(g=s*Math.pow(2,m-1)*Math.pow(2,l),f=0));l>=8;i[a+_]=255&g,_+=w,g/=256,l-=8);for(f=f<<l|g,T+=l;T>0;i[a+_]=255&f,_+=w,f/=256,T-=8);i[a+_-w]|=128*A}},1152:function(v,u,i){"use strict";v.exports=function(f){var g=(f=f||{}).eye||[0,0,1],h=f.center||[0,0,0],T=f.up||[0,1,0],x=f.distanceLimits||[0,1/0],m=f.mode||"turntable",b=s(),_=a(),w=o();return b.setDistanceLimits(x[0],x[1]),b.lookAt(0,g,h,T),_.setDistanceLimits(x[0],x[1]),_.lookAt(0,g,h,T),w.setDistanceLimits(x[0],x[1]),w.lookAt(0,g,h,T),new l({turntable:b,orbit:_,matrix:w},m)};var s=i(3440),a=i(7774),o=i(9298);function l(f,g){this._controllerNames=Object.keys(f),this._controllerList=this._controllerNames.map(function(h){return f[h]}),this._mode=g,this._active=f[g],this._active||(this._mode="turntable",this._active=f.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=l.prototype;c.flush=function(f){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].flush(f)},c.idle=function(f){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].idle(f)},c.lookAt=function(f,g,h,T){for(var x=this._controllerList,m=0;m<x.length;++m)x[m].lookAt(f,g,h,T)},c.rotate=function(f,g,h,T){for(var x=this._controllerList,m=0;m<x.length;++m)x[m].rotate(f,g,h,T)},c.pan=function(f,g,h,T){for(var x=this._controllerList,m=0;m<x.length;++m)x[m].pan(f,g,h,T)},c.translate=function(f,g,h,T){for(var x=this._controllerList,m=0;m<x.length;++m)x[m].translate(f,g,h,T)},c.setMatrix=function(f,g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].setMatrix(f,g)},c.setDistanceLimits=function(f,g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].setDistanceLimits(f,g)},c.setDistance=function(f,g){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].setDistance(f,g)},c.recalcMatrix=function(f){this._active.recalcMatrix(f)},c.getDistance=function(f){return this._active.getDistance(f)},c.getDistanceLimits=function(f){return this._active.getDistanceLimits(f)},c.lastT=function(){return this._active.lastT()},c.setMode=function(f){if(f!==this._mode){var g=this._controllerNames.indexOf(f);if(!(g<0)){var h=this._active,T=this._controllerList[g],x=Math.max(h.lastT(),T.lastT());h.recalcMatrix(x),T.setMatrix(x,h.computedMatrix),this._active=T,this._mode=f,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode}},8126:function(v,u,i){"use strict";var s=typeof WeakMap>"u"?i(5346):WeakMap,a=i(5827),o=i(2944),l=new s;v.exports=function(c){var f=l.get(c),g=f&&(f._triangleBuffer.handle||f._triangleBuffer.buffer);if(!g||!c.isBuffer(g)){var h=a(c,new Float32Array([-1,-1,-1,4,4,-1]));(f=o(c,[{buffer:h,type:c.FLOAT,size:2}]))._triangleBuffer=h,l.set(c,f)}f.bind(),c.drawArrays(c.TRIANGLES,0,3),f.unbind()}},8008:function(v,u,i){var s=i(4930);v.exports=function(a,o,l){o="number"==typeof o?o:1,l=l||": ";var c=a.split(/\r?\n/),f=String(c.length+o-1).length;return c.map(function(g,h){var T=h+o,x=String(T).length;return s(T,f-x)+l+g}).join("\n")}},2153:function(v,u,i){"use strict";v.exports=function(o){var l=o.length;if(0===l)return[];if(1===l)return[0];for(var c=o[0].length,f=[o[0]],g=[0],h=1;h<l;++h)if(f.push(o[h]),a(f,c)){if(g.push(h),g.length===c+1)return g}else f.pop();return g};var s=i(417);function a(o,l){for(var c=new Array(l+1),f=0;f<o.length;++f)c[f]=o[f];for(f=0;f<=o.length;++f){for(var g=o.length;g<=l;++g){for(var h=new Array(l),T=0;T<l;++T)h[T]=Math.pow(g+1-f,T);c[g]=h}if(s.apply(void 0,c))return!0}return!1}},4653:function(v,u,i){"use strict";v.exports=function(o,l){return s(l).filter(function(c){for(var f=new Array(c.length),g=0;g<c.length;++g)f[g]=l[c[g]];return a(f)*o<1})};var s=i(4419),a=i(1778)},2350:function(v,u,i){v.exports=function(o,l){return a(s(o,l))};var s=i(4653),a=i(8691)},7896:function(v){v.exports=function(u){return atob(u)}},957:function(v,u,i){"use strict";v.exports=function(o,l){for(var c=l.length,f=new Array(c+1),g=0;g<c;++g){for(var h=new Array(c+1),T=0;T<=c;++T)h[T]=o[T][g];f[g]=h}for(f[c]=new Array(c+1),g=0;g<=c;++g)f[c][g]=1;var x=new Array(c+1);for(g=0;g<c;++g)x[g]=l[g];x[c]=1;var m=s(f,x),b=a(m[c+1]);0===b&&(b=1);var _=new Array(c+1);for(g=0;g<=c;++g)_[g]=a(m[g])/b;return _};var s=i(6606);function a(o){for(var l=0,c=0;c<o.length;++c)l+=o[c];return l}},1539:function(v,u,i){"use strict";var s=i(8524);v.exports=function(a,o){return s(a[0].mul(o[1]).add(o[0].mul(a[1])),a[1].mul(o[1]))}},8846:function(v){"use strict";v.exports=function(u,i){return u[0].mul(i[1]).cmp(i[0].mul(u[1]))}},9189:function(v,u,i){"use strict";var s=i(8524);v.exports=function(a,o){return s(a[0].mul(o[1]),a[1].mul(o[0]))}},5125:function(v,u,i){"use strict";var s=i(234),a=i(3218),o=i(5514),l=i(2813),c=i(8524),f=i(9189);v.exports=function g(h,T){if(s(h))return T?f(h,g(T)):[h[0].clone(),h[1].clone()];var x,m,b=0;if(a(h))x=h.clone();else if("string"==typeof h)x=l(h);else{if(0===h)return[o(0),o(1)];if(h===Math.floor(h))x=o(h);else{for(;h!==Math.floor(h);)h*=Math.pow(2,256),b-=256;x=o(h)}}if(s(T))x.mul(T[1]),m=T[0].clone();else if(a(T))m=T.clone();else if("string"==typeof T)m=l(T);else if(T)if(T===Math.floor(T))m=o(T);else{for(;T!==Math.floor(T);)T*=Math.pow(2,256),b+=256;m=o(T)}else m=o(1);return b>0?x=x.ushln(b):b<0&&(m=m.ushln(-b)),c(x,m)}},234:function(v,u,i){"use strict";var s=i(3218);v.exports=function(a){return Array.isArray(a)&&2===a.length&&s(a[0])&&s(a[1])}},4275:function(v,u,i){"use strict";var s=i(1928);v.exports=function(a){return a.cmp(new s(0))}},9958:function(v,u,i){"use strict";var s=i(4275);v.exports=function(a){var o=a.length,l=a.words,c=0;if(1===o)c=l[0];else if(2===o)c=l[0]+67108864*l[1];else for(var f=0;f<o;f++)c+=l[f]*Math.pow(67108864,f);return s(a)*c}},1112:function(v,u,i){"use strict";var s=i(8362),a=i(2288).countTrailingZeros;v.exports=function(o){var l=a(s.lo(o));if(l<32)return l;var c=a(s.hi(o));return c>20?52:c+32}},3218:function(v,u,i){"use strict";i(1928),v.exports=function(s){return s&&"object"==typeof s&&Boolean(s.words)}},5514:function(v,u,i){"use strict";var s=i(1928),a=i(8362);v.exports=function(o){var l=a.exponent(o);return l<52?new s(o):new s(o*Math.pow(2,52-l)).ushln(l-52)}},8524:function(v,u,i){"use strict";var s=i(5514),a=i(4275);v.exports=function(o,l){var c=a(o),f=a(l);if(0===c)return[s(0),s(1)];if(0===f)return[s(0),s(0)];f<0&&(o=o.neg(),l=l.neg());var g=o.gcd(l);return g.cmpn(1)?[o.div(g),l.div(g)]:[o,l]}},2813:function(v,u,i){"use strict";var s=i(1928);v.exports=function(a){return new s(a)}},3962:function(v,u,i){"use strict";var s=i(8524);v.exports=function(a,o){return s(a[0].mul(o[0]),a[1].mul(o[1]))}},4951:function(v,u,i){"use strict";var s=i(4275);v.exports=function(a){return s(a[0])*s(a[1])}},4354:function(v,u,i){"use strict";var s=i(8524);v.exports=function(a,o){return s(a[0].mul(o[1]).sub(a[1].mul(o[0])),a[1].mul(o[1]))}},7999:function(v,u,i){"use strict";var s=i(9958),a=i(1112);v.exports=function(o){var l=o[0],c=o[1];if(0===l.cmpn(0))return 0;var f=l.abs().divmod(c.abs()),h=s(f.div),T=f.mod,x=l.negative!==c.negative?-1:1;if(0===T.cmpn(0))return x*h;if(h){var m=a(h)+4;return x*(h+(_=s(T.ushln(m).divRound(c)))*Math.pow(2,-m))}var b=c.bitLength()-T.bitLength()+53,_=s(T.ushln(b).divRound(c));return b<1023?x*_*Math.pow(2,-b):x*(_*=Math.pow(2,-1023))*Math.pow(2,1023-b)}},5070:function(v){"use strict";function u(c,f,g,h,T){for(var x=T+1;h<=T;){var m=h+T>>>1,b=c[m];(void 0!==g?g(b,f):b-f)>=0?(x=m,T=m-1):h=m+1}return x}function i(c,f,g,h,T){for(var x=T+1;h<=T;){var m=h+T>>>1,b=c[m];(void 0!==g?g(b,f):b-f)>0?(x=m,T=m-1):h=m+1}return x}function s(c,f,g,h,T){for(var x=h-1;h<=T;){var m=h+T>>>1,b=c[m];(void 0!==g?g(b,f):b-f)<0?(x=m,h=m+1):T=m-1}return x}function a(c,f,g,h,T){for(var x=h-1;h<=T;){var m=h+T>>>1,b=c[m];(void 0!==g?g(b,f):b-f)<=0?(x=m,h=m+1):T=m-1}return x}function o(c,f,g,h,T){for(;h<=T;){var x=h+T>>>1,m=c[x],b=void 0!==g?g(m,f):m-f;if(0===b)return x;b<=0?h=x+1:T=x-1}return-1}function l(c,f,g,h,T,x){return"function"==typeof g?x(c,f,g,void 0===h?0:0|h,void 0===T?c.length-1:0|T):x(c,f,void 0,void 0===g?0:0|g,void 0===h?c.length-1:0|h)}v.exports={ge:function(c,f,g,h,T){return l(c,f,g,h,T,u)},gt:function(c,f,g,h,T){return l(c,f,g,h,T,i)},lt:function(c,f,g,h,T){return l(c,f,g,h,T,s)},le:function(c,f,g,h,T){return l(c,f,g,h,T,a)},eq:function(c,f,g,h,T){return l(c,f,g,h,T,o)}}},2288:function(v,u){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}u.INT_BITS=32,u.INT_MAX=2147483647,u.INT_MIN=-2147483648,u.sign=function(a){return(a>0)-(a<0)},u.abs=function(a){var o=a>>31;return(a^o)-o},u.min=function(a,o){return o^(a^o)&-(a<o)},u.max=function(a,o){return a^(a^o)&-(a<o)},u.isPow2=function(a){return!(a&a-1||!a)},u.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},u.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},u.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},u.countTrailingZeros=i,u.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},u.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},u.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,c=o,f=7;for(l>>>=1;l;l>>>=1)c<<=1,c|=1&l,--f;a[o]=c<<f&255}})(s),u.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},u.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},u.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},u.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},u.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},u.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},1928:function(v,u,i){!function(s,a){"use strict";function o(N,q){if(!N)throw new Error(q||"Assertion failed")}function l(N,q){N.super_=q;var G=function(){};G.prototype=q.prototype,N.prototype=new G,N.prototype.constructor=N}function c(N,q,G){if(c.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,null!==N&&("le"!==q&&"be"!==q||(G=q,q=10),this._init(N||0,q||10,G||"be"))}var f;"object"==typeof s?s.exports=c:a.BN=c,c.BN=c,c.wordSize=26;try{f=typeof window<"u"&&void 0!==window.Buffer?window.Buffer:i(6601).Buffer}catch{}function g(N,q){var G=N.charCodeAt(q);return G>=65&&G<=70?G-55:G>=97&&G<=102?G-87:G-48&15}function h(N,q,G){var H=g(N,G);return G-1>=q&&(H|=g(N,G-1)<<4),H}function T(N,q,G,H){for(var Z=0,$=Math.min(N.length,G),se=q;se<$;se++){var ne=N.charCodeAt(se)-48;Z*=H,Z+=ne>=49?ne-49+10:ne>=17?ne-17+10:ne}return Z}c.isBN=function(N){return N instanceof c||null!==N&&"object"==typeof N&&N.constructor.wordSize===c.wordSize&&Array.isArray(N.words)},c.max=function(N,q){return N.cmp(q)>0?N:q},c.min=function(N,q){return N.cmp(q)<0?N:q},c.prototype._init=function(N,q,G){if("number"==typeof N)return this._initNumber(N,q,G);if("object"==typeof N)return this._initArray(N,q,G);"hex"===q&&(q=16),o(q===(0|q)&&q>=2&&q<=36);var H=0;"-"===(N=N.toString().replace(/\s+/g,""))[0]&&(H++,this.negative=1),H<N.length&&(16===q?this._parseHex(N,H,G):(this._parseBase(N,q,H),"le"===G&&this._initArray(this.toArray(),q,G)))},c.prototype._initNumber=function(N,q,G){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(o(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),"le"===G&&this._initArray(this.toArray(),q,G)},c.prototype._initArray=function(N,q,G){if(o("number"==typeof N.length),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var Z,$,se=0;if("be"===G)for(H=N.length-1,Z=0;H>=0;H-=3)this.words[Z]|=($=N[H]|N[H-1]<<8|N[H-2]<<16)<<se&67108863,this.words[Z+1]=$>>>26-se&67108863,(se+=24)>=26&&(se-=26,Z++);else if("le"===G)for(H=0,Z=0;H<N.length;H+=3)this.words[Z]|=($=N[H]|N[H+1]<<8|N[H+2]<<16)<<se&67108863,this.words[Z+1]=$>>>26-se&67108863,(se+=24)>=26&&(se-=26,Z++);return this.strip()},c.prototype._parseHex=function(N,q,G){this.length=Math.ceil((N.length-q)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var Z,$=0,se=0;if("be"===G)for(H=N.length-1;H>=q;H-=2)Z=h(N,q,H)<<$,this.words[se]|=67108863&Z,$>=18?($-=18,this.words[se+=1]|=Z>>>26):$+=8;else for(H=(N.length-q)%2==0?q+1:q;H<N.length;H+=2)Z=h(N,q,H)<<$,this.words[se]|=67108863&Z,$>=18?($-=18,this.words[se+=1]|=Z>>>26):$+=8;this.strip()},c.prototype._parseBase=function(N,q,G){this.words=[0],this.length=1;for(var H=0,Z=1;Z<=67108863;Z*=q)H++;H--,Z=Z/q|0;for(var $=N.length-G,se=$%H,ne=Math.min($,$-se)+G,re=0,Q=G;Q<ne;Q+=H)re=T(N,Q,Q+H,q),this.imuln(Z),this.words[0]+re<67108864?this.words[0]+=re:this._iaddn(re);if(0!==se){var ee=1;for(re=T(N,Q,N.length,q),Q=0;Q<se;Q++)ee*=q;this.imuln(ee),this.words[0]+re<67108864?this.words[0]+=re:this._iaddn(re)}this.strip()},c.prototype.copy=function(N){N.words=new Array(this.length);for(var q=0;q<this.length;q++)N.words[q]=this.words[q];N.length=this.length,N.negative=this.negative,N.red=this.red},c.prototype.clone=function(){var N=new c(null);return this.copy(N),N},c.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},c.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function _(N,q,G){G.negative=q.negative^N.negative;var H=N.length+q.length|0;G.length=H,H=H-1|0;var Z=0|N.words[0],$=0|q.words[0],se=Z*$,re=se/67108864|0;G.words[0]=67108863&se;for(var Q=1;Q<H;Q++){for(var ee=re>>>26,oe=67108863&re,ce=Math.min(Q,q.length-1),ue=Math.max(0,Q-N.length+1);ue<=ce;ue++)ee+=(se=(Z=0|N.words[Q-ue|0])*($=0|q.words[ue])+oe)/67108864|0,oe=67108863&se;G.words[Q]=0|oe,re=0|ee}return 0!==re?G.words[Q]=0|re:G.length--,G.strip()}c.prototype.toString=function(N,q){var G;if(q=0|q||1,16===(N=N||10)||"hex"===N){G="";for(var H=0,Z=0,$=0;$<this.length;$++){var se=this.words[$],ne=(16777215&(se<<H|Z)).toString(16);G=0!=(Z=se>>>24-H&16777215)||$!==this.length-1?x[6-ne.length]+ne+G:ne+G,(H+=2)>=26&&(H-=26,$--)}for(0!==Z&&(G=Z.toString(16)+G);G.length%q!=0;)G="0"+G;return 0!==this.negative&&(G="-"+G),G}if(N===(0|N)&&N>=2&&N<=36){var re=m[N],Q=b[N];G="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var oe=ee.modn(Q).toString(N);G=(ee=ee.idivn(Q)).isZero()?oe+G:x[re-oe.length]+oe+G}for(this.isZero()&&(G="0"+G);G.length%q!=0;)G="0"+G;return 0!==this.negative&&(G="-"+G),G}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var N=this.words[0];return 2===this.length?N+=67108864*this.words[1]:3===this.length&&1===this.words[2]?N+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-N:N},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(N,q){return o(void 0!==f),this.toArrayLike(f,N,q)},c.prototype.toArray=function(N,q){return this.toArrayLike(Array,N,q)},c.prototype.toArrayLike=function(N,q,G){var H=this.byteLength(),Z=G||Math.max(1,H);o(H<=Z,"byte array longer than desired length"),o(Z>0,"Requested array length <= 0"),this.strip();var $,se,ne="le"===q,re=new N(Z),Q=this.clone();if(ne){for(se=0;!Q.isZero();se++)$=Q.andln(255),Q.iushrn(8),re[se]=$;for(;se<Z;se++)re[se]=0}else{for(se=0;se<Z-H;se++)re[se]=0;for(se=0;!Q.isZero();se++)$=Q.andln(255),Q.iushrn(8),re[Z-se-1]=$}return re},c.prototype._countBits=Math.clz32?function(N){return 32-Math.clz32(N)}:function(N){var q=N,G=0;return q>=4096&&(G+=13,q>>>=13),q>=64&&(G+=7,q>>>=7),q>=8&&(G+=4,q>>>=4),q>=2&&(G+=2,q>>>=2),G+q},c.prototype._zeroBits=function(N){if(0===N)return 26;var q=N,G=0;return!(8191&q)&&(G+=13,q>>>=13),!(127&q)&&(G+=7,q>>>=7),!(15&q)&&(G+=4,q>>>=4),!(3&q)&&(G+=2,q>>>=2),!(1&q)&&G++,G},c.prototype.bitLength=function(){var q=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+q},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,q=0;q<this.length;q++){var G=this._zeroBits(this.words[q]);if(N+=G,26!==G)break}return N},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(N){return 0!==this.negative?this.abs().inotn(N).iaddn(1):this.clone()},c.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return 0!==this.negative},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var q=0;q<N.length;q++)this.words[q]=this.words[q]|N.words[q];return this.strip()},c.prototype.ior=function(N){return o(0==(this.negative|N.negative)),this.iuor(N)},c.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},c.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},c.prototype.iuand=function(N){var q;q=this.length>N.length?N:this;for(var G=0;G<q.length;G++)this.words[G]=this.words[G]&N.words[G];return this.length=q.length,this.strip()},c.prototype.iand=function(N){return o(0==(this.negative|N.negative)),this.iuand(N)},c.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},c.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},c.prototype.iuxor=function(N){var q,G;this.length>N.length?(q=this,G=N):(q=N,G=this);for(var H=0;H<G.length;H++)this.words[H]=q.words[H]^G.words[H];if(this!==q)for(;H<q.length;H++)this.words[H]=q.words[H];return this.length=q.length,this.strip()},c.prototype.ixor=function(N){return o(0==(this.negative|N.negative)),this.iuxor(N)},c.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},c.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},c.prototype.inotn=function(N){o("number"==typeof N&&N>=0);var q=0|Math.ceil(N/26),G=N%26;this._expand(q),G>0&&q--;for(var H=0;H<q;H++)this.words[H]=67108863&~this.words[H];return G>0&&(this.words[H]=~this.words[H]&67108863>>26-G),this.strip()},c.prototype.notn=function(N){return this.clone().inotn(N)},c.prototype.setn=function(N,q){o("number"==typeof N&&N>=0);var G=N/26|0,H=N%26;return this._expand(G+1),this.words[G]=q?this.words[G]|1<<H:this.words[G]&~(1<<H),this.strip()},c.prototype.iadd=function(N){var q,G,H;if(0!==this.negative&&0===N.negative)return this.negative=0,q=this.isub(N),this.negative^=1,this._normSign();if(0===this.negative&&0!==N.negative)return N.negative=0,q=this.isub(N),N.negative=1,q._normSign();this.length>N.length?(G=this,H=N):(G=N,H=this);for(var Z=0,$=0;$<H.length;$++)this.words[$]=67108863&(q=(0|G.words[$])+(0|H.words[$])+Z),Z=q>>>26;for(;0!==Z&&$<G.length;$++)this.words[$]=67108863&(q=(0|G.words[$])+Z),Z=q>>>26;if(this.length=G.length,0!==Z)this.words[this.length]=Z,this.length++;else if(G!==this)for(;$<G.length;$++)this.words[$]=G.words[$];return this},c.prototype.add=function(N){var q;return 0!==N.negative&&0===this.negative?(N.negative=0,q=this.sub(N),N.negative^=1,q):0===N.negative&&0!==this.negative?(this.negative=0,q=N.sub(this),this.negative=1,q):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},c.prototype.isub=function(N){if(0!==N.negative){N.negative=0;var q=this.iadd(N);return N.negative=1,q._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var G,H,Z=this.cmp(N);if(0===Z)return this.negative=0,this.length=1,this.words[0]=0,this;Z>0?(G=this,H=N):(G=N,H=this);for(var $=0,se=0;se<H.length;se++)$=(q=(0|G.words[se])-(0|H.words[se])+$)>>26,this.words[se]=67108863&q;for(;0!==$&&se<G.length;se++)$=(q=(0|G.words[se])+$)>>26,this.words[se]=67108863&q;if(0===$&&se<G.length&&G!==this)for(;se<G.length;se++)this.words[se]=G.words[se];return this.length=Math.max(this.length,se),G!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(N){return this.clone().isub(N)};var w=function(N,q,G){var H,Z,$,se=N.words,ne=q.words,re=G.words,Q=0,ee=0|se[0],oe=8191&ee,ce=ee>>>13,ue=0|se[1],he=8191&ue,ve=ue>>>13,ke=0|se[2],Ie=8191&ke,Me=ke>>>13,_e=0|se[3],we=8191&_e,ze=_e>>>13,Ee=0|se[4],Se=8191&Ee,me=Ee>>>13,fe=0|se[5],le=8191&fe,Te=fe>>>13,Re=0|se[6],De=8191&Re,Ue=Re>>>13,Ze=0|se[7],xe=8191&Ze,Oe=Ze>>>13,Ce=0|se[8],Be=8191&Ce,qe=Ce>>>13,He=0|se[9],Je=8191&He,et=He>>>13,st=0|ne[0],pt=8191&st,ct=st>>>13,St=0|ne[1],Dt=8191&St,vt=St>>>13,gt=0|ne[2],Et=8191&gt,Pt=gt>>>13,Ot=0|ne[3],Ht=8191&Ot,zt=Ot>>>13,nt=0|ne[4],it=8191&nt,Ke=nt>>>13,rt=0|ne[5],ft=8191&rt,ht=rt>>>13,Ve=0|ne[6],Ge=8191&Ve,ut=Ve>>>13,dt=0|ne[7],kt=8191&dt,bt=dt>>>13,At=0|ne[8],xt=8191&At,Rt=At>>>13,_t=0|ne[9],Tt=8191&_t,It=_t>>>13;G.negative=N.negative^q.negative,G.length=19;var Wt=(Q+(H=Math.imul(oe,pt))|0)+((8191&(Z=(Z=Math.imul(oe,ct))+Math.imul(ce,pt)|0))<<13)|0;Q=(($=Math.imul(ce,ct))+(Z>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,H=Math.imul(he,pt),Z=(Z=Math.imul(he,ct))+Math.imul(ve,pt)|0,$=Math.imul(ve,ct);var Zt=(Q+(H=H+Math.imul(oe,Dt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,vt)|0)+Math.imul(ce,Dt)|0))<<13)|0;Q=(($=$+Math.imul(ce,vt)|0)+(Z>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,H=Math.imul(Ie,pt),Z=(Z=Math.imul(Ie,ct))+Math.imul(Me,pt)|0,$=Math.imul(Me,ct),H=H+Math.imul(he,Dt)|0,Z=(Z=Z+Math.imul(he,vt)|0)+Math.imul(ve,Dt)|0,$=$+Math.imul(ve,vt)|0;var $t=(Q+(H=H+Math.imul(oe,Et)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,Pt)|0)+Math.imul(ce,Et)|0))<<13)|0;Q=(($=$+Math.imul(ce,Pt)|0)+(Z>>>13)|0)+($t>>>26)|0,$t&=67108863,H=Math.imul(we,pt),Z=(Z=Math.imul(we,ct))+Math.imul(ze,pt)|0,$=Math.imul(ze,ct),H=H+Math.imul(Ie,Dt)|0,Z=(Z=Z+Math.imul(Ie,vt)|0)+Math.imul(Me,Dt)|0,$=$+Math.imul(Me,vt)|0,H=H+Math.imul(he,Et)|0,Z=(Z=Z+Math.imul(he,Pt)|0)+Math.imul(ve,Et)|0,$=$+Math.imul(ve,Pt)|0;var dn=(Q+(H=H+Math.imul(oe,Ht)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,zt)|0)+Math.imul(ce,Ht)|0))<<13)|0;Q=(($=$+Math.imul(ce,zt)|0)+(Z>>>13)|0)+(dn>>>26)|0,dn&=67108863,H=Math.imul(Se,pt),Z=(Z=Math.imul(Se,ct))+Math.imul(me,pt)|0,$=Math.imul(me,ct),H=H+Math.imul(we,Dt)|0,Z=(Z=Z+Math.imul(we,vt)|0)+Math.imul(ze,Dt)|0,$=$+Math.imul(ze,vt)|0,H=H+Math.imul(Ie,Et)|0,Z=(Z=Z+Math.imul(Ie,Pt)|0)+Math.imul(Me,Et)|0,$=$+Math.imul(Me,Pt)|0,H=H+Math.imul(he,Ht)|0,Z=(Z=Z+Math.imul(he,zt)|0)+Math.imul(ve,Ht)|0,$=$+Math.imul(ve,zt)|0;var nn=(Q+(H=H+Math.imul(oe,it)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,Ke)|0)+Math.imul(ce,it)|0))<<13)|0;Q=(($=$+Math.imul(ce,Ke)|0)+(Z>>>13)|0)+(nn>>>26)|0,nn&=67108863,H=Math.imul(le,pt),Z=(Z=Math.imul(le,ct))+Math.imul(Te,pt)|0,$=Math.imul(Te,ct),H=H+Math.imul(Se,Dt)|0,Z=(Z=Z+Math.imul(Se,vt)|0)+Math.imul(me,Dt)|0,$=$+Math.imul(me,vt)|0,H=H+Math.imul(we,Et)|0,Z=(Z=Z+Math.imul(we,Pt)|0)+Math.imul(ze,Et)|0,$=$+Math.imul(ze,Pt)|0,H=H+Math.imul(Ie,Ht)|0,Z=(Z=Z+Math.imul(Ie,zt)|0)+Math.imul(Me,Ht)|0,$=$+Math.imul(Me,zt)|0,H=H+Math.imul(he,it)|0,Z=(Z=Z+Math.imul(he,Ke)|0)+Math.imul(ve,it)|0,$=$+Math.imul(ve,Ke)|0;var cn=(Q+(H=H+Math.imul(oe,ft)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,ht)|0)+Math.imul(ce,ft)|0))<<13)|0;Q=(($=$+Math.imul(ce,ht)|0)+(Z>>>13)|0)+(cn>>>26)|0,cn&=67108863,H=Math.imul(De,pt),Z=(Z=Math.imul(De,ct))+Math.imul(Ue,pt)|0,$=Math.imul(Ue,ct),H=H+Math.imul(le,Dt)|0,Z=(Z=Z+Math.imul(le,vt)|0)+Math.imul(Te,Dt)|0,$=$+Math.imul(Te,vt)|0,H=H+Math.imul(Se,Et)|0,Z=(Z=Z+Math.imul(Se,Pt)|0)+Math.imul(me,Et)|0,$=$+Math.imul(me,Pt)|0,H=H+Math.imul(we,Ht)|0,Z=(Z=Z+Math.imul(we,zt)|0)+Math.imul(ze,Ht)|0,$=$+Math.imul(ze,zt)|0,H=H+Math.imul(Ie,it)|0,Z=(Z=Z+Math.imul(Ie,Ke)|0)+Math.imul(Me,it)|0,$=$+Math.imul(Me,Ke)|0,H=H+Math.imul(he,ft)|0,Z=(Z=Z+Math.imul(he,ht)|0)+Math.imul(ve,ft)|0,$=$+Math.imul(ve,ht)|0;var rn=(Q+(H=H+Math.imul(oe,Ge)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,ut)|0)+Math.imul(ce,Ge)|0))<<13)|0;Q=(($=$+Math.imul(ce,ut)|0)+(Z>>>13)|0)+(rn>>>26)|0,rn&=67108863,H=Math.imul(xe,pt),Z=(Z=Math.imul(xe,ct))+Math.imul(Oe,pt)|0,$=Math.imul(Oe,ct),H=H+Math.imul(De,Dt)|0,Z=(Z=Z+Math.imul(De,vt)|0)+Math.imul(Ue,Dt)|0,$=$+Math.imul(Ue,vt)|0,H=H+Math.imul(le,Et)|0,Z=(Z=Z+Math.imul(le,Pt)|0)+Math.imul(Te,Et)|0,$=$+Math.imul(Te,Pt)|0,H=H+Math.imul(Se,Ht)|0,Z=(Z=Z+Math.imul(Se,zt)|0)+Math.imul(me,Ht)|0,$=$+Math.imul(me,zt)|0,H=H+Math.imul(we,it)|0,Z=(Z=Z+Math.imul(we,Ke)|0)+Math.imul(ze,it)|0,$=$+Math.imul(ze,Ke)|0,H=H+Math.imul(Ie,ft)|0,Z=(Z=Z+Math.imul(Ie,ht)|0)+Math.imul(Me,ft)|0,$=$+Math.imul(Me,ht)|0,H=H+Math.imul(he,Ge)|0,Z=(Z=Z+Math.imul(he,ut)|0)+Math.imul(ve,Ge)|0,$=$+Math.imul(ve,ut)|0;var En=(Q+(H=H+Math.imul(oe,kt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,bt)|0)+Math.imul(ce,kt)|0))<<13)|0;Q=(($=$+Math.imul(ce,bt)|0)+(Z>>>13)|0)+(En>>>26)|0,En&=67108863,H=Math.imul(Be,pt),Z=(Z=Math.imul(Be,ct))+Math.imul(qe,pt)|0,$=Math.imul(qe,ct),H=H+Math.imul(xe,Dt)|0,Z=(Z=Z+Math.imul(xe,vt)|0)+Math.imul(Oe,Dt)|0,$=$+Math.imul(Oe,vt)|0,H=H+Math.imul(De,Et)|0,Z=(Z=Z+Math.imul(De,Pt)|0)+Math.imul(Ue,Et)|0,$=$+Math.imul(Ue,Pt)|0,H=H+Math.imul(le,Ht)|0,Z=(Z=Z+Math.imul(le,zt)|0)+Math.imul(Te,Ht)|0,$=$+Math.imul(Te,zt)|0,H=H+Math.imul(Se,it)|0,Z=(Z=Z+Math.imul(Se,Ke)|0)+Math.imul(me,it)|0,$=$+Math.imul(me,Ke)|0,H=H+Math.imul(we,ft)|0,Z=(Z=Z+Math.imul(we,ht)|0)+Math.imul(ze,ft)|0,$=$+Math.imul(ze,ht)|0,H=H+Math.imul(Ie,Ge)|0,Z=(Z=Z+Math.imul(Ie,ut)|0)+Math.imul(Me,Ge)|0,$=$+Math.imul(Me,ut)|0,H=H+Math.imul(he,kt)|0,Z=(Z=Z+Math.imul(he,bt)|0)+Math.imul(ve,kt)|0,$=$+Math.imul(ve,bt)|0;var Pn=(Q+(H=H+Math.imul(oe,xt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,Rt)|0)+Math.imul(ce,xt)|0))<<13)|0;Q=(($=$+Math.imul(ce,Rt)|0)+(Z>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,H=Math.imul(Je,pt),Z=(Z=Math.imul(Je,ct))+Math.imul(et,pt)|0,$=Math.imul(et,ct),H=H+Math.imul(Be,Dt)|0,Z=(Z=Z+Math.imul(Be,vt)|0)+Math.imul(qe,Dt)|0,$=$+Math.imul(qe,vt)|0,H=H+Math.imul(xe,Et)|0,Z=(Z=Z+Math.imul(xe,Pt)|0)+Math.imul(Oe,Et)|0,$=$+Math.imul(Oe,Pt)|0,H=H+Math.imul(De,Ht)|0,Z=(Z=Z+Math.imul(De,zt)|0)+Math.imul(Ue,Ht)|0,$=$+Math.imul(Ue,zt)|0,H=H+Math.imul(le,it)|0,Z=(Z=Z+Math.imul(le,Ke)|0)+Math.imul(Te,it)|0,$=$+Math.imul(Te,Ke)|0,H=H+Math.imul(Se,ft)|0,Z=(Z=Z+Math.imul(Se,ht)|0)+Math.imul(me,ft)|0,$=$+Math.imul(me,ht)|0,H=H+Math.imul(we,Ge)|0,Z=(Z=Z+Math.imul(we,ut)|0)+Math.imul(ze,Ge)|0,$=$+Math.imul(ze,ut)|0,H=H+Math.imul(Ie,kt)|0,Z=(Z=Z+Math.imul(Ie,bt)|0)+Math.imul(Me,kt)|0,$=$+Math.imul(Me,bt)|0,H=H+Math.imul(he,xt)|0,Z=(Z=Z+Math.imul(he,Rt)|0)+Math.imul(ve,xt)|0,$=$+Math.imul(ve,Rt)|0;var Mn=(Q+(H=H+Math.imul(oe,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,It)|0)+Math.imul(ce,Tt)|0))<<13)|0;Q=(($=$+Math.imul(ce,It)|0)+(Z>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,H=Math.imul(Je,Dt),Z=(Z=Math.imul(Je,vt))+Math.imul(et,Dt)|0,$=Math.imul(et,vt),H=H+Math.imul(Be,Et)|0,Z=(Z=Z+Math.imul(Be,Pt)|0)+Math.imul(qe,Et)|0,$=$+Math.imul(qe,Pt)|0,H=H+Math.imul(xe,Ht)|0,Z=(Z=Z+Math.imul(xe,zt)|0)+Math.imul(Oe,Ht)|0,$=$+Math.imul(Oe,zt)|0,H=H+Math.imul(De,it)|0,Z=(Z=Z+Math.imul(De,Ke)|0)+Math.imul(Ue,it)|0,$=$+Math.imul(Ue,Ke)|0,H=H+Math.imul(le,ft)|0,Z=(Z=Z+Math.imul(le,ht)|0)+Math.imul(Te,ft)|0,$=$+Math.imul(Te,ht)|0,H=H+Math.imul(Se,Ge)|0,Z=(Z=Z+Math.imul(Se,ut)|0)+Math.imul(me,Ge)|0,$=$+Math.imul(me,ut)|0,H=H+Math.imul(we,kt)|0,Z=(Z=Z+Math.imul(we,bt)|0)+Math.imul(ze,kt)|0,$=$+Math.imul(ze,bt)|0,H=H+Math.imul(Ie,xt)|0,Z=(Z=Z+Math.imul(Ie,Rt)|0)+Math.imul(Me,xt)|0,$=$+Math.imul(Me,Rt)|0;var en=(Q+(H=H+Math.imul(he,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(he,It)|0)+Math.imul(ve,Tt)|0))<<13)|0;Q=(($=$+Math.imul(ve,It)|0)+(Z>>>13)|0)+(en>>>26)|0,en&=67108863,H=Math.imul(Je,Et),Z=(Z=Math.imul(Je,Pt))+Math.imul(et,Et)|0,$=Math.imul(et,Pt),H=H+Math.imul(Be,Ht)|0,Z=(Z=Z+Math.imul(Be,zt)|0)+Math.imul(qe,Ht)|0,$=$+Math.imul(qe,zt)|0,H=H+Math.imul(xe,it)|0,Z=(Z=Z+Math.imul(xe,Ke)|0)+Math.imul(Oe,it)|0,$=$+Math.imul(Oe,Ke)|0,H=H+Math.imul(De,ft)|0,Z=(Z=Z+Math.imul(De,ht)|0)+Math.imul(Ue,ft)|0,$=$+Math.imul(Ue,ht)|0,H=H+Math.imul(le,Ge)|0,Z=(Z=Z+Math.imul(le,ut)|0)+Math.imul(Te,Ge)|0,$=$+Math.imul(Te,ut)|0,H=H+Math.imul(Se,kt)|0,Z=(Z=Z+Math.imul(Se,bt)|0)+Math.imul(me,kt)|0,$=$+Math.imul(me,bt)|0,H=H+Math.imul(we,xt)|0,Z=(Z=Z+Math.imul(we,Rt)|0)+Math.imul(ze,xt)|0,$=$+Math.imul(ze,Rt)|0;var gn=(Q+(H=H+Math.imul(Ie,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Ie,It)|0)+Math.imul(Me,Tt)|0))<<13)|0;Q=(($=$+Math.imul(Me,It)|0)+(Z>>>13)|0)+(gn>>>26)|0,gn&=67108863,H=Math.imul(Je,Ht),Z=(Z=Math.imul(Je,zt))+Math.imul(et,Ht)|0,$=Math.imul(et,zt),H=H+Math.imul(Be,it)|0,Z=(Z=Z+Math.imul(Be,Ke)|0)+Math.imul(qe,it)|0,$=$+Math.imul(qe,Ke)|0,H=H+Math.imul(xe,ft)|0,Z=(Z=Z+Math.imul(xe,ht)|0)+Math.imul(Oe,ft)|0,$=$+Math.imul(Oe,ht)|0,H=H+Math.imul(De,Ge)|0,Z=(Z=Z+Math.imul(De,ut)|0)+Math.imul(Ue,Ge)|0,$=$+Math.imul(Ue,ut)|0,H=H+Math.imul(le,kt)|0,Z=(Z=Z+Math.imul(le,bt)|0)+Math.imul(Te,kt)|0,$=$+Math.imul(Te,bt)|0,H=H+Math.imul(Se,xt)|0,Z=(Z=Z+Math.imul(Se,Rt)|0)+Math.imul(me,xt)|0,$=$+Math.imul(me,Rt)|0;var an=(Q+(H=H+Math.imul(we,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(we,It)|0)+Math.imul(ze,Tt)|0))<<13)|0;Q=(($=$+Math.imul(ze,It)|0)+(Z>>>13)|0)+(an>>>26)|0,an&=67108863,H=Math.imul(Je,it),Z=(Z=Math.imul(Je,Ke))+Math.imul(et,it)|0,$=Math.imul(et,Ke),H=H+Math.imul(Be,ft)|0,Z=(Z=Z+Math.imul(Be,ht)|0)+Math.imul(qe,ft)|0,$=$+Math.imul(qe,ht)|0,H=H+Math.imul(xe,Ge)|0,Z=(Z=Z+Math.imul(xe,ut)|0)+Math.imul(Oe,Ge)|0,$=$+Math.imul(Oe,ut)|0,H=H+Math.imul(De,kt)|0,Z=(Z=Z+Math.imul(De,bt)|0)+Math.imul(Ue,kt)|0,$=$+Math.imul(Ue,bt)|0,H=H+Math.imul(le,xt)|0,Z=(Z=Z+Math.imul(le,Rt)|0)+Math.imul(Te,xt)|0,$=$+Math.imul(Te,Rt)|0;var yn=(Q+(H=H+Math.imul(Se,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Se,It)|0)+Math.imul(me,Tt)|0))<<13)|0;Q=(($=$+Math.imul(me,It)|0)+(Z>>>13)|0)+(yn>>>26)|0,yn&=67108863,H=Math.imul(Je,ft),Z=(Z=Math.imul(Je,ht))+Math.imul(et,ft)|0,$=Math.imul(et,ht),H=H+Math.imul(Be,Ge)|0,Z=(Z=Z+Math.imul(Be,ut)|0)+Math.imul(qe,Ge)|0,$=$+Math.imul(qe,ut)|0,H=H+Math.imul(xe,kt)|0,Z=(Z=Z+Math.imul(xe,bt)|0)+Math.imul(Oe,kt)|0,$=$+Math.imul(Oe,bt)|0,H=H+Math.imul(De,xt)|0,Z=(Z=Z+Math.imul(De,Rt)|0)+Math.imul(Ue,xt)|0,$=$+Math.imul(Ue,Rt)|0;var kn=(Q+(H=H+Math.imul(le,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(le,It)|0)+Math.imul(Te,Tt)|0))<<13)|0;Q=(($=$+Math.imul(Te,It)|0)+(Z>>>13)|0)+(kn>>>26)|0,kn&=67108863,H=Math.imul(Je,Ge),Z=(Z=Math.imul(Je,ut))+Math.imul(et,Ge)|0,$=Math.imul(et,ut),H=H+Math.imul(Be,kt)|0,Z=(Z=Z+Math.imul(Be,bt)|0)+Math.imul(qe,kt)|0,$=$+Math.imul(qe,bt)|0,H=H+Math.imul(xe,xt)|0,Z=(Z=Z+Math.imul(xe,Rt)|0)+Math.imul(Oe,xt)|0,$=$+Math.imul(Oe,Rt)|0;var Ln=(Q+(H=H+Math.imul(De,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(De,It)|0)+Math.imul(Ue,Tt)|0))<<13)|0;Q=(($=$+Math.imul(Ue,It)|0)+(Z>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,H=Math.imul(Je,kt),Z=(Z=Math.imul(Je,bt))+Math.imul(et,kt)|0,$=Math.imul(et,bt),H=H+Math.imul(Be,xt)|0,Z=(Z=Z+Math.imul(Be,Rt)|0)+Math.imul(qe,xt)|0,$=$+Math.imul(qe,Rt)|0;var Rn=(Q+(H=H+Math.imul(xe,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(xe,It)|0)+Math.imul(Oe,Tt)|0))<<13)|0;Q=(($=$+Math.imul(Oe,It)|0)+(Z>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,H=Math.imul(Je,xt),Z=(Z=Math.imul(Je,Rt))+Math.imul(et,xt)|0,$=Math.imul(et,Rt);var Wn=(Q+(H=H+Math.imul(Be,Tt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Be,It)|0)+Math.imul(qe,Tt)|0))<<13)|0;Q=(($=$+Math.imul(qe,It)|0)+(Z>>>13)|0)+(Wn>>>26)|0,Wn&=67108863;var Cn=(Q+(H=Math.imul(Je,Tt))|0)+((8191&(Z=(Z=Math.imul(Je,It))+Math.imul(et,Tt)|0))<<13)|0;return Q=(($=Math.imul(et,It))+(Z>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,re[0]=Wt,re[1]=Zt,re[2]=$t,re[3]=dn,re[4]=nn,re[5]=cn,re[6]=rn,re[7]=En,re[8]=Pn,re[9]=Mn,re[10]=en,re[11]=gn,re[12]=an,re[13]=yn,re[14]=kn,re[15]=Ln,re[16]=Rn,re[17]=Wn,re[18]=Cn,0!==Q&&(re[19]=Q,G.length++),G};function A(N,q,G){return(new p).mulp(N,q,G)}function p(N,q){this.x=N,this.y=q}Math.imul||(w=_),c.prototype.mulTo=function(N,q){var H=this.length+N.length;return 10===this.length&&10===N.length?w(this,N,q):H<63?_(this,N,q):H<1024?function(Z,$,se){se.negative=$.negative^Z.negative,se.length=Z.length+$.length;for(var ne=0,re=0,Q=0;Q<se.length-1;Q++){var ee=re;re=0;for(var oe=67108863&ne,ce=Math.min(Q,$.length-1),ue=Math.max(0,Q-Z.length+1);ue<=ce;ue++){var ve=(0|Z.words[Q-ue])*(0|$.words[ue]),ke=67108863&ve;oe=67108863&(ke=ke+oe|0),re+=(ee=(ee=ee+(ve/67108864|0)|0)+(ke>>>26)|0)>>>26,ee&=67108863}se.words[Q]=oe,ne=ee,ee=re}return 0!==ne?se.words[Q]=ne:se.length--,se.strip()}(this,N,q):A(this,N,q)},p.prototype.makeRBT=function(N){for(var q=new Array(N),G=c.prototype._countBits(N)-1,H=0;H<N;H++)q[H]=this.revBin(H,G,N);return q},p.prototype.revBin=function(N,q,G){if(0===N||N===G-1)return N;for(var H=0,Z=0;Z<q;Z++)H|=(1&N)<<q-Z-1,N>>=1;return H},p.prototype.permute=function(N,q,G,H,Z,$){for(var se=0;se<$;se++)H[se]=q[N[se]],Z[se]=G[N[se]]},p.prototype.transform=function(N,q,G,H,Z,$){this.permute($,N,q,G,H,Z);for(var se=1;se<Z;se<<=1)for(var ne=se<<1,re=Math.cos(2*Math.PI/ne),Q=Math.sin(2*Math.PI/ne),ee=0;ee<Z;ee+=ne)for(var oe=re,ce=Q,ue=0;ue<se;ue++){var he=G[ee+ue],ve=H[ee+ue],ke=G[ee+ue+se],Ie=H[ee+ue+se],Me=oe*ke-ce*Ie;Ie=oe*Ie+ce*ke,G[ee+ue]=he+(ke=Me),H[ee+ue]=ve+Ie,G[ee+ue+se]=he-ke,H[ee+ue+se]=ve-Ie,ue!==ne&&(Me=re*oe-Q*ce,ce=re*ce+Q*oe,oe=Me)}},p.prototype.guessLen13b=function(N,q){var G=1|Math.max(q,N),H=1&G,Z=0;for(G=G/2|0;G;G>>>=1)Z++;return 1<<Z+1+H},p.prototype.conjugate=function(N,q,G){if(!(G<=1))for(var H=0;H<G/2;H++){var Z=N[H];N[H]=N[G-H-1],N[G-H-1]=Z,Z=q[H],q[H]=-q[G-H-1],q[G-H-1]=-Z}},p.prototype.normalize13b=function(N,q){for(var G=0,H=0;H<q/2;H++){var Z=8192*Math.round(N[2*H+1]/q)+Math.round(N[2*H]/q)+G;N[H]=67108863&Z,G=Z<67108864?0:Z/67108864|0}return N},p.prototype.convert13b=function(N,q,G,H){for(var Z=0,$=0;$<q;$++)G[2*$]=8191&(Z+=0|N[$]),G[2*$+1]=8191&(Z>>>=13),Z>>>=13;for($=2*q;$<H;++$)G[$]=0;o(0===Z),o(0==(-8192&Z))},p.prototype.stub=function(N){for(var q=new Array(N),G=0;G<N;G++)q[G]=0;return q},p.prototype.mulp=function(N,q,G){var H=2*this.guessLen13b(N.length,q.length),Z=this.makeRBT(H),$=this.stub(H),se=new Array(H),ne=new Array(H),re=new Array(H),Q=new Array(H),ee=new Array(H),oe=new Array(H),ce=G.words;ce.length=H,this.convert13b(N.words,N.length,se,H),this.convert13b(q.words,q.length,Q,H),this.transform(se,$,ne,re,H,Z),this.transform(Q,$,ee,oe,H,Z);for(var ue=0;ue<H;ue++){var he=ne[ue]*ee[ue]-re[ue]*oe[ue];re[ue]=ne[ue]*oe[ue]+re[ue]*ee[ue],ne[ue]=he}return this.conjugate(ne,re,H),this.transform(ne,re,ce,$,H,Z),this.conjugate(ce,$,H),this.normalize13b(ce,H),G.negative=N.negative^q.negative,G.length=N.length+q.length,G.strip()},c.prototype.mul=function(N){var q=new c(null);return q.words=new Array(this.length+N.length),this.mulTo(N,q)},c.prototype.mulf=function(N){var q=new c(null);return q.words=new Array(this.length+N.length),A(this,N,q)},c.prototype.imul=function(N){return this.clone().mulTo(N,this)},c.prototype.imuln=function(N){o("number"==typeof N),o(N<67108864);for(var q=0,G=0;G<this.length;G++){var H=(0|this.words[G])*N,Z=(67108863&H)+(67108863&q);q>>=26,q+=H/67108864|0,q+=Z>>>26,this.words[G]=67108863&Z}return 0!==q&&(this.words[G]=q,this.length++),this},c.prototype.muln=function(N){return this.clone().imuln(N)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(N){var q=function($){for(var se=new Array($.bitLength()),ne=0;ne<se.length;ne++){var Q=ne%26;se[ne]=($.words[ne/26|0]&1<<Q)>>>Q}return se}(N);if(0===q.length)return new c(1);for(var G=this,H=0;H<q.length&&0===q[H];H++,G=G.sqr());if(++H<q.length)for(var Z=G.sqr();H<q.length;H++,Z=Z.sqr())0!==q[H]&&(G=G.mul(Z));return G},c.prototype.iushln=function(N){o("number"==typeof N&&N>=0);var q,G=N%26,H=(N-G)/26,Z=67108863>>>26-G<<26-G;if(0!==G){var $=0;for(q=0;q<this.length;q++){var se=this.words[q]&Z;this.words[q]=(0|this.words[q])-se<<G|$,$=se>>>26-G}$&&(this.words[q]=$,this.length++)}if(0!==H){for(q=this.length-1;q>=0;q--)this.words[q+H]=this.words[q];for(q=0;q<H;q++)this.words[q]=0;this.length+=H}return this.strip()},c.prototype.ishln=function(N){return o(0===this.negative),this.iushln(N)},c.prototype.iushrn=function(N,q,G){var H;o("number"==typeof N&&N>=0),H=q?(q-q%26)/26:0;var Z=N%26,$=Math.min((N-Z)/26,this.length),se=67108863^67108863>>>Z<<Z,ne=G;if(H-=$,H=Math.max(0,H),ne){for(var re=0;re<$;re++)ne.words[re]=this.words[re];ne.length=$}if(0!==$)if(this.length>$)for(this.length-=$,re=0;re<this.length;re++)this.words[re]=this.words[re+$];else this.words[0]=0,this.length=1;var Q=0;for(re=this.length-1;re>=0&&(0!==Q||re>=H);re--){var ee=0|this.words[re];this.words[re]=Q<<26-Z|ee>>>Z,Q=ee&se}return ne&&0!==Q&&(ne.words[ne.length++]=Q),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(N,q,G){return o(0===this.negative),this.iushrn(N,q,G)},c.prototype.shln=function(N){return this.clone().ishln(N)},c.prototype.ushln=function(N){return this.clone().iushln(N)},c.prototype.shrn=function(N){return this.clone().ishrn(N)},c.prototype.ushrn=function(N){return this.clone().iushrn(N)},c.prototype.testn=function(N){o("number"==typeof N&&N>=0);var q=N%26,G=(N-q)/26;return!(this.length<=G||!(this.words[G]&1<<q))},c.prototype.imaskn=function(N){o("number"==typeof N&&N>=0);var q=N%26,G=(N-q)/26;return o(0===this.negative,"imaskn works only with positive numbers"),this.length<=G?this:(0!==q&&G++,this.length=Math.min(G,this.length),0!==q&&(this.words[this.length-1]&=67108863^67108863>>>q<<q),this.strip())},c.prototype.maskn=function(N){return this.clone().imaskn(N)},c.prototype.iaddn=function(N){return o("number"==typeof N),o(N<67108864),N<0?this.isubn(-N):0!==this.negative?1===this.length&&(0|this.words[0])<N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},c.prototype._iaddn=function(N){this.words[0]+=N;for(var q=0;q<this.length&&this.words[q]>=67108864;q++)this.words[q]-=67108864,q===this.length-1?this.words[q+1]=1:this.words[q+1]++;return this.length=Math.max(this.length,q+1),this},c.prototype.isubn=function(N){if(o("number"==typeof N),o(N<67108864),N<0)return this.iaddn(-N);if(0!==this.negative)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var q=0;q<this.length&&this.words[q]<0;q++)this.words[q]+=67108864,this.words[q+1]-=1;return this.strip()},c.prototype.addn=function(N){return this.clone().iaddn(N)},c.prototype.subn=function(N){return this.clone().isubn(N)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(N,q,G){var H,Z;this._expand(N.length+G);var se=0;for(H=0;H<N.length;H++){Z=(0|this.words[H+G])+se;var ne=(0|N.words[H])*q;se=((Z-=67108863&ne)>>26)-(ne/67108864|0),this.words[H+G]=67108863&Z}for(;H<this.length-G;H++)se=(Z=(0|this.words[H+G])+se)>>26,this.words[H+G]=67108863&Z;if(0===se)return this.strip();for(o(-1===se),se=0,H=0;H<this.length;H++)se=(Z=-(0|this.words[H])+se)>>26,this.words[H]=67108863&Z;return this.negative=1,this.strip()},c.prototype._wordDiv=function(N,q){var G,H=this.clone(),Z=N,$=0|Z.words[Z.length-1];0!=(G=26-this._countBits($))&&(Z=Z.ushln(G),H.iushln(G),$=0|Z.words[Z.length-1]);var se,ne=H.length-Z.length;if("mod"!==q){(se=new c(null)).length=ne+1,se.words=new Array(se.length);for(var re=0;re<se.length;re++)se.words[re]=0}var Q=H.clone()._ishlnsubmul(Z,1,ne);0===Q.negative&&(H=Q,se&&(se.words[ne]=1));for(var ee=ne-1;ee>=0;ee--){var oe=67108864*(0|H.words[Z.length+ee])+(0|H.words[Z.length+ee-1]);for(oe=Math.min(oe/$|0,67108863),H._ishlnsubmul(Z,oe,ee);0!==H.negative;)oe--,H.negative=0,H._ishlnsubmul(Z,1,ee),H.isZero()||(H.negative^=1);se&&(se.words[ee]=oe)}return se&&se.strip(),H.strip(),"div"!==q&&0!==G&&H.iushrn(G),{div:se||null,mod:H}},c.prototype.divmod=function(N,q,G){return o(!N.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:0!==this.negative&&0===N.negative?($=this.neg().divmod(N,q),"mod"!==q&&(H=$.div.neg()),"div"!==q&&(Z=$.mod.neg(),G&&0!==Z.negative&&Z.iadd(N)),{div:H,mod:Z}):0===this.negative&&0!==N.negative?($=this.divmod(N.neg(),q),"mod"!==q&&(H=$.div.neg()),{div:H,mod:$.mod}):this.negative&N.negative?($=this.neg().divmod(N.neg(),q),"div"!==q&&(Z=$.mod.neg(),G&&0!==Z.negative&&Z.isub(N)),{div:$.div,mod:Z}):N.length>this.length||this.cmp(N)<0?{div:new c(0),mod:this}:1===N.length?"div"===q?{div:this.divn(N.words[0]),mod:null}:"mod"===q?{div:null,mod:new c(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new c(this.modn(N.words[0]))}:this._wordDiv(N,q);var H,Z,$},c.prototype.div=function(N){return this.divmod(N,"div",!1).div},c.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},c.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},c.prototype.divRound=function(N){var q=this.divmod(N);if(q.mod.isZero())return q.div;var G=0!==q.div.negative?q.mod.isub(N):q.mod,H=N.ushrn(1),Z=N.andln(1),$=G.cmp(H);return $<0||1===Z&&0===$?q.div:0!==q.div.negative?q.div.isubn(1):q.div.iaddn(1)},c.prototype.modn=function(N){o(N<=67108863);for(var q=67108864%N,G=0,H=this.length-1;H>=0;H--)G=(q*G+(0|this.words[H]))%N;return G},c.prototype.idivn=function(N){o(N<=67108863);for(var q=0,G=this.length-1;G>=0;G--){var H=(0|this.words[G])+67108864*q;this.words[G]=H/N|0,q=H%N}return this.strip()},c.prototype.divn=function(N){return this.clone().idivn(N)},c.prototype.egcd=function(N){o(0===N.negative),o(!N.isZero());var q=this,G=N.clone();q=0!==q.negative?q.umod(N):q.clone();for(var H=new c(1),Z=new c(0),$=new c(0),se=new c(1),ne=0;q.isEven()&&G.isEven();)q.iushrn(1),G.iushrn(1),++ne;for(var re=G.clone(),Q=q.clone();!q.isZero();){for(var ee=0,oe=1;!(q.words[0]&oe)&&ee<26;++ee,oe<<=1);if(ee>0)for(q.iushrn(ee);ee-- >0;)(H.isOdd()||Z.isOdd())&&(H.iadd(re),Z.isub(Q)),H.iushrn(1),Z.iushrn(1);for(var ce=0,ue=1;!(G.words[0]&ue)&&ce<26;++ce,ue<<=1);if(ce>0)for(G.iushrn(ce);ce-- >0;)($.isOdd()||se.isOdd())&&($.iadd(re),se.isub(Q)),$.iushrn(1),se.iushrn(1);q.cmp(G)>=0?(q.isub(G),H.isub($),Z.isub(se)):(G.isub(q),$.isub(H),se.isub(Z))}return{a:$,b:se,gcd:G.iushln(ne)}},c.prototype._invmp=function(N){o(0===N.negative),o(!N.isZero());var q=this,G=N.clone();q=0!==q.negative?q.umod(N):q.clone();for(var H,Z=new c(1),$=new c(0),se=G.clone();q.cmpn(1)>0&&G.cmpn(1)>0;){for(var ne=0,re=1;!(q.words[0]&re)&&ne<26;++ne,re<<=1);if(ne>0)for(q.iushrn(ne);ne-- >0;)Z.isOdd()&&Z.iadd(se),Z.iushrn(1);for(var Q=0,ee=1;!(G.words[0]&ee)&&Q<26;++Q,ee<<=1);if(Q>0)for(G.iushrn(Q);Q-- >0;)$.isOdd()&&$.iadd(se),$.iushrn(1);q.cmp(G)>=0?(q.isub(G),Z.isub($)):(G.isub(q),$.isub(Z))}return(H=0===q.cmpn(1)?Z:$).cmpn(0)<0&&H.iadd(N),H},c.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var q=this.clone(),G=N.clone();q.negative=0,G.negative=0;for(var H=0;q.isEven()&&G.isEven();H++)q.iushrn(1),G.iushrn(1);for(;;){for(;q.isEven();)q.iushrn(1);for(;G.isEven();)G.iushrn(1);var Z=q.cmp(G);if(Z<0){var $=q;q=G,G=$}else if(0===Z||0===G.cmpn(1))break;q.isub(G)}return G.iushln(H)},c.prototype.invm=function(N){return this.egcd(N).a.umod(N)},c.prototype.isEven=function(){return 0==(1&this.words[0])},c.prototype.isOdd=function(){return 1==(1&this.words[0])},c.prototype.andln=function(N){return this.words[0]&N},c.prototype.bincn=function(N){o("number"==typeof N);var q=N%26,G=(N-q)/26,H=1<<q;if(this.length<=G)return this._expand(G+1),this.words[G]|=H,this;for(var Z=H,$=G;0!==Z&&$<this.length;$++){var se=0|this.words[$];Z=(se+=Z)>>>26,this.words[$]=se&=67108863}return 0!==Z&&(this.words[$]=Z,this.length++),this},c.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},c.prototype.cmpn=function(N){var q,G=N<0;if(0!==this.negative&&!G)return-1;if(0===this.negative&&G)return 1;if(this.strip(),this.length>1)q=1;else{G&&(N=-N),o(N<=67108863,"Number is too big");var H=0|this.words[0];q=H===N?0:H<N?-1:1}return 0!==this.negative?0|-q:q},c.prototype.cmp=function(N){if(0!==this.negative&&0===N.negative)return-1;if(0===this.negative&&0!==N.negative)return 1;var q=this.ucmp(N);return 0!==this.negative?0|-q:q},c.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var q=0,G=this.length-1;G>=0;G--){var H=0|this.words[G],Z=0|N.words[G];if(H!==Z){H<Z?q=-1:H>Z&&(q=1);break}}return q},c.prototype.gtn=function(N){return 1===this.cmpn(N)},c.prototype.gt=function(N){return 1===this.cmp(N)},c.prototype.gten=function(N){return this.cmpn(N)>=0},c.prototype.gte=function(N){return this.cmp(N)>=0},c.prototype.ltn=function(N){return-1===this.cmpn(N)},c.prototype.lt=function(N){return-1===this.cmp(N)},c.prototype.lten=function(N){return this.cmpn(N)<=0},c.prototype.lte=function(N){return this.cmp(N)<=0},c.prototype.eqn=function(N){return 0===this.cmpn(N)},c.prototype.eq=function(N){return 0===this.cmp(N)},c.red=function(N){return new j(N)},c.prototype.toRed=function(N){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),N.convertTo(this)._forceRed(N)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(N){return this.red=N,this},c.prototype.forceRed=function(N){return o(!this.red,"Already a number in reduction context"),this._forceRed(N)},c.prototype.redAdd=function(N){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},c.prototype.redIAdd=function(N){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},c.prototype.redSub=function(N){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},c.prototype.redISub=function(N){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},c.prototype.redShl=function(N){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},c.prototype.redMul=function(N){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},c.prototype.redIMul=function(N){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(N){return o(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var I={k256:null,p224:null,p192:null,p25519:null};function k(N,q){this.name=N,this.p=new c(q,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(N){if("string"==typeof N){var q=c._prime(N);this.m=q.p,this.prime=q}else o(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function X(N){j.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var N=new c(null);return N.words=new Array(Math.ceil(this.n/13)),N},k.prototype.ireduce=function(N){var q,G=N;do{this.split(G,this.tmp),q=(G=(G=this.imulK(G)).iadd(this.tmp)).bitLength()}while(q>this.n);var H=q<this.n?-1:G.ucmp(this.p);return 0===H?(G.words[0]=0,G.length=1):H>0?G.isub(this.p):void 0!==G.strip?G.strip():G._strip(),G},k.prototype.split=function(N,q){N.iushrn(this.n,0,q)},k.prototype.imulK=function(N){return N.imul(this.k)},l(L,k),L.prototype.split=function(N,q){for(var G=4194303,H=Math.min(N.length,9),Z=0;Z<H;Z++)q.words[Z]=N.words[Z];if(q.length=H,N.length<=9)return N.words[0]=0,void(N.length=1);var $=N.words[9];for(q.words[q.length++]=$&G,Z=10;Z<N.length;Z++){var se=0|N.words[Z];N.words[Z-10]=(se&G)<<4|$>>>22,$=se}N.words[Z-10]=$>>>=22,N.length-=0===$&&N.length>10?10:9},L.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var q=0,G=0;G<N.length;G++){var H=0|N.words[G];N.words[G]=67108863&(q+=977*H),q=64*H+(q/67108864|0)}return 0===N.words[N.length-1]&&(N.length--,0===N.words[N.length-1]&&N.length--),N},l(O,k),l(P,k),l(F,k),F.prototype.imulK=function(N){for(var q=0,G=0;G<N.length;G++){var H=19*(0|N.words[G])+q,Z=67108863&H;H>>>=26,N.words[G]=Z,q=H}return 0!==q&&(N.words[N.length++]=q),N},c._prime=function(N){if(I[N])return I[N];var q;if("k256"===N)q=new L;else if("p224"===N)q=new O;else if("p192"===N)q=new P;else{if("p25519"!==N)throw new Error("Unknown prime "+N);q=new F}return I[N]=q,q},j.prototype._verify1=function(N){o(0===N.negative,"red works only with positives"),o(N.red,"red works only with red numbers")},j.prototype._verify2=function(N,q){o(0==(N.negative|q.negative),"red works only with positives"),o(N.red&&N.red===q.red,"red works only with red numbers")},j.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},j.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},j.prototype.add=function(N,q){this._verify2(N,q);var G=N.add(q);return G.cmp(this.m)>=0&&G.isub(this.m),G._forceRed(this)},j.prototype.iadd=function(N,q){this._verify2(N,q);var G=N.iadd(q);return G.cmp(this.m)>=0&&G.isub(this.m),G},j.prototype.sub=function(N,q){this._verify2(N,q);var G=N.sub(q);return G.cmpn(0)<0&&G.iadd(this.m),G._forceRed(this)},j.prototype.isub=function(N,q){this._verify2(N,q);var G=N.isub(q);return G.cmpn(0)<0&&G.iadd(this.m),G},j.prototype.shl=function(N,q){return this._verify1(N),this.imod(N.ushln(q))},j.prototype.imul=function(N,q){return this._verify2(N,q),this.imod(N.imul(q))},j.prototype.mul=function(N,q){return this._verify2(N,q),this.imod(N.mul(q))},j.prototype.isqr=function(N){return this.imul(N,N.clone())},j.prototype.sqr=function(N){return this.mul(N,N)},j.prototype.sqrt=function(N){if(N.isZero())return N.clone();var q=this.m.andln(3);if(o(q%2==1),3===q){var G=this.m.add(new c(1)).iushrn(2);return this.pow(N,G)}for(var H=this.m.subn(1),Z=0;!H.isZero()&&0===H.andln(1);)Z++,H.iushrn(1);o(!H.isZero());var $=new c(1).toRed(this),se=$.redNeg(),ne=this.m.subn(1).iushrn(1),re=this.m.bitLength();for(re=new c(2*re*re).toRed(this);0!==this.pow(re,ne).cmp(se);)re.redIAdd(se);for(var Q=this.pow(re,H),ee=this.pow(N,H.addn(1).iushrn(1)),oe=this.pow(N,H),ce=Z;0!==oe.cmp($);){for(var ue=oe,he=0;0!==ue.cmp($);he++)ue=ue.redSqr();o(he<ce);var ve=this.pow(Q,new c(1).iushln(ce-he-1));ee=ee.redMul(ve),Q=ve.redSqr(),oe=oe.redMul(Q),ce=he}return ee},j.prototype.invm=function(N){var q=N._invmp(this.m);return 0!==q.negative?(q.negative=0,this.imod(q).redNeg()):this.imod(q)},j.prototype.pow=function(N,q){if(q.isZero())return new c(1).toRed(this);if(0===q.cmpn(1))return N.clone();var G=new Array(16);G[0]=new c(1).toRed(this),G[1]=N;for(var H=2;H<G.length;H++)G[H]=this.mul(G[H-1],N);var Z=G[0],$=0,se=0,ne=q.bitLength()%26;for(0===ne&&(ne=26),H=q.length-1;H>=0;H--){for(var re=q.words[H],Q=ne-1;Q>=0;Q--){var ee=re>>Q&1;Z!==G[0]&&(Z=this.sqr(Z)),0!==ee||0!==$?($<<=1,$|=ee,(4==++se||0===H&&0===Q)&&(Z=this.mul(Z,G[$]),se=0,$=0)):se=0}ne=26}return Z},j.prototype.convertTo=function(N){var q=N.umod(this.m);return q===N?q.clone():q},j.prototype.convertFrom=function(N){var q=N.clone();return q.red=null,q},c.mont=function(N){return new X(N)},l(X,j),X.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},X.prototype.convertFrom=function(N){var q=this.imod(N.mul(this.rinv));return q.red=null,q},X.prototype.imul=function(N,q){if(N.isZero()||q.isZero())return N.words[0]=0,N.length=1,N;var G=N.imul(q),H=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=G.isub(H).iushrn(this.shift),$=Z;return Z.cmp(this.m)>=0?$=Z.isub(this.m):Z.cmpn(0)<0&&($=Z.iadd(this.m)),$._forceRed(this)},X.prototype.mul=function(N,q){if(N.isZero()||q.isZero())return new c(0)._forceRed(this);var G=N.mul(q),H=G.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=G.isub(H).iushrn(this.shift),$=Z;return Z.cmp(this.m)>=0?$=Z.isub(this.m):Z.cmpn(0)<0&&($=Z.iadd(this.m)),$._forceRed(this)},X.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}}(v=i.nmd(v),this)},2692:function(v){"use strict";v.exports=function(u){var i,s,a,o=u.length,l=0;for(i=0;i<o;++i)l+=u[i].length;var c=new Array(l),f=0;for(i=0;i<o;++i){var g=u[i],h=g.length;for(s=0;s<h;++s){var T=c[f++]=new Array(h-1),x=0;for(a=0;a<h;++a)a!==s&&(T[x++]=g[a]);if(1&s){var m=T[1];T[1]=T[0],T[0]=m}}}return c}},2569:function(v,u,i){"use strict";v.exports=function(T,x,m){switch(arguments.length){case 1:return s=[],g(b=T,b,h,!0),s;case 2:return"function"==typeof x?g(T,T,x,!0):(s=[],g(T,x,h,!1),s);case 3:return g(T,x,m,!1);default:throw new Error("box-intersect: Invalid arguments")}var b};var s,a=i(5306),o=i(1390),l=i(2337);function c(T,x){for(var m=0;m<T;++m)if(!(x[m]<=x[m+T]))return!0;return!1}function f(T,x,m,b){for(var _=0,w=0,A=0,p=T.length;A<p;++A){var I=T[A];if(!c(x,I)){for(var k=0;k<2*x;++k)m[_++]=I[k];b[w++]=A}}return w}function g(T,x,m,b){var _=T.length,w=x.length;if(!(_<=0||w<=0)){var A=T[0].length>>>1;if(!(A<=0)){var p,I=a.mallocDouble(2*A*_),k=a.mallocInt32(_);if((_=f(T,A,I,k))>0){if(1===A&&b)o.init(_),p=o.sweepComplete(A,m,0,_,I,k,0,_,I,k);else{var L=a.mallocDouble(2*A*w),O=a.mallocInt32(w);(w=f(x,A,L,O))>0&&(o.init(_+w),p=1===A?o.sweepBipartite(A,m,0,_,I,k,0,w,L,O):l(A,m,b,_,I,k,w,L,O),a.free(L),a.free(O))}a.free(I),a.free(k)}return p}}}function h(T,x){s.push([T,x])}},7333:function(v,u){"use strict";function i(s){return s?function(a,o,l,c,f,g,h,T,x,m,b){return f-c>x-T?function(_,w,A,p,I,k,L,O,P,F,j){for(var X=2*_,N=p,q=X*p;N<I;++N,q+=X){var G=k[w+q],H=k[w+q+_],Z=L[N];e:for(var $=O,se=X*O;$<P;++$,se+=X){var Q=j[$];if(!(F[w+se+_]<G||H<F[w+se])){for(var ee=w+1;ee<_;++ee)if(k[ee+_+q]<F[ee+se]||F[ee+_+se]<k[ee+q])continue e;var ve=A(Z,Q);if(void 0!==ve)return ve}}}}(a,o,l,c,f,g,h,T,x,m,b):function(_,w,A,p,I,k,L,O,P,F,j){for(var X=2*_,N=O,q=X*O;N<P;++N,q+=X){var G=F[w+q],H=F[w+q+_],Z=j[N];e:for(var $=p,se=X*p;$<I;++$,se+=X){var Q=L[$];if(!(H<k[w+se]||k[w+se+_]<G)){for(var ee=w+1;ee<_;++ee)if(k[ee+_+se]<F[ee+q]||F[ee+_+q]<k[ee+se])continue e;var ve=A(Q,Z);if(void 0!==ve)return ve}}}}(a,o,l,c,f,g,h,T,x,m,b)}:function(a,o,l,c,f,g,h,T,x,m,b,_){return g-f>m-x?c?function(w,A,p,I,k,L,O,P,F,j,X){for(var N=2*w,q=I,G=N*I;q<k;++q,G+=N){var H=L[A+G],Z=L[A+G+w],$=O[q];e:for(var se=P,ne=N*P;se<F;++se,ne+=N){var re=j[A+ne],Q=X[se];if(!(re<=H||Z<re)){for(var ee=A+1;ee<w;++ee)if(L[ee+w+G]<j[ee+ne]||j[ee+w+ne]<L[ee+G])continue e;var ve=p(Q,$);if(void 0!==ve)return ve}}}}(a,o,l,f,g,h,T,x,m,b,_):function(w,A,p,I,k,L,O,P,F,j,X){for(var N=2*w,q=I,G=N*I;q<k;++q,G+=N){var H=L[A+G],Z=L[A+G+w],$=O[q];e:for(var se=P,ne=N*P;se<F;++se,ne+=N){var re=j[A+ne],Q=X[se];if(!(re<H||Z<re)){for(var ee=A+1;ee<w;++ee)if(L[ee+w+G]<j[ee+ne]||j[ee+w+ne]<L[ee+G])continue e;var ve=p($,Q);if(void 0!==ve)return ve}}}}(a,o,l,f,g,h,T,x,m,b,_):c?function(w,A,p,I,k,L,O,P,F,j,X){for(var N=2*w,q=P,G=N*P;q<F;++q,G+=N){var H=j[A+G],Z=X[q];e:for(var $=I,se=N*I;$<k;++$,se+=N){var Q=O[$];if(!(H<=L[A+se]||L[A+se+w]<H)){for(var ee=A+1;ee<w;++ee)if(L[ee+w+se]<j[ee+G]||j[ee+w+G]<L[ee+se])continue e;var ve=p(Z,Q);if(void 0!==ve)return ve}}}}(a,o,l,f,g,h,T,x,m,b,_):function(w,A,p,I,k,L,O,P,F,j,X){for(var N=2*w,q=P,G=N*P;q<F;++q,G+=N){var H=j[A+G],Z=X[q];e:for(var $=I,se=N*I;$<k;++$,se+=N){var Q=O[$];if(!(H<L[A+se]||L[A+se+w]<H)){for(var ee=A+1;ee<w;++ee)if(L[ee+w+se]<j[ee+G]||j[ee+w+G]<L[ee+se])continue e;var ve=p(Q,Z);if(void 0!==ve)return ve}}}}(a,o,l,f,g,h,T,x,m,b,_)}}u.partial=i(!1),u.full=i(!0)},2337:function(v,u,i){"use strict";v.exports=function(N,q,G,H,Z,$,se,ne,re){!function(qe,He){var Je=8*a.log2(He+1)*(qe+1)|0,et=a.nextPow2(k*Je);O.length<et&&(s.free(O),O=s.mallocInt32(et));var st=a.nextPow2(L*Je);P.length<st&&(s.free(P),P=s.mallocDouble(st))}(N,H+se);var Q,ee=0,oe=2*N;for(F(ee++,0,0,H,0,se,G?16:0,-1/0,1/0),G||F(ee++,0,0,se,0,H,1,-1/0,1/0);ee>0;){var ce=(ee-=1)*k,ue=O[ce],he=O[ce+1],ve=O[ce+2],ke=O[ce+3],Ie=O[ce+4],Me=O[ce+5],_e=ee*L,we=P[_e],ze=P[_e+1],Ee=1&Me,Se=!!(16&Me),me=Z,fe=$,le=ne,Te=re;if(Ee&&(me=ne,fe=re,le=Z,Te=$),!(2&Me&&he>=(ve=w(N,ue,he,ve,me,fe,ze))||4&Me&&(he=A(N,ue,he,ve,me,fe,we))>=ve)){var Re=ve-he,De=Ie-ke;if(Se){if(N*Re*(Re+De)<m){if(void 0!==(Q=f.scanComplete(N,ue,q,he,ve,me,fe,ke,Ie,le,Te)))return Q;continue}}else{if(N*Math.min(Re,De)<T){if(void 0!==(Q=l(N,ue,q,Ee,he,ve,me,fe,ke,Ie,le,Te)))return Q;continue}if(N*Re*De<x){if(void 0!==(Q=f.scanBipartite(N,ue,q,Ee,he,ve,me,fe,ke,Ie,le,Te)))return Q;continue}}var Ue=b(N,ue,he,ve,me,fe,we,ze);if(he<Ue)if(N*(Ue-he)<T){if(void 0!==(Q=c(N,ue+1,q,he,Ue,me,fe,ke,Ie,le,Te)))return Q}else if(ue===N-2){if(void 0!==(Q=Ee?f.sweepBipartite(N,q,ke,Ie,le,Te,he,Ue,me,fe):f.sweepBipartite(N,q,he,Ue,me,fe,ke,Ie,le,Te)))return Q}else F(ee++,ue+1,he,Ue,ke,Ie,Ee,-1/0,1/0),F(ee++,ue+1,ke,Ie,he,Ue,1^Ee,-1/0,1/0);if(Ue<ve){var Ze=g(N,ue,ke,Ie,le,Te),xe=le[oe*Ze+ue],Oe=_(N,ue,Ze,Ie,le,Te,xe);if(Oe<Ie&&F(ee++,ue,Ue,ve,Oe,Ie,(4|Ee)+(Se?16:0),xe,ze),ke<Ze&&F(ee++,ue,Ue,ve,ke,Ze,(2|Ee)+(Se?16:0),we,xe),Ze+1===Oe){if(void 0!==(Q=Se?X(N,ue,q,Ue,ve,me,fe,Ze,le,Te[Ze]):j(N,ue,q,Ee,Ue,ve,me,fe,Ze,le,Te[Ze])))return Q}else if(Ze<Oe){var Ce;if(Se){if(Ue<(Ce=p(N,ue,Ue,ve,me,fe,xe))){var Be=_(N,ue,Ue,Ce,me,fe,xe);if(ue===N-2){if(Ue<Be&&void 0!==(Q=f.sweepComplete(N,q,Ue,Be,me,fe,Ze,Oe,le,Te))||Be<Ce&&void 0!==(Q=f.sweepBipartite(N,q,Be,Ce,me,fe,Ze,Oe,le,Te)))return Q}else Ue<Be&&F(ee++,ue+1,Ue,Be,Ze,Oe,16,-1/0,1/0),Be<Ce&&(F(ee++,ue+1,Be,Ce,Ze,Oe,0,-1/0,1/0),F(ee++,ue+1,Ze,Oe,Be,Ce,1,-1/0,1/0))}}else Ue<(Ce=Ee?I(N,ue,Ue,ve,me,fe,xe):p(N,ue,Ue,ve,me,fe,xe))&&(ue===N-2?Q=Ee?f.sweepBipartite(N,q,Ze,Oe,le,Te,Ue,Ce,me,fe):f.sweepBipartite(N,q,Ue,Ce,me,fe,Ze,Oe,le,Te):(F(ee++,ue+1,Ue,Ce,Ze,Oe,Ee,-1/0,1/0),F(ee++,ue+1,Ze,Oe,Ue,Ce,1^Ee,-1/0,1/0)))}}}}};var s=i(5306),a=i(2288),o=i(7333),l=o.partial,c=o.full,f=i(1390),g=i(2464),h=i(122),T=128,x=1<<22,m=1<<22,b=h("!(lo>=p0)&&!(p1>=hi)"),_=h("lo===p0"),w=h("lo<p0"),A=h("hi<=p0"),p=h("lo<=p0&&p0<=hi"),I=h("lo<p0&&p0<=hi"),k=6,L=2,O=s.mallocInt32(1024),P=s.mallocDouble(1024);function F(N,q,G,H,Z,$,se,ne,re){var Q=k*N;O[Q]=q,O[Q+1]=G,O[Q+2]=H,O[Q+3]=Z,O[Q+4]=$,O[Q+5]=se;var ee=L*N;P[ee]=ne,P[ee+1]=re}function j(N,q,G,H,Z,$,se,ne,re,Q,ee){var oe=2*N,ce=re*oe,ue=Q[ce+q];e:for(var he=Z,ve=Z*oe;he<$;++he,ve+=oe){var ke=se[ve+q],Ie=se[ve+q+N];if(!(ue<ke||Ie<ue||H&&ue===ke)){for(var Me,_e=ne[he],we=q+1;we<N;++we)if(ke=se[ve+we],(Ie=se[ve+we+N])<Q[ce+we]||Q[ce+we+N]<ke)continue e;if(void 0!==(Me=H?G(ee,_e):G(_e,ee)))return Me}}}function X(N,q,G,H,Z,$,se,ne,re,Q){var ee=2*N,oe=ne*ee,ce=re[oe+q];e:for(var ue=H,he=H*ee;ue<Z;++ue,he+=ee){var ve=se[ue];if(ve!==Q){var ke=$[he+q],Ie=$[he+q+N];if(!(ce<ke||Ie<ce)){for(var Me=q+1;Me<N;++Me)if(ke=$[he+Me],(Ie=$[he+Me+N])<re[oe+Me]||re[oe+Me+N]<ke)continue e;var ze=G(ve,Q);if(void 0!==ze)return ze}}}}},2464:function(v,u,i){"use strict";v.exports=function(l,c,f,g,h,T){if(g<=f+1)return f;for(var x=f,m=g,b=g+f>>>1,_=2*l,w=b,A=h[_*b+c];x<m;){if(m-x<a){o(l,c,x,m,h,T),A=h[_*b+c];break}var p=m-x,I=Math.random()*p+x|0,k=h[_*I+c],L=Math.random()*p+x|0,O=h[_*L+c],P=Math.random()*p+x|0,F=h[_*P+c];k<=O?F>=O?(w=L,A=O):k>=F?(w=I,A=k):(w=P,A=F):O>=F?(w=L,A=O):F>=k?(w=I,A=k):(w=P,A=F);for(var j=_*(m-1),X=_*w,N=0;N<_;++N,++j,++X){var q=h[j];h[j]=h[X],h[X]=q}var G=T[m-1];for(T[m-1]=T[w],T[w]=G,j=_*(m-1),X=_*(w=s(l,c,x,m-1,h,T,A)),N=0;N<_;++N,++j,++X)q=h[j],h[j]=h[X],h[X]=q;if(G=T[m-1],T[m-1]=T[w],T[w]=G,b<w){for(m=w-1;x<m&&h[_*(m-1)+c]===A;)m-=1;m+=1}else{if(!(w<b))break;for(x=w+1;x<m&&h[_*x+c]===A;)x+=1}}return s(l,c,f,b,h,T,h[_*b+c])};var s=i(122)("lo<p0"),a=8;function o(l,c,f,g,h,T){for(var x=2*l,m=x*(f+1)+c,b=f+1;b<g;++b,m+=x)for(var _=h[m],w=b,A=x*(b-1);w>f&&h[A+c]>_;--w,A-=x){for(var p=A,I=A+x,k=0;k<x;++k,++p,++I){var L=h[p];h[p]=h[I],h[I]=L}var O=T[w];T[w]=T[w-1],T[w-1]=O}}},122:function(v){"use strict";v.exports=function(i){return u[i]};var u={"lo===p0":function(i,s,a,o,l,c,f){for(var g=2*i,h=g*a,T=h,x=a,m=s,b=a;o>b;++b,h+=g)if(l[h+m]===f)if(x===b)x+=1,T+=g;else{for(var _=0;g>_;++_){var w=l[h+_];l[h+_]=l[T],l[T++]=w}var A=c[b];c[b]=c[x],c[x++]=A}return x},"lo<p0":function(i,s,a,o,l,c,f){for(var g=2*i,h=g*a,T=h,x=a,m=s,b=a;o>b;++b,h+=g)if(l[h+m]<f)if(x===b)x+=1,T+=g;else{for(var _=0;g>_;++_){var w=l[h+_];l[h+_]=l[T],l[T++]=w}var A=c[b];c[b]=c[x],c[x++]=A}return x},"lo<=p0":function(i,s,a,o,l,c,f){for(var g=2*i,h=g*a,T=h,x=a,m=i+s,b=a;o>b;++b,h+=g)if(l[h+m]<=f)if(x===b)x+=1,T+=g;else{for(var _=0;g>_;++_){var w=l[h+_];l[h+_]=l[T],l[T++]=w}var A=c[b];c[b]=c[x],c[x++]=A}return x},"hi<=p0":function(i,s,a,o,l,c,f){for(var g=2*i,h=g*a,T=h,x=a,m=i+s,b=a;o>b;++b,h+=g)if(l[h+m]<=f)if(x===b)x+=1,T+=g;else{for(var _=0;g>_;++_){var w=l[h+_];l[h+_]=l[T],l[T++]=w}var A=c[b];c[b]=c[x],c[x++]=A}return x},"lo<p0&&p0<=hi":function(i,s,a,o,l,c,f){for(var g=2*i,h=g*a,T=h,x=a,m=s,b=i+s,_=a;o>_;++_,h+=g)if(l[h+m]<f&&f<=l[h+b])if(x===_)x+=1,T+=g;else{for(var p=0;g>p;++p){var I=l[h+p];l[h+p]=l[T],l[T++]=I}var k=c[_];c[_]=c[x],c[x++]=k}return x},"lo<=p0&&p0<=hi":function(i,s,a,o,l,c,f){for(var g=2*i,h=g*a,T=h,x=a,m=s,b=i+s,_=a;o>_;++_,h+=g)if(l[h+m]<=f&&f<=l[h+b])if(x===_)x+=1,T+=g;else{for(var p=0;g>p;++p){var I=l[h+p];l[h+p]=l[T],l[T++]=I}var k=c[_];c[_]=c[x],c[x++]=k}return x},"!(lo>=p0)&&!(p1>=hi)":function(i,s,a,o,l,c,f,g){for(var h=2*i,T=h*a,x=T,m=a,b=s,_=i+s,w=a;o>w;++w,T+=h)if(!(l[T+b]>=f||g>=l[T+_]))if(m===w)m+=1,x+=h;else{for(var I=0;h>I;++I){var k=l[T+I];l[T+I]=l[x],l[x++]=k}var L=c[w];c[w]=c[m],c[m++]=L}return m}}},309:function(v){"use strict";v.exports=function(h,T){T<=4*u?i(0,T-1,h):g(0,T-1,h)};var u=32;function i(h,T,x){for(var m=2*(h+1),b=h+1;b<=T;++b){for(var _=x[m++],w=x[m++],A=b,p=m-2;A-- >h;){var I=x[p-2],k=x[p-1];if(I<_||I===_&&k<w)break;x[p]=I,x[p+1]=k,p-=2}x[p]=_,x[p+1]=w}}function s(h,T,x){var m=x[h*=2],b=x[h+1];x[h]=x[T*=2],x[h+1]=x[T+1],x[T]=m,x[T+1]=b}function a(h,T,x){x[h*=2]=x[T*=2],x[h+1]=x[T+1]}function o(h,T,x,m){x*=2;var b=m[h*=2],_=m[h+1];m[h]=m[T*=2],m[h+1]=m[T+1],m[T]=m[x],m[T+1]=m[x+1],m[x]=b,m[x+1]=_}function l(h,T,x,m,b){b[h*=2]=b[T*=2],b[T]=x,b[h+1]=b[T+1],b[T+1]=m}function c(h,T,x){var m=x[h*=2],b=x[T*=2];return!(m<b)&&(m!==b||x[h+1]>x[T+1])}function f(h,T,x,m){var b=m[h*=2];return b<T||b===T&&m[h+1]<x}function g(h,T,x){var m=(T-h+1)/6|0,b=h+m,_=T-m,w=h+T>>1,A=w-m,p=w+m,I=b,k=A,L=w,O=p,P=_,F=h+1,j=T-1,X=0;c(I,k,x)&&(X=I,I=k,k=X),c(O,P,x)&&(X=O,O=P,P=X),c(I,L,x)&&(X=I,I=L,L=X),c(k,L,x)&&(X=k,k=L,L=X),c(I,O,x)&&(X=I,I=O,O=X),c(L,O,x)&&(X=L,L=O,O=X),c(k,P,x)&&(X=k,k=P,P=X),c(k,L,x)&&(X=k,k=L,L=X),c(O,P,x)&&(X=O,O=P,P=X);for(var N=x[2*k],q=x[2*k+1],G=x[2*O],H=x[2*O+1],Z=2*I,$=2*L,se=2*P,ne=2*b,re=2*w,Q=2*_,ee=0;ee<2;++ee){var ce=x[$+ee],ue=x[se+ee];x[ne+ee]=x[Z+ee],x[re+ee]=ce,x[Q+ee]=ue}a(A,h,x),a(p,T,x);for(var he=F;he<=j;++he)if(f(he,N,q,x))he!==F&&s(he,F,x),++F;else if(!f(he,G,H,x))for(;;){if(f(j,G,H,x)){f(j,N,q,x)?(o(he,F,j,x),++F,--j):(s(he,j,x),--j);break}if(--j<he)break}l(h,F-1,N,q,x),l(T,j+1,G,H,x),F-2-h<=u?i(h,F-2,x):g(h,F-2,x),T-(j+2)<=u?i(j+2,T,x):g(j+2,T,x),j-F<=u?i(F,j,x):g(F,j,x)}},1390:function(v,u,i){"use strict";v.exports={init:function(A){var p=a.nextPow2(A);f.length<p&&(s.free(f),f=s.mallocInt32(p)),g.length<p&&(s.free(g),g=s.mallocInt32(p)),h.length<p&&(s.free(h),h=s.mallocInt32(p)),T.length<p&&(s.free(T),T=s.mallocInt32(p)),x.length<p&&(s.free(x),x=s.mallocInt32(p)),m.length<p&&(s.free(m),m=s.mallocInt32(p));var I=8*p;b.length<I&&(s.free(b),b=s.mallocDouble(I))},sweepBipartite:function(A,p,I,k,L,O,P,F,j,X){for(var N=0,q=2*A,G=A-1,H=q-1,Z=I;Z<k;++Z){var $=O[Z],se=q*Z;b[N++]=L[se+G],b[N++]=-($+1),b[N++]=L[se+H],b[N++]=$}for(Z=P;Z<F;++Z){$=X[Z]+l;var ne=q*Z;b[N++]=j[ne+G],b[N++]=-$,b[N++]=j[ne+H],b[N++]=$}var re=N>>>1;o(b,re);var Q=0,ee=0;for(Z=0;Z<re;++Z){var oe=0|b[2*Z+1];if(oe>=l)_(h,T,ee--,oe=oe-l|0);else if(oe>=0)_(f,g,Q--,oe);else if(oe<=-l){oe=-oe-l|0;for(var ce=0;ce<Q;++ce)if(void 0!==(ue=p(f[ce],oe)))return ue;w(h,T,ee++,oe)}else{for(oe=-oe-1|0,ce=0;ce<ee;++ce){var ue;if(void 0!==(ue=p(oe,h[ce])))return ue}w(f,g,Q++,oe)}}},sweepComplete:function(A,p,I,k,L,O,P,F,j,X){for(var N=0,q=2*A,G=A-1,H=q-1,Z=I;Z<k;++Z){var $=O[Z]+1<<1,se=q*Z;b[N++]=L[se+G],b[N++]=-$,b[N++]=L[se+H],b[N++]=$}for(Z=P;Z<F;++Z){$=X[Z]+1<<1;var ne=q*Z;b[N++]=j[ne+G],b[N++]=1|-$,b[N++]=j[ne+H],b[N++]=1|$}var re=N>>>1;o(b,re);var Q=0,ee=0,oe=0;for(Z=0;Z<re;++Z){var ce=0|b[2*Z+1],ue=1&ce;if(Z<re-1&&ce>>1==b[2*Z+3]>>1&&(ue=2,Z+=1),ce<0){for(var he=-(ce>>1)-1,ve=0;ve<oe;++ve)if(void 0!==(ke=p(x[ve],he)))return ke;if(0!==ue)for(ve=0;ve<Q;++ve)if(void 0!==(ke=p(f[ve],he)))return ke;if(1!==ue)for(ve=0;ve<ee;++ve){var ke;if(void 0!==(ke=p(h[ve],he)))return ke}0===ue?w(f,g,Q++,he):1===ue?w(h,T,ee++,he):2===ue&&w(x,m,oe++,he)}else he=(ce>>1)-1,0===ue?_(f,g,Q--,he):1===ue?_(h,T,ee--,he):2===ue&&_(x,m,oe--,he)}},scanBipartite:function(A,p,I,k,L,O,P,F,j,X,N,q){var G=0,H=2*A,Z=p,$=p+A,se=1,ne=1;k?ne=l:se=l;for(var re=L;re<O;++re){var Q=re+se,ee=H*re;b[G++]=P[ee+Z],b[G++]=-Q,b[G++]=P[ee+$],b[G++]=Q}for(re=j;re<X;++re)Q=re+ne,b[G++]=N[H*re+Z],b[G++]=-Q;var ce=G>>>1;o(b,ce);var ue=0;for(re=0;re<ce;++re){var he=0|b[2*re+1];if(he<0){var ve=!1;if((Q=-he)>=l?(ve=!k,Q-=l):(ve=!!k,Q-=1),ve)w(f,g,ue++,Q);else{var ke=q[Q],Ie=H*Q,Me=N[Ie+p+1],_e=N[Ie+p+1+A];e:for(var we=0;we<ue;++we){var ze=f[we],Ee=H*ze;if(!(_e<P[Ee+p+1]||P[Ee+p+1+A]<Me)){for(var Se=p+2;Se<A;++Se)if(N[Ie+Se+A]<P[Ee+Se]||P[Ee+Se+A]<N[Ie+Se])continue e;var me,fe=F[ze];if(void 0!==(me=k?I(ke,fe):I(fe,ke)))return me}}}}else _(f,g,ue--,he-se)}},scanComplete:function(A,p,I,k,L,O,P,F,j,X,N){for(var q=0,G=2*A,H=p,Z=p+A,$=k;$<L;++$){var se=$+l,ne=G*$;b[q++]=O[ne+H],b[q++]=-se,b[q++]=O[ne+Z],b[q++]=se}for($=F;$<j;++$)se=$+1,b[q++]=X[G*$+H],b[q++]=-se;var Q=q>>>1;o(b,Q);var ee=0;for($=0;$<Q;++$){var oe=0|b[2*$+1];if(oe<0)if((se=-oe)>=l)f[ee++]=se-l;else{var ce=N[se-=1],ue=G*se,he=X[ue+p+1],ve=X[ue+p+1+A];e:for(var ke=0;ke<ee;++ke){var Ie=f[ke],Me=P[Ie];if(Me===ce)break;var _e=G*Ie;if(!(ve<O[_e+p+1]||O[_e+p+1+A]<he)){for(var we=p+2;we<A;++we)if(X[ue+we+A]<O[_e+we]||O[_e+we+A]<X[ue+we])continue e;var ze=I(Me,ce);if(void 0!==ze)return ze}}}else{for(se=oe-l,ke=ee-1;ke>=0;--ke)if(f[ke]===se){for(we=ke+1;we<ee;++we)f[we-1]=f[we];break}--ee}}}};var s=i(5306),a=i(2288),o=i(309),l=1<<28,c=1024,f=s.mallocInt32(c),g=s.mallocInt32(c),h=s.mallocInt32(c),T=s.mallocInt32(c),x=s.mallocInt32(c),m=s.mallocInt32(c),b=s.mallocDouble(8192);function _(A,p,I,k){var L=p[k],O=A[I-1];A[L]=O,p[O]=L}function w(A,p,I,k){A[I]=k,p[k]=I}},7761:function(v,u,i){"use strict";var s=i(9971),a=i(743),o=i(2161),l=i(7098);function c(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function f(h,T){return h[0]-T[0]||h[1]-T[1]}function g(h,T,x){return T in h?h[T]:x}v.exports=function(h,T,x){Array.isArray(T)?(x=x||{},T=T||[]):(x=T||{},T=[]);var m=!!g(x,"delaunay",!0),b=!!g(x,"interior",!0),_=!!g(x,"exterior",!0),w=!!g(x,"infinity",!1);if(!b&&!_||0===h.length)return[];var A=s(h,T);if(m||b!==_||w){for(var p=a(h.length,T.map(c).sort(f)),I=0;I<A.length;++I){var k=A[I];p.addTriangle(k[0],k[1],k[2])}return m&&o(h,p),_?b?w?l(p,0,w):p.cells():l(p,1,w):l(p,-1)}return A}},2161:function(v,u,i){"use strict";var s=i(2227)[4];function a(o,l,c,f,g,h){var T=l.opposite(f,g);if(!(T<0)){if(g<f){var x=f;f=g,g=x,x=h,h=T,T=x}l.isConstraint(f,g)||s(o[f],o[g],o[h],o[T])<0&&c.push(f,g)}}i(5070),v.exports=function(o,l){for(var c=[],f=o.length,g=l.stars,h=0;h<f;++h)for(var T=g[h],x=1;x<T.length;x+=2)if(!((w=T[x])<h||l.isConstraint(h,w))){for(var m=T[x-1],b=-1,_=1;_<T.length;_+=2)if(T[_-1]===w){b=T[_];break}b<0||s(o[h],o[w],o[m],o[b])<0&&c.push(h,w)}for(;c.length>0;){for(var w=c.pop(),A=(m=-1,b=-1,T=g[h=c.pop()],1);A<T.length;A+=2){var p=T[A-1],I=T[A];p===w?b=I:I===w&&(m=p)}m<0||b<0||s(o[h],o[w],o[m],o[b])>=0||(l.flip(h,w),a(o,l,c,m,h,b),a(o,l,c,h,b,m),a(o,l,c,b,w,m),a(o,l,c,w,m,b))}}},7098:function(v,u,i){"use strict";var s,a=i(5070);function o(c,f,g,h,T,x,m){this.cells=c,this.neighbor=f,this.flags=h,this.constraint=g,this.active=T,this.next=x,this.boundary=m}function l(c,f){return c[0]-f[0]||c[1]-f[1]||c[2]-f[2]}v.exports=function(c,f,g){var h=function(P,F){for(var j=P.cells(),X=j.length,N=0;N<X;++N){var q=(oe=j[N])[0],G=oe[1],H=oe[2];G<H?G<q&&(oe[0]=G,oe[1]=H,oe[2]=q):H<q&&(oe[0]=H,oe[1]=q,oe[2]=G)}j.sort(l);var Z=new Array(X);for(N=0;N<Z.length;++N)Z[N]=0;var $=[],se=[],ne=new Array(3*X),re=new Array(3*X),Q=null;F&&(Q=[]);var ee=new o(j,ne,re,Z,$,se,Q);for(N=0;N<X;++N)for(var oe=j[N],ce=0;ce<3;++ce){var ue=ne[3*N+ce]=ee.locate(G=oe[(ce+1)%3],q=oe[ce],P.opposite(G,q)),he=re[3*N+ce]=P.isConstraint(q,G);ue<0&&(he?se.push(N):($.push(N),Z[N]=1),F&&Q.push([G,q,-1]))}return ee}(c,g);if(0===f)return g?h.cells.concat(h.boundary):h.cells;for(var T=1,x=h.active,m=h.next,b=h.flags,_=h.cells,w=h.constraint,A=h.neighbor;x.length>0||m.length>0;){for(;x.length>0;){var p=x.pop();if(b[p]!==-T){b[p]=T;for(var I=0;I<3;++I){var k=A[3*p+I];k>=0&&0===b[k]&&(w[3*p+I]?m.push(k):(x.push(k),b[k]=T))}}}var L=m;m=x,x=L,m.length=0,T=-T}var O=function(P,F,j){for(var X=0,N=0;N<P.length;++N)F[N]===j&&(P[X++]=P[N]);return P.length=X,P}(_,b,f);return g?O.concat(h.boundary):O},o.prototype.locate=(s=[0,0,0],function(c,f,g){var h=c,T=f,x=g;return f<g?f<c&&(h=f,T=g,x=c):g<c&&(h=g,T=c,x=f),h<0?-1:(s[0]=h,s[1]=T,s[2]=x,a.eq(this.cells,s,l))})},9971:function(v,u,i){"use strict";var s=i(5070),a=i(417)[3];function o(m,b,_,w,A){this.a=m,this.b=b,this.idx=_,this.lowerIds=w,this.upperIds=A}function l(m,b,_,w){this.a=m,this.b=b,this.type=_,this.idx=w}function c(m,b){var _=m.a[0]-b.a[0]||m.a[1]-b.a[1]||m.type-b.type;return _||(0!==m.type&&(_=a(m.a,m.b,b.b))?_:m.idx-b.idx)}function f(m,b){return a(m.a,m.b,b)}function g(m,b,_,w,A){for(var p=s.lt(b,w,f),I=s.gt(b,w,f),k=p;k<I;++k){for(var L=b[k],O=L.lowerIds,P=O.length;P>1&&a(_[O[P-2]],_[O[P-1]],w)>0;)m.push([O[P-1],O[P-2],A]),P-=1;O.length=P,O.push(A);var F=L.upperIds;for(P=F.length;P>1&&a(_[F[P-2]],_[F[P-1]],w)<0;)m.push([F[P-2],F[P-1],A]),P-=1;F.length=P,F.push(A)}}function h(m,b){var _;return(_=m.a[0]<b.a[0]?a(m.a,m.b,b.a):a(b.b,b.a,m.a))?_:(_=b.b[0]<m.b[0]?a(m.a,m.b,b.b):a(b.b,b.a,m.b))||m.idx-b.idx}function T(m,b,_){var w=s.le(m,_,h),A=m[w],p=A.upperIds,I=p[p.length-1];A.upperIds=[I],m.splice(w+1,0,new o(_.a,_.b,_.idx,[I],p))}function x(m,b,_){var w=_.a;_.a=_.b,_.b=w;var A=s.eq(m,_,h);m[A-1].upperIds=m[A].upperIds,m.splice(A,1)}v.exports=function(m,b){for(var _=m.length,w=b.length,A=[],p=0;p<_;++p)A.push(new l(m[p],null,0,p));for(p=0;p<w;++p){var I=b[p],k=m[I[0]],L=m[I[1]];k[0]<L[0]?A.push(new l(k,L,2,p),new l(L,k,1,p)):k[0]>L[0]&&A.push(new l(L,k,2,p),new l(k,L,1,p))}A.sort(c);for(var O=A[0].a[0]-(1+Math.abs(A[0].a[0]))*Math.pow(2,-52),P=[new o([O,1],[O,0],-1,[],[],[],[])],F=[],j=(p=0,A.length);p<j;++p){var X=A[p],N=X.type;0===N?g(F,P,m,X.a,X.idx):2===N?T(P,0,X):x(P,0,X)}return F}},743:function(v,u,i){"use strict";var s=i(5070);function a(c,f){this.stars=c,this.edges=f}v.exports=function(c,f){for(var g=new Array(c),h=0;h<c;++h)g[h]=[];return new a(g,f)};var o=a.prototype;function l(c,f,g){for(var h=1,T=c.length;h<T;h+=2)if(c[h-1]===f&&c[h]===g)return c[h-1]=c[T-2],c[h]=c[T-1],void(c.length=T-2)}o.isConstraint=function(){var c=[0,0];function f(g,h){return g[0]-h[0]||g[1]-h[1]}return function(g,h){return c[0]=Math.min(g,h),c[1]=Math.max(g,h),s.eq(this.edges,c,f)>=0}}(),o.removeTriangle=function(c,f,g){var h=this.stars;l(h[c],f,g),l(h[f],g,c),l(h[g],c,f)},o.addTriangle=function(c,f,g){var h=this.stars;h[c].push(f,g),h[f].push(g,c),h[g].push(c,f)},o.opposite=function(c,f){for(var g=this.stars[f],h=1,T=g.length;h<T;h+=2)if(g[h]===c)return g[h-1];return-1},o.flip=function(c,f){var g=this.opposite(c,f),h=this.opposite(f,c);this.removeTriangle(c,f,g),this.removeTriangle(f,c,h),this.addTriangle(c,h,g),this.addTriangle(f,g,h)},o.edges=function(){for(var c=this.stars,f=[],g=0,h=c.length;g<h;++g)for(var T=c[g],x=0,m=T.length;x<m;x+=2)f.push([T[x],T[x+1]]);return f},o.cells=function(){for(var c=this.stars,f=[],g=0,h=c.length;g<h;++g)for(var T=c[g],x=0,m=T.length;x<m;x+=2){var b=T[x],_=T[x+1];g<Math.min(b,_)&&f.push([g,b,_])}return f}},9887:function(v){"use strict";v.exports=function(u){for(var i=1,s=1;s<u.length;++s)for(var a=0;a<s;++a)if(u[s]<u[a])i=-i;else if(u[a]===u[s])return 0;return i}},9243:function(v,u,i){"use strict";var s=i(3094),a=i(6606);function o(f,g){for(var h=0,T=f.length,x=0;x<T;++x)h+=f[x]*g[x];return h}function l(f){var g=f.length;if(0===g)return[];var h=s([f.length+1,f.length+1],1),T=s([f.length+1],1);h[g][g]=0;for(var x=0;x<g;++x){for(var m=0;m<=x;++m)h[m][x]=h[x][m]=2*o(f[x],f[m]);T[x]=o(f[x],f[x])}var b=a(h,T),_=0,w=b[g+1];for(x=0;x<w.length;++x)_+=w[x];var A=new Array(g);for(x=0;x<g;++x){w=b[x];var p=0;for(m=0;m<w.length;++m)p+=w[m];A[x]=p/_}return A}function c(f){if(0===f.length)return[];for(var g=f[0].length,h=s([g]),T=l(f),x=0;x<f.length;++x)for(var m=0;m<g;++m)h[m]+=f[x][m]*T[x];return h}c.barycenetric=l,v.exports=c},1778:function(v,u,i){v.exports=function(a){for(var o=s(a),l=0,c=0;c<a.length;++c)for(var f=a[c],g=0;g<o.length;++g)l+=Math.pow(f[g]-o[g],2);return Math.sqrt(l/a.length)};var s=i(9243)},197:function(v,u,i){"use strict";v.exports=function(I,k,L){var O,N,G,H;if(L){O=k;for(var P=new Array(k.length),F=0;F<k.length;++F){var j=k[F];P[F]=[j[0],j[1],L[F]]}k=P}for(var X=(G=!!L,void 0,A(k,H=b(N=I,[],m(N)),G),!!H);p(I,k,!!L);)X=!0;if(L&&X)for(O.length=0,L.length=0,F=0;F<k.length;++F)O.push([(j=k[F])[0],j[1]]),L.push(j[2]);return X};var s=i(1731),a=i(2569),o=i(4434),l=i(5125),c=i(8846),f=i(7999),g=i(2826),h=i(8551),T=i(5528);function x(I){var k=f(I);return[h(k,-1/0),h(k,1/0)]}function m(I){for(var k=new Array(I.length),L=0;L<I.length;++L){var O=I[L];k[L]=[h(O[0],-1/0),h(O[1],-1/0),h(O[0],1/0),h(O[1],1/0)]}return k}function b(I,k,L){for(var O=k.length,P=new s(O),F=[],j=0;j<k.length;++j){var X=k[j],N=x(X[0]),q=x(X[1]);F.push([h(N[0],-1/0),h(q[0],-1/0),h(N[1],1/0),h(q[1],1/0)])}a(F,function(se,ne){P.link(se,ne)});var G=!0,H=new Array(O);for(j=0;j<O;++j)($=P.find(j))!==j&&(G=!1,I[$]=[Math.min(I[j][0],I[$][0]),Math.min(I[j][1],I[$][1])]);if(G)return null;var Z=0;for(j=0;j<O;++j){var $;($=P.find(j))===j?(H[j]=Z,I[Z++]=I[j]):H[j]=-1}for(I.length=Z,j=0;j<O;++j)H[j]<0&&(H[j]=H[P.find(j)]);return H}function _(I,k){return I[0]-k[0]||I[1]-k[1]}function w(I,k){return I[0]-k[0]||I[1]-k[1]||(I[2]<k[2]?-1:I[2]>k[2]?1:0)}function A(I,k,L){if(0!==I.length){if(k)for(var O=0;O<I.length;++O){var P=k[(j=I[O])[0]],F=k[j[1]];j[0]=Math.min(P,F),j[1]=Math.max(P,F)}else for(O=0;O<I.length;++O){var j;P=(j=I[O])[0],F=j[1],j[0]=Math.min(P,F),j[1]=Math.max(P,F)}I.sort(L?w:_);var X=1;for(O=1;O<I.length;++O){var N=I[O-1],q=I[O];(q[0]!==N[0]||q[1]!==N[1]||L&&q[2]!==N[2])&&(I[X++]=q)}I.length=X}}function p(I,k,L){var N,q,H,O=function(N,q){for(var G=new Array(q.length),H=0;H<q.length;++H){var Z=q[H],$=N[Z[0]],se=N[Z[1]];G[H]=[h(Math.min($[0],se[0]),-1/0),h(Math.min($[1],se[1]),-1/0),h(Math.max($[0],se[0]),1/0),h(Math.max($[1],se[1]),1/0)]}return G}(I,k),P=(N=I,q=k,H=[],a(O,function(Z,$){var se=q[Z],ne=q[$];se[0]!==ne[0]&&se[0]!==ne[1]&&se[1]!==ne[0]&&se[1]!==ne[1]&&o(N[se[0]],N[se[1]],N[ne[0]],N[ne[1]])&&H.push([Z,$])}),H),F=function(N,q,G,H){var Z=[];return a(G,H,function($,se){var ne=q[$];if(ne[0]!==se&&ne[1]!==se){var re=N[se];o(N[ne[0]],N[ne[1]],re,re)&&Z.push([$,se])}}),Z}(I,k,O,m(I)),j=function(N,q,G,H,Z){var $,se,ne=N.map(function(me){return[l(me[0]),l(me[1])]});for($=0;$<G.length;++$){var re=G[$],Q=re[1],ee=q[se=re[0]],oe=q[Q],ce=T(g(N[ee[0]]),g(N[ee[1]]),g(N[oe[0]]),g(N[oe[1]]));if(ce){var ue=N.length;N.push([f(ce[0]),f(ce[1])]),ne.push(ce),H.push([se,ue],[Q,ue])}}for(H.sort(function(me,fe){if(me[0]!==fe[0])return me[0]-fe[0];var le=ne[me[1]],Te=ne[fe[1]];return c(le[0],Te[0])||c(le[1],Te[1])}),$=H.length-1;$>=0;--$){var he=q[se=(Ee=H[$])[0]],ve=he[0],ke=he[1],Ie=N[ve],Me=N[ke];if((Ie[0]-Me[0]||Ie[1]-Me[1])<0){var _e=ve;ve=ke,ke=_e}he[0]=ve;var we,ze=he[1]=Ee[1];for(Z&&(we=he[2]);$>0&&H[$-1][0]===se;){var Ee,Se=(Ee=H[--$])[1];q.push(Z?[ze,Se,we]:[ze,Se]),ze=Se}q.push(Z?[ze,ke,we]:[ze,ke])}return ne}(I,k,P,F,L),X=b(I,j);return A(k,X,L),!!X||P.length>0||F.length>0}},5528:function(v,u,i){"use strict";v.exports=function(T,x,m,b){var _=c(x,T),w=c(b,m),A=h(_,w);if(0===l(A))return null;var p=h(w,c(T,m)),I=a(p,A),k=g(_,I);return f(T,k)};var s=i(3962),a=i(9189),o=i(4354),l=i(4951),c=i(6695),f=i(7584),g=i(4469);function h(T,x){return o(s(T[0],x[1]),s(T[1],x[0]))}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,u,i){"use strict";var s=i(5692),a=i(3578);function o(f){return[f[0]/255,f[1]/255,f[2]/255,f[3]]}function l(f){for(var g,h="#",T=0;T<3;++T)h+=("00"+(g=(g=f[T]).toString(16))).substr(g.length);return h}function c(f){return"rgba("+f.join(",")+")"}v.exports=function(f){var g,h,T,x,m,b,_,w,A,p;if(f||(f={}),w=(f.nshades||72)-1,_=f.format||"hex",(b=f.colormap)||(b="jet"),"string"==typeof b){if(b=b.toLowerCase(),!s[b])throw Error(b+" not a supported colorscale");m=s[b]}else{if(!Array.isArray(b))throw Error("unsupported colormap option",b);m=b.slice()}if(m.length>w+1)throw new Error(b+" map requires nshades to be at least size "+m.length);A=Array.isArray(f.alpha)?2!==f.alpha.length?[1,1]:f.alpha.slice():"number"==typeof f.alpha?[f.alpha,f.alpha]:[1,1],g=m.map(function(P){return Math.round(P.index*w)}),A[0]=Math.min(Math.max(A[0],0),1),A[1]=Math.min(Math.max(A[1],0),1);var I=m.map(function(P,F){var j=m[F].index,X=m[F].rgb.slice();return 4===X.length&&X[3]>=0&&X[3]<=1||(X[3]=A[0]+(A[1]-A[0])*j),X}),k=[];for(p=0;p<g.length-1;++p){x=g[p+1]-g[p],h=I[p],T=I[p+1];for(var L=0;L<x;L++){var O=L/x;k.push([Math.round(a(h[0],T[0],O)),Math.round(a(h[1],T[1],O)),Math.round(a(h[2],T[2],O)),a(h[3],T[3],O)])}}return k.push(m[m.length-1].rgb.concat(A[1])),"hex"===_?k=k.map(l):"rgbaString"===_?k=k.map(c):"float"===_&&(k=k.map(o)),k}},9398:function(v,u,i){"use strict";v.exports=function(g,h,T,x){var m=s(h,T,x);if(0===m){var b=a(s(g,h,T)),_=a(s(g,h,x));if(b===_){if(0===b){var w=f(g,h,T);return w===f(g,h,x)?0:w?1:-1}return 0}return 0===_?b>0||f(g,h,x)?-1:1:0===b?_>0||f(g,h,T)?1:-1:a(_-b)}var A=s(g,h,T);return A>0?m>0&&s(g,h,x)>0?1:-1:A<0?m>0||s(g,h,x)>0?1:-1:s(g,h,x)>0||f(g,h,T)?1:-1};var s=i(417),a=i(7538),o=i(87),l=i(2019),c=i(9662);function f(g,h,T){var x=o(g[0],-h[0]),m=o(g[1],-h[1]),b=o(T[0],-h[0]),_=o(T[1],-h[1]),w=c(l(x,b),l(m,_));return w[w.length-1]>=0}},7538:function(v){"use strict";v.exports=function(u){return u<0?-1:u>0?1:0}},9209:function(v){v.exports=function(s,a){var o=s.length,l=s.length-a.length;if(l)return l;switch(o){case 0:return 0;case 1:return s[0]-a[0];case 2:return s[0]+s[1]-a[0]-a[1]||u(s[0],s[1])-u(a[0],a[1]);case 3:var c=s[0]+s[1],f=a[0]+a[1];if(l=c+s[2]-(f+a[2]))return l;var g=u(s[0],s[1]),h=u(a[0],a[1]);return u(g,s[2])-u(h,a[2])||u(g+s[2],c)-u(h+a[2],f);case 4:var T=s[0],x=s[1],m=s[2],b=s[3],_=a[0],w=a[1],A=a[2],p=a[3];return T+x+m+b-(_+w+A+p)||u(T,x,m,b)-u(_,w,A,p,_)||u(T+x,T+m,T+b,x+m,x+b,m+b)-u(_+w,_+A,_+p,w+A,w+p,A+p)||u(T+x+m,T+x+b,T+m+b,x+m+b)-u(_+w+A,_+w+p,_+A+p,w+A+p);default:for(var I=s.slice().sort(i),k=a.slice().sort(i),L=0;L<o;++L)if(l=I[L]-k[L])return l;return 0}};var u=Math.min;function i(s,a){return s-a}},1284:function(v,u,i){"use strict";var s=i(9209),a=i(9887);v.exports=function(o,l){return s(o,l)||a(o)-a(l)}},5537:function(v,u,i){"use strict";var s=i(8950),a=i(8722),o=i(3332);v.exports=function(l){var c=l.length;if(0===c)return[];if(1===c)return[[0]];var f=l[0].length;return 0===f?[]:1===f?s(l):2===f?a(l):o(l,f)}},8950:function(v){"use strict";v.exports=function(u){for(var i=0,s=0,a=1;a<u.length;++a)u[a][0]<u[i][0]&&(i=a),u[a][0]>u[s][0]&&(s=a);return i<s?[[i],[s]]:i>s?[[s],[i]]:[[i]]}},8722:function(v,u,i){"use strict";v.exports=function(a){var o=s(a),l=o.length;if(l<=2)return[];for(var c=new Array(l),f=o[l-1],g=0;g<l;++g){var h=o[g];c[g]=[f,h],f=h}return c};var s=i(3266)},3332:function(v,u,i){"use strict";v.exports=function(o,l){try{return s(o,!0)}catch{var c=a(o);if(c.length<=l)return[];var f=function(h,T){for(var x=h.length,m=new Array(x),b=0;b<T.length;++b)m[b]=h[T[b]];var _=T.length;for(b=0;b<x;++b)T.indexOf(b)<0&&(m[_++]=h[b]);return m}(o,c);return function(h,T){for(var x=h.length,m=T.length,b=0;b<x;++b)for(var _=h[b],w=0;w<_.length;++w){var A=_[w];if(A<m)_[w]=T[A];else{A-=m;for(var p=0;p<m;++p)A>=T[p]&&(A+=1);_[w]=A}}return h}(s(f,!0),c)}};var s=i(2183),a=i(2153)},9680:function(v){"use strict";v.exports=function(u,i,s,a,o,l){var c=o-1,f=o*o,g=c*c,h=(1+2*o)*g,T=o*g,x=f*(3-2*o),m=f*c;if(u.length){l||(l=new Array(u.length));for(var b=u.length-1;b>=0;--b)l[b]=h*u[b]+T*i[b]+x*s[b]+m*a[b];return l}return h*u+T*i+x*s+m*a},v.exports.derivative=function(u,i,s,a,o,l){var c=6*o*o-6*o,f=3*o*o-4*o+1,g=-6*o*o+6*o,h=3*o*o-2*o;if(u.length){l||(l=new Array(u.length));for(var T=u.length-1;T>=0;--T)l[T]=c*u[T]+f*i[T]+g*s[T]+h*a[T];return l}return c*u+f*i+g*s[T]+h*a}},4419:function(v,u,i){"use strict";var s=i(2183),a=i(1215);function o(c,f){this.point=c,this.index=f}function l(c,f){for(var g=c.point,h=f.point,T=g.length,x=0;x<T;++x){var m=h[x]-g[x];if(m)return m}return 0}v.exports=function(c,f){var g=c.length;if(0===g)return[];var h=c[0].length;if(h<1)return[];if(1===h)return function(j,X,N){if(1===j)return N?[[-1,0]]:[];var q=X.map(function(se,ne){return[se[0],ne]});q.sort(function(se,ne){return se[0]-ne[0]});for(var G=new Array(j-1),H=1;H<j;++H)G[H-1]=[q[H-1][1],q[H][1]];return N&&G.push([-1,G[0][1]],[G[j-1][1],-1]),G}(g,c,f);for(var T=new Array(g),x=1,m=0;m<g;++m){for(var b=c[m],_=new Array(h+1),w=0,A=0;A<h;++A){var p=b[A];_[A]=p,w+=p*p}_[h]=w,T[m]=new o(_,m),x=Math.max(w,x)}a(T,l),g=T.length;var I=new Array(g+h+1),k=new Array(g+h+1),L=(h+1)*(h+1)*x,O=new Array(h+1);for(m=0;m<=h;++m)O[m]=0;for(O[h]=L,I[0]=O.slice(),k[0]=-1,m=0;m<=h;++m)(_=O.slice())[m]=1,I[m+1]=_,k[m+1]=-1;for(m=0;m<g;++m){var P=T[m];I[m+h+1]=P.point,k[m+h+1]=P.index}var F=s(I,!1);if(F=F.filter(f?function(j){for(var X=0,N=0;N<=h;++N){var q=k[j[N]];if(q<0&&++X>=2)return!1;j[N]=q}return!0}:function(j){for(var X=0;X<=h;++X){var N=k[j[X]];if(N<0)return!1;j[X]=N}return!0}),1&h)for(m=0;m<F.length;++m)_=(P=F[m])[0],P[0]=P[1],P[1]=_;return F}},8362:function(v){var u=!1;if(typeof Float64Array<"u"){var i=new Float64Array(1),s=new Uint32Array(i.buffer);i[0]=1,u=!0,1072693248===s[1]?(v.exports=function(o){return i[0]=o,[s[0],s[1]]},v.exports.pack=function(o,l){return s[0]=o,s[1]=l,i[0]},v.exports.lo=function(o){return i[0]=o,s[0]},v.exports.hi=function(o){return i[0]=o,s[1]}):1072693248===s[0]?(v.exports=function(o){return i[0]=o,[s[1],s[0]]},v.exports.pack=function(o,l){return s[1]=o,s[0]=l,i[0]},v.exports.lo=function(o){return i[0]=o,s[1]},v.exports.hi=function(o){return i[0]=o,s[0]}):u=!1}if(!u){var a=new Buffer(8);v.exports=function(o){return a.writeDoubleLE(o,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},v.exports.pack=function(o,l){return a.writeUInt32LE(o,0,!0),a.writeUInt32LE(l,4,!0),a.readDoubleLE(0,!0)},v.exports.lo=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(0,!0)},v.exports.hi=function(o){return a.writeDoubleLE(o,0,!0),a.readUInt32LE(4,!0)}}v.exports.sign=function(o){return v.exports.hi(o)>>>31},v.exports.exponent=function(o){return(v.exports.hi(o)<<1>>>21)-1023},v.exports.fraction=function(o){var l=v.exports.lo(o),c=v.exports.hi(o),f=1048575&c;return 2146435072&c&&(f+=1048576),[l,f]},v.exports.denormalized=function(o){return!(2146435072&v.exports.hi(o))}},3094:function(v){"use strict";function u(i,s,a){var o=0|i[a];if(o<=0)return[];var l,c=new Array(o);if(a===i.length-1)for(l=0;l<o;++l)c[l]=s;else for(l=0;l<o;++l)c[l]=u(i,s,a+1);return c}v.exports=function(i,s){switch(void 0===s&&(s=0),typeof i){case"number":if(i>0)return function(a,o){var l,c;for(l=new Array(a),c=0;c<a;++c)l[c]=o;return l}(0|i,s);break;case"object":if("number"==typeof i.length)return u(i,s,0)}return[]}},8348:function(v,u,i){"use strict";v.exports=function(a,o){var l=a.length;if("number"!=typeof o){o=0;for(var c=0;c<l;++c){var f=a[c];o=Math.max(o,f[0],f[1])}o=1+(0|o)}o|=0;var g=new Array(o);for(c=0;c<o;++c)g[c]=[];for(c=0;c<l;++c)g[(f=a[c])[0]].push(f[1]),g[f[1]].push(f[0]);for(var h=0;h<o;++h)s(g[h],function(T,x){return T-x});return g};var s=i(1215)},5795:function(v){"use strict";v.exports=function(u,i,s){var a=i||0,o=s||1;return[[u[12]+u[0],u[13]+u[1],u[14]+u[2],u[15]+u[3]],[u[12]-u[0],u[13]-u[1],u[14]-u[2],u[15]-u[3]],[u[12]+u[4],u[13]+u[5],u[14]+u[6],u[15]+u[7]],[u[12]-u[4],u[13]-u[5],u[14]-u[6],u[15]-u[7]],[a*u[12]+u[8],a*u[13]+u[9],a*u[14]+u[10],a*u[15]+u[11]],[o*u[12]-u[8],o*u[13]-u[9],o*u[14]-u[10],o*u[15]-u[11]]]}},8444:function(v,u,i){"use strict";v.exports=function(g,h,T){switch(arguments.length){case 0:return new l([0],[0],0);case 1:return"number"==typeof g?new l(x=f(g),x,0):new l(g,f(g.length),0);case 2:var x;if("number"==typeof h)return new l(g,x=f(g.length),+h);T=0;case 3:if(g.length!==h.length)throw new Error("state and velocity lengths must match");return new l(g,h,T)}};var s=i(9680),a=i(5070);function o(g,h,T){return Math.min(h,Math.max(g,T))}function l(g,h,T){this.dimension=g.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var x=0;x<this.dimension;++x)this.bounds[0][x]=-1/0,this.bounds[1][x]=1/0;this._state=g.slice().reverse(),this._velocity=h.slice().reverse(),this._time=[T],this._scratch=[g.slice(),g.slice(),g.slice(),g.slice(),g.slice()]}var c=l.prototype;function f(g){for(var h=new Array(g),T=0;T<g;++T)h[T]=0;return h}c.flush=function(g){var h=a.gt(this._time,g)-1;h<=0||(this._time.splice(0,h),this._state.splice(0,h*this.dimension),this._velocity.splice(0,h*this.dimension))},c.curve=function(g){var h=this._time,T=h.length,x=a.le(h,g),m=this._scratch[0],b=this._state,_=this._velocity,w=this.dimension,A=this.bounds;if(x<0)for(var p=w-1,I=0;I<w;++I,--p)m[I]=b[p];else if(x>=T-1){p=b.length-1;var k=g-h[T-1];for(I=0;I<w;++I,--p)m[I]=b[p]+k*_[p]}else{p=w*(x+1)-1;var L=h[x],O=h[x+1]-L||1,P=this._scratch[1],F=this._scratch[2],j=this._scratch[3],X=this._scratch[4],N=!0;for(I=0;I<w;++I,--p)P[I]=b[p],j[I]=_[p]*O,F[I]=b[p+w],X[I]=_[p+w]*O,N=N&&P[I]===F[I]&&j[I]===X[I]&&0===j[I];if(N)for(I=0;I<w;++I)m[I]=P[I];else s(P,j,F,X,(g-L)/O,m)}var q=A[0],G=A[1];for(I=0;I<w;++I)m[I]=o(q[I],G[I],m[I]);return m},c.dcurve=function(g){var h=this._time,T=h.length,x=a.le(h,g),m=this._scratch[0],b=this._state,_=this._velocity,w=this.dimension;if(x>=T-1)for(var A=b.length-1,p=0;p<w;++p,--A)m[p]=_[A];else{A=w*(x+1)-1;var I=h[x],k=h[x+1]-I||1,L=this._scratch[1],O=this._scratch[2],P=this._scratch[3],F=this._scratch[4],j=!0;for(p=0;p<w;++p,--A)L[p]=b[A],P[p]=_[A]*k,O[p]=b[A+w],F[p]=_[A+w]*k,j=j&&L[p]===O[p]&&P[p]===F[p]&&0===P[p];if(j)for(p=0;p<w;++p)m[p]=0;else for(s.derivative(L,P,O,F,(g-I)/k,m),p=0;p<w;++p)m[p]/=k}return m},c.lastT=function(){var g=this._time;return g[g.length-1]},c.stable=function(){for(var g=this._velocity,h=g.length,T=this.dimension-1;T>=0;--T)if(g[--h])return!1;return!0},c.jump=function(g){var h=this.lastT(),T=this.dimension;if(!(g<h||arguments.length!==T+1)){var x=this._state,m=this._velocity,b=x.length-this.dimension,_=this.bounds,w=_[0],A=_[1];this._time.push(h,g);for(var p=0;p<2;++p)for(var I=0;I<T;++I)x.push(x[b++]),m.push(0);for(this._time.push(g),I=T;I>0;--I)x.push(o(w[I-1],A[I-1],arguments[I])),m.push(0)}},c.push=function(g){var h=this.lastT(),T=this.dimension;if(!(g<h||arguments.length!==T+1)){var x=this._state,m=this._velocity,b=x.length-this.dimension,_=g-h,w=this.bounds,A=w[0],p=w[1],I=_>1e-6?1/_:0;this._time.push(g);for(var k=T;k>0;--k){var L=o(A[k-1],p[k-1],arguments[k]);x.push(L),m.push((L-x[b++])*I)}}},c.set=function(g){var h=this.dimension;if(!(g<this.lastT()||arguments.length!==h+1)){var T=this._state,x=this._velocity,m=this.bounds,b=m[0],_=m[1];this._time.push(g);for(var w=h;w>0;--w)T.push(o(b[w-1],_[w-1],arguments[w])),x.push(0)}},c.move=function(g){var h=this.lastT(),T=this.dimension;if(!(g<=h||arguments.length!==T+1)){var x=this._state,m=this._velocity,b=x.length-this.dimension,_=this.bounds,w=_[0],A=_[1],p=g-h,I=p>1e-6?1/p:0;this._time.push(g);for(var k=T;k>0;--k){var L=arguments[k];x.push(o(w[k-1],A[k-1],x[b++]+L)),m.push(L*I)}}},c.idle=function(g){var h=this.lastT();if(!(g<h)){var T=this.dimension,x=this._state,m=this._velocity,b=x.length-T,_=this.bounds,w=_[0],A=_[1],p=g-h;this._time.push(g);for(var I=T-1;I>=0;--I)x.push(o(w[I],A[I],x[b]+p*m[b])),m.push(0),b+=1}}},7080:function(v){"use strict";function u(b,_,w,A,p,I){this._color=b,this.key=_,this.value=w,this.left=A,this.right=p,this._count=I}function i(b){return new u(b._color,b.key,b.value,b.left,b.right,b._count)}function s(b,_){return new u(b,_.key,_.value,_.left,_.right,_._count)}function a(b){b._count=1+(b.left?b.left._count:0)+(b.right?b.right._count:0)}function o(b,_){this._compare=b,this.root=_}v.exports=function(b){return new o(b||m,null)};var l=o.prototype;function c(b,_){var w;return _.left&&(w=c(b,_.left))?w:(w=b(_.key,_.value))||(_.right?c(b,_.right):void 0)}function f(b,_,w,A){var p;return _(b,A.key)<=0&&(A.left&&(p=f(b,_,w,A.left))||(p=w(A.key,A.value)))?p:A.right?f(b,_,w,A.right):void 0}function g(b,_,w,A,p){var I,k=w(b,p.key),L=w(_,p.key);return k<=0&&(p.left&&(I=g(b,_,w,A,p.left))||L>0&&(I=A(p.key,p.value)))?I:L>0&&p.right?g(b,_,w,A,p.right):void 0}function h(b,_){this.tree=b,this._stack=_}Object.defineProperty(l,"keys",{get:function(){var b=[];return this.forEach(function(_,w){b.push(_)}),b}}),Object.defineProperty(l,"values",{get:function(){var b=[];return this.forEach(function(_,w){b.push(w)}),b}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(b,_){for(var w=this._compare,A=this.root,p=[],I=[];A;){var k=w(b,A.key);p.push(A),I.push(k),A=k<=0?A.left:A.right}p.push(new u(0,b,_,null,null,1));for(var L=p.length-2;L>=0;--L)A=p[L],p[L]=I[L]<=0?new u(A._color,A.key,A.value,p[L+1],A.right,A._count+1):new u(A._color,A.key,A.value,A.left,p[L+1],A._count+1);for(L=p.length-1;L>1;--L){var O=p[L-1];if(A=p[L],1===O._color||1===A._color)break;var P=p[L-2];if(P.left===O)if(O.left===A){if(!(F=P.right)||0!==F._color){P._color=0,P.left=O.right,O._color=1,O.right=P,p[L-2]=O,p[L-1]=A,a(P),a(O),L>=3&&((j=p[L-3]).left===P?j.left=O:j.right=O);break}O._color=1,P.right=s(1,F),P._color=0,L-=1}else{if(!(F=P.right)||0!==F._color){O.right=A.left,P._color=0,P.left=A.right,A._color=1,A.left=O,A.right=P,p[L-2]=A,p[L-1]=O,a(P),a(O),a(A),L>=3&&((j=p[L-3]).left===P?j.left=A:j.right=A);break}O._color=1,P.right=s(1,F),P._color=0,L-=1}else if(O.right===A){if(!(F=P.left)||0!==F._color){P._color=0,P.right=O.left,O._color=1,O.left=P,p[L-2]=O,p[L-1]=A,a(P),a(O),L>=3&&((j=p[L-3]).right===P?j.right=O:j.left=O);break}O._color=1,P.left=s(1,F),P._color=0,L-=1}else{var F;if(!(F=P.left)||0!==F._color){var j;O.left=A.right,P._color=0,P.right=A.left,A._color=1,A.right=O,A.left=P,p[L-2]=A,p[L-1]=O,a(P),a(O),a(A),L>=3&&((j=p[L-3]).right===P?j.right=A:j.left=A);break}O._color=1,P.left=s(1,F),P._color=0,L-=1}}return p[0]._color=1,new o(w,p[0])},l.forEach=function(b,_,w){if(this.root)switch(arguments.length){case 1:return c(b,this.root);case 2:return f(_,this._compare,b,this.root);case 3:return this._compare(_,w)>=0?void 0:g(_,w,this._compare,b,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var b=[],_=this.root;_;)b.push(_),_=_.left;return new h(this,b)}}),Object.defineProperty(l,"end",{get:function(){for(var b=[],_=this.root;_;)b.push(_),_=_.right;return new h(this,b)}}),l.at=function(b){if(b<0)return new h(this,[]);for(var _=this.root,w=[];;){if(w.push(_),_.left){if(b<_.left._count){_=_.left;continue}b-=_.left._count}if(!b)return new h(this,w);if(b-=1,!_.right||b>=_.right._count)break;_=_.right}return new h(this,[])},l.ge=function(b){for(var _=this._compare,w=this.root,A=[],p=0;w;){var I=_(b,w.key);A.push(w),I<=0&&(p=A.length),w=I<=0?w.left:w.right}return A.length=p,new h(this,A)},l.gt=function(b){for(var _=this._compare,w=this.root,A=[],p=0;w;){var I=_(b,w.key);A.push(w),I<0&&(p=A.length),w=I<0?w.left:w.right}return A.length=p,new h(this,A)},l.lt=function(b){for(var _=this._compare,w=this.root,A=[],p=0;w;){var I=_(b,w.key);A.push(w),I>0&&(p=A.length),w=I<=0?w.left:w.right}return A.length=p,new h(this,A)},l.le=function(b){for(var _=this._compare,w=this.root,A=[],p=0;w;){var I=_(b,w.key);A.push(w),I>=0&&(p=A.length),w=I<0?w.left:w.right}return A.length=p,new h(this,A)},l.find=function(b){for(var _=this._compare,w=this.root,A=[];w;){var p=_(b,w.key);if(A.push(w),0===p)return new h(this,A);w=p<=0?w.left:w.right}return new h(this,[])},l.remove=function(b){var _=this.find(b);return _?_.remove():this},l.get=function(b){for(var _=this._compare,w=this.root;w;){var A=_(b,w.key);if(0===A)return w.value;w=A<=0?w.left:w.right}};var T=h.prototype;function x(b,_){b.key=_.key,b.value=_.value,b.left=_.left,b.right=_.right,b._color=_._color,b._count=_._count}function m(b,_){return b<_?-1:b>_?1:0}Object.defineProperty(T,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(T,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),T.clone=function(){return new h(this.tree,this._stack.slice())},T.remove=function(){var b=this._stack;if(0===b.length)return this.tree;var _=new Array(b.length),w=b[b.length-1];_[_.length-1]=new u(w._color,w.key,w.value,w.left,w.right,w._count);for(var A=b.length-2;A>=0;--A)_[A]=(w=b[A]).left===b[A+1]?new u(w._color,w.key,w.value,_[A+1],w.right,w._count):new u(w._color,w.key,w.value,w.left,_[A+1],w._count);if((w=_[_.length-1]).left&&w.right){var p=_.length;for(w=w.left;w.right;)_.push(w),w=w.right;var I=_[p-1];for(_.push(new u(w._color,I.key,I.value,w.left,w.right,w._count)),_[p-1].key=w.key,_[p-1].value=w.value,A=_.length-2;A>=p;--A)_[A]=new u((w=_[A])._color,w.key,w.value,w.left,_[A+1],w._count);_[p-1].left=_[p]}if(0===(w=_[_.length-1])._color){var k=_[_.length-2];for(k.left===w?k.left=null:k.right===w&&(k.right=null),_.pop(),A=0;A<_.length;++A)_[A]._count--;return new o(this.tree._compare,_[0])}if(w.left||w.right){for(w.left?x(w,w.left):w.right&&x(w,w.right),w._color=1,A=0;A<_.length-1;++A)_[A]._count--;return new o(this.tree._compare,_[0])}if(1===_.length)return new o(this.tree._compare,null);for(A=0;A<_.length;++A)_[A]._count--;var L=_[_.length-2];return function(O){for(var P,F,j,X,N=O.length-1;N>=0;--N){if(P=O[N],0===N)return void(P._color=1);if((F=O[N-1]).left===P){if((j=F.right).right&&0===j.right._color)return X=(j=F.right=i(j)).right=i(j.right),F.right=j.left,j.left=F,j.right=X,j._color=F._color,P._color=1,F._color=1,X._color=1,a(F),a(j),N>1&&((q=O[N-2]).left===F?q.left=j:q.right=j),void(O[N-1]=j);if(j.left&&0===j.left._color)return X=(j=F.right=i(j)).left=i(j.left),F.right=X.left,j.left=X.right,X.left=F,X.right=j,X._color=F._color,F._color=1,j._color=1,P._color=1,a(F),a(j),a(X),N>1&&((q=O[N-2]).left===F?q.left=X:q.right=X),void(O[N-1]=X);if(1===j._color){if(0===F._color)return F._color=1,void(F.right=s(0,j));F.right=s(0,j);continue}j=i(j),F.right=j.left,j.left=F,j._color=F._color,F._color=0,a(F),a(j),N>1&&((q=O[N-2]).left===F?q.left=j:q.right=j),O[N-1]=j,O[N]=F,N+1<O.length?O[N+1]=P:O.push(P),N+=2}else{if((j=F.left).left&&0===j.left._color)return X=(j=F.left=i(j)).left=i(j.left),F.left=j.right,j.right=F,j.left=X,j._color=F._color,P._color=1,F._color=1,X._color=1,a(F),a(j),N>1&&((q=O[N-2]).right===F?q.right=j:q.left=j),void(O[N-1]=j);if(j.right&&0===j.right._color)return X=(j=F.left=i(j)).right=i(j.right),F.left=X.right,j.right=X.left,X.right=F,X.left=j,X._color=F._color,F._color=1,j._color=1,P._color=1,a(F),a(j),a(X),N>1&&((q=O[N-2]).right===F?q.right=X:q.left=X),void(O[N-1]=X);if(1===j._color){if(0===F._color)return F._color=1,void(F.left=s(0,j));F.left=s(0,j);continue}var q;j=i(j),F.left=j.right,j.right=F,j._color=F._color,F._color=0,a(F),a(j),N>1&&((q=O[N-2]).right===F?q.right=j:q.left=j),O[N-1]=j,O[N]=F,N+1<O.length?O[N+1]=P:O.push(P),N+=2}}}(_),L.left===w?L.left=null:L.right=null,new o(this.tree._compare,_[0])},Object.defineProperty(T,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(T,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(T,"index",{get:function(){var b=0,_=this._stack;if(0===_.length){var w=this.tree.root;return w?w._count:0}_[_.length-1].left&&(b=_[_.length-1].left._count);for(var A=_.length-2;A>=0;--A)_[A+1]===_[A].right&&(++b,_[A].left&&(b+=_[A].left._count));return b},enumerable:!0}),T.next=function(){var b=this._stack;if(0!==b.length){var _=b[b.length-1];if(_.right)for(_=_.right;_;)b.push(_),_=_.left;else for(b.pop();b.length>0&&b[b.length-1].right===_;)_=b[b.length-1],b.pop()}},Object.defineProperty(T,"hasNext",{get:function(){var b=this._stack;if(0===b.length)return!1;if(b[b.length-1].right)return!0;for(var _=b.length-1;_>0;--_)if(b[_-1].left===b[_])return!0;return!1}}),T.update=function(b){var _=this._stack;if(0===_.length)throw new Error("Can't update empty node!");var w=new Array(_.length),A=_[_.length-1];w[w.length-1]=new u(A._color,A.key,b,A.left,A.right,A._count);for(var p=_.length-2;p>=0;--p)w[p]=(A=_[p]).left===_[p+1]?new u(A._color,A.key,A.value,w[p+1],A.right,A._count):new u(A._color,A.key,A.value,A.left,w[p+1],A._count);return new o(this.tree._compare,w[0])},T.prev=function(){var b=this._stack;if(0!==b.length){var _=b[b.length-1];if(_.left)for(_=_.left;_;)b.push(_),_=_.right;else for(b.pop();b.length>0&&b[b.length-1].left===_;)_=b[b.length-1],b.pop()}},Object.defineProperty(T,"hasPrev",{get:function(){var b=this._stack;if(0===b.length)return!1;if(b[b.length-1].left)return!0;for(var _=b.length-1;_>0;--_)if(b[_-1].right===b[_])return!0;return!1}})},7453:function(v,u,i){"use strict";v.exports=function(k,L){var O=new h(k);return O.update(L),O};var s=i(9557),a=i(1681),o=i(1011),l=i(2864),c=i(8468),f=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function g(k,L){return k[0]=L[0],k[1]=L[1],k[2]=L[2],k}function h(k){this.gl=k,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(k)}var T=h.prototype;function x(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}T.update=function(k){function L(se,ne,re){if(re in k){var Q,ee=k[re],oe=this[re];this[re]=Q=(se?Array.isArray(ee)&&Array.isArray(ee[0]):Array.isArray(ee))?[ne(ee[0]),ne(ee[1]),ne(ee[2])]:[ne(ee),ne(ee),ne(ee)];for(var ce=0;ce<3;++ce)if(Q[ce]!==oe[ce])return!0}return!1}k=k||{};var O,P=L.bind(this,!1,Number),F=L.bind(this,!1,Boolean),j=L.bind(this,!1,String),X=L.bind(this,!0,function(se){if(Array.isArray(se)){if(3===se.length)return[+se[0],+se[1],+se[2],1];if(4===se.length)return[+se[0],+se[1],+se[2],+se[3]]}return[0,0,0,1]}),N=!1,q=!1;if("bounds"in k)for(var G=k.bounds,H=0;H<2;++H)for(var Z=0;Z<3;++Z)G[H][Z]!==this.bounds[H][Z]&&(q=!0),this.bounds[H][Z]=G[H][Z];if("ticks"in k)for(O=k.ticks,N=!0,this.autoTicks=!1,H=0;H<3;++H)this.tickSpacing[H]=0;else P("tickSpacing")&&(this.autoTicks=!0,q=!0);if(this._firstInit&&("ticks"in k||"tickSpacing"in k||(this.autoTicks=!0),q=!0,N=!0,this._firstInit=!1),q&&this.autoTicks&&(O=c.create(this.bounds,this.tickSpacing),N=!0),N){for(H=0;H<3;++H)O[H].sort(function(se,ne){return se.x-ne.x});c.equal(O,this.ticks)?N=!1:this.ticks=O}F("tickEnable"),j("tickFont")&&(N=!0),P("tickSize"),P("tickAngle"),P("tickPad"),X("tickColor");var $=j("labels");j("labelFont")&&($=!0),F("labelEnable"),P("labelSize"),P("labelPad"),X("labelColor"),F("lineEnable"),F("lineMirror"),P("lineWidth"),X("lineColor"),F("lineTickEnable"),F("lineTickMirror"),P("lineTickLength"),P("lineTickWidth"),X("lineTickColor"),F("gridEnable"),P("gridWidth"),X("gridColor"),F("zeroEnable"),X("zeroLineColor"),P("zeroLineWidth"),F("backgroundEnable"),X("backgroundColor"),this._text?this._text&&($||N)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=s(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&N&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};var m=[new x,new x,new x];function b(k,L,O,P,F){for(var j=k.primalOffset,X=k.primalMinor,N=k.mirrorOffset,q=k.mirrorMinor,G=P[L],H=0;H<3;++H)if(L!==H){var Z=j,$=N,se=X,ne=q;G&1<<H&&(Z=N,$=j,se=q,ne=X),Z[H]=O[0][H],$[H]=O[1][H],F[H]>0?(se[H]=-1,ne[H]=0):(se[H]=0,ne[H]=1)}}var _=[0,0,0],w={model:f,view:f,projection:f,_ortho:!1};T.isOpaque=function(){return!0},T.isTransparent=function(){return!1},T.drawTransparent=function(k){};var A=[0,0,0],p=[0,0,0],I=[0,0,0];T.draw=function(k){for(var L=this.gl,O=(k=k||w).model||f,P=k.view||f,F=k.projection||f,j=this.bounds,X=k._ortho||!1,N=l(O,P,F,j,X),q=N.cubeEdges,G=N.axis,ne=(X?2:1)*this.pixelRatio*(F[3]*P[12]+F[7]*P[13]+F[11]*P[14]+F[15]*P[15])/L.drawingBufferHeight,re=0;re<3;++re)this.lastCubeProps.cubeEdges[re]=q[re],this.lastCubeProps.axis[re]=G[re];var Q=m;for(re=0;re<3;++re)b(m[re],re,this.bounds,q,G);L=this.gl;var ee,oe,ce,Re,De,Ue,Ze,xe,Oe,Ce,Be,qe,ue=_;for(re=0;re<3;++re)ue[re]=this.backgroundEnable[re]?G[re]:0;for(this._background.draw(O,P,F,j,ue,this.backgroundColor),this._lines.bind(O,P,F,this),re=0;re<3;++re){var he=[0,0,0];he[re]=G[re]>0?j[1][re]:j[0][re];for(var ve=0;ve<2;++ve){var ke=(re+1+ve)%3,Ie=(re+1+(1^ve))%3;this.gridEnable[ke]&&this._lines.drawGrid(ke,Ie,this.bounds,he,this.gridColor[ke],this.gridWidth[ke]*this.pixelRatio)}for(ve=0;ve<2;++ve)ke=(re+1+ve)%3,this.zeroEnable[Ie=(re+1+(1^ve))%3]&&Math.min(j[0][Ie],j[1][Ie])<=0&&Math.max(j[0][Ie],j[1][Ie])>=0&&this._lines.drawZero(ke,Ie,this.bounds,he,this.zeroLineColor[Ie],this.zeroLineWidth[Ie]*this.pixelRatio)}for(re=0;re<3;++re){this.lineEnable[re]&&this._lines.drawAxisLine(re,this.bounds,Q[re].primalOffset,this.lineColor[re],this.lineWidth[re]*this.pixelRatio),this.lineMirror[re]&&this._lines.drawAxisLine(re,this.bounds,Q[re].mirrorOffset,this.lineColor[re],this.lineWidth[re]*this.pixelRatio);var Me=g(A,Q[re].primalMinor),_e=g(p,Q[re].mirrorMinor),we=this.lineTickLength;for(ve=0;ve<3;++ve){var ze=ne/O[5*ve];Me[ve]*=we[ve]*ze,_e[ve]*=we[ve]*ze}this.lineTickEnable[re]&&this._lines.drawAxisTicks(re,Q[re].primalOffset,Me,this.lineTickColor[re],this.lineTickWidth[re]*this.pixelRatio),this.lineTickMirror[re]&&this._lines.drawAxisTicks(re,Q[re].mirrorOffset,_e,this.lineTickColor[re],this.lineTickWidth[re]*this.pixelRatio)}function Ee(Re){(ce=[0,0,0])[Re]=1}for(this._lines.unbind(),this._text.bind(O,P,F,this.pixelRatio),re=0;re<3;++re){var me=Q[re].primalMinor,fe=Q[re].mirrorMinor,le=g(I,Q[re].primalOffset);for(ve=0;ve<3;++ve)this.lineTickEnable[re]&&(le[ve]+=ne*me[ve]*Math.max(this.lineTickLength[ve],0)/O[5*ve]);var Te=[0,0,0];if(Te[re]=1,this.tickEnable[re]){for(-3600===this.tickAngle[re]?(this.tickAngle[re]=0,this.tickAlign[re]="auto"):this.tickAlign[re]=-1,ee[0]="auto"===(ee=[this.tickAlign[re],.5,oe=1])[0]?0:parseInt(""+ee[0]),ce=[0,0,0],Ze=void 0,xe=void 0,Oe=void 0,Ce=void 0,Be=void 0,qe=void 0,Ce=(De=me)[xe=((Re=re)+2)%3],Be=(Ue=fe)[Ze=(Re+1)%3],qe=Ue[xe],(Oe=De[Ze])>0&&qe>0||Oe>0&&qe<0||Oe<0&&qe>0||Oe<0&&qe<0?Ee(Ze):(Ce>0&&Be>0||Ce>0&&Be<0||Ce<0&&Be>0||Ce<0&&Be<0)&&Ee(xe),ve=0;ve<3;++ve)le[ve]+=ne*me[ve]*this.tickPad[ve]/O[5*ve];this._text.drawTicks(re,this.tickSize[re],this.tickAngle[re],le,this.tickColor[re],Te,ce,ee)}if(this.labelEnable[re]){for(oe=0,ce=[0,0,0],this.labels[re].length>4&&(Ee(re),oe=1),ee[0]="auto"===(ee=[this.labelAlign[re],.5,oe])[0]?0:parseInt(""+ee[0]),ve=0;ve<3;++ve)le[ve]+=ne*me[ve]*this.labelPad[ve]/O[5*ve];le[re]+=.5*(j[0][re]+j[1][re]),this._text.drawLabel(re,this.labelSize[re],this.labelAngle[re],le,this.labelColor[re],[0,0,0],ce,ee)}}this._text.unbind()},T.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(v,u,i){"use strict";v.exports=function(f){for(var g=[],h=[],T=0,x=0;x<3;++x)for(var m=(x+1)%3,b=(x+2)%3,_=[0,0,0],w=[0,0,0],A=-1;A<=1;A+=2){h.push(T,T+2,T+1,T+1,T+2,T+3),_[x]=A,w[x]=A;for(var p=-1;p<=1;p+=2){_[m]=p;for(var I=-1;I<=1;I+=2)_[b]=I,g.push(_[0],_[1],_[2],w[0],w[1],w[2]),T+=1}var k=m;m=b,b=k}var L=s(f,new Float32Array(g)),O=s(f,new Uint16Array(h),f.ELEMENT_ARRAY_BUFFER),P=a(f,[{buffer:L,type:f.FLOAT,size:3,offset:0,stride:24},{buffer:L,type:f.FLOAT,size:3,offset:12,stride:24}],O),F=o(f);return F.attributes.position.location=0,F.attributes.normal.location=1,new l(f,L,P,F)};var s=i(5827),a=i(2944),o=i(1943).bg;function l(f,g,h,T){this.gl=f,this.buffer=g,this.vao=h,this.shader=T}var c=l.prototype;c.draw=function(f,g,h,T,x,m){for(var b=!1,_=0;_<3;++_)b=b||x[_];if(b){var w=this.gl;w.enable(w.POLYGON_OFFSET_FILL),w.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:f,view:g,projection:h,bounds:T,enable:x,colors:m},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),w.disable(w.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(v,u,i){"use strict";v.exports=function(p,I,k,L,O){a(c,I,p),a(c,k,c);for(var P=0,F=0;F<2;++F){h[2]=L[F][2];for(var j=0;j<2;++j){h[1]=L[j][1];for(var X=0;X<2;++X)h[0]=L[X][0],x(f[P],h,c),P+=1}}var N=-1;for(F=0;F<8;++F){for(var q=f[F][3],G=0;G<3;++G)g[F][G]=f[F][G]/q;O&&(g[F][2]*=-1),q<0&&(N<0||g[F][2]<g[N][2])&&(N=F)}if(N<0){N=0;for(var H=0;H<3;++H){for(var Z=(H+2)%3,$=(H+1)%3,se=-1,ne=-1,re=0;re<2;++re){var Q=(oe=re<<H)+(re<<Z)+(1-re<<$),ee=oe+(1-re<<Z)+(re<<$);l(g[oe],g[Q],g[ee],T)<0||(re?se=1:ne=1)}if(se<0||ne<0)ne>se&&(N|=1<<H);else{for(re=0;re<2;++re){Q=(oe=re<<H)+(re<<Z)+(1-re<<$);var oe,ce=b([f[oe],f[Q],f[ee=oe+(1-re<<Z)+(re<<$)],f[oe+(1<<Z)+(1<<$)]]);re?se=ce:ne=ce}ne>se&&(N|=1<<H)}}}var ue=7^N,he=-1;for(F=0;F<8;++F)F!==N&&F!==ue&&(he<0||g[he][1]>g[F][1])&&(he=F);var ve=-1;for(F=0;F<3;++F)(Ie=he^1<<F)!==N&&Ie!==ue&&(ve<0&&(ve=Ie),($=g[Ie])[0]<g[ve][0]&&(ve=Ie));var ke=-1;for(F=0;F<3;++F){var Ie;(Ie=he^1<<F)!==N&&Ie!==ue&&Ie!==ve&&(ke<0&&(ke=Ie),($=g[Ie])[0]>g[ke][0]&&(ke=Ie))}var Me=_;Me[0]=Me[1]=Me[2]=0,Me[s.log2(ve^he)]=he&ve,Me[s.log2(he^ke)]=he&ke;var _e=7^ke;_e===N||_e===ue?Me[s.log2(ke^(_e=7^ve))]=_e&ke:Me[s.log2(ve^_e)]=_e&ve;var we=w,ze=N;for(H=0;H<3;++H)we[H]=ze&1<<H?-1:1;return A};var s=i(2288),a=i(104),o=i(4670),l=i(417),c=new Array(16),f=new Array(8),g=new Array(8),h=new Array(3),T=[0,0,0];function x(p,I,k){for(var L=0;L<4;++L){p[L]=k[12+L];for(var O=0;O<3;++O)p[L]+=I[O]*k[4*O+L]}}!function(){for(var p=0;p<8;++p)f[p]=[1,1,1,1],g[p]=[1,1,1]}();var m=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function b(p){for(var I=0;I<m.length;++I)if((p=o.positive(p,m[I])).length<3)return 0;var k=p[0],L=k[0]/k[3],O=k[1]/k[3],P=0;for(I=1;I+1<p.length;++I){var F=p[I],j=p[I+1];P+=Math.abs((F[0]/F[3]-L)*(j[1]/j[3]-O)-(F[1]/F[3]-O)*(j[0]/j[3]-L))}return P}var _=[1,1,1],w=[0,0,0],A={cubeEdges:_,axis:w}},1681:function(v,u,i){"use strict";v.exports=function(_,w,A){var p=[],I=[0,0,0],k=[0,0,0],L=[0,0,0],O=[0,0,0];p.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var P=0;P<3;++P){for(var F=p.length/3|0,j=0;j<A[P].length;++j){var X=+A[P][j].x;p.push(X,0,1,X,1,1,X,0,-1,X,0,-1,X,1,1,X,1,-1)}var N=p.length/3|0;I[P]=F,k[P]=N-F,F=p.length/3|0;for(var q=0;q<A[P].length;++q)p.push(X=+A[P][q].x,0,1,X,1,1,X,0,-1,X,0,-1,X,1,1,X,1,-1);N=p.length/3|0,L[P]=F,O[P]=N-F}var G=s(_,new Float32Array(p)),H=a(_,[{buffer:G,type:_.FLOAT,size:3,stride:0,offset:0}]),Z=o(_);return Z.attributes.position.location=0,new m(_,G,H,Z,k,I,O,L)};var s=i(5827),a=i(2944),o=i(1943).j,l=[0,0,0],c=[0,0,0],f=[0,0,0],g=[0,0,0],h=[1,1];function T(_){return _[0]=_[1]=_[2]=0,_}function x(_,w){return _[0]=w[0],_[1]=w[1],_[2]=w[2],_}function m(_,w,A,p,I,k,L,O){this.gl=_,this.vertBuffer=w,this.vao=A,this.shader=p,this.tickCount=I,this.tickOffset=k,this.gridCount=L,this.gridOffset=O}var b=m.prototype;b.bind=function(_,w,A){this.shader.bind(),this.shader.uniforms.model=_,this.shader.uniforms.view=w,this.shader.uniforms.projection=A,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},b.unbind=function(){this.vao.unbind()},b.drawAxisLine=function(_,w,A,p,I){var k=T(c);this.shader.uniforms.majorAxis=c,k[_]=w[1][_]-w[0][_],this.shader.uniforms.minorAxis=k;var L,O=x(g,A);O[_]+=w[0][_],this.shader.uniforms.offset=O,this.shader.uniforms.lineWidth=I,this.shader.uniforms.color=p,(L=T(f))[(_+2)%3]=1,this.shader.uniforms.screenAxis=L,this.vao.draw(this.gl.TRIANGLES,6),(L=T(f))[(_+1)%3]=1,this.shader.uniforms.screenAxis=L,this.vao.draw(this.gl.TRIANGLES,6)},b.drawAxisTicks=function(_,w,A,p,I){if(this.tickCount[_]){var k=T(l);k[_]=1,this.shader.uniforms.majorAxis=k,this.shader.uniforms.offset=w,this.shader.uniforms.minorAxis=A,this.shader.uniforms.color=p,this.shader.uniforms.lineWidth=I;var L=T(f);L[_]=1,this.shader.uniforms.screenAxis=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[_],this.tickOffset[_])}},b.drawGrid=function(_,w,A,p,I,k){if(this.gridCount[_]){var L=T(c);L[w]=A[1][w]-A[0][w],this.shader.uniforms.minorAxis=L;var O=x(g,p);O[w]+=A[0][w],this.shader.uniforms.offset=O;var P=T(l);P[_]=1,this.shader.uniforms.majorAxis=P;var F=T(f);F[_]=1,this.shader.uniforms.screenAxis=F,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=I,this.vao.draw(this.gl.TRIANGLES,this.gridCount[_],this.gridOffset[_])}},b.drawZero=function(_,w,A,p,I,k){var L=T(c);this.shader.uniforms.majorAxis=L,L[_]=A[1][_]-A[0][_],this.shader.uniforms.minorAxis=L;var O=x(g,p);O[_]+=A[0][_],this.shader.uniforms.offset=O;var P=T(f);P[w]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=k,this.shader.uniforms.color=I,this.vao.draw(this.gl.TRIANGLES,6)},b.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(v,u,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);u.j=function(T){return a(T,o,l,null,[{name:"position",type:"vec3"}])};var c=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),f=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);u.f=function(T){return a(T,c,f,null,[{name:"position",type:"vec3"}])};var g=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);u.bg=function(T){return a(T,g,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,u,i){"use strict";v.exports=function(x,m,b,_,w,A){var p=s(x),I=a(x,[{buffer:p,size:3}]),k=l(x);k.attributes.position.location=0;var L=new g(x,k,p,I);return L.update(m,b,_,w,A),L};var s=i(5827),a=i(2944),o=i(875),l=i(1943).f,c=window||E.global||{},f=c.__TEXT_CACHE||{};function g(x,m,b,_){this.gl=x,this.shader=m,this.buffer=b,this.vao=_,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}c.__TEXT_CACHE={};var h=g.prototype,T=[0,0];h.bind=function(x,m,b,_){this.vao.bind(),this.shader.bind();var w=this.shader.uniforms;w.model=x,w.view=m,w.projection=b,w.pixelScale=_,T[0]=this.gl.drawingBufferWidth,T[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=T},h.unbind=function(){this.vao.unbind()},h.update=function(x,m,b,_,w){var A=[];function p(X,N,q,G,H,Z){var $=f[q];$||($=f[q]={});var se=$[N];se||(se=$[N]=function(ve,ke){try{return o(ve,ke)}catch(Ie){return console.warn('error vectorizing text:"'+ve+'" error:',Ie),{cells:[],positions:[]}}}(N,{triangles:!0,font:q,textAlign:"center",textBaseline:"middle",lineSpacing:H,styletags:Z}));for(var ne=(G||12)/12,re=se.positions,Q=se.cells,ee=0,oe=Q.length;ee<oe;++ee)for(var ce=Q[ee],ue=2;ue>=0;--ue){var he=re[ce[ue]];A.push(ne*he[0],-ne*he[1],X)}}for(var I=[0,0,0],k=[0,0,0],L=[0,0,0],O=[0,0,0],P={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},F=0;F<3;++F){L[F]=A.length/3|0,p(.5*(x[0][F]+x[1][F]),m[F],b[F],12,1.25,P),O[F]=(A.length/3|0)-L[F],I[F]=A.length/3|0;for(var j=0;j<_[F].length;++j)_[F][j].text&&p(_[F][j].x,_[F][j].text,_[F][j].font||w,_[F][j].fontSize||12,1.25,P);k[F]=(A.length/3|0)-I[F]}this.buffer.update(A),this.tickOffset=I,this.tickCount=k,this.labelOffset=L,this.labelCount=O},h.drawTicks=function(x,m,b,_,w,A,p,I){this.tickCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=w,this.shader.uniforms.angle=b,this.shader.uniforms.scale=m,this.shader.uniforms.offset=_,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=I,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},h.drawLabel=function(x,m,b,_,w,A,p,I){this.labelCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=w,this.shader.uniforms.angle=b,this.shader.uniforms.scale=m,this.shader.uniforms.offset=_,this.shader.uniforms.alignDir=p,this.shader.uniforms.alignOpt=I,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},h.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(v,u){"use strict";function i(s,a){var o=s+"",l=o.indexOf("."),c=0;l>=0&&(c=o.length-l-1);var f=Math.pow(10,c),g=Math.round(s*a*f),h=g+"";if(h.indexOf("e")>=0)return h;var T=g/f,x=g%f;g<0?(T=0|-Math.ceil(T),x=0|-x):(T=0|Math.floor(T),x|=0);var m=""+T;if(g<0&&(m="-"+m),c){for(var b=""+x;b.length<c;)b="0"+b;return m+"."+b}return m}u.create=function(s,a){for(var o=[],l=0;l<3;++l){for(var c=[],f=0;f*a[l]<=s[1][l];++f)c.push({x:f*a[l],text:i(a[l],f)});for(f=-1;f*a[l]>=s[0][l];--f)c.push({x:f*a[l],text:i(a[l],f)});o.push(c)}return o},u.equal=function(s,a){for(var o=0;o<3;++o){if(s[o].length!==a[o].length)return!1;for(var l=0;l<s[o].length;++l){var c=s[o][l],f=a[o][l];if(c.x!==f.x||c.text!==f.text||c.font!==f.font||c.fontColor!==f.fontColor||c.fontSize!==f.fontSize||c.dx!==f.dx||c.dy!==f.dy)return!1}}return!0}},2771:function(v,u,i){"use strict";v.exports=function(A,p,I,k,L){var O=p.model||g,P=p.view||g,F=p.projection||g,j=p._ortho||!1,X=A.bounds,N=(L=L||o(O,P,F,X,j)).axis;l(h,P,O),l(h,F,h);for(var q=_,G=0;G<3;++G)q[G].lo=1/0,q[G].hi=-1/0,q[G].pixelsPerDataUnit=1/0;var H=s(c(h,h));c(h,h);for(var Z=0;Z<3;++Z){var $=(Z+1)%3,se=(Z+2)%3,ne=w;e:for(G=0;G<2;++G){var re=[];if(N[Z]<0!=!!G){ne[Z]=X[G][Z];for(var Q=0;Q<2;++Q){ne[$]=X[Q^G][$];for(var ee=0;ee<2;++ee)ne[se]=X[ee^Q^G][se],re.push(ne.slice())}var oe=j?5:4;for(Q=oe;Q===oe;++Q){if(0===re.length)continue e;re=a.positive(re,H[Q])}for(Q=0;Q<re.length;++Q){var ce=b(w,h,se=re[Q],I,k);for(ee=0;ee<3;++ee)q[ee].lo=Math.min(q[ee].lo,se[ee]),q[ee].hi=Math.max(q[ee].hi,se[ee]),ee!==Z&&(q[ee].pixelsPerDataUnit=Math.min(q[ee].pixelsPerDataUnit,Math.abs(ce[ee])))}}}}return q};var s=i(5795),a=i(4670),o=i(2864),l=i(104),c=i(2142),f=i(6342),g=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(A,p,I){this.lo=A,this.hi=p,this.pixelsPerDataUnit=I}var x=[0,0,0,1],m=[0,0,0,1];function b(A,p,I,k,L){for(var O=0;O<3;++O){for(var P=x,F=m,j=0;j<3;++j)F[j]=P[j]=I[j];F[3]=P[3]=1,F[O]+=1,f(F,F,p),F[3]<0&&(A[O]=1/0),P[O]-=1,f(P,P,p),P[3]<0&&(A[O]=1/0);var X=(P[0]/P[3]-F[0]/F[3])*k,N=(P[1]/P[3]-F[1]/F[3])*L;A[O]=.25*Math.sqrt(X*X+N*N)}return A}var _=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],w=[0,0,0]},5827:function(v,u,i){"use strict";var s=i(5306),a=i(7498),o=i(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(T,x,m,b,_){this.gl=T,this.type=x,this.handle=m,this.length=b,this.usage=_}var f=c.prototype;function g(T,x,m,b,_,w){var A=_.length*_.BYTES_PER_ELEMENT;if(w<0)return T.bufferData(x,_,b),A;if(A+w>m)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return T.bufferSubData(x,w,_),m}f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)},f.update=function(T,x){if("number"!=typeof x&&(x=-1),this.bind(),"object"==typeof T&&void 0!==T.shape){var m=T.dtype;if(l.indexOf(m)<0&&(m="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(m=gl.getExtension("OES_element_index_uint")&&"uint16"!==m?"uint32":"uint16"),m===T.dtype&&function(A,p){for(var I=1,k=p.length-1;k>=0;--k){if(p[k]!==I)return!1;I*=A[k]}return!0}(T.shape,T.stride))this.length=g(this.gl,this.type,this.length,this.usage,0===T.offset&&T.data.length===T.shape[0]?T.data:T.data.subarray(T.offset,T.shape[0]),x);else{var b=s.malloc(T.size,m),_=o(b,T.shape);a.assign(_,T),this.length=g(this.gl,this.type,this.length,this.usage,x<0?b:b.subarray(0,T.size),x),s.free(b)}}else if(Array.isArray(T)){var w;w=function h(T,x){for(var m=s.malloc(T.length,x),b=T.length,_=0;_<b;++_)m[_]=T[_];return m}(T,this.type===this.gl.ELEMENT_ARRAY_BUFFER?"uint16":"float32"),this.length=g(this.gl,this.type,this.length,this.usage,x<0?w:w.subarray(0,T.length),x),s.free(w)}else if("object"==typeof T&&"number"==typeof T.length)this.length=g(this.gl,this.type,this.length,this.usage,T,x);else{if("number"!=typeof T&&void 0!==T)throw new Error("gl-buffer: Invalid data type");if(x>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(T|=0)<=0&&(T=1),this.gl.bufferData(this.type,0|T,this.usage),this.length=T}},v.exports=function(T,x,m,b){if(b=b||T.DYNAMIC_DRAW,(m=m||T.ARRAY_BUFFER)!==T.ARRAY_BUFFER&&m!==T.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(b!==T.DYNAMIC_DRAW&&b!==T.STATIC_DRAW&&b!==T.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var _=T.createBuffer(),w=new c(T,m,_,0,b);return w.update(x),w}},1140:function(v,u,i){"use strict";var s=i(2858);v.exports=function(o,l){var c=o.positions,f=o.vectors,g={positions:[],vertexIntensity:[],vertexIntensityBounds:o.vertexIntensityBounds,vectors:[],cells:[],coneOffset:o.coneOffset,colormap:o.colormap};if(0===o.positions.length)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),g;for(var h=0,T=1/0,x=-1/0,m=1/0,b=-1/0,_=1/0,w=-1/0,A=null,p=null,I=[],k=1/0,L=!1,O=0;O<c.length;O++){var P=c[O];T=Math.min(P[0],T),x=Math.max(P[0],x),m=Math.min(P[1],m),b=Math.max(P[1],b),_=Math.min(P[2],_),w=Math.max(P[2],w);var F=f[O];if(s.length(F)>h&&(h=s.length(F)),O){var j=2*s.distance(A,P)/(s.length(p)+s.length(F));j?(k=Math.min(k,j),L=!1):L=!0}L||(A=P,p=F),I.push(F)}var N=[x,b,w];l&&(l[0]=[T,m,_],l[1]=N),0===h&&(h=1);var q=1/h;isFinite(k)||(k=1),g.vectorScale=k;var G=o.coneSize||.5;o.absoluteConeSize&&(G=o.absoluteConeSize*q),g.coneScale=G,O=0;for(var H=0;O<c.length;O++)for(var Z=(P=c[O])[0],$=P[1],se=P[2],ne=I[O],re=s.length(ne)*q,Q=0;Q<8;Q++){g.positions.push([Z,$,se,H++]),g.positions.push([Z,$,se,H++]),g.positions.push([Z,$,se,H++]),g.positions.push([Z,$,se,H++]),g.positions.push([Z,$,se,H++]),g.positions.push([Z,$,se,H++]),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vectors.push(ne),g.vertexIntensity.push(re,re,re),g.vertexIntensity.push(re,re,re);var ee=g.positions.length;g.cells.push([ee-6,ee-5,ee-4],[ee-3,ee-2,ee-1])}return g};var a=i(7234);v.exports.createMesh=i(5028),v.exports.createConeMesh=function(o,l){return v.exports.createMesh(o,l,{shaders:a,traceType:"cone"})}},5028:function(v,u,i){"use strict";var s=i(5158),a=i(5827),o=i(2944),l=i(8931),c=i(104),f=i(7437),g=i(5050),h=i(9156),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(b,_,w,A,p,I,k,L,O,P,F){this.gl=b,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=_,this.dirty=!0,this.triShader=w,this.pickShader=A,this.trianglePositions=p,this.triangleVectors=I,this.triangleColors=L,this.triangleUVs=O,this.triangleIds=k,this.triangleVAO=P,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=F,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var m=x.prototype;m.isOpaque=function(){return this.opacity>=1},m.isTransparent=function(){return this.opacity<1},m.pickSlots=1,m.setPickBase=function(b){this.pickId=b},m.update=function(b){b=b||{};var _=this.gl;this.dirty=!0,"lightPosition"in b&&(this.lightPosition=b.lightPosition),"opacity"in b&&(this.opacity=b.opacity),"ambient"in b&&(this.ambientLight=b.ambient),"diffuse"in b&&(this.diffuseLight=b.diffuse),"specular"in b&&(this.specularLight=b.specular),"roughness"in b&&(this.roughness=b.roughness),"fresnel"in b&&(this.fresnel=b.fresnel),void 0!==b.tubeScale&&(this.tubeScale=b.tubeScale),void 0!==b.vectorScale&&(this.vectorScale=b.vectorScale),void 0!==b.coneScale&&(this.coneScale=b.coneScale),void 0!==b.coneOffset&&(this.coneOffset=b.coneOffset),b.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=_.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=_.LINEAR,this.texture.setPixels(function(ce){for(var ue=h({colormap:ce,nshades:256,format:"rgba"}),he=new Uint8Array(1024),ve=0;ve<256;++ve){for(var ke=ue[ve],Ie=0;Ie<3;++Ie)he[4*ve+Ie]=ke[Ie];he[4*ve+3]=255*ke[3]}return g(he,[256,256,4],[4,0,1])}(b.colormap)),this.texture.generateMipmap());var w=b.cells,A=b.positions,p=b.vectors;if(A&&w&&p){var I=[],k=[],L=[],O=[],P=[];this.cells=w,this.positions=A,this.vectors=p;var F=b.meshColor||[1,1,1,1],j=b.vertexIntensity,X=1/0,N=-1/0;if(j)if(b.vertexIntensityBounds)X=+b.vertexIntensityBounds[0],N=+b.vertexIntensityBounds[1];else for(var q=0;q<j.length;++q){var G=j[q];X=Math.min(X,G),N=Math.max(N,G)}else for(q=0;q<A.length;++q)G=A[q][2],X=Math.min(X,G),N=Math.max(N,G);for(this.intensity=j||function(ce){for(var ue=ce.length,he=new Array(ue),ve=0;ve<ue;++ve)he[ve]=ce[ve][2];return he}(A),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],q=0;q<A.length;++q)for(var H=A[q],Z=0;Z<3;++Z)!isNaN(H[Z])&&isFinite(H[Z])&&(this.bounds[0][Z]=Math.min(this.bounds[0][Z],H[Z]),this.bounds[1][Z]=Math.max(this.bounds[1][Z],H[Z]));var $=0;e:for(q=0;q<w.length;++q){var se=w[q];if(3===se.length){for(Z=0;Z<3;++Z){H=A[re=se[Z]];for(var ne=0;ne<3;++ne)if(isNaN(H[ne])||!isFinite(H[ne]))continue e}for(Z=0;Z<3;++Z){var re;H=A[re=se[2-Z]],I.push(H[0],H[1],H[2],H[3]);var Q=p[re];k.push(Q[0],Q[1],Q[2],Q[3]||0);var ee;L.push(F[0],F[1],F[2],3===F.length?1:F[3]),O.push((ee=j?[(j[re]-X)/(N-X),0]:[(H[2]-X)/(N-X),0])[0],ee[1]),P.push(q)}$+=1}}this.triangleCount=$,this.trianglePositions.update(I),this.triangleVectors.update(k),this.triangleColors.update(L),this.triangleUVs.update(O),this.triangleIds.update(new Uint32Array(P))}},m.drawTransparent=m.draw=function(b){for(var _=this.gl,w=(b=b||{}).model||T,A=b.view||T,p=b.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)I[0][k]=Math.max(I[0][k],this.clipBounds[0][k]),I[1][k]=Math.min(I[1][k],this.clipBounds[1][k]);var L={model:w,view:A,projection:p,inverseModel:T.slice(),clipBounds:I,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};L.inverseModel=f(L.inverseModel,L.model),_.disable(_.CULL_FACE),this.texture.bind(0);var O=new Array(16);for(c(O,L.view,L.model),c(O,L.projection,O),f(O,O),k=0;k<3;++k)L.eyePosition[k]=O[12+k]/O[15];var P=O[15];for(k=0;k<3;++k)P+=this.lightPosition[k]*O[4*k+3];for(k=0;k<3;++k){for(var F=O[12+k],j=0;j<3;++j)F+=O[4*j+k]*this.lightPosition[j];L.lightPosition[k]=F/P}if(this.triangleCount>0){var X=this.triShader;X.bind(),X.uniforms=L,this.triangleVAO.bind(),_.drawArrays(_.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},m.drawPick=function(b){for(var _=this.gl,w=(b=b||{}).model||T,A=b.view||T,p=b.projection||T,I=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)I[0][k]=Math.max(I[0][k],this.clipBounds[0][k]),I[1][k]=Math.min(I[1][k],this.clipBounds[1][k]);this._model=[].slice.call(w),this._view=[].slice.call(A),this._projection=[].slice.call(p),this._resolution=[_.drawingBufferWidth,_.drawingBufferHeight];var L={model:w,view:A,projection:p,clipBounds:I,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},O=this.pickShader;O.bind(),O.uniforms=L,this.triangleCount>0&&(this.triangleVAO.bind(),_.drawArrays(_.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},m.pick=function(b){if(!b||b.id!==this.pickId)return null;var _=b.value[0]+256*b.value[1]+65536*b.value[2],w=this.cells[_],A=this.positions[w[1]].slice(0,3),p={position:A,dataCoordinate:A,index:Math.floor(w[1]/48)};return"cone"===this.traceType?p.index=Math.floor(w[1]/48):"streamtube"===this.traceType&&(p.intensity=this.intensity[w[1]],p.velocity=this.vectors[w[1]].slice(0,3),p.divergence=this.vectors[w[1]][3],p.index=_),p},m.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},v.exports=function(b,_,w){var A=w.shaders;1===arguments.length&&(b=(_=b).gl);var q,G,p=((G=s(b,(q=A).meshShader.vertex,q.meshShader.fragment,null,q.meshShader.attributes)).attributes.position.location=0,G.attributes.color.location=2,G.attributes.uv.location=3,G.attributes.vector.location=4,G),I=function(N,q){var G=s(N,q.pickShader.vertex,q.pickShader.fragment,null,q.pickShader.attributes);return G.attributes.position.location=0,G.attributes.id.location=1,G.attributes.vector.location=4,G}(b,A),k=l(b,g(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=b.LINEAR_MIPMAP_LINEAR,k.magFilter=b.LINEAR;var L=a(b),O=a(b),P=a(b),F=a(b),j=a(b),X=new x(b,k,p,I,L,O,j,P,F,o(b,[{buffer:L,type:b.FLOAT,size:4},{buffer:j,type:b.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:b.FLOAT,size:4},{buffer:F,type:b.FLOAT,size:2},{buffer:O,type:b.FLOAT,size:4}]),w.traceType||"cone");return X.update(_),X}},7234:function(v,u,i){var s=i(6832),a=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, coneScale, coneOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float vectorScale, coneScale, coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),c=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);u.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},u.pickShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,u,i){var s=i(1950);v.exports=function(a){return s[a]}},3110:function(v,u,i){"use strict";v.exports=function(x){var m=x.gl,b=s(m),_=a(m,[{buffer:b,type:m.FLOAT,size:3,offset:0,stride:40},{buffer:b,type:m.FLOAT,size:4,offset:12,stride:40},{buffer:b,type:m.FLOAT,size:3,offset:28,stride:40}]),w=o(m);w.attributes.position.location=0,w.attributes.color.location=1,w.attributes.offset.location=2;var A=new c(m,b,_,w);return A.update(x),A};var s=i(5827),a=i(2944),o=i(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(x,m,b,_){this.gl=x,this.shader=_,this.buffer=m,this.vao=b,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var f=c.prototype;function g(x,m){for(var b=0;b<3;++b)x[0][b]=Math.min(x[0][b],m[b]),x[1][b]=Math.max(x[1][b],m[b])}f.isOpaque=function(){return!this.hasAlpha},f.isTransparent=function(){return this.hasAlpha},f.drawTransparent=f.draw=function(x){var m=this.gl,b=this.shader.uniforms;this.shader.bind();var _=b.view=x.view||l,w=b.projection=x.projection||l;b.model=x.model||l,b.clipBounds=this.clipBounds,b.opacity=this.opacity;var L=(x._ortho?2:1)*this.pixelRatio*(w[3]*_[12]+w[7]*_[13]+w[11]*_[14]+w[15]*_[15])/m.drawingBufferHeight;this.vao.bind();for(var O=0;O<3;++O)m.lineWidth(this.lineWidth[O]*this.pixelRatio),b.capSize=this.capSize[O]*L,this.lineCount[O]&&m.drawArrays(m.LINES,this.lineOffset[O],this.lineCount[O]);this.vao.unbind()};var h=function(){for(var x=new Array(3),m=0;m<3;++m){for(var b=[],_=1;_<=2;++_)for(var w=-1;w<=1;w+=2){var A=[0,0,0];A[(_+m)%3]=w,b.push(A)}x[m]=b}return x}();function T(x,m,b,_){for(var w=h[_],A=0;A<w.length;++A){var p=w[A];x.push(m[0],m[1],m[2],b[0],b[1],b[2],b[3],p[0],p[1],p[2])}return w.length}f.update=function(x){"lineWidth"in(x=x||{})&&(this.lineWidth=x.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in x&&(this.capSize=x.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in x&&(this.opacity=+x.opacity,this.opacity<1&&(this.hasAlpha=!0));var m=x.color||[[0,0,0],[0,0,0],[0,0,0]],b=x.position,_=x.error;if(Array.isArray(m[0])||(m=[m,m,m]),b&&_){var w=[],A=b.length,p=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var I=0;I<3;++I){this.lineOffset[I]=p;e:for(var k=0;k<A;++k){for(var L=b[k],O=0;O<3;++O)if(isNaN(L[O])||!isFinite(L[O]))continue e;var P,F=_[k],j=m[I];Array.isArray(j[0])&&(j=m[k]),3===j.length?j=[j[0],j[1],j[2],1]:4===j.length&&(j=[j[0],j[1],j[2],j[3]],!this.hasAlpha&&j[3]<1&&(this.hasAlpha=!0)),isNaN(F[0][I])||isNaN(F[1][I])||(F[0][I]<0&&((P=L.slice())[I]+=F[0][I],w.push(L[0],L[1],L[2],j[0],j[1],j[2],j[3],0,0,0,P[0],P[1],P[2],j[0],j[1],j[2],j[3],0,0,0),g(this.bounds,P),p+=2+T(w,P,j,I)),F[1][I]>0&&((P=L.slice())[I]+=F[1][I],w.push(L[0],L[1],L[2],j[0],j[1],j[2],j[3],0,0,0,P[0],P[1],P[2],j[0],j[1],j[2],j[3],0,0,0),g(this.bounds,P),p+=2+T(w,P,j,I)))}this.lineCount[I]=p-this.lineOffset[I]}this.buffer.update(w)}},f.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(v,u,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);v.exports=function(c){return a(c,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,u,i){"use strict";var s=i(8931);v.exports=function(A,p,I,k){a||(a=A.FRAMEBUFFER_UNSUPPORTED,o=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,c=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var L=A.getExtension("WEBGL_draw_buffers");if(!f&&L&&function(q,G){var H=q.getParameter(G.MAX_COLOR_ATTACHMENTS_WEBGL);f=new Array(H+1);for(var Z=0;Z<=H;++Z){for(var $=new Array(H),se=0;se<Z;++se)$[se]=q.COLOR_ATTACHMENT0+se;for(se=Z;se<H;++se)$[se]=q.NONE;f[Z]=$}}(A,L),Array.isArray(p)&&(k=I,I=0|p[1],p=0|p[0]),"number"!=typeof p)throw new Error("gl-fbo: Missing shape parameter");var O=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(p<0||p>O||I<0||I>O)throw new Error("gl-fbo: Parameters are too large for FBO");var P=1;if("color"in(k=k||{})){if((P=Math.max(0|k.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(P>1){if(!L)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(P>A.getParameter(L.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+P+" draw buffers")}}var F=A.UNSIGNED_BYTE,j=A.getExtension("OES_texture_float");if(k.float&&P>0){if(!j)throw new Error("gl-fbo: Context does not support floating point textures");F=A.FLOAT}else k.preferFloat&&P>0&&j&&(F=A.FLOAT);var X=!0;"depth"in k&&(X=!!k.depth);var N=!1;return"stencil"in k&&(N=!!k.stencil),new b(A,p,I,F,P,X,N,L)};var a,o,l,c,f=null;function g(A){return[A.getParameter(A.FRAMEBUFFER_BINDING),A.getParameter(A.RENDERBUFFER_BINDING),A.getParameter(A.TEXTURE_BINDING_2D)]}function h(A,p){A.bindFramebuffer(A.FRAMEBUFFER,p[0]),A.bindRenderbuffer(A.RENDERBUFFER,p[1]),A.bindTexture(A.TEXTURE_2D,p[2])}function T(A){switch(A){case a:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case c:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function x(A,p,I,k,L,O){if(!k)return null;var P=s(A,p,I,L,k);return P.magFilter=A.NEAREST,P.minFilter=A.NEAREST,P.mipSamples=1,P.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,O,A.TEXTURE_2D,P.handle,0),P}function m(A,p,I,k,L){var O=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,O),A.renderbufferStorage(A.RENDERBUFFER,k,p,I),A.framebufferRenderbuffer(A.FRAMEBUFFER,L,A.RENDERBUFFER,O),O}function b(A,p,I,k,L,O,P,F){this.gl=A,this._shape=[0|p,0|I],this._destroyed=!1,this._ext=F,this.color=new Array(L);for(var j=0;j<L;++j)this.color[j]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=k,this._useDepth=O,this._useStencil=P;var X=this,N=[0|p,0|I];Object.defineProperties(N,{0:{get:function(){return X._shape[0]},set:function(q){return X.width=q}},1:{get:function(){return X._shape[1]},set:function(q){return X.height=q}}}),this._shapeVector=N,function(q){var G=g(q.gl),H=q.gl,Z=q.handle=H.createFramebuffer(),$=q._shape[0],se=q._shape[1],ne=q.color.length,re=q._ext,Q=q._useStencil,ee=q._useDepth,oe=q._colorType;H.bindFramebuffer(H.FRAMEBUFFER,Z);for(var ce=0;ce<ne;++ce)q.color[ce]=x(H,$,se,oe,H.RGBA,H.COLOR_ATTACHMENT0+ce);0===ne?(q._color_rb=m(H,$,se,H.RGBA4,H.COLOR_ATTACHMENT0),re&&re.drawBuffersWEBGL(f[0])):ne>1&&re.drawBuffersWEBGL(f[ne]);var ue=H.getExtension("WEBGL_depth_texture");ue?Q?q.depth=x(H,$,se,ue.UNSIGNED_INT_24_8_WEBGL,H.DEPTH_STENCIL,H.DEPTH_STENCIL_ATTACHMENT):ee&&(q.depth=x(H,$,se,H.UNSIGNED_SHORT,H.DEPTH_COMPONENT,H.DEPTH_ATTACHMENT)):ee&&Q?q._depth_rb=m(H,$,se,H.DEPTH_STENCIL,H.DEPTH_STENCIL_ATTACHMENT):ee?q._depth_rb=m(H,$,se,H.DEPTH_COMPONENT16,H.DEPTH_ATTACHMENT):Q&&(q._depth_rb=m(H,$,se,H.STENCIL_INDEX,H.STENCIL_ATTACHMENT));var he=H.checkFramebufferStatus(H.FRAMEBUFFER);if(he!==H.FRAMEBUFFER_COMPLETE){for(q._destroyed=!0,H.bindFramebuffer(H.FRAMEBUFFER,null),H.deleteFramebuffer(q.handle),q.handle=null,q.depth&&(q.depth.dispose(),q.depth=null),q._depth_rb&&(H.deleteRenderbuffer(q._depth_rb),q._depth_rb=null),ce=0;ce<q.color.length;++ce)q.color[ce].dispose(),q.color[ce]=null;q._color_rb&&(H.deleteRenderbuffer(q._color_rb),q._color_rb=null),h(H,G),T(he)}h(H,G)}(this)}var _=b.prototype;function w(A,p,I){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(A._shape[0]!==p||A._shape[1]!==I){var k=A.gl,L=k.getParameter(k.MAX_RENDERBUFFER_SIZE);if(p<0||p>L||I<0||I>L)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=p,A._shape[1]=I;for(var O=g(k),P=0;P<A.color.length;++P)A.color[P].shape=A._shape;A._color_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,A._color_rb),k.renderbufferStorage(k.RENDERBUFFER,k.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(k.bindRenderbuffer(k.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&k.renderbufferStorage(k.RENDERBUFFER,k.STENCIL_INDEX,A._shape[0],A._shape[1])),k.bindFramebuffer(k.FRAMEBUFFER,A.handle);var F=k.checkFramebufferStatus(k.FRAMEBUFFER);F!==k.FRAMEBUFFER_COMPLETE&&(A.dispose(),h(k,O),T(F)),h(k,O)}}Object.defineProperties(_,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[0|A,0|A]),2!==A.length)throw new Error("gl-fbo: Shape vector must be length 2");var p=0|A[0],I=0|A[1];return w(this,p,I),[p,I]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return w(this,A|=0,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return w(this,this._shape[0],A|=0),A},enumerable:!1}}),_.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},_.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var p=0;p<this.color.length;++p)this.color[p].dispose(),this.color[p]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(v,u,i){var s=i(8974).sprintf,a=i(6603),o=i(9365),l=i(8008);v.exports=function(c,f,g){"use strict";var h=o(f)||"of unknown name (see npm glsl-shader-name)",T="unknown type";void 0!==g&&(T=g===a.FRAGMENT_SHADER?"fragment":"vertex");for(var x=s("Error compiling %s shader %s:\n",T,h),m=s("%s%s",x,c),b=c.split("\n"),_={},w=0;w<b.length;w++){var A=b[w];if(""!==A&&"\0"!==A){var p=parseInt(A.split(":")[2]);if(isNaN(p))throw new Error(s("Could not parse error: %s",A));_[p]=A}}var I=l(f).split("\n");for(w=0;w<I.length;w++)if((_[w+3]||_[w+2]||_[w+1])&&(x+=I[w]+"\n",_[w+1])){var k=_[w+1];k=k.substr(k.split(":",3).join(":").length+1).trim(),x+=s("^^^ %s\n\n",k)}return{long:x.trim(),short:m.trim()}}},6386:function(v,u,i){"use strict";v.exports=function(m,b){var _=m.gl,w=new g(m,l(_,f.vertex,f.fragment),l(_,f.pickVertex,f.pickFragment),c(_),c(_),c(_),c(_));return w.update(b),m.addObject(w),w};var s=i(5070),a=i(9560),o=i(5306),l=i(5158),c=i(5827),f=i(1292);function g(m,b,_,w,A,p,I){this.plot=m,this.shader=b,this.pickShader=_,this.positionBuffer=w,this.weightBuffer=A,this.colorBuffer=p,this.idBuffer=I,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h,m,b,T=g.prototype,x=[0,0,1,0,0,1,1,0,1,1,0,1];T.draw=(h=[1,0,0,0,1,0,0,0,1],function(){var m=this.plot,b=this.shader,_=this.bounds,w=this.numVertices;if(!(w<=0)){var A=m.gl,p=m.dataBox,k=_[3]-_[1],L=p[2]-p[0],O=p[3]-p[1];h[0]=2*(_[2]-_[0])/L,h[4]=2*k/O,h[6]=2*(_[0]-p[0])/L-1,h[7]=2*(_[1]-p[1])/O-1,b.bind();var P=b.uniforms;P.viewTransform=h,P.shape=this.shape;var F=b.attributes;this.positionBuffer.bind(),F.position.pointer(),this.weightBuffer.bind(),F.weight.pointer(A.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),F.color.pointer(A.UNSIGNED_BYTE,!0),A.drawArrays(A.TRIANGLES,0,w)}}),T.drawPick=(m=[1,0,0,0,1,0,0,0,1],b=[0,0,0,0],function(_){var w=this.plot,A=this.pickShader,p=this.bounds,I=this.numVertices;if(!(I<=0)){var k=w.gl,L=w.dataBox,P=p[3]-p[1],F=L[2]-L[0],j=L[3]-L[1];m[0]=2*(p[2]-p[0])/F,m[4]=2*P/j,m[6]=2*(p[0]-L[0])/F-1,m[7]=2*(p[1]-L[1])/j-1;for(var X=0;X<4;++X)b[X]=_>>8*X&255;this.pickOffset=_,A.bind();var N=A.uniforms;N.viewTransform=m,N.pickOffset=b,N.shape=this.shape;var q=A.attributes;return this.positionBuffer.bind(),q.position.pointer(),this.weightBuffer.bind(),q.weight.pointer(k.UNSIGNED_BYTE,!1),this.idBuffer.bind(),q.pickId.pointer(k.UNSIGNED_BYTE,!1),k.drawArrays(k.TRIANGLES,0,I),_+this.shape[0]*this.shape[1]}}),T.pick=function(m,b,_){var w=this.pickOffset;if(_<w||_>=w+this.shape[0]*this.shape[1])return null;var p=_-w;return{object:this,pointId:p,dataCoord:[this.xData[p%this.shape[0]],this.yData[p/this.shape[0]|0]]}},T.update=function(m){var b=(m=m||{}).shape||[0,0],_=m.x||a(b[0]),w=m.y||a(b[1]),A=m.z||new Float32Array(b[0]*b[1]),p=!1!==m.zsmooth;this.xData=_,this.yData=w;var I,k,L,O,P=m.colorLevels||[0],F=m.colorValues||[0,0,0,1],j=P.length,X=this.bounds;p?(I=X[0]=_[0],k=X[1]=w[0],L=X[2]=_[_.length-1],O=X[3]=w[w.length-1]):(I=X[0]=_[0]+(_[1]-_[0])/2,k=X[1]=w[0]+(w[1]-w[0])/2,L=X[2]=_[_.length-1]+(_[_.length-1]-_[_.length-2])/2,O=X[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var N=1/(L-I),q=1/(O-k),G=b[0],H=b[1];this.shape=[G,H];var Z=(p?(G-1)*(H-1):G*H)*(x.length>>>1);this.numVertices=Z;for(var $=o.mallocUint8(4*Z),se=o.mallocFloat32(2*Z),ne=o.mallocUint8(2*Z),re=o.mallocUint32(Z),Q=0,ee=p?G-1:G,oe=p?H-1:H,ce=0;ce<oe;++ce){var ue,he;p?(ue=q*(w[ce]-k),he=q*(w[ce+1]-k)):(ue=ce<H-1?q*(w[ce]-(w[ce+1]-w[ce])/2-k):q*(w[ce]-(w[ce]-w[ce-1])/2-k),he=ce<H-1?q*(w[ce]+(w[ce+1]-w[ce])/2-k):q*(w[ce]+(w[ce]-w[ce-1])/2-k));for(var ve=0;ve<ee;++ve){var ke,Ie;p?(ke=N*(_[ve]-I),Ie=N*(_[ve+1]-I)):(ke=ve<G-1?N*(_[ve]-(_[ve+1]-_[ve])/2-I):N*(_[ve]-(_[ve]-_[ve-1])/2-I),Ie=ve<G-1?N*(_[ve]+(_[ve+1]-_[ve])/2-I):N*(_[ve]+(_[ve]-_[ve-1])/2-I));for(var Me=0;Me<x.length;Me+=2){var _e,we,ze,Ee,Se=x[Me],me=x[Me+1],fe=A[p?(ce+me)*G+(ve+Se):ce*G+ve],le=s.le(P,fe);if(le<0)_e=F[0],we=F[1],ze=F[2],Ee=F[3];else if(le===j-1)_e=F[4*j-4],we=F[4*j-3],ze=F[4*j-2],Ee=F[4*j-1];else{var Te=(fe-P[le])/(P[le+1]-P[le]),Re=1-Te,De=4*le,Ue=4*(le+1);_e=Re*F[De]+Te*F[Ue],we=Re*F[De+1]+Te*F[Ue+1],ze=Re*F[De+2]+Te*F[Ue+2],Ee=Re*F[De+3]+Te*F[Ue+3]}$[4*Q]=255*_e,$[4*Q+1]=255*we,$[4*Q+2]=255*ze,$[4*Q+3]=255*Ee,se[2*Q]=.5*ke+.5*Ie,se[2*Q+1]=.5*ue+.5*he,ne[2*Q]=Se,ne[2*Q+1]=me,re[Q]=ce*G+ve,Q+=1}}}this.positionBuffer.update(se),this.weightBuffer.update(ne),this.colorBuffer.update($),this.idBuffer.update(re),o.free(se),o.free($),o.free(ne),o.free(re)},T.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(v,u,i){"use strict";var s=i(6832);v.exports={fragment:s(["precision lowp float;\n#define GLSLIFY 1\nvarying vec4 fragColor;\nvoid main() {\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\n}\n"]),vertex:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 color;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  fragColor = color;\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"]),pickFragment:s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nuniform vec2 shape;\nuniform vec4 pickOffset;\n\nvoid main() {\n  vec2 d = step(.5, vWeight);\n  vec4 id = fragId + pickOffset;\n  id.x += d.x + d.y*shape.x;\n\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  gl_FragColor = id/255.;\n}\n"]),pickVertex:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\nattribute vec2 weight;\n\nuniform vec2 shape;\nuniform mat3 viewTransform;\n\nvarying vec4 fragId;\nvarying vec2 vWeight;\n\nvoid main() {\n  vWeight = weight;\n\n  fragId = pickId;\n\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\n}\n"])}},248:function(v,u,i){var s=i(6832),a=i(5158),o=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),c=s(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\nvec4 packFloat(float v) {\n  float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  float e = floor(log2(av));\n  float m = av * pow(2.0, -e) - 1.0;\n\n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n\n  //Unpack exponent\n  float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0;\n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\n}"]),f=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];u.createShader=function(g){return a(g,o,l,null,f)},u.createPickShader=function(g){return a(g,o,c,null,f)}},6086:function(v,u,i){"use strict";v.exports=function(I){var k=I.gl||I.scene&&I.scene.gl,L=T(k);L.attributes.position.location=0,L.attributes.nextPosition.location=1,L.attributes.arcLength.location=2,L.attributes.lineWidth.location=3,L.attributes.color.location=4;var O=x(k);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;for(var P=s(k),F=a(k,[{buffer:P,size:3,offset:0,stride:48},{buffer:P,size:3,offset:12,stride:48},{buffer:P,size:1,offset:24,stride:48},{buffer:P,size:1,offset:28,stride:48},{buffer:P,size:4,offset:32,stride:48}]),j=g(new Array(1024),[256,1,4]),X=0;X<1024;++X)j.data[X]=255;var N=o(k,j);N.wrap=k.REPEAT;var q=new A(k,L,O,P,F,N);return q.update(I),q};var s=i(5827),a=i(2944),o=i(8931),l=new Uint8Array(4),c=new Float32Array(l.buffer),f=i(5070),g=i(5050),h=i(248),T=h.createShader,x=h.createPickShader,m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function b(I,k){for(var L=0,O=0;O<3;++O){var P=I[O]-k[O];L+=P*P}return Math.sqrt(L)}function _(I){for(var k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],L=0;L<3;++L)k[0][L]=Math.max(I[0][L],k[0][L]),k[1][L]=Math.min(I[1][L],k[1][L]);return k}function w(I,k,L,O){this.arcLength=I,this.position=k,this.index=L,this.dataCoordinate=O}function A(I,k,L,O,P,F){this.gl=I,this.shader=k,this.pickShader=L,this.buffer=O,this.vao=P,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=F,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var p=A.prototype;p.isTransparent=function(){return this.hasAlpha},p.isOpaque=function(){return!this.hasAlpha},p.pickSlots=1,p.setPickBase=function(I){this.pickId=I},p.drawTransparent=p.draw=function(I){if(this.vertexCount){var k=this.gl,L=this.shader,O=this.vao;L.bind(),L.uniforms={model:I.model||m,view:I.view||m,projection:I.projection||m,clipBounds:_(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(k.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},p.drawPick=function(I){if(this.vertexCount){var k=this.gl,L=this.pickShader,O=this.vao;L.bind(),L.uniforms={model:I.model||m,view:I.view||m,projection:I.projection||m,pickId:this.pickId,clipBounds:_(this.clipBounds),screenShape:[k.drawingBufferWidth,k.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(k.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},p.update=function(I){var k,L;this.dirty=!0;var O=!!I.connectGaps;"dashScale"in I&&(this.dashScale=I.dashScale),this.hasAlpha=!1,"opacity"in I&&(this.opacity=+I.opacity,this.opacity<1&&(this.hasAlpha=!0));var P=[],F=[],j=[],X=0,N=0,q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=I.position||I.positions;if(G){var H=I.color||I.colors||[0,0,0,1],Z=I.lineWidth||1,$=!1;e:for(k=1;k<G.length;++k){var se,ne,re,Q=G[k-1],ee=G[k];for(F.push(X),j.push(Q.slice()),L=0;L<3;++L){if(isNaN(Q[L])||isNaN(ee[L])||!isFinite(Q[L])||!isFinite(ee[L])){if(!O&&P.length>0){for(var oe=0;oe<24;++oe)P.push(P[P.length-12]);N+=2,$=!0}continue e}q[0][L]=Math.min(q[0][L],Q[L],ee[L]),q[1][L]=Math.max(q[1][L],Q[L],ee[L])}Array.isArray(H[0])?(se=H.length>k-1?H[k-1]:H.length>0?H[H.length-1]:[0,0,0,1],ne=H.length>k?H[k]:H.length>0?H[H.length-1]:[0,0,0,1]):se=ne=H,3===se.length&&(se=[se[0],se[1],se[2],1]),3===ne.length&&(ne=[ne[0],ne[1],ne[2],1]),!this.hasAlpha&&se[3]<1&&(this.hasAlpha=!0),re=Array.isArray(Z)?Z.length>k-1?Z[k-1]:Z.length>0?Z[Z.length-1]:[0,0,0,1]:Z;var ce=X;if(X+=b(Q,ee),$){for(L=0;L<2;++L)P.push(Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],ce,re,se[0],se[1],se[2],se[3]);N+=2,$=!1}P.push(Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],ce,re,se[0],se[1],se[2],se[3],Q[0],Q[1],Q[2],ee[0],ee[1],ee[2],ce,-re,se[0],se[1],se[2],se[3],ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],X,-re,ne[0],ne[1],ne[2],ne[3],ee[0],ee[1],ee[2],Q[0],Q[1],Q[2],X,re,ne[0],ne[1],ne[2],ne[3]),N+=4}}if(this.buffer.update(P),F.push(X),j.push(G[G.length-1].slice()),this.bounds=q,this.vertexCount=N,this.points=j,this.arcLength=F,"dashes"in I){var ue=I.dashes.slice();for(ue.unshift(0),k=1;k<ue.length;++k)ue[k]=ue[k-1]+ue[k];var he=g(new Array(1024),[256,1,4]);for(k=0;k<256;++k){for(L=0;L<4;++L)he.set(k,0,L,0);1&f.le(ue,ue[ue.length-1]*k/255)?he.set(k,0,0,0):he.set(k,0,0,255)}this.texture.setPixels(he)}},p.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},p.pick=function(I){if(!I||I.id!==this.pickId)return null;var G,H,Z,k=(G=I.value[0],H=I.value[1],Z=I.value[2],l[0]=0,l[1]=Z,l[2]=H,l[3]=G,c[0]),L=f.le(this.arcLength,k);if(L<0)return null;if(L===this.arcLength.length-1)return new w(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),L);for(var O=this.points[L],P=this.points[Math.min(L+1,this.points.length-1)],F=(k-this.arcLength[L])/(this.arcLength[L+1]-this.arcLength[L]),j=1-F,X=[0,0,0],N=0;N<3;++N)X[N]=j*O[N]+F*P[N];var q=Math.min(F<.5?L:L+1,this.points.length-1);return new w(k,X,q,this.points[q])}},7332:function(v){v.exports=function(u){var i=new Float32Array(16);return i[0]=u[0],i[1]=u[1],i[2]=u[2],i[3]=u[3],i[4]=u[4],i[5]=u[5],i[6]=u[6],i[7]=u[7],i[8]=u[8],i[9]=u[9],i[10]=u[10],i[11]=u[11],i[12]=u[12],i[13]=u[13],i[14]=u[14],i[15]=u[15],i}},9823:function(v){v.exports=function(){var u=new Float32Array(16);return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},7787:function(v){v.exports=function(u){var i=u[0],s=u[1],a=u[2],o=u[3],l=u[4],c=u[5],f=u[6],g=u[7],h=u[8],T=u[9],x=u[10],m=u[11],b=u[12],_=u[13],w=u[14],A=u[15];return(i*c-s*l)*(x*A-m*w)-(i*f-a*l)*(T*A-m*_)+(i*g-o*l)*(T*w-x*_)+(s*f-a*c)*(h*A-m*b)-(s*g-o*c)*(h*w-x*b)+(a*g-o*f)*(h*_-T*b)}},5950:function(v){v.exports=function(u,i){var s=i[0],a=i[1],o=i[2],l=i[3],c=s+s,f=a+a,g=o+o,h=s*c,T=a*c,x=a*f,m=o*c,b=o*f,_=o*g,w=l*c,A=l*f,p=l*g;return u[0]=1-x-_,u[1]=T+p,u[2]=m-A,u[3]=0,u[4]=T-p,u[5]=1-h-_,u[6]=b+w,u[7]=0,u[8]=m+A,u[9]=b-w,u[10]=1-h-x,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},7280:function(v){v.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=i[3],f=a+a,g=o+o,h=l+l,T=a*f,x=a*g,m=a*h,b=o*g,_=o*h,w=l*h,A=c*f,p=c*g,I=c*h;return u[0]=1-(b+w),u[1]=x+I,u[2]=m-p,u[3]=0,u[4]=x-I,u[5]=1-(T+w),u[6]=_+A,u[7]=0,u[8]=m+p,u[9]=_-A,u[10]=1-(T+b),u[11]=0,u[12]=s[0],u[13]=s[1],u[14]=s[2],u[15]=1,u}},9947:function(v){v.exports=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}},7437:function(v){v.exports=function(u,i){var s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],f=i[5],g=i[6],h=i[7],T=i[8],x=i[9],m=i[10],b=i[11],_=i[12],w=i[13],A=i[14],p=i[15],I=s*f-a*c,k=s*g-o*c,L=s*h-l*c,O=a*g-o*f,P=a*h-l*f,F=o*h-l*g,j=T*w-x*_,X=T*A-m*_,N=T*p-b*_,q=x*A-m*w,G=x*p-b*w,H=m*p-b*A,Z=I*H-k*G+L*q+O*N-P*X+F*j;return Z?(u[0]=(f*H-g*G+h*q)*(Z=1/Z),u[1]=(o*G-a*H-l*q)*Z,u[2]=(w*F-A*P+p*O)*Z,u[3]=(m*P-x*F-b*O)*Z,u[4]=(g*N-c*H-h*X)*Z,u[5]=(s*H-o*N+l*X)*Z,u[6]=(A*L-_*F-p*k)*Z,u[7]=(T*F-m*L+b*k)*Z,u[8]=(c*G-f*N+h*j)*Z,u[9]=(a*N-s*G-l*j)*Z,u[10]=(_*P-w*L+p*I)*Z,u[11]=(x*L-T*P-b*I)*Z,u[12]=(f*X-c*q-g*j)*Z,u[13]=(s*q-a*X+o*j)*Z,u[14]=(w*k-_*O-A*I)*Z,u[15]=(T*O-x*k+m*I)*Z,u):null}},3012:function(v,u,i){var s=i(9947);v.exports=function(a,o,l,c){var f,g,h,T,x,m,b,_,w,A,p=o[0],I=o[1],k=o[2],L=c[0],O=c[1],P=c[2],F=l[0],j=l[1],X=l[2];return Math.abs(p-F)<1e-6&&Math.abs(I-j)<1e-6&&Math.abs(k-X)<1e-6?s(a):(b=p-F,_=I-j,w=k-X,f=O*(w*=A=1/Math.sqrt(b*b+_*_+w*w))-P*(_*=A),g=P*(b*=A)-L*w,h=L*_-O*b,(A=Math.sqrt(f*f+g*g+h*h))?(f*=A=1/A,g*=A,h*=A):(f=0,g=0,h=0),T=_*h-w*g,x=w*f-b*h,m=b*g-_*f,(A=Math.sqrt(T*T+x*x+m*m))?(T*=A=1/A,x*=A,m*=A):(T=0,x=0,m=0),a[0]=f,a[1]=T,a[2]=b,a[3]=0,a[4]=g,a[5]=x,a[6]=_,a[7]=0,a[8]=h,a[9]=m,a[10]=w,a[11]=0,a[12]=-(f*p+g*I+h*k),a[13]=-(T*p+x*I+m*k),a[14]=-(b*p+_*I+w*k),a[15]=1,a)}},104:function(v){v.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=i[3],f=i[4],g=i[5],h=i[6],T=i[7],x=i[8],m=i[9],b=i[10],_=i[11],w=i[12],A=i[13],p=i[14],I=i[15],k=s[0],L=s[1],O=s[2],P=s[3];return u[0]=k*a+L*f+O*x+P*w,u[1]=k*o+L*g+O*m+P*A,u[2]=k*l+L*h+O*b+P*p,u[3]=k*c+L*T+O*_+P*I,u[4]=(k=s[4])*a+(L=s[5])*f+(O=s[6])*x+(P=s[7])*w,u[5]=k*o+L*g+O*m+P*A,u[6]=k*l+L*h+O*b+P*p,u[7]=k*c+L*T+O*_+P*I,u[8]=(k=s[8])*a+(L=s[9])*f+(O=s[10])*x+(P=s[11])*w,u[9]=k*o+L*g+O*m+P*A,u[10]=k*l+L*h+O*b+P*p,u[11]=k*c+L*T+O*_+P*I,u[12]=(k=s[12])*a+(L=s[13])*f+(O=s[14])*x+(P=s[15])*w,u[13]=k*o+L*g+O*m+P*A,u[14]=k*l+L*h+O*b+P*p,u[15]=k*c+L*T+O*_+P*I,u}},5268:function(v){v.exports=function(u,i,s,a,o,l,c){var f=1/(i-s),g=1/(a-o),h=1/(l-c);return u[0]=-2*f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*g,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*h,u[11]=0,u[12]=(i+s)*f,u[13]=(o+a)*g,u[14]=(c+l)*h,u[15]=1,u}},1120:function(v){v.exports=function(u,i,s,a,o){var l=1/Math.tan(i/2),c=1/(a-o);return u[0]=l/s,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=(o+a)*c,u[11]=-1,u[12]=0,u[13]=0,u[14]=2*o*a*c,u[15]=0,u}},4422:function(v){v.exports=function(u,i,s,a){var o,l,c,f,g,h,T,x,m,b,_,w,A,p,I,k,L,O,P,F,j,X,N,q,G=a[0],H=a[1],Z=a[2],$=Math.sqrt(G*G+H*H+Z*Z);return Math.abs($)<1e-6?null:(G*=$=1/$,H*=$,Z*=$,o=Math.sin(s),c=1-(l=Math.cos(s)),g=i[1],h=i[2],T=i[3],m=i[5],b=i[6],_=i[7],A=i[9],p=i[10],I=i[11],P=G*H*c-Z*o,F=H*H*c+l,j=Z*H*c+G*o,X=G*Z*c+H*o,N=H*Z*c-G*o,q=Z*Z*c+l,u[0]=(f=i[0])*(k=G*G*c+l)+(x=i[4])*(L=H*G*c+Z*o)+(w=i[8])*(O=Z*G*c-H*o),u[1]=g*k+m*L+A*O,u[2]=h*k+b*L+p*O,u[3]=T*k+_*L+I*O,u[4]=f*P+x*F+w*j,u[5]=g*P+m*F+A*j,u[6]=h*P+b*F+p*j,u[7]=T*P+_*F+I*j,u[8]=f*X+x*N+w*q,u[9]=g*X+m*N+A*q,u[10]=h*X+b*N+p*q,u[11]=T*X+_*N+I*q,i!==u&&(u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15]),u)}},6109:function(v){v.exports=function(u,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[4],c=i[5],f=i[6],g=i[7],h=i[8],T=i[9],x=i[10],m=i[11];return i!==u&&(u[0]=i[0],u[1]=i[1],u[2]=i[2],u[3]=i[3],u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15]),u[4]=l*o+h*a,u[5]=c*o+T*a,u[6]=f*o+x*a,u[7]=g*o+m*a,u[8]=h*o-l*a,u[9]=T*o-c*a,u[10]=x*o-f*a,u[11]=m*o-g*a,u}},7115:function(v){v.exports=function(u,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[0],c=i[1],f=i[2],g=i[3],h=i[8],T=i[9],x=i[10],m=i[11];return i!==u&&(u[4]=i[4],u[5]=i[5],u[6]=i[6],u[7]=i[7],u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15]),u[0]=l*o-h*a,u[1]=c*o-T*a,u[2]=f*o-x*a,u[3]=g*o-m*a,u[8]=l*a+h*o,u[9]=c*a+T*o,u[10]=f*a+x*o,u[11]=g*a+m*o,u}},5240:function(v){v.exports=function(u,i,s){var a=Math.sin(s),o=Math.cos(s),l=i[0],c=i[1],f=i[2],g=i[3],h=i[4],T=i[5],x=i[6],m=i[7];return i!==u&&(u[8]=i[8],u[9]=i[9],u[10]=i[10],u[11]=i[11],u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15]),u[0]=l*o+h*a,u[1]=c*o+T*a,u[2]=f*o+x*a,u[3]=g*o+m*a,u[4]=h*o-l*a,u[5]=T*o-c*a,u[6]=x*o-f*a,u[7]=m*o-g*a,u}},3668:function(v){v.exports=function(u,i,s){var a=s[0],o=s[1],l=s[2];return u[0]=i[0]*a,u[1]=i[1]*a,u[2]=i[2]*a,u[3]=i[3]*a,u[4]=i[4]*o,u[5]=i[5]*o,u[6]=i[6]*o,u[7]=i[7]*o,u[8]=i[8]*l,u[9]=i[9]*l,u[10]=i[10]*l,u[11]=i[11]*l,u[12]=i[12],u[13]=i[13],u[14]=i[14],u[15]=i[15],u}},998:function(v){v.exports=function(u,i,s){var a,o,l,c,f,g,h,T,x,m,b,_,w=s[0],A=s[1],p=s[2];return i===u?(u[12]=i[0]*w+i[4]*A+i[8]*p+i[12],u[13]=i[1]*w+i[5]*A+i[9]*p+i[13],u[14]=i[2]*w+i[6]*A+i[10]*p+i[14],u[15]=i[3]*w+i[7]*A+i[11]*p+i[15]):(o=i[1],l=i[2],c=i[3],f=i[4],g=i[5],h=i[6],T=i[7],x=i[8],m=i[9],b=i[10],_=i[11],u[0]=a=i[0],u[1]=o,u[2]=l,u[3]=c,u[4]=f,u[5]=g,u[6]=h,u[7]=T,u[8]=x,u[9]=m,u[10]=b,u[11]=_,u[12]=a*w+f*A+x*p+i[12],u[13]=o*w+g*A+m*p+i[13],u[14]=l*w+h*A+b*p+i[14],u[15]=c*w+T*A+_*p+i[15]),u}},2142:function(v){v.exports=function(u,i){if(u===i){var s=i[1],a=i[2],o=i[3],l=i[6],c=i[7],f=i[11];u[1]=i[4],u[2]=i[8],u[3]=i[12],u[4]=s,u[6]=i[9],u[7]=i[13],u[8]=a,u[9]=l,u[11]=i[14],u[12]=o,u[13]=c,u[14]=f}else u[0]=i[0],u[1]=i[4],u[2]=i[8],u[3]=i[12],u[4]=i[1],u[5]=i[5],u[6]=i[9],u[7]=i[13],u[8]=i[2],u[9]=i[6],u[10]=i[10],u[11]=i[14],u[12]=i[3],u[13]=i[7],u[14]=i[11],u[15]=i[15];return u}},4340:function(v,u,i){"use strict";var s=i(957),a=i(7309);function o(f,g){for(var h=[0,0,0,0],T=0;T<4;++T)for(var x=0;x<4;++x)h[x]+=f[4*T+x]*g[T];return h}function l(f,g,h,T,x){for(var m=o(T,o(h,o(g,[f[0],f[1],f[2],1]))),b=0;b<3;++b)m[b]/=m[3];return[.5*x[0]*(1+m[0]),.5*x[1]*(1-m[1])]}function c(f,g){for(var h=[0,0,0],T=0;T<f.length;++T)for(var x=f[T],m=g[T],b=0;b<3;++b)h[b]+=m*x[b];return h}v.exports=function(f,g,h,T,x,m){if(1===f.length)return[0,f[0].slice()];for(var b=new Array(f.length),_=0;_<f.length;++_)b[_]=l(f[_],h,T,x,m);var w=0,A=1/0;for(_=0;_<b.length;++_){for(var p=0,I=0;I<2;++I)p+=Math.pow(b[_][I]-g[I],2);p<A&&(A=p,w=_)}var k=function(O,P){if(2===O.length){for(var F=0,j=0,X=0;X<2;++X)F+=Math.pow(P[X]-O[0][X],2),j+=Math.pow(P[X]-O[1][X],2);return(F=Math.sqrt(F))+(j=Math.sqrt(j))<1e-6?[1,0]:[j/(F+j),F/(j+F)]}if(3===O.length){var N=[0,0];return a(O[0],O[1],O[2],P,N),s(O,N)}return[]}(b,g),L=0;for(_=0;_<3;++_){if(k[_]<-.001||k[_]>1.0001)return null;L+=k[_]}return Math.abs(L-1)>.001?null:[w,c(f,k),k]}},2056:function(v,u,i){var s=i(6832),a=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),l=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),c=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),f=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),g=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),h=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),T=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),x=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),m=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),b=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);u.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},u.wireShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},u.pointShader={vertex:f,fragment:g,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},u.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},u.pointPickShader={vertex:x,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},u.contourShader={vertex:m,fragment:b,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,u,i){"use strict";var s=i(5158),a=i(5827),o=i(2944),l=i(8931),c=i(115),f=i(104),g=i(7437),h=i(5050),T=i(9156),x=i(7212),m=i(5306),b=i(2056),_=i(4340),w=b.meshShader,A=b.wireShader,p=b.pointShader,I=b.pickShader,k=b.pointPickShader,L=b.contourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function P(H,Z,$,se,ne,re,Q,ee,oe,ce,ue,he,ve,ke,Ie,Me,_e,we,ze,Ee,Se,me,fe,le,Te,Re,De){this.gl=H,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=$,this.lineShader=se,this.pointShader=ne,this.pickShader=re,this.pointPickShader=Q,this.contourShader=ee,this.trianglePositions=oe,this.triangleColors=ue,this.triangleNormals=ve,this.triangleUVs=he,this.triangleIds=ce,this.triangleVAO=ke,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ie,this.edgeColors=_e,this.edgeUVs=we,this.edgeIds=Me,this.edgeVAO=ze,this.edgeCount=0,this.pointPositions=Ee,this.pointColors=me,this.pointUVs=fe,this.pointSizes=le,this.pointIds=Se,this.pointVAO=Te,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Re,this.contourVAO=De,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=O,this._view=O,this._projection=O,this._resolution=[1,1]}var F=P.prototype;function j(H,Z){if(!Z||!Z.length)return 1;for(var $=0;$<Z.length;++$){if(Z.length<2)return 1;if(Z[$][0]===H)return Z[$][1];if(Z[$][0]>H&&$>0){var se=(Z[$][0]-H)/(Z[$][0]-Z[$-1][0]);return Z[$][1]*(1-se)+se*Z[$-1][1]}}return 1}F.isOpaque=function(){return!this.hasAlpha},F.isTransparent=function(){return this.hasAlpha},F.pickSlots=1,F.setPickBase=function(H){this.pickId=H},F.highlight=function(H){if(H&&this.contourEnable){for(var Z=x(this.cells,this.intensity,H.intensity),$=Z.cells,se=Z.vertexIds,ne=Z.vertexWeights,re=$.length,Q=m.mallocFloat32(6*re),ee=0,oe=0;oe<re;++oe)for(var ce=$[oe],ue=0;ue<2;++ue){var he=ce[0];2===ce.length&&(he=ce[ue]);for(var Ie=ne[he],Me=1-Ie,_e=this.positions[se[he][0]],we=this.positions[se[he][1]],ze=0;ze<3;++ze)Q[ee++]=Ie*_e[ze]+Me*we[ze]}this.contourCount=ee/3|0,this.contourPositions.update(Q.subarray(0,ee)),m.free(Q)}else this.contourCount=0},F.update=function(H){H=H||{};var Z=this.gl;this.dirty=!0,"contourEnable"in H&&(this.contourEnable=H.contourEnable),"contourColor"in H&&(this.contourColor=H.contourColor),"lineWidth"in H&&(this.lineWidth=H.lineWidth),"lightPosition"in H&&(this.lightPosition=H.lightPosition),this.hasAlpha=!1,"opacity"in H&&(this.opacity=H.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in H&&(this.opacityscale=H.opacityscale,this.hasAlpha=!0),"ambient"in H&&(this.ambientLight=H.ambient),"diffuse"in H&&(this.diffuseLight=H.diffuse),"specular"in H&&(this.specularLight=H.specular),"roughness"in H&&(this.roughness=H.roughness),"fresnel"in H&&(this.fresnel=H.fresnel),H.texture?(this.texture.dispose(),this.texture=l(Z,H.texture)):H.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(function(Ot,Ht){for(var zt=T({colormap:Ot,nshades:256,format:"rgba"}),nt=new Uint8Array(1024),it=0;it<256;++it){for(var Ke=zt[it],rt=0;rt<3;++rt)nt[4*it+rt]=Ke[rt];nt[4*it+3]=Ht?255*j(it/255,Ht):255*Ke[3]}return h(nt,[256,256,4],[4,0,1])}(H.colormap,this.opacityscale)),this.texture.generateMipmap());var $=H.cells,se=H.positions;if(se&&$){var ne=[],re=[],Q=[],ee=[],oe=[],ce=[],ue=[],he=[],ve=[],ke=[],Ie=[],Me=[],_e=[],we=[];this.cells=$,this.positions=se;var ze=H.vertexNormals,Ee=H.cellNormals,Se=void 0===H.vertexNormalsEpsilon?1e-6:H.vertexNormalsEpsilon;H.useFacetNormals&&!Ee&&(Ee=c.faceNormals($,se,void 0===H.faceNormalsEpsilon?1e-6:H.faceNormalsEpsilon)),Ee||ze||(ze=c.vertexNormals($,se,Se));var fe=H.vertexColors,le=H.cellColors,Te=H.meshColor||[1,1,1,1],Re=H.vertexUVs,De=H.vertexIntensity,Ue=H.cellUVs,Ze=H.cellIntensity,xe=1/0,Oe=-1/0;if(!Re&&!Ue)if(De)if(H.vertexIntensityBounds)xe=+H.vertexIntensityBounds[0],Oe=+H.vertexIntensityBounds[1];else for(var Ce=0;Ce<De.length;++Ce){var Be=De[Ce];xe=Math.min(xe,Be),Oe=Math.max(Oe,Be)}else if(Ze)if(H.cellIntensityBounds)xe=+H.cellIntensityBounds[0],Oe=+H.cellIntensityBounds[1];else for(Ce=0;Ce<Ze.length;++Ce)Be=Ze[Ce],xe=Math.min(xe,Be),Oe=Math.max(Oe,Be);else for(Ce=0;Ce<se.length;++Ce)Be=se[Ce][2],xe=Math.min(xe,Be),Oe=Math.max(Oe,Be);this.intensity=De||Ze||function(Ot){for(var Ht=Ot.length,zt=new Array(Ht),nt=0;nt<Ht;++nt)zt[nt]=Ot[nt][2];return zt}(se),this.pickVertex=!(Ze||le);var qe=H.pointSizes,He=H.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ce=0;Ce<se.length;++Ce)for(var Je=se[Ce],et=0;et<3;++et)!isNaN(Je[et])&&isFinite(Je[et])&&(this.bounds[0][et]=Math.min(this.bounds[0][et],Je[et]),this.bounds[1][et]=Math.max(this.bounds[1][et],Je[et]));var st=0,pt=0,ct=0;e:for(Ce=0;Ce<$.length;++Ce){var St=$[Ce];switch(St.length){case 1:for(Je=se[vt=St[0]],et=0;et<3;++et)if(isNaN(Je[et])||!isFinite(Je[et]))continue e;ke.push(Je[0],Je[1],Je[2]),gt=fe?fe[vt]:le?le[Ce]:Te,this.opacityscale&&De?re.push(gt[0],gt[1],gt[2],this.opacity*j((De[vt]-xe)/(Oe-xe),this.opacityscale)):3===gt.length?Ie.push(gt[0],gt[1],gt[2],this.opacity):(Ie.push(gt[0],gt[1],gt[2],gt[3]*this.opacity),gt[3]<1&&(this.hasAlpha=!0)),Me.push((Et=Re?Re[vt]:De?[(De[vt]-xe)/(Oe-xe),0]:Ue?Ue[Ce]:Ze?[(Ze[Ce]-xe)/(Oe-xe),0]:[(Je[2]-xe)/(Oe-xe),0])[0],Et[1]),_e.push(qe?qe[vt]:He),we.push(Ce),ct+=1;break;case 2:for(et=0;et<2;++et){Je=se[vt=St[et]];for(var Dt=0;Dt<3;++Dt)if(isNaN(Je[Dt])||!isFinite(Je[Dt]))continue e}for(et=0;et<2;++et)Je=se[vt=St[et]],ce.push(Je[0],Je[1],Je[2]),gt=fe?fe[vt]:le?le[Ce]:Te,this.opacityscale&&De?re.push(gt[0],gt[1],gt[2],this.opacity*j((De[vt]-xe)/(Oe-xe),this.opacityscale)):3===gt.length?ue.push(gt[0],gt[1],gt[2],this.opacity):(ue.push(gt[0],gt[1],gt[2],gt[3]*this.opacity),gt[3]<1&&(this.hasAlpha=!0)),he.push((Et=Re?Re[vt]:De?[(De[vt]-xe)/(Oe-xe),0]:Ue?Ue[Ce]:Ze?[(Ze[Ce]-xe)/(Oe-xe),0]:[(Je[2]-xe)/(Oe-xe),0])[0],Et[1]),ve.push(Ce);pt+=1;break;case 3:for(et=0;et<3;++et)for(Je=se[vt=St[et]],Dt=0;Dt<3;++Dt)if(isNaN(Je[Dt])||!isFinite(Je[Dt]))continue e;for(et=0;et<3;++et){var vt,gt,Et,Pt;Je=se[vt=St[2-et]],ne.push(Je[0],Je[1],Je[2]),(gt=fe?fe[vt]:le?le[Ce]:Te)?this.opacityscale&&De?re.push(gt[0],gt[1],gt[2],this.opacity*j((De[vt]-xe)/(Oe-xe),this.opacityscale)):3===gt.length?re.push(gt[0],gt[1],gt[2],this.opacity):(re.push(gt[0],gt[1],gt[2],gt[3]*this.opacity),gt[3]<1&&(this.hasAlpha=!0)):re.push(.5,.5,.5,1),ee.push((Et=Re?Re[vt]:De?[(De[vt]-xe)/(Oe-xe),0]:Ue?Ue[Ce]:Ze?[(Ze[Ce]-xe)/(Oe-xe),0]:[(Je[2]-xe)/(Oe-xe),0])[0],Et[1]),Q.push((Pt=ze?ze[vt]:Ee[Ce])[0],Pt[1],Pt[2]),oe.push(Ce)}st+=1}}this.pointCount=ct,this.edgeCount=pt,this.triangleCount=st,this.pointPositions.update(ke),this.pointColors.update(Ie),this.pointUVs.update(Me),this.pointSizes.update(_e),this.pointIds.update(new Uint32Array(we)),this.edgePositions.update(ce),this.edgeColors.update(ue),this.edgeUVs.update(he),this.edgeIds.update(new Uint32Array(ve)),this.trianglePositions.update(ne),this.triangleColors.update(re),this.triangleUVs.update(ee),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(oe))}},F.drawTransparent=F.draw=function(H){for(var Z=this.gl,$=(H=H||{}).model||O,se=H.view||O,ne=H.projection||O,re=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)re[0][Q]=Math.max(re[0][Q],this.clipBounds[0][Q]),re[1][Q]=Math.min(re[1][Q],this.clipBounds[1][Q]);var ee={model:$,view:se,projection:ne,inverseModel:O.slice(),clipBounds:re,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ee.inverseModel=g(ee.inverseModel,ee.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var oe=new Array(16);for(f(oe,ee.view,ee.model),f(oe,ee.projection,oe),g(oe,oe),Q=0;Q<3;++Q)ee.eyePosition[Q]=oe[12+Q]/oe[15];var ce,ue=oe[15];for(Q=0;Q<3;++Q)ue+=this.lightPosition[Q]*oe[4*Q+3];for(Q=0;Q<3;++Q){for(var he=oe[12+Q],ve=0;ve<3;++ve)he+=oe[4*ve+Q]*this.lightPosition[ve];ee.lightPosition[Q]=he/ue}this.triangleCount>0&&((ce=this.triShader).bind(),ce.uniforms=ee,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ce=this.lineShader).bind(),ce.uniforms=ee,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ce=this.pointShader).bind(),ce.uniforms=ee,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ce=this.contourShader).bind(),ce.uniforms=ee,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind())},F.drawPick=function(H){for(var Z=this.gl,$=(H=H||{}).model||O,se=H.view||O,ne=H.projection||O,re=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)re[0][Q]=Math.max(re[0][Q],this.clipBounds[0][Q]),re[1][Q]=Math.min(re[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call($),this._view=[].slice.call(se),this._projection=[].slice.call(ne),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var ee,oe={model:$,view:se,projection:ne,clipBounds:re,pickId:this.pickId/255};(ee=this.pickShader).bind(),ee.uniforms=oe,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ee=this.pointPickShader).bind(),ee.uniforms=oe,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind())},F.pick=function(H){if(!H||H.id!==this.pickId)return null;for(var Z=H.value[0]+256*H.value[1]+65536*H.value[2],$=this.cells[Z],se=this.positions,ne=new Array($.length),re=0;re<$.length;++re)ne[re]=se[$[re]];var Q=H.coord[0],ee=H.coord[1];if(!this.pickVertex){var oe=this.positions[$[0]],ce=this.positions[$[1]],ue=this.positions[$[2]];return{_cellCenter:!0,position:[Q,ee],index:Z,cell:$,cellId:Z,intensity:this.intensity[Z],dataCoordinate:[(oe[0]+ce[0]+ue[0])/3,(oe[1]+ce[1]+ue[1])/3,(oe[2]+ce[2]+ue[2])/3]}}var ve=_(ne,[Q*this.pixelRatio,this._resolution[1]-ee*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ve)return null;var ke=ve[2],Ie=0;for(re=0;re<$.length;++re)Ie+=ke[re]*this.intensity[$[re]];return{position:ve[1],index:$[ve[0]],cell:$,cellId:Z,intensity:Ie,dataCoordinate:this.positions[$[ve[0]]]}},F.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},v.exports=function(H,Z){if(1===arguments.length&&(H=(Z=H).gl),!(H.getExtension("OES_standard_derivatives")||H.getExtension("MOZ_OES_standard_derivatives")||H.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var xe,$=((xe=s(H,w.vertex,w.fragment)).attributes.position.location=0,xe.attributes.color.location=2,xe.attributes.uv.location=3,xe.attributes.normal.location=4,xe),se=function(Ze){var xe=s(Ze,A.vertex,A.fragment);return xe.attributes.position.location=0,xe.attributes.color.location=2,xe.attributes.uv.location=3,xe}(H),ne=function X(H){var Z=s(H,p.vertex,p.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}(H),re=function N(H){var Z=s(H,I.vertex,I.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}(H),Q=function q(H){var Z=s(H,k.vertex,k.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}(H),ee=function G(H){var Z=s(H,L.vertex,L.fragment);return Z.attributes.position.location=0,Z}(H),oe=l(H,h(new Uint8Array([255,255,255,255]),[1,1,4]));oe.generateMipmap(),oe.minFilter=H.LINEAR_MIPMAP_LINEAR,oe.magFilter=H.LINEAR;var ce=a(H),ue=a(H),he=a(H),ve=a(H),ke=a(H),Ie=o(H,[{buffer:ce,type:H.FLOAT,size:3},{buffer:ke,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ue,type:H.FLOAT,size:4},{buffer:he,type:H.FLOAT,size:2},{buffer:ve,type:H.FLOAT,size:3}]),Me=a(H),_e=a(H),we=a(H),ze=a(H),Ee=o(H,[{buffer:Me,type:H.FLOAT,size:3},{buffer:ze,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:_e,type:H.FLOAT,size:4},{buffer:we,type:H.FLOAT,size:2}]),Se=a(H),me=a(H),fe=a(H),le=a(H),Te=a(H),Re=o(H,[{buffer:Se,type:H.FLOAT,size:3},{buffer:Te,type:H.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:H.FLOAT,size:4},{buffer:fe,type:H.FLOAT,size:2},{buffer:le,type:H.FLOAT,size:1}]),De=a(H),Ue=new P(H,oe,$,se,ne,re,Q,ee,ce,ke,ue,he,ve,Ie,Me,ze,_e,we,Ee,Se,Te,me,fe,le,Re,De,o(H,[{buffer:De,type:H.FLOAT,size:3}]));return Ue.update(Z),Ue}},4554:function(v,u,i){"use strict";v.exports=function(h){var T=h.gl;return new l(h,s(T,[0,0,0,1,1,0,1,1]),a(T,o.boxVert,o.lineFrag))};var s=i(5827),a=i(5158),o=i(2709);function l(h,T,x){this.plot=h,this.vbo=T,this.shader=x}var c,f,g=l.prototype;g.bind=function(){var h=this.shader;this.vbo.bind(),this.shader.bind(),h.attributes.coord.pointer(),h.uniforms.screenBox=this.plot.screenBox},g.drawBox=(c=[0,0],f=[0,0],function(h,T,x,m,b){var w=this.shader,A=this.plot.gl;c[0]=h,c[1]=T,f[0]=x,f[1]=m,w.uniforms.lo=c,w.uniforms.hi=f,w.uniforms.color=b,A.drawArrays(A.TRIANGLE_STRIP,0,4)}),g.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(v,u,i){"use strict";v.exports=function(_){var w=_.gl;return new c(_,s(w),a(w,l.gridVert,l.gridFrag),a(w,l.tickVert,l.gridFrag))};var s=i(5827),a=i(5158),o=i(5070),l=i(2709);function c(_,w,A,p){this.plot=_,this.vbo=w,this.shader=A,this.tickShader=p,this.ticks=[[],[]]}function f(_,w){return _-w}var g,h,T,x,m,_,w,A,p,I,k,b=c.prototype;b.draw=(g=[0,0],h=[0,0],T=[0,0],function(){for(var _=this.plot,w=this.vbo,A=this.shader,p=this.ticks,I=_.gl,k=_._tickBounds,L=_.dataBox,O=_.viewBox,P=_.gridLineWidth,F=_.gridLineColor,j=_.gridLineEnable,X=_.pixelRatio,N=0;N<2;++N){var q=k[N],H=.5*(L[N+2]+L[N]),Z=L[N+2]-L[N];h[N]=2*(k[N+2]-q)/Z,g[N]=2*(q-H)/Z}A.bind(),w.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=g,A.uniforms.dataScale=h;var $=0;for(N=0;N<2;++N){T[0]=T[1]=0,T[N]=1,A.uniforms.dataAxis=T,A.uniforms.lineWidth=P[N]/(O[N+2]-O[N])*X,A.uniforms.color=F[N];var se=6*p[N].length;j[N]&&se&&I.drawArrays(I.TRIANGLES,$,se),$+=se}}),b.drawTickMarks=(_=[0,0],w=[0,0],A=[1,0],p=[0,1],I=[0,0],k=[0,0],function(){for(var L=this.plot,O=this.vbo,P=this.tickShader,F=this.ticks,j=L.gl,X=L._tickBounds,N=L.dataBox,q=L.viewBox,G=L.pixelRatio,H=L.screenBox,Z=H[2]-H[0],$=H[3]-H[1],se=q[2]-q[0],ne=q[3]-q[1],re=0;re<2;++re){var Q=X[re],oe=.5*(N[re+2]+N[re]),ce=N[re+2]-N[re];w[re]=2*(X[re+2]-Q)/ce,_[re]=2*(Q-oe)/ce}w[0]*=se/Z,_[0]*=se/Z,w[1]*=ne/$,_[1]*=ne/$,P.bind(),O.bind(),P.attributes.dataCoord.pointer();var ue=P.uniforms;ue.dataShift=_,ue.dataScale=w;var he=L.tickMarkLength,ve=L.tickMarkWidth,ke=L.tickMarkColor,Ie=6*F[0].length,Me=Math.min(o.ge(F[0],(N[0]-X[0])/(X[2]-X[0]),f),F[0].length),_e=Math.min(o.gt(F[0],(N[2]-X[0])/(X[2]-X[0]),f),F[0].length),we=0+6*Me,ze=6*Math.max(0,_e-Me),Ee=Math.min(o.ge(F[1],(N[1]-X[1])/(X[3]-X[1]),f),F[1].length),Se=Math.min(o.gt(F[1],(N[3]-X[1])/(X[3]-X[1]),f),F[1].length),me=Ie+6*Ee,fe=6*Math.max(0,Se-Ee);I[0]=2*(q[0]-he[1])/Z-1,I[1]=(q[3]+q[1])/$-1,k[0]=he[1]*G/Z,k[1]=ve[1]*G/$,fe&&(ue.color=ke[1],ue.tickScale=k,ue.dataAxis=p,ue.screenOffset=I,j.drawArrays(j.TRIANGLES,me,fe)),I[0]=(q[2]+q[0])/Z-1,I[1]=2*(q[1]-he[0])/$-1,k[0]=ve[0]*G/Z,k[1]=he[0]*G/$,ze&&(ue.color=ke[0],ue.tickScale=k,ue.dataAxis=A,ue.screenOffset=I,j.drawArrays(j.TRIANGLES,we,ze)),I[0]=2*(q[2]+he[3])/Z-1,I[1]=(q[3]+q[1])/$-1,k[0]=he[3]*G/Z,k[1]=ve[3]*G/$,fe&&(ue.color=ke[3],ue.tickScale=k,ue.dataAxis=p,ue.screenOffset=I,j.drawArrays(j.TRIANGLES,me,fe)),I[0]=(q[2]+q[0])/Z-1,I[1]=2*(q[3]+he[2])/$-1,k[0]=ve[2]*G/Z,k[1]=he[2]*G/$,ze&&(ue.color=ke[2],ue.tickScale=k,ue.dataAxis=A,ue.screenOffset=I,j.drawArrays(j.TRIANGLES,we,ze))}),b.update=(x=[1,1,-1,-1,1,-1],m=[1,-1,1,1,-1,-1],function(_){for(var w=_.ticks,A=_.bounds,p=new Float32Array(18*(w[0].length+w[1].length)),I=0,k=[[],[]],L=0;L<2;++L)for(var O=k[L],P=w[L],F=A[L],j=A[L+2],X=0;X<P.length;++X){var N=(P[X].x-F)/(j-F);O.push(N);for(var q=0;q<6;++q)p[I++]=N,p[I++]=x[q],p[I++]=m[q]}this.ticks=k,this.vbo.update(p)}),b.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(v,u,i){"use strict";v.exports=function(h){var T=h.gl;return new l(h,s(T,[-1,-1,-1,1,1,-1,1,1]),a(T,o.lineVert,o.lineFrag))};var s=i(5827),a=i(5158),o=i(2709);function l(h,T,x){this.plot=h,this.vbo=T,this.shader=x}var c,f,g=l.prototype;g.bind=function(){var h=this.shader;this.vbo.bind(),this.shader.bind(),h.attributes.coord.pointer(),h.uniforms.screenBox=this.plot.screenBox},g.drawLine=(c=[0,0],f=[0,0],function(h,T,x,m,b,_){var w=this.plot,A=this.shader,p=w.gl;c[0]=h,c[1]=T,f[0]=x,f[1]=m,A.uniforms.start=c,A.uniforms.end=f,A.uniforms.width=b*w.pixelRatio,A.uniforms.color=_,p.drawArrays(p.TRIANGLE_STRIP,0,4)}),g.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(v,u,i){"use strict";var s=i(6832),a=s(["precision lowp float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\n}\n"]);v.exports={lineVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 start, end;\nuniform float width;\n\nvec2 perp(vec2 v) {\n  return vec2(v.y, -v.x);\n}\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  vec2 delta = normalize(perp(start - end));\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\n}\n"]),lineFrag:a,textVert:s(["#define GLSLIFY 1\nattribute vec3 textCoordinate;\n\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\nuniform float angle;\n\nvoid main() {\n  float dataOffset  = textCoordinate.z;\n  vec2 glyphOffset  = textCoordinate.xy;\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\n    glyphMatrix * glyphOffset * textScale + screenOffset;\n  gl_Position = vec4(screenCoordinate, 0, 1);\n}\n"]),textFrag:a,gridVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale;\nuniform float lineWidth;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\n  gl_Position = vec4(pos, 0, 1);\n}\n"]),gridFrag:a,boxVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 coord;\n\nuniform vec4 screenBox;\nuniform vec2 lo, hi;\n\nvec2 screen(vec2 v) {\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\n}\n\nvoid main() {\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\n}\n"]),tickVert:s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 dataCoord;\n\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\n\nvoid main() {\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\n}\n"])}},5613:function(v,u,i){"use strict";v.exports=function(w){var A=w.gl;return new f(w,s(A),a(A,c.textVert,c.textFrag))};var s=i(5827),a=i(5158),o=i(6946),l=i(5070),c=i(2709);function f(w,A,p){this.plot=w,this.vbo=A,this.shader=p,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var g,h,T,x,m,b,w,A,_=f.prototype;_.drawTicks=(g=[0,0],h=[0,0],T=[0,0],function(w){var A=this.plot,p=this.shader,I=this.tickX[w],k=this.tickOffset[w],L=A.gl,O=A.viewBox,P=A.dataBox,F=A.screenBox,j=A.pixelRatio,X=A.tickEnable,N=A.tickPad,q=A.tickColor,G=A.tickAngle,H=A.labelEnable,Z=A.labelPad,$=A.labelColor,se=A.labelAngle,ne=this.labelOffset[w],re=this.labelCount[w],Q=l.lt(I,P[w]),ee=l.le(I,P[w+2]);g[0]=g[1]=0,g[w]=1,h[w]=(O[2+w]+O[w])/(F[2+w]-F[w])-1;var oe=2/F[2+(1^w)]-F[1^w];h[1^w]=oe*O[1^w]-1,X[w]&&(h[1^w]-=oe*j*N[w],Q<ee&&k[ee]>k[Q]&&(p.uniforms.dataAxis=g,p.uniforms.screenOffset=h,p.uniforms.color=q[w],p.uniforms.angle=G[w],L.drawArrays(L.TRIANGLES,k[Q],k[ee]-k[Q]))),H[w]&&re&&(h[1^w]-=oe*j*Z[w],p.uniforms.dataAxis=T,p.uniforms.screenOffset=h,p.uniforms.color=$[w],p.uniforms.angle=se[w],L.drawArrays(L.TRIANGLES,ne,re)),h[1^w]=oe*O[2+(1^w)]-1,X[w+2]&&(h[1^w]+=oe*j*N[w+2],Q<ee&&k[ee]>k[Q]&&(p.uniforms.dataAxis=g,p.uniforms.screenOffset=h,p.uniforms.color=q[w+2],p.uniforms.angle=G[w+2],L.drawArrays(L.TRIANGLES,k[Q],k[ee]-k[Q]))),H[w+2]&&re&&(h[1^w]+=oe*j*Z[w+2],p.uniforms.dataAxis=T,p.uniforms.screenOffset=h,p.uniforms.color=$[w+2],p.uniforms.angle=se[w+2],L.drawArrays(L.TRIANGLES,ne,re))}),_.drawTitle=(w=[0,0],A=[0,0],function(){var p=this.plot,I=this.shader,k=p.gl,L=p.screenBox,O=p.titleCenter,P=p.titleAngle,F=p.titleColor,j=p.pixelRatio;if(this.titleCount){for(var X=0;X<2;++X)A[X]=2*(O[X]*j-L[X])/(L[2+X]-L[X])-1;I.bind(),I.uniforms.dataAxis=w,I.uniforms.screenOffset=A,I.uniforms.angle=P,I.uniforms.color=F,k.drawArrays(k.TRIANGLES,this.titleOffset,this.titleCount)}}),_.bind=(x=[0,0],m=[0,0],b=[0,0],function(){var w=this.plot,A=this.shader,p=w._tickBounds,I=w.dataBox,k=w.screenBox,L=w.viewBox;A.bind();for(var O=0;O<2;++O){var P=p[O],j=.5*(I[O+2]+I[O]),X=I[O+2]-I[O],q=L[O+2]-L[O],H=k[O+2]-k[O];m[O]=2*(p[O+2]-P)/X*q/H,x[O]=2*(P-j)/X*q/H}b[1]=2*w.pixelRatio/(k[3]-k[1]),b[0]=b[1]*(k[3]-k[1])/(k[2]-k[0]),A.uniforms.dataScale=m,A.uniforms.dataShift=x,A.uniforms.textScale=b,this.vbo.bind(),A.attributes.textCoordinate.pointer()}),_.update=function(w){var A,p,I,k,L,O=[],P=w.ticks,F=w.bounds;for(L=0;L<2;++L){var j=[Math.floor(O.length/3)],X=[-1/0],N=P[L];for(A=0;A<N.length;++A){var q=N[A],G=q.x,Z=q.font||"sans-serif";k=q.fontSize||12;for(var $=1/(F[L+2]-F[L]),se=F[L],ne=q.text.split("\n"),re=0;re<ne.length;re++)for(I=o(Z,ne[re]).data,p=0;p<I.length;p+=2)O.push(I[p]*k,-I[p+1]*k-re*k*1.2,(G-se)*$);j.push(Math.floor(O.length/3)),X.push(G)}this.tickOffset[L]=j,this.tickX[L]=X}for(L=0;L<2;++L){for(this.labelOffset[L]=Math.floor(O.length/3),I=o(w.labelFont[L],w.labels[L],{textAlign:"center"}).data,k=w.labelSize[L],A=0;A<I.length;A+=2)O.push(I[A]*k,-I[A+1]*k,0);this.labelCount[L]=Math.floor(O.length/3)-this.labelOffset[L]}for(this.titleOffset=Math.floor(O.length/3),I=o(w.titleFont,w.title).data,k=w.titleSize,A=0;A<I.length;A+=2)O.push(I[A]*k,-I[A+1]*k,0);this.titleCount=Math.floor(O.length/3)-this.titleOffset,this.vbo.update(O)},_.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(v,u,i){"use strict";v.exports=function(x){var m=x.gl,b=new f(m,s(m,[m.drawingBufferWidth,m.drawingBufferHeight]));return b.grid=a(b),b.text=o(b),b.line=l(b),b.box=c(b),b.update(x),b};var s=i(2611),a=i(3016),o=i(5613),l=i(1154),c=i(4554);function f(x,m){this.gl=x,this.pickBuffer=m,this.screenBox=[0,0,x.drawingBufferWidth,x.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var g=f.prototype;function h(x){for(var m=x.slice(),b=0;b<m.length;++b)m[b]=m[b].slice();return m}function T(x,m){return x.x-m.x}g.setDirty=function(){this.dirty=this.pickDirty=!0},g.setOverlayDirty=function(){this.dirty=!0},g.nextDepthValue=function(){return this._depthCounter++/65536},g.draw=function(){var x=this.gl,m=this.screenBox,b=this.viewBox,_=this.dataBox,w=this.pixelRatio,A=this.grid,p=this.line,I=this.text,k=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,x.bindFramebuffer(x.FRAMEBUFFER,null),x.enable(x.SCISSOR_TEST),x.disable(x.DEPTH_TEST),x.depthFunc(x.LESS),x.depthMask(!1),x.enable(x.BLEND),x.blendEquation(x.FUNC_ADD,x.FUNC_ADD),x.blendFunc(x.ONE,x.ONE_MINUS_SRC_ALPHA),this.borderColor){x.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]);var L=this.borderColor;x.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),x.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT)}x.scissor(b[0],b[1],b[2]-b[0],b[3]-b[1]),x.viewport(b[0],b[1],b[2]-b[0],b[3]-b[1]);var O=this.backgroundColor;x.clearColor(O[0]*O[3],O[1]*O[3],O[2]*O[3],O[3]),x.clear(x.COLOR_BUFFER_BIT),A.draw();var P=this.zeroLineEnable,F=this.zeroLineColor,j=this.zeroLineWidth;if(P[0]||P[1]){p.bind();for(var X=0;X<2;++X)if(P[X]&&_[X]<=0&&_[X+2]>=0){var N=m[X]-_[X]*(m[X+2]-m[X])/(_[X+2]-_[X]);0===X?p.drawLine(N,m[1],N,m[3],j[X],F[X]):p.drawLine(m[0],N,m[2],N,j[X],F[X])}}for(X=0;X<k.length;++X)k[X].draw();x.viewport(m[0],m[1],m[2]-m[0],m[3]-m[1]),x.scissor(m[0],m[1],m[2]-m[0],m[3]-m[1]),this.grid.drawTickMarks(),p.bind();var q=this.borderLineEnable,G=this.borderLineWidth,H=this.borderLineColor;for(q[1]&&p.drawLine(b[0],b[1]-.5*G[1]*w,b[0],b[3]+.5*G[3]*w,G[1],H[1]),q[0]&&p.drawLine(b[0]-.5*G[0]*w,b[1],b[2]+.5*G[2]*w,b[1],G[0],H[0]),q[3]&&p.drawLine(b[2],b[1]-.5*G[1]*w,b[2],b[3]+.5*G[3]*w,G[3],H[3]),q[2]&&p.drawLine(b[0]-.5*G[0]*w,b[3],b[2]+.5*G[2]*w,b[3],G[2],H[2]),I.bind(),X=0;X<2;++X)I.drawTicks(X);this.titleEnable&&I.drawTitle();var Z=this.overlays;for(X=0;X<Z.length;++X)Z[X].draw();x.disable(x.SCISSOR_TEST),x.disable(x.BLEND),x.depthMask(!0)}},g.drawPick=function(){if(!this.static){var x=this.pickBuffer;this._pickTimeout=null,x.begin();for(var m=1,b=this.objects,_=0;_<b.length;++_)m=b[_].drawPick(m);x.end()}},g.pick=function(x,m){if(!this.static){var b=this.pixelRatio,_=this.pickPixelRatio,w=this.viewBox,A=0|Math.round((x-w[0]/b)*_),p=0|Math.round((m-w[1]/b)*_),I=this.pickBuffer.query(A,p,this.pickRadius);if(!I)return null;for(var k=I.id+(I.value[0]<<8)+(I.value[1]<<16)+(I.value[2]<<24),L=this.objects,O=0;O<L.length;++O){var P=L[O].pick(A,p,k);if(P)return P}return null}},g.setScreenBox=function(x){var m=this.screenBox,b=this.pixelRatio;m[0]=0|Math.round(x[0]*b),m[1]=0|Math.round(x[1]*b),m[2]=0|Math.round(x[2]*b),m[3]=0|Math.round(x[3]*b),this.setDirty()},g.setDataBox=function(x){var m=this.dataBox;(m[0]!==x[0]||m[1]!==x[1]||m[2]!==x[2]||m[3]!==x[3])&&(m[0]=x[0],m[1]=x[1],m[2]=x[2],m[3]=x[3],this.setDirty())},g.setViewBox=function(x){var m=this.pixelRatio,b=this.viewBox;b[0]=0|Math.round(x[0]*m),b[1]=0|Math.round(x[1]*m),b[2]=0|Math.round(x[2]*m),b[3]=0|Math.round(x[3]*m);var _=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((x[2]-x[0])*_),0|Math.round((x[3]-x[1])*_)],this.setDirty()},g.update=function(x){var m=this.gl;this.pixelRatio=(x=x||{}).pixelRatio||1;var b=this.pixelRatio;this.pickPixelRatio=Math.max(b,1),this.setScreenBox(x.screenBox||[0,0,m.drawingBufferWidth/b,m.drawingBufferHeight/b]),this.setViewBox(x.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/b,.125*(this.screenBox[3]-this.screenBox[1])/b,.875*(this.screenBox[2]-this.screenBox[0])/b,.875*(this.screenBox[3]-this.screenBox[1])/b]);var _=this.viewBox,w=(_[2]-_[0])/(_[3]-_[1]);this.setDataBox(x.dataBox||[-10,-10/w,10,10/w]),this.borderColor=!1!==x.borderColor&&(x.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(x.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(x.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(x.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(x.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(x.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(x.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(x.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(x.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(x.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(x.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(x.titleCenter||[.5*(_[0]+_[2])/b,(_[3]+120)/b]).slice(),this.titleEnable=!("titleEnable"in x)||!!x.titleEnable,this.titleAngle=x.titleAngle||0,this.titleColor=(x.titleColor||[0,0,0,1]).slice(),this.labelPad=(x.labelPad||[15,15,15,15]).slice(),this.labelAngle=(x.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(x.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(x.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(x.tickPad||[15,15,15,15]).slice(),this.tickAngle=(x.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(x.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(x.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(x.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(x.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(x.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var A=x.ticks||[[],[]],p=this._tickBounds;p[0]=p[1]=1/0,p[2]=p[3]=-1/0;for(var I=0;I<2;++I){var k=A[I].slice(0);0!==k.length&&(k.sort(T),p[I]=Math.min(p[I],k[0].x),p[I+2]=Math.max(p[I+2],k[k.length-1].x))}this.grid.update({bounds:p,ticks:A}),this.text.update({bounds:p,ticks:A,labels:x.labels||["x","y"],labelSize:x.labelSize||[12,12],labelFont:x.labelFont||["sans-serif","sans-serif"],title:x.title||"",titleSize:x.titleSize||18,titleFont:x.titleFont||"sans-serif"}),this.static=!!x.static,this.setDirty()},g.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var x=this.objects.length-1;x>=0;--x)this.objects[x].dispose();for(this.objects.length=0,x=this.overlays.length-1;x>=0;--x)this.overlays[x].dispose();this.overlays.length=0,this.gl=null},g.addObject=function(x){this.objects.indexOf(x)<0&&(this.objects.push(x),this.setDirty())},g.removeObject=function(x){for(var m=this.objects,b=0;b<m.length;++b)if(m[b]===x){m.splice(b,1),this.setDirty();break}},g.addOverlay=function(x){this.overlays.indexOf(x)<0&&(this.overlays.push(x),this.setOverlayDirty())},g.removeOverlay=function(x){for(var m=this.overlays,b=0;b<m.length;++b)if(m[b]===x){m.splice(b,1),this.setOverlayDirty();break}}},4296:function(v,u,i){"use strict";v.exports=function(g,h){g=g||document.body;var T=[.01,1/0];"distanceLimits"in(h=h||{})&&(T[0]=h.distanceLimits[0],T[1]=h.distanceLimits[1]),"zoomMin"in h&&(T[0]=h.zoomMin),"zoomMax"in h&&(T[1]=h.zoomMax);var x=a({center:h.center||[0,0,0],up:h.up||[0,1,0],eye:h.eye||[0,0,10],mode:h.mode||"orbit",distanceLimits:T}),m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0,_=g.clientWidth,w=g.clientHeight,A={keyBindingMode:"rotate",enableWheel:!0,view:x,element:g,delay:h.delay||16,rotateSpeed:h.rotateSpeed||1,zoomSpeed:h.zoomSpeed||1,translateSpeed:h.translateSpeed||1,flipX:!!h.flipX,flipY:!!h.flipY,modes:x.modes,_ortho:h._ortho||h.projection&&"orthographic"===h.projection.type||!1,tick:function(){var p=s(),I=this.delay,k=p-2*I;x.idle(p-I),x.recalcMatrix(k),x.flush(p-(100+2*I));for(var L=!0,O=x.computedMatrix,P=0;P<16;++P)L=L&&m[P]===O[P],m[P]=O[P];var F=g.clientWidth===_&&g.clientHeight===w;return _=g.clientWidth,w=g.clientHeight,L?!F:(b=Math.exp(x.computedRadius[0]),!0)},lookAt:function(p,I,k){x.lookAt(x.lastT(),p,I,k)},rotate:function(p,I,k){x.rotate(x.lastT(),p,I,k)},pan:function(p,I,k){x.pan(x.lastT(),p,I,k)},translate:function(p,I,k){x.translate(x.lastT(),p,I,k)}};return Object.defineProperties(A,{matrix:{get:function(){return x.computedMatrix},set:function(p){return x.setMatrix(x.lastT(),p),x.computedMatrix},enumerable:!0},mode:{get:function(){return x.getMode()},set:function(p){var I=x.computedUp.slice(),k=x.computedEye.slice(),L=x.computedCenter.slice();if(x.setMode(p),"turntable"===p){var O=s();x._active.lookAt(O,k,L,I),x._active.lookAt(O+500,k,L,[0,0,1]),x._active.flush(O)}return x.getMode()},enumerable:!0},center:{get:function(){return x.computedCenter},set:function(p){return x.lookAt(x.lastT(),null,p),x.computedCenter},enumerable:!0},eye:{get:function(){return x.computedEye},set:function(p){return x.lookAt(x.lastT(),p),x.computedEye},enumerable:!0},up:{get:function(){return x.computedUp},set:function(p){return x.lookAt(x.lastT(),null,null,p),x.computedUp},enumerable:!0},distance:{get:function(){return b},set:function(p){return x.setDistance(x.lastT(),p),p},enumerable:!0},distanceLimits:{get:function(){return x.getDistanceLimits(T)},set:function(p){return x.setDistanceLimits(p),p},enumerable:!0}}),g.addEventListener("contextmenu",function(p){return p.preventDefault(),!1}),A._lastX=-1,A._lastY=-1,A._lastMods={shift:!1,control:!1,alt:!1,meta:!1},A.enableMouseListeners=function(){function p(I,k,L,O){var P=A.keyBindingMode;if(!1!==P){var F="rotate"===P,j="pan"===P,X="zoom"===P,N=!!O.control,q=!!O.alt,G=!!O.shift,H=!!(1&I),Z=!!(2&I),$=!!(4&I),se=1/g.clientHeight,ne=se*(k-A._lastX),re=se*(L-A._lastY),Q=A.flipX?1:-1,ee=A.flipY?1:-1,oe=Math.PI*A.rotateSpeed,ce=s();if(-1!==A._lastX&&-1!==A._lastY&&((F&&H&&!N&&!q&&!G||H&&!N&&!q&&G)&&x.rotate(ce,Q*oe*ne,-ee*oe*re,0),(j&&H&&!N&&!q&&!G||Z||H&&N&&!q&&!G)&&x.pan(ce,-A.translateSpeed*ne*b,A.translateSpeed*re*b,0),X&&H&&!N&&!q&&!G||$||H&&!N&&q&&!G)){var ue=-A.zoomSpeed*re/window.innerHeight*(ce-x.lastT())*100;x.pan(ce,0,0,b*(Math.exp(ue)-1))}return A._lastX=k,A._lastY=L,A._lastMods=O,!0}}A.mouseListener=o(g,p),g.addEventListener("touchstart",function(I){var k=c(I.changedTouches[0],g);p(0,k[0],k[1],A._lastMods),p(1,k[0],k[1],A._lastMods)},!!f&&{passive:!0}),g.addEventListener("touchmove",function(I){var k=c(I.changedTouches[0],g);p(1,k[0],k[1],A._lastMods),I.preventDefault()},!!f&&{passive:!1}),g.addEventListener("touchend",function(I){p(0,A._lastX,A._lastY,A._lastMods)},!!f&&{passive:!0}),A.wheelListener=l(g,function(I,k){if(!1!==A.keyBindingMode&&A.enableWheel){var L=A.flipX?1:-1,O=A.flipY?1:-1,P=s();if(Math.abs(I)>Math.abs(k))x.rotate(P,0,0,-I*L*Math.PI*A.rotateSpeed/window.innerWidth);else if(!A._ortho){var F=-A.zoomSpeed*O*k/window.innerHeight*(P-x.lastT())/20;x.pan(P,0,0,b*(Math.exp(F)-1))}}},!0)},A.enableMouseListeners(),A};var s=i(8161),a=i(1152),o=i(6145),l=i(6475),c=i(2565),f=i(5233)},8245:function(v,u,i){var s=i(6832),a=i(5158),o=s(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),l=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);v.exports=function(c){return a(c,o,l,null,[{name:"position",type:"vec2"}])}},1059:function(v,u,i){"use strict";var s=i(4296),a=i(7453),o=i(2771),l=i(6496),c=i(2611),f=i(4234),g=i(8126),h=i(6145),T=i(1120),x=i(5268),m=i(8245),b=i(2321)({tablet:!0,featureDetect:!0});function _(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(p){var I=Math.round(Math.log(Math.abs(p))/Math.log(10));if(I<0){var k=Math.round(Math.pow(10,-I));return Math.ceil(p*k)/k}return I>0?(k=Math.round(Math.pow(10,I)),Math.ceil(p/k)*k):Math.ceil(p)}function A(p){return"boolean"!=typeof p||p}v.exports={createScene:function(p){(p=p||{}).camera=p.camera||{};var I=p.canvas;I||(I=document.createElement("canvas"),p.container?p.container.appendChild(I):document.body.appendChild(I));var k=p.gl;if(k||(p.glOptions&&(b=!!p.glOptions.preserveDrawingBuffer),k=function(ze,Ee){var Se=null;try{(Se=ze.getContext("webgl",Ee))||(Se=ze.getContext("experimental-webgl",Ee))}catch{return null}return Se}(I,p.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:b})),!k)throw new Error("webgl not supported");var L=p.bounds||[[-10,-10,-10],[10,10,10]],O=new _,P=f(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!b}),F=m(k),j=p.cameraObject&&!0===p.cameraObject._ortho||p.camera.projection&&"orthographic"===p.camera.projection.type||!1,X={eye:p.camera.eye||[2,0,0],center:p.camera.center||[0,0,0],up:p.camera.up||[0,1,0],zoomMin:p.camera.zoomMax||.1,zoomMax:p.camera.zoomMin||100,mode:p.camera.mode||"turntable",_ortho:j},N=p.axes||{},q=a(k,N);q.enable=!N.disable;var H=l(k,p.spikes||{}),Z=[],$=[],se=[],ne=[],re=!0,Q=!0,ee={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},oe=(Q=!0,[k.drawingBufferWidth,k.drawingBufferHeight]),ce=p.cameraObject||s(I,X),ue={gl:k,contextLost:!1,pixelRatio:p.pixelRatio||1,canvas:I,selection:O,camera:ce,axes:q,axesPixels:null,spikes:H,bounds:L,objects:Z,shape:oe,aspect:p.aspectRatio||[1,1,1],pickRadius:p.pickRadius||10,zNear:p.zNear||.01,zFar:p.zFar||1e3,fovy:p.fovy||Math.PI/4,clearColor:p.clearColor||[0,0,0,0],autoResize:A(p.autoResize),autoBounds:A(p.autoBounds),autoScale:!!p.autoScale,autoCenter:A(p.autoCenter),clipToBounds:A(p.clipToBounds),snapToData:!!p.snapToData,onselect:p.onselect||null,onrender:p.onrender||null,onclick:p.onclick||null,cameraParams:ee,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ze){this.aspect[0]=ze.x,this.aspect[1]=ze.y,this.aspect[2]=ze.z,Q=!0},setBounds:function(ze,Ee){this.bounds[0][ze]=Ee.min,this.bounds[1][ze]=Ee.max},setClearColor:function(ze){this.clearColor=ze},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[k.drawingBufferWidth/ue.pixelRatio|0,k.drawingBufferHeight/ue.pixelRatio|0];function ve(){if(!ue._stopped&&ue.autoResize){var ze=I.parentNode,Ee=1,Se=1;ze&&ze!==document.body?(Ee=ze.clientWidth,Se=ze.clientHeight):(Ee=window.innerWidth,Se=window.innerHeight);var me=0|Math.ceil(Ee*ue.pixelRatio),fe=0|Math.ceil(Se*ue.pixelRatio);if(me!==I.width||fe!==I.height){I.width=me,I.height=fe;var le=I.style;le.position=le.position||"absolute",le.left="0px",le.top="0px",le.width=Ee+"px",le.height=Se+"px",re=!0}}}function ke(){for(var ze=Z.length,Ee=ne.length,Se=0;Se<Ee;++Se)se[Se]=0;e:for(Se=0;Se<ze;++Se){var me=Z[Se],fe=me.pickSlots;if(fe){for(var le=0;le<Ee;++le)if(se[le]+fe<255){$[Se]=le,me.setPickBase(se[le]+1),se[le]+=fe;continue e}var Te=c(k,oe);$[Se]=Ee,ne.push(Te),se.push(fe),me.setPickBase(1),Ee+=1}else $[Se]=-1}for(;Ee>0&&0===se[Ee-1];)se.pop(),ne.pop().dispose()}function Ie(){if(ue.contextLost)return!0;k.isContextLost()&&(ue.contextLost=!0,ue.mouseListener.enabled=!1,ue.selection.object=null,ue.oncontextloss&&ue.oncontextloss())}ue.autoResize&&ve(),window.addEventListener("resize",ve),ue.update=function(ze){ue._stopped||(ze=ze||{},re=!0,Q=!0)},ue.add=function(ze){ue._stopped||(ze.axes=q,Z.push(ze),$.push(-1),re=!0,Q=!0,ke())},ue.remove=function(ze){if(!ue._stopped){var Ee=Z.indexOf(ze);Ee<0||(Z.splice(Ee,1),$.pop(),re=!0,Q=!0,ke())}},ue.dispose=function(){if(!ue._stopped&&(ue._stopped=!0,window.removeEventListener("resize",ve),I.removeEventListener("webglcontextlost",Ie),ue.mouseListener.enabled=!1,!ue.contextLost)){q.dispose(),H.dispose();for(var ze=0;ze<Z.length;++ze)Z[ze].dispose();for(P.dispose(),ze=0;ze<ne.length;++ze)ne[ze].dispose();F.dispose(),k=null,q=null,H=null,Z=[]}},ue._mouseRotating=!1,ue._prevButtons=0,ue.enableMouseListeners=function(){ue.mouseListener=h(I,function(ze,Ee,Se){if(!ue._stopped){var me=ne.length,fe=Z.length,le=O.object;O.distance=1/0,O.mouse[0]=Ee,O.mouse[1]=Se,O.object=null,O.screen=null,O.dataCoordinate=O.dataPosition=null;var Te=!1;if(ze&&ue._prevButtons)ue._mouseRotating=!0;else{ue._mouseRotating&&(Q=!0),ue._mouseRotating=!1;for(var Re=0;Re<me;++Re){var De=ne[Re].query(Ee,he[1]-Se-1,ue.pickRadius);if(De){if(De.distance>O.distance)continue;for(var Ue=0;Ue<fe;++Ue){var Ze=Z[Ue];if($[Ue]===Re){var xe=Ze.pick(De);xe&&(O.buttons=ze,O.screen=De.coord,O.distance=De.distance,O.object=Ze,O.index=xe.distance,O.dataPosition=xe.position,O.dataCoordinate=xe.dataCoordinate,O.data=xe,Te=!0)}}}}}le&&le!==O.object&&(le.highlight&&le.highlight(null),re=!0),O.object&&(O.object.highlight&&O.object.highlight(O.data),re=!0),(Te=Te||O.object!==le)&&ue.onselect&&ue.onselect(O),1&ze&&!(1&ue._prevButtons)&&ue.onclick&&ue.onclick(O),ue._prevButtons=ze}})},I.addEventListener("webglcontextlost",Ie);var Me=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],_e=[Me[0].slice(),Me[1].slice()];function we(){if(!Ie()){ve();var ze=ue.camera.tick();ee.view=ue.camera.matrix,re=re||ze,Q=Q||ze,q.pixelRatio=ue.pixelRatio,H.pixelRatio=ue.pixelRatio;var Ee=Z.length,Se=Me[0],me=Me[1];Se[0]=Se[1]=Se[2]=1/0,me[0]=me[1]=me[2]=-1/0;for(var fe=0;fe<Ee;++fe){(He=Z[fe]).pixelRatio=ue.pixelRatio,He.axes=ue.axes,re=re||!!He.dirty,Q=Q||!!He.dirty;var le=He.bounds;if(le)for(var Te=le[0],Re=le[1],De=0;De<3;++De)Se[De]=Math.min(Se[De],Te[De]),me[De]=Math.max(me[De],Re[De])}var Ue=ue.bounds;if(ue.autoBounds)for(De=0;De<3;++De){if(me[De]<Se[De])Se[De]=-1,me[De]=1;else{Se[De]===me[De]&&(Se[De]-=1,me[De]+=1);var Ze=.05*(me[De]-Se[De]);Se[De]=Se[De]-Ze,me[De]=me[De]+Ze}Ue[0][De]=Se[De],Ue[1][De]=me[De]}var xe=!1;for(De=0;De<3;++De)xe=xe||_e[0][De]!==Ue[0][De]||_e[1][De]!==Ue[1][De],_e[0][De]=Ue[0][De],_e[1][De]=Ue[1][De];if(Q=Q||xe,re=re||xe){if(xe){var Oe=[0,0,0];for(fe=0;fe<3;++fe)Oe[fe]=w((Ue[1][fe]-Ue[0][fe])/10);q.update(q.autoTicks?{bounds:Ue,tickSpacing:Oe}:{bounds:Ue})}var Ce=k.drawingBufferWidth,Be=k.drawingBufferHeight;for(oe[0]=Ce,oe[1]=Be,he[0]=0|Math.max(Ce/ue.pixelRatio,1),he[1]=0|Math.max(Be/ue.pixelRatio,1),function(Je,et){var st=Je.bounds,pt=Je.cameraParams,ct=pt.projection,St=pt.model,gt=Je.zNear,Et=Je.zFar,Pt=Je.fovy,Ot=Je.gl.drawingBufferWidth/Je.gl.drawingBufferHeight;et?(x(ct,-Ot,Ot,-1,1,gt,Et),pt._ortho=!0):(T(ct,Pt,Ot,gt,Et),pt._ortho=!1);for(var Ht=0;Ht<16;++Ht)St[Ht]=0;St[15]=1;var zt=0;for(Ht=0;Ht<3;++Ht)zt=Math.max(zt,st[1][Ht]-st[0][Ht]);for(Ht=0;Ht<3;++Ht)St[5*Ht]=Je.autoScale?Je.aspect[Ht]/(st[1][Ht]-st[0][Ht]):1/zt,Je.autoCenter&&(St[12+Ht]=.5*-St[5*Ht]*(st[0][Ht]+st[1][Ht]))}(ue,j),fe=0;fe<Ee;++fe)(He=Z[fe]).axesBounds=Ue,ue.clipToBounds&&(He.clipBounds=Ue);O.object&&(H.position=ue.snapToData?O.dataCoordinate:O.dataPosition,H.bounds=Ue),Q&&(Q=!1,function(){if(!Ie()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Je=Z.length,et=ne.length,st=0;st<et;++st){var pt=ne[st];pt.shape=he,pt.begin();for(var ct=0;ct<Je;++ct)if($[ct]===st){var St=Z[ct];St.drawPick&&(St.pixelRatio=1,St.drawPick(ee))}pt.end()}}}()),ue.axesPixels=o(ue.axes,ee,Ce,Be),ue.onrender&&ue.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Ce,Be),ue.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var qe=!1;for(q.enable&&(qe=qe||q.isTransparent(),q.draw(ee)),H.axes=q,O.object&&H.draw(ee),k.disable(k.CULL_FACE),fe=0;fe<Ee;++fe)(He=Z[fe]).axes=q,He.pixelRatio=ue.pixelRatio,He.isOpaque&&He.isOpaque()&&He.draw(ee),He.isTransparent&&He.isTransparent()&&(qe=!0);if(qe){for(P.shape=oe,P.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),q.enable&&q.isTransparent()&&q.drawTransparent(ee),fe=0;fe<Ee;++fe)(He=Z[fe]).isOpaque&&He.isOpaque()&&He.draw(ee);for(k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),q.isTransparent()&&q.drawTransparent(ee),fe=0;fe<Ee;++fe){var He;(He=Z[fe]).isTransparent&&He.isTransparent()&&He.drawTransparent(ee)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),F.bind(),P.color[0].bind(0),F.uniforms.accumBuffer=0,g(k),k.disable(k.BLEND)}for(re=!1,fe=0;fe<Ee;++fe)Z[fe].dirty=!1}}}return ue.enableMouseListeners(),function ze(){ue._stopped||ue.contextLost||(we(),requestAnimationFrame(ze))}(),ue.redraw=function(){ue._stopped||(re=!0,we())},ue},createCamera:s}},8023:function(v,u,i){var s=i(6832);u.pointVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform float pointCloud;\n\nhighp float rand(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float d = dot(co.xy, vec2(a, b));\n  highp float e = mod(d, 3.14);\n  return fract(sin(e) * c);\n}\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n    // if we don't jitter the point size a bit, overall point cloud\n    // saturation 'jumps' on zooming, which is disturbing and confusing\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    // get the same square surface as circle would be\n    gl_PointSize *= 0.886;\n  }\n}"]),u.pointFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color, borderColor;\nuniform float centerFraction;\nuniform float pointCloud;\n\nvoid main() {\n  float radius;\n  vec4 baseColor;\n  if(pointCloud != 0.0) { // pointCloud is truthy\n    if(centerFraction == 1.0) {\n      gl_FragColor = color;\n    } else {\n      gl_FragColor = mix(borderColor, color, centerFraction);\n    }\n  } else {\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\n    if(radius > 1.0) {\n      discard;\n    }\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\n  }\n}\n"]),u.pickVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec4 pickId;\n\nuniform mat3 matrix;\nuniform float pointSize;\nuniform vec4 pickOffset;\n\nvarying vec4 fragId;\n\nvoid main() {\n  vec3 hgPosition = matrix * vec3(position, 1);\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\n  gl_PointSize = pointSize;\n\n  vec4 id = pickId + pickOffset;\n  id.y += floor(id.x / 256.0);\n  id.x -= floor(id.x / 256.0) * 256.0;\n\n  id.z += floor(id.y / 256.0);\n  id.y -= floor(id.y / 256.0) * 256.0;\n\n  id.w += floor(id.z / 256.0);\n  id.z -= floor(id.z / 256.0) * 256.0;\n\n  fragId = id;\n}\n"]),u.pickFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragId;\n\nvoid main() {\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\n  if(radius > 1.0) {\n    discard;\n  }\n  gl_FragColor = fragId / 255.0;\n}\n"])},8271:function(v,u,i){"use strict";var s=i(5158),a=i(5827),o=i(5306),l=i(8023);function c(T,x,m,b,_){this.plot=T,this.offsetBuffer=x,this.pickBuffer=m,this.shader=b,this.pickShader=_,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}v.exports=function(T,x){var m=T.gl,b=new c(T,a(m),a(m),s(m,l.pointVertex,l.pointFragment),s(m,l.pickVertex,l.pickFragment));return b.update(x),T.addObject(b),b};var f,g,h=c.prototype;h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},h.update=function(T){var x;function m(k,L){return k in T?T[k]:L}T=T||{},this.sizeMin=m("sizeMin",.5),this.sizeMax=m("sizeMax",20),this.color=m("color",[1,0,0,1]).slice(),this.areaRatio=m("areaRatio",1),this.borderColor=m("borderColor",[0,0,0,1]).slice(),this.blend=m("blend",!1);var b=T.positions.length>>>1,_=T.positions instanceof Float32Array,w=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=b,A=T.positions,p=_?A:o.mallocFloat32(A.length),I=w?T.idToIndex:o.mallocInt32(b);if(_||p.set(A),!w)for(p.set(A),x=0;x<b;x++)I[x]=x;this.points=A,this.offsetBuffer.update(p),this.pickBuffer.update(I),_||o.free(p),w||o.free(I),this.pointCount=b,this.pickOffset=0},h.unifiedDraw=(f=[1,0,0,0,1,0,0,0,1],g=[0,0,0,0],function(T){var x=void 0!==T,m=x?this.pickShader:this.shader,b=this.plot.gl,_=this.plot.dataBox;if(0===this.pointCount)return T;var w=_[2]-_[0],A=_[3]-_[1],p=function(O,P){var F,j=0,X=O.length>>>1;for(F=0;F<X;F++){var N=O[2*F],q=O[2*F+1];N>=P[0]&&N<=P[2]&&q>=P[1]&&q<=P[3]&&j++}return j}(this.points,_),I=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(p,.33333)));f[0]=2/w,f[4]=2/A,f[6]=-2*_[0]/w-1,f[7]=-2*_[1]/A-1,this.offsetBuffer.bind(),m.bind(),m.attributes.position.pointer(),m.uniforms.matrix=f,m.uniforms.color=this.color,m.uniforms.borderColor=this.borderColor,m.uniforms.pointCloud=I<5,m.uniforms.pointSize=I,m.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),x&&(g[0]=255&T,g[1]=T>>8&255,g[2]=T>>16&255,g[3]=T>>24&255,this.pickBuffer.bind(),m.attributes.pickId.pointer(b.UNSIGNED_BYTE),m.uniforms.pickOffset=g,this.pickOffset=T);var k=b.getParameter(b.BLEND),L=b.getParameter(b.DITHER);return k&&!this.blend&&b.disable(b.BLEND),L&&b.disable(b.DITHER),b.drawArrays(b.POINTS,0,this.pointCount),k&&!this.blend&&b.enable(b.BLEND),L&&b.enable(b.DITHER),T+this.pointCount}),h.draw=h.unifiedDraw,h.drawPick=h.unifiedDraw,h.pick=function(T,x,m){var b=this.pickOffset;if(m<b||m>=b+this.pointCount)return null;var w=m-b,A=this.points;return{object:this,pointId:w,dataCoord:[A[2*w],A[2*w+1]]}}},6093:function(v){v.exports=function(u,i,s,a){var o,l,c,f,g,h=i[0],T=i[1],x=i[2],m=i[3],b=s[0],_=s[1],w=s[2],A=s[3];return(l=h*b+T*_+x*w+m*A)<0&&(l=-l,b=-b,_=-_,w=-w,A=-A),1-l>1e-6?(o=Math.acos(l),c=Math.sin(o),f=Math.sin((1-a)*o)/c,g=Math.sin(a*o)/c):(f=1-a,g=a),u[0]=f*h+g*b,u[1]=f*T+g*_,u[2]=f*x+g*w,u[3]=f*m+g*A,u}},8240:function(v){"use strict";v.exports=function(u){return u||0===u?u.toString():""}},4123:function(v,u,i){"use strict";var s=i(875);v.exports=function(o,l,c){var f=a[l];if(f||(f=a[l]={}),o in f)return f[o];var g={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},h=s(o,g);g.triangles=!1;var T,x,m=s(o,g);if(c&&1!==c){for(T=0;T<h.positions.length;++T)for(x=0;x<h.positions[T].length;++x)h.positions[T][x]/=c;for(T=0;T<m.positions.length;++T)for(x=0;x<m.positions[T].length;++x)m.positions[T][x]/=c}var b=[[1/0,1/0],[-1/0,-1/0]],_=m.positions.length;for(T=0;T<_;++T){var w=m.positions[T];for(x=0;x<2;++x)b[0][x]=Math.min(b[0][x],w[x]),b[1][x]=Math.max(b[1][x],w[x])}return f[o]=[h,m,b]};var a={}},9282:function(v,u,i){var s=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),c=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),f=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),g=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:o,fragment:f,attributes:h},x={vertex:l,fragment:f,attributes:h},m={vertex:c,fragment:f,attributes:h},b={vertex:o,fragment:g,attributes:h},_={vertex:l,fragment:g,attributes:h},w={vertex:c,fragment:g,attributes:h};function A(p,I){var k=s(p,I),L=k.attributes;return L.position.location=0,L.color.location=1,L.glyph.location=2,L.id.location=3,k}u.createPerspective=function(p){return A(p,T)},u.createOrtho=function(p){return A(p,x)},u.createProject=function(p){return A(p,m)},u.createPickPerspective=function(p){return A(p,b)},u.createPickOrtho=function(p){return A(p,_)},u.createPickProject=function(p){return A(p,w)}},2182:function(v,u,i){"use strict";var s=i(3596),a=i(5827),o=i(2944),l=i(5306),c=i(104),f=i(9282),g=i(4123),h=i(8240),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x($,se){var ne=$[0],re=$[1],Q=$[2],ee=$[3];return $[0]=se[0]*ne+se[4]*re+se[8]*Q+se[12]*ee,$[1]=se[1]*ne+se[5]*re+se[9]*Q+se[13]*ee,$[2]=se[2]*ne+se[6]*re+se[10]*Q+se[14]*ee,$[3]=se[3]*ne+se[7]*re+se[11]*Q+se[15]*ee,$}function m($,se,ne,re){return x(re,re),x(re,re),x(re,re)}function b($,se){this.index=$,this.dataCoordinate=this.position=se}function _($){return!0===$||$>1?1:$}function w($,se,ne,re,Q,ee,oe,ce,ue,he,ve,ke){this.gl=$,this.pixelRatio=1,this.shader=se,this.orthoShader=ne,this.projectShader=re,this.pointBuffer=Q,this.colorBuffer=ee,this.glyphBuffer=oe,this.idBuffer=ce,this.vao=ue,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=he,this.pickOrthoShader=ve,this.pickProjectShader=ke,this.points=[],this._selectResult=new b(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}v.exports=function($){var se=$.gl,ne=f.createPerspective(se),re=f.createOrtho(se),Q=f.createProject(se),ee=f.createPickPerspective(se),oe=f.createPickOrtho(se),ce=f.createPickProject(se),ue=a(se),he=a(se),ve=a(se),ke=a(se),Ie=new w(se,ne,re,Q,ue,he,ve,ke,o(se,[{buffer:ue,size:3,type:se.FLOAT},{buffer:he,size:4,type:se.FLOAT},{buffer:ve,size:2,type:se.FLOAT},{buffer:ke,size:4,type:se.UNSIGNED_BYTE,normalized:!0}]),ee,oe,ce);return Ie.update($),Ie};var A=w.prototype;A.pickSlots=1,A.setPickBase=function($){this.pickId=$},A.isTransparent=function(){if(this.hasAlpha)return!0;for(var $=0;$<3;++$)if(this.axesProject[$]&&this.projectHasAlpha)return!0;return!1},A.isOpaque=function(){if(!this.hasAlpha)return!0;for(var $=0;$<3;++$)if(this.axesProject[$]&&!this.projectHasAlpha)return!0;return!1};var p=[0,0],I=[0,0,0],k=[0,0,0],L=[0,0,0,1],O=[0,0,0,1],P=T.slice(),F=[0,0,0],j=[[0,0,0],[0,0,0]];function X($){return $[0]=$[1]=$[2]=0,$}function N($,se){return $[0]=se[0],$[1]=se[1],$[2]=se[2],$[3]=1,$}function q($,se,ne,re){return $[0]=se[0],$[1]=se[1],$[2]=se[2],$[ne]=re,$}var G=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function H($,se,ne,re,Q,ee,oe){var ce=ne.gl;if((ee===ne.projectHasAlpha||oe)&&function(he,ve,ke,Ie){var Me,_e=ve.axesProject,we=ve.gl,ze=he.uniforms,Ee=ke.model||T,Se=ke.view||T,me=ke.projection||T,fe=ve.axesBounds,le=function(st){for(var pt=j,ct=0;ct<2;++ct)for(var St=0;St<3;++St)pt[ct][St]=Math.max(Math.min(st[ct][St],1e8),-1e8);return pt}(ve.clipBounds);Me=ve.axes&&ve.axes.lastCubeProps?ve.axes.lastCubeProps.axis:[1,1,1],p[0]=2/we.drawingBufferWidth,p[1]=2/we.drawingBufferHeight,he.bind(),ze.view=Se,ze.projection=me,ze.screenSize=p,ze.highlightId=ve.highlightId,ze.highlightScale=ve.highlightScale,ze.clipBounds=le,ze.pickGroup=ve.pickId/255,ze.pixelRatio=Ie;for(var Te=0;Te<3;++Te)if(_e[Te]){ze.scale=ve.projectScale[Te],ze.opacity=ve.projectOpacity[Te];for(var Re=P,De=0;De<16;++De)Re[De]=0;for(De=0;De<4;++De)Re[5*De]=1;Re[5*Te]=0,Re[12+Te]=Me[Te]<0?fe[0][Te]:fe[1][Te],c(Re,Ee,Re),ze.model=Re;var Ue=(Te+1)%3,Ze=(Te+2)%3,xe=X(I),Oe=X(k);xe[Ue]=1,Oe[Ze]=1;var Ce=m(0,0,0,N(L,xe)),Be=m(0,0,0,N(O,Oe));if(Math.abs(Ce[1])>Math.abs(Be[1])){var qe=Ce;Ce=Be,Be=qe,qe=xe,xe=Oe,Oe=qe;var He=Ue;Ue=Ze,Ze=He}Ce[0]<0&&(xe[Ue]=-1),Be[1]>0&&(Oe[Ze]=-1);var Je=0,et=0;for(De=0;De<4;++De)Je+=Math.pow(Ee[4*Ue+De],2),et+=Math.pow(Ee[4*Ze+De],2);xe[Ue]/=Math.sqrt(Je),Oe[Ze]/=Math.sqrt(et),ze.axes[0]=xe,ze.axes[1]=Oe,ze.fragClipBounds[0]=q(F,le[0],Te,-1e8),ze.fragClipBounds[1]=q(F,le[1],Te,1e8),ve.vao.bind(),ve.vao.draw(we.TRIANGLES,ve.vertexCount),ve.lineWidth>0&&(we.lineWidth(ve.lineWidth*Ie),ve.vao.draw(we.LINES,ve.lineVertexCount,ve.vertexCount)),ve.vao.unbind()}}(se,ne,re,Q),ee===ne.hasAlpha||oe){$.bind();var ue=$.uniforms;ue.model=re.model||T,ue.view=re.view||T,ue.projection=re.projection||T,p[0]=2/ce.drawingBufferWidth,p[1]=2/ce.drawingBufferHeight,ue.screenSize=p,ue.highlightId=ne.highlightId,ue.highlightScale=ne.highlightScale,ue.fragClipBounds=G,ue.clipBounds=ne.axes.bounds,ue.opacity=ne.opacity,ue.pickGroup=ne.pickId/255,ue.pixelRatio=Q,ne.vao.bind(),ne.vao.draw(ce.TRIANGLES,ne.vertexCount),ne.lineWidth>0&&(ce.lineWidth(ne.lineWidth*Q),ne.vao.draw(ce.LINES,ne.lineVertexCount,ne.vertexCount)),ne.vao.unbind()}}function Z($,se,ne,re){var Q;Q=Array.isArray($)?se<$.length?$[se]:void 0:$,Q=h(Q);var ee=!0;s(Q)&&(Q="\u25bc",ee=!1);var oe=g(Q,ne,re);return{mesh:oe[0],lines:oe[1],bounds:oe[2],visible:ee}}A.draw=function($){H(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,$,this.pixelRatio,!1,!1)},A.drawTransparent=function($){H(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,$,this.pixelRatio,!0,!1)},A.drawPick=function($){H(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,$,1,!0,!0)},A.pick=function($){if(!$||$.id!==this.pickId)return null;var se=$.value[2]+($.value[1]<<8)+($.value[0]<<16);if(se>=this.pointCount||se<0)return null;var ne=this.points[se],re=this._selectResult;re.index=se;for(var Q=0;Q<3;++Q)re.position[Q]=re.dataCoordinate[Q]=ne[Q];return re},A.highlight=function($){if($){var se=$.index;this.highlightId=[(255&se)/255,(se>>8&255)/255,(se>>16&255)/255,0]}else this.highlightId=[1,1,1,1]},A.update=function($){if("perspective"in($=$||{})&&(this.useOrtho=!$.perspective),"orthographic"in $&&(this.useOrtho=!!$.orthographic),"lineWidth"in $&&(this.lineWidth=$.lineWidth),"project"in $)if(Array.isArray($.project))this.axesProject=$.project;else{var se=!!$.project;this.axesProject=[se,se,se]}if("projectScale"in $)if(Array.isArray($.projectScale))this.projectScale=$.projectScale.slice();else{var ne=+$.projectScale;this.projectScale=[ne,ne,ne]}if(this.projectHasAlpha=!1,"projectOpacity"in $){this.projectOpacity=Array.isArray($.projectOpacity)?$.projectOpacity.slice():[ne=+$.projectOpacity,ne,ne];for(var re=0;re<3;++re)this.projectOpacity[re]=_(this.projectOpacity[re]),this.projectOpacity[re]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in $&&(this.opacity=_($.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Q,ee,oe=$.position,ce=$.font||"normal",ue=$.alignment||[0,0];if(2===ue.length)Q=ue[0],ee=ue[1];else for(Q=[],ee=[],re=0;re<ue.length;++re)Q[re]=ue[re][0],ee[re]=ue[re][1];var he=[1/0,1/0,1/0],ve=[-1/0,-1/0,-1/0],ke=$.glyph,Ie=$.color,Me=$.size,_e=$.angle,we=$.lineColor,ze=-1,Ee=0,Se=0,me=0;if(oe.length){me=oe.length;e:for(re=0;re<me;++re){for(var fe=oe[re],le=0;le<3;++le)if(isNaN(fe[le])||!isFinite(fe[le]))continue e;var Te=(pt=Z(ke,re,ce,this.pixelRatio)).mesh,Re=pt.lines,De=pt.bounds;Ee+=3*Te.cells.length,Se+=2*Re.edges.length}}var Ue=Ee+Se,Ze=l.mallocFloat(3*Ue),xe=l.mallocFloat(4*Ue),Oe=l.mallocFloat(2*Ue),Ce=l.mallocUint32(Ue);if(Ue>0){var Be=0,qe=Ee,He=[0,0,0,1],Je=[0,0,0,1],et=Array.isArray(Ie)&&Array.isArray(Ie[0]),st=Array.isArray(we)&&Array.isArray(we[0]);e:for(re=0;re<me;++re){for(ze+=1,fe=oe[re],le=0;le<3;++le){if(isNaN(fe[le])||!isFinite(fe[le]))continue e;ve[le]=Math.max(ve[le],fe[le]),he[le]=Math.min(he[le],fe[le])}Te=(pt=Z(ke,re,ce,this.pixelRatio)).mesh,Re=pt.lines,De=pt.bounds;var pt,ct=pt.visible;if(ct)if(Array.isArray(Ie)){if(3===(St=et?re<Ie.length?Ie[re]:[0,0,0,0]:Ie).length){for(le=0;le<3;++le)He[le]=St[le];He[3]=1}else if(4===St.length){for(le=0;le<4;++le)He[le]=St[le];!this.hasAlpha&&St[3]<1&&(this.hasAlpha=!0)}}else He[0]=He[1]=He[2]=0,He[3]=1;else He=[1,1,1,0];if(ct)if(Array.isArray(we)){var St;if(3===(St=st?re<we.length?we[re]:[0,0,0,0]:we).length){for(le=0;le<3;++le)Je[le]=St[le];Je[le]=1}else if(4===St.length){for(le=0;le<4;++le)Je[le]=St[le];!this.hasAlpha&&St[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;else Je=[1,1,1,0];var Dt=.5;ct?Array.isArray(Me)?Dt=re<Me.length?+Me[re]:12:Me?Dt=+Me:this.useOrtho&&(Dt=12):Dt=0;var vt=0;Array.isArray(_e)?vt=re<_e.length?+_e[re]:0:_e&&(vt=+_e);var gt=Math.cos(vt),Et=Math.sin(vt);for(fe=oe[re],le=0;le<3;++le)ve[le]=Math.max(ve[le],fe[le]),he[le]=Math.min(he[le],fe[le]);var Pt=Q,Ot=ee;Pt=0,Array.isArray(Q)?Pt=re<Q.length?Q[re]:0:Q&&(Pt=Q),Ot=0,Array.isArray(ee)?Ot=re<ee.length?ee[re]:0:ee&&(Ot=ee);var Ht=[Pt*=Pt>0?1-De[0][0]:Pt<0?1+De[1][0]:1,Ot*=Ot>0?1-De[0][1]:Ot<0?1+De[1][1]:1],zt=Te.cells||[],nt=Te.positions||[];for(le=0;le<zt.length;++le)for(var it=zt[le],Ke=0;Ke<3;++Ke){for(var rt=0;rt<3;++rt)Ze[3*Be+rt]=fe[rt];for(rt=0;rt<4;++rt)xe[4*Be+rt]=He[rt];Ce[Be]=ze;var ft=nt[it[Ke]];Oe[2*Be]=Dt*(gt*ft[0]-Et*ft[1]+Ht[0]),Oe[2*Be+1]=Dt*(Et*ft[0]+gt*ft[1]+Ht[1]),Be+=1}for(zt=Re.edges,nt=Re.positions,le=0;le<zt.length;++le)for(it=zt[le],Ke=0;Ke<2;++Ke){for(rt=0;rt<3;++rt)Ze[3*qe+rt]=fe[rt];for(rt=0;rt<4;++rt)xe[4*qe+rt]=Je[rt];Ce[qe]=ze,Oe[2*qe]=Dt*(gt*(ft=nt[it[Ke]])[0]-Et*ft[1]+Ht[0]),Oe[2*qe+1]=Dt*(Et*ft[0]+gt*ft[1]+Ht[1]),qe+=1}}}this.bounds=[he,ve],this.points=oe,this.pointCount=oe.length,this.vertexCount=Ee,this.lineVertexCount=Se,this.pointBuffer.update(Ze),this.colorBuffer.update(xe),this.glyphBuffer.update(Oe),this.idBuffer.update(Ce),l.free(Ze),l.free(xe),l.free(Oe),l.free(Ce)},A.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(v,u,i){"use strict";var s=i(6832);u.boxVertex=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec2 vertex;\n\nuniform vec2 cornerA, cornerB;\n\nvoid main() {\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\n}\n"]),u.boxFragment=s(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n  gl_FragColor = color;\n}\n"])},6623:function(v,u,i){"use strict";var s=i(5158),a=i(5827),o=i(1884);function l(f,g,h){this.plot=f,this.boxBuffer=g,this.boxShader=h,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}v.exports=function(f,g){var h=f.gl,T=new l(f,a(h,[0,0,0,1,1,0,1,1]),s(h,o.boxVertex,o.boxFragment));return T.update(g),f.addOverlay(T),T};var c=l.prototype;c.draw=function(){if(this.enabled){var f=this.plot,g=this.selectBox,h=this.borderWidth,T=this.innerColor,x=this.outerColor,m=this.borderColor,b=f.box,_=f.screenBox,w=f.dataBox,A=f.viewBox,p=f.pixelRatio,I=(g[0]-w[0])*(A[2]-A[0])/(w[2]-w[0])+A[0],k=(g[1]-w[1])*(A[3]-A[1])/(w[3]-w[1])+A[1],L=(g[2]-w[0])*(A[2]-A[0])/(w[2]-w[0])+A[0],O=(g[3]-w[1])*(A[3]-A[1])/(w[3]-w[1])+A[1];if(I=Math.max(I,A[0]),k=Math.max(k,A[1]),L=Math.min(L,A[2]),O=Math.min(O,A[3]),!(L<I||O<k)){b.bind();var P=_[2]-_[0],F=_[3]-_[1];if(this.outerFill&&(b.drawBox(0,0,P,k,x),b.drawBox(0,k,I,O,x),b.drawBox(0,O,P,F,x),b.drawBox(L,k,P,O,x)),this.innerFill&&b.drawBox(I,k,L,O,T),h>0){var j=h*p;b.drawBox(I-j,k-j,L+j,k+j,m),b.drawBox(I-j,O-j,L+j,O+j,m),b.drawBox(I-j,k-j,I+j,O+j,m),b.drawBox(L-j,k-j,L+j,O+j,m)}}}},c.update=function(f){this.innerFill=!!(f=f||{}).innerFill,this.outerFill=!!f.outerFill,this.innerColor=(f.innerColor||[0,0,0,.5]).slice(),this.outerColor=(f.outerColor||[0,0,0,.5]).slice(),this.borderColor=(f.borderColor||[0,0,0,1]).slice(),this.borderWidth=f.borderWidth||0,this.selectBox=(f.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(v,u,i){"use strict";v.exports=function(h,T){var x=T[0],m=T[1];return new f(h,s(h,x,m,{}),a.mallocUint8(x*m*4))};var s=i(4234),a=i(5306),o=i(5050),l=i(2288).nextPow2;function c(h,T,x,m,b){this.coord=[h,T],this.id=x,this.value=m,this.distance=b}function f(h,T,x){this.gl=h,this.fbo=T,this.buffer=x,this._readTimeout=null;var m=this;this._readCallback=function(){m.gl&&(T.bind(),h.readPixels(0,0,T.shape[0],T.shape[1],h.RGBA,h.UNSIGNED_BYTE,m.buffer),m._readTimeout=null)}}var g=f.prototype;Object.defineProperty(g,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var T=this.fbo.shape[0],x=this.fbo.shape[1];if(x*T*4>this.buffer.length){a.free(this.buffer);for(var m=this.buffer=a.mallocUint8(l(x*T*4)),b=0;b<x*T*4;++b)m[b]=255}return h}}}),g.begin=function(){var h=this.gl;h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},g.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},g.query=function(h,T,x){if(!this.gl)return null;var m=this.fbo.shape.slice();h|=0,T|=0,"number"!=typeof x&&(x=1);var b=0|Math.min(Math.max(h-x,0),m[0]),_=0|Math.min(Math.max(h+x,0),m[0]),w=0|Math.min(Math.max(T-x,0),m[1]),A=0|Math.min(Math.max(T+x,0),m[1]);if(_<=b||A<=w)return null;var p=[_-b,A-w],I=o(this.buffer,[p[0],p[1],4],[4,4*m[0],1],4*(b+m[0]*w)),k=function(P,F,j){for(var X=1e8,N=-1,q=-1,G=P.shape[0],H=P.shape[1],Z=0;Z<G;Z++)for(var $=0;$<H;$++){var se=P.get(Z,$,0),ne=P.get(Z,$,1),re=P.get(Z,$,2),Q=P.get(Z,$,3);if(se<255||ne<255||re<255||Q<255){var ee=F-Z,oe=j-$,ce=ee*ee+oe*oe;ce<X&&(X=ce,N=Z,q=$)}}return[N,q,X]}(I.hi(p[0],p[1],1),x,x),L=k[0],O=k[1];return L<0||Math.pow(this.radius,2)<k[2]?null:new c(L+b|0,O+w|0,I.get(L,O,0),[I.get(L,O,1),I.get(L,O,2),I.get(L,O,3)],Math.sqrt(k[2]))},g.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(v,u,i){"use strict";var s=i(9016),a=i(4280),o=i(3984),l=i(1628),c=i(2631),f=i(9068);function g(x){this.gl=x,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=g.prototype;function T(x,m){return x.name<m.name?-1:1}h.bind=function(){var x;this.program||this._relink();var m=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),b=this.gl.lastAttribCount;if(m>b)for(x=b;x<m;x++)this.gl.enableVertexAttribArray(x);else if(b>m)for(x=m;x<b;x++)this.gl.disableVertexAttribArray(x);this.gl.lastAttribCount=m,this.gl.useProgram(this.program)},h.dispose=function(){for(var x=this.gl.lastAttribCount,m=0;m<x;m++)this.gl.disableVertexAttribArray(m);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(x,m,b,_){if(!m||1===arguments.length){var w=x;x=w.vertex,m=w.fragment,b=w.uniforms,_=w.attributes}var A=this,p=A.gl,I=A._vref;A._vref=l.shader(p,p.VERTEX_SHADER,x),I&&I.dispose(),A.vertShader=A._vref.shader;var k=this._fref;if(A._fref=l.shader(p,p.FRAGMENT_SHADER,m),k&&k.dispose(),A.fragShader=A._fref.shader,!b||!_){var L=p.createProgram();if(p.attachShader(L,A.fragShader),p.attachShader(L,A.vertShader),p.linkProgram(L),!p.getProgramParameter(L,p.LINK_STATUS)){var O=p.getProgramInfoLog(L);throw new f(O,"Error linking program:"+O)}b=b||c.uniforms(p,L),_=_||c.attributes(p,L),p.deleteProgram(L)}(_=_.slice()).sort(T);var P,F=[],j=[],X=[];for(P=0;P<_.length;++P){var N=_[P];if(N.type.indexOf("mat")>=0){for(var q=0|N.type.charAt(N.type.length-1),G=new Array(q),H=0;H<q;++H)G[H]=X.length,j.push(N.name+"["+H+"]"),"number"==typeof N.location?X.push(N.location+H):Array.isArray(N.location)&&N.location.length===q&&"number"==typeof N.location[H]?X.push(0|N.location[H]):X.push(-1);F.push({name:N.name,type:N.type,locations:G})}else F.push({name:N.name,type:N.type,locations:[X.length]}),j.push(N.name),X.push("number"==typeof N.location?0|N.location:-1)}var Z=0;for(P=0;P<X.length;++P)if(X[P]<0){for(;X.indexOf(Z)>=0;)Z+=1;X[P]=Z}var $=new Array(b.length);function se(){A.program=l.program(p,A._vref,A._fref,j,X);for(var ne=0;ne<b.length;++ne)$[ne]=p.getUniformLocation(A.program,b[ne].name)}se(),A._relink=se,A.types={uniforms:o(b),attributes:o(_)},A.attributes=a(p,A,F,X),Object.defineProperty(A,"uniforms",s(p,A,b,$))},v.exports=function(x,m,b,_,w){var A=new g(x);return A.update(m,b,_,w),A}},9068:function(v){function u(i,s,a){this.shortMessage=s||"",this.longMessage=a||"",this.rawError=i||"",this.message="gl-shader: "+(s||i||"")+(a?"\n"+a:""),this.stack=(new Error).stack}(u.prototype=new Error).name="GLError",u.prototype.constructor=u,v.exports=u},4280:function(v,u,i){"use strict";v.exports=function(g,h,T,x){for(var m={},b=0,_=T.length;b<_;++b){var w=T[b],A=w.name,p=w.type,I=w.locations;switch(p){case"bool":case"int":case"float":c(g,h,I[0],x,1,m,A);break;default:if(p.indexOf("vec")>=0){if((k=p.charCodeAt(p.length-1)-48)<2||k>4)throw new s("","Invalid data type for attribute "+A+": "+p);c(g,h,I[0],x,k,m,A)}else{if(!(p.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+A+": "+p);var k;if((k=p.charCodeAt(p.length-1)-48)<2||k>4)throw new s("","Invalid data type for attribute "+A+": "+p);f(g,h,I,x,k,m,A)}}}return m};var s=i(9068);function a(g,h,T,x,m,b){this._gl=g,this._wrapper=h,this._index=T,this._locations=x,this._dimension=m,this._constFunc=b}var o=a.prototype;o.pointer=function(g,h,T,x){var m=this,b=m._gl,_=m._locations[m._index];b.vertexAttribPointer(_,m._dimension,g||b.FLOAT,!!h,T||0,x||0),b.enableVertexAttribArray(_)},o.set=function(g,h,T,x){return this._constFunc(this._locations[this._index],g,h,T,x)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(g){return g!==this._locations[this._index]&&(this._locations[this._index]=0|g,this._wrapper.program=null),0|g}});var l=[function(g,h,T){return void 0===T.length?g.vertexAttrib1f(h,T):g.vertexAttrib1fv(h,T)},function(g,h,T,x){return void 0===T.length?g.vertexAttrib2f(h,T,x):g.vertexAttrib2fv(h,T)},function(g,h,T,x,m){return void 0===T.length?g.vertexAttrib3f(h,T,x,m):g.vertexAttrib3fv(h,T)},function(g,h,T,x,m,b){return void 0===T.length?g.vertexAttrib4f(h,T,x,m,b):g.vertexAttrib4fv(h,T)}];function c(g,h,T,x,m,b,_){var w=l[m],A=new a(g,h,T,x,m,w);Object.defineProperty(b,_,{set:function(p){return g.disableVertexAttribArray(x[T]),w(g,x[T],p),p},get:function(){return A},enumerable:!0})}function f(g,h,T,x,m,b,_){for(var w=new Array(m),A=new Array(m),p=0;p<m;++p)c(g,h,T[p],x,m,w,p),A[p]=w[p];Object.defineProperty(w,"location",{set:function(L){if(Array.isArray(L))for(var O=0;O<m;++O)A[O].location=L[O];else for(O=0;O<m;++O)A[O].location=L+O;return L},get:function(){for(var L=new Array(m),O=0;O<m;++O)L[O]=x[T[O]];return L},enumerable:!0}),w.pointer=function(L,O,P,F){L=L||g.FLOAT,O=!!O,P=P||m*m,F=F||0;for(var j=0;j<m;++j){var X=x[T[j]];g.vertexAttribPointer(X,m,L,O,P,F+j*m),g.enableVertexAttribArray(X)}};var I=new Array(m),k=g["vertexAttrib"+m+"fv"];Object.defineProperty(b,_,{set:function(L){for(var O=0;O<m;++O){var P=x[T[O]];if(g.disableVertexAttribArray(P),Array.isArray(L[0]))k.call(g,P,L[O]);else{for(var F=0;F<m;++F)I[F]=L[m*O+F];k.call(g,P,I)}}return L},get:function(){return w},enumerable:!0})}},9016:function(v,u,i){"use strict";var s=i(3984),a=i(9068);function o(c){return function(){return c}}function l(c,f){for(var g=new Array(c),h=0;h<c;++h)g[h]=f;return g}v.exports=function(c,f,g,h){function T(w){return function(A){for(var p=x("",w),I=0;I<p.length;++I){var k=p[I],L=k[0],O=k[1];if(h[O]){var P=A;if("string"==typeof L&&(0===L.indexOf(".")||0===L.indexOf("["))){var F=L;if(0===L.indexOf(".")&&(F=L.slice(1)),F.indexOf("]")===F.length-1){var j=F.indexOf("["),X=F.slice(0,j),N=F.slice(j+1,F.length-1);P=X?A[X][N]:A[N]}else P=A[F]}var q,G=g[O].type;switch(G){case"bool":case"int":case"sampler2D":case"samplerCube":c.uniform1i(h[O],P);break;case"float":c.uniform1f(h[O],P);break;default:var H=G.indexOf("vec");if(!(0<=H&&H<=1&&G.length===4+H)){if(0===G.indexOf("mat")&&4===G.length){if((q=G.charCodeAt(G.length-1)-48)<2||q>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+G);c["uniformMatrix"+q+"fv"](h[O],!1,P);break}throw new a("","Unknown uniform data type for "+name+": "+G)}if((q=G.charCodeAt(G.length-1)-48)<2||q>4)throw new a("","Invalid data type");switch(G.charAt(0)){case"b":case"i":c["uniform"+q+"iv"](h[O],P);break;case"v":c["uniform"+q+"fv"](h[O],P);break;default:throw new a("","Unrecognized data type for vector "+name+": "+G)}}}}}}function x(w,A){if("object"!=typeof A)return[[w,A]];var p=[];for(var I in A){var k=A[I],L=w;parseInt(I)+""===I?L+="["+I+"]":L+="."+I,"object"==typeof k?p.push.apply(p,x(L,k)):p.push([L,k])}return p}function m(w,A,p){if("object"==typeof p){var I=b(p);Object.defineProperty(w,A,{get:o(I),set:T(p),enumerable:!0,configurable:!1})}else h[p]?Object.defineProperty(w,A,{get:(k=p,function(L,O,P){return L.getUniform(O.program,P[k])}),set:T(p),enumerable:!0,configurable:!1}):w[A]=function(L){switch(L){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var O=L.indexOf("vec");if(0<=O&&O<=1&&L.length===4+O){if((P=L.charCodeAt(L.length-1)-48)<2||P>4)throw new a("","Invalid data type");return"b"===L.charAt(0)?l(P,!1):l(P,0)}if(0===L.indexOf("mat")&&4===L.length){var P;if((P=L.charCodeAt(L.length-1)-48)<2||P>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+L);return l(P*P,0)}throw new a("","Unknown uniform data type for "+name+": "+L)}}(g[p].type);var k}function b(w){var A;if(Array.isArray(w)){A=new Array(w.length);for(var p=0;p<w.length;++p)m(A,p,w[p])}else for(var I in A={},w)m(A,I,w[I]);return A}var _=s(g,!0);return{get:o(b(_)),set:T(_),enumerable:!0,configurable:!0}}},3984:function(v){"use strict";v.exports=function(u,i){for(var s={},a=0;a<u.length;++a)for(var o=u[a].name.split("."),l=s,c=0;c<o.length;++c){var f=o[c].split("[");if(f.length>1){f[0]in l||(l[f[0]]=[]),l=l[f[0]];for(var g=1;g<f.length;++g){var h=parseInt(f[g]);g<f.length-1||c<o.length-1?(h in l||(l[h]=g<f.length-1?[]:{}),l=l[h]):l[h]=i?a:u[a].type}}else c<o.length-1?(f[0]in l||(l[f[0]]={}),l=l[f[0]]):l[f[0]]=i?a:u[a].type}return s}},2631:function(v,u){"use strict";u.uniforms=function(o,l){for(var c=o.getProgramParameter(l,o.ACTIVE_UNIFORMS),f=[],g=0;g<c;++g){var h=o.getActiveUniform(l,g);if(h){var T=a(o,h.type);if(h.size>1)for(var x=0;x<h.size;++x)f.push({name:h.name.replace("[0]","["+x+"]"),type:T});else f.push({name:h.name,type:T})}}return f},u.attributes=function(o,l){for(var c=o.getProgramParameter(l,o.ACTIVE_ATTRIBUTES),f=[],g=0;g<c;++g){var h=o.getActiveAttrib(l,g);h&&f.push({name:h.name,type:a(o,h.type)})}return f};var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null;function a(o,l){if(!s){var c=Object.keys(i);s={};for(var f=0;f<c.length;++f){var g=c[f];s[o[g]]=i[g]}}return s[l]}},1628:function(v,u,i){"use strict";u.shader=function(T,x,m){return h(T).getShaderReference(x,m)},u.program=function(T,x,m,b,_){return h(T).getProgram(x,m,b,_)};var s=i(9068),a=i(3530),o=new(typeof WeakMap>"u"?i(4037):WeakMap),l=0;function c(T,x,m,b,_,w,A){this.id=T,this.src=x,this.type=m,this.shader=b,this.count=w,this.programs=[],this.cache=A}function f(T){this.gl=T,this.shaders=[{},{}],this.programs={}}c.prototype.dispose=function(){if(0==--this.count){for(var T=this.cache,x=T.gl,m=this.programs,b=0,_=m.length;b<_;++b){var w=T.programs[m[b]];w&&(delete T.programs[b],x.deleteProgram(w))}x.deleteShader(this.shader),delete T.shaders[this.type===x.FRAGMENT_SHADER|0][this.src]}};var g=f.prototype;function h(T){var x=o.get(T);return x||(x=new f(T),o.set(T,x)),x}g.getShaderReference=function(T,x){var m=this.gl,b=this.shaders[T===m.FRAGMENT_SHADER|0],_=b[x];if(_&&m.isShader(_.shader))_.count+=1;else{var w=function(A,p,I){var k=A.createShader(p);if(A.shaderSource(k,I),A.compileShader(k),!A.getShaderParameter(k,A.COMPILE_STATUS)){var L=A.getShaderInfoLog(k);try{var O=a(L,I,p)}catch(P){throw console.warn("Failed to format compiler error: "+P),new s(L,"Error compiling shader:\n"+L)}throw new s(L,O.short,O.long)}return k}(m,T,x);_=b[x]=new c(l++,x,T,w,[],1,this)}return _},g.getProgram=function(T,x,m,b){var _=[T.id,x.id,m.join(":"),b.join(":")].join("@"),w=this.programs[_];return w&&this.gl.isProgram(w)||(this.programs[_]=w=function(A,p,I,k,L){var O=A.createProgram();A.attachShader(O,p),A.attachShader(O,I);for(var P=0;P<k.length;++P)A.bindAttribLocation(O,L[P],k[P]);if(A.linkProgram(O),!A.getProgramParameter(O,A.LINK_STATUS)){var F=A.getProgramInfoLog(O);throw new s(F,"Error linking program: "+F)}return O}(this.gl,T.shader,x.shader,m,b),T.programs.push(_),x.programs.push(_)),w}},3050:function(v){"use strict";function u(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}v.exports=function(s,a){var o=new u(s);return o.update(a),s.addOverlay(o),o};var i=u.prototype;i.update=function(s){this.enable=((s=s||{}).enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var s=this.enable,a=this.width,o=this.color,l=this.center,c=this.plot,f=c.line,g=c.dataBox,h=c.viewBox;if(f.bind(),g[0]<=l[0]&&l[0]<=g[2]&&g[1]<=l[1]&&l[1]<=g[3]){var T=h[0]+(l[0]-g[0])/(g[2]-g[0])*(h[2]-h[0]),x=h[1]+(l[1]-g[1])/(g[3]-g[1])*(h[3]-h[1]);s[0]&&f.drawLine(T,x,h[0],x,a[0],o[0]),s[1]&&f.drawLine(T,x,T,h[1],a[1],o[1]),s[2]&&f.drawLine(T,x,h[2],x,a[2],o[2]),s[3]&&f.drawLine(T,x,T,h[3],a[3],o[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},3540:function(v,u,i){"use strict";var s=i(6832),a=i(5158),o=s(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),l=s(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);v.exports=function(c){return a(c,o,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,u,i){"use strict";var s=i(5827),a=i(2944),o=i(3540);v.exports=function(x,m){var b=[];function _(k,L,O,P,F,j){var X=[k,L,O,0,0,0,1];X[P+3]=1,X[P]=F,b.push.apply(b,X),X[6]=-1,b.push.apply(b,X),X[P]=j,b.push.apply(b,X),b.push.apply(b,X),X[6]=1,b.push.apply(b,X),X[P]=F,b.push.apply(b,X)}_(0,0,0,0,0,1),_(0,0,0,1,0,1),_(0,0,0,2,0,1),_(1,0,0,1,-1,1),_(1,0,0,2,-1,1),_(0,1,0,0,-1,1),_(0,1,0,2,-1,1),_(0,0,1,0,-1,1),_(0,0,1,1,-1,1);var w=s(x,b),A=a(x,[{type:x.FLOAT,buffer:w,size:3,offset:0,stride:28},{type:x.FLOAT,buffer:w,size:3,offset:12,stride:28},{type:x.FLOAT,buffer:w,size:1,offset:24,stride:28}]),p=o(x);p.attributes.position.location=0,p.attributes.color.location=1,p.attributes.weight.location=2;var I=new c(x,w,A,p);return I.update(m),I};var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(x,m,b,_){this.gl=x,this.buffer=m,this.vao=b,this.shader=_,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var f=c.prototype,g=[0,0,0],h=[0,0,0],T=[0,0];f.isTransparent=function(){return!1},f.drawTransparent=function(x){},f.draw=function(x){var m=this.gl,b=this.vao,_=this.shader;b.bind(),_.bind();var w,A=x.model||l,p=x.view||l,I=x.projection||l;this.axes&&(w=this.axes.lastCubeProps.axis);for(var k=g,L=h,O=0;O<3;++O)w&&w[O]<0?(k[O]=this.bounds[0][O],L[O]=this.bounds[1][O]):(k[O]=this.bounds[1][O],L[O]=this.bounds[0][O]);for(T[0]=m.drawingBufferWidth,T[1]=m.drawingBufferHeight,_.uniforms.model=A,_.uniforms.view=p,_.uniforms.projection=I,_.uniforms.coordinates=[this.position,k,L],_.uniforms.colors=this.colors,_.uniforms.screenShape=T,O=0;O<3;++O)_.uniforms.lineWidth=this.lineWidth[O]*this.pixelRatio,this.enabled[O]&&(b.draw(m.TRIANGLES,6,6*O),this.drawSides[O]&&b.draw(m.TRIANGLES,12,18+12*O));b.unbind()},f.update=function(x){x&&("bounds"in x&&(this.bounds=x.bounds),"position"in x&&(this.position=x.position),"lineWidth"in x&&(this.lineWidth=x.lineWidth),"colors"in x&&(this.colors=x.colors),"enabled"in x&&(this.enabled=x.enabled),"drawSides"in x&&(this.drawSides=x.drawSides))},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(v,u,i){var s=i(6832),a=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\n\nuniform float vectorScale, tubeScale;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 eyePosition, lightPosition;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=s(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),l=s(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),c=s(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);u.meshShader={vertex:a,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},u.pickShader={vertex:l,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,u,i){"use strict";var s=i(2858),a=i(4020),o=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(T,x){var m,b=T.length;for(m=0;m<b;m++){var _=T[m];if(_===x)return m;if(_>x)return m-1}return m},c=function(T,x,m){return T<x?x:T>m?m:T},f=function(T){var x=1/0;T.sort(function(w,A){return w-A});for(var m=T.length,b=1;b<m;b++){var _=Math.abs(T[b]-T[b-1]);_<x&&(x=_)}return x};v.exports=function(T,x){var m=T.startingPositions,b=T.maxLength||1e3,_=T.tubeSize||1,w=T.absoluteTubeSize,A=T.gridFill||"+x+y+z",p={};-1!==A.indexOf("-x")&&(p.reversedX=!0),-1!==A.indexOf("-y")&&(p.reversedY=!0),-1!==A.indexOf("-z")&&(p.reversedZ=!0),p.filled=o.indexOf(A.replace(/-/g,"").replace(/\+/g,""));var we,ze,Ee,Se,I=T.getVelocity||function(we){return function(ze,Ee,Se){var me=Ee.vectors,fe=Ee.meshgrid,le=ze[0],Te=ze[1],Re=ze[2],De=fe[0].length,Ue=fe[1].length,Ze=fe[2].length,xe=l(fe[0],le),Oe=l(fe[1],Te),Ce=l(fe[2],Re),Be=xe+1,qe=Oe+1,He=Ce+1;if(xe=c(xe,0,De-1),Be=c(Be,0,De-1),Oe=c(Oe,0,Ue-1),qe=c(qe,0,Ue-1),Ce=c(Ce,0,Ze-1),He=c(He,0,Ze-1),xe<0||Oe<0||Ce<0||Be>De-1||qe>Ue-1||He>Ze-1)return s.create();var Je,et,st,pt,ct,St,Dt=fe[0][xe],gt=fe[1][Oe],Pt=fe[2][Ce],Ot=(le-Dt)/(fe[0][Be]-Dt),Ht=(Te-gt)/(fe[1][qe]-gt),zt=(Re-Pt)/(fe[2][He]-Pt);switch(isFinite(Ot)||(Ot=.5),isFinite(Ht)||(Ht=.5),isFinite(zt)||(zt=.5),Se.reversedX&&(xe=De-1-xe,Be=De-1-Be),Se.reversedY&&(Oe=Ue-1-Oe,qe=Ue-1-qe),Se.reversedZ&&(Ce=Ze-1-Ce,He=Ze-1-He),Se.filled){case 5:ct=Ce,St=He,st=Oe*Ze,pt=qe*Ze,Je=xe*Ze*Ue,et=Be*Ze*Ue;break;case 4:ct=Ce,St=He,Je=xe*Ze,et=Be*Ze,st=Oe*Ze*De,pt=qe*Ze*De;break;case 3:st=Oe,pt=qe,ct=Ce*Ue,St=He*Ue,Je=xe*Ue*Ze,et=Be*Ue*Ze;break;case 2:st=Oe,pt=qe,Je=xe*Ue,et=Be*Ue,ct=Ce*Ue*De,St=He*Ue*De;break;case 1:Je=xe,et=Be,ct=Ce*De,St=He*De,st=Oe*De*Ze,pt=qe*De*Ze;break;default:Je=xe,et=Be,st=Oe*De,pt=qe*De,ct=Ce*De*Ue,St=He*De*Ue}var nt=me[Je+st+ct],it=me[Je+st+St],Ke=me[Je+pt+ct],rt=me[Je+pt+St],ft=me[et+st+ct],ht=me[et+st+St],Ve=me[et+pt+ct],Ge=me[et+pt+St],ut=s.create(),dt=s.create(),kt=s.create(),bt=s.create();s.lerp(ut,nt,ft,Ot),s.lerp(dt,it,ht,Ot),s.lerp(kt,Ke,Ve,Ot),s.lerp(bt,rt,Ge,Ot);var At=s.create(),xt=s.create();s.lerp(At,ut,kt,Ht),s.lerp(xt,dt,bt,Ht);var Rt=s.create();return s.lerp(Rt,At,xt,zt),Rt}(we,T,p)},k=T.getDivergence||function(we,ze){var Ee=s.create(),Se=1e-4;s.add(Ee,we,[Se,0,0]);var me=I(Ee);s.subtract(me,me,ze),s.scale(me,me,1/Se),s.add(Ee,we,[0,Se,0]);var fe=I(Ee);s.subtract(fe,fe,ze),s.scale(fe,fe,1/Se),s.add(Ee,we,[0,0,Se]);var le=I(Ee);return s.subtract(le,le,ze),s.scale(le,le,1/Se),s.add(Ee,me,fe),s.add(Ee,Ee,le),Ee},L=[],O=x[0][0],P=x[0][1],F=x[0][2],j=x[1][0],X=x[1][1],N=x[1][2],G=10*s.distance(x[0],x[1])/b,H=G*G,Z=1,$=0,se=m.length;se>1&&(Z=function(we){for(var ze=[],Ee=[],Se=[],me={},fe={},le={},Te=we.length,Re=0;Re<Te;Re++){var De=we[Re],Ue=De[0],Ze=De[1],xe=De[2];me[Ue]||(ze.push(Ue),me[Ue]=!0),fe[Ze]||(Ee.push(Ze),fe[Ze]=!0),le[xe]||(Se.push(xe),le[xe]=!0)}var Oe=f(ze),Ce=f(Ee),Be=f(Se),qe=Math.min(Oe,Ce,Be);return isFinite(qe)?qe:1}(m));for(var ne=0;ne<se;ne++){var re=s.create();s.copy(re,m[ne]);var Q=[re],ee=[],oe=I(re),ce=re;ee.push(oe);var ue=[],he=k(re,oe),ve=s.length(he);isFinite(ve)&&ve>$&&($=ve),ue.push(ve),L.push({points:Q,velocities:ee,divergences:ue});for(var ke=0;ke<100*b&&Q.length<b&&(ze=void 0,Ee=void 0,Se=void 0,Ee=(we=re)[1],Se=we[2],!((ze=we[0])<O||ze>j||Ee<P||Ee>X||Se<F||Se>N));){ke++;var Ie=s.clone(oe),Me=s.squaredLength(Ie);if(0===Me)break;Me>H&&s.scale(Ie,Ie,G/Math.sqrt(Me)),s.add(Ie,Ie,re),oe=I(Ie),s.squaredDistance(ce,Ie)-H>-1e-4*H&&(Q.push(Ie),ce=Ie,ee.push(oe),he=k(Ie,oe),ve=s.length(he),isFinite(ve)&&ve>$&&($=ve),ue.push(ve)),re=Ie}}var _e=function(we,ze,Ee,Se){for(var me=0,fe=0;fe<we.length;fe++)for(var le=we[fe].velocities,Te=0;Te<le.length;Te++)me=Math.max(me,s.length(le[Te]));var Re=we.map(function(Je){return function(et,st,pt,ct){for(var St=et.points,Dt=et.velocities,vt=et.divergences,gt=[],Et=[],Pt=[],Ot=[],Ht=[],zt=[],nt=0,it=0,Ke=a.create(),rt=a.create(),ft=0;ft<St.length;ft++){var ht=St[ft],Ve=Dt[ft],Ge=vt[ft];0===st&&(Ge=.05*pt),it=s.length(Ve)/ct,Ke=a.create(),s.copy(Ke,Ve),Ke[3]=Ge;for(var ut=0;ut<8;ut++)Ht[ut]=[ht[0],ht[1],ht[2],ut];if(Ot.length>0)for(ut=0;ut<8;ut++){var dt=(ut+1)%8;gt.push(Ot[ut],Ht[ut],Ht[dt],Ht[dt],Ot[dt],Ot[ut]),Pt.push(rt,Ke,Ke,Ke,rt,rt),zt.push(nt,it,it,it,nt,nt);var kt=gt.length;Et.push([kt-6,kt-5,kt-4],[kt-3,kt-2,kt-1])}var bt=Ot;Ot=Ht,Ht=bt;var At=rt;rt=Ke,Ke=At;var xt=nt;nt=it,it=xt}return{positions:gt,cells:Et,vectors:Pt,vertexIntensity:zt}}(Je,Ee,Se,me)}),De=[],Ue=[],Ze=[],xe=[];for(fe=0;fe<Re.length;fe++){var Oe=Re[fe],Ce=De.length;for(De=De.concat(Oe.positions),Ze=Ze.concat(Oe.vectors),xe=xe.concat(Oe.vertexIntensity),Te=0;Te<Oe.cells.length;Te++){var Be=Oe.cells[Te],qe=[];Ue.push(qe);for(var He=0;He<Be.length;He++)qe.push(Be[He]+Ce)}}return{positions:De,cells:Ue,vectors:Ze,vertexIntensity:xe,colormap:ze}}(L,T.colormap,$,Z);return w?_e.tubeScale=w:(0===$&&($=1),_e.tubeScale=.5*_*Z/$),_e};var g=i(9578),h=i(1140).createMesh;v.exports.createTubeMesh=function(T,x){return h(T,x,{shaders:g,traceType:"streamtube"})}},9054:function(v,u,i){var s=i(5158),a=i(6832),o=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),l=a(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (\n    kill > 0.0 ||\n    vColor.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\n  ) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),c=a(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),f=a(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);u.createShader=function(g){var h=s(g,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},u.createPickShader=function(g){var h=s(g,o,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},u.createContourShader=function(g){var h=s(g,c,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},u.createPickContourShader=function(g){var h=s(g,c,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,u,i){"use strict";v.exports=function(he){var ve=he.gl,ke=p(ve),Ie=k(ve),Me=I(ve),_e=L(ve),we=a(ve),ze=o(ve,[{buffer:we,size:4,stride:O,offset:0},{buffer:we,size:3,stride:O,offset:16},{buffer:we,size:3,stride:O,offset:28}]),Ee=a(ve),Se=o(ve,[{buffer:Ee,size:4,stride:20,offset:0},{buffer:Ee,size:1,stride:20,offset:16}]),me=a(ve),fe=o(ve,[{buffer:me,size:2,type:ve.FLOAT}]),le=l(ve,1,N,ve.RGBA,ve.UNSIGNED_BYTE);le.minFilter=ve.LINEAR,le.magFilter=ve.LINEAR;var Te=new q(ve,[0,0],[[0,0,0],[0,0,0]],ke,Ie,we,ze,le,Me,_e,Ee,Se,me,fe,[0,0,0]),Re={levels:[[],[],[]]};for(var De in he)Re[De]=he[De];return Re.colormap=Re.colormap||"jet",Te.update(Re),Te};var s=i(2288),a=i(5827),o=i(2944),l=i(8931),c=i(5306),f=i(9156),g=i(7498),h=i(7382),T=i(5050),x=i(4162),m=i(104),b=i(7437),_=i(5070),w=i(9144),A=i(9054),p=A.createShader,I=A.createContourShader,k=A.createPickShader,L=A.createPickContourShader,O=40,P=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],F=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],j=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function X(he,ve,ke,Ie,Me){this.position=he,this.index=ve,this.uv=ke,this.level=Ie,this.dataCoordinate=Me}!function(){for(var he=0;he<3;++he){var ve=j[he],ke=(he+2)%3;ve[(he+1)%3+0]=1,ve[ke+3]=1,ve[he+6]=1}}();var N=256;function q(he,ve,ke,Ie,Me,_e,we,ze,Ee,Se,me,fe,le,Te,Re){this.gl=he,this.shape=ve,this.bounds=ke,this.objectOffset=Re,this.intensityBounds=[],this._shader=Ie,this._pickShader=Me,this._coordinateBuffer=_e,this._vao=we,this._colorMap=ze,this._contourShader=Ee,this._contourPickShader=Se,this._contourBuffer=me,this._contourVAO=fe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new X([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=le,this._dynamicVAO=Te,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(c.mallocFloat(1024),[0,0]),T(c.mallocFloat(1024),[0,0]),T(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var G=q.prototype;G.genColormap=function(he,ve){var ke=!1,Ie=h([f({colormap:he,nshades:N,format:"rgba"}).map(function(Me,_e){var we=ve?function(ze,Ee){if(!Ee||!Ee.length)return 1;for(var Se=0;Se<Ee.length;++Se){if(Ee.length<2)return 1;if(Ee[Se][0]===ze)return Ee[Se][1];if(Ee[Se][0]>ze&&Se>0){var me=(Ee[Se][0]-ze)/(Ee[Se][0]-Ee[Se-1][0]);return Ee[Se][1]*(1-me)+me*Ee[Se-1][1]}}return 1}(_e/255,ve):Me[3];return we<1&&(ke=!0),[Me[0],Me[1],Me[2],255*we]})]);return g.divseq(Ie,255),this.hasAlphaScale=ke,Ie},G.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},G.isOpaque=function(){return!this.isTransparent()},G.pickSlots=1,G.setPickBase=function(he){this.pickId=he};var H=[0,0,0],Z={showSurface:!1,showContour:!1,projections:[P.slice(),P.slice(),P.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function $(he,ve){var ke,Ie,Me,_e=ve.axes&&ve.axes.lastCubeProps.axis||H,we=ve.showSurface,ze=ve.showContour;for(ke=0;ke<3;++ke)for(we=we||ve.surfaceProject[ke],Ie=0;Ie<3;++Ie)ze=ze||ve.contourProject[ke][Ie];for(ke=0;ke<3;++ke){var Ee=Z.projections[ke];for(Ie=0;Ie<16;++Ie)Ee[Ie]=0;for(Ie=0;Ie<4;++Ie)Ee[5*Ie]=1;Ee[5*ke]=0,Ee[12+ke]=ve.axesBounds[+(_e[ke]>0)][ke],m(Ee,he.model,Ee);var Se=Z.clipBounds[ke];for(Me=0;Me<2;++Me)for(Ie=0;Ie<3;++Ie)Se[Me][Ie]=he.clipBounds[Me][Ie];Se[0][ke]=-1e8,Se[1][ke]=1e8}return Z.showSurface=we,Z.showContour=ze,Z}var se={model:P,view:P,projection:P,inverseModel:P.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},ne=P.slice(),re=[1,0,0,0,1,0,0,0,1];function Q(he,ve){he=he||{};var ke=this.gl;ke.disable(ke.CULL_FACE),this._colorMap.bind(0);var Ie=se;Ie.model=he.model||P,Ie.view=he.view||P,Ie.projection=he.projection||P,Ie.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],Ie.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],Ie.objectOffset=this.objectOffset,Ie.contourColor=this.contourColor[0],Ie.inverseModel=b(Ie.inverseModel,Ie.model);for(var Me=0;Me<2;++Me)for(var _e=Ie.clipBounds[Me],we=0;we<3;++we)_e[we]=Math.min(Math.max(this.clipBounds[Me][we],-1e8),1e8);Ie.kambient=this.ambientLight,Ie.kdiffuse=this.diffuseLight,Ie.kspecular=this.specularLight,Ie.roughness=this.roughness,Ie.fresnel=this.fresnel,Ie.opacity=this.opacity,Ie.height=0,Ie.permutation=re,Ie.vertexColor=this.vertexColor;var ze=ne;for(m(ze,Ie.view,Ie.model),m(ze,Ie.projection,ze),b(ze,ze),Me=0;Me<3;++Me)Ie.eyePosition[Me]=ze[12+Me]/ze[15];var Ee=ze[15];for(Me=0;Me<3;++Me)Ee+=this.lightPosition[Me]*ze[4*Me+3];for(Me=0;Me<3;++Me){var Se=ze[12+Me];for(we=0;we<3;++we)Se+=ze[4*we+Me]*this.lightPosition[we];Ie.lightPosition[Me]=Se/Ee}var me=$(Ie,this);if(me.showSurface){for(this._shader.bind(),this._shader.uniforms=Ie,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ke.TRIANGLES,this._vertexCount),Me=0;Me<3;++Me)this.surfaceProject[Me]&&this.vertexCount&&(this._shader.uniforms.model=me.projections[Me],this._shader.uniforms.clipBounds=me.clipBounds[Me],this._vao.draw(ke.TRIANGLES,this._vertexCount));this._vao.unbind()}if(me.showContour){var fe=this._contourShader;Ie.kambient=1,Ie.kdiffuse=0,Ie.kspecular=0,Ie.opacity=1,fe.bind(),fe.uniforms=Ie;var le=this._contourVAO;for(le.bind(),Me=0;Me<3;++Me)for(fe.uniforms.permutation=j[Me],ke.lineWidth(this.contourWidth[Me]*this.pixelRatio),we=0;we<this.contourLevels[Me].length;++we)we===this.highlightLevel[Me]?(fe.uniforms.contourColor=this.highlightColor[Me],fe.uniforms.contourTint=this.highlightTint[Me]):0!==we&&we-1!==this.highlightLevel[Me]||(fe.uniforms.contourColor=this.contourColor[Me],fe.uniforms.contourTint=this.contourTint[Me]),this._contourCounts[Me][we]&&(fe.uniforms.height=this.contourLevels[Me][we],le.draw(ke.LINES,this._contourCounts[Me][we],this._contourOffsets[Me][we]));for(Me=0;Me<3;++Me)for(fe.uniforms.model=me.projections[Me],fe.uniforms.clipBounds=me.clipBounds[Me],we=0;we<3;++we)if(this.contourProject[Me][we]){fe.uniforms.permutation=j[we],ke.lineWidth(this.contourWidth[we]*this.pixelRatio);for(var Te=0;Te<this.contourLevels[we].length;++Te)Te===this.highlightLevel[we]?(fe.uniforms.contourColor=this.highlightColor[we],fe.uniforms.contourTint=this.highlightTint[we]):0!==Te&&Te-1!==this.highlightLevel[we]||(fe.uniforms.contourColor=this.contourColor[we],fe.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][Te]&&(fe.uniforms.height=this.contourLevels[we][Te],le.draw(ke.LINES,this._contourCounts[we][Te],this._contourOffsets[we][Te]))}for(le.unbind(),(le=this._dynamicVAO).bind(),Me=0;Me<3;++Me)if(0!==this._dynamicCounts[Me])for(fe.uniforms.model=Ie.model,fe.uniforms.clipBounds=Ie.clipBounds,fe.uniforms.permutation=j[Me],ke.lineWidth(this.dynamicWidth[Me]*this.pixelRatio),fe.uniforms.contourColor=this.dynamicColor[Me],fe.uniforms.contourTint=this.dynamicTint[Me],fe.uniforms.height=this.dynamicLevel[Me],le.draw(ke.LINES,this._dynamicCounts[Me],this._dynamicOffsets[Me]),we=0;we<3;++we)this.contourProject[we][Me]&&(fe.uniforms.model=me.projections[we],fe.uniforms.clipBounds=me.clipBounds[we],le.draw(ke.LINES,this._dynamicCounts[Me],this._dynamicOffsets[Me]));le.unbind()}}G.draw=function(he){return Q.call(this,he,!1)},G.drawTransparent=function(he){return Q.call(this,he,!0)};var ee={model:P,view:P,projection:P,inverseModel:P,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function oe(he,ve){return Array.isArray(he)?[ve(he[0]),ve(he[1]),ve(he[2])]:[ve(he),ve(he),ve(he)]}function ce(he){return Array.isArray(he)?3===he.length?[he[0],he[1],he[2],1]:[he[0],he[1],he[2],he[3]]:[0,0,0,1]}function ue(he){if(Array.isArray(he)){if(Array.isArray(he))return[ce(he[0]),ce(he[1]),ce(he[2])];var ve=ce(he);return[ve.slice(),ve.slice(),ve.slice()]}}G.drawPick=function(he){he=he||{};var ve=this.gl;ve.disable(ve.CULL_FACE);var ke=ee;ke.model=he.model||P,ke.view=he.view||P,ke.projection=he.projection||P,ke.shape=this._field[2].shape,ke.pickId=this.pickId/255,ke.lowerBound=this.bounds[0],ke.upperBound=this.bounds[1],ke.objectOffset=this.objectOffset,ke.permutation=re;for(var Ie=0;Ie<2;++Ie)for(var Me=ke.clipBounds[Ie],_e=0;_e<3;++_e)Me[_e]=Math.min(Math.max(this.clipBounds[Ie][_e],-1e8),1e8);var we=$(ke,this);if(we.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ke,this._vao.bind(),this._vao.draw(ve.TRIANGLES,this._vertexCount),Ie=0;Ie<3;++Ie)this.surfaceProject[Ie]&&(this._pickShader.uniforms.model=we.projections[Ie],this._pickShader.uniforms.clipBounds=we.clipBounds[Ie],this._vao.draw(ve.TRIANGLES,this._vertexCount));this._vao.unbind()}if(we.showContour){var ze=this._contourPickShader;ze.bind(),ze.uniforms=ke;var Ee=this._contourVAO;for(Ee.bind(),_e=0;_e<3;++_e)for(ve.lineWidth(this.contourWidth[_e]*this.pixelRatio),ze.uniforms.permutation=j[_e],Ie=0;Ie<this.contourLevels[_e].length;++Ie)this._contourCounts[_e][Ie]&&(ze.uniforms.height=this.contourLevels[_e][Ie],Ee.draw(ve.LINES,this._contourCounts[_e][Ie],this._contourOffsets[_e][Ie]));for(Ie=0;Ie<3;++Ie)for(ze.uniforms.model=we.projections[Ie],ze.uniforms.clipBounds=we.clipBounds[Ie],_e=0;_e<3;++_e)if(this.contourProject[Ie][_e]){ze.uniforms.permutation=j[_e],ve.lineWidth(this.contourWidth[_e]*this.pixelRatio);for(var Se=0;Se<this.contourLevels[_e].length;++Se)this._contourCounts[_e][Se]&&(ze.uniforms.height=this.contourLevels[_e][Se],Ee.draw(ve.LINES,this._contourCounts[_e][Se],this._contourOffsets[_e][Se]))}Ee.unbind()}},G.pick=function(he){if(!he||he.id!==this.pickId)return null;var ve=this._field[2].shape,ke=this._pickResult,Ie=ve[0]*(he.value[0]+(he.value[2]>>4)/16)/255,Me=Math.floor(Ie),_e=Ie-Me,we=ve[1]*(he.value[1]+(15&he.value[2])/16)/255,ze=Math.floor(we),Ee=we-ze;Me+=1,ze+=1;var Se=ke.position;Se[0]=Se[1]=Se[2]=0;for(var me=0;me<2;++me)for(var fe=me?_e:1-_e,le=0;le<2;++le)for(var Te=Me+me,Re=ze+le,De=fe*(le?Ee:1-Ee),Ue=0;Ue<3;++Ue)Se[Ue]+=this._field[Ue].get(Te,Re)*De;for(var Ze=this._pickResult.level,xe=0;xe<3;++xe)if(Ze[xe]=_.le(this.contourLevels[xe],Se[xe]),Ze[xe]<0)this.contourLevels[xe].length>0&&(Ze[xe]=0);else if(Ze[xe]<this.contourLevels[xe].length-1){var Ce=this.contourLevels[xe][Ze[xe]+1];Math.abs(this.contourLevels[xe][Ze[xe]]-Se[xe])>Math.abs(Ce-Se[xe])&&(Ze[xe]+=1)}for(ke.index[0]=_e<.5?Me:Me+1,ke.index[1]=Ee<.5?ze:ze+1,ke.uv[0]=Ie/ve[0],ke.uv[1]=we/ve[1],Ue=0;Ue<3;++Ue)ke.dataCoordinate[Ue]=this._field[Ue].get(ke.index[0],ke.index[1]);return ke},G.padField=function(he,ve){var ke=ve.shape.slice(),Ie=he.shape.slice();g.assign(he.lo(1,1).hi(ke[0],ke[1]),ve),g.assign(he.lo(1).hi(ke[0],1),ve.hi(ke[0],1)),g.assign(he.lo(1,Ie[1]-1).hi(ke[0],1),ve.lo(0,ke[1]-1).hi(ke[0],1)),g.assign(he.lo(0,1).hi(1,ke[1]),ve.hi(1)),g.assign(he.lo(Ie[0]-1,1).hi(1,ke[1]),ve.lo(ke[0]-1)),he.set(0,0,ve.get(0,0)),he.set(0,Ie[1]-1,ve.get(0,ke[1]-1)),he.set(Ie[0]-1,0,ve.get(ke[0]-1,0)),he.set(Ie[0]-1,Ie[1]-1,ve.get(ke[0]-1,ke[1]-1))},G.update=function(he){this.objectOffset=(he=he||{}).objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in he&&(this.contourWidth=oe(he.contourWidth,Number)),"showContour"in he&&(this.showContour=oe(he.showContour,Boolean)),"showSurface"in he&&(this.showSurface=!!he.showSurface),"contourTint"in he&&(this.contourTint=oe(he.contourTint,Boolean)),"contourColor"in he&&(this.contourColor=ue(he.contourColor)),"contourProject"in he&&(this.contourProject=oe(he.contourProject,function(gn){return oe(gn,Boolean)})),"surfaceProject"in he&&(this.surfaceProject=he.surfaceProject),"dynamicColor"in he&&(this.dynamicColor=ue(he.dynamicColor)),"dynamicTint"in he&&(this.dynamicTint=oe(he.dynamicTint,Number)),"dynamicWidth"in he&&(this.dynamicWidth=oe(he.dynamicWidth,Number)),"opacity"in he&&(this.opacity=he.opacity),"opacityscale"in he&&(this.opacityscale=he.opacityscale),"colorBounds"in he&&(this.colorBounds=he.colorBounds),"vertexColor"in he&&(this.vertexColor=he.vertexColor?1:0),"colormap"in he&&this._colorMap.setPixels(this.genColormap(he.colormap,this.opacityscale));var ve=he.field||he.coords&&he.coords[2]||null,ke=!1;if(ve||(ve=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in he||"coords"in he){var Ie=(ve.shape[0]+2)*(ve.shape[1]+2);Ie>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(s.nextPow2(Ie))),this._field[2]=T(this._field[2].data,[ve.shape[0]+2,ve.shape[1]+2]),this.padField(this._field[2],ve),this.shape=ve.shape.slice();for(var Me=this.shape,_e=0;_e<2;++_e)this._field[2].size>this._field[_e].data.length&&(c.freeFloat(this._field[_e].data),this._field[_e].data=c.mallocFloat(this._field[2].size)),this._field[_e]=T(this._field[_e].data,[Me[0]+2,Me[1]+2]);if(he.coords){var we=he.coords;if(!Array.isArray(we)||3!==we.length)throw new Error("gl-surface: invalid coordinates for x/y");for(_e=0;_e<2;++_e){var ze=we[_e];for(le=0;le<2;++le)if(ze.shape[le]!==Me[le])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[_e],ze)}}else if(he.ticks){var Ee=he.ticks;if(!Array.isArray(Ee)||2!==Ee.length)throw new Error("gl-surface: invalid ticks");for(_e=0;_e<2;++_e){var Se=Ee[_e];if((Array.isArray(Se)||Se.length)&&(Se=T(Se)),Se.shape[0]!==Me[_e])throw new Error("gl-surface: invalid tick length");var me=T(Se.data,Me);me.stride[_e]=Se.stride[0],me.stride[1^_e]=0,this.padField(this._field[_e],me)}}else{for(_e=0;_e<2;++_e){var fe=[0,0];fe[_e]=1,this._field[_e]=T(this._field[_e].data,[Me[0]+2,Me[1]+2],fe,0)}this._field[0].set(0,0,0);for(var le=0;le<Me[0];++le)this._field[0].set(le+1,0,le);for(this._field[0].set(Me[0]+1,0,Me[0]-1),this._field[1].set(0,0,0),le=0;le<Me[1];++le)this._field[1].set(0,le+1,le);this._field[1].set(0,Me[1]+1,Me[1]-1)}var Te=this._field,Re=T(c.mallocFloat(3*Te[2].size*2),[3,Me[0]+2,Me[1]+2,2]);for(_e=0;_e<3;++_e)w(Re.pick(_e),Te[_e],"mirror");var De=T(c.mallocFloat(3*Te[2].size),[Me[0]+2,Me[1]+2,3]);for(_e=0;_e<Me[0]+2;++_e)for(le=0;le<Me[1]+2;++le){var Ue=Re.get(0,_e,le,0),Ze=Re.get(0,_e,le,1),xe=Re.get(1,_e,le,0),Oe=Re.get(1,_e,le,1),Ce=Re.get(2,_e,le,0),Be=Re.get(2,_e,le,1),qe=xe*Be-Oe*Ce,He=Ce*Ze-Be*Ue,Je=Ue*Oe-Ze*xe,et=Math.sqrt(qe*qe+He*He+Je*Je);et<1e-8?(et=Math.max(Math.abs(qe),Math.abs(He),Math.abs(Je)))<1e-8?(Je=1,He=qe=0,et=1):et=1/et:et=1/Math.sqrt(et),De.set(_e,le,0,qe*et),De.set(_e,le,1,He*et),De.set(_e,le,2,Je*et)}c.free(Re.data);var st=[1/0,1/0,1/0],pt=[-1/0,-1/0,-1/0],ct=1/0,St=-1/0,vt=c.mallocFloat(s.nextPow2((Me[0]-1)*(Me[1]-1)*6*10)),gt=0,Et=0;for(_e=0;_e<Me[0]-1;++_e)e:for(le=0;le<Me[1]-1;++le){for(var Pt=0;Pt<2;++Pt)for(var Ot=0;Ot<2;++Ot)for(var Ht=0;Ht<3;++Ht){var zt=this._field[Ht].get(1+_e+Pt,1+le+Ot);if(isNaN(zt)||!isFinite(zt))continue e}for(Ht=0;Ht<6;++Ht){var nt=_e+F[Ht][0],it=le+F[Ht][1],Ke=this._field[0].get(nt+1,it+1),rt=this._field[1].get(nt+1,it+1);zt=this._field[2].get(nt+1,it+1),qe=De.get(nt+1,it+1,0),He=De.get(nt+1,it+1,1),Je=De.get(nt+1,it+1,2),he.intensity&&(ft=he.intensity.get(nt,it));var ft=he.intensity?he.intensity.get(nt,it):zt+this.objectOffset[2];vt[gt++]=nt,vt[gt++]=it,vt[gt++]=Ke,vt[gt++]=rt,vt[gt++]=zt,vt[gt++]=0,vt[gt++]=ft,vt[gt++]=qe,vt[gt++]=He,vt[gt++]=Je,st[0]=Math.min(st[0],Ke+this.objectOffset[0]),st[1]=Math.min(st[1],rt+this.objectOffset[1]),st[2]=Math.min(st[2],zt+this.objectOffset[2]),ct=Math.min(ct,ft),pt[0]=Math.max(pt[0],Ke+this.objectOffset[0]),pt[1]=Math.max(pt[1],rt+this.objectOffset[1]),pt[2]=Math.max(pt[2],zt+this.objectOffset[2]),St=Math.max(St,ft),Et+=1}}for(he.intensityBounds&&(ct=+he.intensityBounds[0],St=+he.intensityBounds[1]),_e=6;_e<gt;_e+=10)vt[_e]=(vt[_e]-ct)/(St-ct);this._vertexCount=Et,this._coordinateBuffer.update(vt.subarray(0,gt)),c.freeFloat(vt),c.free(De.data),this.bounds=[st,pt],this.intensity=he.intensity||this._field[2],this.intensityBounds[0]===ct&&this.intensityBounds[1]===St||(ke=!0),this.intensityBounds=[ct,St]}if("levels"in he){var ht=he.levels;for(ht=Array.isArray(ht[0])?ht.slice():[[],[],ht],_e=0;_e<3;++_e)ht[_e]=ht[_e].slice(),ht[_e].sort(function(gn,an){return gn-an});for(_e=0;_e<3;++_e)for(le=0;le<ht[_e].length;++le)ht[_e][le]-=this.objectOffset[_e];e:for(_e=0;_e<3;++_e){if(ht[_e].length!==this.contourLevels[_e].length){ke=!0;break}for(le=0;le<ht[_e].length;++le)if(ht[_e][le]!==this.contourLevels[_e][le]){ke=!0;break e}}this.contourLevels=ht}if(ke){Te=this._field,Me=this.shape;for(var Ve=[],Ge=0;Ge<3;++Ge){var ut=this.contourLevels[Ge],dt=[],kt=[],bt=[0,0,0];for(_e=0;_e<ut.length;++_e){var At=x(this._field[Ge],ut[_e]);dt.push(Ve.length/5|0),Et=0;e:for(le=0;le<At.cells.length;++le){var xt=At.cells[le];for(Ht=0;Ht<2;++Ht){var Rt=At.positions[xt[Ht]],_t=Rt[0],Tt=0|Math.floor(_t),It=_t-Tt,Wt=Rt[1],Zt=0|Math.floor(Wt),$t=Wt-Zt,dn=!1;t:for(var nn=0;nn<3;++nn){bt[nn]=0;var cn=(Ge+nn+1)%3;for(Pt=0;Pt<2;++Pt){var rn=Pt?It:1-It;for(nt=0|Math.min(Math.max(Tt+Pt,0),Me[0]),Ot=0;Ot<2;++Ot){var En=Ot?$t:1-$t;if(it=0|Math.min(Math.max(Zt+Ot,0),Me[1]),zt=nn<2?this._field[cn].get(nt,it):(this.intensity.get(nt,it)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(zt)||isNaN(zt)){dn=!0;break t}bt[nn]+=rn*En*zt}}}if(dn){if(Ht>0){for(var Mn=0;Mn<5;++Mn)Ve.pop();Et-=1}continue e}Ve.push(bt[0],bt[1],Rt[0],Rt[1],bt[2]),Et+=1}}kt.push(Et)}this._contourOffsets[Ge]=dt,this._contourCounts[Ge]=kt}var en=c.mallocFloat(Ve.length);for(_e=0;_e<Ve.length;++_e)en[_e]=Ve[_e];this._contourBuffer.update(en),c.freeFloat(en)}},G.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var he=0;he<3;++he)c.freeFloat(this._field[he].data)},G.highlight=function(he){var ve,ke;if(!he)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ve=0;ve<3;++ve)this.highlightLevel[ve]=this.enableHighlight[ve]?he.level[ve]:-1;for(ke=this.snapToData?he.dataCoordinate:he.position,ve=0;ve<3;++ve)ke[ve]-=this.objectOffset[ve];if(this.enableDynamic[0]&&ke[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&ke[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&ke[2]!==this.dynamicLevel[2]){for(var Ie=0,Me=this.shape,_e=c.mallocFloat(12*Me[0]*Me[1]),we=0;we<3;++we)if(this.enableDynamic[we]){this.dynamicLevel[we]=ke[we];var me=this._field[(we+1)%3],fe=this._field[(we+2)%3],le=x(this._field[we],ke[we]),Te=le.cells,Re=le.positions;for(this._dynamicOffsets[we]=Ie,ve=0;ve<Te.length;++ve)for(var De=Te[ve],Ue=0;Ue<2;++Ue){var Ze=Re[De[Ue]],xe=+Ze[0],Oe=0|xe,Ce=0|Math.min(Oe+1,Me[0]),Be=xe-Oe,qe=1-Be,He=+Ze[1],Je=0|He,et=0|Math.min(Je+1,Me[1]),st=He-Je,pt=1-st,ct=qe*pt,St=qe*st,Dt=Be*pt,vt=Be*st,gt=ct*me.get(Oe,Je)+St*me.get(Oe,et)+Dt*me.get(Ce,Je)+vt*me.get(Ce,et),Et=ct*fe.get(Oe,Je)+St*fe.get(Oe,et)+Dt*fe.get(Ce,Je)+vt*fe.get(Ce,et);if(isNaN(gt)||isNaN(Et)){Ue&&(Ie-=1);break}_e[2*Ie+0]=gt,_e[2*Ie+1]=Et,Ie+=1}this._dynamicCounts[we]=Ie-this._dynamicOffsets[we]}else this.dynamicLevel[we]=NaN,this._dynamicCounts[we]=0;this._dynamicBuffer.update(_e.subarray(0,2*Ie)),c.freeFloat(_e)}}},8931:function(v,u,i){"use strict";var s=i(5050),a=i(7498),o=i(5306);v.exports=function(A){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||(l=[(k=A).LINEAR,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_NEAREST],c=[k.NEAREST,k.LINEAR,k.NEAREST_MIPMAP_NEAREST,k.NEAREST_MIPMAP_LINEAR,k.LINEAR_MIPMAP_NEAREST,k.LINEAR_MIPMAP_LINEAR],f=[k.REPEAT,k.CLAMP_TO_EDGE,k.MIRRORED_REPEAT]),"number"==typeof arguments[1])return w(A,arguments[1],arguments[2],arguments[3]||A.RGBA,arguments[4]||A.UNSIGNED_BYTE);var k;if(Array.isArray(arguments[1]))return w(A,0|arguments[1][0],0|arguments[1][1],arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var p=arguments[1],I=g(p)?p:p.raw;if(I)return function(k,L,O,P,F,j){var X=_(k);return k.texImage2D(k.TEXTURE_2D,0,F,F,j,L),new x(k,X,O,P,F,j)}(A,I,0|p.width,0|p.height,arguments[2]||A.RGBA,arguments[3]||A.UNSIGNED_BYTE);if(p.shape&&p.data&&p.stride)return function(k,L){var O=L.dtype,P=L.shape.slice(),F=k.getParameter(k.MAX_TEXTURE_SIZE);if(P[0]<0||P[0]>F||P[1]<0||P[1]>F)throw new Error("gl-texture2d: Invalid texture size");var j=b(P,L.stride.slice()),X=0;"float32"===O?X=k.FLOAT:"float64"===O?(X=k.FLOAT,j=!1,O="float32"):"uint8"===O?X=k.UNSIGNED_BYTE:(X=k.UNSIGNED_BYTE,j=!1,O="uint8");var N,q,G=0;if(2===P.length)G=k.LUMINANCE,L=s(L.data,P=[P[0],P[1],1],[L.stride[0],L.stride[1],1],L.offset);else{if(3!==P.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===P[2])G=k.ALPHA;else if(2===P[2])G=k.LUMINANCE_ALPHA;else if(3===P[2])G=k.RGB;else{if(4!==P[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");G=k.RGBA}}X!==k.FLOAT||k.getExtension("OES_texture_float")||(X=k.UNSIGNED_BYTE,j=!1);var H=L.size;if(j)N=0===L.offset&&L.data.length===H?L.data:L.data.subarray(L.offset,L.offset+H);else{var Z=[P[2],P[2]*P[0],1];q=o.malloc(H,O);var $=s(q,P,Z,0);"float32"!==O&&"float64"!==O||X!==k.UNSIGNED_BYTE?a.assign($,L):h($,L),N=q.subarray(0,H)}var se=_(k);return k.texImage2D(k.TEXTURE_2D,0,G,P[0],P[1],0,G,X,N),j||o.free(q),new x(k,se,P[0],P[1],G,X)}(A,p)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var l=null,c=null,f=null;function g(A){return typeof HTMLCanvasElement<"u"&&A instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&A instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&A instanceof HTMLVideoElement||typeof ImageData<"u"&&A instanceof ImageData}var h=function(A,p){a.muls(A,p,255)};function T(A,p,I){var k=A.gl,L=k.getParameter(k.MAX_TEXTURE_SIZE);if(p<0||p>L||I<0||I>L)throw new Error("gl-texture2d: Invalid texture size");return A._shape=[p,I],A.bind(),k.texImage2D(k.TEXTURE_2D,0,A.format,p,I,0,A.format,A.type,null),A._mipLevels=[0],A}function x(A,p,I,k,L,O){this.gl=A,this.handle=p,this.format=L,this.type=O,this._shape=[I,k],this._mipLevels=[0],this._magFilter=A.NEAREST,this._minFilter=A.NEAREST,this._wrapS=A.CLAMP_TO_EDGE,this._wrapT=A.CLAMP_TO_EDGE,this._anisoSamples=1;var P=this,F=[this._wrapS,this._wrapT];Object.defineProperties(F,[{get:function(){return P._wrapS},set:function(X){return P.wrapS=X}},{get:function(){return P._wrapT},set:function(X){return P.wrapT=X}}]),this._wrapVector=F;var j=[this._shape[0],this._shape[1]];Object.defineProperties(j,[{get:function(){return P._shape[0]},set:function(X){return P.width=X}},{get:function(){return P._shape[1]},set:function(X){return P.height=X}}]),this._shapeVector=j}var m=x.prototype;function b(A,p){return 3===A.length?1===p[2]&&p[1]===A[0]*A[2]&&p[0]===A[2]:1===p[0]&&p[1]===A[0]}function _(A){var p=A.createTexture();return A.bindTexture(A.TEXTURE_2D,p),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),p}function w(A,p,I,k,L){var O=A.getParameter(A.MAX_TEXTURE_SIZE);if(p<0||p>O||I<0||I>O)throw new Error("gl-texture2d: Invalid texture shape");if(L===A.FLOAT&&!A.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var P=_(A);return A.texImage2D(A.TEXTURE_2D,0,k,p,I,0,k,L,null),new x(A,P,p,I,k,L)}Object.defineProperties(m,{minFilter:{get:function(){return this._minFilter},set:function(A){this.bind();var p=this.gl;if(this.type===p.FLOAT&&l.indexOf(A)>=0&&(p.getExtension("OES_texture_float_linear")||(A=p.NEAREST)),c.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,A),this._minFilter=A}},magFilter:{get:function(){return this._magFilter},set:function(A){this.bind();var p=this.gl;if(this.type===p.FLOAT&&l.indexOf(A)>=0&&(p.getExtension("OES_texture_float_linear")||(A=p.NEAREST)),c.indexOf(A)<0)throw new Error("gl-texture2d: Unknown filter mode "+A);return p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,A),this._magFilter=A}},mipSamples:{get:function(){return this._anisoSamples},set:function(A){var p=this._anisoSamples;if(this._anisoSamples=0|Math.max(A,1),p!==this._anisoSamples){var I=this.gl.getExtension("EXT_texture_filter_anisotropic");I&&this.gl.texParameterf(this.gl.TEXTURE_2D,I.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(A){if(this.bind(),f.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,A),this._wrapS=A}},wrapT:{get:function(){return this._wrapT},set:function(A){if(this.bind(),f.indexOf(A)<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,A),this._wrapT=A}},wrap:{get:function(){return this._wrapVector},set:function(A){if(Array.isArray(A)||(A=[A,A]),2!==A.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var p=0;p<2;++p)if(f.indexOf(A[p])<0)throw new Error("gl-texture2d: Unknown wrap mode "+A);this._wrapS=A[0],this._wrapT=A[1];var I=this.gl;return this.bind(),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,this._wrapS),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,this._wrapT),A}},shape:{get:function(){return this._shapeVector},set:function(A){if(Array.isArray(A)){if(2!==A.length)throw new Error("gl-texture2d: Invalid texture shape")}else A=[0|A,0|A];return T(this,0|A[0],0|A[1]),[0|A[0],0|A[1]]}},width:{get:function(){return this._shape[0]},set:function(A){return T(this,A|=0,this._shape[1]),A}},height:{get:function(){return this._shape[1]},set:function(A){return T(this,this._shape[0],A|=0),A}}}),m.bind=function(A){var p=this.gl;return void 0!==A&&p.activeTexture(p.TEXTURE0+(0|A)),p.bindTexture(p.TEXTURE_2D,this.handle),void 0!==A?0|A:p.getParameter(p.ACTIVE_TEXTURE)-p.TEXTURE0},m.dispose=function(){this.gl.deleteTexture(this.handle)},m.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var A=Math.min(this._shape[0],this._shape[1]),p=0;A>0;++p,A>>>=1)this._mipLevels.indexOf(p)<0&&this._mipLevels.push(p)},m.setPixels=function(A,p,I,k){var L=this.gl;this.bind(),Array.isArray(p)?(k=I,I=0|p[1],p=0|p[0]):(p=p||0,I=I||0),k=k||0;var O=g(A)?A:A.raw;if(O)this._mipLevels.indexOf(k)<0?(L.texImage2D(L.TEXTURE_2D,0,this.format,this.format,this.type,O),this._mipLevels.push(k)):L.texSubImage2D(L.TEXTURE_2D,k,p,I,this.format,this.type,O);else{if(!(A.shape&&A.stride&&A.data))throw new Error("gl-texture2d: Unsupported data type");if(A.shape.length<2||p+A.shape[1]>this._shape[1]>>>k||I+A.shape[0]>this._shape[0]>>>k||p<0||I<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(P,F,j,X,N,q,G,H){var Z=H.dtype,$=H.shape.slice();if($.length<2||$.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var se=0,ne=0,re=b($,H.stride.slice());if("float32"===Z?se=P.FLOAT:"float64"===Z?(se=P.FLOAT,re=!1,Z="float32"):"uint8"===Z?se=P.UNSIGNED_BYTE:(se=P.UNSIGNED_BYTE,re=!1,Z="uint8"),2===$.length)ne=P.LUMINANCE,H=s(H.data,$=[$[0],$[1],1],[H.stride[0],H.stride[1],1],H.offset);else{if(3!==$.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===$[2])ne=P.ALPHA;else if(2===$[2])ne=P.LUMINANCE_ALPHA;else if(3===$[2])ne=P.RGB;else{if(4!==$[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");ne=P.RGBA}}if(ne!==P.LUMINANCE&&ne!==P.ALPHA||N!==P.LUMINANCE&&N!==P.ALPHA||(ne=N),ne!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Q=H.size,ee=G.indexOf(X)<0;if(ee&&G.push(X),se===q&&re)0===H.offset&&H.data.length===Q?ee?P.texImage2D(P.TEXTURE_2D,X,N,$[0],$[1],0,N,q,H.data):P.texSubImage2D(P.TEXTURE_2D,X,F,j,$[0],$[1],N,q,H.data):ee?P.texImage2D(P.TEXTURE_2D,X,N,$[0],$[1],0,N,q,H.data.subarray(H.offset,H.offset+Q)):P.texSubImage2D(P.TEXTURE_2D,X,F,j,$[0],$[1],N,q,H.data.subarray(H.offset,H.offset+Q));else{var oe;oe=q===P.FLOAT?o.mallocFloat32(Q):o.mallocUint8(Q);var ce=s(oe,$,[$[2],$[2]*$[0],1]);se===P.FLOAT&&q===P.UNSIGNED_BYTE?h(ce,H):a.assign(ce,H),ee?P.texImage2D(P.TEXTURE_2D,X,N,$[0],$[1],0,N,q,oe.subarray(0,Q)):P.texSubImage2D(P.TEXTURE_2D,X,F,j,$[0],$[1],N,q,oe.subarray(0,Q)),q===P.FLOAT?o.freeFloat32(oe):o.freeUint8(oe)}}(L,p,I,k,this.format,this.type,this._mipLevels,A)}}},3056:function(v){"use strict";v.exports=function(u,i,s){i?i.bind():u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,null);var a=0|u.getParameter(u.MAX_VERTEX_ATTRIBS);if(s){if(s.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var o=0;o<s.length;++o){var l=s[o];if(l.buffer){var f=l.size||4,g=l.type||u.FLOAT,h=!!l.normalized,T=l.stride||0,x=l.offset||0;l.buffer.bind(),u.enableVertexAttribArray(o),u.vertexAttribPointer(o,f,g,h,T,x)}else{if("number"==typeof l)u.vertexAttrib1f(o,l);else if(1===l.length)u.vertexAttrib1f(o,l[0]);else if(2===l.length)u.vertexAttrib2f(o,l[0],l[1]);else if(3===l.length)u.vertexAttrib3f(o,l[0],l[1],l[2]);else{if(4!==l.length)throw new Error("gl-vao: Invalid vertex attribute");u.vertexAttrib4f(o,l[0],l[1],l[2],l[3])}u.disableVertexAttribArray(o)}}for(;o<a;++o)u.disableVertexAttribArray(o)}else for(u.bindBuffer(u.ARRAY_BUFFER,null),o=0;o<a;++o)u.disableVertexAttribArray(o)}},7220:function(v,u,i){"use strict";var s=i(3056);function a(o){this.gl=o,this._elements=null,this._attributes=null,this._elementsType=o.UNSIGNED_SHORT}a.prototype.bind=function(){s(this.gl,this._elements,this._attributes)},a.prototype.update=function(o,l,c){this._elements=l,this._attributes=o,this._elementsType=c||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(o,l,c){c=c||0;var f=this.gl;this._elements?f.drawElements(o,l,this._elementsType,c):f.drawArrays(o,c,l)},v.exports=function(o){return new a(o)}},3778:function(v,u,i){"use strict";var s=i(3056);function a(l,c,f,g,h,T){this.location=l,this.dimension=c,this.a=f,this.b=g,this.c=h,this.d=T}function o(l,c,f){this.gl=l,this._ext=c,this.handle=f,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}a.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(l,c,f){if(this.bind(),s(this.gl,c,l),this.unbind(),this._attribs.length=0,l)for(var g=0;g<l.length;++g){var h=l[g];"number"==typeof h?this._attribs.push(new a(g,1,h)):Array.isArray(h)&&this._attribs.push(new a(g,h.length,h[0],h[1],h[2],h[3]))}this._useElements=!!c,this._elementsType=f||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(l,c,f){f=f||0;var g=this.gl;this._useElements?g.drawElements(l,c,this._elementsType,f):g.drawArrays(l,f,c)},v.exports=function(l,c){return new o(l,c,c.createVertexArrayOES())}},2944:function(v,u,i){"use strict";var s=i(3778),a=i(7220);function o(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}v.exports=function(l,c,f,g){var h,T=l.createVertexArray?new o(l):l.getExtension("OES_vertex_array_object");return(h=T?s(l,T):a(l)).update(c,f,g),h}},2598:function(v){v.exports=function(u,i,s){return u[0]=i[0]+s[0],u[1]=i[1]+s[1],u[2]=i[2]+s[2],u}},5879:function(v,u,i){v.exports=function(l,c){var f=s(l[0],l[1],l[2]),g=s(c[0],c[1],c[2]);a(f,f),a(g,g);var h=o(f,g);return h>1?0:Math.acos(h)};var s=i(5415),a=i(899),o=i(9305)},8827:function(v){v.exports=function(u,i){return u[0]=Math.ceil(i[0]),u[1]=Math.ceil(i[1]),u[2]=Math.ceil(i[2]),u}},7622:function(v){v.exports=function(u){var i=new Float32Array(3);return i[0]=u[0],i[1]=u[1],i[2]=u[2],i}},8782:function(v){v.exports=function(u,i){return u[0]=i[0],u[1]=i[1],u[2]=i[2],u}},8501:function(v){v.exports=function(){var u=new Float32Array(3);return u[0]=0,u[1]=0,u[2]=0,u}},903:function(v){v.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=s[0],f=s[1],g=s[2];return u[0]=o*g-l*f,u[1]=l*c-a*g,u[2]=a*f-o*c,u}},5981:function(v,u,i){v.exports=i(8288)},8288:function(v){v.exports=function(u,i){var s=i[0]-u[0],a=i[1]-u[1],o=i[2]-u[2];return Math.sqrt(s*s+a*a+o*o)}},8629:function(v,u,i){v.exports=i(7979)},7979:function(v){v.exports=function(u,i,s){return u[0]=i[0]/s[0],u[1]=i[1]/s[1],u[2]=i[2]/s[2],u}},9305:function(v){v.exports=function(u,i){return u[0]*i[0]+u[1]*i[1]+u[2]*i[2]}},154:function(v){v.exports=1e-6},4932:function(v,u,i){v.exports=function(a,o){var l=a[0],c=a[1],f=a[2],g=o[0],h=o[1],T=o[2];return Math.abs(l-g)<=s*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-h)<=s*Math.max(1,Math.abs(c),Math.abs(h))&&Math.abs(f-T)<=s*Math.max(1,Math.abs(f),Math.abs(T))};var s=i(154)},5777:function(v){v.exports=function(u,i){return u[0]===i[0]&&u[1]===i[1]&&u[2]===i[2]}},3306:function(v){v.exports=function(u,i){return u[0]=Math.floor(i[0]),u[1]=Math.floor(i[1]),u[2]=Math.floor(i[2]),u}},7447:function(v,u,i){v.exports=function(a,o,l,c,f,g){var h,T;for(o||(o=3),l||(l=0),T=c?Math.min(c*o+l,a.length):a.length,h=l;h<T;h+=o)s[0]=a[h],s[1]=a[h+1],s[2]=a[h+2],f(s,s,g),a[h]=s[0],a[h+1]=s[1],a[h+2]=s[2];return a};var s=i(8501)()},5415:function(v){v.exports=function(u,i,s){var a=new Float32Array(3);return a[0]=u,a[1]=i,a[2]=s,a}},2858:function(v,u,i){v.exports={EPSILON:i(154),create:i(8501),clone:i(7622),angle:i(5879),fromValues:i(5415),copy:i(8782),set:i(831),equals:i(4932),exactEquals:i(5777),add:i(2598),subtract:i(911),sub:i(8921),multiply:i(105),mul:i(5733),divide:i(7979),div:i(8629),min:i(3605),max:i(1716),floor:i(3306),ceil:i(8827),round:i(1624),scale:i(5685),scaleAndAdd:i(6722),distance:i(8288),dist:i(5981),squaredDistance:i(6403),sqrDist:i(5294),length:i(4693),len:i(1468),squaredLength:i(4337),sqrLen:i(3303),negate:i(435),inverse:i(2073),normalize:i(899),dot:i(9305),cross:i(903),lerp:i(1868),random:i(6660),transformMat4:i(3255),transformMat3:i(9908),transformQuat:i(6568),rotateX:i(392),rotateY:i(3222),rotateZ:i(3388),forEach:i(7447)}},2073:function(v){v.exports=function(u,i){return u[0]=1/i[0],u[1]=1/i[1],u[2]=1/i[2],u}},1468:function(v,u,i){v.exports=i(4693)},4693:function(v){v.exports=function(u){var i=u[0],s=u[1],a=u[2];return Math.sqrt(i*i+s*s+a*a)}},1868:function(v){v.exports=function(u,i,s,a){var o=i[0],l=i[1],c=i[2];return u[0]=o+a*(s[0]-o),u[1]=l+a*(s[1]-l),u[2]=c+a*(s[2]-c),u}},1716:function(v){v.exports=function(u,i,s){return u[0]=Math.max(i[0],s[0]),u[1]=Math.max(i[1],s[1]),u[2]=Math.max(i[2],s[2]),u}},3605:function(v){v.exports=function(u,i,s){return u[0]=Math.min(i[0],s[0]),u[1]=Math.min(i[1],s[1]),u[2]=Math.min(i[2],s[2]),u}},5733:function(v,u,i){v.exports=i(105)},105:function(v){v.exports=function(u,i,s){return u[0]=i[0]*s[0],u[1]=i[1]*s[1],u[2]=i[2]*s[2],u}},435:function(v){v.exports=function(u,i){return u[0]=-i[0],u[1]=-i[1],u[2]=-i[2],u}},899:function(v){v.exports=function(u,i){var s=i[0],a=i[1],o=i[2],l=s*s+a*a+o*o;return l>0&&(l=1/Math.sqrt(l),u[0]=i[0]*l,u[1]=i[1]*l,u[2]=i[2]*l),u}},6660:function(v){v.exports=function(u,i){i=i||1;var s=2*Math.random()*Math.PI,a=2*Math.random()-1,o=Math.sqrt(1-a*a)*i;return u[0]=Math.cos(s)*o,u[1]=Math.sin(s)*o,u[2]=a*i,u}},392:function(v){v.exports=function(u,i,s,a){var o=s[1],l=s[2],c=i[1]-o,f=i[2]-l,g=Math.sin(a),h=Math.cos(a);return u[0]=i[0],u[1]=o+c*h-f*g,u[2]=l+c*g+f*h,u}},3222:function(v){v.exports=function(u,i,s,a){var o=s[0],l=s[2],c=i[0]-o,f=i[2]-l,g=Math.sin(a),h=Math.cos(a);return u[0]=o+f*g+c*h,u[1]=i[1],u[2]=l+f*h-c*g,u}},3388:function(v){v.exports=function(u,i,s,a){var o=s[0],l=s[1],c=i[0]-o,f=i[1]-l,g=Math.sin(a),h=Math.cos(a);return u[0]=o+c*h-f*g,u[1]=l+c*g+f*h,u[2]=i[2],u}},1624:function(v){v.exports=function(u,i){return u[0]=Math.round(i[0]),u[1]=Math.round(i[1]),u[2]=Math.round(i[2]),u}},5685:function(v){v.exports=function(u,i,s){return u[0]=i[0]*s,u[1]=i[1]*s,u[2]=i[2]*s,u}},6722:function(v){v.exports=function(u,i,s,a){return u[0]=i[0]+s[0]*a,u[1]=i[1]+s[1]*a,u[2]=i[2]+s[2]*a,u}},831:function(v){v.exports=function(u,i,s,a){return u[0]=i,u[1]=s,u[2]=a,u}},5294:function(v,u,i){v.exports=i(6403)},3303:function(v,u,i){v.exports=i(4337)},6403:function(v){v.exports=function(u,i){var s=i[0]-u[0],a=i[1]-u[1],o=i[2]-u[2];return s*s+a*a+o*o}},4337:function(v){v.exports=function(u){var i=u[0],s=u[1],a=u[2];return i*i+s*s+a*a}},8921:function(v,u,i){v.exports=i(911)},911:function(v){v.exports=function(u,i,s){return u[0]=i[0]-s[0],u[1]=i[1]-s[1],u[2]=i[2]-s[2],u}},9908:function(v){v.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2];return u[0]=a*s[0]+o*s[3]+l*s[6],u[1]=a*s[1]+o*s[4]+l*s[7],u[2]=a*s[2]+o*s[5]+l*s[8],u}},3255:function(v){v.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=s[3]*a+s[7]*o+s[11]*l+s[15];return u[0]=(s[0]*a+s[4]*o+s[8]*l+s[12])/(c=c||1),u[1]=(s[1]*a+s[5]*o+s[9]*l+s[13])/c,u[2]=(s[2]*a+s[6]*o+s[10]*l+s[14])/c,u}},6568:function(v){v.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=s[0],f=s[1],g=s[2],h=s[3],T=h*a+f*l-g*o,x=h*o+g*a-c*l,m=h*l+c*o-f*a,b=-c*a-f*o-g*l;return u[0]=T*h+b*-c+x*-g-m*-f,u[1]=x*h+b*-f+m*-c-T*-g,u[2]=m*h+b*-g+T*-f-x*-c,u}},3433:function(v){v.exports=function(u,i,s){return u[0]=i[0]+s[0],u[1]=i[1]+s[1],u[2]=i[2]+s[2],u[3]=i[3]+s[3],u}},1413:function(v){v.exports=function(u){var i=new Float32Array(4);return i[0]=u[0],i[1]=u[1],i[2]=u[2],i[3]=u[3],i}},3470:function(v){v.exports=function(u,i){return u[0]=i[0],u[1]=i[1],u[2]=i[2],u[3]=i[3],u}},5313:function(v){v.exports=function(){var u=new Float32Array(4);return u[0]=0,u[1]=0,u[2]=0,u[3]=0,u}},5446:function(v){v.exports=function(u,i){var s=i[0]-u[0],a=i[1]-u[1],o=i[2]-u[2],l=i[3]-u[3];return Math.sqrt(s*s+a*a+o*o+l*l)}},205:function(v){v.exports=function(u,i,s){return u[0]=i[0]/s[0],u[1]=i[1]/s[1],u[2]=i[2]/s[2],u[3]=i[3]/s[3],u}},4242:function(v){v.exports=function(u,i){return u[0]*i[0]+u[1]*i[1]+u[2]*i[2]+u[3]*i[3]}},5680:function(v){v.exports=function(u,i,s,a){var o=new Float32Array(4);return o[0]=u,o[1]=i,o[2]=s,o[3]=a,o}},4020:function(v,u,i){v.exports={create:i(5313),clone:i(1413),fromValues:i(5680),copy:i(3470),set:i(6453),add:i(3433),subtract:i(2705),multiply:i(746),divide:i(205),min:i(2170),max:i(3030),scale:i(5510),scaleAndAdd:i(4224),distance:i(5446),squaredDistance:i(1542),length:i(8177),squaredLength:i(9037),negate:i(6459),inverse:i(8057),normalize:i(381),dot:i(4242),lerp:i(8746),random:i(3770),transformMat4:i(6342),transformQuat:i(5022)}},8057:function(v){v.exports=function(u,i){return u[0]=1/i[0],u[1]=1/i[1],u[2]=1/i[2],u[3]=1/i[3],u}},8177:function(v){v.exports=function(u){var i=u[0],s=u[1],a=u[2],o=u[3];return Math.sqrt(i*i+s*s+a*a+o*o)}},8746:function(v){v.exports=function(u,i,s,a){var o=i[0],l=i[1],c=i[2],f=i[3];return u[0]=o+a*(s[0]-o),u[1]=l+a*(s[1]-l),u[2]=c+a*(s[2]-c),u[3]=f+a*(s[3]-f),u}},3030:function(v){v.exports=function(u,i,s){return u[0]=Math.max(i[0],s[0]),u[1]=Math.max(i[1],s[1]),u[2]=Math.max(i[2],s[2]),u[3]=Math.max(i[3],s[3]),u}},2170:function(v){v.exports=function(u,i,s){return u[0]=Math.min(i[0],s[0]),u[1]=Math.min(i[1],s[1]),u[2]=Math.min(i[2],s[2]),u[3]=Math.min(i[3],s[3]),u}},746:function(v){v.exports=function(u,i,s){return u[0]=i[0]*s[0],u[1]=i[1]*s[1],u[2]=i[2]*s[2],u[3]=i[3]*s[3],u}},6459:function(v){v.exports=function(u,i){return u[0]=-i[0],u[1]=-i[1],u[2]=-i[2],u[3]=-i[3],u}},381:function(v){v.exports=function(u,i){var s=i[0],a=i[1],o=i[2],l=i[3],c=s*s+a*a+o*o+l*l;return c>0&&(c=1/Math.sqrt(c),u[0]=s*c,u[1]=a*c,u[2]=o*c,u[3]=l*c),u}},3770:function(v,u,i){var s=i(381),a=i(5510);v.exports=function(o,l){return l=l||1,o[0]=Math.random(),o[1]=Math.random(),o[2]=Math.random(),o[3]=Math.random(),s(o,o),a(o,o,l),o}},5510:function(v){v.exports=function(u,i,s){return u[0]=i[0]*s,u[1]=i[1]*s,u[2]=i[2]*s,u[3]=i[3]*s,u}},4224:function(v){v.exports=function(u,i,s,a){return u[0]=i[0]+s[0]*a,u[1]=i[1]+s[1]*a,u[2]=i[2]+s[2]*a,u[3]=i[3]+s[3]*a,u}},6453:function(v){v.exports=function(u,i,s,a,o){return u[0]=i,u[1]=s,u[2]=a,u[3]=o,u}},1542:function(v){v.exports=function(u,i){var s=i[0]-u[0],a=i[1]-u[1],o=i[2]-u[2],l=i[3]-u[3];return s*s+a*a+o*o+l*l}},9037:function(v){v.exports=function(u){var i=u[0],s=u[1],a=u[2],o=u[3];return i*i+s*s+a*a+o*o}},2705:function(v){v.exports=function(u,i,s){return u[0]=i[0]-s[0],u[1]=i[1]-s[1],u[2]=i[2]-s[2],u[3]=i[3]-s[3],u}},6342:function(v){v.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=i[3];return u[0]=s[0]*a+s[4]*o+s[8]*l+s[12]*c,u[1]=s[1]*a+s[5]*o+s[9]*l+s[13]*c,u[2]=s[2]*a+s[6]*o+s[10]*l+s[14]*c,u[3]=s[3]*a+s[7]*o+s[11]*l+s[15]*c,u}},5022:function(v){v.exports=function(u,i,s){var a=i[0],o=i[1],l=i[2],c=s[0],f=s[1],g=s[2],h=s[3],T=h*a+f*l-g*o,x=h*o+g*a-c*l,m=h*l+c*o-f*a,b=-c*a-f*o-g*l;return u[0]=T*h+b*-c+x*-g-m*-f,u[1]=x*h+b*-f+m*-c-T*-g,u[2]=m*h+b*-g+T*-f-x*-c,u[3]=i[3],u}},9365:function(v,u,i){var s=i(8096),a=i(7896);v.exports=function(o){for(var l=Array.isArray(o)?o:s(o),c=0;c<l.length;c++){var f=l[c];if("preprocessor"===f.type){var g=f.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(g&&g[2]){var T=g[2];return(g[1]?a(T):T).trim()}}}}},3193:function(v,u,i){v.exports=function(P){var F,j,X,N=0,q=0,G=f,H=[],Z=[],$=1,se=0,ne=0,re=!1,Q=!1,ee="",oe=o,ce=s;"300 es"===(P=P||{}).version&&(oe=c,ce=l);var ue={},he={};for(N=0;N<oe.length;N++)ue[oe[N]]=!0;for(N=0;N<ce.length;N++)he[ce[N]]=!0;return function(le){return Z=[],null!==le?function(Te){var Re;for(N=0,Te.toString&&(Te=Te.toString()),ee+=Te.replace(/\r\n/g,"\n"),X=ee.length;F=ee[N],N<X;){switch(Re=N,G){case h:N="/"===F&&"*"===j?(H.push(F),ve(H.join("")),G=f,N+1):(H.push(F),j=F,N+1);break;case T:case x:N="\r"!==F&&"\n"!==F||"\\"===j?(H.push(F),j=F,N+1):(ve(H.join("")),G=f,N);break;case m:N=we();break;case b:N="."===F||/[eE]/.test(F)?(H.push(F),G=_,j=F,N+1):"x"===F&&1===H.length&&"0"===H[0]?(G=L,H.push(F),j=F,N+1):/[^\d]/.test(F)?(ve(H.join("")),G=f,N):(H.push(F),j=F,N+1);break;case L:N=/[^a-fA-F0-9]/.test(F)?(ve(H.join("")),G=f,N):(H.push(F),j=F,N+1);break;case _:"f"===F&&(H.push(F),j=F,N+=1),N=/[eE]/.test(F)?(H.push(F),j=F,N+1):("-"!==F&&"+"!==F||!/[eE]/.test(j))&&/[^\d]/.test(F)?(ve(H.join("")),G=f,N):(H.push(F),j=F,N+1);break;case g:N=fe();break;case I:N=/[^\s]/g.test(F)?(ve(H.join("")),G=f,N):(H.push(F),j=F,N+1);break;case f:H=H.length?[]:H,N="/"===j&&"*"===F?(ne=q+N-1,G=h,j=F,N+1):"/"===j&&"/"===F?(ne=q+N-1,G=T,j=F,N+1):"#"===F?(G=x,ne=q+N,N):/\s/.test(F)?(G=I,ne=q+N,N):(re=/\d/.test(F),Q=/[^\w_]/.test(F),ne=q+N,G=re?b:Q?m:g,N)}Re!==N&&("\n"===ee[Re]?(se=0,++$):++se)}return q+=N,ee=ee.slice(N),Z}(le):(H.length&&ve(H.join("")),G=k,ve("(eof)"),Z)};function ve(le){le.length&&Z.push({type:O[G],data:le,position:ne,line:$,column:se})}function we(){if("."===j&&/\d/.test(F))return G=_,N;if("/"===j&&"*"===F)return G=h,N;if("/"===j&&"/"===F)return G=T,N;if("."===F&&H.length){for(;ze(H););return G=_,N}if(";"===F||")"===F||"("===F){if(H.length)for(;ze(H););return ve(F),G=f,N+1}var le=2===H.length&&"="!==F;if(/[\w_\d\s]/.test(F)||le){for(;ze(H););return G=f,N}return H.push(F),j=F,N+1}function ze(le){for(var Te,Re,De=0;;){if(Te=a.indexOf(le.slice(0,le.length+De).join("")),Re=a[Te],-1===Te){if(De--+le.length>0)continue;Re=le.slice(0,1).join("")}return ve(Re),ne+=Re.length,(H=H.slice(Re.length)).length}}function fe(){if(/[^\d\w_]/.test(F)){var le=H.join("");return G=he[le]?p:ue[le]?A:w,ve(H.join("")),G=f,N}return H.push(F),j=F,N+1}};var s=i(399),a=i(9746),o=i(9525),l=i(9458),c=i(3585),f=999,g=9999,h=0,T=1,x=2,m=3,b=4,_=5,w=6,A=7,p=8,I=9,k=10,L=11,O=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(v,u,i){var s=i(9525);s=s.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),v.exports=s.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,u,i){var s=i(399);v.exports=s.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,u,i){var s=i(3193);v.exports=function(a,o){var l=s(o),c=[];return(c=c.concat(l(a))).concat(l(null))}},6832:function(v){v.exports=function(u){"string"==typeof u&&(u=[u]);for(var i=[].slice.call(arguments,1),s=[],a=0;a<u.length-1;a++)s.push(u[a],i[a]||"");return s.push(u[a]),s.join("")}},5233:function(v,u,i){"use strict";var s=i(4846);v.exports=s&&function(){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{a=!1}return a}()},2183:function(v,u,i){"use strict";v.exports=function(T,x){var m=T.length;if(0===m)throw new Error("Must have at least d+1 points");var b=T[0].length;if(m<=b)throw new Error("Must input at least d+1 points");var _=T.slice(0,b+1),w=s.apply(void 0,_);if(0===w)throw new Error("Input not in general position");for(var A=new Array(b+1),p=0;p<=b;++p)A[p]=p;w<0&&(A[0]=1,A[1]=0);var I=new o(A,new Array(b+1),!1),k=I.adjacent,L=new Array(b+2);for(p=0;p<=b;++p){for(var O=A.slice(),P=0;P<=b;++P)P===p&&(O[P]=-1);var F=O[0];O[0]=O[1],O[1]=F;var j=new o(O,new Array(b+1),!0);k[p]=j,L[p]=j}for(L[b+1]=I,p=0;p<=b;++p){O=k[p].vertices;var X=k[p].adjacent;for(P=0;P<=b;++P){var N=O[P];if(N<0)X[P]=I;else for(var q=0;q<=b;++q)k[q].vertices.indexOf(N)<0&&(X[P]=k[q])}}var G=new g(b,_,L),H=!!x;for(p=b+1;p<m;++p)G.insert(T[p],H);return G.boundary()};var s=i(417),a=i(8211).H;function o(T,x,m){this.vertices=T,this.adjacent=x,this.boundary=m,this.lastVisited=-1}function l(T,x,m){this.vertices=T,this.cell=x,this.index=m}function c(T,x){return a(T.vertices,x.vertices)}o.prototype.flip=function(){var T=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=T;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};var f=[];function g(T,x,m){this.dimension=T,this.vertices=x,this.simplices=m,this.interior=m.filter(function(A){return!A.boundary}),this.tuple=new Array(T+1);for(var b=0;b<=T;++b)this.tuple[b]=this.vertices[b];var _,A,w=f[T];w||(w=f[T]=((_=s[T+1])||(_=s),A=_,function(){return A.apply(this,this.tuple)})),this.orient=w}var h=g.prototype;h.handleBoundaryDegeneracy=function(T,x){var m=this.dimension,b=this.vertices.length-1,_=this.tuple,w=this.vertices,A=[T];for(T.lastVisited=-b;A.length>0;)for(var p=(T=A.pop()).adjacent,I=0;I<=m;++I){var k=p[I];if(k.boundary&&!(k.lastVisited<=-b)){for(var L=k.vertices,O=0;O<=m;++O){var P=L[O];_[O]=P<0?x:w[P]}var F=this.orient();if(F>0)return k;k.lastVisited=-b,0===F&&A.push(k)}}return null},h.walk=function(T,x){var m=this.vertices.length-1,b=this.dimension,_=this.vertices,w=this.tuple,A=x?this.interior.length*Math.random()|0:this.interior.length-1,p=this.interior[A];e:for(;!p.boundary;){for(var I=p.vertices,k=p.adjacent,L=0;L<=b;++L)w[L]=_[I[L]];for(p.lastVisited=m,L=0;L<=b;++L){var O=k[L];if(!(O.lastVisited>=m)){var P=w[L];w[L]=T;var F=this.orient();if(w[L]=P,F<0){p=O;continue e}O.lastVisited=O.boundary?-m:m}}return}return p},h.addPeaks=function(T,x){var m=this.vertices.length-1,b=this.dimension,_=this.vertices,w=this.tuple,A=this.interior,p=this.simplices,I=[x];x.lastVisited=m,x.vertices[x.vertices.indexOf(-1)]=m,x.boundary=!1,A.push(x);for(var k=[];I.length>0;){var L=(x=I.pop()).vertices,O=x.adjacent,P=L.indexOf(m);if(!(P<0))for(var F=0;F<=b;++F)if(F!==P){var j=O[F];if(j.boundary&&!(j.lastVisited>=m)){var X=j.vertices;if(j.lastVisited!==-m){for(var N=0,q=0;q<=b;++q)X[q]<0?(N=q,w[q]=T):w[q]=_[X[q]];if(this.orient()>0){X[N]=m,j.boundary=!1,A.push(j),I.push(j),j.lastVisited=m;continue}j.lastVisited=-m}var G=j.adjacent,H=L.slice(),Z=O.slice(),$=new o(H,Z,!0);p.push($);var se=G.indexOf(x);if(!(se<0))for(G[se]=$,Z[P]=j,H[F]=-1,Z[F]=x,O[F]=$,$.flip(),q=0;q<=b;++q){var ne=H[q];if(!(ne<0||ne===m)){for(var re=new Array(b-1),Q=0,ee=0;ee<=b;++ee){var oe=H[ee];oe<0||ee===q||(re[Q++]=oe)}k.push(new l(re,$,q))}}}}}for(k.sort(c),F=0;F+1<k.length;F+=2){var ce=k[F],ue=k[F+1];ce.index<0||ue.index<0||(ce.cell.adjacent[ce.index]=ue.cell,ue.cell.adjacent[ue.index]=ce.cell)}},h.insert=function(T,x){var m=this.vertices;m.push(T);var b=this.walk(T,x);if(b){for(var _=this.dimension,w=this.tuple,A=0;A<=_;++A){var p=b.vertices[A];w[A]=p<0?T:m[p]}var I=this.orient(w);I<0||(0!==I||(b=this.handleBoundaryDegeneracy(b,T)))&&this.addPeaks(T,b)}},h.boundary=function(){for(var T=this.dimension,x=[],m=this.simplices,b=m.length,_=0;_<b;++_){var w=m[_];if(w.boundary){for(var A=new Array(T),p=w.vertices,I=0,k=0,L=0;L<=T;++L)p[L]>=0?A[I++]=p[L]:k=1&L;if(k===(1&T)){var O=A[0];A[0]=A[1],A[1]=O}x.push(A)}}return x}},9014:function(v,u,i){"use strict";var s=i(5070);function a(I,k,L,O,P){this.mid=I,this.left=k,this.right=L,this.leftPoints=O,this.rightPoints=P,this.count=(k?k.count:0)+(L?L.count:0)+O.length}v.exports=function(I){return new A(I&&0!==I.length?w(I):null)};var o=a.prototype;function l(I,k){I.mid=k.mid,I.left=k.left,I.right=k.right,I.leftPoints=k.leftPoints,I.rightPoints=k.rightPoints,I.count=k.count}function c(I,k){var L=w(k);I.mid=L.mid,I.left=L.left,I.right=L.right,I.leftPoints=L.leftPoints,I.rightPoints=L.rightPoints,I.count=L.count}function f(I,k){var L=I.intervals([]);L.push(k),c(I,L)}function g(I,k){var L=I.intervals([]),O=L.indexOf(k);return O<0?0:(L.splice(O,1),c(I,L),1)}function h(I,k,L){for(var O=0;O<I.length&&I[O][0]<=k;++O){var P=L(I[O]);if(P)return P}}function T(I,k,L){for(var O=I.length-1;O>=0&&I[O][1]>=k;--O){var P=L(I[O]);if(P)return P}}function x(I,k){for(var L=0;L<I.length;++L){var O=k(I[L]);if(O)return O}}function m(I,k){return I-k}function b(I,k){return I[0]-k[0]||I[1]-k[1]}function _(I,k){return I[1]-k[1]||I[0]-k[0]}function w(I){if(0===I.length)return null;for(var k=[],L=0;L<I.length;++L)k.push(I[L][0],I[L][1]);k.sort(m);var O=k[k.length>>1],P=[],F=[],j=[];for(L=0;L<I.length;++L){var X=I[L];X[1]<O?P.push(X):O<X[0]?F.push(X):j.push(X)}var N=j,q=j.slice();return N.sort(b),q.sort(_),new a(O,w(P),w(F),N,q)}function A(I){this.root=I}o.intervals=function(I){return I.push.apply(I,this.leftPoints),this.left&&this.left.intervals(I),this.right&&this.right.intervals(I),I},o.insert=function(I){var k=this.count-this.leftPoints.length;if(this.count+=1,I[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?f(this,I):this.left.insert(I):this.left=w([I]);else if(I[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?f(this,I):this.right.insert(I):this.right=w([I]);else{var L=s.ge(this.leftPoints,I,b),O=s.ge(this.rightPoints,I,_);this.leftPoints.splice(L,0,I),this.rightPoints.splice(O,0,I)}},o.remove=function(I){var k=this.count-this.leftPoints;if(I[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(k-1)?g(this,I):2===(F=this.left.remove(I))?(this.left=null,this.count-=1,1):(1===F&&(this.count-=1),F):0;if(I[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(k-1)?g(this,I):2===(F=this.right.remove(I))?(this.right=null,this.count-=1,1):(1===F&&(this.count-=1),F):0;if(1===this.count)return this.leftPoints[0]===I?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===I){if(this.left&&this.right){for(var L=this,O=this.left;O.right;)L=O,O=O.right;if(L===this)O.right=this.right;else{var P=this.left,F=this.right;L.count-=O.count,L.right=O.left,O.left=P,O.right=F}l(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else l(this,this.left?this.left:this.right);return 1}for(P=s.ge(this.leftPoints,I,b);P<this.leftPoints.length&&this.leftPoints[P][0]===I[0];++P)if(this.leftPoints[P]===I)for(this.count-=1,this.leftPoints.splice(P,1),F=s.ge(this.rightPoints,I,_);F<this.rightPoints.length&&this.rightPoints[F][1]===I[1];++F)if(this.rightPoints[F]===I)return this.rightPoints.splice(F,1),1;return 0},o.queryPoint=function(I,k){return I<this.mid?this.left&&(L=this.left.queryPoint(I,k))?L:h(this.leftPoints,I,k):I>this.mid?this.right&&(L=this.right.queryPoint(I,k))?L:T(this.rightPoints,I,k):x(this.leftPoints,k);var L},o.queryInterval=function(I,k,L){var O;return I<this.mid&&this.left&&(O=this.left.queryInterval(I,k,L))||k>this.mid&&this.right&&(O=this.right.queryInterval(I,k,L))?O:k<this.mid?h(this.leftPoints,k,L):I>this.mid?T(this.rightPoints,I,L):x(this.leftPoints,L)};var p=A.prototype;p.insert=function(I){this.root?this.root.insert(I):this.root=new a(I[0],null,null,[I],[I])},p.remove=function(I){if(this.root){var k=this.root.remove(I);return 2===k&&(this.root=null),0!==k}return!1},p.queryPoint=function(I,k){if(this.root)return this.root.queryPoint(I,k)},p.queryInterval=function(I,k,L){if(I<=k&&this.root)return this.root.queryInterval(I,k,L)},Object.defineProperty(p,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(p,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(v){"use strict";v.exports=function(u){for(var i=new Array(u),s=0;s<u;++s)i[s]=s;return i}},4846:function(v){v.exports=!0},4780:function(v){function u(i){return!!i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i)}v.exports=function(i){return null!=i&&(u(i)||"function"==typeof(s=i).readFloatLE&&"function"==typeof s.slice&&u(s.slice(0,0))||!!i._isBuffer);var s}},3596:function(v){"use strict";v.exports=function(u){for(var i,s=u.length,a=0;a<s;a++)if(((i=u.charCodeAt(a))<9||i>13)&&32!==i&&133!==i&&160!==i&&5760!==i&&6158!==i&&(i<8192||i>8205)&&8232!==i&&8233!==i&&8239!==i&&8287!==i&&8288!==i&&12288!==i&&65279!==i)return!1;return!0}},3578:function(v){v.exports=function(u,i,s){return u*(1-s)+i*s}},7191:function(v,u,i){var s=i(4690),a=i(9823),o=i(7332),l=i(7787),c=i(7437),f=i(2142),g={length:i(4693),normalize:i(899),dot:i(9305),cross:i(903)},h=a(),T=a(),x=[0,0,0,0],m=[[0,0,0],[0,0,0],[0,0,0]],b=[0,0,0];function _(w,A,p,I,k){w[0]=A[0]*I+p[0]*k,w[1]=A[1]*I+p[1]*k,w[2]=A[2]*I+p[2]*k}v.exports=function(w,A,p,I,k,L){if(A||(A=[0,0,0]),p||(p=[0,0,0]),I||(I=[0,0,0]),k||(k=[0,0,0,1]),L||(L=[0,0,0,1]),!s(h,w)||(o(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(l(T)<1e-8)))return!1;var O,P,F,j,X,N,q,ee,oe,G=h[3],H=h[7],Z=h[11],$=h[12],se=h[13],ne=h[14],re=h[15];if(0!==G||0!==H||0!==Z){if(x[0]=G,x[1]=H,x[2]=Z,x[3]=re,!c(T,T))return!1;f(T,T),j=(P=x)[0],(O=k)[0]=(F=T)[0]*j+F[4]*(X=P[1])+F[8]*(N=P[2])+F[12]*(q=P[3]),O[1]=F[1]*j+F[5]*X+F[9]*N+F[13]*q,O[2]=F[2]*j+F[6]*X+F[10]*N+F[14]*q,O[3]=F[3]*j+F[7]*X+F[11]*N+F[15]*q}else k[0]=k[1]=k[2]=0,k[3]=1;if(A[0]=$,A[1]=se,A[2]=ne,(ee=m)[0][0]=(oe=h)[0],ee[0][1]=oe[1],ee[0][2]=oe[2],ee[1][0]=oe[4],ee[1][1]=oe[5],ee[1][2]=oe[6],ee[2][0]=oe[8],ee[2][1]=oe[9],ee[2][2]=oe[10],p[0]=g.length(m[0]),g.normalize(m[0],m[0]),I[0]=g.dot(m[0],m[1]),_(m[1],m[1],m[0],1,-I[0]),p[1]=g.length(m[1]),g.normalize(m[1],m[1]),I[0]/=p[1],I[1]=g.dot(m[0],m[2]),_(m[2],m[2],m[0],1,-I[1]),I[2]=g.dot(m[1],m[2]),_(m[2],m[2],m[1],1,-I[2]),p[2]=g.length(m[2]),g.normalize(m[2],m[2]),I[1]/=p[2],I[2]/=p[2],g.cross(b,m[1],m[2]),g.dot(m[0],b)<0)for(var Q=0;Q<3;Q++)p[Q]*=-1,m[Q][0]*=-1,m[Q][1]*=-1,m[Q][2]*=-1;return L[0]=.5*Math.sqrt(Math.max(1+m[0][0]-m[1][1]-m[2][2],0)),L[1]=.5*Math.sqrt(Math.max(1-m[0][0]+m[1][1]-m[2][2],0)),L[2]=.5*Math.sqrt(Math.max(1-m[0][0]-m[1][1]+m[2][2],0)),L[3]=.5*Math.sqrt(Math.max(1+m[0][0]+m[1][1]+m[2][2],0)),m[2][1]>m[1][2]&&(L[0]=-L[0]),m[0][2]>m[2][0]&&(L[1]=-L[1]),m[1][0]>m[0][1]&&(L[2]=-L[2]),!0}},4690:function(v){v.exports=function(u,i){var s=i[15];if(0===s)return!1;for(var a=1/s,o=0;o<16;o++)u[o]=i[o]*a;return!0}},7649:function(v,u,i){var s=i(1868),a=i(1102),o=i(7191),l=i(7787),c=i(1116),f=T(),g=T(),h=T();function T(){return{translate:x(),scale:x(1),skew:x(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function x(m){return[m||0,m||0,m||0]}v.exports=function(m,b,_,w){if(0===l(b)||0===l(_))return!1;var A=o(b,f.translate,f.scale,f.skew,f.perspective,f.quaternion),p=o(_,g.translate,g.scale,g.skew,g.perspective,g.quaternion);return!(!A||!p||(s(h.translate,f.translate,g.translate,w),s(h.skew,f.skew,g.skew,w),s(h.scale,f.scale,g.scale,w),s(h.perspective,f.perspective,g.perspective,w),c(h.quaternion,f.quaternion,g.quaternion,w),a(m,h.translate,h.scale,h.skew,h.perspective,h.quaternion),0))}},1102:function(v,u,i){var s={identity:i(9947),translate:i(998),multiply:i(104),create:i(9823),scale:i(3668),fromRotationTranslation:i(7280)},a=(s.create(),s.create());v.exports=function(o,l,c,f,g,h){return s.identity(o),s.fromRotationTranslation(o,h,l),o[3]=g[0],o[7]=g[1],o[11]=g[2],o[15]=g[3],s.identity(a),0!==f[2]&&(a[9]=f[2],s.multiply(o,o,a)),0!==f[1]&&(a[9]=0,a[8]=f[1],s.multiply(o,o,a)),0!==f[0]&&(a[8]=0,a[4]=f[0],s.multiply(o,o,a)),s.scale(o,o,c),o}},9298:function(v,u,i){"use strict";var s=i(5070),a=i(7649),o=i(7437),l=i(6109),c=i(7115),f=i(5240),g=i(3012),h=i(998),T=(i(3668),i(899)),x=[0,0,0];function m(w){this._components=w.slice(),this._time=[0],this.prevMatrix=w.slice(),this.nextMatrix=w.slice(),this.computedMatrix=w.slice(),this.computedInverse=w.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}v.exports=function(w){return new m((w=w||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var b=m.prototype;b.recalcMatrix=function(w){var A=this._time,p=s.le(A,w),I=this.computedMatrix;if(!(p<0)){var k=this._components;if(p===A.length-1)for(var L=16*p,O=0;O<16;++O)I[O]=k[L++];else{var P=A[p+1]-A[p],F=(L=16*p,this.prevMatrix),j=!0;for(O=0;O<16;++O)F[O]=k[L++];var X=this.nextMatrix;for(O=0;O<16;++O)X[O]=k[L++],j=j&&F[O]===X[O];if(P<1e-6||j)for(O=0;O<16;++O)I[O]=F[O];else a(I,F,X,(w-A[p])/P)}var N=this.computedUp;N[0]=I[1],N[1]=I[5],N[2]=I[9],T(N,N);var q=this.computedInverse;o(q,I);var G=this.computedEye,H=q[15];G[0]=q[12]/H,G[1]=q[13]/H,G[2]=q[14]/H;var Z=this.computedCenter,$=Math.exp(this.computedRadius[0]);for(O=0;O<3;++O)Z[O]=G[O]-I[2+4*O]*$}},b.idle=function(w){if(!(w<this.lastT())){for(var A=this._components,p=A.length-16,I=0;I<16;++I)A.push(A[p++]);this._time.push(w)}},b.flush=function(w){var A=s.gt(this._time,w)-2;A<0||(this._time.splice(0,A),this._components.splice(0,16*A))},b.lastT=function(){return this._time[this._time.length-1]},b.lookAt=function(w,A,p,I){this.recalcMatrix(w),this.setMatrix(w,g(this.computedMatrix,A=A||this.computedEye,p=p||x,I=I||this.computedUp));for(var k=0,L=0;L<3;++L)k+=Math.pow(p[L]-A[L],2);k=Math.log(Math.sqrt(k)),this.computedRadius[0]=k},b.rotate=function(w,A,p,I){this.recalcMatrix(w);var k=this.computedInverse;A&&c(k,k,A),p&&l(k,k,p),I&&f(k,k,I),this.setMatrix(w,o(this.computedMatrix,k))};var _=[0,0,0];b.pan=function(w,A,p,I){_[0]=-(A||0),_[1]=-(p||0),_[2]=-(I||0),this.recalcMatrix(w);var k=this.computedInverse;h(k,k,_),this.setMatrix(w,o(k,k))},b.translate=function(w,A,p,I){_[0]=A||0,_[1]=p||0,_[2]=I||0,this.recalcMatrix(w);var k=this.computedMatrix;h(k,k,_),this.setMatrix(w,k)},b.setMatrix=function(w,A){if(!(w<this.lastT())){this._time.push(w);for(var p=0;p<16;++p)this._components.push(A[p])}},b.setDistance=function(w,A){this.computedRadius[0]=A},b.setDistanceLimits=function(w,A){var p=this._limits;p[0]=w,p[1]=A},b.getDistanceLimits=function(w){var A=this._limits;return w?(w[0]=A[0],w[1]=A[1],w):A}},3266:function(v,u,i){"use strict";v.exports=function(a){var o=a.length;if(o<3){for(var l=new Array(o),c=0;c<o;++c)l[c]=c;return 2===o&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:l}var f=new Array(o);for(c=0;c<o;++c)f[c]=c;f.sort(function(A,p){return a[A][0]-a[p][0]||a[A][1]-a[p][1]});var g=[f[0],f[1]],h=[f[0],f[1]];for(c=2;c<o;++c){for(var T=f[c],x=a[T],m=g.length;m>1&&s(a[g[m-2]],a[g[m-1]],x)<=0;)m-=1,g.pop();for(g.push(T),m=h.length;m>1&&s(a[h[m-2]],a[h[m-1]],x)>=0;)m-=1,h.pop();h.push(T)}l=new Array(h.length+g.length-2);for(var b=0,_=(c=0,g.length);c<_;++c)l[b++]=g[c];for(var w=h.length-2;w>0;--w)l[b++]=h[w];return l};var s=i(417)[3]},6145:function(v,u,i){"use strict";v.exports=function(a,o){o||(o=a,a=window);var l=0,c=0,f=0,g={shift:!1,alt:!1,control:!1,meta:!1},h=!1;function T(L){var O=!1;return"altKey"in L&&(O=O||L.altKey!==g.alt,g.alt=!!L.altKey),"shiftKey"in L&&(O=O||L.shiftKey!==g.shift,g.shift=!!L.shiftKey),"ctrlKey"in L&&(O=O||L.ctrlKey!==g.control,g.control=!!L.ctrlKey),"metaKey"in L&&(O=O||L.metaKey!==g.meta,g.meta=!!L.metaKey),O}function x(L,O){var P=s.x(O),F=s.y(O);"buttons"in O&&(L=0|O.buttons),(L!==l||P!==c||F!==f||T(O))&&(l=0|L,c=P||0,f=F||0,o&&o(l,c,f,g))}function m(L){x(0,L)}function b(){(l||c||f||g.shift||g.alt||g.meta||g.control)&&(c=f=0,l=0,g.shift=g.alt=g.control=g.meta=!1,o&&o(0,0,0,g))}function _(L){T(L)&&o&&o(l,c,f,g)}function w(L){0===s.buttons(L)?x(0,L):x(l,L)}function A(L){x(l|s.buttons(L),L)}function p(L){x(l&~s.buttons(L),L)}function I(){h||(h=!0,a.addEventListener("mousemove",w),a.addEventListener("mousedown",A),a.addEventListener("mouseup",p),a.addEventListener("mouseleave",m),a.addEventListener("mouseenter",m),a.addEventListener("mouseout",m),a.addEventListener("mouseover",m),a.addEventListener("blur",b),a.addEventListener("keyup",_),a.addEventListener("keydown",_),a.addEventListener("keypress",_),a!==window&&(window.addEventListener("blur",b),window.addEventListener("keyup",_),window.addEventListener("keydown",_),window.addEventListener("keypress",_)))}I();var k={element:a};return Object.defineProperties(k,{enabled:{get:function(){return h},set:function(L){L?I():h&&(h=!1,a.removeEventListener("mousemove",w),a.removeEventListener("mousedown",A),a.removeEventListener("mouseup",p),a.removeEventListener("mouseleave",m),a.removeEventListener("mouseenter",m),a.removeEventListener("mouseout",m),a.removeEventListener("mouseover",m),a.removeEventListener("blur",b),a.removeEventListener("keyup",_),a.removeEventListener("keydown",_),a.removeEventListener("keypress",_),a!==window&&(window.removeEventListener("blur",b),window.removeEventListener("keyup",_),window.removeEventListener("keydown",_),window.removeEventListener("keypress",_)))},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return c},enumerable:!0},y:{get:function(){return f},enumerable:!0},mods:{get:function(){return g},enumerable:!0}}),k};var s=i(4110)},2565:function(v){var u={left:0,top:0};v.exports=function(i,s,a){s=s||i.currentTarget||i.srcElement,Array.isArray(a)||(a=[0,0]);var o,l=i.clientX||0,c=i.clientY||0,f=(o=s)===window||o===document||o===document.body?u:o.getBoundingClientRect();return a[0]=l-f.left,a[1]=c-f.top,a}},4110:function(v,u){"use strict";function i(s){return s.target||s.srcElement||window}u.buttons=function(s){if("object"==typeof s){if("buttons"in s)return s.buttons;if("which"in s){if(2===(a=s.which))return 4;if(3===a)return 2;if(a>0)return 1<<a-1}else if("button"in s){var a;if(1===(a=s.button))return 4;if(2===a)return 2;if(a>=0)return 1<<a}}return 0},u.element=i,u.x=function(s){if("object"==typeof s){if("offsetX"in s)return s.offsetX;var a=i(s).getBoundingClientRect();return s.clientX-a.left}return 0},u.y=function(s){if("object"==typeof s){if("offsetY"in s)return s.offsetY;var a=i(s).getBoundingClientRect();return s.clientY-a.top}return 0}},6475:function(v,u,i){"use strict";var s=i(14);v.exports=function(a,o,l){"function"==typeof a&&(l=!!o,o=a,a=window);var c=s("ex",a),f=function(g){l&&g.preventDefault();var h=g.deltaX||0,T=g.deltaY||0,x=g.deltaZ||0,m=1;switch(g.deltaMode){case 1:m=c;break;case 2:m=window.innerHeight}if(T*=m,x*=m,(h*=m)||T||x)return o(h,T,x,g)};return a.addEventListener("wheel",f),f}},9284:function(v,u,i){"use strict";var s=i(5306);v.exports=function(o){function l(x){throw new Error("ndarray-extract-contour: "+x)}"object"!=typeof o&&l("Must specify arguments");var c=o.order;Array.isArray(c)||l("Must specify order");var x,m,b,p,f=o.arrayArguments||1;f<1&&l("Must have at least one array argument"),(o.scalarArguments||0)<0&&l("Scalar arg count must be > 0"),"function"!=typeof o.vertex&&l("Must specify vertex creation function"),"function"!=typeof o.cell&&l("Must specify cell creation function"),"function"!=typeof o.phase&&l("Must specify phase function");for(var g=o.getters||[],h=new Array(f),T=0;T<f;++T)h[T]=g.indexOf(T)>=0;return x=o.vertex,m=o.cell,b=o.phase,p=[h,c].join(","),(0,a[p])(x,m,b,s.mallocUint32,s.freeUint32)};var a={"false,0,1":function(o,l,c,f,g){return function(h,T,x,m){var b,_=0|h.shape[0],w=0|h.shape[1],A=h.data,I=0|h.stride[0],k=0|h.stride[1],L=0|h.offset,O=0|-I,P=0,F=0|-k,j=0,X=-I-k|0,N=0,q=0|I,G=k-I*_|0,H=0,Z=0,$=0,se=2*_|0,ne=f(se),re=f(se),Q=0,ee=0,oe=-1,ce=-1,ue=0,he=0|-_,ve=0|_,ke=0,Ie=-_-1|0,Me=_-1|0,_e=0,we=0,ze=0;for(H=0;H<_;++H)ne[Q++]=c(A[L],T,x,m),L+=q;if(L+=G,w>0){if(Z=1,ne[Q++]=c(A[L],T,x,m),L+=q,_>0)for(H=1,ee=ne[Q]=c(b=A[L],T,x,m),ke=ne[Q+he],_e=ne[Q+Ie],ee===(ue=ne[Q+oe])&&ee===ke&&ee===_e||(o(H,Z,b,P=A[L+O],j=A[L+F],N=A[L+X],ee,ue,ke,_e,T,x,m),we=re[Q]=$++),Q+=1,L+=q,H=2;H<_;++H)ee=ne[Q]=c(b=A[L],T,x,m),ke=ne[Q+he],_e=ne[Q+Ie],ee===(ue=ne[Q+oe])&&ee===ke&&ee===_e||(o(H,Z,b,P=A[L+O],j=A[L+F],N=A[L+X],ee,ue,ke,_e,T,x,m),we=re[Q]=$++,_e!==ue&&l(re[Q+oe],we,N,P,_e,ue,T,x,m)),Q+=1,L+=q;for(L+=G,Q=0,ze=oe,oe=ce,ce=ze,ze=he,he=ve,ve=ze,ze=Ie,Ie=Me,Me=ze,Z=2;Z<w;++Z){if(ne[Q++]=c(A[L],T,x,m),L+=q,_>0)for(H=1,ee=ne[Q]=c(b=A[L],T,x,m),ke=ne[Q+he],_e=ne[Q+Ie],ee===(ue=ne[Q+oe])&&ee===ke&&ee===_e||(o(H,Z,b,P=A[L+O],j=A[L+F],N=A[L+X],ee,ue,ke,_e,T,x,m),we=re[Q]=$++,_e!==ke&&l(re[Q+he],we,j,N,ke,_e,T,x,m)),Q+=1,L+=q,H=2;H<_;++H)ee=ne[Q]=c(b=A[L],T,x,m),ke=ne[Q+he],_e=ne[Q+Ie],ee===(ue=ne[Q+oe])&&ee===ke&&ee===_e||(o(H,Z,b,P=A[L+O],j=A[L+F],N=A[L+X],ee,ue,ke,_e,T,x,m),we=re[Q]=$++,_e!==ke&&l(re[Q+he],we,j,N,ke,_e,T,x,m),_e!==ue&&l(re[Q+oe],we,N,P,_e,ue,T,x,m)),Q+=1,L+=q;1&Z&&(Q=0),ze=oe,oe=ce,ce=ze,ze=he,he=ve,ve=ze,ze=Ie,Ie=Me,Me=ze,L+=G}}g(re),g(ne)}},"false,1,0":function(o,l,c,f,g){return function(h,T,x,m){var b,_=0|h.shape[0],w=0|h.shape[1],A=h.data,I=0|h.stride[0],k=0|h.stride[1],L=0|h.offset,O=0|-I,P=0,F=0|-k,j=0,X=-I-k|0,N=0,q=0|k,G=I-k*w|0,H=0,Z=0,$=0,se=2*w|0,ne=f(se),re=f(se),Q=0,ee=0,oe=-1,ce=-1,ue=0,he=0|-w,ve=0|w,ke=0,Ie=-w-1|0,Me=w-1|0,_e=0,we=0,ze=0;for(Z=0;Z<w;++Z)ne[Q++]=c(A[L],T,x,m),L+=q;if(L+=G,_>0){if(H=1,ne[Q++]=c(A[L],T,x,m),L+=q,w>0)for(Z=1,ee=ne[Q]=c(b=A[L],T,x,m),ue=ne[Q+oe],_e=ne[Q+Ie],ee===(ke=ne[Q+he])&&ee===ue&&ee===_e||(o(H,Z,b,P=A[L+O],j=A[L+F],N=A[L+X],ee,ke,ue,_e,T,x,m),we=re[Q]=$++),Q+=1,L+=q,Z=2;Z<w;++Z)ee=ne[Q]=c(b=A[L],T,x,m),ue=ne[Q+oe],_e=ne[Q+Ie],ee===(ke=ne[Q+he])&&ee===ue&&ee===_e||(o(H,Z,b,P=A[L+O],j=A[L+F],N=A[L+X],ee,ke,ue,_e,T,x,m),we=re[Q]=$++,_e!==ue&&l(re[Q+oe],we,j,N,ue,_e,T,x,m)),Q+=1,L+=q;for(L+=G,Q=0,ze=he,he=ve,ve=ze,ze=oe,oe=ce,ce=ze,ze=Ie,Ie=Me,Me=ze,H=2;H<_;++H){if(ne[Q++]=c(A[L],T,x,m),L+=q,w>0)for(Z=1,ee=ne[Q]=c(b=A[L],T,x,m),ue=ne[Q+oe],_e=ne[Q+Ie],ee===(ke=ne[Q+he])&&ee===ue&&ee===_e||(o(H,Z,b,P=A[L+O],j=A[L+F],N=A[L+X],ee,ke,ue,_e,T,x,m),we=re[Q]=$++,_e!==ke&&l(re[Q+he],we,N,P,_e,ke,T,x,m)),Q+=1,L+=q,Z=2;Z<w;++Z)ee=ne[Q]=c(b=A[L],T,x,m),ue=ne[Q+oe],_e=ne[Q+Ie],ee===(ke=ne[Q+he])&&ee===ue&&ee===_e||(o(H,Z,b,P=A[L+O],j=A[L+F],N=A[L+X],ee,ke,ue,_e,T,x,m),we=re[Q]=$++,_e!==ue&&l(re[Q+oe],we,j,N,ue,_e,T,x,m),_e!==ke&&l(re[Q+he],we,N,P,_e,ke,T,x,m)),Q+=1,L+=q;1&H&&(Q=0),ze=he,he=ve,ve=ze,ze=oe,oe=ce,ce=ze,ze=Ie,Ie=Me,Me=ze,L+=G}}g(re),g(ne)}}}},9144:function(v,u,i){"use strict";var s=i(3094),a={zero:function(_,w,A,p){var I=_[0];p|=0;var k=0,L=A[0];for(k=0;k<I;++k)w[p]=0,p+=L},fdTemplate1:function(_,w,A,p,I,k,L){var O=_[0],P=A[0],F=-1*P,j=P;p|=0,L|=0;var X=0,N=P,q=k[0];for(X=0;X<O;++X)I[L]=.5*(w[p+F]-w[p+j]),p+=N,L+=q},fdTemplate2:function(_,w,A,p,I,k,L,O,P,F){var j=_[0],X=_[1],N=A[0],q=A[1],H=k[1],$=P[1],se=-1*N,ne=N,re=-1*q,Q=q;p|=0,L|=0,F|=0;var ee=0,oe=0,ce=q,ue=N-X*q,he=H,ve=k[0]-X*H,ke=$,Ie=P[0]-X*$;for(oe=0;oe<j;++oe){for(ee=0;ee<X;++ee)I[L]=.5*(w[p+se]-w[p+ne]),O[F]=.5*(w[p+re]-w[p+Q]),p+=ce,L+=he,F+=ke;p+=ue,L+=ve,F+=Ie}}},o={cdiff:function(_){var w={};return function(A,p,I){var k=A.dtype,L=A.order,O=p.dtype,P=p.order,F=I.dtype,j=I.order,X=[k,L.join(),O,P.join(),F,j.join()].join(),N=w[X];return N||(w[X]=N=_([k,L,O,P,F,j])),N(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset,I.data,I.stride,0|I.offset)}},zero:function(_){var w={};return function(A){var p=A.dtype,I=A.order,k=[p,I.join()].join(),L=w[k];return L||(w[k]=L=_([p,I])),L(A.shape.slice(0),A.data,A.stride,0|A.offset)}},fdTemplate1:function(_){var w={};return function(A,p){var I=A.dtype,k=A.order,L=p.dtype,O=p.order,P=[I,k.join(),L,O.join()].join(),F=w[P];return F||(w[P]=F=_([I,k,L,O])),F(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset)}},fdTemplate2:function(_){var w={};return function(A,p,I){var k=A.dtype,L=A.order,O=p.dtype,P=p.order,F=I.dtype,j=I.order,X=[k,L.join(),O,P.join(),F,j.join()].join(),N=w[X];return N||(w[X]=N=_([k,L,O,P,F,j])),N(A.shape.slice(0),A.data,A.stride,0|A.offset,p.data,p.stride,0|p.offset,I.data,I.stride,0|I.offset)}}};function l(_){return(0,o[_.funcName])(c.bind(void 0,_))}function c(_){return a[_.funcName]}function f(_){return l({funcName:_.funcName})}var g={},h={},T=f({funcName:"cdiff"}),x=f({funcName:"zero"});function m(_){return _ in g?g[_]:g[_]=f({funcName:"fdTemplate"+_})}function b(_,w,A,p){return function(I,k){var L=k.shape.slice();return L[0]>2&&L[1]>2&&p(k.pick(-1,-1).lo(1,1).hi(L[0]-2,L[1]-2),I.pick(-1,-1,0).lo(1,1).hi(L[0]-2,L[1]-2),I.pick(-1,-1,1).lo(1,1).hi(L[0]-2,L[1]-2)),L[1]>2&&(A(k.pick(0,-1).lo(1).hi(L[1]-2),I.pick(0,-1,1).lo(1).hi(L[1]-2)),w(I.pick(0,-1,0).lo(1).hi(L[1]-2))),L[1]>2&&(A(k.pick(L[0]-1,-1).lo(1).hi(L[1]-2),I.pick(L[0]-1,-1,1).lo(1).hi(L[1]-2)),w(I.pick(L[0]-1,-1,0).lo(1).hi(L[1]-2))),L[0]>2&&(A(k.pick(-1,0).lo(1).hi(L[0]-2),I.pick(-1,0,0).lo(1).hi(L[0]-2)),w(I.pick(-1,0,1).lo(1).hi(L[0]-2))),L[0]>2&&(A(k.pick(-1,L[1]-1).lo(1).hi(L[0]-2),I.pick(-1,L[1]-1,0).lo(1).hi(L[0]-2)),w(I.pick(-1,L[1]-1,1).lo(1).hi(L[0]-2))),I.set(0,0,0,0),I.set(0,0,1,0),I.set(L[0]-1,0,0,0),I.set(L[0]-1,0,1,0),I.set(0,L[1]-1,0,0),I.set(0,L[1]-1,1,0),I.set(L[0]-1,L[1]-1,0,0),I.set(L[0]-1,L[1]-1,1,0),I}}v.exports=function(_,w,A){return Array.isArray(A)||(A=s(w.dimension,"string"==typeof A?A:"clamp")),0===w.size?_:0===w.dimension?(_.set(0),_):function(p){var I=p.join();if(P=h[I])return P;for(var k=p.length,L=[T,x],O=1;O<=k;++O)L.push(m(O));var P=b.apply(void 0,L);return h[I]=P,P}(A)(_,w)}},3581:function(v){"use strict";function u(o,l){var c=Math.floor(l),f=l-c,h=0<=c+1&&c+1<o.shape[0];return(1-f)*(0<=c&&c<o.shape[0]?+o.get(c):0)+f*(h?+o.get(c+1):0)}function i(o,l,c){var f=Math.floor(l),g=l-f,h=0<=f&&f<o.shape[0],T=0<=f+1&&f+1<o.shape[0],x=Math.floor(c),m=c-x,b=0<=x&&x<o.shape[1],_=0<=x+1&&x+1<o.shape[1],w=h&&b?o.get(f,x):0,A=h&&_?o.get(f,x+1):0;return(1-m)*((1-g)*w+g*(T&&b?o.get(f+1,x):0))+m*((1-g)*A+g*(T&&_?o.get(f+1,x+1):0))}function s(o,l,c,f){var g=Math.floor(l),h=l-g,T=0<=g&&g<o.shape[0],x=0<=g+1&&g+1<o.shape[0],m=Math.floor(c),b=c-m,_=0<=m&&m<o.shape[1],w=0<=m+1&&m+1<o.shape[1],A=Math.floor(f),p=f-A,I=0<=A&&A<o.shape[2],k=0<=A+1&&A+1<o.shape[2],L=T&&_&&I?o.get(g,m,A):0,O=T&&w&&I?o.get(g,m+1,A):0,P=x&&_&&I?o.get(g+1,m,A):0,F=x&&w&&I?o.get(g+1,m+1,A):0,j=T&&_&&k?o.get(g,m,A+1):0,X=T&&w&&k?o.get(g,m+1,A+1):0;return(1-p)*((1-b)*((1-h)*L+h*P)+b*((1-h)*O+h*F))+p*((1-b)*((1-h)*j+h*(x&&_&&k?o.get(g+1,m,A+1):0))+b*((1-h)*X+h*(x&&w&&k?o.get(g+1,m+1,A+1):0)))}function a(o){var l,c,f=0|o.shape.length,g=new Array(f),h=new Array(f),T=new Array(f),x=new Array(f);for(l=0;l<f;++l)c=+arguments[l+1],g[l]=Math.floor(c),h[l]=c-g[l],T[l]=0<=g[l]&&g[l]<o.shape[l],x[l]=0<=g[l]+1&&g[l]+1<o.shape[l];var m,b,_,w=0;e:for(l=0;l<1<<f;++l){for(b=1,_=o.offset,m=0;m<f;++m)if(l&1<<m){if(!x[m])continue e;b*=h[m],_+=o.stride[m]*(g[m]+1)}else{if(!T[m])continue e;b*=1-h[m],_+=o.stride[m]*g[m]}w+=b*o.data[_]}return w}v.exports=function(o,l,c,f){switch(o.shape.length){case 0:return 0;case 1:return u(o,l);case 2:return i(o,l,c);case 3:return s(o,l,c,f);default:return a.apply(void 0,arguments)}},v.exports.d1=u,v.exports.d2=i,v.exports.d3=s},7498:function(v,u){"use strict";var i={"float64,2,1,0":function(){return function(c,f,g,h,T){var x=c[0],m=c[1],b=c[2],w=g[1],A=g[2];h|=0;var p=0,I=0,k=0,L=A,O=w-b*A,P=g[0]-m*w;for(k=0;k<x;++k){for(I=0;I<m;++I){for(p=0;p<b;++p)f[h]/=T,h+=L;h+=O}h+=P}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,f,g,h,T,x,m,b){for(var _=c[0],w=c[1],A=c[2],p=g[0],I=g[1],k=g[2],L=x[0],O=x[1],P=x[2],F=h|=0,j=m|=0,X=0|c[0];X>0;){X<64?(_=X,X=0):(_=64,X-=64);for(var N=0|c[1];N>0;){N<64?(w=N,N=0):(w=64,N-=64),h=F+X*p+N*I,m=j+X*L+N*O;var q=0,G=0,H=0,Z=k,$=p-A*k,se=I-_*p,ne=P,re=L-A*P,Q=O-_*L;for(H=0;H<w;++H){for(G=0;G<_;++G){for(q=0;q<A;++q)f[h]=T[m]*b,h+=Z,m+=ne;h+=$,m+=re}h+=se,m+=Q}}}}},"float32,1,0,float32,1,0":function(){return function(c,f,g,h,T,x,m){var b=c[0],_=c[1],A=g[1],I=x[1];h|=0,m|=0;var k=0,L=0,O=A,P=g[0]-_*A,F=I,j=x[0]-_*I;for(L=0;L<b;++L){for(k=0;k<_;++k)f[h]=T[m],h+=O,m+=F;h+=P,m+=j}}},"float32,1,0,float32,0,1":function(){return function(c,f,g,h,T,x,m){for(var b=c[0],_=c[1],w=g[0],A=g[1],p=x[0],I=x[1],k=h|=0,L=m|=0,O=0|c[1];O>0;){O<64?(_=O,O=0):(_=64,O-=64);for(var P=0|c[0];P>0;){P<64?(b=P,P=0):(b=64,P-=64),h=k+O*A+P*w,m=L+O*I+P*p;var F=0,j=0,X=A,N=w-_*A,q=I,G=p-_*I;for(j=0;j<b;++j){for(F=0;F<_;++F)f[h]=T[m],h+=X,m+=q;h+=N,m+=G}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,f,g,h,T,x,m){for(var b=c[0],_=c[1],w=c[2],A=g[0],p=g[1],I=g[2],k=x[0],L=x[1],O=x[2],P=h|=0,F=m|=0,j=0|c[2];j>0;){j<64?(w=j,j=0):(w=64,j-=64);for(var X=0|c[0];X>0;){X<64?(b=X,X=0):(b=64,X-=64);for(var N=0|c[1];N>0;){N<64?(_=N,N=0):(_=64,N-=64),h=P+j*I+X*A+N*p,m=F+j*O+X*k+N*L;var q=0,G=0,H=0,Z=I,$=A-w*I,se=p-b*A,ne=O,re=k-w*O,Q=L-b*k;for(H=0;H<_;++H){for(G=0;G<b;++G){for(q=0;q<w;++q)f[h]=T[m],h+=Z,m+=ne;h+=$,m+=re}h+=se,m+=Q}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,f,g,h,T,x,m){var b=c[0],_=c[1],w=c[2],A=g[0],I=g[2],k=x[0],O=x[2];h|=0,m|=0;var P=0,F=0,j=0,X=I,N=A-w*I,q=g[1]-b*A,G=O,H=k-w*O,Z=x[1]-b*k;for(j=0;j<_;++j){for(F=0;F<b;++F){for(P=0;P<w;++P)f[h]=T[m],h+=X,m+=G;h+=N,m+=H}h+=q,m+=Z}}}},s=function(c,f){var g=f.join(",");return(0,i[g])()},a={mul:function(c){var f={};return function(g,h,T){var x=g.dtype,m=g.order,b=h.dtype,_=h.order,w=T.dtype,A=T.order,p=[x,m.join(),b,_.join(),w,A.join()].join(),I=f[p];return I||(f[p]=I=c([x,m,b,_,w,A])),I(g.shape.slice(0),g.data,g.stride,0|g.offset,h.data,h.stride,0|h.offset,T.data,T.stride,0|T.offset)}},muls:function(c){var f={};return function(g,h,T){var x=g.dtype,m=g.order,b=h.dtype,_=h.order,w=[x,m.join(),b,_.join()].join(),A=f[w];return A||(f[w]=A=c([x,m,b,_])),A(g.shape.slice(0),g.data,g.stride,0|g.offset,h.data,h.stride,0|h.offset,T)}},mulseq:function(c){var f={};return function(g,h){var T=g.dtype,x=g.order,m=[T,x.join()].join(),b=f[m];return b||(f[m]=b=c([T,x])),b(g.shape.slice(0),g.data,g.stride,0|g.offset,h)}},div:function(c){var f={};return function(g,h,T){var x=g.dtype,m=g.order,b=h.dtype,_=h.order,w=T.dtype,A=T.order,p=[x,m.join(),b,_.join(),w,A.join()].join(),I=f[p];return I||(f[p]=I=c([x,m,b,_,w,A])),I(g.shape.slice(0),g.data,g.stride,0|g.offset,h.data,h.stride,0|h.offset,T.data,T.stride,0|T.offset)}},divs:function(c){var f={};return function(g,h,T){var x=g.dtype,m=g.order,b=h.dtype,_=h.order,w=[x,m.join(),b,_.join()].join(),A=f[w];return A||(f[w]=A=c([x,m,b,_])),A(g.shape.slice(0),g.data,g.stride,0|g.offset,h.data,h.stride,0|h.offset,T)}},divseq:function(c){var f={};return function(g,h){var T=g.dtype,x=g.order,m=[T,x.join()].join(),b=f[m];return b||(f[m]=b=c([T,x])),b(g.shape.slice(0),g.data,g.stride,0|g.offset,h)}},assign:function(c){var f={};return function(g,h){var T=g.dtype,x=g.order,m=h.dtype,b=h.order,_=[T,x.join(),m,b.join()].join(),w=f[_];return w||(f[_]=w=c([T,x,m,b])),w(g.shape.slice(0),g.data,g.stride,0|g.offset,h.data,h.stride,0|h.offset)}}};function o(c){return(0,a[(f={funcName:c.funcName}).funcName])(s.bind(void 0,f));var f}var l={mul:"*",div:"/"};(function(){for(var c in l)u[c]=o({funcName:c}),u[c+"s"]=o({funcName:c+"s"}),u[c+"seq"]=o({funcName:c+"seq"})})(),u.assign=o({funcName:"assign"})},7382:function(v,u,i){"use strict";var s=i(5050),a=i(9262);v.exports=function(o,l){for(var c=[],f=o,g=1;Array.isArray(f);)c.push(f.length),g*=f.length,f=f[0];return 0===c.length?s():(l||(l=s(new Float64Array(g),c)),a(l,o),l)}},9262:function(v){"use strict";var u,i;v.exports=(u=function(){return function(u,i,s,a,o){var l=u[0],c=u[1],f=u[2],h=s[1],T=s[2],x=[0,0,0];a|=0;var m=0,b=0,_=0,w=T,A=h-f*T,p=s[0]-c*h;for(_=0;_<l;++_){for(b=0;b<c;++b){for(m=0;m<f;++m){var I,k=o;for(I=0;I<x.length-1;++I)k=k[x[I]];i[a]=k[x[x.length-1]],a+=w,++x[2]}a+=A,x[2]-=f,++x[1]}a+=p,x[1]-=c,++x[0]}}}.bind(void 0,{funcName:"convert"}),i={},function(s,a){var o=s.dtype,l=s.order,c=[o,l.join()].join(),f=i[c];return f||(i[c]=f=u([o,l])),f(s.shape.slice(0),s.data,s.stride,0|s.offset,a)})},8139:function(v,u,i){"use strict";var s=i(5306);function a(f){return"uint32"===f?[s.mallocUint32,s.freeUint32]:null}var o={"uint32,1,0":function(f,g){return function(h,T,x,m,b,_,w,A,p,I,k){var L,O,P,F,j,X,N,q,G=h*b+m,H=f(A);for(L=h+1;L<=T;++L){for(O=L,P=G+=b,j=0,X=G,F=0;F<A;++F)H[j++]=x[X],X+=p;e:for(;O-- >h;){j=0,X=P-b;t:for(F=0;F<A;++F){if((N=x[X])<(q=H[j]))break e;if(N>q)break t;X+=I,j+=k}for(j=P,X=P-b,F=0;F<A;++F)x[j]=x[X],j+=p,X+=p;P-=b}for(j=P,X=0,F=0;F<A;++F)x[j]=H[X++],j+=p}g(H)}}},l={"uint32,1,0":function(f,g,h){return function T(x,m,b,_,w,A,p,I,k,L,O){var P,F,X,N,q,G,H,Z,$,se,ne,re,Q,ee,oe,ce,ue,he,ve,ke,Ie,Me,_e,we,ze=(m-x+1)/6|0,Ee=x+ze,Se=m-ze,me=x+m>>1,fe=me-ze,le=me+ze,Te=Ee,Re=fe,De=me,Ue=le,Ze=Se,xe=x+1,Oe=m-1,Ce=!0,Be=0,qe=0,He=0,Je=I,et=g(Je),st=g(Je);se=w*Te,ne=w*Re,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=Te,Te=Re,Re=F;break e}if(He<0)break e;we+=L}se=w*Ue,ne=w*Ze,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=Ue,Ue=Ze,Ze=F;break e}if(He<0)break e;we+=L}se=w*Te,ne=w*De,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=Te,Te=De,De=F;break e}if(He<0)break e;we+=L}se=w*Re,ne=w*De,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=Re,Re=De,De=F;break e}if(He<0)break e;we+=L}se=w*Te,ne=w*Ue,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=Te,Te=Ue,Ue=F;break e}if(He<0)break e;we+=L}se=w*De,ne=w*Ue,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=De,De=Ue,Ue=F;break e}if(He<0)break e;we+=L}se=w*Re,ne=w*Ze,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=Re,Re=Ze,Ze=F;break e}if(He<0)break e;we+=L}se=w*Re,ne=w*De,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=Re,Re=De,De=F;break e}if(He<0)break e;we+=L}se=w*Ue,ne=w*Ze,we=_;e:for($=0;$<I;++$){if((He=b[G=se+we]-b[H=ne+we])>0){F=Ue,Ue=Ze,Ze=F;break e}if(He<0)break e;we+=L}for(se=w*Te,ne=w*Re,re=w*De,Q=w*Ue,ee=w*Ze,oe=w*Ee,ce=w*me,ue=w*Se,_e=0,we=_,$=0;$<I;++$)G=se+we,Z=re+we,he=Q+we,ve=ee+we,ke=oe+we,Ie=ce+we,Me=ue+we,et[_e]=b[H=ne+we],st[_e]=b[he],Ce=Ce&&et[_e]===st[_e],X=b[Z],N=b[ve],b[ke]=b[G],b[Ie]=X,b[Me]=N,++_e,we+=k;for(se=w*fe,ne=w*x,we=_,$=0;$<I;++$)b[G=se+we]=b[H=ne+we],we+=k;for(se=w*le,ne=w*m,we=_,$=0;$<I;++$)b[G=se+we]=b[H=ne+we],we+=k;if(Ce)for(q=xe;q<=Oe;++q){for(G=_+q*w,_e=0,$=0;$<I&&0==(He=b[G]-et[_e]);++$)_e+=O,G+=L;if(0!==He)if(He<0){if(q!==xe)for(se=w*q,ne=w*xe,we=_,$=0;$<I;++$)P=b[G=se+we],b[G]=b[H=ne+we],b[H]=P,we+=k;++xe}else for(;;){for(G=_+Oe*w,_e=0,$=0;$<I&&0==(He=b[G]-et[_e]);++$)_e+=O,G+=L;if(!(He>0)){if(He<0){for(se=w*q,ne=w*xe,re=w*Oe,we=_,$=0;$<I;++$)Z=re+we,P=b[G=se+we],b[G]=b[H=ne+we],b[H]=b[Z],b[Z]=P,we+=k;++xe,--Oe;break}for(se=w*q,ne=w*Oe,we=_,$=0;$<I;++$)P=b[G=se+we],b[G]=b[H=ne+we],b[H]=P,we+=k;--Oe;break}Oe--}}else for(q=xe;q<=Oe;++q){for(G=_+q*w,_e=0,$=0;$<I&&0==(Be=b[G]-et[_e]);++$)_e+=O,G+=L;if(Be<0){if(q!==xe)for(se=w*q,ne=w*xe,we=_,$=0;$<I;++$)P=b[G=se+we],b[G]=b[H=ne+we],b[H]=P,we+=k;++xe}else{for(G=_+q*w,_e=0,$=0;$<I&&0==(qe=b[G]-st[_e]);++$)_e+=O,G+=L;if(qe>0)for(;;){for(G=_+Oe*w,_e=0,$=0;$<I&&0==(He=b[G]-st[_e]);++$)_e+=O,G+=L;if(!(He>0)){for(G=_+Oe*w,_e=0,$=0;$<I&&0==(He=b[G]-et[_e]);++$)_e+=O,G+=L;if(He<0){for(se=w*q,ne=w*xe,re=w*Oe,we=_,$=0;$<I;++$)Z=re+we,P=b[G=se+we],b[G]=b[H=ne+we],b[H]=b[Z],b[Z]=P,we+=k;++xe,--Oe}else{for(se=w*q,ne=w*Oe,we=_,$=0;$<I;++$)P=b[G=se+we],b[G]=b[H=ne+we],b[H]=P,we+=k;--Oe}break}if(--Oe<q)break}}}for(se=w*x,ne=w*(xe-1),_e=0,we=_,$=0;$<I;++$)b[G=se+we]=b[H=ne+we],b[H]=et[_e],++_e,we+=k;for(se=w*m,ne=w*(Oe+1),_e=0,we=_,$=0;$<I;++$)b[G=se+we]=b[H=ne+we],b[H]=st[_e],++_e,we+=k;if(xe-2-x<=32?f(x,xe-2,b,_,w,A,p,I,k,L,O):T(x,xe-2,b,_,w,A,p,I,k,L,O),m-(Oe+2)<=32?f(Oe+2,m,b,_,w,A,p,I,k,L,O):T(Oe+2,m,b,_,w,A,p,I,k,L,O),Ce)return h(et),void h(st);if(xe<Ee&&Oe>Se){e:for(;;){for(G=_+xe*w,_e=0,we=_,$=0;$<I;++$){if(b[G]!==et[_e])break e;++_e,G+=k}++xe}e:for(;;){for(G=_+Oe*w,_e=0,we=_,$=0;$<I;++$){if(b[G]!==st[_e])break e;++_e,G+=k}--Oe}for(q=xe;q<=Oe;++q){for(G=_+q*w,_e=0,$=0;$<I&&0==(Be=b[G]-et[_e]);++$)_e+=O,G+=L;if(0===Be){if(q!==xe)for(se=w*q,ne=w*xe,we=_,$=0;$<I;++$)P=b[G=se+we],b[G]=b[H=ne+we],b[H]=P,we+=k;++xe}else{for(G=_+q*w,_e=0,$=0;$<I&&0==(qe=b[G]-st[_e]);++$)_e+=O,G+=L;if(0===qe)for(;;){for(G=_+Oe*w,_e=0,$=0;$<I&&0==(He=b[G]-st[_e]);++$)_e+=O,G+=L;if(0!==He){for(G=_+Oe*w,_e=0,$=0;$<I&&0==(He=b[G]-et[_e]);++$)_e+=O,G+=L;if(He<0){for(se=w*q,ne=w*xe,re=w*Oe,we=_,$=0;$<I;++$)Z=re+we,P=b[G=se+we],b[G]=b[H=ne+we],b[H]=b[Z],b[Z]=P,we+=k;++xe,--Oe}else{for(se=w*q,ne=w*Oe,we=_,$=0;$<I;++$)P=b[G=se+we],b[G]=b[H=ne+we],b[H]=P,we+=k;--Oe}break}if(--Oe<q)break}}}}h(et),h(st),Oe-xe<=32?f(xe,Oe,b,_,w,A,p,I,k,L,O):T(xe,Oe,b,_,w,A,p,I,k,L,O)}}},c={"uint32,1,0":function(f,g){return function(h){var T=h.data,x=0|h.offset,m=h.shape,b=h.stride,_=0|b[0],w=0|m[0],A=0|b[1],p=0|m[1],I=A,k=A;w<=32?f(0,w-1,T,x,_,A,w,p,I,k,1):g(0,w-1,T,x,_,A,w,p,I,k,1)}}};v.exports=function(f,g){var b,_,w,A,p,h=[g,f].join(","),T=c[h],x=(b=f,w=a(_=g),A=[_,b].join(","),p=o[A],w?p(w[0],w[1]):p()),m=function(b,_,w){var A=a(_),p=[_,b].join(","),I=l[p];return b.length>1&&A?I(w,A[0],A[1]):I(w)}(f,g,x);return T(x,m)}},8729:function(v,u,i){"use strict";var s=i(8139),a={};v.exports=function(o){var l=o.order,c=o.dtype,f=[l,c].join(":"),g=a[f];return g||(a[f]=g=s(l,c)),g(o),o}},5050:function(v,u,i){var s=i(4780),a=typeof Float64Array<"u";function o(h,T){return h[0]-T[0]}function l(){var h,T=this.stride,x=new Array(T.length);for(h=0;h<x.length;++h)x[h]=[Math.abs(T[h]),h];x.sort(o);var m=new Array(x.length);for(h=0;h<m.length;++h)m[h]=x[h][1];return m}var c={T:function(h){function T(m){this.data=m}var x=T.prototype;return x.dtype=h,x.index=function(){return-1},x.size=0,x.dimension=-1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new T(this.data)},x.get=x.set=function(){},x.pick=function(){return null},function(m){return new T(m)}},0:function(h,T){function x(b,_){this.data=b,this.offset=_}var m=x.prototype;return m.dtype=h,m.index=function(){return this.offset},m.dimension=0,m.size=1,m.shape=m.stride=m.order=[],m.lo=m.hi=m.transpose=m.step=function(){return new x(this.data,this.offset)},m.pick=function(){return T(this.data)},m.valueOf=m.get=function(){return"generic"===h?this.data.get(this.offset):this.data[this.offset]},m.set=function(b){return"generic"===h?this.data.set(this.offset,b):this.data[this.offset]=b},function(b,_,w,A){return new x(b,A)}},1:function(h,T,x){function m(_,w,A,p){this.data=_,this.shape=[w],this.stride=[A],this.offset=0|p}var b=m.prototype;return b.dtype=h,b.dimension=1,Object.defineProperty(b,"size",{get:function(){return this.shape[0]}}),b.order=[0],b.set=function(_,w){return"generic"===h?this.data.set(this.offset+this.stride[0]*_,w):this.data[this.offset+this.stride[0]*_]=w},b.get=function(_){return"generic"===h?this.data.get(this.offset+this.stride[0]*_):this.data[this.offset+this.stride[0]*_]},b.index=function(_){return this.offset+this.stride[0]*_},b.hi=function(_){return new m(this.data,"number"!=typeof _||_<0?this.shape[0]:0|_,this.stride[0],this.offset)},b.lo=function(_){var w=this.offset,A=0,p=this.shape[0],I=this.stride[0];return"number"==typeof _&&_>=0&&(w+=I*(A=0|_),p-=A),new m(this.data,p,I,w)},b.step=function(_){var w=this.shape[0],A=this.stride[0],p=this.offset,I=0,k=Math.ceil;return"number"==typeof _&&((I=0|_)<0?(p+=A*(w-1),w=k(-w/I)):w=k(w/I),A*=I),new m(this.data,w,A,p)},b.transpose=function(_){return new m(this.data,this.shape[_=void 0===_?0:0|_],this.stride[_],this.offset)},b.pick=function(_){var w=[],A=[],p=this.offset;return"number"==typeof _&&_>=0?p=p+this.stride[0]*_|0:(w.push(this.shape[0]),A.push(this.stride[0])),(0,T[w.length+1])(this.data,w,A,p)},function(_,w,A,p){return new m(_,w[0],A[0],p)}},2:function(h,T,x){function m(_,w,A,p,I,k){this.data=_,this.shape=[w,A],this.stride=[p,I],this.offset=0|k}var b=m.prototype;return b.dtype=h,b.dimension=2,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(b,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),b.set=function(_,w,A){return"generic"===h?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*w,A):this.data[this.offset+this.stride[0]*_+this.stride[1]*w]=A},b.get=function(_,w){return"generic"===h?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*w):this.data[this.offset+this.stride[0]*_+this.stride[1]*w]},b.index=function(_,w){return this.offset+this.stride[0]*_+this.stride[1]*w},b.hi=function(_,w){return new m(this.data,"number"!=typeof _||_<0?this.shape[0]:0|_,"number"!=typeof w||w<0?this.shape[1]:0|w,this.stride[0],this.stride[1],this.offset)},b.lo=function(_,w){var A=this.offset,p=0,I=this.shape[0],k=this.shape[1],L=this.stride[0],O=this.stride[1];return"number"==typeof _&&_>=0&&(A+=L*(p=0|_),I-=p),"number"==typeof w&&w>=0&&(A+=O*(p=0|w),k-=p),new m(this.data,I,k,L,O,A)},b.step=function(_,w){var A=this.shape[0],p=this.shape[1],I=this.stride[0],k=this.stride[1],L=this.offset,O=0,P=Math.ceil;return"number"==typeof _&&((O=0|_)<0?(L+=I*(A-1),A=P(-A/O)):A=P(A/O),I*=O),"number"==typeof w&&((O=0|w)<0?(L+=k*(p-1),p=P(-p/O)):p=P(p/O),k*=O),new m(this.data,A,p,I,k,L)},b.transpose=function(_,w){var A=this.shape,p=this.stride;return new m(this.data,A[_=void 0===_?0:0|_],A[w=void 0===w?1:0|w],p[_],p[w],this.offset)},b.pick=function(_,w){var A=[],p=[],I=this.offset;return"number"==typeof _&&_>=0?I=I+this.stride[0]*_|0:(A.push(this.shape[0]),p.push(this.stride[0])),"number"==typeof w&&w>=0?I=I+this.stride[1]*w|0:(A.push(this.shape[1]),p.push(this.stride[1])),(0,T[A.length+1])(this.data,A,p,I)},function(_,w,A,p){return new m(_,w[0],w[1],A[0],A[1],p)}},3:function(h,T,x){function m(_,w,A,p,I,k,L,O){this.data=_,this.shape=[w,A,p],this.stride=[I,k,L],this.offset=0|O}var b=m.prototype;return b.dtype=h,b.dimension=3,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(b,"order",{get:function(){var _=Math.abs(this.stride[0]),w=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return _>w?w>A?[2,1,0]:_>A?[1,2,0]:[1,0,2]:_>A?[2,0,1]:A>w?[0,1,2]:[0,2,1]}}),b.set=function(_,w,A,p){return"generic"===h?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A,p):this.data[this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A]=p},b.get=function(_,w,A){return"generic"===h?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A):this.data[this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A]},b.index=function(_,w,A){return this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A},b.hi=function(_,w,A){return new m(this.data,"number"!=typeof _||_<0?this.shape[0]:0|_,"number"!=typeof w||w<0?this.shape[1]:0|w,"number"!=typeof A||A<0?this.shape[2]:0|A,this.stride[0],this.stride[1],this.stride[2],this.offset)},b.lo=function(_,w,A){var p=this.offset,I=0,k=this.shape[0],L=this.shape[1],O=this.shape[2],P=this.stride[0],F=this.stride[1],j=this.stride[2];return"number"==typeof _&&_>=0&&(p+=P*(I=0|_),k-=I),"number"==typeof w&&w>=0&&(p+=F*(I=0|w),L-=I),"number"==typeof A&&A>=0&&(p+=j*(I=0|A),O-=I),new m(this.data,k,L,O,P,F,j,p)},b.step=function(_,w,A){var p=this.shape[0],I=this.shape[1],k=this.shape[2],L=this.stride[0],O=this.stride[1],P=this.stride[2],F=this.offset,j=0,X=Math.ceil;return"number"==typeof _&&((j=0|_)<0?(F+=L*(p-1),p=X(-p/j)):p=X(p/j),L*=j),"number"==typeof w&&((j=0|w)<0?(F+=O*(I-1),I=X(-I/j)):I=X(I/j),O*=j),"number"==typeof A&&((j=0|A)<0?(F+=P*(k-1),k=X(-k/j)):k=X(k/j),P*=j),new m(this.data,p,I,k,L,O,P,F)},b.transpose=function(_,w,A){var p=this.shape,I=this.stride;return new m(this.data,p[_=void 0===_?0:0|_],p[w=void 0===w?1:0|w],p[A=void 0===A?2:0|A],I[_],I[w],I[A],this.offset)},b.pick=function(_,w,A){var p=[],I=[],k=this.offset;return"number"==typeof _&&_>=0?k=k+this.stride[0]*_|0:(p.push(this.shape[0]),I.push(this.stride[0])),"number"==typeof w&&w>=0?k=k+this.stride[1]*w|0:(p.push(this.shape[1]),I.push(this.stride[1])),"number"==typeof A&&A>=0?k=k+this.stride[2]*A|0:(p.push(this.shape[2]),I.push(this.stride[2])),(0,T[p.length+1])(this.data,p,I,k)},function(_,w,A,p){return new m(_,w[0],w[1],w[2],A[0],A[1],A[2],p)}},4:function(h,T,x){function m(_,w,A,p,I,k,L,O,P,F){this.data=_,this.shape=[w,A,p,I],this.stride=[k,L,O,P],this.offset=0|F}var b=m.prototype;return b.dtype=h,b.dimension=4,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(b,"order",{get:x}),b.set=function(_,w,A,p,I){return"generic"===h?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p,I):this.data[this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p]=I},b.get=function(_,w,A,p){return"generic"===h?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p):this.data[this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p]},b.index=function(_,w,A,p){return this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p},b.hi=function(_,w,A,p){return new m(this.data,"number"!=typeof _||_<0?this.shape[0]:0|_,"number"!=typeof w||w<0?this.shape[1]:0|w,"number"!=typeof A||A<0?this.shape[2]:0|A,"number"!=typeof p||p<0?this.shape[3]:0|p,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},b.lo=function(_,w,A,p){var I=this.offset,k=0,L=this.shape[0],O=this.shape[1],P=this.shape[2],F=this.shape[3],j=this.stride[0],X=this.stride[1],N=this.stride[2],q=this.stride[3];return"number"==typeof _&&_>=0&&(I+=j*(k=0|_),L-=k),"number"==typeof w&&w>=0&&(I+=X*(k=0|w),O-=k),"number"==typeof A&&A>=0&&(I+=N*(k=0|A),P-=k),"number"==typeof p&&p>=0&&(I+=q*(k=0|p),F-=k),new m(this.data,L,O,P,F,j,X,N,q,I)},b.step=function(_,w,A,p){var I=this.shape[0],k=this.shape[1],L=this.shape[2],O=this.shape[3],P=this.stride[0],F=this.stride[1],j=this.stride[2],X=this.stride[3],N=this.offset,q=0,G=Math.ceil;return"number"==typeof _&&((q=0|_)<0?(N+=P*(I-1),I=G(-I/q)):I=G(I/q),P*=q),"number"==typeof w&&((q=0|w)<0?(N+=F*(k-1),k=G(-k/q)):k=G(k/q),F*=q),"number"==typeof A&&((q=0|A)<0?(N+=j*(L-1),L=G(-L/q)):L=G(L/q),j*=q),"number"==typeof p&&((q=0|p)<0?(N+=X*(O-1),O=G(-O/q)):O=G(O/q),X*=q),new m(this.data,I,k,L,O,P,F,j,X,N)},b.transpose=function(_,w,A,p){var I=this.shape,k=this.stride;return new m(this.data,I[_=void 0===_?0:0|_],I[w=void 0===w?1:0|w],I[A=void 0===A?2:0|A],I[p=void 0===p?3:0|p],k[_],k[w],k[A],k[p],this.offset)},b.pick=function(_,w,A,p){var I=[],k=[],L=this.offset;return"number"==typeof _&&_>=0?L=L+this.stride[0]*_|0:(I.push(this.shape[0]),k.push(this.stride[0])),"number"==typeof w&&w>=0?L=L+this.stride[1]*w|0:(I.push(this.shape[1]),k.push(this.stride[1])),"number"==typeof A&&A>=0?L=L+this.stride[2]*A|0:(I.push(this.shape[2]),k.push(this.stride[2])),"number"==typeof p&&p>=0?L=L+this.stride[3]*p|0:(I.push(this.shape[3]),k.push(this.stride[3])),(0,T[I.length+1])(this.data,I,k,L)},function(_,w,A,p){return new m(_,w[0],w[1],w[2],w[3],A[0],A[1],A[2],A[3],p)}},5:function(h,T,x){function m(_,w,A,p,I,k,L,O,P,F,j,X){this.data=_,this.shape=[w,A,p,I,k],this.stride=[L,O,P,F,j],this.offset=0|X}var b=m.prototype;return b.dtype=h,b.dimension=5,Object.defineProperty(b,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(b,"order",{get:x}),b.set=function(_,w,A,p,I,k){return"generic"===h?this.data.set(this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p+this.stride[4]*I,k):this.data[this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p+this.stride[4]*I]=k},b.get=function(_,w,A,p,I){return"generic"===h?this.data.get(this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p+this.stride[4]*I):this.data[this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p+this.stride[4]*I]},b.index=function(_,w,A,p,I){return this.offset+this.stride[0]*_+this.stride[1]*w+this.stride[2]*A+this.stride[3]*p+this.stride[4]*I},b.hi=function(_,w,A,p,I){return new m(this.data,"number"!=typeof _||_<0?this.shape[0]:0|_,"number"!=typeof w||w<0?this.shape[1]:0|w,"number"!=typeof A||A<0?this.shape[2]:0|A,"number"!=typeof p||p<0?this.shape[3]:0|p,"number"!=typeof I||I<0?this.shape[4]:0|I,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},b.lo=function(_,w,A,p,I){var k=this.offset,L=0,O=this.shape[0],P=this.shape[1],F=this.shape[2],j=this.shape[3],X=this.shape[4],N=this.stride[0],q=this.stride[1],G=this.stride[2],H=this.stride[3],Z=this.stride[4];return"number"==typeof _&&_>=0&&(k+=N*(L=0|_),O-=L),"number"==typeof w&&w>=0&&(k+=q*(L=0|w),P-=L),"number"==typeof A&&A>=0&&(k+=G*(L=0|A),F-=L),"number"==typeof p&&p>=0&&(k+=H*(L=0|p),j-=L),"number"==typeof I&&I>=0&&(k+=Z*(L=0|I),X-=L),new m(this.data,O,P,F,j,X,N,q,G,H,Z,k)},b.step=function(_,w,A,p,I){var k=this.shape[0],L=this.shape[1],O=this.shape[2],P=this.shape[3],F=this.shape[4],j=this.stride[0],X=this.stride[1],N=this.stride[2],q=this.stride[3],G=this.stride[4],H=this.offset,Z=0,$=Math.ceil;return"number"==typeof _&&((Z=0|_)<0?(H+=j*(k-1),k=$(-k/Z)):k=$(k/Z),j*=Z),"number"==typeof w&&((Z=0|w)<0?(H+=X*(L-1),L=$(-L/Z)):L=$(L/Z),X*=Z),"number"==typeof A&&((Z=0|A)<0?(H+=N*(O-1),O=$(-O/Z)):O=$(O/Z),N*=Z),"number"==typeof p&&((Z=0|p)<0?(H+=q*(P-1),P=$(-P/Z)):P=$(P/Z),q*=Z),"number"==typeof I&&((Z=0|I)<0?(H+=G*(F-1),F=$(-F/Z)):F=$(F/Z),G*=Z),new m(this.data,k,L,O,P,F,j,X,N,q,G,H)},b.transpose=function(_,w,A,p,I){var k=this.shape,L=this.stride;return new m(this.data,k[_=void 0===_?0:0|_],k[w=void 0===w?1:0|w],k[A=void 0===A?2:0|A],k[p=void 0===p?3:0|p],k[I=void 0===I?4:0|I],L[_],L[w],L[A],L[p],L[I],this.offset)},b.pick=function(_,w,A,p,I){var k=[],L=[],O=this.offset;return"number"==typeof _&&_>=0?O=O+this.stride[0]*_|0:(k.push(this.shape[0]),L.push(this.stride[0])),"number"==typeof w&&w>=0?O=O+this.stride[1]*w|0:(k.push(this.shape[1]),L.push(this.stride[1])),"number"==typeof A&&A>=0?O=O+this.stride[2]*A|0:(k.push(this.shape[2]),L.push(this.stride[2])),"number"==typeof p&&p>=0?O=O+this.stride[3]*p|0:(k.push(this.shape[3]),L.push(this.stride[3])),"number"==typeof I&&I>=0?O=O+this.stride[4]*I|0:(k.push(this.shape[4]),L.push(this.stride[4])),(0,T[k.length+1])(this.data,k,L,O)},function(_,w,A,p){return new m(_,w[0],w[1],w[2],w[3],w[4],A[0],A[1],A[2],A[3],A[4],p)}}};function f(h,T){var x=-1===T?"T":String(T),m=c[x];return-1===T?m(h):0===T?m(h,g[h][0]):m(h,g[h],l)}var g={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};v.exports=function(h,T,x,m){if(void 0===h)return(0,g.array[0])([]);"number"==typeof h&&(h=[h]),void 0===T&&(T=[h.length]);var b=T.length;if(void 0===x){x=new Array(b);for(var _=b-1,w=1;_>=0;--_)x[_]=w,w*=T[_]}if(void 0===m)for(m=0,_=0;_<b;++_)x[_]<0&&(m-=(T[_]-1)*x[_]);for(var A=function(I){if(s(I))return"buffer";if(a)switch(Object.prototype.toString.call(I)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(I)?"array":"generic"}(h),p=g[A];p.length<=b+1;)p.push(f(A,p.length-1));return(0,p[b+1])(h,T,x,m)}},8551:function(v,u,i){"use strict";var s=i(8362),a=Math.pow(2,-1074),o=-1>>>0;v.exports=function(l,c){if(isNaN(l)||isNaN(c))return NaN;if(l===c)return l;if(0===l)return c<0?-a:a;var f=s.hi(l),g=s.lo(l);return c>l==l>0?g===o?(f+=1,g=0):g+=1:0===g?(g=o,f-=1):g-=1,s.pack(g,f)}},115:function(v,u){u.vertexNormals=function(i,s,a){for(var o=s.length,l=new Array(o),c=void 0===a?1e-6:a,f=0;f<o;++f)l[f]=[0,0,0];for(f=0;f<i.length;++f)for(var g=i[f],T=g[g.length-1],x=g[0],m=0;m<g.length;++m){for(var b=s[T],_=s[T=x],w=s[x=g[(m+1)%g.length]],A=new Array(3),p=0,I=new Array(3),k=0,L=0;L<3;++L)A[L]=b[L]-_[L],p+=A[L]*A[L],I[L]=w[L]-_[L],k+=I[L]*I[L];if(p*k>c){var O=l[T],P=1/Math.sqrt(p*k);for(L=0;L<3;++L){var F=(L+1)%3,j=(L+2)%3;O[L]+=P*(I[F]*A[j]-I[j]*A[F])}}}for(f=0;f<o;++f){O=l[f];var X=0;for(L=0;L<3;++L)X+=O[L]*O[L];if(X>c)for(P=1/Math.sqrt(X),L=0;L<3;++L)O[L]*=P;else for(L=0;L<3;++L)O[L]=0}return l},u.faceNormals=function(i,s,a){for(var o=i.length,l=new Array(o),c=void 0===a?1e-6:a,f=0;f<o;++f){for(var g=i[f],h=new Array(3),T=0;T<3;++T)h[T]=s[g[T]];var x=new Array(3),m=new Array(3);for(T=0;T<3;++T)x[T]=h[1][T]-h[0][T],m[T]=h[2][T]-h[0][T];var b=new Array(3),_=0;for(T=0;T<3;++T){var w=(T+1)%3,A=(T+2)%3;b[T]=x[w]*m[A]-x[A]*m[w],_+=b[T]*b[T]}for(_=_>c?1/Math.sqrt(_):0,T=0;T<3;++T)b[T]*=_;l[f]=b}return l}},567:function(v){"use strict";v.exports=function(u,i,s,a,o,l,c,f,g,h){var T=i+l+h;if(x>0){var x=Math.sqrt(T+1);u[0]=.5*(c-g)/x,u[1]=.5*(f-a)/x,u[2]=.5*(s-l)/x,u[3]=.5*x}else{var m=Math.max(i,l,h);x=Math.sqrt(2*m-T+1),i>=m?(u[0]=.5*x,u[1]=.5*(o+s)/x,u[2]=.5*(f+a)/x,u[3]=.5*(c-g)/x):l>=m?(u[0]=.5*(s+o)/x,u[1]=.5*x,u[2]=.5*(g+c)/x,u[3]=.5*(f-a)/x):(u[0]=.5*(a+f)/x,u[1]=.5*(c+g)/x,u[2]=.5*x,u[3]=.5*(s-o)/x)}return u}},7774:function(v,u,i){"use strict";v.exports=function(m){var b=(m=m||{}).center||[0,0,0],_=m.rotation||[0,0,0,1],w=m.radius||1;b=[].slice.call(b,0,3),h(_=[].slice.call(_,0,4),_);var A=new T(_,b,Math.log(w));return A.setDistanceLimits(m.zoomMin,m.zoomMax),("eye"in m||"up"in m)&&A.lookAt(0,m.eye,m.center,m.up),A};var s=i(8444),a=i(3012),o=i(5950),l=i(7437),c=i(567);function f(m,b,_){return Math.sqrt(Math.pow(m,2)+Math.pow(b,2)+Math.pow(_,2))}function g(m,b,_,w){return Math.sqrt(Math.pow(m,2)+Math.pow(b,2)+Math.pow(_,2)+Math.pow(w,2))}function h(m,b){var _=b[0],w=b[1],A=b[2],p=b[3],I=g(_,w,A,p);I>1e-6?(m[0]=_/I,m[1]=w/I,m[2]=A/I,m[3]=p/I):(m[0]=m[1]=m[2]=0,m[3]=1)}function T(m,b,_){this.radius=s([_]),this.center=s(b),this.rotation=s(m),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var x=T.prototype;x.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},x.recalcMatrix=function(m){this.radius.curve(m),this.center.curve(m),this.rotation.curve(m);var b=this.computedRotation;h(b,b);var _=this.computedMatrix;o(_,b);var w=this.computedCenter,A=this.computedEye,p=this.computedUp,I=Math.exp(this.computedRadius[0]);A[0]=w[0]+I*_[2],A[1]=w[1]+I*_[6],A[2]=w[2]+I*_[10],p[0]=_[1],p[1]=_[5],p[2]=_[9];for(var k=0;k<3;++k){for(var L=0,O=0;O<3;++O)L+=_[k+4*O]*A[O];_[12+k]=-L}},x.getMatrix=function(m,b){this.recalcMatrix(m);var _=this.computedMatrix;if(b){for(var w=0;w<16;++w)b[w]=_[w];return b}return _},x.idle=function(m){this.center.idle(m),this.radius.idle(m),this.rotation.idle(m)},x.flush=function(m){this.center.flush(m),this.radius.flush(m),this.rotation.flush(m)},x.pan=function(m,b,_,w){b=b||0,_=_||0,w=w||0,this.recalcMatrix(m);var A=this.computedMatrix,p=A[1],I=A[5],k=A[9],L=f(p,I,k),O=A[0],P=A[4],F=A[8],j=O*(p/=L)+P*(I/=L)+F*(k/=L),X=f(O-=p*j,P-=I*j,F-=k*j),N=A[2],q=A[6],G=A[10],H=N*p+q*I+G*k,Z=N*(O/=X)+q*(P/=X)+G*(F/=X),$=f(N-=H*p+Z*O,q-=H*I+Z*P,G-=H*k+Z*F);N/=$,q/=$,G/=$,this.center.move(m,O*b+p*_,P*b+I*_,F*b+k*_);var Q=Math.exp(this.computedRadius[0]);Q=Math.max(1e-4,Q+w),this.radius.set(m,Math.log(Q))},x.rotate=function(m,b,_,w){this.recalcMatrix(m);var A=this.computedMatrix,F=A[2],j=A[6],X=A[10],N=(b=b||0)*A[0]+(_=_||0)*A[1],q=b*A[4]+_*A[5],G=b*A[8]+_*A[9],H=-(j*G-X*q),Z=-(X*N-F*G),$=-(F*q-j*N),se=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(Z,2)-Math.pow($,2))),ne=g(H,Z,$,se);ne>1e-6?(H/=ne,Z/=ne,$/=ne,se/=ne):(H=Z=$=0,se=1);var re=this.computedRotation,Q=re[0],ee=re[1],oe=re[2],ce=re[3],ue=Q*se+ce*H+ee*$-oe*Z,he=ee*se+ce*Z+oe*H-Q*$,ve=oe*se+ce*$+Q*Z-ee*H,ke=ce*se-Q*H-ee*Z-oe*$;if(w){H=F,Z=j,$=X;var Ie=Math.sin(w)/f(H,Z,$);H*=Ie,Z*=Ie,$*=Ie,ke=ke*(se=Math.cos(b))-(ue=ue*se+ke*H+he*$-ve*Z)*H-(he=he*se+ke*Z+ve*H-ue*$)*Z-(ve=ve*se+ke*$+ue*Z-he*H)*$}var Me=g(ue,he,ve,ke);Me>1e-6?(ue/=Me,he/=Me,ve/=Me,ke/=Me):(ue=he=ve=0,ke=1),this.rotation.set(m,ue,he,ve,ke)},x.lookAt=function(m,b,_,w){this.recalcMatrix(m);var A=this.computedMatrix;a(A,b=b||this.computedEye,_=_||this.computedCenter,w=w||this.computedUp);var p=this.computedRotation;c(p,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),h(p,p),this.rotation.set(m,p[0],p[1],p[2],p[3]);for(var I=0,k=0;k<3;++k)I+=Math.pow(_[k]-b[k],2);this.radius.set(m,.5*Math.log(Math.max(I,1e-6))),this.center.set(m,_[0],_[1],_[2])},x.translate=function(m,b,_,w){this.center.move(m,b||0,_||0,w||0)},x.setMatrix=function(m,b){var _=this.computedRotation;c(_,b[0],b[1],b[2],b[4],b[5],b[6],b[8],b[9],b[10]),h(_,_),this.rotation.set(m,_[0],_[1],_[2],_[3]);var w=this.computedMatrix;l(w,b);var A=w[15];if(Math.abs(A)>1e-6){var p=w[12]/A,I=w[13]/A,k=w[14]/A;this.recalcMatrix(m);var L=Math.exp(this.computedRadius[0]);this.center.set(m,p-w[2]*L,I-w[6]*L,k-w[10]*L),this.radius.idle(m)}else this.center.idle(m),this.radius.idle(m)},x.setDistance=function(m,b){b>0&&this.radius.set(m,Math.log(b))},x.setDistanceLimits=function(m,b){m=m>0?Math.log(m):-1/0,b=b>0?Math.log(b):1/0,b=Math.max(b,m),this.radius.bounds[0][0]=m,this.radius.bounds[1][0]=b},x.getDistanceLimits=function(m){var b=this.radius.bounds;return m?(m[0]=Math.exp(b[0][0]),m[1]=Math.exp(b[1][0]),m):[Math.exp(b[0][0]),Math.exp(b[1][0])]},x.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},x.fromJSON=function(m){var b=this.lastT(),_=m.center;_&&this.center.set(b,_[0],_[1],_[2]);var w=m.rotation;w&&this.rotation.set(b,w[0],w[1],w[2],w[3]);var A=m.distance;A&&A>0&&this.radius.set(b,Math.log(A)),this.setDistanceLimits(m.zoomMin,m.zoomMax)}},4930:function(v,u,i){"use strict";var s=i(6184);v.exports=function(a,o,l){return s(l=void 0!==l?l+"":" ",o)+a}},4405:function(v){v.exports=function(u,i){i||(i=[0,""]),u=String(u);var s=parseFloat(u,10);return i[0]=s,i[1]=u.match(/[\d.\-\+]*\s*(.*)/)[1]||"",i}},4166:function(v,u,i){"use strict";v.exports=function(a,o){for(var l=0|o.length,c=a.length,f=[new Array(l),new Array(l)],g=0;g<l;++g)f[0][g]=[],f[1][g]=[];for(g=0;g<c;++g){var h=a[g];f[0][h[0]].push(h),f[1][h[1]].push(h)}var k,T=[];for(g=0;g<l;++g)f[0][g].length+f[1][g].length===0&&T.push([g]);function x(I,k){var L=f[k][I[k]];L.splice(L.indexOf(I),1)}function m(I,k,L){for(var O,P,F,j=0;j<2;++j)if(f[j][k].length>0){O=f[j][k][0],F=j;break}P=O[1^F];for(var X=0;X<2;++X)for(var N=f[X][k],q=0;q<N.length;++q){var G=N[q],H=G[1^X];s(o[I],o[k],o[P],o[H])>0&&(O=G,P=H,F=X)}return L||O&&x(O,F),P}function b(I,k){var L=f[k][I][0],O=[I];x(L,k);for(var P=L[1^k];;){for(;P!==I;)O.push(P),P=m(O[O.length-2],P,!1);if(f[0][I].length+f[1][I].length===0)break;var F=O[O.length-1],j=I,X=O[1],N=m(F,j,!0);if(s(o[F],o[j],o[X],o[N])<0)break;O.push(I),P=m(F,j)}return O}for(g=0;g<l;++g)for(var w=0;w<2;++w){for(var A=[];f[w][g].length>0;){var p=b(g,w);(k=p)[1]===k[k.length-1]?A.push.apply(A,p):(A.length>0&&T.push(A),A=p)}A.length>0&&T.push(A)}return T};var s=i(9398)},3959:function(v,u,i){"use strict";v.exports=function(a,o){for(var l=s(a,o.length),c=new Array(o.length),f=new Array(o.length),g=[],h=0;h<o.length;++h){var T=l[h].length;f[h]=T,c[h]=!0,T<=1&&g.push(h)}for(;g.length>0;){c[w=g.pop()]=!1;var x=l[w];for(h=0;h<x.length;++h){var m=x[h];0==--f[m]&&g.push(m)}}var b=new Array(o.length),_=[];for(h=0;h<o.length;++h)if(c[h]){var w=_.length;b[h]=w,_.push(o[h])}else b[h]=-1;var A=[];for(h=0;h<a.length;++h){var p=a[h];c[p[0]]&&c[p[1]]&&A.push([b[p[0]],b[p[1]]])}return[A,_]};var s=i(8348)},8040:function(v,u,i){"use strict";v.exports=function(T,x){for(var m=g(T,x),b=(x=m[1]).length,_=s(T=m[0],x.length),w=0;w<b;++w)if(_[w].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var A=a(T,x),p=(A=A.filter(function(ze){for(var Ee=ze.length,Se=[0],me=0;me<Ee;++me){var fe=x[ze[me]],le=x[ze[(me+1)%Ee]],Te=l(-fe[0],fe[1]),Re=l(-fe[0],le[1]),De=l(le[0],fe[1]),Ue=l(le[0],le[1]);Se=c(Se,c(c(Te,Re),c(De,Ue)))}return Se[Se.length-1]>0})).length,I=new Array(p),k=new Array(p);for(w=0;w<p;++w){I[w]=w;var L=new Array(p),O=A[w].map(function(ze){return x[ze]}),P=o([O]),F=0;e:for(var j=0;j<p;++j)if(L[j]=0,w!==j){for(var X=(_e=A[j]).length,N=0;N<X;++N){var q=P(x[_e[N]]);if(0!==q){q<0&&(L[j]=1,F+=1);continue e}}L[j]=1,F+=1}k[w]=[F,w,L]}for(k.sort(function(ze,Ee){return Ee[0]-ze[0]}),w=0;w<p;++w){var G=(L=k[w])[1],H=L[2];for(j=0;j<p;++j)H[j]&&(I[j]=G)}var Z=function(ze){for(var Ee=new Array(ze),Se=0;Se<ze;++Se)Ee[Se]=[];return Ee}(p);for(w=0;w<p;++w)Z[w].push(I[w]),Z[I[w]].push(w);var $={},se=h(b,!1);for(w=0;w<p;++w)for(X=(_e=A[w]).length,j=0;j<X;++j){var ne=_e[j],re=_e[(j+1)%X],Q=Math.min(ne,re)+":"+Math.max(ne,re);if(Q in $){var ee=$[Q];Z[ee].push(w),Z[w].push(ee),se[ne]=se[re]=!0}else $[Q]=w}function oe(ze){for(var Ee=ze.length,Se=0;Se<Ee;++Se)if(!se[ze[Se]])return!1;return!0}var ce=[],ue=h(p,-1);for(w=0;w<p;++w)I[w]!==w||oe(A[w])?ue[w]=-1:(ce.push(w),ue[w]=0);for(m=[];ce.length>0;){var he=ce.pop(),ve=Z[he];f(ve,function(ze,Ee){return ze-Ee});var ke,Ie=ve.length,Me=ue[he];for(0===Me&&(ke=[_e=A[he]]),w=0;w<Ie;++w){var _e,we=ve[w];ue[we]>=0||(ue[we]=1^Me,ce.push(we),0===Me&&(oe(_e=A[we])||(_e.reverse(),ke.push(_e))))}0===Me&&m.push(ke)}return m};var s=i(8348),a=i(4166),o=i(211),l=i(9660),c=i(9662),f=i(1215),g=i(3959);function h(T,x){for(var m=new Array(T),b=0;b<T;++b)m[b]=x;return m}},211:function(v,u,i){v.exports=function(h){for(var T=h.length,x=[],m=[],b=0;b<T;++b)for(var _=h[b],w=_.length,A=w-1,p=0;p<w;A=p++){var I=_[A],k=_[p];I[0]===k[0]?m.push([I,k]):x.push([I,k])}if(0===x.length)return 0===m.length?g:(L=f(m),function(F){return L(F[0],F[1])?0:1});var L,F,j,O=a(x),P=(F=O.slabs,j=O.coordinates,function(X){var N=l.le(j,X[0]);if(N<0)return 1;var q=F[N];if(!q){if(!(N>0&&j[N]===X[0]))return 1;q=F[N-1]}for(var G=1;q;){var H=q.key,Z=s(X,H[0],H[1]);if(H[0][0]<H[1][0])if(Z<0)q=q.left;else{if(!(Z>0))return 0;G=-1,q=q.right}else if(Z>0)q=q.left;else{if(!(Z<0))return 0;G=1,q=q.right}}return G});return 0===m.length?P:function(F,j){return function(X){return F(X[0],X[1])?0:j(X)}}(f(m),P)};var s=i(417)[3],a=i(4385),o=i(9014),l=i(5070);function c(){return!0}function f(h){for(var T={},x=0;x<h.length;++x){var m=h[x],b=m[0][0],_=m[0][1],w=m[1][1],A=[Math.min(_,w),Math.max(_,w)];b in T?T[b].push(A):T[b]=[A]}var L,p={},I=Object.keys(T);for(x=0;x<I.length;++x)p[I[x]]=o(T[I[x]]);return L=p,function(O,P){var F=L[O];return!!F&&!!F.queryPoint(P,c)}}function g(h){return 1}},7309:function(v){"use strict";var u=new Float64Array(4),i=new Float64Array(4),s=new Float64Array(4);v.exports=function(a,o,l,c,f){u.length<c.length&&(u=new Float64Array(c.length),i=new Float64Array(c.length),s=new Float64Array(c.length));for(var g=0;g<c.length;++g)u[g]=a[g]-c[g],i[g]=o[g]-a[g],s[g]=l[g]-a[g];var h=0,T=0,x=0,m=0,b=0,_=0;for(g=0;g<c.length;++g){var w=i[g],A=s[g],p=u[g];h+=w*w,T+=w*A,x+=A*A,m+=p*w,b+=p*A,_+=p*p}var I,k,L,O,P,F=Math.abs(h*x-T*T),j=T*b-x*m,X=T*m-h*b;if(j+X<=F)if(j<0)X<0&&m<0?(X=0,-m>=h?(j=1,I=h+2*m+_):I=m*(j=-m/h)+_):(j=0,b>=0?(X=0,I=_):-b>=x?(X=1,I=x+2*b+_):I=b*(X=-b/x)+_);else if(X<0)X=0,m>=0?(j=0,I=_):-m>=h?(j=1,I=h+2*m+_):I=m*(j=-m/h)+_;else{var N=1/F;I=(j*=N)*(h*j+T*(X*=N)+2*m)+X*(T*j+x*X+2*b)+_}else j<0?(L=x+b)>(k=T+m)?(O=L-k)>=(P=h-2*T+x)?(j=1,X=0,I=h+2*m+_):I=(j=O/P)*(h*j+T*(X=1-j)+2*m)+X*(T*j+x*X+2*b)+_:(j=0,L<=0?(X=1,I=x+2*b+_):b>=0?(X=0,I=_):I=b*(X=-b/x)+_):X<0?(L=h+m)>(k=T+b)?(O=L-k)>=(P=h-2*T+x)?(X=1,j=0,I=x+2*b+_):I=(j=1-(X=O/P))*(h*j+T*X+2*m)+X*(T*j+x*X+2*b)+_:(X=0,L<=0?(j=1,I=h+2*m+_):m>=0?(j=0,I=_):I=m*(j=-m/h)+_):(O=x+b-T-m)<=0?(j=0,X=1,I=x+2*b+_):O>=(P=h-2*T+x)?(j=1,X=0,I=h+2*m+_):I=(j=O/P)*(h*j+T*(X=1-j)+2*m)+X*(T*j+x*X+2*b)+_;var q=1-j-X;for(g=0;g<c.length;++g)f[g]=q*a[g]+j*o[g]+X*l[g];return I<0?0:I}},1116:function(v,u,i){v.exports=i(6093)},7584:function(v,u,i){"use strict";var s=i(1539);v.exports=function(a,o){for(var l=a.length,c=new Array(l),f=0;f<l;++f)c[f]=s(a[f],o[f]);return c}},2826:function(v,u,i){"use strict";v.exports=function(a){for(var o=new Array(a.length),l=0;l<a.length;++l)o[l]=s(a[l]);return o};var s=i(5125)},4469:function(v,u,i){"use strict";var s=i(5125),a=i(3962);v.exports=function(o,l){for(var c=s(l),f=o.length,g=new Array(f),h=0;h<f;++h)g[h]=a(o[h],c);return g}},6695:function(v,u,i){"use strict";var s=i(4354);v.exports=function(a,o){for(var l=a.length,c=new Array(l),f=0;f<l;++f)c[f]=s(a[f],o[f]);return c}},7037:function(v,u,i){"use strict";var s=i(9209),a=i(1284),o=i(9887);v.exports=function(l){l.sort(a);for(var c=l.length,f=0,g=0;g<c;++g){var h=l[g],T=o(h);if(0!==T){if(f>0){var x=l[f-1];if(0===s(h,x)&&o(x)!==T){f-=1;continue}}l[f++]=h}}return l.length=f,l}},6184:function(v){"use strict";var u,i="";v.exports=function(s,a){if("string"!=typeof s)throw new TypeError("expected a string");if(1===a)return s;if(2===a)return s+s;var o=s.length*a;if(u!==s||void 0===u)u=s,i="";else if(i.length>=o)return i.substr(0,o);for(;o>i.length&&a>1;)1&a&&(i+=s),a>>=1,s+=s;return i=(i+=s).substr(0,o)}},8161:function(v,u,i){v.exports=i.g.performance&&i.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){"use strict";v.exports=function(u){for(var i=u.length,s=u[u.length-1],a=i,o=i-2;o>=0;--o){var l=s;(g=(f=u[o])-((s=l+f)-l))&&(u[--a]=s,s=g)}var c=0;for(o=a;o<i;++o){var f,g;(g=(f=s)-((s=(l=u[o])+f)-l))&&(u[c++]=g)}return u[c++]=s,u.length=c,u}},8167:function(v,u,i){"use strict";var s=i(9660),a=i(9662),o=i(8289),l=i(402);function c(b,_,w,A){return function(p){return A(b(w(p[0][0],p[1][1]),w(-p[0][1],p[1][0])))}}function f(b,_,w,A){return function(p){return A(b(_(b(w(p[1][1],p[2][2]),w(-p[1][2],p[2][1])),p[0][0]),b(_(b(w(p[1][0],p[2][2]),w(-p[1][2],p[2][0])),-p[0][1]),_(b(w(p[1][0],p[2][1]),w(-p[1][1],p[2][0])),p[0][2]))))}}function g(b,_,w,A){return function(p){return A(b(b(_(b(_(b(w(p[2][2],p[3][3]),w(-p[2][3],p[3][2])),p[1][1]),b(_(b(w(p[2][1],p[3][3]),w(-p[2][3],p[3][1])),-p[1][2]),_(b(w(p[2][1],p[3][2]),w(-p[2][2],p[3][1])),p[1][3]))),p[0][0]),_(b(_(b(w(p[2][2],p[3][3]),w(-p[2][3],p[3][2])),p[1][0]),b(_(b(w(p[2][0],p[3][3]),w(-p[2][3],p[3][0])),-p[1][2]),_(b(w(p[2][0],p[3][2]),w(-p[2][2],p[3][0])),p[1][3]))),-p[0][1])),b(_(b(_(b(w(p[2][1],p[3][3]),w(-p[2][3],p[3][1])),p[1][0]),b(_(b(w(p[2][0],p[3][3]),w(-p[2][3],p[3][0])),-p[1][1]),_(b(w(p[2][0],p[3][1]),w(-p[2][1],p[3][0])),p[1][3]))),p[0][2]),_(b(_(b(w(p[2][1],p[3][2]),w(-p[2][2],p[3][1])),p[1][0]),b(_(b(w(p[2][0],p[3][2]),w(-p[2][2],p[3][0])),-p[1][1]),_(b(w(p[2][0],p[3][1]),w(-p[2][1],p[3][0])),p[1][2]))),-p[0][3]))))}}function h(b,_,w,A){return function(p){return A(b(b(_(b(b(_(b(_(b(w(p[3][3],p[4][4]),w(-p[3][4],p[4][3])),p[2][2]),b(_(b(w(p[3][2],p[4][4]),w(-p[3][4],p[4][2])),-p[2][3]),_(b(w(p[3][2],p[4][3]),w(-p[3][3],p[4][2])),p[2][4]))),p[1][1]),_(b(_(b(w(p[3][3],p[4][4]),w(-p[3][4],p[4][3])),p[2][1]),b(_(b(w(p[3][1],p[4][4]),w(-p[3][4],p[4][1])),-p[2][3]),_(b(w(p[3][1],p[4][3]),w(-p[3][3],p[4][1])),p[2][4]))),-p[1][2])),b(_(b(_(b(w(p[3][2],p[4][4]),w(-p[3][4],p[4][2])),p[2][1]),b(_(b(w(p[3][1],p[4][4]),w(-p[3][4],p[4][1])),-p[2][2]),_(b(w(p[3][1],p[4][2]),w(-p[3][2],p[4][1])),p[2][4]))),p[1][3]),_(b(_(b(w(p[3][2],p[4][3]),w(-p[3][3],p[4][2])),p[2][1]),b(_(b(w(p[3][1],p[4][3]),w(-p[3][3],p[4][1])),-p[2][2]),_(b(w(p[3][1],p[4][2]),w(-p[3][2],p[4][1])),p[2][3]))),-p[1][4]))),p[0][0]),_(b(b(_(b(_(b(w(p[3][3],p[4][4]),w(-p[3][4],p[4][3])),p[2][2]),b(_(b(w(p[3][2],p[4][4]),w(-p[3][4],p[4][2])),-p[2][3]),_(b(w(p[3][2],p[4][3]),w(-p[3][3],p[4][2])),p[2][4]))),p[1][0]),_(b(_(b(w(p[3][3],p[4][4]),w(-p[3][4],p[4][3])),p[2][0]),b(_(b(w(p[3][0],p[4][4]),w(-p[3][4],p[4][0])),-p[2][3]),_(b(w(p[3][0],p[4][3]),w(-p[3][3],p[4][0])),p[2][4]))),-p[1][2])),b(_(b(_(b(w(p[3][2],p[4][4]),w(-p[3][4],p[4][2])),p[2][0]),b(_(b(w(p[3][0],p[4][4]),w(-p[3][4],p[4][0])),-p[2][2]),_(b(w(p[3][0],p[4][2]),w(-p[3][2],p[4][0])),p[2][4]))),p[1][3]),_(b(_(b(w(p[3][2],p[4][3]),w(-p[3][3],p[4][2])),p[2][0]),b(_(b(w(p[3][0],p[4][3]),w(-p[3][3],p[4][0])),-p[2][2]),_(b(w(p[3][0],p[4][2]),w(-p[3][2],p[4][0])),p[2][3]))),-p[1][4]))),-p[0][1])),b(_(b(b(_(b(_(b(w(p[3][3],p[4][4]),w(-p[3][4],p[4][3])),p[2][1]),b(_(b(w(p[3][1],p[4][4]),w(-p[3][4],p[4][1])),-p[2][3]),_(b(w(p[3][1],p[4][3]),w(-p[3][3],p[4][1])),p[2][4]))),p[1][0]),_(b(_(b(w(p[3][3],p[4][4]),w(-p[3][4],p[4][3])),p[2][0]),b(_(b(w(p[3][0],p[4][4]),w(-p[3][4],p[4][0])),-p[2][3]),_(b(w(p[3][0],p[4][3]),w(-p[3][3],p[4][0])),p[2][4]))),-p[1][1])),b(_(b(_(b(w(p[3][1],p[4][4]),w(-p[3][4],p[4][1])),p[2][0]),b(_(b(w(p[3][0],p[4][4]),w(-p[3][4],p[4][0])),-p[2][1]),_(b(w(p[3][0],p[4][1]),w(-p[3][1],p[4][0])),p[2][4]))),p[1][3]),_(b(_(b(w(p[3][1],p[4][3]),w(-p[3][3],p[4][1])),p[2][0]),b(_(b(w(p[3][0],p[4][3]),w(-p[3][3],p[4][0])),-p[2][1]),_(b(w(p[3][0],p[4][1]),w(-p[3][1],p[4][0])),p[2][3]))),-p[1][4]))),p[0][2]),b(_(b(b(_(b(_(b(w(p[3][2],p[4][4]),w(-p[3][4],p[4][2])),p[2][1]),b(_(b(w(p[3][1],p[4][4]),w(-p[3][4],p[4][1])),-p[2][2]),_(b(w(p[3][1],p[4][2]),w(-p[3][2],p[4][1])),p[2][4]))),p[1][0]),_(b(_(b(w(p[3][2],p[4][4]),w(-p[3][4],p[4][2])),p[2][0]),b(_(b(w(p[3][0],p[4][4]),w(-p[3][4],p[4][0])),-p[2][2]),_(b(w(p[3][0],p[4][2]),w(-p[3][2],p[4][0])),p[2][4]))),-p[1][1])),b(_(b(_(b(w(p[3][1],p[4][4]),w(-p[3][4],p[4][1])),p[2][0]),b(_(b(w(p[3][0],p[4][4]),w(-p[3][4],p[4][0])),-p[2][1]),_(b(w(p[3][0],p[4][1]),w(-p[3][1],p[4][0])),p[2][4]))),p[1][2]),_(b(_(b(w(p[3][1],p[4][2]),w(-p[3][2],p[4][1])),p[2][0]),b(_(b(w(p[3][0],p[4][2]),w(-p[3][2],p[4][0])),-p[2][1]),_(b(w(p[3][0],p[4][1]),w(-p[3][1],p[4][0])),p[2][2]))),-p[1][4]))),-p[0][3]),_(b(b(_(b(_(b(w(p[3][2],p[4][3]),w(-p[3][3],p[4][2])),p[2][1]),b(_(b(w(p[3][1],p[4][3]),w(-p[3][3],p[4][1])),-p[2][2]),_(b(w(p[3][1],p[4][2]),w(-p[3][2],p[4][1])),p[2][3]))),p[1][0]),_(b(_(b(w(p[3][2],p[4][3]),w(-p[3][3],p[4][2])),p[2][0]),b(_(b(w(p[3][0],p[4][3]),w(-p[3][3],p[4][0])),-p[2][2]),_(b(w(p[3][0],p[4][2]),w(-p[3][2],p[4][0])),p[2][3]))),-p[1][1])),b(_(b(_(b(w(p[3][1],p[4][3]),w(-p[3][3],p[4][1])),p[2][0]),b(_(b(w(p[3][0],p[4][3]),w(-p[3][3],p[4][0])),-p[2][1]),_(b(w(p[3][0],p[4][1]),w(-p[3][1],p[4][0])),p[2][3]))),p[1][2]),_(b(_(b(w(p[3][1],p[4][2]),w(-p[3][2],p[4][1])),p[2][0]),b(_(b(w(p[3][0],p[4][2]),w(-p[3][2],p[4][0])),-p[2][1]),_(b(w(p[3][0],p[4][1]),w(-p[3][1],p[4][0])),p[2][2]))),-p[1][3]))),p[0][4])))))}}function T(b){return(2===b?c:3===b?f:4===b?g:5===b?h:void 0)(a,o,s,l)}var x=[function(){return[0]},function(b){return[b[0][0]]}];function m(b,_,w,A,p,I,k,L){return function(O){switch(O.length){case 0:return b(O);case 1:return _(O);case 2:return w(O);case 3:return A(O);case 4:return p(O);case 5:return I(O)}var P=k[O.length];return P||(P=k[O.length]=L(O.length)),P(O)}}!function(){for(;x.length<6;)x.push(T(x.length));v.exports=m.apply(void 0,x.concat([x,T]));for(var b=0;b<x.length;++b)v.exports[b]=x[b]}()},9130:function(v,u,i){"use strict";var s=i(9660),a=i(9662);v.exports=function(o,l){for(var c=s(o[0],l[0]),f=1;f<o.length;++f)c=a(c,s(o[f],l[f]));return c}},2227:function(v,u,i){"use strict";var s=i(9660),a=i(9662),o=i(4078),l=i(8289);function c(_){return(3===_?f:4===_?g:5===_?h:T)(a,o,s,l)}function f(_,w,A,p){return function(I,k,L){var O=A(I[0],I[0]),P=p(O,k[0]),F=p(O,L[0]),j=A(k[0],k[0]),X=p(j,I[0]),N=p(j,L[0]),q=A(L[0],L[0]),G=p(q,I[0]),H=p(q,k[0]),Z=_(w(H,N),w(X,P)),$=w(G,F),se=w(Z,$);return se[se.length-1]}}function g(_,w,A,p){return function(I,k,L,O){var P=_(A(I[0],I[0]),A(I[1],I[1])),F=p(P,k[0]),j=p(P,L[0]),X=p(P,O[0]),N=_(A(k[0],k[0]),A(k[1],k[1])),q=p(N,I[0]),G=p(N,L[0]),H=p(N,O[0]),Z=_(A(L[0],L[0]),A(L[1],L[1])),$=p(Z,I[0]),se=p(Z,k[0]),ne=p(Z,O[0]),re=_(A(O[0],O[0]),A(O[1],O[1])),Q=p(re,I[0]),ee=p(re,k[0]),oe=p(re,L[0]),ce=_(_(p(w(oe,ne),k[1]),_(p(w(ee,H),-L[1]),p(w(se,G),O[1]))),_(p(w(ee,H),I[1]),_(p(w(Q,X),-k[1]),p(w(q,F),O[1])))),ue=_(_(p(w(oe,ne),I[1]),_(p(w(Q,X),-L[1]),p(w($,j),O[1]))),_(p(w(se,G),I[1]),_(p(w($,j),-k[1]),p(w(q,F),L[1])))),he=w(ce,ue);return he[he.length-1]}}function h(_,w,A,p){return function(I,k,L,O,P){var F=_(A(I[0],I[0]),_(A(I[1],I[1]),A(I[2],I[2]))),j=p(F,k[0]),X=p(F,L[0]),N=p(F,O[0]),q=p(F,P[0]),G=_(A(k[0],k[0]),_(A(k[1],k[1]),A(k[2],k[2]))),H=p(G,I[0]),Z=p(G,L[0]),$=p(G,O[0]),se=p(G,P[0]),ne=_(A(L[0],L[0]),_(A(L[1],L[1]),A(L[2],L[2]))),re=p(ne,I[0]),Q=p(ne,k[0]),ee=p(ne,O[0]),oe=p(ne,P[0]),ce=_(A(O[0],O[0]),_(A(O[1],O[1]),A(O[2],O[2]))),ue=p(ce,I[0]),he=p(ce,k[0]),ve=p(ce,L[0]),ke=p(ce,P[0]),Ie=_(A(P[0],P[0]),_(A(P[1],P[1]),A(P[2],P[2]))),Me=p(Ie,I[0]),_e=p(Ie,k[0]),we=p(Ie,L[0]),ze=p(Ie,O[0]),Ee=_(_(_(p(_(p(w(ze,ke),L[1]),_(p(w(we,oe),-O[1]),p(w(ve,ee),P[1]))),k[2]),_(p(_(p(w(ze,ke),k[1]),_(p(w(_e,se),-O[1]),p(w(he,$),P[1]))),-L[2]),p(_(p(w(we,oe),k[1]),_(p(w(_e,se),-L[1]),p(w(Q,Z),P[1]))),O[2]))),_(p(_(p(w(ve,ee),k[1]),_(p(w(he,$),-L[1]),p(w(Q,Z),O[1]))),-P[2]),_(p(_(p(w(ze,ke),k[1]),_(p(w(_e,se),-O[1]),p(w(he,$),P[1]))),I[2]),p(_(p(w(ze,ke),I[1]),_(p(w(Me,q),-O[1]),p(w(ue,N),P[1]))),-k[2])))),_(_(p(_(p(w(_e,se),I[1]),_(p(w(Me,q),-k[1]),p(w(H,j),P[1]))),O[2]),_(p(_(p(w(he,$),I[1]),_(p(w(ue,N),-k[1]),p(w(H,j),O[1]))),-P[2]),p(_(p(w(ve,ee),k[1]),_(p(w(he,$),-L[1]),p(w(Q,Z),O[1]))),I[2]))),_(p(_(p(w(ve,ee),I[1]),_(p(w(ue,N),-L[1]),p(w(re,X),O[1]))),-k[2]),_(p(_(p(w(he,$),I[1]),_(p(w(ue,N),-k[1]),p(w(H,j),O[1]))),L[2]),p(_(p(w(Q,Z),I[1]),_(p(w(re,X),-k[1]),p(w(H,j),L[1]))),-O[2]))))),Se=_(_(_(p(_(p(w(ze,ke),L[1]),_(p(w(we,oe),-O[1]),p(w(ve,ee),P[1]))),I[2]),p(_(p(w(ze,ke),I[1]),_(p(w(Me,q),-O[1]),p(w(ue,N),P[1]))),-L[2])),_(p(_(p(w(we,oe),I[1]),_(p(w(Me,q),-L[1]),p(w(re,X),P[1]))),O[2]),p(_(p(w(ve,ee),I[1]),_(p(w(ue,N),-L[1]),p(w(re,X),O[1]))),-P[2]))),_(_(p(_(p(w(we,oe),k[1]),_(p(w(_e,se),-L[1]),p(w(Q,Z),P[1]))),I[2]),p(_(p(w(we,oe),I[1]),_(p(w(Me,q),-L[1]),p(w(re,X),P[1]))),-k[2])),_(p(_(p(w(_e,se),I[1]),_(p(w(Me,q),-k[1]),p(w(H,j),P[1]))),L[2]),p(_(p(w(Q,Z),I[1]),_(p(w(re,X),-k[1]),p(w(H,j),L[1]))),-P[2])))),me=w(Ee,Se);return me[me.length-1]}}function T(_,w,A,p){return function(I,k,L,O,P,F){var j=_(_(A(I[0],I[0]),A(I[1],I[1])),_(A(I[2],I[2]),A(I[3],I[3]))),X=p(j,k[0]),N=p(j,L[0]),q=p(j,O[0]),G=p(j,P[0]),H=p(j,F[0]),Z=_(_(A(k[0],k[0]),A(k[1],k[1])),_(A(k[2],k[2]),A(k[3],k[3]))),$=p(Z,I[0]),se=p(Z,L[0]),ne=p(Z,O[0]),re=p(Z,P[0]),Q=p(Z,F[0]),ee=_(_(A(L[0],L[0]),A(L[1],L[1])),_(A(L[2],L[2]),A(L[3],L[3]))),oe=p(ee,I[0]),ce=p(ee,k[0]),ue=p(ee,O[0]),he=p(ee,P[0]),ve=p(ee,F[0]),ke=_(_(A(O[0],O[0]),A(O[1],O[1])),_(A(O[2],O[2]),A(O[3],O[3]))),Ie=p(ke,I[0]),Me=p(ke,k[0]),_e=p(ke,L[0]),we=p(ke,P[0]),ze=p(ke,F[0]),Ee=_(_(A(P[0],P[0]),A(P[1],P[1])),_(A(P[2],P[2]),A(P[3],P[3]))),Se=p(Ee,I[0]),me=p(Ee,k[0]),fe=p(Ee,L[0]),le=p(Ee,O[0]),Te=p(Ee,F[0]),Re=_(_(A(F[0],F[0]),A(F[1],F[1])),_(A(F[2],F[2]),A(F[3],F[3]))),De=p(Re,I[0]),Ue=p(Re,k[0]),Ze=p(Re,L[0]),xe=p(Re,O[0]),Oe=p(Re,P[0]),Ce=_(_(_(p(_(_(p(_(p(w(Oe,Te),O[1]),_(p(w(xe,ze),-P[1]),p(w(le,we),F[1]))),L[2]),p(_(p(w(Oe,Te),L[1]),_(p(w(Ze,ve),-P[1]),p(w(fe,he),F[1]))),-O[2])),_(p(_(p(w(xe,ze),L[1]),_(p(w(Ze,ve),-O[1]),p(w(_e,ue),F[1]))),P[2]),p(_(p(w(le,we),L[1]),_(p(w(fe,he),-O[1]),p(w(_e,ue),P[1]))),-F[2]))),k[3]),_(p(_(_(p(_(p(w(Oe,Te),O[1]),_(p(w(xe,ze),-P[1]),p(w(le,we),F[1]))),k[2]),p(_(p(w(Oe,Te),k[1]),_(p(w(Ue,Q),-P[1]),p(w(me,re),F[1]))),-O[2])),_(p(_(p(w(xe,ze),k[1]),_(p(w(Ue,Q),-O[1]),p(w(Me,ne),F[1]))),P[2]),p(_(p(w(le,we),k[1]),_(p(w(me,re),-O[1]),p(w(Me,ne),P[1]))),-F[2]))),-L[3]),p(_(_(p(_(p(w(Oe,Te),L[1]),_(p(w(Ze,ve),-P[1]),p(w(fe,he),F[1]))),k[2]),p(_(p(w(Oe,Te),k[1]),_(p(w(Ue,Q),-P[1]),p(w(me,re),F[1]))),-L[2])),_(p(_(p(w(Ze,ve),k[1]),_(p(w(Ue,Q),-L[1]),p(w(ce,se),F[1]))),P[2]),p(_(p(w(fe,he),k[1]),_(p(w(me,re),-L[1]),p(w(ce,se),P[1]))),-F[2]))),O[3]))),_(_(p(_(_(p(_(p(w(xe,ze),L[1]),_(p(w(Ze,ve),-O[1]),p(w(_e,ue),F[1]))),k[2]),p(_(p(w(xe,ze),k[1]),_(p(w(Ue,Q),-O[1]),p(w(Me,ne),F[1]))),-L[2])),_(p(_(p(w(Ze,ve),k[1]),_(p(w(Ue,Q),-L[1]),p(w(ce,se),F[1]))),O[2]),p(_(p(w(_e,ue),k[1]),_(p(w(Me,ne),-L[1]),p(w(ce,se),O[1]))),-F[2]))),-P[3]),p(_(_(p(_(p(w(le,we),L[1]),_(p(w(fe,he),-O[1]),p(w(_e,ue),P[1]))),k[2]),p(_(p(w(le,we),k[1]),_(p(w(me,re),-O[1]),p(w(Me,ne),P[1]))),-L[2])),_(p(_(p(w(fe,he),k[1]),_(p(w(me,re),-L[1]),p(w(ce,se),P[1]))),O[2]),p(_(p(w(_e,ue),k[1]),_(p(w(Me,ne),-L[1]),p(w(ce,se),O[1]))),-P[2]))),F[3])),_(p(_(_(p(_(p(w(Oe,Te),O[1]),_(p(w(xe,ze),-P[1]),p(w(le,we),F[1]))),k[2]),p(_(p(w(Oe,Te),k[1]),_(p(w(Ue,Q),-P[1]),p(w(me,re),F[1]))),-O[2])),_(p(_(p(w(xe,ze),k[1]),_(p(w(Ue,Q),-O[1]),p(w(Me,ne),F[1]))),P[2]),p(_(p(w(le,we),k[1]),_(p(w(me,re),-O[1]),p(w(Me,ne),P[1]))),-F[2]))),I[3]),p(_(_(p(_(p(w(Oe,Te),O[1]),_(p(w(xe,ze),-P[1]),p(w(le,we),F[1]))),I[2]),p(_(p(w(Oe,Te),I[1]),_(p(w(De,H),-P[1]),p(w(Se,G),F[1]))),-O[2])),_(p(_(p(w(xe,ze),I[1]),_(p(w(De,H),-O[1]),p(w(Ie,q),F[1]))),P[2]),p(_(p(w(le,we),I[1]),_(p(w(Se,G),-O[1]),p(w(Ie,q),P[1]))),-F[2]))),-k[3])))),_(_(_(p(_(_(p(_(p(w(Oe,Te),k[1]),_(p(w(Ue,Q),-P[1]),p(w(me,re),F[1]))),I[2]),p(_(p(w(Oe,Te),I[1]),_(p(w(De,H),-P[1]),p(w(Se,G),F[1]))),-k[2])),_(p(_(p(w(Ue,Q),I[1]),_(p(w(De,H),-k[1]),p(w($,X),F[1]))),P[2]),p(_(p(w(me,re),I[1]),_(p(w(Se,G),-k[1]),p(w($,X),P[1]))),-F[2]))),O[3]),p(_(_(p(_(p(w(xe,ze),k[1]),_(p(w(Ue,Q),-O[1]),p(w(Me,ne),F[1]))),I[2]),p(_(p(w(xe,ze),I[1]),_(p(w(De,H),-O[1]),p(w(Ie,q),F[1]))),-k[2])),_(p(_(p(w(Ue,Q),I[1]),_(p(w(De,H),-k[1]),p(w($,X),F[1]))),O[2]),p(_(p(w(Me,ne),I[1]),_(p(w(Ie,q),-k[1]),p(w($,X),O[1]))),-F[2]))),-P[3])),_(p(_(_(p(_(p(w(le,we),k[1]),_(p(w(me,re),-O[1]),p(w(Me,ne),P[1]))),I[2]),p(_(p(w(le,we),I[1]),_(p(w(Se,G),-O[1]),p(w(Ie,q),P[1]))),-k[2])),_(p(_(p(w(me,re),I[1]),_(p(w(Se,G),-k[1]),p(w($,X),P[1]))),O[2]),p(_(p(w(Me,ne),I[1]),_(p(w(Ie,q),-k[1]),p(w($,X),O[1]))),-P[2]))),F[3]),p(_(_(p(_(p(w(xe,ze),L[1]),_(p(w(Ze,ve),-O[1]),p(w(_e,ue),F[1]))),k[2]),p(_(p(w(xe,ze),k[1]),_(p(w(Ue,Q),-O[1]),p(w(Me,ne),F[1]))),-L[2])),_(p(_(p(w(Ze,ve),k[1]),_(p(w(Ue,Q),-L[1]),p(w(ce,se),F[1]))),O[2]),p(_(p(w(_e,ue),k[1]),_(p(w(Me,ne),-L[1]),p(w(ce,se),O[1]))),-F[2]))),I[3]))),_(_(p(_(_(p(_(p(w(xe,ze),L[1]),_(p(w(Ze,ve),-O[1]),p(w(_e,ue),F[1]))),I[2]),p(_(p(w(xe,ze),I[1]),_(p(w(De,H),-O[1]),p(w(Ie,q),F[1]))),-L[2])),_(p(_(p(w(Ze,ve),I[1]),_(p(w(De,H),-L[1]),p(w(oe,N),F[1]))),O[2]),p(_(p(w(_e,ue),I[1]),_(p(w(Ie,q),-L[1]),p(w(oe,N),O[1]))),-F[2]))),-k[3]),p(_(_(p(_(p(w(xe,ze),k[1]),_(p(w(Ue,Q),-O[1]),p(w(Me,ne),F[1]))),I[2]),p(_(p(w(xe,ze),I[1]),_(p(w(De,H),-O[1]),p(w(Ie,q),F[1]))),-k[2])),_(p(_(p(w(Ue,Q),I[1]),_(p(w(De,H),-k[1]),p(w($,X),F[1]))),O[2]),p(_(p(w(Me,ne),I[1]),_(p(w(Ie,q),-k[1]),p(w($,X),O[1]))),-F[2]))),L[3])),_(p(_(_(p(_(p(w(Ze,ve),k[1]),_(p(w(Ue,Q),-L[1]),p(w(ce,se),F[1]))),I[2]),p(_(p(w(Ze,ve),I[1]),_(p(w(De,H),-L[1]),p(w(oe,N),F[1]))),-k[2])),_(p(_(p(w(Ue,Q),I[1]),_(p(w(De,H),-k[1]),p(w($,X),F[1]))),L[2]),p(_(p(w(ce,se),I[1]),_(p(w(oe,N),-k[1]),p(w($,X),L[1]))),-F[2]))),-O[3]),p(_(_(p(_(p(w(_e,ue),k[1]),_(p(w(Me,ne),-L[1]),p(w(ce,se),O[1]))),I[2]),p(_(p(w(_e,ue),I[1]),_(p(w(Ie,q),-L[1]),p(w(oe,N),O[1]))),-k[2])),_(p(_(p(w(Me,ne),I[1]),_(p(w(Ie,q),-k[1]),p(w($,X),O[1]))),L[2]),p(_(p(w(ce,se),I[1]),_(p(w(oe,N),-k[1]),p(w($,X),L[1]))),-O[2]))),F[3]))))),Be=_(_(_(p(_(_(p(_(p(w(Oe,Te),O[1]),_(p(w(xe,ze),-P[1]),p(w(le,we),F[1]))),L[2]),p(_(p(w(Oe,Te),L[1]),_(p(w(Ze,ve),-P[1]),p(w(fe,he),F[1]))),-O[2])),_(p(_(p(w(xe,ze),L[1]),_(p(w(Ze,ve),-O[1]),p(w(_e,ue),F[1]))),P[2]),p(_(p(w(le,we),L[1]),_(p(w(fe,he),-O[1]),p(w(_e,ue),P[1]))),-F[2]))),I[3]),_(p(_(_(p(_(p(w(Oe,Te),O[1]),_(p(w(xe,ze),-P[1]),p(w(le,we),F[1]))),I[2]),p(_(p(w(Oe,Te),I[1]),_(p(w(De,H),-P[1]),p(w(Se,G),F[1]))),-O[2])),_(p(_(p(w(xe,ze),I[1]),_(p(w(De,H),-O[1]),p(w(Ie,q),F[1]))),P[2]),p(_(p(w(le,we),I[1]),_(p(w(Se,G),-O[1]),p(w(Ie,q),P[1]))),-F[2]))),-L[3]),p(_(_(p(_(p(w(Oe,Te),L[1]),_(p(w(Ze,ve),-P[1]),p(w(fe,he),F[1]))),I[2]),p(_(p(w(Oe,Te),I[1]),_(p(w(De,H),-P[1]),p(w(Se,G),F[1]))),-L[2])),_(p(_(p(w(Ze,ve),I[1]),_(p(w(De,H),-L[1]),p(w(oe,N),F[1]))),P[2]),p(_(p(w(fe,he),I[1]),_(p(w(Se,G),-L[1]),p(w(oe,N),P[1]))),-F[2]))),O[3]))),_(_(p(_(_(p(_(p(w(xe,ze),L[1]),_(p(w(Ze,ve),-O[1]),p(w(_e,ue),F[1]))),I[2]),p(_(p(w(xe,ze),I[1]),_(p(w(De,H),-O[1]),p(w(Ie,q),F[1]))),-L[2])),_(p(_(p(w(Ze,ve),I[1]),_(p(w(De,H),-L[1]),p(w(oe,N),F[1]))),O[2]),p(_(p(w(_e,ue),I[1]),_(p(w(Ie,q),-L[1]),p(w(oe,N),O[1]))),-F[2]))),-P[3]),p(_(_(p(_(p(w(le,we),L[1]),_(p(w(fe,he),-O[1]),p(w(_e,ue),P[1]))),I[2]),p(_(p(w(le,we),I[1]),_(p(w(Se,G),-O[1]),p(w(Ie,q),P[1]))),-L[2])),_(p(_(p(w(fe,he),I[1]),_(p(w(Se,G),-L[1]),p(w(oe,N),P[1]))),O[2]),p(_(p(w(_e,ue),I[1]),_(p(w(Ie,q),-L[1]),p(w(oe,N),O[1]))),-P[2]))),F[3])),_(p(_(_(p(_(p(w(Oe,Te),L[1]),_(p(w(Ze,ve),-P[1]),p(w(fe,he),F[1]))),k[2]),p(_(p(w(Oe,Te),k[1]),_(p(w(Ue,Q),-P[1]),p(w(me,re),F[1]))),-L[2])),_(p(_(p(w(Ze,ve),k[1]),_(p(w(Ue,Q),-L[1]),p(w(ce,se),F[1]))),P[2]),p(_(p(w(fe,he),k[1]),_(p(w(me,re),-L[1]),p(w(ce,se),P[1]))),-F[2]))),I[3]),p(_(_(p(_(p(w(Oe,Te),L[1]),_(p(w(Ze,ve),-P[1]),p(w(fe,he),F[1]))),I[2]),p(_(p(w(Oe,Te),I[1]),_(p(w(De,H),-P[1]),p(w(Se,G),F[1]))),-L[2])),_(p(_(p(w(Ze,ve),I[1]),_(p(w(De,H),-L[1]),p(w(oe,N),F[1]))),P[2]),p(_(p(w(fe,he),I[1]),_(p(w(Se,G),-L[1]),p(w(oe,N),P[1]))),-F[2]))),-k[3])))),_(_(_(p(_(_(p(_(p(w(Oe,Te),k[1]),_(p(w(Ue,Q),-P[1]),p(w(me,re),F[1]))),I[2]),p(_(p(w(Oe,Te),I[1]),_(p(w(De,H),-P[1]),p(w(Se,G),F[1]))),-k[2])),_(p(_(p(w(Ue,Q),I[1]),_(p(w(De,H),-k[1]),p(w($,X),F[1]))),P[2]),p(_(p(w(me,re),I[1]),_(p(w(Se,G),-k[1]),p(w($,X),P[1]))),-F[2]))),L[3]),p(_(_(p(_(p(w(Ze,ve),k[1]),_(p(w(Ue,Q),-L[1]),p(w(ce,se),F[1]))),I[2]),p(_(p(w(Ze,ve),I[1]),_(p(w(De,H),-L[1]),p(w(oe,N),F[1]))),-k[2])),_(p(_(p(w(Ue,Q),I[1]),_(p(w(De,H),-k[1]),p(w($,X),F[1]))),L[2]),p(_(p(w(ce,se),I[1]),_(p(w(oe,N),-k[1]),p(w($,X),L[1]))),-F[2]))),-P[3])),_(p(_(_(p(_(p(w(fe,he),k[1]),_(p(w(me,re),-L[1]),p(w(ce,se),P[1]))),I[2]),p(_(p(w(fe,he),I[1]),_(p(w(Se,G),-L[1]),p(w(oe,N),P[1]))),-k[2])),_(p(_(p(w(me,re),I[1]),_(p(w(Se,G),-k[1]),p(w($,X),P[1]))),L[2]),p(_(p(w(ce,se),I[1]),_(p(w(oe,N),-k[1]),p(w($,X),L[1]))),-P[2]))),F[3]),p(_(_(p(_(p(w(le,we),L[1]),_(p(w(fe,he),-O[1]),p(w(_e,ue),P[1]))),k[2]),p(_(p(w(le,we),k[1]),_(p(w(me,re),-O[1]),p(w(Me,ne),P[1]))),-L[2])),_(p(_(p(w(fe,he),k[1]),_(p(w(me,re),-L[1]),p(w(ce,se),P[1]))),O[2]),p(_(p(w(_e,ue),k[1]),_(p(w(Me,ne),-L[1]),p(w(ce,se),O[1]))),-P[2]))),I[3]))),_(_(p(_(_(p(_(p(w(le,we),L[1]),_(p(w(fe,he),-O[1]),p(w(_e,ue),P[1]))),I[2]),p(_(p(w(le,we),I[1]),_(p(w(Se,G),-O[1]),p(w(Ie,q),P[1]))),-L[2])),_(p(_(p(w(fe,he),I[1]),_(p(w(Se,G),-L[1]),p(w(oe,N),P[1]))),O[2]),p(_(p(w(_e,ue),I[1]),_(p(w(Ie,q),-L[1]),p(w(oe,N),O[1]))),-P[2]))),-k[3]),p(_(_(p(_(p(w(le,we),k[1]),_(p(w(me,re),-O[1]),p(w(Me,ne),P[1]))),I[2]),p(_(p(w(le,we),I[1]),_(p(w(Se,G),-O[1]),p(w(Ie,q),P[1]))),-k[2])),_(p(_(p(w(me,re),I[1]),_(p(w(Se,G),-k[1]),p(w($,X),P[1]))),O[2]),p(_(p(w(Me,ne),I[1]),_(p(w(Ie,q),-k[1]),p(w($,X),O[1]))),-P[2]))),L[3])),_(p(_(_(p(_(p(w(fe,he),k[1]),_(p(w(me,re),-L[1]),p(w(ce,se),P[1]))),I[2]),p(_(p(w(fe,he),I[1]),_(p(w(Se,G),-L[1]),p(w(oe,N),P[1]))),-k[2])),_(p(_(p(w(me,re),I[1]),_(p(w(Se,G),-k[1]),p(w($,X),P[1]))),L[2]),p(_(p(w(ce,se),I[1]),_(p(w(oe,N),-k[1]),p(w($,X),L[1]))),-P[2]))),-O[3]),p(_(_(p(_(p(w(_e,ue),k[1]),_(p(w(Me,ne),-L[1]),p(w(ce,se),O[1]))),I[2]),p(_(p(w(_e,ue),I[1]),_(p(w(Ie,q),-L[1]),p(w(oe,N),O[1]))),-k[2])),_(p(_(p(w(Me,ne),I[1]),_(p(w(Ie,q),-k[1]),p(w($,X),O[1]))),L[2]),p(_(p(w(ce,se),I[1]),_(p(w(oe,N),-k[1]),p(w($,X),L[1]))),-O[2]))),P[3]))))),qe=w(Ce,Be);return qe[qe.length-1]}}var x=[function(){return 0},function(){return 0},function(){return 0}];function m(_){var w=x[_.length];return w||(w=x[_.length]=c(_.length)),w.apply(void 0,_)}function b(_,w,A,p,I,k,L,O){return function(P,F,j,X,N,q){switch(arguments.length){case 0:case 1:return 0;case 2:return p(P,F);case 3:return I(P,F,j);case 4:return k(P,F,j,X);case 5:return L(P,F,j,X,N);case 6:return O(P,F,j,X,N,q)}for(var G=new Array(arguments.length),H=0;H<arguments.length;++H)G[H]=arguments[H];return _(G)}}!function(){for(;x.length<=6;)x.push(c(x.length));v.exports=b.apply(void 0,[m].concat(x));for(var _=0;_<=6;++_)v.exports[_]=x[_]}()},6606:function(v,u,i){"use strict";var s=i(8167);function a(x){return(2===x?o:3===x?l:4===x?c:5===x?f:g)(x<6?s[x]:s)}function o(x){return function(m,b){return[x([[+b[0],+m[0][1]],[+b[1],+m[1][1]]]),x([[+m[0][0],+b[0]],[+m[1][0],+b[1]]]),x(m)]}}function l(x){return function(m,b){return[x([[+b[0],+m[0][1],+m[0][2]],[+b[1],+m[1][1],+m[1][2]],[+b[2],+m[2][1],+m[2][2]]]),x([[+m[0][0],+b[0],+m[0][2]],[+m[1][0],+b[1],+m[1][2]],[+m[2][0],+b[2],+m[2][2]]]),x([[+m[0][0],+m[0][1],+b[0]],[+m[1][0],+m[1][1],+b[1]],[+m[2][0],+m[2][1],+b[2]]]),x(m)]}}function c(x){return function(m,b){return[x([[+b[0],+m[0][1],+m[0][2],+m[0][3]],[+b[1],+m[1][1],+m[1][2],+m[1][3]],[+b[2],+m[2][1],+m[2][2],+m[2][3]],[+b[3],+m[3][1],+m[3][2],+m[3][3]]]),x([[+m[0][0],+b[0],+m[0][2],+m[0][3]],[+m[1][0],+b[1],+m[1][2],+m[1][3]],[+m[2][0],+b[2],+m[2][2],+m[2][3]],[+m[3][0],+b[3],+m[3][2],+m[3][3]]]),x([[+m[0][0],+m[0][1],+b[0],+m[0][3]],[+m[1][0],+m[1][1],+b[1],+m[1][3]],[+m[2][0],+m[2][1],+b[2],+m[2][3]],[+m[3][0],+m[3][1],+b[3],+m[3][3]]]),x([[+m[0][0],+m[0][1],+m[0][2],+b[0]],[+m[1][0],+m[1][1],+m[1][2],+b[1]],[+m[2][0],+m[2][1],+m[2][2],+b[2]],[+m[3][0],+m[3][1],+m[3][2],+b[3]]]),x(m)]}}function f(x){return function(m,b){return[x([[+b[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+b[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+b[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+b[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+b[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),x([[+m[0][0],+b[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+b[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+b[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+b[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+b[4],+m[4][2],+m[4][3],+m[4][4]]]),x([[+m[0][0],+m[0][1],+b[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+b[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+b[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+b[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+b[4],+m[4][3],+m[4][4]]]),x([[+m[0][0],+m[0][1],+m[0][2],+b[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+b[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+b[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+b[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+b[4],+m[4][4]]]),x([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+b[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+b[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+b[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+b[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+b[4]]]),x(m)]}}function g(x){return function(m,b){return[x([[+b[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+b[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+b[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+b[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+b[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+b[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),x([[+m[0][0],+b[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+b[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+b[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+b[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+b[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+b[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),x([[+m[0][0],+m[0][1],+b[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+b[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+b[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+b[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+b[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+b[5],+m[5][3],+m[5][4],+m[5][5]]]),x([[+m[0][0],+m[0][1],+m[0][2],+b[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+b[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+b[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+b[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+b[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+b[5],+m[5][4],+m[5][5]]]),x([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+b[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+b[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+b[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+b[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+b[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+b[5],+m[5][5]]]),x([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+b[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+b[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+b[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+b[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+b[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+b[5]]]),x(m)]}}var h=[function(){return[[0]]},function(x,m){return[[m[0]],[x[0][0]]]}];function T(x,m,b,_,w,A,p,I){return function(k,L){switch(k.length){case 0:return x(k,L);case 1:return m(k,L);case 2:return b(k,L);case 3:return _(k,L);case 4:return w(k,L);case 5:return A(k,L)}var O=p[k.length];return O||(O=p[k.length]=I(k.length)),O(k,L)}}!function(){for(;h.length<6;)h.push(a(h.length));v.exports=T.apply(void 0,h.concat([h,a]));for(var x=0;x<6;++x)v.exports[x]=h[x]}()},417:function(v,u,i){"use strict";var s=i(9660),a=i(9662),o=i(8289),l=i(4078);function c(w,A,p,I){return function(k,L,O){var P=w(w(A(L[1],O[0]),A(-O[1],L[0])),w(A(k[1],L[0]),A(-L[1],k[0]))),F=w(A(k[1],O[0]),A(-O[1],k[0])),j=I(P,F);return j[j.length-1]}}function f(w,A,p,I){return function(k,L,O,P){var F=w(w(p(w(A(O[1],P[0]),A(-P[1],O[0])),L[2]),w(p(w(A(L[1],P[0]),A(-P[1],L[0])),-O[2]),p(w(A(L[1],O[0]),A(-O[1],L[0])),P[2]))),w(p(w(A(L[1],P[0]),A(-P[1],L[0])),k[2]),w(p(w(A(k[1],P[0]),A(-P[1],k[0])),-L[2]),p(w(A(k[1],L[0]),A(-L[1],k[0])),P[2])))),j=w(w(p(w(A(O[1],P[0]),A(-P[1],O[0])),k[2]),w(p(w(A(k[1],P[0]),A(-P[1],k[0])),-O[2]),p(w(A(k[1],O[0]),A(-O[1],k[0])),P[2]))),w(p(w(A(L[1],O[0]),A(-O[1],L[0])),k[2]),w(p(w(A(k[1],O[0]),A(-O[1],k[0])),-L[2]),p(w(A(k[1],L[0]),A(-L[1],k[0])),O[2])))),X=I(F,j);return X[X.length-1]}}function g(w,A,p,I){return function(k,L,O,P,F){var j=w(w(w(p(w(p(w(A(P[1],F[0]),A(-F[1],P[0])),O[2]),w(p(w(A(O[1],F[0]),A(-F[1],O[0])),-P[2]),p(w(A(O[1],P[0]),A(-P[1],O[0])),F[2]))),L[3]),w(p(w(p(w(A(P[1],F[0]),A(-F[1],P[0])),L[2]),w(p(w(A(L[1],F[0]),A(-F[1],L[0])),-P[2]),p(w(A(L[1],P[0]),A(-P[1],L[0])),F[2]))),-O[3]),p(w(p(w(A(O[1],F[0]),A(-F[1],O[0])),L[2]),w(p(w(A(L[1],F[0]),A(-F[1],L[0])),-O[2]),p(w(A(L[1],O[0]),A(-O[1],L[0])),F[2]))),P[3]))),w(p(w(p(w(A(O[1],P[0]),A(-P[1],O[0])),L[2]),w(p(w(A(L[1],P[0]),A(-P[1],L[0])),-O[2]),p(w(A(L[1],O[0]),A(-O[1],L[0])),P[2]))),-F[3]),w(p(w(p(w(A(P[1],F[0]),A(-F[1],P[0])),L[2]),w(p(w(A(L[1],F[0]),A(-F[1],L[0])),-P[2]),p(w(A(L[1],P[0]),A(-P[1],L[0])),F[2]))),k[3]),p(w(p(w(A(P[1],F[0]),A(-F[1],P[0])),k[2]),w(p(w(A(k[1],F[0]),A(-F[1],k[0])),-P[2]),p(w(A(k[1],P[0]),A(-P[1],k[0])),F[2]))),-L[3])))),w(w(p(w(p(w(A(L[1],F[0]),A(-F[1],L[0])),k[2]),w(p(w(A(k[1],F[0]),A(-F[1],k[0])),-L[2]),p(w(A(k[1],L[0]),A(-L[1],k[0])),F[2]))),P[3]),w(p(w(p(w(A(L[1],P[0]),A(-P[1],L[0])),k[2]),w(p(w(A(k[1],P[0]),A(-P[1],k[0])),-L[2]),p(w(A(k[1],L[0]),A(-L[1],k[0])),P[2]))),-F[3]),p(w(p(w(A(O[1],P[0]),A(-P[1],O[0])),L[2]),w(p(w(A(L[1],P[0]),A(-P[1],L[0])),-O[2]),p(w(A(L[1],O[0]),A(-O[1],L[0])),P[2]))),k[3]))),w(p(w(p(w(A(O[1],P[0]),A(-P[1],O[0])),k[2]),w(p(w(A(k[1],P[0]),A(-P[1],k[0])),-O[2]),p(w(A(k[1],O[0]),A(-O[1],k[0])),P[2]))),-L[3]),w(p(w(p(w(A(L[1],P[0]),A(-P[1],L[0])),k[2]),w(p(w(A(k[1],P[0]),A(-P[1],k[0])),-L[2]),p(w(A(k[1],L[0]),A(-L[1],k[0])),P[2]))),O[3]),p(w(p(w(A(L[1],O[0]),A(-O[1],L[0])),k[2]),w(p(w(A(k[1],O[0]),A(-O[1],k[0])),-L[2]),p(w(A(k[1],L[0]),A(-L[1],k[0])),O[2]))),-P[3]))))),X=w(w(w(p(w(p(w(A(P[1],F[0]),A(-F[1],P[0])),O[2]),w(p(w(A(O[1],F[0]),A(-F[1],O[0])),-P[2]),p(w(A(O[1],P[0]),A(-P[1],O[0])),F[2]))),k[3]),p(w(p(w(A(P[1],F[0]),A(-F[1],P[0])),k[2]),w(p(w(A(k[1],F[0]),A(-F[1],k[0])),-P[2]),p(w(A(k[1],P[0]),A(-P[1],k[0])),F[2]))),-O[3])),w(p(w(p(w(A(O[1],F[0]),A(-F[1],O[0])),k[2]),w(p(w(A(k[1],F[0]),A(-F[1],k[0])),-O[2]),p(w(A(k[1],O[0]),A(-O[1],k[0])),F[2]))),P[3]),p(w(p(w(A(O[1],P[0]),A(-P[1],O[0])),k[2]),w(p(w(A(k[1],P[0]),A(-P[1],k[0])),-O[2]),p(w(A(k[1],O[0]),A(-O[1],k[0])),P[2]))),-F[3]))),w(w(p(w(p(w(A(O[1],F[0]),A(-F[1],O[0])),L[2]),w(p(w(A(L[1],F[0]),A(-F[1],L[0])),-O[2]),p(w(A(L[1],O[0]),A(-O[1],L[0])),F[2]))),k[3]),p(w(p(w(A(O[1],F[0]),A(-F[1],O[0])),k[2]),w(p(w(A(k[1],F[0]),A(-F[1],k[0])),-O[2]),p(w(A(k[1],O[0]),A(-O[1],k[0])),F[2]))),-L[3])),w(p(w(p(w(A(L[1],F[0]),A(-F[1],L[0])),k[2]),w(p(w(A(k[1],F[0]),A(-F[1],k[0])),-L[2]),p(w(A(k[1],L[0]),A(-L[1],k[0])),F[2]))),O[3]),p(w(p(w(A(L[1],O[0]),A(-O[1],L[0])),k[2]),w(p(w(A(k[1],O[0]),A(-O[1],k[0])),-L[2]),p(w(A(k[1],L[0]),A(-L[1],k[0])),O[2]))),-F[3])))),N=I(j,X);return N[N.length-1]}}function h(w){return(3===w?c:4===w?f:g)(a,s,o,l)}var T=h(3),x=h(4),m=[function(){return 0},function(){return 0},function(w,A){return A[0]-w[0]},function(w,A,p){var I,k=(w[1]-p[1])*(A[0]-p[0]),L=(w[0]-p[0])*(A[1]-p[1]),O=k-L;if(k>0){if(L<=0)return O;I=k+L}else{if(!(k<0)||L>=0)return O;I=-(k+L)}var P=33306690738754716e-32*I;return O>=P||O<=-P?O:T(w,A,p)},function(w,A,p,I){var k=w[0]-I[0],L=A[0]-I[0],O=p[0]-I[0],P=w[1]-I[1],F=A[1]-I[1],j=p[1]-I[1],X=w[2]-I[2],N=A[2]-I[2],q=p[2]-I[2],G=L*j,H=O*F,Z=O*P,$=k*j,se=k*F,ne=L*P,re=X*(G-H)+N*(Z-$)+q*(se-ne),Q=7771561172376103e-31*((Math.abs(G)+Math.abs(H))*Math.abs(X)+(Math.abs(Z)+Math.abs($))*Math.abs(N)+(Math.abs(se)+Math.abs(ne))*Math.abs(q));return re>Q||-re>Q?re:x(w,A,p,I)}];function b(w){var A=m[w.length];return A||(A=m[w.length]=h(w.length)),A.apply(void 0,w)}function _(w,A,p,I,k,L,O){return function(P,F,j,X,N){switch(arguments.length){case 0:case 1:return 0;case 2:return I(P,F);case 3:return k(P,F,j);case 4:return L(P,F,j,X);case 5:return O(P,F,j,X,N)}for(var q=new Array(arguments.length),G=0;G<arguments.length;++G)q[G]=arguments[G];return w(q)}}!function(){for(;m.length<=5;)m.push(h(m.length));v.exports=_.apply(void 0,[b].concat(m));for(var w=0;w<=5;++w)v.exports[w]=m[w]}()},2019:function(v,u,i){"use strict";var s=i(9662),a=i(8289);v.exports=function(o,l){if(1===o.length)return a(l,o[0]);if(1===l.length)return a(o,l[0]);if(0===o.length||0===l.length)return[0];var c=[0];if(o.length<l.length)for(var f=0;f<o.length;++f)c=s(c,a(l,o[f]));else for(f=0;f<l.length;++f)c=s(c,a(o,l[f]));return c}},8289:function(v,u,i){"use strict";var s=i(9660),a=i(87);v.exports=function(o,l){var c=o.length;if(1===c){var f=s(o[0],l);return f[0]?f:[f[1]]}var g=new Array(2*c),h=[.1,.1],T=[.1,.1],x=0;s(o[0],l,h),h[0]&&(g[x++]=h[0]);for(var m=1;m<c;++m){s(o[m],l,T),a(h[1],T[0],h),h[0]&&(g[x++]=h[0]);var _=T[1],w=h[1],A=_+w,p=w-(A-_);h[1]=A,p&&(g[x++]=p)}return h[1]&&(g[x++]=h[1]),0===x&&(g[x++]=0),g.length=x,g}},4434:function(v,u,i){"use strict";v.exports=function(a,o,l,c){var f=s(a,l,c),g=s(o,l,c);if(f>0&&g>0||f<0&&g<0)return!1;var h=s(l,a,o),T=s(c,a,o);return!(h>0&&T>0||h<0&&T<0)&&(0!==f||0!==g||0!==h||0!==T||function(x,m,b,_){for(var w=0;w<2;++w){var A=x[w],p=m[w],I=Math.min(A,p),k=Math.max(A,p),L=b[w],O=_[w],P=Math.min(L,O);if(Math.max(L,O)<I||k<P)return!1}return!0}(a,o,l,c))};var s=i(417)[3]},4078:function(v){"use strict";v.exports=function(u,i){var P,F,j,X,N,s=0|u.length,a=0|i.length;if(1===s&&1===a)return(N=(P=u[0])-((j=P+(F=-i[0]))-(X=j-P))+(F-X))?[N,j]:[j];var o,l,c=new Array(s+a),f=0,g=0,h=0,T=Math.abs,x=u[g],m=T(x),b=-i[h],_=T(b);m<_?(l=x,(g+=1)<s&&(m=T(x=u[g]))):(l=b,(h+=1)<a&&(_=T(b=-i[h]))),g<s&&m<_||h>=a?(o=x,(g+=1)<s&&(m=T(x=u[g]))):(o=b,(h+=1)<a&&(_=T(b=-i[h])));for(var w,A,p=o+l,I=p-o,k=l-I,L=k,O=p;g<s&&h<a;)m<_?(o=x,(g+=1)<s&&(m=T(x=u[g]))):(o=b,(h+=1)<a&&(_=T(b=-i[h]))),(k=(l=L)-(I=(p=o+l)-o))&&(c[f++]=k),L=O-((w=O+p)-(A=w-O))+(p-A),O=w;for(;g<s;)(k=(l=L)-(I=(p=(o=x)+l)-o))&&(c[f++]=k),L=O-((w=O+p)-(A=w-O))+(p-A),O=w,(g+=1)<s&&(x=u[g]);for(;h<a;)(k=(l=L)-(I=(p=(o=b)+l)-o))&&(c[f++]=k),L=O-((w=O+p)-(A=w-O))+(p-A),O=w,(h+=1)<a&&(b=-i[h]);return L&&(c[f++]=L),O&&(c[f++]=O),f||(c[f++]=0),c.length=f,c}},9662:function(v){"use strict";v.exports=function(u,i){var P,F,j,X,N,s=0|u.length,a=0|i.length;if(1===s&&1===a)return(N=(P=u[0])-((j=P+(F=i[0]))-(X=j-P))+(F-X))?[N,j]:[j];var o,l,c=new Array(s+a),f=0,g=0,h=0,T=Math.abs,x=u[g],m=T(x),b=i[h],_=T(b);m<_?(l=x,(g+=1)<s&&(m=T(x=u[g]))):(l=b,(h+=1)<a&&(_=T(b=i[h]))),g<s&&m<_||h>=a?(o=x,(g+=1)<s&&(m=T(x=u[g]))):(o=b,(h+=1)<a&&(_=T(b=i[h])));for(var w,A,p=o+l,I=p-o,k=l-I,L=k,O=p;g<s&&h<a;)m<_?(o=x,(g+=1)<s&&(m=T(x=u[g]))):(o=b,(h+=1)<a&&(_=T(b=i[h]))),(k=(l=L)-(I=(p=o+l)-o))&&(c[f++]=k),L=O-((w=O+p)-(A=w-O))+(p-A),O=w;for(;g<s;)(k=(l=L)-(I=(p=(o=x)+l)-o))&&(c[f++]=k),L=O-((w=O+p)-(A=w-O))+(p-A),O=w,(g+=1)<s&&(x=u[g]);for(;h<a;)(k=(l=L)-(I=(p=(o=b)+l)-o))&&(c[f++]=k),L=O-((w=O+p)-(A=w-O))+(p-A),O=w,(h+=1)<a&&(b=i[h]);return L&&(c[f++]=L),O&&(c[f++]=O),f||(c[f++]=0),c.length=f,c}},8691:function(v,u,i){"use strict";v.exports=function(o){return a(s(o))};var s=i(2692),a=i(7037)},7212:function(v,u,i){"use strict";v.exports=function(c,f,g,h){if(g=g||0,void 0===h&&(h=function(p){for(var I=p.length,k=0,L=0;L<I;++L)k=0|Math.max(k,p[L].length);return k-1}(c)),0===c.length||h<1)return{cells:[],vertexIds:[],vertexWeights:[]};var T=function(p,I){for(var k=p.length,L=a.mallocUint8(k),O=0;O<k;++O)L[O]=p[O]<I|0;return L}(f,+g),x=function(p,I){for(var k=p.length,O=a.mallocUint32(2*(I*(I+1)/2*k|0)),P=0,F=0;F<k;++F)for(var j=p[F],X=(I=j.length,0);X<I;++X)for(var N=0;N<X;++N){var q=j[N],G=j[X];O[P++]=0|Math.min(q,G),O[P++]=0|Math.max(q,G)}o(s(O,[P/2|0,2]));var H=2;for(F=2;F<P;F+=2)O[F-2]===O[F]&&O[F-1]===O[F+1]||(O[H++]=O[F],O[H++]=O[F+1]);return s(O,[H/2|0,2])}(c,h),m=function(p,I,k,L){for(var O=p.data,P=p.shape[0],F=a.mallocDouble(P),j=0,X=0;X<P;++X){var N=O[2*X],q=O[2*X+1];if(k[N]!==k[q]){var G=I[N],H=I[q];O[2*j]=N,O[2*j+1]=q,F[j++]=(H-L)/(H-G)}}return p.shape[0]=j,s(F,[j])}(x,f,T,+g),b=function(p,I){var k=a.mallocInt32(2*I),L=p.shape[0],O=p.data;k[0]=0;for(var P=0,F=0;F<L;++F){var j=O[2*F];if(j!==P){for(k[2*P+1]=F;++P<j;)k[2*P]=F,k[2*P+1]=F;k[2*P]=F}}for(k[2*P+1]=L;++P<I;)k[2*P]=k[2*P+1]=L;return k}(x,0|f.length),_=l(h)(c,x.data,b,T),w=function(p){for(var I=0|p.shape[0],k=p.data,L=new Array(I),O=0;O<I;++O)L[O]=[k[2*O],k[2*O+1]];return L}(x),A=[].slice.call(m.data,0,m.shape[0]);return a.free(T),a.free(x.data),a.free(m.data),a.free(b),{cells:_,vertexIds:w,vertexWeights:A}};var s=i(5050),a=i(5306),o=i(8729),l=i(1168)},1168:function(v){"use strict";v.exports=function(i){return u[i]()};var u=[function(){return function(i,s,a,o){for(var l=i.length,c=0;c<l;++c);return[]}},function(){function i(s,a,o,l){for(var c=0|Math.min(o,l),f=0|Math.max(o,l),g=s[2*c],h=s[2*c+1];g<h;){var T=g+h>>1,x=a[2*T+1];if(x===f)return T;f<x?h=T:g=T+1}return g}return function(s,a,o,l){for(var c=s.length,f=[],g=0;g<c;++g){var h=s[g];if(2===h.length){var T=(l[h[0]]<<0)+(l[h[1]]<<1);if(0===T||3===T)continue;switch(T){case 0:case 3:break;case 1:f.push([i(o,a,h[0],h[1])]);break;case 2:f.push([i(o,a,h[1],h[0])])}}}return f}},function(){function i(s,a,o,l){for(var c=0|Math.min(o,l),f=0|Math.max(o,l),g=s[2*c],h=s[2*c+1];g<h;){var T=g+h>>1,x=a[2*T+1];if(x===f)return T;f<x?h=T:g=T+1}return g}return function(s,a,o,l){for(var c=s.length,f=[],g=0;g<c;++g){var h=s[g],T=h.length;if(3===T){if(0==(x=(l[h[0]]<<0)+(l[h[1]]<<1)+(l[h[2]]<<2))||7===x)continue;switch(x){case 0:case 7:break;case 1:f.push([i(o,a,h[0],h[2]),i(o,a,h[0],h[1])]);break;case 2:f.push([i(o,a,h[1],h[0]),i(o,a,h[1],h[2])]);break;case 3:f.push([i(o,a,h[0],h[2]),i(o,a,h[1],h[2])]);break;case 4:f.push([i(o,a,h[2],h[1]),i(o,a,h[2],h[0])]);break;case 5:f.push([i(o,a,h[2],h[1]),i(o,a,h[0],h[1])]);break;case 6:f.push([i(o,a,h[1],h[0]),i(o,a,h[2],h[0])])}}else if(2===T){var x;if(0==(x=(l[h[0]]<<0)+(l[h[1]]<<1))||3===x)continue;switch(x){case 0:case 3:break;case 1:f.push([i(o,a,h[0],h[1])]);break;case 2:f.push([i(o,a,h[1],h[0])])}}}return f}},function(){function i(s,a,o,l){for(var c=0|Math.min(o,l),f=0|Math.max(o,l),g=s[2*c],h=s[2*c+1];g<h;){var T=g+h>>1,x=a[2*T+1];if(x===f)return T;f<x?h=T:g=T+1}return g}return function(s,a,o,l){for(var c=s.length,f=[],g=0;g<c;++g){var h=s[g],T=h.length;if(4===T){if(0==(x=(l[h[0]]<<0)+(l[h[1]]<<1)+(l[h[2]]<<2)+(l[h[3]]<<3))||15===x)continue;switch(x){case 0:case 15:break;case 1:f.push([i(o,a,h[0],h[1]),i(o,a,h[0],h[2]),i(o,a,h[0],h[3])]);break;case 2:f.push([i(o,a,h[1],h[2]),i(o,a,h[1],h[0]),i(o,a,h[1],h[3])]);break;case 3:f.push([i(o,a,h[1],h[2]),i(o,a,h[0],h[2]),i(o,a,h[0],h[3])],[i(o,a,h[1],h[3]),i(o,a,h[1],h[2]),i(o,a,h[0],h[3])]);break;case 4:f.push([i(o,a,h[2],h[0]),i(o,a,h[2],h[1]),i(o,a,h[2],h[3])]);break;case 5:f.push([i(o,a,h[0],h[1]),i(o,a,h[2],h[1]),i(o,a,h[0],h[3])],[i(o,a,h[2],h[1]),i(o,a,h[2],h[3]),i(o,a,h[0],h[3])]);break;case 6:f.push([i(o,a,h[2],h[0]),i(o,a,h[1],h[0]),i(o,a,h[1],h[3])],[i(o,a,h[2],h[3]),i(o,a,h[2],h[0]),i(o,a,h[1],h[3])]);break;case 7:f.push([i(o,a,h[0],h[3]),i(o,a,h[1],h[3]),i(o,a,h[2],h[3])]);break;case 8:f.push([i(o,a,h[3],h[1]),i(o,a,h[3],h[0]),i(o,a,h[3],h[2])]);break;case 9:f.push([i(o,a,h[3],h[1]),i(o,a,h[0],h[1]),i(o,a,h[0],h[2])],[i(o,a,h[3],h[2]),i(o,a,h[3],h[1]),i(o,a,h[0],h[2])]);break;case 10:f.push([i(o,a,h[1],h[0]),i(o,a,h[3],h[0]),i(o,a,h[1],h[2])],[i(o,a,h[3],h[0]),i(o,a,h[3],h[2]),i(o,a,h[1],h[2])]);break;case 11:f.push([i(o,a,h[1],h[2]),i(o,a,h[0],h[2]),i(o,a,h[3],h[2])]);break;case 12:f.push([i(o,a,h[3],h[0]),i(o,a,h[2],h[0]),i(o,a,h[2],h[1])],[i(o,a,h[3],h[1]),i(o,a,h[3],h[0]),i(o,a,h[2],h[1])]);break;case 13:f.push([i(o,a,h[0],h[1]),i(o,a,h[2],h[1]),i(o,a,h[3],h[1])]);break;case 14:f.push([i(o,a,h[2],h[0]),i(o,a,h[1],h[0]),i(o,a,h[3],h[0])])}}else if(3===T){if(0==(x=(l[h[0]]<<0)+(l[h[1]]<<1)+(l[h[2]]<<2))||7===x)continue;switch(x){case 0:case 7:break;case 1:f.push([i(o,a,h[0],h[2]),i(o,a,h[0],h[1])]);break;case 2:f.push([i(o,a,h[1],h[0]),i(o,a,h[1],h[2])]);break;case 3:f.push([i(o,a,h[0],h[2]),i(o,a,h[1],h[2])]);break;case 4:f.push([i(o,a,h[2],h[1]),i(o,a,h[2],h[0])]);break;case 5:f.push([i(o,a,h[2],h[1]),i(o,a,h[0],h[1])]);break;case 6:f.push([i(o,a,h[1],h[0]),i(o,a,h[2],h[0])])}}else if(2===T){var x;if(0==(x=(l[h[0]]<<0)+(l[h[1]]<<1))||3===x)continue;switch(x){case 0:case 3:break;case 1:f.push([i(o,a,h[0],h[1])]);break;case 2:f.push([i(o,a,h[1],h[0])])}}}return f}}]},8211:function(v,u,i){"use strict";i(2288),i(1731),u.H=function(s,a){var o=s.length,l=s.length-a.length,c=Math.min;if(l)return l;switch(o){case 0:return 0;case 1:return s[0]-a[0];case 2:return(h=s[0]+s[1]-a[0]-a[1])||c(s[0],s[1])-c(a[0],a[1]);case 3:var f=s[0]+s[1],g=a[0]+a[1];if(h=f+s[2]-(g+a[2]))return h;var h,T=c(s[0],s[1]),x=c(a[0],a[1]);return(h=c(T,s[2])-c(x,a[2]))||c(T+s[2],f)-c(x+a[2],g);default:var m=s.slice(0);m.sort();var b=a.slice(0);b.sort();for(var _=0;_<o;++_)if(l=m[_]-b[_])return l;return 0}}},9392:function(v,u){"use strict";function i(a){var o=32;return(a&=-a)&&o--,65535&a&&(o-=16),16711935&a&&(o-=8),252645135&a&&(o-=4),858993459&a&&(o-=2),1431655765&a&&(o-=1),o}u.INT_BITS=32,u.INT_MAX=2147483647,u.INT_MIN=-2147483648,u.sign=function(a){return(a>0)-(a<0)},u.abs=function(a){var o=a>>31;return(a^o)-o},u.min=function(a,o){return o^(a^o)&-(a<o)},u.max=function(a,o){return a^(a^o)&-(a<o)},u.isPow2=function(a){return!(a&a-1||!a)},u.log2=function(a){var o,l;return o=(a>65535)<<4,o|=l=((a>>>=o)>255)<<3,o|=l=((a>>>=l)>15)<<2,(o|=l=((a>>>=l)>3)<<1)|(a>>>=l)>>1},u.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},u.popCount=function(a){return 16843009*((a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135)>>>24},u.countTrailingZeros=i,u.nextPow2=function(a){return a+=0===a,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,1+((a|=a>>>8)|a>>>16)},u.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,(a|=a>>>16)-(a>>>1)},u.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,27030>>>(a&=15)&1};var s=new Array(256);(function(a){for(var o=0;o<256;++o){var l=o,c=o,f=7;for(l>>>=1;l;l>>>=1)c<<=1,c|=1&l,--f;a[o]=c<<f&255}})(s),u.reverse=function(a){return s[255&a]<<24|s[a>>>8&255]<<16|s[a>>>16&255]<<8|s[a>>>24&255]},u.interleave2=function(a,o){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o&=65535)|o<<8))|o<<4))|o<<2))|o<<1))<<1},u.deinterleave2=function(a,o){return(a=65535&((a=16711935&((a=252645135&((a=858993459&((a=a>>>o&1431655765)|a>>>1))|a>>>2))|a>>>4))|a>>>16))<<16>>16},u.interleave3=function(a,o,l){return a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2),(a|=(o=1227133513&((o=3272356035&((o=251719695&((o=4278190335&((o&=1023)|o<<16))|o<<8))|o<<4))|o<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},u.deinterleave3=function(a,o){return(a=1023&((a=4278190335&((a=251719695&((a=3272356035&((a=a>>>o&1227133513)|a>>>2))|a>>>4))|a>>>8))|a>>>16))<<22>>22},u.nextCombination=function(a){var o=a|a-1;return o+1|(~o&-~o)-1>>>i(a)+1}},6656:function(v,u,i){"use strict";var s=i(9392),a=i(9521);function o(x,m){var b=x.length,_=x.length-m.length,w=Math.min;if(_)return _;switch(b){case 0:return 0;case 1:return x[0]-m[0];case 2:return(I=x[0]+x[1]-m[0]-m[1])||w(x[0],x[1])-w(m[0],m[1]);case 3:var A=x[0]+x[1],p=m[0]+m[1];if(I=A+x[2]-(p+m[2]))return I;var I,k=w(x[0],x[1]),L=w(m[0],m[1]);return(I=w(k,x[2])-w(L,m[2]))||w(k+x[2],A)-w(L+m[2],p);default:var O=x.slice(0);O.sort();var P=m.slice(0);P.sort();for(var F=0;F<b;++F)if(_=O[F]-P[F])return _;return 0}}function l(x,m){return o(x[0],m[0])}function c(x,m){if(m){for(var b=x.length,_=new Array(b),w=0;w<b;++w)_[w]=[x[w],m[w]];for(_.sort(l),w=0;w<b;++w)x[w]=_[w][0],m[w]=_[w][1];return x}return x.sort(o),x}function f(x){if(0===x.length)return[];for(var m=1,b=x.length,_=1;_<b;++_){var w=x[_];if(o(w,x[_-1])){if(_===m){m++;continue}x[m++]=w}}return x.length=m,x}function g(x,m){for(var b=0,_=x.length-1,w=-1;b<=_;){var A=b+_>>1,p=o(x[A],m);p<=0?(0===p&&(w=A),b=A+1):p>0&&(_=A-1)}return w}function h(x,m){for(var b=new Array(x.length),_=0,w=b.length;_<w;++_)b[_]=[];for(var A=[],p=(_=0,m.length);_<p;++_)for(var I=m[_],k=I.length,L=1,O=1<<k;L<O;++L){A.length=s.popCount(L);for(var P=0,F=0;F<k;++F)L&1<<F&&(A[P++]=I[F]);var j=g(x,A);if(!(j<0))for(;b[j++].push(_),!(j>=x.length||0!==o(x[j],A)););}return b}function T(x,m){if(m<0)return[];for(var b=[],_=(1<<m+1)-1,w=0;w<x.length;++w)for(var A=x[w],p=_;p<1<<A.length;p=s.nextCombination(p)){for(var I=new Array(m+1),k=0,L=0;L<A.length;++L)p&1<<L&&(I[k++]=A[L]);b.push(I)}return c(b)}u.dimension=function(x){for(var m=0,b=Math.max,_=0,w=x.length;_<w;++_)m=b(m,x[_].length);return m-1},u.countVertices=function(x){for(var m=-1,b=Math.max,_=0,w=x.length;_<w;++_)for(var A=x[_],p=0,I=A.length;p<I;++p)m=b(m,A[p]);return m+1},u.cloneCells=function(x){for(var m=new Array(x.length),b=0,_=x.length;b<_;++b)m[b]=x[b].slice(0);return m},u.compareCells=o,u.normalize=c,u.unique=f,u.findCell=g,u.incidence=h,u.dual=function(x,m){if(!m)return h(f(T(x,0)),x);for(var b=new Array(m),_=0;_<m;++_)b[_]=[];_=0;for(var w=x.length;_<w;++_)for(var A=x[_],p=0,I=A.length;p<I;++p)b[A[p]].push(_);return b},u.explode=function(x){for(var m=[],b=0,_=x.length;b<_;++b)for(var w=x[b],A=0|w.length,p=1,I=1<<A;p<I;++p){for(var k=[],L=0;L<A;++L)p>>>L&1&&k.push(w[L]);m.push(k)}return c(m)},u.skeleton=T,u.boundary=function(x){for(var m=[],b=0,_=x.length;b<_;++b)for(var w=x[b],A=0,p=w.length;A<p;++A){for(var I=new Array(w.length-1),k=0,L=0;k<p;++k)k!==A&&(I[L++]=w[k]);m.push(I)}return c(m)},u.connectedComponents=function(x,m){return m?function(b,_){for(var w=new a(_),A=0;A<b.length;++A)for(var p=b[A],I=0;I<p.length;++I)for(var k=I+1;k<p.length;++k)w.link(p[I],p[k]);var L=[],O=w.ranks;for(A=0;A<O.length;++A)O[A]=-1;for(A=0;A<b.length;++A){var P=w.find(b[A][0]);O[P]<0?(O[P]=L.length,L.push([b[A].slice(0)])):L[O[P]].push(b[A].slice(0))}return L}(x,m):function(b){for(var _=f(c(T(b,0))),w=new a(_.length),A=0;A<b.length;++A)for(var p=b[A],I=0;I<p.length;++I)for(var k=g(_,[p[I]]),L=I+1;L<p.length;++L)w.link(k,g(_,[p[L]]));var O=[],P=w.ranks;for(A=0;A<P.length;++A)P[A]=-1;for(A=0;A<b.length;++A){var F=w.find(g(_,[b[A][0]]));P[F]<0?(P[F]=O.length,O.push([b[A].slice(0)])):O[P[F]].push(b[A].slice(0))}return O}(x)}},9521:function(v){"use strict";function u(i){this.roots=new Array(i),this.ranks=new Array(i);for(var s=0;s<i;++s)this.roots[s]=s,this.ranks[s]=0}v.exports=u,u.prototype.length=function(){return this.roots.length},u.prototype.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},u.prototype.find=function(i){for(var s=this.roots;s[i]!==i;){var a=s[i];s[i]=s[a],i=a}return i},u.prototype.link=function(i,s){var a=this.find(i),o=this.find(s);if(a!==o){var l=this.ranks,c=this.roots,f=l[a],g=l[o];f<g?c[a]=o:g<f?c[o]=a:(c[o]=a,++l[a])}}},8243:function(v,u,i){"use strict";v.exports=function(o,l,c){for(var f=l.length,g=o.length,h=new Array(f),T=new Array(f),x=new Array(f),m=new Array(f),b=0;b<f;++b)h[b]=T[b]=-1,x[b]=1/0,m[b]=!1;for(b=0;b<g;++b){var _=o[b];if(2!==_.length)throw new Error("Input must be a graph");var w=_[1],A=_[0];T[A]=-1!==T[A]?-2:w,h[w]=-1!==h[w]?-2:A}function p(ne){if(m[ne])return 1/0;var Q,ee,oe=h[ne],ce=T[ne];return oe<0||ce<0?1/0:(Q=l[oe],ee=l[ce],Math.abs(s(l[ne],Q,ee))/Math.sqrt(Math.pow(Q[0]-ee[0],2)+Math.pow(Q[1]-ee[1],2)))}function I(ne,re){var Q=N[ne],ee=N[re];N[ne]=ee,N[re]=Q,q[Q]=re,q[ee]=ne}function k(ne){return x[N[ne]]}function L(ne){return 1&ne?ne-1>>1:(ne>>1)-1}function O(ne){for(var re=k(ne);;){var Q=re,ee=2*ne+1,oe=2*(ne+1),ce=ne;if(ee<G){var ue=k(ee);ue<Q&&(ce=ee,Q=ue)}if(oe<G&&k(oe)<Q&&(ce=oe),ce===ne)return ne;I(ne,ce),ne=ce}}function P(ne){for(var re=k(ne);ne>0;){var Q=L(ne);if(!(Q>=0&&re<k(Q)))return ne;I(ne,Q),ne=Q}}function F(){if(G>0){var ne=N[0];return I(0,G-1),G-=1,O(0),ne}return-1}function j(ne,re){var Q=N[ne];return x[Q]===re?ne:(x[Q]=-1/0,P(ne),F(),x[Q]=re,P((G+=1)-1))}function X(ne){if(!m[ne]){m[ne]=!0;var re=h[ne],Q=T[ne];h[Q]>=0&&(h[Q]=re),T[re]>=0&&(T[re]=Q),q[re]>=0&&j(q[re],p(re)),q[Q]>=0&&j(q[Q],p(Q))}}var N=[],q=new Array(f);for(b=0;b<f;++b)(x[b]=p(b))<1/0?(q[b]=N.length,N.push(b)):q[b]=-1;var G=N.length;for(b=G>>1;b>=0;--b)O(b);for(;;){var H=F();if(H<0||x[H]>c)break;X(H)}var Z=[];for(b=0;b<f;++b)m[b]||(q[b]=Z.length,Z.push(l[b].slice()));function $(ne,re){if(ne[re]<0)return re;var Q=re,ee=re;do{var oe=ne[ee];if(!m[ee]||oe<0||oe===ee||(oe=ne[ee=oe],!m[ee]||oe<0||oe===ee))break;ee=oe,Q=ne[Q]}while(Q!==ee);for(var ce=re;ce!==ee;ce=ne[ce])ne[ce]=ee;return ee}var se=[];return o.forEach(function(ne){var re=$(h,ne[0]),Q=$(T,ne[1]);if(re>=0&&Q>=0&&re!==Q){var ee=q[re],oe=q[Q];ee!==oe&&se.push([ee,oe])}}),a.unique(a.normalize(se)),{positions:Z,edges:se}};var s=i(417),a=i(6656)},6638:function(v,u,i){"use strict";v.exports=function(o,l){var c,f,g,h;if(l[0][0]<l[1][0])c=l[0],f=l[1];else{if(!(l[0][0]>l[1][0]))return a(l,o);c=l[1],f=l[0]}if(o[0][0]<o[1][0])g=o[0],h=o[1];else{if(!(o[0][0]>o[1][0]))return-a(o,l);g=o[1],h=o[0]}var T=s(c,f,h),x=s(c,f,g);if(T<0){if(x<=0)return T}else if(T>0){if(x>=0)return T}else if(x)return x;if(T=s(h,g,f),x=s(h,g,c),T<0){if(x<=0)return T}else if(T>0){if(x>=0)return T}else if(x)return x;return f[0]-h[0]};var s=i(417);function a(o,l){var c,f,g,h;if(l[0][0]<l[1][0])c=l[0],f=l[1];else{if(!(l[0][0]>l[1][0])){var T=Math.min(o[0][1],o[1][1]),x=Math.max(o[0][1],o[1][1]),m=Math.min(l[0][1],l[1][1]),b=Math.max(l[0][1],l[1][1]);return x<m?x-m:T>b?T-b:x-b}c=l[1],f=l[0]}o[0][1]<o[1][1]?(g=o[0],h=o[1]):(g=o[1],h=o[0]);var _=s(f,c,g);return _||(_=s(f,c,h))||h-f}},4385:function(v,u,i){"use strict";v.exports=function(x){for(var m=x.length,b=2*m,_=new Array(b),w=0;w<m;++w){var A=x[w],p=A[0][0]<A[1][0];_[2*w]=new T(A[0][0],A,p,w),_[2*w+1]=new T(A[1][0],A,!p,w)}_.sort(function(X,N){var q=X.x-N.x;return q||(q=X.create-N.create)||Math.min(X.segment[0][1],X.segment[1][1])-Math.min(N.segment[0][1],N.segment[1][1])});var I=a(l),k=[],L=[],O=[];for(w=0;w<b;){for(var P=_[w].x,F=[];w<b;){var j=_[w];if(j.x!==P)break;w+=1,j.segment[0][0]===j.x&&j.segment[1][0]===j.x?j.create&&(j.segment[0][1]<j.segment[1][1]?(F.push(new h(j.segment[0][1],j.index,!0,!0)),F.push(new h(j.segment[1][1],j.index,!1,!1))):(F.push(new h(j.segment[1][1],j.index,!0,!1)),F.push(new h(j.segment[0][1],j.index,!1,!0)))):I=j.create?I.insert(j.segment,j.index):I.remove(j.segment)}k.push(I.root),L.push(P),O.push(F)}return new c(k,L,O)};var s=i(5070),a=i(7080),o=i(417),l=i(6638);function c(x,m,b){this.slabs=x,this.coordinates=m,this.horizontal=b}function f(x,m){return x.y-m}function g(x,m){for(var b=null;x;){var _,w,A=x.key;A[0][0]<A[1][0]?(_=A[0],w=A[1]):(_=A[1],w=A[0]);var p=o(_,w,m);if(p<0)x=x.left;else if(p>0)if(m[0]!==A[1][0])b=x,x=x.right;else{if(I=g(x.right,m))return I;x=x.left}else{if(m[0]!==A[1][0])return x;var I;if(I=g(x.right,m))return I;x=x.left}}return b}function h(x,m,b,_){this.y=x,this.index=m,this.start=b,this.closed=_}function T(x,m,b,_){this.x=x,this.segment=m,this.create=b,this.index=_}c.prototype.castUp=function(x){var m=s.le(this.coordinates,x[0]);if(m<0)return-1;var b=g(this.slabs[m],x),_=-1;if(b&&(_=b.value),this.coordinates[m]===x[0]){var w=null;if(b&&(w=b.key),m>0){var A=g(this.slabs[m-1],x);A&&(w?l(A.key,w)>0&&(w=A.key,_=A.value):(_=A.value,w=A.key))}var p=this.horizontal[m];if(p.length>0){var I=s.ge(p,x[1],f);if(I<p.length){var k=p[I];if(x[1]===k.y){if(k.closed)return k.index;for(;I<p.length-1&&p[I+1].y===x[1];)if((k=p[I+=1]).closed)return k.index;if(k.y===x[1]&&!k.start){if((I+=1)>=p.length)return _;k=p[I]}}if(k.start)if(w){var L=o(w[0],w[1],[x[0],k.y]);w[0][0]>w[1][0]&&(L=-L),L>0&&(_=k.index)}else _=k.index;else k.y!==x[1]&&(_=k.index)}}}return _}},4670:function(v,u,i){"use strict";var s=i(9130),a=i(9662);function o(c,f){var g=a(s(c,f),[f[f.length-1]]);return g[g.length-1]}function l(c,f,g,h){var T=-f/(h-f);T<0?T=0:T>1&&(T=1);for(var x=1-T,m=c.length,b=new Array(m),_=0;_<m;++_)b[_]=T*c[_]+x*g[_];return b}v.exports=function(c,f){for(var g=[],h=[],T=o(c[c.length-1],f),x=c[c.length-1],m=c[0],b=0;b<c.length;++b,x=m){var _=o(m=c[b],f);if(T<0&&_>0||T>0&&_<0){var w=l(x,_,m,T);g.push(w),h.push(w.slice())}_<0?h.push(m.slice()):_>0?g.push(m.slice()):(g.push(m.slice()),h.push(m.slice())),T=_}return{positive:g,negative:h}},v.exports.positive=function(c,f){for(var g=[],h=o(c[c.length-1],f),T=c[c.length-1],x=c[0],m=0;m<c.length;++m,T=x){var b=o(x=c[m],f);(h<0&&b>0||h>0&&b<0)&&g.push(l(T,b,x,h)),b>=0&&g.push(x.slice()),h=b}return g},v.exports.negative=function(c,f){for(var g=[],h=o(c[c.length-1],f),T=c[c.length-1],x=c[0],m=0;m<c.length;++m,T=x){var b=o(x=c[m],f);(h<0&&b>0||h>0&&b<0)&&g.push(l(T,b,x,h)),b<=0&&g.push(x.slice()),h=b}return g}},8974:function(v,u,i){var s;!function(){"use strict";var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(f){return function(g,h){var T,x,m,b,_,w,A,p,I,k=1,L=g.length,O="";for(x=0;x<L;x++)if("string"==typeof g[x])O+=g[x];else if("object"==typeof g[x]){if((b=g[x]).keys)for(T=h[k],m=0;m<b.keys.length;m++){if(null==T)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',b.keys[m],b.keys[m-1]));T=T[b.keys[m]]}else T=b.param_no?h[b.param_no]:h[k++];if(a.not_type.test(b.type)&&a.not_primitive.test(b.type)&&T instanceof Function&&(T=T()),a.numeric_arg.test(b.type)&&"number"!=typeof T&&isNaN(T))throw new TypeError(o("[sprintf] expecting number but found %T",T));switch(a.number.test(b.type)&&(p=T>=0),b.type){case"b":T=parseInt(T,10).toString(2);break;case"c":T=String.fromCharCode(parseInt(T,10));break;case"d":case"i":T=parseInt(T,10);break;case"j":T=JSON.stringify(T,null,b.width?parseInt(b.width):0);break;case"e":T=b.precision?parseFloat(T).toExponential(b.precision):parseFloat(T).toExponential();break;case"f":T=b.precision?parseFloat(T).toFixed(b.precision):parseFloat(T);break;case"g":T=b.precision?String(Number(T.toPrecision(b.precision))):parseFloat(T);break;case"o":T=(parseInt(T,10)>>>0).toString(8);break;case"s":T=String(T),T=b.precision?T.substring(0,b.precision):T;break;case"t":T=String(!!T),T=b.precision?T.substring(0,b.precision):T;break;case"T":T=Object.prototype.toString.call(T).slice(8,-1).toLowerCase(),T=b.precision?T.substring(0,b.precision):T;break;case"u":T=parseInt(T,10)>>>0;break;case"v":T=T.valueOf(),T=b.precision?T.substring(0,b.precision):T;break;case"x":T=(parseInt(T,10)>>>0).toString(16);break;case"X":T=(parseInt(T,10)>>>0).toString(16).toUpperCase()}a.json.test(b.type)?O+=T:(!a.number.test(b.type)||p&&!b.sign?I="":(I=p?"+":"-",T=T.toString().replace(a.sign,"")),w=b.pad_char?"0"===b.pad_char?"0":b.pad_char.charAt(1):" ",A=b.width-(I+T).length,_=b.width&&A>0?w.repeat(A):"",O+=b.align?I+T+_:"0"===w?I+_+T:_+I+T)}return O}(function(g){if(c[g])return c[g];for(var h,T=g,x=[],m=0;T;){if(null!==(h=a.text.exec(T)))x.push(h[0]);else if(null!==(h=a.modulo.exec(T)))x.push("%");else{if(null===(h=a.placeholder.exec(T)))throw new SyntaxError("[sprintf] unexpected placeholder");if(h[2]){m|=1;var b=[],_=h[2],w=[];if(null===(w=a.key.exec(_)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(b.push(w[1]);""!==(_=_.substring(w[0].length));)if(null!==(w=a.key_access.exec(_)))b.push(w[1]);else{if(null===(w=a.index_access.exec(_)))throw new SyntaxError("[sprintf] failed to parse named argument key");b.push(w[1])}h[2]=b}else m|=2;if(3===m)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");x.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}T=T.substring(h[0].length)}return c[g]=x}(f),arguments)}function l(f,g){return o.apply(null,[f].concat(g||[]))}var c=Object.create(null);u.sprintf=o,u.vsprintf=l,typeof window<"u"&&(window.sprintf=o,window.vsprintf=l,void 0===(s=function(){return{sprintf:o,vsprintf:l}}.call(u,i,u,v))||(v.exports=s))}()},4162:function(v,u,i){"use strict";v.exports=function(c,f){if(c.dimension<=0)return{positions:[],cells:[]};if(1===c.dimension)return function(T,x){for(var m=a(T,x),b=m.length,_=new Array(b),w=new Array(b),A=0;A<b;++A)_[A]=[m[A]],w[A]=[A];return{positions:_,cells:w}}(c,f);var g=c.order.join()+"-"+c.dtype,h=l[g];return f=+f||0,h||(h=l[g]=function(T,x){var b=o[T.length+"d"];if(b)return b(s,T,x)}(c.order,c.dtype)),h(c,f)};var s=i(9284),a=i(9584),o={"2d":function(c,f,g){var h=c({order:f,scalarArguments:3,getters:"generic"===g?[0]:void 0,phase:function(T,x,m,b){return T>b|0},vertex:function(T,x,m,b,_,w,A,p,I,k,L,O,P){var F=(A<<0)+(p<<1)+(I<<2)+(k<<3)|0;if(0!==F&&15!==F)switch(F){case 0:case 15:L.push([T-.5,x-.5]);break;case 1:L.push([T-.25-.25*(b+m-2*P)/(m-b),x-.25-.25*(_+m-2*P)/(m-_)]);break;case 2:L.push([T-.75-.25*(-b-m+2*P)/(b-m),x-.25-.25*(w+b-2*P)/(b-w)]);break;case 3:L.push([T-.5,x-.5-.5*(_+m+w+b-4*P)/(m-_+b-w)]);break;case 4:L.push([T-.25-.25*(w+_-2*P)/(_-w),x-.75-.25*(-_-m+2*P)/(_-m)]);break;case 5:L.push([T-.5-.5*(b+m+w+_-4*P)/(m-b+_-w),x-.5]);break;case 6:L.push([T-.5-.25*(-b-m+w+_)/(b-m+_-w),x-.5-.25*(-_-m+w+b)/(_-m+b-w)]);break;case 7:L.push([T-.75-.25*(w+_-2*P)/(_-w),x-.75-.25*(w+b-2*P)/(b-w)]);break;case 8:L.push([T-.75-.25*(-w-_+2*P)/(w-_),x-.75-.25*(-w-b+2*P)/(w-b)]);break;case 9:L.push([T-.5-.25*(b+m+-w-_)/(m-b+w-_),x-.5-.25*(_+m+-w-b)/(m-_+w-b)]);break;case 10:L.push([T-.5-.5*(-b-m-w-_+4*P)/(b-m+w-_),x-.5]);break;case 11:L.push([T-.25-.25*(-w-_+2*P)/(w-_),x-.75-.25*(_+m-2*P)/(m-_)]);break;case 12:L.push([T-.5,x-.5-.5*(-_-m-w-b+4*P)/(_-m+w-b)]);break;case 13:L.push([T-.75-.25*(b+m-2*P)/(m-b),x-.25-.25*(-w-b+2*P)/(w-b)]);break;case 14:L.push([T-.25-.25*(-b-m+2*P)/(b-m),x-.25-.25*(-_-m+2*P)/(_-m)])}},cell:function(T,x,m,b,_,w,A,p,I){p.push(_?[T,x]:[x,T])}});return function(T,x){var m=[],b=[];return h(T,m,b,x),{positions:m,cells:b}}}},l={}},6946:function(v,u,i){"use strict";v.exports=function l(c,f,g){g=g||{};var h=o[c];h||(h=o[c]={" ":{data:new Float32Array(0),shape:.2}});var T=h[f];if(!T)if(f.length<=1||!/\d/.test(f))T=h[f]=function(O){for(var P=O.cells,F=O.positions,j=new Float32Array(6*P.length),X=0,N=0,q=0;q<P.length;++q)for(var G=P[q],H=0;H<3;++H){var Z=F[G[H]];j[X++]=Z[0],j[X++]=Z[1]+1.4,N=Math.max(Z[0],N)}return{data:j,shape:N}}(s(f,{triangles:!0,font:c,textAlign:g.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var x=f.split(/(\d|\s)/),m=new Array(x.length),b=0,_=0,w=0;w<x.length;++w)m[w]=l(c,x[w]),b+=m[w].data.length,_+=m[w].shape,w>0&&(_+=.02);var A=new Float32Array(b),p=0,I=-.5*_;for(w=0;w<m.length;++w){for(var k=m[w].data,L=0;L<k.length;L+=2)A[p++]=k[L]+I,A[p++]=k[L+1];I+=m[w].shape+.02}T=h[f]={data:A,shape:_}}return T};var s=i(875),a=window||E.global||{},o=a.__TEXT_CACHE||{};a.__TEXT_CACHE={}},14:function(v,u,i){"use strict";var s=i(4405);v.exports=l;var a=96;function o(c,f){var g=s(getComputedStyle(c).getPropertyValue(f));return g[0]*l(g[1],c)}function l(c,f){switch(f=f||document.body,c=(c||"px").trim().toLowerCase(),f!==window&&f!==document||(f=document.body),c){case"%":return f.clientHeight/100;case"ch":case"ex":return function(g,h){var T=document.createElement("div");T.style["font-size"]="128"+g,h.appendChild(T);var x=o(T,"font-size")/128;return h.removeChild(T),x}(c,f);case"em":return o(f,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},3440:function(v,u,i){"use strict";v.exports=function(_){var w=(_=_||{}).center||[0,0,0],A=_.up||[0,1,0],p=_.right||T(A),I=_.radius||1,k=_.theta||0,L=_.phi||0;if(w=[].slice.call(w,0,3),A=[].slice.call(A,0,3),c(A,A),p=[].slice.call(p,0,3),c(p,p),"eye"in _){var O=_.eye,P=[O[0]-w[0],O[1]-w[1],O[2]-w[2]];l(p,P,A),g(p[0],p[1],p[2])<1e-6?p=T(A):c(p,p),I=g(P[0],P[1],P[2]);var F=f(A,P)/I,j=f(p,P)/I;L=Math.acos(F),k=Math.acos(j)}return I=Math.log(I),new x(_.zoomMin,_.zoomMax,w,A,p,I,k,L)};var s=i(8444),a=i(7437),o=i(4422),l=i(903),c=i(899),f=i(9305);function g(_,w,A){return Math.sqrt(Math.pow(_,2)+Math.pow(w,2)+Math.pow(A,2))}function h(_){return Math.min(1,Math.max(-1,_))}function T(_){var w=Math.abs(_[0]),A=Math.abs(_[1]),p=Math.abs(_[2]),I=[0,0,0];w>Math.max(A,p)?I[2]=1:A>Math.max(w,p)?I[0]=1:I[1]=1;for(var k=0,L=0,O=0;O<3;++O)k+=_[O]*_[O],L+=I[O]*_[O];for(O=0;O<3;++O)I[O]-=L/k*_[O];return c(I,I),I}function x(_,w,A,p,I,k,L,O){this.center=s(A),this.up=s(p),this.right=s(I),this.radius=s([k]),this.angle=s([L,O]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(_,w),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var P=0;P<16;++P)this.computedMatrix[P]=.5;this.recalcMatrix(0)}var m=x.prototype;m.setDistanceLimits=function(_,w){_=_>0?Math.log(_):-1/0,w=w>0?Math.log(w):1/0,w=Math.max(w,_),this.radius.bounds[0][0]=_,this.radius.bounds[1][0]=w},m.getDistanceLimits=function(_){var w=this.radius.bounds[0];return _?(_[0]=Math.exp(w[0][0]),_[1]=Math.exp(w[1][0]),_):[Math.exp(w[0][0]),Math.exp(w[1][0])]},m.recalcMatrix=function(_){this.center.curve(_),this.up.curve(_),this.right.curve(_),this.radius.curve(_),this.angle.curve(_);for(var w=this.computedUp,A=this.computedRight,p=0,I=0,k=0;k<3;++k)I+=w[k]*A[k],p+=w[k]*w[k];var L=Math.sqrt(p),O=0;for(k=0;k<3;++k)A[k]-=w[k]*I/p,O+=A[k]*A[k],w[k]/=L;var P=Math.sqrt(O);for(k=0;k<3;++k)A[k]/=P;var F=this.computedToward;l(F,w,A),c(F,F);var j=Math.exp(this.computedRadius[0]),X=this.computedAngle[0],N=this.computedAngle[1],q=Math.cos(X),G=Math.sin(X),H=Math.cos(N),Z=Math.sin(N),$=this.computedCenter,se=q*H,ne=G*H,re=Z,Q=-q*Z,ee=-G*Z,oe=H,ce=this.computedEye,ue=this.computedMatrix;for(k=0;k<3;++k){var he=se*A[k]+ne*F[k]+re*w[k];ue[4*k+1]=Q*A[k]+ee*F[k]+oe*w[k],ue[4*k+2]=he,ue[4*k+3]=0}var ve=ue[1],ke=ue[5],Ie=ue[9],Me=ue[2],_e=ue[6],we=ue[10],ze=ke*we-Ie*_e,Ee=Ie*Me-ve*we,Se=ve*_e-ke*Me,me=g(ze,Ee,Se);for(Ee/=me,Se/=me,ue[0]=ze/=me,ue[4]=Ee,ue[8]=Se,k=0;k<3;++k)ce[k]=$[k]+ue[2+4*k]*j;for(k=0;k<3;++k){O=0;for(var fe=0;fe<3;++fe)O+=ue[k+4*fe]*ce[fe];ue[12+k]=-O}ue[15]=1},m.getMatrix=function(_,w){this.recalcMatrix(_);var A=this.computedMatrix;if(w){for(var p=0;p<16;++p)w[p]=A[p];return w}return A};var b=[0,0,0];m.rotate=function(_,w,A,p){if(this.angle.move(_,w,A),p){this.recalcMatrix(_);var I=this.computedMatrix;b[0]=I[2],b[1]=I[6],b[2]=I[10];for(var k=this.computedUp,L=this.computedRight,O=this.computedToward,P=0;P<3;++P)I[4*P]=k[P],I[4*P+1]=L[P],I[4*P+2]=O[P];for(o(I,I,p,b),P=0;P<3;++P)k[P]=I[4*P],L[P]=I[4*P+1];this.up.set(_,k[0],k[1],k[2]),this.right.set(_,L[0],L[1],L[2])}},m.pan=function(_,w,A,p){w=w||0,A=A||0,p=p||0,this.recalcMatrix(_);var I=this.computedMatrix,k=(Math.exp(this.computedRadius[0]),I[1]),L=I[5],O=I[9],P=g(k,L,O),F=I[0],j=I[4],X=I[8],N=F*(k/=P)+j*(L/=P)+X*(O/=P),q=g(F-=k*N,j-=L*N,X-=O*N),G=(F/=q)*w+k*A,H=(j/=q)*w+L*A,Z=(X/=q)*w+O*A;this.center.move(_,G,H,Z);var $=Math.exp(this.computedRadius[0]);$=Math.max(1e-4,$+p),this.radius.set(_,Math.log($))},m.translate=function(_,w,A,p){this.center.move(_,w||0,A||0,p||0)},m.setMatrix=function(_,w,A,p){var I=1;"number"==typeof A&&(I=0|A),(I<0||I>3)&&(I=1);var k=(I+2)%3;w||(this.recalcMatrix(_),w=this.computedMatrix);var L=w[I],O=w[I+4],P=w[I+8];if(p){var F=Math.abs(L),j=Math.abs(O),X=Math.abs(P),N=Math.max(F,j,X);F===N?(L=L<0?-1:1,O=P=0):X===N?(P=P<0?-1:1,L=O=0):(O=O<0?-1:1,L=P=0)}else{var q=g(L,O,P);L/=q,O/=q,P/=q}var G,H,Z=w[k],$=w[k+4],se=w[k+8],ne=Z*L+$*O+se*P,re=g(Z-=L*ne,$-=O*ne,se-=P*ne),Q=O*(se/=re)-P*($/=re),ee=P*(Z/=re)-L*se,oe=L*$-O*Z,ce=g(Q,ee,oe);if(Q/=ce,ee/=ce,oe/=ce,this.center.jump(_,De,Ue,Ze),this.radius.idle(_),this.up.jump(_,L,O,P),this.right.jump(_,Z,$,se),2===I){var ue=w[1],he=w[5],ve=w[9];G=ze<0?-Math.PI/2:Math.PI/2,H=Math.atan2(ue*Q+he*ee+ve*oe,ue*Z+he*$+ve*se)}else{var Me=w[2],_e=w[6],we=w[10],ze=Me*L+_e*O+we*P,Ee=Me*Z+_e*$+we*se,Se=Me*Q+_e*ee+we*oe;G=Math.asin(h(ze)),H=Math.atan2(Se,Ee)}this.angle.jump(_,H,G),this.recalcMatrix(_);var me=w[2],fe=w[6],le=w[10],Te=this.computedMatrix;a(Te,w);var Re=Te[15],De=Te[12]/Re,Ue=Te[13]/Re,Ze=Te[14]/Re,xe=Math.exp(this.computedRadius[0]);this.center.jump(_,De-me*xe,Ue-fe*xe,Ze-le*xe)},m.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},m.idle=function(_){this.center.idle(_),this.up.idle(_),this.right.idle(_),this.radius.idle(_),this.angle.idle(_)},m.flush=function(_){this.center.flush(_),this.up.flush(_),this.right.flush(_),this.radius.flush(_),this.angle.flush(_)},m.setDistance=function(_,w){w>0&&this.radius.set(_,Math.log(w))},m.lookAt=function(_,w,A,p){this.recalcMatrix(_),w=w||this.computedEye,A=A||this.computedCenter;var I=(p=p||this.computedUp)[0],k=p[1],L=p[2],O=g(I,k,L);if(!(O<1e-6)){I/=O,k/=O,L/=O;var P=w[0]-A[0],F=w[1]-A[1],j=w[2]-A[2],X=g(P,F,j);if(!(X<1e-6)){P/=X,F/=X,j/=X;var N=this.computedRight,q=N[0],G=N[1],H=N[2],Z=I*q+k*G+L*H,$=g(q-=Z*I,G-=Z*k,H-=Z*L);if(!($<.01&&($=g(q=k*j-L*F,G=L*P-I*j,H=I*F-k*P))<1e-6)){q/=$,G/=$,H/=$,this.up.set(_,I,k,L),this.right.set(_,q,G,H),this.center.set(_,A[0],A[1],A[2]),this.radius.set(_,Math.log(X));var se=k*H-L*G,ne=L*q-I*H,re=I*G-k*q,Q=g(se,ne,re),oe=q*P+G*F+H*j,ce=(se/=Q)*P+(ne/=Q)*F+(re/=Q)*j,ue=Math.asin(h(I*P+k*F+L*j)),he=Math.atan2(ce,oe),ve=this.angle._state,ke=ve[ve.length-1],Ie=ve[ve.length-2];ke%=2*Math.PI;var Me=Math.abs(ke+2*Math.PI-he),_e=Math.abs(ke-he),we=Math.abs(ke-2*Math.PI-he);Me<_e&&(ke+=2*Math.PI),we<_e&&(ke-=2*Math.PI),this.angle.jump(this.angle.lastT(),ke,Ie),this.angle.set(_,he,ue)}}}}},9660:function(v){"use strict";v.exports=function(i,s,a){var o=i*s,l=u*i,c=l-(l-i),f=i-c,g=u*s,h=g-(g-s),T=s-h,x=f*T-(o-c*h-f*h-c*T);return a?(a[0]=x,a[1]=o,a):[x,o]};var u=+(Math.pow(2,27)+1)},87:function(v){"use strict";v.exports=function(u,i,s){var a=u+i,o=a-u,l=i-o,c=u-(a-o);return s?(s[0]=c+l,s[1]=a,s):[c+l,a]}},5306:function(v,u,i){"use strict";var s=i(2288),a=i(3094),o=i(2146).lW;i.g.__TYPEDARRAY_POOL||(i.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var l=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",f=typeof BigInt64Array<"u",g=i.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=a([32,0])),g.BIGUINT64||(g.BIGUINT64=a([32,0])),g.BIGINT64||(g.BIGINT64=a([32,0])),g.BUFFER||(g.BUFFER=a([32,0]));var h=g.DATA,T=g.BUFFER;function x(N){if(N){var G=s.log2(N.length||N.byteLength);h[G].push(N)}}function m(N){N=s.nextPow2(N);var q=s.log2(N),G=h[q];return G.length>0?G.pop():new ArrayBuffer(N)}function b(N){return new Uint8Array(m(N),0,N)}function _(N){return new Uint16Array(m(2*N),0,N)}function w(N){return new Uint32Array(m(4*N),0,N)}function A(N){return new Int8Array(m(N),0,N)}function p(N){return new Int16Array(m(2*N),0,N)}function I(N){return new Int32Array(m(4*N),0,N)}function k(N){return new Float32Array(m(4*N),0,N)}function L(N){return new Float64Array(m(8*N),0,N)}function O(N){return l?new Uint8ClampedArray(m(N),0,N):b(N)}function P(N){return c?new BigUint64Array(m(8*N),0,N):null}function F(N){return f?new BigInt64Array(m(8*N),0,N):null}function j(N){return new DataView(m(N),0,N)}function X(N){N=s.nextPow2(N);var q=s.log2(N),G=T[q];return G.length>0?G.pop():new o(N)}u.free=function(N){if(o.isBuffer(N))T[s.log2(N.length)].push(N);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(N)&&(N=N.buffer),!N)return;var G=0|s.log2(N.length||N.byteLength);h[G].push(N)}},u.freeUint8=u.freeUint16=u.freeUint32=u.freeBigUint64=u.freeInt8=u.freeInt16=u.freeInt32=u.freeBigInt64=u.freeFloat32=u.freeFloat=u.freeFloat64=u.freeDouble=u.freeUint8Clamped=u.freeDataView=function(N){x(N.buffer)},u.freeArrayBuffer=x,u.freeBuffer=function(N){T[s.log2(N.length)].push(N)},u.malloc=function(N,q){if(void 0===q||"arraybuffer"===q)return m(N);switch(q){case"uint8":return b(N);case"uint16":return _(N);case"uint32":return w(N);case"int8":return A(N);case"int16":return p(N);case"int32":return I(N);case"float":case"float32":return k(N);case"double":case"float64":return L(N);case"uint8_clamped":return O(N);case"bigint64":return F(N);case"biguint64":return P(N);case"buffer":return X(N);case"data":case"dataview":return j(N);default:return null}return null},u.mallocArrayBuffer=m,u.mallocUint8=b,u.mallocUint16=_,u.mallocUint32=w,u.mallocInt8=A,u.mallocInt16=p,u.mallocInt32=I,u.mallocFloat32=u.mallocFloat=k,u.mallocFloat64=u.mallocDouble=L,u.mallocUint8Clamped=O,u.mallocBigUint64=P,u.mallocBigInt64=F,u.mallocDataView=j,u.mallocBuffer=X,u.clearCache=function(){for(var N=0;N<32;++N)g.UINT8[N].length=0,g.UINT16[N].length=0,g.UINT32[N].length=0,g.INT8[N].length=0,g.INT16[N].length=0,g.INT32[N].length=0,g.FLOAT[N].length=0,g.DOUBLE[N].length=0,g.BIGUINT64[N].length=0,g.BIGINT64[N].length=0,g.UINT8C[N].length=0,h[N].length=0,T[N].length=0}},1731:function(v){"use strict";function u(s){this.roots=new Array(s),this.ranks=new Array(s);for(var a=0;a<s;++a)this.roots[a]=a,this.ranks[a]=0}v.exports=u;var i=u.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var s=this.roots.length;return this.roots.push(s),this.ranks.push(0),s},i.find=function(s){for(var a=s,o=this.roots;o[s]!==s;)s=o[s];for(;o[a]!==s;){var l=o[a];o[a]=s,a=l}return s},i.link=function(s,a){var o=this.find(s),l=this.find(a);if(o!==l){var c=this.ranks,f=this.roots,g=c[o],h=c[l];g<h?f[o]=l:h<g?f[l]=o:(f[l]=o,++c[o])}}},1215:function(v){"use strict";v.exports=function(u,i,s){return 0===u.length?u:i?(s||u.sort(i),function(a,o){for(var l=1,c=a.length,f=a[0],g=a[0],h=1;h<c;++h)if(g=f,o(f=a[h],g)){if(h===l){l++;continue}a[l++]=f}return a.length=l,a}(u,i)):(s||u.sort(),function(a){for(var o=1,l=a.length,c=a[0],f=a[0],g=1;g<l;++g,f=c)if(f=c,(c=a[g])!==f){if(g===o){o++;continue}a[o++]=c}return a.length=o,a}(u))}},875:function(v,u,i){"use strict";v.exports=function(l,c){return"object"==typeof c&&null!==c||(c={}),s(l,c.canvas||a,c.context||o,c)};var s=i(712),a=null,o=null;typeof document<"u"&&((a=document.createElement("canvas")).width=8192,a.height=1024,o=a.getContext("2d"))},712:function(v,u,i){v.exports=function(P,F,j,X){var N=64,q=1.25,G={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return X&&(X.size&&X.size>0&&(N=X.size),X.lineSpacing&&X.lineSpacing>0&&(q=X.lineSpacing),X.styletags&&X.styletags.breaklines&&(G.breaklines=!!X.styletags.breaklines),X.styletags&&X.styletags.bolds&&(G.bolds=!!X.styletags.bolds),X.styletags&&X.styletags.italics&&(G.italics=!!X.styletags.italics),X.styletags&&X.styletags.subscripts&&(G.subscripts=!!X.styletags.subscripts),X.styletags&&X.styletags.superscripts&&(G.superscripts=!!X.styletags.superscripts)),j.font=[X.fontStyle,X.fontVariant,X.fontWeight,N+"px",X.font].filter(function(H){return H}).join(" "),j.textAlign="start",j.textBaseline="alphabetic",j.direction="ltr",O(function(H,Z,$,se,ne,re){$=($=$.replace(/\n/g,"")).replace(/\<br\>/g,!0===re.breaklines?"\n":" ");var Q="",ee=[];for(he=0;he<$.length;++he)ee[he]=Q;!0===re.bolds&&(ee=I(g,h,$,ee)),!0===re.italics&&(ee=I(T,x,$,ee)),!0===re.superscripts&&(ee=I(m,_,$,ee)),!0===re.subscripts&&(ee=I(w,p,$,ee));var oe=[],ce="";for(he=0;he<$.length;++he)null!==ee[he]&&(ce+=$[he],oe.push(ee[he]));var ue,he,ve,ke,Ie,Me=ce.split("\n"),_e=Me.length,we=Math.round(ne*se),ze=se,Ee=2*se,Se=0,me=_e*we+Ee;H.height<me&&(H.height=me),Z.fillStyle="#000",Z.fillRect(0,0,H.width,H.height),Z.fillStyle="#fff";var fe=0,le="";function Te(){if(""!==le){var Be=Z.measureText(le).width;Z.fillText(le,ze+ve,Ee+ke),ve+=Be}}function Re(){return Math.round(Ie)+"px "}function De(Be,qe){var He=""+Z.font;if(!0===re.subscripts){var Je=Be.indexOf(A),et=qe.indexOf(A),st=Je>-1?parseInt(Be[1+Je]):0,pt=et>-1?parseInt(qe[1+et]):0;st!==pt&&(He=He.replace(Re(),"?px "),Ie*=Math.pow(.75,pt-st),He=He.replace("?px ",Re())),ke+=.25*we*(pt-st)}if(!0===re.superscripts){var ct=Be.indexOf(b),St=qe.indexOf(b),Dt=ct>-1?parseInt(Be[1+ct]):0,vt=St>-1?parseInt(qe[1+St]):0;Dt!==vt&&(He=He.replace(Re(),"?px "),Ie*=Math.pow(.75,vt-Dt),He=He.replace("?px ",Re())),ke-=.25*we*(vt-Dt)}if(!0===re.bolds){var gt=Be.indexOf(h)>-1,Et=qe.indexOf(h)>-1;!gt&&Et&&(He=Pt?He.replace("italic ","italic bold "):"bold "+He),gt&&!Et&&(He=He.replace("bold ",""))}if(!0===re.italics){var Pt=Be.indexOf(x)>-1,Ot=qe.indexOf(x)>-1;!Pt&&Ot&&(He="italic "+He),Pt&&!Ot&&(He=He.replace("italic ",""))}Z.font=He}for(ue=0;ue<_e;++ue){var Ue=Me[ue]+"\n";for(ve=0,ke=ue*we,Ie=se,le="",he=0;he<Ue.length;++he){var Ze=he+fe<oe.length?oe[he+fe]:oe[oe.length-1];Q===Ze?le+=Ue[he]:(Te(),le=Ue[he],void 0!==Ze&&(De(Q,Ze),Q=Ze))}Te(),fe+=Ue.length;var xe=0|Math.round(ve+2*ze);Se<xe&&(Se=xe)}var Oe=Se,Ce=Ee+we*_e;return a(Z.getImageData(0,0,Oe,Ce).data,[Ce,Oe,4]).pick(-1,-1,0).transpose(1,0)}(F,j,P,N,q,G),X,N)},v.exports.processPixels=O;var s=i(4162),a=i(5050),o=i(8243),l=i(197),c=i(7761),f=i(8040),g="b",h="b|",T="i",x="i|",m="sup",b="+",_="+1",w="sub",A="-",p="-1";function I(P,F,j,X){for(var N="<"+P+">",q="</"+P+">",G=N.length,H=q.length,Z=F[0]===b||F[0]===A,$=0,se=-H;$>-1&&-1!==($=j.indexOf(N,$))&&-1!==(se=j.indexOf(q,$+G))&&!(se<=$);){for(var ne=$;ne<se+H;++ne)if(ne<$+G||ne>=se)X[ne]=null,j=j.substr(0,ne)+" "+j.substr(ne+1);else if(null!==X[ne]){var re=X[ne].indexOf(F[0]);-1===re?X[ne]+=F:Z&&(X[ne]=X[ne].substr(0,re+1)+(1+parseInt(X[ne][re+1]))+X[ne].substr(re+2))}var Q=$+G,ee=j.substr(Q,se-Q).indexOf(N);$=-1!==ee?ee:se+H}return X}function L(P,F,j,X){var N=function k(P,F){var j=s(P,128);return F?o(j.cells,j.positions,.25):{edges:j.cells,positions:j.positions}}(P,X),q=function(ue,he,ve){for(var ke=he.textAlign||"start",Ie=he.textBaseline||"alphabetic",Me=[1<<30,1<<30],_e=[0,0],we=ue.length,ze=0;ze<we;++ze)for(var Ee=ue[ze],Se=0;Se<2;++Se)Me[Se]=0|Math.min(Me[Se],Ee[Se]),_e[Se]=0|Math.max(_e[Se],Ee[Se]);var me=0;switch(ke){case"center":me=-.5*(Me[0]+_e[0]);break;case"right":case"end":me=-_e[0];break;case"left":case"start":me=-Me[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+ke+"'")}var fe=0;switch(Ie){case"hanging":case"top":fe=-Me[1];break;case"middle":fe=-.5*(Me[1]+_e[1]);break;case"alphabetic":case"ideographic":fe=-3*ve;break;case"bottom":fe=-_e[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+Ie+"'")}var le=1/ve;return"lineHeight"in he?le*=+he.lineHeight:"width"in he?le=he.width/(_e[0]-Me[0]):"height"in he&&(le=he.height/(_e[1]-Me[1])),ue.map(function(Te){return[le*(Te[0]+me),le*(Te[1]+fe)]})}(N.positions,F,j),G=N.edges,H="ccw"===F.orientation;if(l(q,G),F.polygons||F.polygon||F.polyline){for(var Z=f(G,q),$=new Array(Z.length),se=0;se<Z.length;++se){for(var ne=Z[se],re=new Array(ne.length),Q=0;Q<ne.length;++Q){for(var ee=ne[Q],oe=new Array(ee.length),ce=0;ce<ee.length;++ce)oe[ce]=q[ee[ce]].slice();H&&oe.reverse(),re[Q]=oe}$[se]=re}return $}return F.triangles||F.triangulate||F.triangle?{cells:c(q,G,{delaunay:!1,exterior:!1,interior:!0}),positions:q}:{edges:G,positions:q}}function O(P,F,j){try{return L(P,F,j,!0)}catch{}try{return L(P,F,j,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(v){!function(){"use strict";if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=w);var u=!1;if("function"==typeof WeakMap){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var s=new i,a=Object.freeze({});if(s.set(a,1),1===s.get(a))return void(v.exports=WeakMap);u=!0}}var o=Object.getOwnPropertyNames,l=Object.defineProperty,c=Object.isExtensible,f="weakmap:",g=f+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var h=new ArrayBuffer(25),T=new Uint8Array(h);crypto.getRandomValues(T),g=f+"rand:"+Array.prototype.map.call(T,function(L){return(L%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(L){return o(L).filter(A)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(L){return x(L).filter(A)}})}!function(){var L=Object.freeze;l(Object,"freeze",{value:function(F){return p(F),L(F)}});var O=Object.seal;l(Object,"seal",{value:function(F){return p(F),O(F)}});var P=Object.preventExtensions;l(Object,"preventExtensions",{value:function(F){return p(F),P(F)}})}();var m=!1,b=0,_=function(){this instanceof _||k();var L=[],O=[],P=b++;return Object.create(_.prototype,{get___:{value:I(function(F,j){var X,N=p(F);return N?P in N?N[P]:j:(X=L.indexOf(F))>=0?O[X]:j})},has___:{value:I(function(F){var j=p(F);return j?P in j:L.indexOf(F)>=0})},set___:{value:I(function(F,j){var X,N=p(F);return N?N[P]=j:(X=L.indexOf(F))>=0?O[X]=j:(O[X=L.length]=j,L[X]=F),this})},delete___:{value:I(function(F){var j,X,N=p(F);return N?P in N&&delete N[P]:!((j=L.indexOf(F))<0||(X=L.length-1,L[j]=void 0,O[j]=O[X],L[j]=L[X],L.length=X,O.length=X,0))})}})};_.prototype=Object.create(Object.prototype,{get:{value:function(L,O){return this.get___(L,O)},writable:!0,configurable:!0},has:{value:function(L){return this.has___(L)},writable:!0,configurable:!0},set:{value:function(L,O){return this.set___(L,O)},writable:!0,configurable:!0},delete:{value:function(L){return this.delete___(L)},writable:!0,configurable:!0}}),"function"==typeof i?function(){function L(){this instanceof _||k();var O,P=new i,F=void 0,j=!1;return O=u?function(X,N){return P.set(X,N),P.has(X)||(F||(F=new _),F.set(X,N)),this}:function(X,N){if(j)try{P.set(X,N)}catch{F||(F=new _),F.set___(X,N)}else P.set(X,N);return this},Object.create(_.prototype,{get___:{value:I(function(X,N){return F?P.has(X)?P.get(X):F.get___(X,N):P.get(X,N)})},has___:{value:I(function(X){return P.has(X)||!!F&&F.has___(X)})},set___:{value:I(O)},delete___:{value:I(function(X){var N=!!P.delete(X);return F&&F.delete___(X)||N})},permitHostObjects___:{value:I(function(X){if(X!==w)throw new Error("bogus call to permitHostObjects___");j=!0})}})}u&&typeof Proxy<"u"&&(Proxy=void 0),L.prototype=_.prototype,v.exports=L,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=_)}function w(L){L.permitHostObjects___&&L.permitHostObjects___(w)}function A(L){return!(L.substr(0,8)==f&&"___"===L.substr(L.length-3))}function p(L){if(L!==Object(L))throw new TypeError("Not an object: "+L);var O=L[g];if(O&&O.key===L)return O;if(c(L)){O={key:L};try{return l(L,g,{value:O,writable:!1,enumerable:!1,configurable:!1}),O}catch{return}}}function I(L){return L.prototype=null,Object.freeze(L)}function k(){m||typeof console>"u"||(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},9222:function(v,u,i){var s=i(7178);v.exports=function(){var a={};return function(o){if(("object"!=typeof o||null===o)&&"function"!=typeof o)throw new Error("Weakmap-shim: Key must be object");var l=o.valueOf(a);return l&&l.identity===a?l:s(o,a)}}},7178:function(v){v.exports=function(u,i){var s={identity:i},a=u.valueOf;return Object.defineProperty(u,"valueOf",{value:function(o){return o!==i?a.apply(this,arguments):s},writable:!0}),s}},4037:function(v,u,i){var s=i(9222);v.exports=function(){var a=s();return{get:function(o,l){var c=a(o);return c.hasOwnProperty("value")?c.value:l},set:function(o,l){return a(o).value=l,this},has:function(o){return"value"in a(o)},delete:function(o){return delete a(o).value}}}},6183:function(v){"use strict";var u,i;v.exports=(u=function(){return function(u,i,s,a,o,l){var c=u[0],f=s[0],g=[0],h=f;a|=0;var T=0,x=f;for(T=0;T<c;++T){var m=i[a]-l,b=i[a+h]-l;m>=0!=b>=0&&o.push(g[0]+.5+.5*(m+b)/(m-b)),a+=x,++g[0]}}}.bind(void 0,{funcName:"zeroCrossings"}),i={},function(s,a,o){var l=s.dtype,c=s.order,f=[l,c.join()].join(),g=i[f];return g||(i[f]=g=u([l,c])),g(s.shape.slice(0),s.data,s.stride,0|s.offset,a,o)})},9584:function(v,u,i){"use strict";v.exports=function(a,o){var l=[];return o=+o||0,s(a.hi(a.shape[0]-1),l,o),l};var s=i(6183)},6601:function(){}},S={};function M(v){var u=S[v];if(void 0!==u)return u.exports;var i=S[v]={id:v,loaded:!1,exports:{}};return d[v].call(i.exports,i,i.exports,M),i.loaded=!0,i.exports}return M.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),M.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v},M(7386)}()},ae.exports=D()},12856:function(ae,B,r){"use strict";function E(me,fe){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,Te){return le.__proto__=Te,le})(me,fe)}function d(me){if(void 0===me)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function S(me){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(fe){return fe.__proto__||Object.getPrototypeOf(fe)})(me)}function M(me){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(me)}var v=r(95341),u=r(95280),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=o,B.SlowBuffer=function(me){return+me!=me&&(me=0),o.alloc(+me)},B.INSPECT_MAX_BYTES=50;var s=2147483647;function a(me){if(me>s)throw new RangeError('The value "'+me+'" is invalid for option "size"');var fe=new Uint8Array(me);return Object.setPrototypeOf(fe,o.prototype),fe}function o(me,fe,le){if("number"==typeof me){if("string"==typeof fe)throw new TypeError('The "string" argument must be of type string. Received type number');return f(me)}return l(me,fe,le)}function l(me,fe,le){if("string"==typeof me)return function(De,Ue){if("string"==typeof Ue&&""!==Ue||(Ue="utf8"),!o.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);var Ze=0|x(De,Ue),xe=a(Ze),Oe=xe.write(De,Ue);return Oe!==Ze&&(xe=xe.slice(0,Oe)),xe}(me,fe);if(ArrayBuffer.isView(me))return function(De){if(_e(De,Uint8Array)){var Ue=new Uint8Array(De);return h(Ue.buffer,Ue.byteOffset,Ue.byteLength)}return g(De)}(me);if(null==me)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+M(me));if(_e(me,ArrayBuffer)||me&&_e(me.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(me,SharedArrayBuffer)||me&&_e(me.buffer,SharedArrayBuffer)))return h(me,fe,le);if("number"==typeof me)throw new TypeError('The "value" argument must not be of type number. Received type number');var Te=me.valueOf&&me.valueOf();if(null!=Te&&Te!==me)return o.from(Te,fe,le);var Re=function(De){if(o.isBuffer(De)){var Ue=0|T(De.length),Ze=a(Ue);return 0===Ze.length||De.copy(Ze,0,0,Ue),Ze}return void 0!==De.length?"number"!=typeof De.length||we(De.length)?a(0):g(De):"Buffer"===De.type&&Array.isArray(De.data)?g(De.data):void 0}(me);if(Re)return Re;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof me[Symbol.toPrimitive])return o.from(me[Symbol.toPrimitive]("string"),fe,le);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+M(me))}function c(me){if("number"!=typeof me)throw new TypeError('"size" argument must be of type number');if(me<0)throw new RangeError('The value "'+me+'" is invalid for option "size"')}function f(me){return c(me),a(me<0?0:0|T(me))}function g(me){for(var fe=me.length<0?0:0|T(me.length),le=a(fe),Te=0;Te<fe;Te+=1)le[Te]=255&me[Te];return le}function h(me,fe,le){if(fe<0||me.byteLength<fe)throw new RangeError('"offset" is outside of buffer bounds');if(me.byteLength<fe+(le||0))throw new RangeError('"length" is outside of buffer bounds');var Te;return Te=void 0===fe&&void 0===le?new Uint8Array(me):void 0===le?new Uint8Array(me,fe):new Uint8Array(me,fe,le),Object.setPrototypeOf(Te,o.prototype),Te}function T(me){if(me>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|me}function x(me,fe){if(o.isBuffer(me))return me.length;if(ArrayBuffer.isView(me)||_e(me,ArrayBuffer))return me.byteLength;if("string"!=typeof me)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+M(me));var le=me.length,Te=arguments.length>2&&!0===arguments[2];if(!Te&&0===le)return 0;for(var Re=!1;;)switch(fe){case"ascii":case"latin1":case"binary":return le;case"utf8":case"utf-8":return ke(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*le;case"hex":return le>>>1;case"base64":return Ie(me).length;default:if(Re)return Te?-1:ke(me).length;fe=(""+fe).toLowerCase(),Re=!0}}function m(me,fe,le){var Te=!1;if((void 0===fe||fe<0)&&(fe=0),fe>this.length||((void 0===le||le>this.length)&&(le=this.length),le<=0)||(le>>>=0)<=(fe>>>=0))return"";for(me||(me="utf8");;)switch(me){case"hex":return N(this,fe,le);case"utf8":case"utf-8":return P(this,fe,le);case"ascii":return j(this,fe,le);case"latin1":case"binary":return X(this,fe,le);case"base64":return O(this,fe,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,fe,le);default:if(Te)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Te=!0}}function b(me,fe,le){var Te=me[fe];me[fe]=me[le],me[le]=Te}function _(me,fe,le,Te,Re){if(0===me.length)return-1;if("string"==typeof le?(Te=le,le=0):le>2147483647?le=2147483647:le<-2147483648&&(le=-2147483648),we(le=+le)&&(le=Re?0:me.length-1),le<0&&(le=me.length+le),le>=me.length){if(Re)return-1;le=me.length-1}else if(le<0){if(!Re)return-1;le=0}if("string"==typeof fe&&(fe=o.from(fe,Te)),o.isBuffer(fe))return 0===fe.length?-1:w(me,fe,le,Te,Re);if("number"==typeof fe)return fe&=255,"function"==typeof Uint8Array.prototype.indexOf?Re?Uint8Array.prototype.indexOf.call(me,fe,le):Uint8Array.prototype.lastIndexOf.call(me,fe,le):w(me,[fe],le,Te,Re);throw new TypeError("val must be string, number or Buffer")}function w(me,fe,le,Te,Re){var De,Ue=1,Ze=me.length,xe=fe.length;if(void 0!==Te&&("ucs2"===(Te=String(Te).toLowerCase())||"ucs-2"===Te||"utf16le"===Te||"utf-16le"===Te)){if(me.length<2||fe.length<2)return-1;Ue=2,Ze/=2,xe/=2,le/=2}function Oe(He,Je){return 1===Ue?He[Je]:He.readUInt16BE(Je*Ue)}if(Re){var Ce=-1;for(De=le;De<Ze;De++)if(Oe(me,De)===Oe(fe,-1===Ce?0:De-Ce)){if(-1===Ce&&(Ce=De),De-Ce+1===xe)return Ce*Ue}else-1!==Ce&&(De-=De-Ce),Ce=-1}else for(le+xe>Ze&&(le=Ze-xe),De=le;De>=0;De--){for(var Be=!0,qe=0;qe<xe;qe++)if(Oe(me,De+qe)!==Oe(fe,qe)){Be=!1;break}if(Be)return De}return-1}function A(me,fe,le,Te){le=Number(le)||0;var Re=me.length-le;Te?(Te=Number(Te))>Re&&(Te=Re):Te=Re;var De,Ue=fe.length;for(Te>Ue/2&&(Te=Ue/2),De=0;De<Te;++De){var Ze=parseInt(fe.substr(2*De,2),16);if(we(Ze))return De;me[le+De]=Ze}return De}function p(me,fe,le,Te){return Me(ke(fe,me.length-le),me,le,Te)}function I(me,fe,le,Te){return Me(function(Re){for(var De=[],Ue=0;Ue<Re.length;++Ue)De.push(255&Re.charCodeAt(Ue));return De}(fe),me,le,Te)}function k(me,fe,le,Te){return Me(Ie(fe),me,le,Te)}function L(me,fe,le,Te){return Me(function(Re,De){for(var Ue,Ze,Oe=[],Ce=0;Ce<Re.length&&!((De-=2)<0);++Ce)Ze=(Ue=Re.charCodeAt(Ce))>>8,Oe.push(Ue%256),Oe.push(Ze);return Oe}(fe,me.length-le),me,le,Te)}function O(me,fe,le){return v.fromByteArray(0===fe&&le===me.length?me:me.slice(fe,le))}function P(me,fe,le){le=Math.min(me.length,le);for(var Te=[],Re=fe;Re<le;){var De=me[Re],Ue=null,Ze=De>239?4:De>223?3:De>191?2:1;if(Re+Ze<=le){var xe=void 0,Oe=void 0,Ce=void 0,Be=void 0;switch(Ze){case 1:De<128&&(Ue=De);break;case 2:128==(192&(xe=me[Re+1]))&&(Be=(31&De)<<6|63&xe)>127&&(Ue=Be);break;case 3:Oe=me[Re+2],128==(192&(xe=me[Re+1]))&&128==(192&Oe)&&(Be=(15&De)<<12|(63&xe)<<6|63&Oe)>2047&&(Be<55296||Be>57343)&&(Ue=Be);break;case 4:Oe=me[Re+2],Ce=me[Re+3],128==(192&(xe=me[Re+1]))&&128==(192&Oe)&&128==(192&Ce)&&(Be=(15&De)<<18|(63&xe)<<12|(63&Oe)<<6|63&Ce)>65535&&Be<1114112&&(Ue=Be)}}null===Ue?(Ue=65533,Ze=1):Ue>65535&&(Te.push((Ue-=65536)>>>10&1023|55296),Ue=56320|1023&Ue),Te.push(Ue),Re+=Ze}return function(qe){var He=qe.length;if(He<=F)return String.fromCharCode.apply(String,qe);for(var Je="",et=0;et<He;)Je+=String.fromCharCode.apply(String,qe.slice(et,et+=F));return Je}(Te)}B.kMaxLength=s,(o.TYPED_ARRAY_SUPPORT=function(){try{var me=new Uint8Array(1),fe={foo:function(){return 42}};return Object.setPrototypeOf(fe,Uint8Array.prototype),Object.setPrototypeOf(me,fe),42===me.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(me,fe,le){return l(me,fe,le)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(me,fe,le){return Re=fe,De=le,c(Te=me),Te<=0?a(Te):void 0!==Re?"string"==typeof De?a(Te).fill(Re,De):a(Te).fill(Re):a(Te);var Te,Re,De},o.allocUnsafe=function(me){return f(me)},o.allocUnsafeSlow=function(me){return f(me)},o.isBuffer=function(me){return null!=me&&!0===me._isBuffer&&me!==o.prototype},o.compare=function(me,fe){if(_e(me,Uint8Array)&&(me=o.from(me,me.offset,me.byteLength)),_e(fe,Uint8Array)&&(fe=o.from(fe,fe.offset,fe.byteLength)),!o.isBuffer(me)||!o.isBuffer(fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===fe)return 0;for(var le=me.length,Te=fe.length,Re=0,De=Math.min(le,Te);Re<De;++Re)if(me[Re]!==fe[Re]){le=me[Re],Te=fe[Re];break}return le<Te?-1:Te<le?1:0},o.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(me,fe){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(0===me.length)return o.alloc(0);var le;if(void 0===fe)for(fe=0,le=0;le<me.length;++le)fe+=me[le].length;var Te=o.allocUnsafe(fe),Re=0;for(le=0;le<me.length;++le){var De=me[le];if(_e(De,Uint8Array))Re+De.length>Te.length?(o.isBuffer(De)||(De=o.from(De)),De.copy(Te,Re)):Uint8Array.prototype.set.call(Te,De,Re);else{if(!o.isBuffer(De))throw new TypeError('"list" argument must be an Array of Buffers');De.copy(Te,Re)}Re+=De.length}return Te},o.byteLength=x,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var me=this.length;if(me%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var fe=0;fe<me;fe+=2)b(this,fe,fe+1);return this},o.prototype.swap32=function(){var me=this.length;if(me%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var fe=0;fe<me;fe+=4)b(this,fe,fe+3),b(this,fe+1,fe+2);return this},o.prototype.swap64=function(){var me=this.length;if(me%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var fe=0;fe<me;fe+=8)b(this,fe,fe+7),b(this,fe+1,fe+6),b(this,fe+2,fe+5),b(this,fe+3,fe+4);return this},o.prototype.toString=function(){var me=this.length;return 0===me?"":0===arguments.length?P(this,0,me):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(me){if(!o.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me||0===o.compare(this,me)},o.prototype.inspect=function(){var me="",fe=B.INSPECT_MAX_BYTES;return me=this.toString("hex",0,fe).replace(/(.{2})/g,"$1 ").trim(),this.length>fe&&(me+=" ... "),"<Buffer "+me+">"},i&&(o.prototype[i]=o.prototype.inspect),o.prototype.compare=function(me,fe,le,Te,Re){if(_e(me,Uint8Array)&&(me=o.from(me,me.offset,me.byteLength)),!o.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+M(me));if(void 0===fe&&(fe=0),void 0===le&&(le=me?me.length:0),void 0===Te&&(Te=0),void 0===Re&&(Re=this.length),fe<0||le>me.length||Te<0||Re>this.length)throw new RangeError("out of range index");if(Te>=Re&&fe>=le)return 0;if(Te>=Re)return-1;if(fe>=le)return 1;if(this===me)return 0;for(var De=(Re>>>=0)-(Te>>>=0),Ue=(le>>>=0)-(fe>>>=0),Ze=Math.min(De,Ue),xe=this.slice(Te,Re),Oe=me.slice(fe,le),Ce=0;Ce<Ze;++Ce)if(xe[Ce]!==Oe[Ce]){De=xe[Ce],Ue=Oe[Ce];break}return De<Ue?-1:Ue<De?1:0},o.prototype.includes=function(me,fe,le){return-1!==this.indexOf(me,fe,le)},o.prototype.indexOf=function(me,fe,le){return _(this,me,fe,le,!0)},o.prototype.lastIndexOf=function(me,fe,le){return _(this,me,fe,le,!1)},o.prototype.write=function(me,fe,le,Te){if(void 0===fe)Te="utf8",le=this.length,fe=0;else if(void 0===le&&"string"==typeof fe)Te=fe,le=this.length,fe=0;else{if(!isFinite(fe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");fe>>>=0,isFinite(le)?(le>>>=0,void 0===Te&&(Te="utf8")):(Te=le,le=void 0)}var Re=this.length-fe;if((void 0===le||le>Re)&&(le=Re),me.length>0&&(le<0||fe<0)||fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Te||(Te="utf8");for(var De=!1;;)switch(Te){case"hex":return A(this,me,fe,le);case"utf8":case"utf-8":return p(this,me,fe,le);case"ascii":case"latin1":case"binary":return I(this,me,fe,le);case"base64":return k(this,me,fe,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,me,fe,le);default:if(De)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),De=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function j(me,fe,le){var Te="";le=Math.min(me.length,le);for(var Re=fe;Re<le;++Re)Te+=String.fromCharCode(127&me[Re]);return Te}function X(me,fe,le){var Te="";le=Math.min(me.length,le);for(var Re=fe;Re<le;++Re)Te+=String.fromCharCode(me[Re]);return Te}function N(me,fe,le){var Te=me.length;(!fe||fe<0)&&(fe=0),(!le||le<0||le>Te)&&(le=Te);for(var Re="",De=fe;De<le;++De)Re+=ze[me[De]];return Re}function q(me,fe,le){for(var Te=me.slice(fe,le),Re="",De=0;De<Te.length-1;De+=2)Re+=String.fromCharCode(Te[De]+256*Te[De+1]);return Re}function G(me,fe,le){if(me%1!=0||me<0)throw new RangeError("offset is not uint");if(me+fe>le)throw new RangeError("Trying to access beyond buffer length")}function H(me,fe,le,Te,Re,De){if(!o.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(fe>Re||fe<De)throw new RangeError('"value" argument is out of bounds');if(le+Te>me.length)throw new RangeError("Index out of range")}function Z(me,fe,le,Te,Re){ce(fe,Te,Re,me,le,7);var De=Number(fe&BigInt(4294967295));me[le++]=De,me[le++]=De>>=8,me[le++]=De>>=8,me[le++]=De>>=8;var Ue=Number(fe>>BigInt(32)&BigInt(4294967295));return me[le++]=Ue,me[le++]=Ue>>=8,me[le++]=Ue>>=8,me[le++]=Ue>>=8,le}function $(me,fe,le,Te,Re){ce(fe,Te,Re,me,le,7);var De=Number(fe&BigInt(4294967295));me[le+7]=De,me[le+6]=De>>=8,me[le+5]=De>>=8,me[le+4]=De>>=8;var Ue=Number(fe>>BigInt(32)&BigInt(4294967295));return me[le+3]=Ue,me[le+2]=Ue>>=8,me[le+1]=Ue>>=8,me[le]=Ue>>=8,le+8}function se(me,fe,le,Te,Re,De){if(le+Te>me.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("Index out of range")}function ne(me,fe,le,Te,Re){return fe=+fe,le>>>=0,Re||se(me,0,le,4),u.write(me,fe,le,Te,23,4),le+4}function re(me,fe,le,Te,Re){return fe=+fe,le>>>=0,Re||se(me,0,le,8),u.write(me,fe,le,Te,52,8),le+8}o.prototype.slice=function(me,fe){var le=this.length;(me=~~me)<0?(me+=le)<0&&(me=0):me>le&&(me=le),(fe=void 0===fe?le:~~fe)<0?(fe+=le)<0&&(fe=0):fe>le&&(fe=le),fe<me&&(fe=me);var Te=this.subarray(me,fe);return Object.setPrototypeOf(Te,o.prototype),Te},o.prototype.readUintLE=o.prototype.readUIntLE=function(me,fe,le){me>>>=0,fe>>>=0,le||G(me,fe,this.length);for(var Te=this[me],Re=1,De=0;++De<fe&&(Re*=256);)Te+=this[me+De]*Re;return Te},o.prototype.readUintBE=o.prototype.readUIntBE=function(me,fe,le){me>>>=0,fe>>>=0,le||G(me,fe,this.length);for(var Te=this[me+--fe],Re=1;fe>0&&(Re*=256);)Te+=this[me+--fe]*Re;return Te},o.prototype.readUint8=o.prototype.readUInt8=function(me,fe){return me>>>=0,fe||G(me,1,this.length),this[me]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(me,fe){return me>>>=0,fe||G(me,2,this.length),this[me]|this[me+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(me,fe){return me>>>=0,fe||G(me,2,this.length),this[me]<<8|this[me+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(me,fe){return me>>>=0,fe||G(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+16777216*this[me+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(me,fe){return me>>>=0,fe||G(me,4,this.length),16777216*this[me]+(this[me+1]<<16|this[me+2]<<8|this[me+3])},o.prototype.readBigUInt64LE=Ee(function(me){ue(me>>>=0,"offset");var fe=this[me],le=this[me+7];void 0!==fe&&void 0!==le||he(me,this.length-8);var Te=fe+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24),Re=this[++me]+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+le*Math.pow(2,24);return BigInt(Te)+(BigInt(Re)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ee(function(me){ue(me>>>=0,"offset");var fe=this[me],le=this[me+7];void 0!==fe&&void 0!==le||he(me,this.length-8);var Te=fe*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me],Re=this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+le;return(BigInt(Te)<<BigInt(32))+BigInt(Re)}),o.prototype.readIntLE=function(me,fe,le){me>>>=0,fe>>>=0,le||G(me,fe,this.length);for(var Te=this[me],Re=1,De=0;++De<fe&&(Re*=256);)Te+=this[me+De]*Re;return Te>=(Re*=128)&&(Te-=Math.pow(2,8*fe)),Te},o.prototype.readIntBE=function(me,fe,le){me>>>=0,fe>>>=0,le||G(me,fe,this.length);for(var Te=fe,Re=1,De=this[me+--Te];Te>0&&(Re*=256);)De+=this[me+--Te]*Re;return De>=(Re*=128)&&(De-=Math.pow(2,8*fe)),De},o.prototype.readInt8=function(me,fe){return me>>>=0,fe||G(me,1,this.length),128&this[me]?-1*(255-this[me]+1):this[me]},o.prototype.readInt16LE=function(me,fe){me>>>=0,fe||G(me,2,this.length);var le=this[me]|this[me+1]<<8;return 32768&le?4294901760|le:le},o.prototype.readInt16BE=function(me,fe){me>>>=0,fe||G(me,2,this.length);var le=this[me+1]|this[me]<<8;return 32768&le?4294901760|le:le},o.prototype.readInt32LE=function(me,fe){return me>>>=0,fe||G(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},o.prototype.readInt32BE=function(me,fe){return me>>>=0,fe||G(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},o.prototype.readBigInt64LE=Ee(function(me){ue(me>>>=0,"offset");var fe=this[me],le=this[me+7];void 0!==fe&&void 0!==le||he(me,this.length-8);var Te=this[me+4]+this[me+5]*Math.pow(2,8)+this[me+6]*Math.pow(2,16)+(le<<24);return(BigInt(Te)<<BigInt(32))+BigInt(fe+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24))}),o.prototype.readBigInt64BE=Ee(function(me){ue(me>>>=0,"offset");var fe=this[me],le=this[me+7];void 0!==fe&&void 0!==le||he(me,this.length-8);var Te=(fe<<24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me];return(BigInt(Te)<<BigInt(32))+BigInt(this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+le)}),o.prototype.readFloatLE=function(me,fe){return me>>>=0,fe||G(me,4,this.length),u.read(this,me,!0,23,4)},o.prototype.readFloatBE=function(me,fe){return me>>>=0,fe||G(me,4,this.length),u.read(this,me,!1,23,4)},o.prototype.readDoubleLE=function(me,fe){return me>>>=0,fe||G(me,8,this.length),u.read(this,me,!0,52,8)},o.prototype.readDoubleBE=function(me,fe){return me>>>=0,fe||G(me,8,this.length),u.read(this,me,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(me,fe,le,Te){me=+me,fe>>>=0,le>>>=0,Te||H(this,me,fe,le,Math.pow(2,8*le)-1,0);var Re=1,De=0;for(this[fe]=255&me;++De<le&&(Re*=256);)this[fe+De]=me/Re&255;return fe+le},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(me,fe,le,Te){me=+me,fe>>>=0,le>>>=0,Te||H(this,me,fe,le,Math.pow(2,8*le)-1,0);var Re=le-1,De=1;for(this[fe+Re]=255&me;--Re>=0&&(De*=256);)this[fe+Re]=me/De&255;return fe+le},o.prototype.writeUint8=o.prototype.writeUInt8=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,1,255,0),this[fe]=255&me,fe+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,2,65535,0),this[fe]=255&me,this[fe+1]=me>>>8,fe+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,2,65535,0),this[fe]=me>>>8,this[fe+1]=255&me,fe+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,4,4294967295,0),this[fe+3]=me>>>24,this[fe+2]=me>>>16,this[fe+1]=me>>>8,this[fe]=255&me,fe+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,4,4294967295,0),this[fe]=me>>>24,this[fe+1]=me>>>16,this[fe+2]=me>>>8,this[fe+3]=255&me,fe+4},o.prototype.writeBigUInt64LE=Ee(function(me){return Z(this,me,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ee(function(me){return $(this,me,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(me,fe,le,Te){if(me=+me,fe>>>=0,!Te){var Re=Math.pow(2,8*le-1);H(this,me,fe,le,Re-1,-Re)}var De=0,Ue=1,Ze=0;for(this[fe]=255&me;++De<le&&(Ue*=256);)me<0&&0===Ze&&0!==this[fe+De-1]&&(Ze=1),this[fe+De]=(me/Ue>>0)-Ze&255;return fe+le},o.prototype.writeIntBE=function(me,fe,le,Te){if(me=+me,fe>>>=0,!Te){var Re=Math.pow(2,8*le-1);H(this,me,fe,le,Re-1,-Re)}var De=le-1,Ue=1,Ze=0;for(this[fe+De]=255&me;--De>=0&&(Ue*=256);)me<0&&0===Ze&&0!==this[fe+De+1]&&(Ze=1),this[fe+De]=(me/Ue>>0)-Ze&255;return fe+le},o.prototype.writeInt8=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,1,127,-128),me<0&&(me=255+me+1),this[fe]=255&me,fe+1},o.prototype.writeInt16LE=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,2,32767,-32768),this[fe]=255&me,this[fe+1]=me>>>8,fe+2},o.prototype.writeInt16BE=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,2,32767,-32768),this[fe]=me>>>8,this[fe+1]=255&me,fe+2},o.prototype.writeInt32LE=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,4,2147483647,-2147483648),this[fe]=255&me,this[fe+1]=me>>>8,this[fe+2]=me>>>16,this[fe+3]=me>>>24,fe+4},o.prototype.writeInt32BE=function(me,fe,le){return me=+me,fe>>>=0,le||H(this,me,fe,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[fe]=me>>>24,this[fe+1]=me>>>16,this[fe+2]=me>>>8,this[fe+3]=255&me,fe+4},o.prototype.writeBigInt64LE=Ee(function(me){return Z(this,me,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ee(function(me){return $(this,me,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(me,fe,le){return ne(this,me,fe,!0,le)},o.prototype.writeFloatBE=function(me,fe,le){return ne(this,me,fe,!1,le)},o.prototype.writeDoubleLE=function(me,fe,le){return re(this,me,fe,!0,le)},o.prototype.writeDoubleBE=function(me,fe,le){return re(this,me,fe,!1,le)},o.prototype.copy=function(me,fe,le,Te){if(!o.isBuffer(me))throw new TypeError("argument should be a Buffer");if(le||(le=0),Te||0===Te||(Te=this.length),fe>=me.length&&(fe=me.length),fe||(fe=0),Te>0&&Te<le&&(Te=le),Te===le||0===me.length||0===this.length)return 0;if(fe<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("sourceEnd out of bounds");Te>this.length&&(Te=this.length),me.length-fe<Te-le&&(Te=me.length-fe+le);var Re=Te-le;return this===me&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(fe,le,Te):Uint8Array.prototype.set.call(me,this.subarray(le,Te),fe),Re},o.prototype.fill=function(me,fe,le,Te){if("string"==typeof me){if("string"==typeof fe?(Te=fe,fe=0,le=this.length):"string"==typeof le&&(Te=le,le=this.length),void 0!==Te&&"string"!=typeof Te)throw new TypeError("encoding must be a string");if("string"==typeof Te&&!o.isEncoding(Te))throw new TypeError("Unknown encoding: "+Te);if(1===me.length){var Re=me.charCodeAt(0);("utf8"===Te&&Re<128||"latin1"===Te)&&(me=Re)}}else"number"==typeof me?me&=255:"boolean"==typeof me&&(me=Number(me));if(fe<0||this.length<fe||this.length<le)throw new RangeError("Out of range index");if(le<=fe)return this;var De;if(fe>>>=0,le=void 0===le?this.length:le>>>0,me||(me=0),"number"==typeof me)for(De=fe;De<le;++De)this[De]=me;else{var Ue=o.isBuffer(me)?me:o.from(me,Te),Ze=Ue.length;if(0===Ze)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(De=0;De<le-fe;++De)this[De+fe]=Ue[De%Ze]}return this};var Q={};function ee(me,fe,le){Q[me]=function(Te){!function(Ce,Be){if("function"!=typeof Be&&null!==Be)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(Be&&Be.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),Object.defineProperty(Ce,"prototype",{writable:!1}),Be&&E(Ce,Be)}(Oe,Te);var Re,De,Ue,Ze,xe=(Ue=Oe,Ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ce,Be=S(Ue);if(Ze){var qe=S(this).constructor;Ce=Reflect.construct(Be,arguments,qe)}else Ce=Be.apply(this,arguments);return function(He,Je){if(Je&&("object"===M(Je)||"function"==typeof Je))return Je;if(void 0!==Je)throw new TypeError("Derived constructors may only return object or undefined");return d(He)}(this,Ce)});function Oe(){var Ce;return function(Be,qe){if(!(Be instanceof qe))throw new TypeError("Cannot call a class as a function")}(this,Oe),Ce=xe.call(this),Object.defineProperty(d(Ce),"message",{value:fe.apply(d(Ce),arguments),writable:!0,configurable:!0}),Ce.name="".concat(Ce.name," [").concat(me,"]"),delete Ce.name,Ce}return Re=Oe,(De=[{key:"code",get:function(){return me},set:function(Ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ce,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(me,"]: ").concat(this.message)}}])&&function D(me,fe){for(var le=0;le<fe.length;le++){var Te=fe[le];Te.enumerable=Te.enumerable||!1,Te.configurable=!0,"value"in Te&&(Te.writable=!0),Object.defineProperty(me,(Re=function(De,Ue){if("object"!==M(De)||null===De)return De;var Ze=De[Symbol.toPrimitive];if(void 0!==Ze){var xe=Ze.call(De,"string");if("object"!==M(xe))return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Te.key),"symbol"===M(Re)?Re:String(Re)),Te)}var Re}(Re.prototype,De),Object.defineProperty(Re,"prototype",{writable:!1}),Oe}(le)}function oe(me){for(var fe="",le=me.length,Te="-"===me[0]?1:0;le>=Te+4;le-=3)fe="_".concat(me.slice(le-3,le)).concat(fe);return"".concat(me.slice(0,le)).concat(fe)}function ce(me,fe,le,Te,Re,De){if(me>le||me<fe){var Ue,Ze="bigint"==typeof fe?"n":"";throw Ue=De>3?0===fe||fe===BigInt(0)?">= 0".concat(Ze," and < 2").concat(Ze," ** ").concat(8*(De+1)).concat(Ze):">= -(2".concat(Ze," ** ").concat(8*(De+1)-1).concat(Ze,") and < 2 ** ")+"".concat(8*(De+1)-1).concat(Ze):">= ".concat(fe).concat(Ze," and <= ").concat(le).concat(Ze),new Q.ERR_OUT_OF_RANGE("value",Ue,me)}var xe,Oe,Ce;xe=Te,Ce=De,ue(Oe=Re,"offset"),void 0!==xe[Oe]&&void 0!==xe[Oe+Ce]||he(Oe,xe.length-(Ce+1))}function ue(me,fe){if("number"!=typeof me)throw new Q.ERR_INVALID_ARG_TYPE(fe,"number",me)}function he(me,fe,le){throw Math.floor(me)!==me?(ue(me,le),new Q.ERR_OUT_OF_RANGE(le||"offset","an integer",me)):fe<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE(le||"offset",">= ".concat(le?1:0," and <= ").concat(fe),me)}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(me){return me?"".concat(me," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(me,fe){return'The "'.concat(me,'" argument must be of type number. Received type ').concat(M(fe))},TypeError),ee("ERR_OUT_OF_RANGE",function(me,fe,le){var Te='The value of "'.concat(me,'" is out of range.'),Re=le;return Number.isInteger(le)&&Math.abs(le)>Math.pow(2,32)?Re=oe(String(le)):"bigint"==typeof le&&(Re=String(le),(le>Math.pow(BigInt(2),BigInt(32))||le<-Math.pow(BigInt(2),BigInt(32)))&&(Re=oe(Re)),Re+="n"),Te+" It must be ".concat(fe,". Received ").concat(Re)},RangeError);var ve=/[^+/0-9A-Za-z-_]/g;function ke(me,fe){var le;fe=fe||1/0;for(var Te=me.length,Re=null,De=[],Ue=0;Ue<Te;++Ue){if((le=me.charCodeAt(Ue))>55295&&le<57344){if(!Re){if(le>56319){(fe-=3)>-1&&De.push(239,191,189);continue}if(Ue+1===Te){(fe-=3)>-1&&De.push(239,191,189);continue}Re=le;continue}if(le<56320){(fe-=3)>-1&&De.push(239,191,189),Re=le;continue}le=65536+(Re-55296<<10|le-56320)}else Re&&(fe-=3)>-1&&De.push(239,191,189);if(Re=null,le<128){if((fe-=1)<0)break;De.push(le)}else if(le<2048){if((fe-=2)<0)break;De.push(le>>6|192,63&le|128)}else if(le<65536){if((fe-=3)<0)break;De.push(le>>12|224,le>>6&63|128,63&le|128)}else{if(!(le<1114112))throw new Error("Invalid code point");if((fe-=4)<0)break;De.push(le>>18|240,le>>12&63|128,le>>6&63|128,63&le|128)}}return De}function Ie(me){return v.toByteArray(function(fe){if((fe=(fe=fe.split("=")[0]).trim().replace(ve,"")).length<2)return"";for(;fe.length%4!=0;)fe+="=";return fe}(me))}function Me(me,fe,le,Te){var Re;for(Re=0;Re<Te&&!(Re+le>=fe.length||Re>=me.length);++Re)fe[Re+le]=me[Re];return Re}function _e(me,fe){return me instanceof fe||null!=me&&null!=me.constructor&&null!=me.constructor.name&&me.constructor.name===fe.name}function we(me){return me!=me}var ze=function(){for(var me="0123456789abcdef",fe=new Array(256),le=0;le<16;++le)for(var Te=16*le,Re=0;Re<16;++Re)fe[Te+Re]=me[le]+me[Re];return fe}();function Ee(me){return typeof BigInt>"u"?Se:me}function Se(){throw new Error("BigInt not supported")}},35791:function(ae){"use strict";ae.exports=E,ae.exports.isMobile=E,ae.exports.default=E;var B=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,D=/android|ipad|playbook|silk/i;function E(d){d||(d={});var S=d.ua;if(S||typeof navigator>"u"||(S=navigator.userAgent),S&&S.headers&&"string"==typeof S.headers["user-agent"]&&(S=S.headers["user-agent"]),"string"!=typeof S)return!1;var M=B.test(S)&&!r.test(S)||!!d.tablet&&D.test(S);return!M&&d.tablet&&d.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==S.indexOf("Macintosh")&&-1!==S.indexOf("Safari")&&(M=!0),M}},86781:function(ae,B,r){"use strict";r.r(B),r.d(B,{sankeyCenter:function(){return a},sankeyCircular:function(){return O},sankeyJustify:function(){return s},sankeyLeft:function(){return u},sankeyRight:function(){return i}});var D=r(33064),E=r(15140),d=r(45879),S=r(2502),M=r.n(S);function v(Me){return Me.target.depth}function u(Me){return Me.depth}function i(Me,_e){return _e-1-Me.height}function s(Me,_e){return Me.sourceLinks.length?Me.depth:_e-1}function a(Me){return Me.targetLinks.length?Me.depth:Me.sourceLinks.length?(0,D.VV)(Me.sourceLinks,v)-1:0}function o(Me){return function(){return Me}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Me){return typeof Me}:function(Me){return Me&&"function"==typeof Symbol&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me};function c(Me,_e){return g(Me.source,_e.source)||Me.index-_e.index}function f(Me,_e){return g(Me.target,_e.target)||Me.index-_e.index}function g(Me,_e){return Me.partOfCycle===_e.partOfCycle?Me.y0-_e.y0:"top"===Me.circularLinkType||"bottom"===_e.circularLinkType?-1:1}function h(Me){return Me.value}function T(Me){return(Me.y0+Me.y1)/2}function x(Me){return T(Me.source)}function m(Me){return T(Me.target)}function b(Me){return Me.index}function _(Me){return Me.nodes}function w(Me){return Me.links}function A(Me,_e){var we=Me.get(_e);if(!we)throw new Error("missing: "+_e);return we}function p(Me,_e){return _e(Me)}var I=25,k=10,L=.3;function O(){var Me,_e,we=0,ze=0,Ee=1,Se=1,me=24,fe=b,le=s,Te=_,Re=w,De=32,Ue=2,Ze=null;function xe(){var Ce={nodes:Te.apply(null,arguments),links:Re.apply(null,arguments)};(function(qe){qe.nodes.forEach(function(Je,et){Je.index=et,Je.sourceLinks=[],Je.targetLinks=[]});var He=(0,E.UI)(qe.nodes,fe);qe.links.forEach(function(Je,et){Je.index=et;var st=Je.source,pt=Je.target;"object"!==(void 0===st?"undefined":l(st))&&(st=Je.source=A(He,st)),"object"!==(void 0===pt?"undefined":l(pt))&&(pt=Je.target=A(He,pt)),st.sourceLinks.push(Je),pt.targetLinks.push(Je)})})(Ce),function(qe,He,Je){var et=0;if(null===Je){for(var st=[],pt=0;pt<qe.links.length;pt++){var ct=qe.links[pt],St=ct.source.index,Dt=ct.target.index;st[St]||(st[St]=[]),st[Dt]||(st[Dt]=[]),-1===st[St].indexOf(Dt)&&st[St].push(Dt)}var vt=M()(st);vt.sort(function(Pt,Ot){return Pt.length-Ot.length});var gt={};for(pt=0;pt<vt.length;pt++){var Et=vt[pt].slice(-2);gt[Et[0]]||(gt[Et[0]]={}),gt[Et[0]][Et[1]]=!0}qe.links.forEach(function(Pt){var Ot=Pt.target.index,Ht=Pt.source.index;Ot===Ht||gt[Ht]&&gt[Ht][Ot]?(Pt.circular=!0,Pt.circularLinkID=et,et+=1):Pt.circular=!1})}else qe.links.forEach(function(Pt){Pt.source[Je]<Pt.target[Je]?Pt.circular=!1:(Pt.circular=!0,Pt.circularLinkID=et,et+=1)})}(Ce,0,Ze),Ce.nodes.forEach(function(He){He.partOfCycle=!1,He.value=Math.max((0,D.Sm)(He.sourceLinks,h),(0,D.Sm)(He.targetLinks,h)),He.sourceLinks.forEach(function(Je){Je.circular&&(He.partOfCycle=!0,He.circularLinkType=Je.circularLinkType)}),He.targetLinks.forEach(function(Je){Je.circular&&(He.partOfCycle=!0,He.circularLinkType=Je.circularLinkType)})}),function(qe){var He,Je,et;for(He=qe.nodes,Je=[],et=0;He.length;++et,He=Je,Je=[])He.forEach(function(st){st.depth=et,st.sourceLinks.forEach(function(pt){Je.indexOf(pt.target)<0&&!pt.circular&&Je.push(pt.target)})});for(He=qe.nodes,Je=[],et=0;He.length;++et,He=Je,Je=[])He.forEach(function(st){st.height=et,st.targetLinks.forEach(function(pt){Je.indexOf(pt.source)<0&&!pt.circular&&Je.push(pt.source)})});qe.nodes.forEach(function(st){st.column=Math.floor(le.call(null,st,et))})}(Ce),P(Ce,fe),function(qe,He,Je){var et=(0,E.b1)().key(function(Dt){return Dt.column}).sortKeys(D.j2).entries(qe.nodes).map(function(Dt){return Dt.values});(function(Dt){if(_e){var vt=1/0;et.forEach(function(Ot){var Ht=Se*_e/(Ot.length+1);vt=Ht<vt?Ht:vt}),Me=vt}var gt=(0,D.VV)(et,function(Ot){return(Se-ze-(Ot.length-1)*Me)/(0,D.Sm)(Ot,h)});gt*=L,qe.links.forEach(function(Ot){Ot.width=Ot.value*gt});var Ot,Ht,zt,nt,it,Ke,Et=(Ht=0,zt=0,nt=0,it=0,Ke=(0,D.Fp)((Ot=qe).nodes,function(rt){return rt.column}),Ot.links.forEach(function(rt){rt.circular&&("top"==rt.circularLinkType?Ht+=rt.width:zt+=rt.width,0==rt.target.column&&(it+=rt.width),rt.source.column==Ke&&(nt+=rt.width))}),{top:Ht=Ht>0?Ht+I+k:Ht,bottom:zt=zt>0?zt+I+k:zt,left:it=it>0?it+I+k:it,right:nt=nt>0?nt+I+k:nt}),Pt=function(Ot,Ht){var zt=(0,D.Fp)(Ot.nodes,function(ft){return ft.column}),nt=Ee-we,it=Se-ze,Ke=nt/(nt+Ht.right+Ht.left),rt=it/(it+Ht.top+Ht.bottom);return we=we*Ke+Ht.left,Ee=0==Ht.right?Ee:Ee*Ke,ze=ze*rt+Ht.top,Se*=rt,Ot.nodes.forEach(function(ft){ft.x0=we+ft.column*((Ee-we-me)/zt),ft.x1=ft.x0+me}),rt}(qe,Et);gt*=Pt,qe.links.forEach(function(Ot){Ot.width=Ot.value*gt}),et.forEach(function(Ot){var Ht=Ot.length;Ot.forEach(function(zt,nt){zt.depth==et.length-1&&1==Ht||0==zt.depth&&1==Ht?(zt.y0=Se/2-zt.value*gt,zt.y1=zt.y0+zt.value*gt):zt.partOfCycle?0==j(zt,Dt)?(zt.y0=Se/2+nt,zt.y1=zt.y0+zt.value*gt):"top"==zt.circularLinkType?(zt.y0=ze+nt,zt.y1=zt.y0+zt.value*gt):(zt.y0=Se-zt.value*gt-nt,zt.y1=zt.y0+zt.value*gt):0==Et.top||0==Et.bottom?(zt.y0=(Se-ze)/Ht*nt,zt.y1=zt.y0+zt.value*gt):(zt.y0=(Se-ze)/2-Ht/2+nt,zt.y1=zt.y0+zt.value*gt)})})})(Je),St();for(var st=1,pt=He;pt>0;--pt)ct(st*=.99,Je),St();function ct(Dt,vt){var gt=et.length;et.forEach(function(Et){var Pt=Et.length,Ot=Et[0].depth;Et.forEach(function(Ht){var zt;if((Ht.sourceLinks.length||Ht.targetLinks.length)&&!(Ht.partOfCycle&&j(Ht,vt)>0))if(0==Ot&&1==Pt)Ht.y0=Se/2-(zt=Ht.y1-Ht.y0)/2,Ht.y1=Se/2+zt/2;else if(Ot==gt-1&&1==Pt)Ht.y0=Se/2-(zt=Ht.y1-Ht.y0)/2,Ht.y1=Se/2+zt/2;else{var nt=(0,D.J6)(Ht.sourceLinks,m),it=(0,D.J6)(Ht.targetLinks,x),Ke=((nt&&it?(nt+it)/2:nt||it)-T(Ht))*Dt;Ht.y0+=Ke,Ht.y1+=Ke}})})}function St(){et.forEach(function(Dt){var vt,gt,Et,Pt=ze,Ot=Dt.length;for(Dt.sort(g),Et=0;Et<Ot;++Et)(gt=Pt-(vt=Dt[Et]).y0)>0&&(vt.y0+=gt,vt.y1+=gt),Pt=vt.y1+Me;if((gt=Pt-Me-Se)>0)for(Pt=vt.y0-=gt,vt.y1-=gt,Et=Ot-2;Et>=0;--Et)(gt=(vt=Dt[Et]).y1+Me-Pt)>0&&(vt.y0-=gt,vt.y1-=gt),Pt=vt.y0})}}(Ce,De,fe),Oe(Ce);for(var Be=0;Be<4;Be++)ue(Ce,Se,fe),he(Ce,0,fe),oe(Ce,ze,Se,fe),ue(Ce,Se,fe),he(Ce,0,fe);return function(qe,He,Je){var et=qe.nodes,st=qe.links,pt=!1,ct=!1;if(st.forEach(function(vt){"top"==vt.circularLinkType?pt=!0:"bottom"==vt.circularLinkType&&(ct=!0)}),0==pt||0==ct){var St=(0,D.VV)(et,function(vt){return vt.y0}),Dt=(Je-He)/((0,D.Fp)(et,function(vt){return vt.y1})-St);et.forEach(function(vt){var gt=(vt.y1-vt.y0)*Dt;vt.y0=(vt.y0-St)*Dt,vt.y1=vt.y0+gt}),st.forEach(function(vt){vt.y0=(vt.y0-St)*Dt,vt.y1=(vt.y1-St)*Dt,vt.width=vt.width*Dt})}}(Ce,ze,Se),q(Ce,Ue,Se,fe),Ce}function Oe(Ce){Ce.nodes.forEach(function(Be){Be.sourceLinks.sort(f),Be.targetLinks.sort(c)}),Ce.nodes.forEach(function(Be){var qe=Be.y0,He=qe,Je=Be.y1,et=Je;Be.sourceLinks.forEach(function(st){st.circular?(st.y0=Je-st.width/2,Je-=st.width):(st.y0=qe+st.width/2,qe+=st.width)}),Be.targetLinks.forEach(function(st){st.circular?(st.y1=et-st.width/2,et-=st.width):(st.y1=He+st.width/2,He+=st.width)})})}return xe.nodeId=function(Ce){return arguments.length?(fe="function"==typeof Ce?Ce:o(Ce),xe):fe},xe.nodeAlign=function(Ce){return arguments.length?(le="function"==typeof Ce?Ce:o(Ce),xe):le},xe.nodeWidth=function(Ce){return arguments.length?(me=+Ce,xe):me},xe.nodePadding=function(Ce){return arguments.length?(Me=+Ce,xe):Me},xe.nodes=function(Ce){return arguments.length?(Te="function"==typeof Ce?Ce:o(Ce),xe):Te},xe.links=function(Ce){return arguments.length?(Re="function"==typeof Ce?Ce:o(Ce),xe):Re},xe.size=function(Ce){return arguments.length?(we=ze=0,Ee=+Ce[0],Se=+Ce[1],xe):[Ee-we,Se-ze]},xe.extent=function(Ce){return arguments.length?(we=+Ce[0][0],Ee=+Ce[1][0],ze=+Ce[0][1],Se=+Ce[1][1],xe):[[we,ze],[Ee,Se]]},xe.iterations=function(Ce){return arguments.length?(De=+Ce,xe):De},xe.circularLinkGap=function(Ce){return arguments.length?(Ue=+Ce,xe):Ue},xe.nodePaddingRatio=function(Ce){return arguments.length?(_e=+Ce,xe):_e},xe.sortNodes=function(Ce){return arguments.length?(Ze=Ce,xe):Ze},xe.update=function(Ce){return P(Ce,fe),Oe(Ce),Ce.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<Se?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),ue(Ce,Se,fe,!1),he(Ce,0,fe),q(Ce,Ue,Se,fe),Ce},xe}function P(Me,_e){var we=0,ze=0;Me.links.forEach(function(Ee){Ee.circular&&(Ee.circularLinkType=Ee.source.circularLinkType||Ee.target.circularLinkType?Ee.source.circularLinkType?Ee.source.circularLinkType:Ee.target.circularLinkType:we<ze?"top":"bottom","top"==Ee.circularLinkType?we+=1:ze+=1,Me.nodes.forEach(function(Se){p(Se,_e)!=p(Ee.source,_e)&&p(Se,_e)!=p(Ee.target,_e)||(Se.circularLinkType=Ee.circularLinkType)}))}),Me.links.forEach(function(Ee){Ee.circular&&(Ee.source.circularLinkType==Ee.target.circularLinkType&&(Ee.circularLinkType=Ee.source.circularLinkType),Ie(Ee,_e)&&(Ee.circularLinkType=Ee.source.circularLinkType))})}function F(Me){var _e=Math.abs(Me.y1-Me.y0),we=Math.abs(Me.target.x0-Me.source.x1);return Math.atan(we/_e)}function j(Me,_e){var we=0;Me.sourceLinks.forEach(function(Ee){we=Ee.circular&&!Ie(Ee,_e)?we+1:we});var ze=0;return Me.targetLinks.forEach(function(Ee){ze=Ee.circular&&!Ie(Ee,_e)?ze+1:ze}),we+ze}function X(Me){var we=0;Me.source.sourceLinks.forEach(function(Se){we=Se.circular?we+1:we});var Ee=0;return Me.target.targetLinks.forEach(function(Se){Ee=Se.circular?Ee+1:Ee}),!(we>1||Ee>1)}function N(Me,_e,we){return Me.sort(G),Me.forEach(function(ze,Ee){var Se,me,fe=0;if(Ie(ze,we)&&X(ze))ze.circularPathData.verticalBuffer=fe+ze.width/2;else{for(var le=0;le<Ee;le++)if(!((Se=Me[Ee]).source.column<(me=Me[le]).target.column||Se.target.column>me.source.column)){var Te=Me[le].circularPathData.verticalBuffer+Me[le].width/2+_e;fe=Te>fe?Te:fe}ze.circularPathData.verticalBuffer=fe+ze.width/2}}),Me}function q(Me,_e,we,ze){var Ee=(0,D.VV)(Me.links,function(Se){return Se.source.y0});Me.links.forEach(function(Se){Se.circular&&(Se.circularPathData={})}),N(Me.links.filter(function(Se){return"top"==Se.circularLinkType}),_e,ze),N(Me.links.filter(function(Se){return"bottom"==Se.circularLinkType}),_e,ze),Me.links.forEach(function(Se){if(Se.circular){if(Se.circularPathData.arcRadius=Se.width+k,Se.circularPathData.leftNodeBuffer=5,Se.circularPathData.rightNodeBuffer=5,Se.circularPathData.sourceWidth=Se.source.x1-Se.source.x0,Se.circularPathData.sourceX=Se.source.x0+Se.circularPathData.sourceWidth,Se.circularPathData.targetX=Se.target.x0,Se.circularPathData.sourceY=Se.y0,Se.circularPathData.targetY=Se.y1,Ie(Se,ze)&&X(Se))Se.circularPathData.leftSmallArcRadius=k+Se.width/2,Se.circularPathData.leftLargeArcRadius=k+Se.width/2,Se.circularPathData.rightSmallArcRadius=k+Se.width/2,Se.circularPathData.rightLargeArcRadius=k+Se.width/2,"bottom"==Se.circularLinkType?(Se.circularPathData.verticalFullExtent=Se.source.y1+I+Se.circularPathData.verticalBuffer,Se.circularPathData.verticalLeftInnerExtent=Se.circularPathData.verticalFullExtent-Se.circularPathData.leftLargeArcRadius,Se.circularPathData.verticalRightInnerExtent=Se.circularPathData.verticalFullExtent-Se.circularPathData.rightLargeArcRadius):(Se.circularPathData.verticalFullExtent=Se.source.y0-I-Se.circularPathData.verticalBuffer,Se.circularPathData.verticalLeftInnerExtent=Se.circularPathData.verticalFullExtent+Se.circularPathData.leftLargeArcRadius,Se.circularPathData.verticalRightInnerExtent=Se.circularPathData.verticalFullExtent+Se.circularPathData.rightLargeArcRadius);else{var me=Se.source.column,fe=Se.circularLinkType,le=Me.links.filter(function(De){return De.source.column==me&&De.circularLinkType==fe});le.sort("bottom"==Se.circularLinkType?Z:H);var Te=0;le.forEach(function(De,Ue){De.circularLinkID==Se.circularLinkID&&(Se.circularPathData.leftSmallArcRadius=k+Se.width/2+Te,Se.circularPathData.leftLargeArcRadius=k+Se.width/2+Ue*_e+Te),Te+=De.width}),me=Se.target.column,(le=Me.links.filter(function(De){return De.target.column==me&&De.circularLinkType==fe})).sort("bottom"==Se.circularLinkType?se:$),Te=0,le.forEach(function(De,Ue){De.circularLinkID==Se.circularLinkID&&(Se.circularPathData.rightSmallArcRadius=k+Se.width/2+Te,Se.circularPathData.rightLargeArcRadius=k+Se.width/2+Ue*_e+Te),Te+=De.width}),"bottom"==Se.circularLinkType?(Se.circularPathData.verticalFullExtent=Math.max(we,Se.source.y1,Se.target.y1)+I+Se.circularPathData.verticalBuffer,Se.circularPathData.verticalLeftInnerExtent=Se.circularPathData.verticalFullExtent-Se.circularPathData.leftLargeArcRadius,Se.circularPathData.verticalRightInnerExtent=Se.circularPathData.verticalFullExtent-Se.circularPathData.rightLargeArcRadius):(Se.circularPathData.verticalFullExtent=Ee-I-Se.circularPathData.verticalBuffer,Se.circularPathData.verticalLeftInnerExtent=Se.circularPathData.verticalFullExtent+Se.circularPathData.leftLargeArcRadius,Se.circularPathData.verticalRightInnerExtent=Se.circularPathData.verticalFullExtent+Se.circularPathData.rightLargeArcRadius)}Se.circularPathData.leftInnerExtent=Se.circularPathData.sourceX+Se.circularPathData.leftNodeBuffer,Se.circularPathData.rightInnerExtent=Se.circularPathData.targetX-Se.circularPathData.rightNodeBuffer,Se.circularPathData.leftFullExtent=Se.circularPathData.sourceX+Se.circularPathData.leftLargeArcRadius+Se.circularPathData.leftNodeBuffer,Se.circularPathData.rightFullExtent=Se.circularPathData.targetX-Se.circularPathData.rightLargeArcRadius-Se.circularPathData.rightNodeBuffer}if(Se.circular)Se.path="top"==(De=Se).circularLinkType?"M"+De.circularPathData.sourceX+" "+De.circularPathData.sourceY+" L"+De.circularPathData.leftInnerExtent+" "+De.circularPathData.sourceY+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftSmallArcRadius+" 0 0 0 "+De.circularPathData.leftFullExtent+" "+(De.circularPathData.sourceY-De.circularPathData.leftSmallArcRadius)+" L"+De.circularPathData.leftFullExtent+" "+De.circularPathData.verticalLeftInnerExtent+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftLargeArcRadius+" 0 0 0 "+De.circularPathData.leftInnerExtent+" "+De.circularPathData.verticalFullExtent+" L"+De.circularPathData.rightInnerExtent+" "+De.circularPathData.verticalFullExtent+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightLargeArcRadius+" 0 0 0 "+De.circularPathData.rightFullExtent+" "+De.circularPathData.verticalRightInnerExtent+" L"+De.circularPathData.rightFullExtent+" "+(De.circularPathData.targetY-De.circularPathData.rightSmallArcRadius)+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightSmallArcRadius+" 0 0 0 "+De.circularPathData.rightInnerExtent+" "+De.circularPathData.targetY+" L"+De.circularPathData.targetX+" "+De.circularPathData.targetY:"M"+De.circularPathData.sourceX+" "+De.circularPathData.sourceY+" L"+De.circularPathData.leftInnerExtent+" "+De.circularPathData.sourceY+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftSmallArcRadius+" 0 0 1 "+De.circularPathData.leftFullExtent+" "+(De.circularPathData.sourceY+De.circularPathData.leftSmallArcRadius)+" L"+De.circularPathData.leftFullExtent+" "+De.circularPathData.verticalLeftInnerExtent+" A"+De.circularPathData.leftLargeArcRadius+" "+De.circularPathData.leftLargeArcRadius+" 0 0 1 "+De.circularPathData.leftInnerExtent+" "+De.circularPathData.verticalFullExtent+" L"+De.circularPathData.rightInnerExtent+" "+De.circularPathData.verticalFullExtent+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightLargeArcRadius+" 0 0 1 "+De.circularPathData.rightFullExtent+" "+De.circularPathData.verticalRightInnerExtent+" L"+De.circularPathData.rightFullExtent+" "+(De.circularPathData.targetY+De.circularPathData.rightSmallArcRadius)+" A"+De.circularPathData.rightLargeArcRadius+" "+De.circularPathData.rightSmallArcRadius+" 0 0 1 "+De.circularPathData.rightInnerExtent+" "+De.circularPathData.targetY+" L"+De.circularPathData.targetX+" "+De.circularPathData.targetY;else{var Re=(0,d.h5)().source(function(De){return[De.source.x0+(De.source.x1-De.source.x0),De.y0]}).target(function(De){return[De.target.x0,De.y1]});Se.path=Re(Se)}var De})}function G(Me,_e){return ne(Me)==ne(_e)?"bottom"==Me.circularLinkType?Z(Me,_e):H(Me,_e):ne(_e)-ne(Me)}function H(Me,_e){return Me.y0-_e.y0}function Z(Me,_e){return _e.y0-Me.y0}function $(Me,_e){return Me.y1-_e.y1}function se(Me,_e){return _e.y1-Me.y1}function ne(Me){return Me.target.column-Me.source.column}function re(Me){return Me.target.x0-Me.source.x1}function Q(Me,_e){var we=F(Me),ze=re(_e)/Math.tan(we);return"up"==ke(Me)?Me.y1+ze:Me.y1-ze}function ee(Me,_e){var we=F(Me),ze=re(_e)/Math.tan(we);return"up"==ke(Me)?Me.y1-ze:Me.y1+ze}function oe(Me,_e,we,ze){Me.links.forEach(function(Ee){if(!Ee.circular&&Ee.target.column-Ee.source.column>1){var Se=Ee.source.column+1,me=Ee.target.column-1,fe=1,le=me-Se+1;for(fe=1;Se<=me;Se++,fe++)Me.nodes.forEach(function(Te){if(Te.column==Se){var Re,De=fe/(le+1),Ue=Math.pow(1-De,3),Ze=3*De*Math.pow(1-De,2),xe=3*Math.pow(De,2)*(1-De),Oe=Math.pow(De,3),Ce=Ue*Ee.y0+Ze*Ee.y0+xe*Ee.y1+Oe*Ee.y1,Be=Ce-Ee.width/2,qe=Ce+Ee.width/2;Be>Te.y0&&Be<Te.y1?(Re=Te.y1-Be+10,Te=ce(Te,Re="bottom"==Te.circularLinkType?Re:-Re,_e,we),Me.nodes.forEach(function(He){var Je,et;p(He,ze)!=p(Te,ze)&&He.column==Te.column&&((Je=Te).y0>(et=He).y0&&Je.y0<et.y1||Je.y1>et.y0&&Je.y1<et.y1||Je.y0<et.y0&&Je.y1>et.y1)&&ce(He,Re,_e,we)})):(qe>Te.y0&&qe<Te.y1||Be<Te.y0&&qe>Te.y1)&&(Te=ce(Te,Re=qe-Te.y0+10,_e,we),Me.nodes.forEach(function(He){p(He,ze)!=p(Te,ze)&&He.column==Te.column&&He.y0<Te.y1&&He.y1>Te.y1&&ce(He,Re,_e,we)}))}})}})}function ce(Me,_e,we,ze){return Me.y0+_e>=we&&Me.y1+_e<=ze&&(Me.y0=Me.y0+_e,Me.y1=Me.y1+_e,Me.targetLinks.forEach(function(Ee){Ee.y1=Ee.y1+_e}),Me.sourceLinks.forEach(function(Ee){Ee.y0=Ee.y0+_e})),Me}function ue(Me,_e,we,ze){Me.nodes.forEach(function(Ee){ze&&Ee.y+(Ee.y1-Ee.y0)>_e&&(Ee.y=Ee.y-(Ee.y+(Ee.y1-Ee.y0)-_e));var Se=Me.links.filter(function(le){return p(le.source,we)==p(Ee,we)}),me=Se.length;me>1&&Se.sort(function(le,Te){if(!le.circular&&!Te.circular){if(le.target.column==Te.target.column||!ve(le,Te))return le.y1-Te.y1;if(le.target.column>Te.target.column){var Re=ee(Te,le);return le.y1-Re}if(Te.target.column>le.target.column)return ee(le,Te)-Te.y1}return le.circular&&!Te.circular?"top"==le.circularLinkType?-1:1:Te.circular&&!le.circular?"top"==Te.circularLinkType?1:-1:le.circular&&Te.circular?le.circularLinkType===Te.circularLinkType&&"top"==le.circularLinkType?le.target.column===Te.target.column?le.target.y1-Te.target.y1:Te.target.column-le.target.column:le.circularLinkType===Te.circularLinkType&&"bottom"==le.circularLinkType?le.target.column===Te.target.column?Te.target.y1-le.target.y1:le.target.column-Te.target.column:"top"==le.circularLinkType?-1:1:void 0});var fe=Ee.y0;Se.forEach(function(le){le.y0=fe+le.width/2,fe+=le.width}),Se.forEach(function(le,Te){if("bottom"==le.circularLinkType){for(var Re=Te+1,De=0;Re<me;Re++)De+=Se[Re].width;le.y0=Ee.y1-De-le.width/2}})})}function he(Me,_e,we){Me.nodes.forEach(function(ze){var Ee=Me.links.filter(function(fe){return p(fe.target,we)==p(ze,we)}),Se=Ee.length;Se>1&&Ee.sort(function(fe,le){if(!fe.circular&&!le.circular){if(fe.source.column==le.source.column||!ve(fe,le))return fe.y0-le.y0;if(le.source.column<fe.source.column){var Te=Q(le,fe);return fe.y0-Te}if(fe.source.column<le.source.column)return Q(fe,le)-le.y0}return fe.circular&&!le.circular?"top"==fe.circularLinkType?-1:1:le.circular&&!fe.circular?"top"==le.circularLinkType?1:-1:fe.circular&&le.circular?fe.circularLinkType===le.circularLinkType&&"top"==fe.circularLinkType?fe.source.column===le.source.column?fe.source.y1-le.source.y1:fe.source.column-le.source.column:fe.circularLinkType===le.circularLinkType&&"bottom"==fe.circularLinkType?fe.source.column===le.source.column?fe.source.y1-le.source.y1:le.source.column-fe.source.column:"top"==fe.circularLinkType?-1:1:void 0});var me=ze.y0;Ee.forEach(function(fe){fe.y1=me+fe.width/2,me+=fe.width}),Ee.forEach(function(fe,le){if("bottom"==fe.circularLinkType){for(var Te=le+1,Re=0;Te<Se;Te++)Re+=Ee[Te].width;fe.y1=ze.y1-Re-fe.width/2}})})}function ve(Me,_e){return ke(Me)==ke(_e)}function ke(Me){return Me.y0-Me.y1>0?"up":"down"}function Ie(Me,_e){return p(Me.source,_e)==p(Me.target,_e)}},30838:function(ae,B,r){"use strict";r.r(B),r.d(B,{sankey:function(){return b},sankeyCenter:function(){return u},sankeyJustify:function(){return v},sankeyLeft:function(){return S},sankeyLinkHorizontal:function(){return p},sankeyRight:function(){return M}});var D=r(33064),E=r(15140);function d(I){return I.target.depth}function S(I){return I.depth}function M(I,k){return k-1-I.height}function v(I,k){return I.sourceLinks.length?I.depth:k-1}function u(I){return I.targetLinks.length?I.depth:I.sourceLinks.length?(0,D.VV)(I.sourceLinks,d)-1:0}function i(I){return function(){return I}}function s(I,k){return o(I.source,k.source)||I.index-k.index}function a(I,k){return o(I.target,k.target)||I.index-k.index}function o(I,k){return I.y0-k.y0}function l(I){return I.value}function c(I){return(I.y0+I.y1)/2}function f(I){return c(I.source)*I.value}function g(I){return c(I.target)*I.value}function h(I){return I.index}function T(I){return I.nodes}function x(I){return I.links}function m(I,k){var L=I.get(k);if(!L)throw new Error("missing: "+k);return L}function b(){var I=0,k=0,L=1,O=1,P=24,F=8,j=h,X=v,N=T,q=x,G=32;function H(){var $={nodes:N.apply(null,arguments),links:q.apply(null,arguments)};return function(se){se.nodes.forEach(function(re,Q){re.index=Q,re.sourceLinks=[],re.targetLinks=[]});var ne=(0,E.UI)(se.nodes,j);se.links.forEach(function(re,Q){re.index=Q;var ee=re.source,oe=re.target;"object"!=typeof ee&&(ee=re.source=m(ne,ee)),"object"!=typeof oe&&(oe=re.target=m(ne,oe)),ee.sourceLinks.push(re),oe.targetLinks.push(re)})}($),$.nodes.forEach(function(ne){ne.value=Math.max((0,D.Sm)(ne.sourceLinks,l),(0,D.Sm)(ne.targetLinks,l))}),function(se){var ne,re,Q;for(ne=se.nodes,re=[],Q=0;ne.length;++Q,ne=re,re=[])ne.forEach(function(oe){oe.depth=Q,oe.sourceLinks.forEach(function(ce){re.indexOf(ce.target)<0&&re.push(ce.target)})});for(ne=se.nodes,re=[],Q=0;ne.length;++Q,ne=re,re=[])ne.forEach(function(oe){oe.height=Q,oe.targetLinks.forEach(function(ce){re.indexOf(ce.source)<0&&re.push(ce.source)})});var ee=(L-I-P)/(Q-1);se.nodes.forEach(function(oe){oe.x1=(oe.x0=I+Math.max(0,Math.min(Q-1,Math.floor(X.call(null,oe,Q))))*ee)+P})}($),function(se){var ne=(0,E.b1)().key(function(ue){return ue.x0}).sortKeys(D.j2).entries(se.nodes).map(function(ue){return ue.values});(function(){var ue=(0,D.Fp)(ne,function(ke){return ke.length}),he=.6666666666666666*(O-k)/(ue-1);F>he&&(F=he);var ve=(0,D.VV)(ne,function(ke){return(O-k-(ke.length-1)*F)/(0,D.Sm)(ke,l)});ne.forEach(function(ke){ke.forEach(function(Ie,Me){Ie.y1=(Ie.y0=Me)+Ie.value*ve})}),se.links.forEach(function(ke){ke.width=ke.value*ve})})(),ce();for(var re=1,Q=G;Q>0;--Q)oe(re*=.99),ce(),ee(re),ce();function ee(ue){ne.forEach(function(he){he.forEach(function(ve){if(ve.targetLinks.length){var ke=((0,D.Sm)(ve.targetLinks,f)/(0,D.Sm)(ve.targetLinks,l)-c(ve))*ue;ve.y0+=ke,ve.y1+=ke}})})}function oe(ue){ne.slice().reverse().forEach(function(he){he.forEach(function(ve){if(ve.sourceLinks.length){var ke=((0,D.Sm)(ve.sourceLinks,g)/(0,D.Sm)(ve.sourceLinks,l)-c(ve))*ue;ve.y0+=ke,ve.y1+=ke}})})}function ce(){ne.forEach(function(ue){var he,ve,ke,Ie=k,Me=ue.length;for(ue.sort(o),ke=0;ke<Me;++ke)(ve=Ie-(he=ue[ke]).y0)>0&&(he.y0+=ve,he.y1+=ve),Ie=he.y1+F;if((ve=Ie-F-O)>0)for(Ie=he.y0-=ve,he.y1-=ve,ke=Me-2;ke>=0;--ke)(ve=(he=ue[ke]).y1+F-Ie)>0&&(he.y0-=ve,he.y1-=ve),Ie=he.y0})}}($),Z($),$}function Z($){$.nodes.forEach(function(se){se.sourceLinks.sort(a),se.targetLinks.sort(s)}),$.nodes.forEach(function(se){var ne=se.y0,re=ne;se.sourceLinks.forEach(function(Q){Q.y0=ne+Q.width/2,ne+=Q.width}),se.targetLinks.forEach(function(Q){Q.y1=re+Q.width/2,re+=Q.width})})}return H.update=function($){return Z($),$},H.nodeId=function($){return arguments.length?(j="function"==typeof $?$:i($),H):j},H.nodeAlign=function($){return arguments.length?(X="function"==typeof $?$:i($),H):X},H.nodeWidth=function($){return arguments.length?(P=+$,H):P},H.nodePadding=function($){return arguments.length?(F=+$,H):F},H.nodes=function($){return arguments.length?(N="function"==typeof $?$:i($),H):N},H.links=function($){return arguments.length?(q="function"==typeof $?$:i($),H):q},H.size=function($){return arguments.length?(I=k=0,L=+$[0],O=+$[1],H):[L-I,O-k]},H.extent=function($){return arguments.length?(I=+$[0][0],L=+$[1][0],k=+$[0][1],O=+$[1][1],H):[[I,k],[L,O]]},H.iterations=function($){return arguments.length?(G=+$,H):G},H}var _=r(45879);function w(I){return[I.source.x1,I.y0]}function A(I){return[I.target.x0,I.y1]}function p(){return(0,_.h5)().source(w).target(A)}},39898:function(ae,B,r){var D,E;(function(){var d={version:"3.8.0"},S=[].slice,M=function(U){return S.call(U)},v=self.document;function u(U){return U&&(U.ownerDocument||U.document||U).documentElement}function i(U){return U&&(U.ownerDocument&&U.ownerDocument.defaultView||U.document&&U||U.defaultView)}if(v)try{M(v.documentElement.childNodes)}catch{M=function(ie){for(var de=ie.length,be=new Array(de);de--;)be[de]=ie[de];return be}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,a=s.setAttribute,o=s.setAttributeNS,l=this.CSSStyleDeclaration.prototype,c=l.setProperty;s.setAttribute=function(ie,de){a.call(this,ie,de+"")},s.setAttributeNS=function(ie,de,be){o.call(this,ie,de,be+"")},l.setProperty=function(ie,de,be){c.call(this,ie,de+"",be)}}function f(U,ie){return U<ie?-1:U>ie?1:U>=ie?0:NaN}function g(U){return null===U?NaN:+U}function h(U){return!isNaN(U)}function T(U){return{left:function(ie,de,be,Ae){for(arguments.length<3&&(be=0),arguments.length<4&&(Ae=ie.length);be<Ae;){var Fe=be+Ae>>>1;U(ie[Fe],de)<0?be=Fe+1:Ae=Fe}return be},right:function(ie,de,be,Ae){for(arguments.length<3&&(be=0),arguments.length<4&&(Ae=ie.length);be<Ae;){var Fe=be+Ae>>>1;U(ie[Fe],de)>0?Ae=Fe:be=Fe+1}return be}}}d.ascending=f,d.descending=function(U,ie){return ie<U?-1:ie>U?1:ie>=U?0:NaN},d.min=function(U,ie){var de,be,Ae=-1,Fe=U.length;if(1===arguments.length){for(;++Ae<Fe;)if(null!=(be=U[Ae])&&be>=be){de=be;break}for(;++Ae<Fe;)null!=(be=U[Ae])&&de>be&&(de=be)}else{for(;++Ae<Fe;)if(null!=(be=ie.call(U,U[Ae],Ae))&&be>=be){de=be;break}for(;++Ae<Fe;)null!=(be=ie.call(U,U[Ae],Ae))&&de>be&&(de=be)}return de},d.max=function(U,ie){var de,be,Ae=-1,Fe=U.length;if(1===arguments.length){for(;++Ae<Fe;)if(null!=(be=U[Ae])&&be>=be){de=be;break}for(;++Ae<Fe;)null!=(be=U[Ae])&&be>de&&(de=be)}else{for(;++Ae<Fe;)if(null!=(be=ie.call(U,U[Ae],Ae))&&be>=be){de=be;break}for(;++Ae<Fe;)null!=(be=ie.call(U,U[Ae],Ae))&&be>de&&(de=be)}return de},d.extent=function(U,ie){var de,be,Ae,Fe=-1,We=U.length;if(1===arguments.length){for(;++Fe<We;)if(null!=(be=U[Fe])&&be>=be){de=Ae=be;break}for(;++Fe<We;)null!=(be=U[Fe])&&(de>be&&(de=be),Ae<be&&(Ae=be))}else{for(;++Fe<We;)if(null!=(be=ie.call(U,U[Fe],Fe))&&be>=be){de=Ae=be;break}for(;++Fe<We;)null!=(be=ie.call(U,U[Fe],Fe))&&(de>be&&(de=be),Ae<be&&(Ae=be))}return[de,Ae]},d.sum=function(U,ie){var de,be=0,Ae=U.length,Fe=-1;if(1===arguments.length)for(;++Fe<Ae;)h(de=+U[Fe])&&(be+=de);else for(;++Fe<Ae;)h(de=+ie.call(U,U[Fe],Fe))&&(be+=de);return be},d.mean=function(U,ie){var de,be=0,Ae=U.length,Fe=-1,We=Ae;if(1===arguments.length)for(;++Fe<Ae;)h(de=g(U[Fe]))?be+=de:--We;else for(;++Fe<Ae;)h(de=g(ie.call(U,U[Fe],Fe)))?be+=de:--We;if(We)return be/We},d.quantile=function(U,ie){var de=(U.length-1)*ie+1,be=Math.floor(de),Ae=+U[be-1],Fe=de-be;return Fe?Ae+Fe*(U[be]-Ae):Ae},d.median=function(U,ie){var de,be=[],Ae=U.length,Fe=-1;if(1===arguments.length)for(;++Fe<Ae;)h(de=g(U[Fe]))&&be.push(de);else for(;++Fe<Ae;)h(de=g(ie.call(U,U[Fe],Fe)))&&be.push(de);if(be.length)return d.quantile(be.sort(f),.5)},d.variance=function(U,ie){var de,be,Ae=U.length,Fe=0,We=0,$e=-1,Qe=0;if(1===arguments.length)for(;++$e<Ae;)h(de=g(U[$e]))&&(We+=(be=de-Fe)*(de-(Fe+=be/++Qe)));else for(;++$e<Ae;)h(de=g(ie.call(U,U[$e],$e)))&&(We+=(be=de-Fe)*(de-(Fe+=be/++Qe)));if(Qe>1)return We/(Qe-1)},d.deviation=function(){var U=d.variance.apply(this,arguments);return U&&Math.sqrt(U)};var x=T(f);function m(U){return U.length}d.bisectLeft=x.left,d.bisect=d.bisectRight=x.right,d.bisector=function(U){return T(1===U.length?function(ie,de){return f(U(ie),de)}:U)},d.shuffle=function(U,ie,de){(Fe=arguments.length)<3&&(de=U.length,Fe<2&&(ie=0));for(var be,Ae,Fe=de-ie;Fe;)Ae=Math.random()*Fe--|0,be=U[Fe+ie],U[Fe+ie]=U[Ae+ie],U[Ae+ie]=be;return U},d.permute=function(U,ie){for(var de=ie.length,be=new Array(de);de--;)be[de]=U[ie[de]];return be},d.pairs=function(U){for(var ie=0,de=U.length-1,be=U[0],Ae=new Array(de<0?0:de);ie<de;)Ae[ie]=[be,be=U[++ie]];return Ae},d.transpose=function(U){if(!(Ae=U.length))return[];for(var ie=-1,de=d.min(U,m),be=new Array(de);++ie<de;)for(var Ae,Fe=-1,We=be[ie]=new Array(Ae);++Fe<Ae;)We[Fe]=U[Fe][ie];return be},d.zip=function(){return d.transpose(arguments)},d.keys=function(U){var ie=[];for(var de in U)ie.push(de);return ie},d.values=function(U){var ie=[];for(var de in U)ie.push(U[de]);return ie},d.entries=function(U){var ie=[];for(var de in U)ie.push({key:de,value:U[de]});return ie},d.merge=function(U){for(var ie,de,be,Ae=U.length,Fe=-1,We=0;++Fe<Ae;)We+=U[Fe].length;for(de=new Array(We);--Ae>=0;)for(ie=(be=U[Ae]).length;--ie>=0;)de[--We]=be[ie];return de};var b=Math.abs;function _(U,ie){for(var de in ie)Object.defineProperty(U.prototype,de,{value:ie[de],enumerable:!1})}function w(){this._=Object.create(null)}d.range=function(U,ie,de){if(arguments.length<3&&(de=1,arguments.length<2&&(ie=U,U=0)),(ie-U)/de==1/0)throw new Error("infinite range");var be,Ae=[],Fe=function($e){for(var Qe=1;$e*Qe%1;)Qe*=10;return Qe}(b(de)),We=-1;if(U*=Fe,ie*=Fe,(de*=Fe)<0)for(;(be=U+de*++We)>ie;)Ae.push(be/Fe);else for(;(be=U+de*++We)<ie;)Ae.push(be/Fe);return Ae},d.map=function(U,ie){var de=new w;if(U instanceof w)U.forEach(function($e,Qe){de.set($e,Qe)});else if(Array.isArray(U)){var be,Ae=-1,Fe=U.length;if(1===arguments.length)for(;++Ae<Fe;)de.set(Ae,U[Ae]);else for(;++Ae<Fe;)de.set(ie.call(U,be=U[Ae],Ae),be)}else for(var We in U)de.set(We,U[We]);return de};var A="__proto__",p="\0";function I(U){return(U+="")===A||U[0]===p?p+U:U}function k(U){return(U+="")[0]===p?U.slice(1):U}function L(U){return I(U)in this._}function O(U){return(U=I(U))in this._&&delete this._[U]}function P(){var U=[];for(var ie in this._)U.push(k(ie));return U}function F(){var U=0;for(var ie in this._)++U;return U}function j(){for(var U in this._)return!1;return!0}function X(){this._=Object.create(null)}function N(U){return U}function q(U,ie,de){return function(){var be=de.apply(ie,arguments);return be===ie?U:be}}function G(U,ie){if(ie in U)return ie;ie=ie.charAt(0).toUpperCase()+ie.slice(1);for(var de=0,be=H.length;de<be;++de){var Ae=H[de]+ie;if(Ae in U)return Ae}}_(w,{has:L,get:function(U){return this._[I(U)]},set:function(U,ie){return this._[I(U)]=ie},remove:O,keys:P,values:function(){var U=[];for(var ie in this._)U.push(this._[ie]);return U},entries:function(){var U=[];for(var ie in this._)U.push({key:k(ie),value:this._[ie]});return U},size:F,empty:j,forEach:function(U){for(var ie in this._)U.call(this,k(ie),this._[ie])}}),d.nest=function(){var U,ie,de={},be=[],Ae=[];function Fe($e,Qe,tt){if(tt>=be.length)return ie?ie.call(de,Qe):U?Qe.sort(U):Qe;for(var lt,yt,Mt,Bt,Ut=-1,jt=Qe.length,Xt=be[tt++],Vt=new w;++Ut<jt;)(Bt=Vt.get(lt=Xt(yt=Qe[Ut])))?Bt.push(yt):Vt.set(lt,[yt]);return $e?(yt=$e(),Mt=function(pn,sn){yt.set(pn,Fe($e,sn,tt))}):(yt={},Mt=function(pn,sn){yt[pn]=Fe($e,sn,tt)}),Vt.forEach(Mt),yt}function We($e,Qe){if(Qe>=be.length)return $e;var tt=[],lt=Ae[Qe++];return $e.forEach(function(yt,Mt){tt.push({key:yt,values:We(Mt,Qe)})}),lt?tt.sort(function(yt,Mt){return lt(yt.key,Mt.key)}):tt}return de.map=function($e,Qe){return Fe(Qe,$e,0)},de.entries=function($e){return We(Fe(d.map,$e,0),0)},de.key=function($e){return be.push($e),de},de.sortKeys=function($e){return Ae[be.length-1]=$e,de},de.sortValues=function($e){return U=$e,de},de.rollup=function($e){return ie=$e,de},de},d.set=function(U){var ie=new X;if(U)for(var de=0,be=U.length;de<be;++de)ie.add(U[de]);return ie},_(X,{has:L,add:function(U){return this._[I(U+="")]=!0,U},remove:O,values:P,size:F,empty:j,forEach:function(U){for(var ie in this._)U.call(this,k(ie))}}),d.behavior={},d.rebind=function(U,ie){for(var de,be=1,Ae=arguments.length;++be<Ae;)U[de=arguments[be]]=q(U,ie,ie[de]);return U};var H=["webkit","ms","moz","Moz","o","O"];function Z(){}function $(){}function se(U){var ie=[],de=new w;function be(){for(var Ae,Fe=ie,We=-1,$e=Fe.length;++We<$e;)(Ae=Fe[We].on)&&Ae.apply(this,arguments);return U}return be.on=function(Ae,Fe){var We,$e=de.get(Ae);return arguments.length<2?$e&&$e.on:($e&&($e.on=null,ie=ie.slice(0,We=ie.indexOf($e)).concat(ie.slice(We+1)),de.remove(Ae)),Fe&&ie.push(de.set(Ae,{on:Fe})),U)},be}function ne(){d.event.preventDefault()}function re(){for(var U,ie=d.event;U=ie.sourceEvent;)ie=U;return ie}function Q(U){for(var ie=new $,de=0,be=arguments.length;++de<be;)ie[arguments[de]]=se(ie);return ie.of=function(Ae,Fe){return function(We){try{var $e=We.sourceEvent=d.event;We.target=U,d.event=We,ie[We.type].apply(Ae,Fe)}finally{d.event=$e}}},ie}d.dispatch=function(){for(var U=new $,ie=-1,de=arguments.length;++ie<de;)U[arguments[ie]]=se(U);return U},$.prototype.on=function(U,ie){var de=U.indexOf("."),be="";if(de>=0&&(be=U.slice(de+1),U=U.slice(0,de)),U)return arguments.length<2?this[U].on(be):this[U].on(be,ie);if(2===arguments.length){if(null==ie)for(U in this)this.hasOwnProperty(U)&&this[U].on(be,null);return this}},d.event=null,d.requote=function(U){return U.replace(ee,"\\$&")};var ee=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,oe={}.__proto__?function(U,ie){U.__proto__=ie}:function(U,ie){for(var de in ie)U[de]=ie[de]};function ce(U){return oe(U,ke),U}var ue=function(U,ie){return ie.querySelector(U)},he=function(U,ie){return ie.querySelectorAll(U)},ve=function(U,ie){var de=U.matches||U[G(U,"matchesSelector")];return(ve=function(be,Ae){return de.call(be,Ae)})(U,ie)};"function"==typeof Sizzle&&(ue=function(U,ie){return Sizzle(U,ie)[0]||null},he=Sizzle,ve=Sizzle.matchesSelector),d.selection=function(){return d.select(v.documentElement)};var ke=d.selection.prototype=[];function Ie(U){return"function"==typeof U?U:function(){return ue(U,this)}}function Me(U){return"function"==typeof U?U:function(){return he(U,this)}}ke.select=function(U){var ie,de,be,Ae,Fe=[];U=Ie(U);for(var We=-1,$e=this.length;++We<$e;){Fe.push(ie=[]),ie.parentNode=(be=this[We]).parentNode;for(var Qe=-1,tt=be.length;++Qe<tt;)(Ae=be[Qe])?(ie.push(de=U.call(Ae,Ae.__data__,Qe,We)),de&&"__data__"in Ae&&(de.__data__=Ae.__data__)):ie.push(null)}return ce(Fe)},ke.selectAll=function(U){var ie,de,be=[];U=Me(U);for(var Ae=-1,Fe=this.length;++Ae<Fe;)for(var We=this[Ae],$e=-1,Qe=We.length;++$e<Qe;)(de=We[$e])&&(be.push(ie=M(U.call(de,de.__data__,$e,Ae))),ie.parentNode=de);return ce(be)};var _e="http://www.w3.org/1999/xhtml",we={svg:"http://www.w3.org/2000/svg",xhtml:_e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ze(U,ie){return U=d.ns.qualify(U),null==ie?U.local?function(){this.removeAttributeNS(U.space,U.local)}:function(){this.removeAttribute(U)}:"function"==typeof ie?U.local?function(){var de=ie.apply(this,arguments);null==de?this.removeAttributeNS(U.space,U.local):this.setAttributeNS(U.space,U.local,de)}:function(){var de=ie.apply(this,arguments);null==de?this.removeAttribute(U):this.setAttribute(U,de)}:U.local?function(){this.setAttributeNS(U.space,U.local,ie)}:function(){this.setAttribute(U,ie)}}function Ee(U){return U.trim().replace(/\s+/g," ")}function Se(U){return new RegExp("(?:^|\\s+)"+d.requote(U)+"(?:\\s+|$)","g")}function me(U){return(U+"").trim().split(/^|\s+/)}function fe(U,ie){var de=(U=me(U).map(le)).length;return"function"==typeof ie?function(){for(var be=-1,Ae=ie.apply(this,arguments);++be<de;)U[be](this,Ae)}:function(){for(var be=-1;++be<de;)U[be](this,ie)}}function le(U){var ie=Se(U);return function(de,be){if(Ae=de.classList)return be?Ae.add(U):Ae.remove(U);var Ae=de.getAttribute("class")||"";be?(ie.lastIndex=0,ie.test(Ae)||de.setAttribute("class",Ee(Ae+" "+U))):de.setAttribute("class",Ee(Ae.replace(ie," ")))}}function Te(U,ie,de){return null==ie?function(){this.style.removeProperty(U)}:"function"==typeof ie?function(){var be=ie.apply(this,arguments);null==be?this.style.removeProperty(U):this.style.setProperty(U,be,de)}:function(){this.style.setProperty(U,ie,de)}}function Re(U,ie){return null==ie?function(){delete this[U]}:"function"==typeof ie?function(){var de=ie.apply(this,arguments);null==de?delete this[U]:this[U]=de}:function(){this[U]=ie}}function De(U){return"function"==typeof U?U:(U=d.ns.qualify(U)).local?function(){return this.ownerDocument.createElementNS(U.space,U.local)}:function(){var ie=this.ownerDocument,de=this.namespaceURI;return de===_e&&ie.documentElement.namespaceURI===_e?ie.createElement(U):ie.createElementNS(de,U)}}function Ue(){var U=this.parentNode;U&&U.removeChild(this)}function Ze(U){return{__data__:U}}function xe(U){return function(){return ve(this,U)}}function Oe(U){return arguments.length||(U=f),function(ie,de){return ie&&de?U(ie.__data__,de.__data__):!ie-!de}}function Ce(U,ie){for(var de=0,be=U.length;de<be;de++)for(var Ae,Fe=U[de],We=0,$e=Fe.length;We<$e;We++)(Ae=Fe[We])&&ie(Ae,We,de);return U}function Be(U){return oe(U,qe),U}d.ns={prefix:we,qualify:function(U){var ie=U.indexOf(":"),de=U;return ie>=0&&"xmlns"!==(de=U.slice(0,ie))&&(U=U.slice(ie+1)),we.hasOwnProperty(de)?{space:we[de],local:U}:U}},ke.attr=function(U,ie){if(arguments.length<2){if("string"==typeof U){var de=this.node();return(U=d.ns.qualify(U)).local?de.getAttributeNS(U.space,U.local):de.getAttribute(U)}for(ie in U)this.each(ze(ie,U[ie]));return this}return this.each(ze(U,ie))},ke.classed=function(U,ie){if(arguments.length<2){if("string"==typeof U){var de=this.node(),be=(U=me(U)).length,Ae=-1;if(ie=de.classList){for(;++Ae<be;)if(!ie.contains(U[Ae]))return!1}else for(ie=de.getAttribute("class");++Ae<be;)if(!Se(U[Ae]).test(ie))return!1;return!0}for(ie in U)this.each(fe(ie,U[ie]));return this}return this.each(fe(U,ie))},ke.style=function(U,ie,de){var be=arguments.length;if(be<3){if("string"!=typeof U){for(de in be<2&&(ie=""),U)this.each(Te(de,U[de],ie));return this}if(be<2){var Ae=this.node();return i(Ae).getComputedStyle(Ae,null).getPropertyValue(U)}de=""}return this.each(Te(U,ie,de))},ke.property=function(U,ie){if(arguments.length<2){if("string"==typeof U)return this.node()[U];for(ie in U)this.each(Re(ie,U[ie]));return this}return this.each(Re(U,ie))},ke.text=function(U){return arguments.length?this.each("function"==typeof U?function(){var ie=U.apply(this,arguments);this.textContent=ie??""}:null==U?function(){this.textContent=""}:function(){this.textContent=U}):this.node().textContent},ke.html=function(U){return arguments.length?this.each("function"==typeof U?function(){var ie=U.apply(this,arguments);this.innerHTML=ie??""}:null==U?function(){this.innerHTML=""}:function(){this.innerHTML=U}):this.node().innerHTML},ke.append=function(U){return U=De(U),this.select(function(){return this.appendChild(U.apply(this,arguments))})},ke.insert=function(U,ie){return U=De(U),ie=Ie(ie),this.select(function(){return this.insertBefore(U.apply(this,arguments),ie.apply(this,arguments)||null)})},ke.remove=function(){return this.each(Ue)},ke.data=function(U,ie){var de,be,Ae=-1,Fe=this.length;if(!arguments.length){for(U=new Array(Fe=(de=this[0]).length);++Ae<Fe;)(be=de[Ae])&&(U[Ae]=be.__data__);return U}function We(lt,yt){var Mt,Bt,Ut,jt=lt.length,Xt=yt.length,Vt=Math.min(jt,Xt),pn=new Array(Xt),sn=new Array(Xt),tn=new Array(jt);if(ie){var Sn,Dn=new w,qn=new Array(jt);for(Mt=-1;++Mt<jt;)(Bt=lt[Mt])&&(Dn.has(Sn=ie.call(Bt,Bt.__data__,Mt))?tn[Mt]=Bt:Dn.set(Sn,Bt),qn[Mt]=Sn);for(Mt=-1;++Mt<Xt;)(Bt=Dn.get(Sn=ie.call(yt,Ut=yt[Mt],Mt)))?!0!==Bt&&(pn[Mt]=Bt,Bt.__data__=Ut):sn[Mt]=Ze(Ut),Dn.set(Sn,!0);for(Mt=-1;++Mt<jt;)Mt in qn&&!0!==Dn.get(qn[Mt])&&(tn[Mt]=lt[Mt])}else{for(Mt=-1;++Mt<Vt;)Ut=yt[Mt],(Bt=lt[Mt])?(Bt.__data__=Ut,pn[Mt]=Bt):sn[Mt]=Ze(Ut);for(;Mt<Xt;++Mt)sn[Mt]=Ze(yt[Mt]);for(;Mt<jt;++Mt)tn[Mt]=lt[Mt]}sn.update=pn,sn.parentNode=pn.parentNode=tn.parentNode=lt.parentNode,$e.push(sn),Qe.push(pn),tt.push(tn)}var $e=Be([]),Qe=ce([]),tt=ce([]);if("function"==typeof U)for(;++Ae<Fe;)We(de=this[Ae],U.call(de,de.parentNode.__data__,Ae));else for(;++Ae<Fe;)We(de=this[Ae],U);return Qe.enter=function(){return $e},Qe.exit=function(){return tt},Qe},ke.datum=function(U){return arguments.length?this.property("__data__",U):this.property("__data__")},ke.filter=function(U){var ie,de,be,Ae=[];"function"!=typeof U&&(U=xe(U));for(var Fe=0,We=this.length;Fe<We;Fe++){Ae.push(ie=[]),ie.parentNode=(de=this[Fe]).parentNode;for(var $e=0,Qe=de.length;$e<Qe;$e++)(be=de[$e])&&U.call(be,be.__data__,$e,Fe)&&ie.push(be)}return ce(Ae)},ke.order=function(){for(var U=-1,ie=this.length;++U<ie;)for(var de,be=this[U],Ae=be.length-1,Fe=be[Ae];--Ae>=0;)(de=be[Ae])&&(Fe&&Fe!==de.nextSibling&&Fe.parentNode.insertBefore(de,Fe),Fe=de);return this},ke.sort=function(U){U=Oe.apply(this,arguments);for(var ie=-1,de=this.length;++ie<de;)this[ie].sort(U);return this.order()},ke.each=function(U){return Ce(this,function(ie,de,be){U.call(ie,ie.__data__,de,be)})},ke.call=function(U){var ie=M(arguments);return U.apply(ie[0]=this,ie),this},ke.empty=function(){return!this.node()},ke.node=function(){for(var U=0,ie=this.length;U<ie;U++)for(var de=this[U],be=0,Ae=de.length;be<Ae;be++){var Fe=de[be];if(Fe)return Fe}return null},ke.size=function(){var U=0;return Ce(this,function(){++U}),U};var qe=[];function He(U,ie,de){var be="__on"+U,Ae=U.indexOf("."),Fe=et;Ae>0&&(U=U.slice(0,Ae));var We=Je.get(U);function $e(){var Qe=this[be];Qe&&(this.removeEventListener(U,Qe,Qe.$),delete this[be])}return We&&(U=We,Fe=st),Ae?ie?function(){var Qe=Fe(ie,M(arguments));$e.call(this),this.addEventListener(U,this[be]=Qe,Qe.$=de),Qe._=ie}:$e:ie?Z:function(){var Qe,tt=new RegExp("^__on([^.]+)"+d.requote(U)+"$");for(var lt in this)if(Qe=lt.match(tt)){var yt=this[lt];this.removeEventListener(Qe[1],yt,yt.$),delete this[lt]}}}d.selection.enter=Be,d.selection.enter.prototype=qe,qe.append=ke.append,qe.empty=ke.empty,qe.node=ke.node,qe.call=ke.call,qe.size=ke.size,qe.select=function(U){for(var ie,de,be,Ae,Fe,We=[],$e=-1,Qe=this.length;++$e<Qe;){be=(Ae=this[$e]).update,We.push(ie=[]),ie.parentNode=Ae.parentNode;for(var tt=-1,lt=Ae.length;++tt<lt;)(Fe=Ae[tt])?(ie.push(be[tt]=de=U.call(Ae.parentNode,Fe.__data__,tt,$e)),de.__data__=Fe.__data__):ie.push(null)}return ce(We)},qe.insert=function(U,ie){var de,be,Ae;return arguments.length<2&&(de=this,ie=function(Fe,We,$e){var Qe,tt=de[$e].update,lt=tt.length;for($e!=Ae&&(Ae=$e,be=0),We>=be&&(be=We+1);!(Qe=tt[be])&&++be<lt;);return Qe}),ke.insert.call(this,U,ie)},d.select=function(U){var ie;return"string"==typeof U?(ie=[ue(U,v)]).parentNode=v.documentElement:(ie=[U]).parentNode=u(U),ce([ie])},d.selectAll=function(U){var ie;return"string"==typeof U?(ie=M(he(U,v))).parentNode=v.documentElement:(ie=M(U)).parentNode=null,ce([ie])},ke.on=function(U,ie,de){var be=arguments.length;if(be<3){if("string"!=typeof U){for(de in be<2&&(ie=!1),U)this.each(He(de,U[de],ie));return this}if(be<2)return(be=this.node()["__on"+U])&&be._;de=!1}return this.each(He(U,ie,de))};var Je=d.map({mouseenter:"mouseover",mouseleave:"mouseout"});function et(U,ie){return function(de){var be=d.event;d.event=de,ie[0]=this.__data__;try{U.apply(this,ie)}finally{d.event=be}}}function st(U,ie){var de=et(U,ie);return function(be){var Fe=be.relatedTarget;Fe&&(Fe===this||8&Fe.compareDocumentPosition(this))||de.call(this,be)}}v&&Je.forEach(function(U){"on"+U in v&&Je.remove(U)});var pt,ct=0;function St(U){var ie=".dragsuppress-"+ ++ct,de="click"+ie,be=d.select(i(U)).on("touchmove"+ie,ne).on("dragstart"+ie,ne).on("selectstart"+ie,ne);if(null==pt&&(pt=!("onselectstart"in U)&&G(U.style,"userSelect")),pt){var Ae=u(U).style,Fe=Ae[pt];Ae[pt]="none"}return function(We){if(be.on(ie,null),pt&&(Ae[pt]=Fe),We){var $e=function(){be.on(de,null)};be.on(de,function(){ne(),$e()},!0),setTimeout($e,0)}}}d.mouse=function(U){return vt(U,re())};var Dt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function vt(U,ie){ie.changedTouches&&(ie=ie.changedTouches[0]);var de=U.ownerSVGElement||U;if(de.createSVGPoint){var be=de.createSVGPoint();if(Dt<0){var Ae=i(U);if(Ae.scrollX||Ae.scrollY){var Fe=(de=d.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Dt=!(Fe.f||Fe.e),de.remove()}}return Dt?(be.x=ie.pageX,be.y=ie.pageY):(be.x=ie.clientX,be.y=ie.clientY),[(be=be.matrixTransform(U.getScreenCTM().inverse())).x,be.y]}var We=U.getBoundingClientRect();return[ie.clientX-We.left-U.clientLeft,ie.clientY-We.top-U.clientTop]}function gt(){return d.event.changedTouches[0].identifier}d.touch=function(U,ie,de){if(arguments.length<3&&(de=ie,ie=re().changedTouches),ie)for(var be,Ae=0,Fe=ie.length;Ae<Fe;++Ae)if((be=ie[Ae]).identifier===de)return vt(U,be)},d.behavior.drag=function(){var U=Q(Ae,"drag","dragstart","dragend"),ie=null,de=Fe(Z,d.mouse,i,"mousemove","mouseup"),be=Fe(gt,d.touch,N,"touchmove","touchend");function Ae(){this.on("mousedown.drag",de).on("touchstart.drag",be)}function Fe(We,$e,Qe,tt,lt){return function(){var yt,Bt=d.event.target.correspondingElement||d.event.target,Ut=this.parentNode,jt=U.of(this,arguments),Xt=0,Vt=We(),pn=".drag"+(null==Vt?"":"-"+Vt),sn=d.select(Qe(Bt)).on(tt+pn,function(){var Dn,qn,Qn=$e(Ut,Vt);Qn&&(Xt|=(Dn=Qn[0]-Sn[0])|(qn=Qn[1]-Sn[1]),Sn=Qn,jt({type:"drag",x:Qn[0]+yt[0],y:Qn[1]+yt[1],dx:Dn,dy:qn}))}).on(lt+pn,function(){$e(Ut,Vt)&&(sn.on(tt+pn,null).on(lt+pn,null),tn(Xt),jt({type:"dragend"}))}),tn=St(Bt),Sn=$e(Ut,Vt);yt=ie?[(yt=ie.apply(this,arguments)).x-Sn[0],yt.y-Sn[1]]:[0,0],jt({type:"dragstart"})}}return Ae.origin=function(We){return arguments.length?(ie=We,Ae):ie},d.rebind(Ae,U,"on")},d.touches=function(U,ie){return arguments.length<2&&(ie=re().touches),ie?M(ie).map(function(de){var be=vt(U,de);return be.identifier=de.identifier,be}):[]};var Et=1e-6,Pt=Et*Et,Ot=Math.PI,Ht=2*Ot,zt=Ht-Et,nt=Ot/2,it=Ot/180,Ke=180/Ot;function rt(U){return U>1?nt:U<-1?-nt:Math.asin(U)}function ft(U){return((U=Math.exp(U))+1/U)/2}var ht=Math.SQRT2;d.interpolateZoom=function(U,ie){var de,be,Ae=U[0],Fe=U[1],We=U[2],tt=ie[2],lt=ie[0]-Ae,yt=ie[1]-Fe,Mt=lt*lt+yt*yt;if(Mt<Pt)be=Math.log(tt/We)/ht,de=function(pn){return[Ae+pn*lt,Fe+pn*yt,We*Math.exp(ht*pn*be)]};else{var Bt=Math.sqrt(Mt),Ut=(tt*tt-We*We+4*Mt)/(2*We*2*Bt),jt=(tt*tt-We*We-4*Mt)/(2*tt*2*Bt),Xt=Math.log(Math.sqrt(Ut*Ut+1)-Ut),Vt=Math.log(Math.sqrt(jt*jt+1)-jt);be=(Vt-Xt)/ht,de=function(pn){var sn,qn,tn=pn*be,Sn=ft(Xt),Dn=We/(2*Bt)*(Sn*(sn=ht*tn+Xt,((sn=Math.exp(2*sn))-1)/(sn+1))-(qn=Xt,((qn=Math.exp(qn))-1/qn)/2));return[Ae+Dn*lt,Fe+Dn*yt,We*Sn/ft(ht*tn+Xt)]}}return de.duration=1e3*be,de},d.behavior.zoom=function(){var U,ie,de,be,Ae,Fe,We,$e,Qe,tt={x:0,y:0,k:1},lt=[960,500],yt=ut,Mt=250,Bt=0,Ut="mousedown.zoom",jt="mousemove.zoom",Xt="mouseup.zoom",Vt="touchstart.zoom",pn=Q(sn,"zoomstart","zoom","zoomend");function sn(nr){nr.on(Ut,Mr).on(Ge+".zoom",Ur).on("dblclick.zoom",li).on(Vt,Or)}function tn(nr){return[(nr[0]-tt.x)/tt.k,(nr[1]-tt.y)/tt.k]}function Sn(nr){tt.k=Math.max(yt[0],Math.min(yt[1],nr))}function Dn(nr,wr){var Pr;tt.x+=nr[0]-(wr=[(Pr=wr)[0]*tt.k+tt.x,Pr[1]*tt.k+tt.y])[0],tt.y+=nr[1]-wr[1]}function qn(nr,wr,Pr,Wr){nr.__chart__={x:tt.x,y:tt.y,k:tt.k},Sn(Math.pow(2,Wr)),Dn(ie=wr,Pr),nr=d.select(nr),Mt>0&&(nr=nr.transition().duration(Mt)),nr.call(sn.event)}function Qn(){We&&We.domain(Fe.range().map(function(nr){return(nr-tt.x)/tt.k}).map(Fe.invert)),Qe&&Qe.domain($e.range().map(function(nr){return(nr-tt.y)/tt.k}).map($e.invert))}function sr(nr){Bt++||nr({type:"zoomstart"})}function pr(nr){Qn(),nr({type:"zoom",scale:tt.k,translate:[tt.x,tt.y]})}function Cr(nr){--Bt||(nr({type:"zoomend"}),ie=null)}function Mr(){var nr=this,wr=pn.of(nr,arguments),Pr=0,Wr=d.select(i(nr)).on(jt,function(){Pr=1,Dn(d.mouse(nr),ti),pr(wr)}).on(Xt,function(){Wr.on(jt,null).on(Xt,null),di(Pr),Cr(wr)}),ti=tn(d.mouse(nr)),di=St(nr);xa.call(nr),sr(wr)}function Or(){var nr,wr=this,Pr=pn.of(wr,arguments),Wr={},ti=0,di=".zoom-"+d.event.changedTouches[0].identifier,Oi="touchmove"+di,to="touchend"+di,go=[],Do=d.select(wr),Zi=St(wr);function Bo(){var Ri=d.touches(wr);return nr=tt.k,Ri.forEach(function(Di){Di.identifier in Wr&&(Wr[Di.identifier]=tn(Di))}),Ri}function ba(){var Ri=d.event.target;d.select(Ri).on(Oi,ia).on(to,Zo),go.push(Ri);for(var Di=d.event.changedTouches,no=0,fo=Di.length;no<fo;++no)Wr[Di[no].identifier]=null;var Eo=Bo(),wa=Date.now();if(1===Eo.length){if(wa-Ae<500){var Ro=Eo[0];qn(wr,Ro,Wr[Ro.identifier],Math.floor(Math.log(tt.k)/Math.LN2)+1),ne()}Ae=wa}else if(Eo.length>1){var Fi=Eo[1],Cl=(Ro=Eo[0])[0]-Fi[0],Ca=Ro[1]-Fi[1];ti=Cl*Cl+Ca*Ca}}function ia(){var Ri,Di,no,fo,Eo=d.touches(wr);xa.call(wr);for(var wa=0,Ro=Eo.length;wa<Ro;++wa,fo=null)if(fo=Wr[(no=Eo[wa]).identifier]){if(Di)break;Ri=no,Di=fo}if(fo){var Fi=(Fi=no[0]-Ri[0])*Fi+(Fi=no[1]-Ri[1])*Fi,Cl=ti&&Math.sqrt(Fi/ti);Ri=[(Ri[0]+no[0])/2,(Ri[1]+no[1])/2],Di=[(Di[0]+fo[0])/2,(Di[1]+fo[1])/2],Sn(Cl*nr)}Ae=null,Dn(Ri,Di),pr(Pr)}function Zo(){if(d.event.touches.length){for(var Ri=d.event.changedTouches,Di=0,no=Ri.length;Di<no;++Di)delete Wr[Ri[Di].identifier];for(var fo in Wr)return void Bo()}d.selectAll(go).on(di,null),Do.on(Ut,Mr).on(Vt,Or),Zi(),Cr(Pr)}ba(),sr(Pr),Do.on(Ut,null).on(Vt,ba)}function Ur(){var nr=pn.of(this,arguments);be?clearTimeout(be):(xa.call(this),U=tn(ie=de||d.mouse(this)),sr(nr)),be=setTimeout(function(){be=null,Cr(nr)},50),ne(),Sn(Math.pow(2,.002*Ve())*tt.k),Dn(ie,U),pr(nr)}function li(){var nr=d.mouse(this),wr=Math.log(tt.k)/Math.LN2;qn(this,nr,tn(nr),d.event.shiftKey?Math.ceil(wr)-1:Math.floor(wr)+1)}return Ge||(Ge="onwheel"in v?(Ve=function(){return-d.event.deltaY*(d.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Ve=function(){return d.event.wheelDelta},"mousewheel"):(Ve=function(){return-d.event.detail},"MozMousePixelScroll")),sn.event=function(nr){nr.each(function(){var wr=pn.of(this,arguments),Pr=tt;ql?d.select(this).transition().each("start.zoom",function(){tt=this.__chart__||{x:0,y:0,k:1},sr(wr)}).tween("zoom:zoom",function(){var Wr=lt[0],di=ie?ie[0]:Wr/2,Oi=ie?ie[1]:lt[1]/2,to=d.interpolateZoom([(di-tt.x)/tt.k,(Oi-tt.y)/tt.k,Wr/tt.k],[(di-Pr.x)/Pr.k,(Oi-Pr.y)/Pr.k,Wr/Pr.k]);return function(go){var Do=to(go),Zi=Wr/Do[2];this.__chart__=tt={x:di-Do[0]*Zi,y:Oi-Do[1]*Zi,k:Zi},pr(wr)}}).each("interrupt.zoom",function(){Cr(wr)}).each("end.zoom",function(){Cr(wr)}):(this.__chart__=tt,sr(wr),pr(wr),Cr(wr))})},sn.translate=function(nr){return arguments.length?(tt={x:+nr[0],y:+nr[1],k:tt.k},Qn(),sn):[tt.x,tt.y]},sn.scale=function(nr){return arguments.length?(tt={x:tt.x,y:tt.y,k:null},Sn(+nr),Qn(),sn):tt.k},sn.scaleExtent=function(nr){return arguments.length?(yt=null==nr?ut:[+nr[0],+nr[1]],sn):yt},sn.center=function(nr){return arguments.length?(de=nr&&[+nr[0],+nr[1]],sn):de},sn.size=function(nr){return arguments.length?(lt=nr&&[+nr[0],+nr[1]],sn):lt},sn.duration=function(nr){return arguments.length?(Mt=+nr,sn):Mt},sn.x=function(nr){return arguments.length?(We=nr,Fe=nr.copy(),tt={x:0,y:0,k:1},sn):We},sn.y=function(nr){return arguments.length?(Qe=nr,$e=nr.copy(),tt={x:0,y:0,k:1},sn):Qe},d.rebind(sn,pn,"on")};var Ve,Ge,ut=[0,1/0];function dt(){}function kt(U,ie,de){return this instanceof kt?(this.h=+U,this.s=+ie,void(this.l=+de)):arguments.length<2?U instanceof kt?new kt(U.h,U.s,U.l):yn(""+U,kn,kt):new kt(U,ie,de)}d.color=dt,dt.prototype.toString=function(){return this.rgb()+""},d.hsl=kt;var bt=kt.prototype=new dt;function At(U,ie,de){var be,Ae;function Fe(We){return Math.round(255*(($e=We)>360?$e-=360:$e<0&&($e+=360),$e<60?be+(Ae-be)*$e/60:$e<180?Ae:$e<240?be+(Ae-be)*(240-$e)/60:be));var $e}return U=isNaN(U)?0:(U%=360)<0?U+360:U,ie=isNaN(ie)||ie<0?0:ie>1?1:ie,be=2*(de=de<0?0:de>1?1:de)-(Ae=de<=.5?de*(1+ie):de+ie-de*ie),new Pn(Fe(U+120),Fe(U),Fe(U-120))}function xt(U,ie,de){return this instanceof xt?(this.h=+U,this.c=+ie,void(this.l=+de)):arguments.length<2?U instanceof xt?new xt(U.h,U.c,U.l):(be=U instanceof Tt?U.l:(U=Ln((U=d.rgb(U)).r,U.g,U.b)).l,Ae=U.a,Fe=U.b,be>0?new xt(Math.atan2(Fe,Ae)*Ke,Math.sqrt(Ae*Ae+Fe*Fe),be):new xt(NaN,NaN,be)):new xt(U,ie,de);var be,Ae,Fe}bt.brighter=function(U){return U=Math.pow(.7,arguments.length?U:1),new kt(this.h,this.s,this.l/U)},bt.darker=function(U){return U=Math.pow(.7,arguments.length?U:1),new kt(this.h,this.s,U*this.l)},bt.rgb=function(){return At(this.h,this.s,this.l)},d.hcl=xt;var Rt=xt.prototype=new dt;function _t(U,ie,de){return isNaN(U)&&(U=0),isNaN(ie)&&(ie=0),new Tt(de,Math.cos(U*=it)*ie,Math.sin(U)*ie)}function Tt(U,ie,de){return this instanceof Tt?(this.l=+U,this.a=+ie,void(this.b=+de)):arguments.length<2?U instanceof Tt?new Tt(U.l,U.a,U.b):U instanceof xt?_t(U.h,U.c,U.l):Ln((U=Pn(U)).r,U.g,U.b):new Tt(U,ie,de)}Rt.brighter=function(U){return new xt(this.h,this.c,Math.min(100,this.l+It*(arguments.length?U:1)))},Rt.darker=function(U){return new xt(this.h,this.c,Math.max(0,this.l-It*(arguments.length?U:1)))},Rt.rgb=function(){return _t(this.h,this.c,this.l).rgb()},d.lab=Tt;var It=18,Wt=.95047,Zt=1,$t=1.08883,dn=Tt.prototype=new dt;function nn(U,ie,de){var be=(U+16)/116,Ae=be+ie/500,Fe=be-de/200;return new Pn(En(3.2404542*(Ae=cn(Ae)*Wt)-1.5371385*(be=cn(be)*Zt)-.4985314*(Fe=cn(Fe)*$t)),En(-.969266*Ae+1.8760108*be+.041556*Fe),En(.0556434*Ae-.2040259*be+1.0572252*Fe))}function cn(U){return U>.206893034?U*U*U:(U-.13793103448275862)/7.787037}function rn(U){return U>.008856?Math.pow(U,.3333333333333333):7.787037*U+.13793103448275862}function En(U){return Math.round(255*(U<=.00304?12.92*U:1.055*Math.pow(U,.4166666666666667)-.055))}function Pn(U,ie,de){return this instanceof Pn?(this.r=~~U,this.g=~~ie,void(this.b=~~de)):arguments.length<2?U instanceof Pn?new Pn(U.r,U.g,U.b):yn(""+U,Pn,At):new Pn(U,ie,de)}function Mn(U){return new Pn(U>>16,U>>8&255,255&U)}function en(U){return Mn(U)+""}dn.brighter=function(U){return new Tt(Math.min(100,this.l+It*(arguments.length?U:1)),this.a,this.b)},dn.darker=function(U){return new Tt(Math.max(0,this.l-It*(arguments.length?U:1)),this.a,this.b)},dn.rgb=function(){return nn(this.l,this.a,this.b)},d.rgb=Pn;var gn=Pn.prototype=new dt;function an(U){return U<16?"0"+Math.max(0,U).toString(16):Math.min(255,U).toString(16)}function yn(U,ie,de){var be,Ae,Fe,We=0,$e=0,Qe=0;if(be=/([a-z]+)\((.*)\)/.exec(U=U.toLowerCase()))switch(Ae=be[2].split(","),be[1]){case"hsl":return de(parseFloat(Ae[0]),parseFloat(Ae[1])/100,parseFloat(Ae[2])/100);case"rgb":return ie(Wn(Ae[0]),Wn(Ae[1]),Wn(Ae[2]))}return(Fe=Cn.get(U))?ie(Fe.r,Fe.g,Fe.b):(null==U||"#"!==U.charAt(0)||isNaN(Fe=parseInt(U.slice(1),16))||(4===U.length?(We=(3840&Fe)>>4,We|=We>>4,$e=240&Fe,$e|=$e>>4,Qe=15&Fe,Qe|=Qe<<4):7===U.length&&(We=(16711680&Fe)>>16,$e=(65280&Fe)>>8,Qe=255&Fe)),ie(We,$e,Qe))}function kn(U,ie,de){var be,Ae,Fe=Math.min(U/=255,ie/=255,de/=255),We=Math.max(U,ie,de),$e=We-Fe,Qe=(We+Fe)/2;return $e?(Ae=Qe<.5?$e/(We+Fe):$e/(2-We-Fe),be=U==We?(ie-de)/$e+(ie<de?6:0):ie==We?(de-U)/$e+2:(U-ie)/$e+4,be*=60):(be=NaN,Ae=Qe>0&&Qe<1?0:be),new kt(be,Ae,Qe)}function Ln(U,ie,de){var be=rn((.4124564*(U=Rn(U))+.3575761*(ie=Rn(ie))+.1804375*(de=Rn(de)))/Wt),Ae=rn((.2126729*U+.7151522*ie+.072175*de)/Zt);return Tt(116*Ae-16,500*(be-Ae),200*(Ae-rn((.0193339*U+.119192*ie+.9503041*de)/$t)))}function Rn(U){return(U/=255)<=.04045?U/12.92:Math.pow((U+.055)/1.055,2.4)}function Wn(U){var ie=parseFloat(U);return"%"===U.charAt(U.length-1)?Math.round(2.55*ie):ie}gn.brighter=function(U){U=Math.pow(.7,arguments.length?U:1);var ie=this.r,de=this.g,be=this.b;return ie||de||be?(ie&&ie<30&&(ie=30),de&&de<30&&(de=30),be&&be<30&&(be=30),new Pn(Math.min(255,ie/U),Math.min(255,de/U),Math.min(255,be/U))):new Pn(30,30,30)},gn.darker=function(U){return new Pn((U=Math.pow(.7,arguments.length?U:1))*this.r,U*this.g,U*this.b)},gn.hsl=function(){return kn(this.r,this.g,this.b)},gn.toString=function(){return"#"+an(this.r)+an(this.g)+an(this.b)};var Cn=d.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Zn(U){return"function"==typeof U?U:function(){return U}}function mr(U){return function(ie,de,be){return 2===arguments.length&&"function"==typeof de&&(be=de,de=null),lr(ie,de,U,be)}}function lr(U,ie,de,be){var lt,Ae={},Fe=d.dispatch("beforesend","progress","load","error"),We={},$e=new XMLHttpRequest,Qe=null;function tt(){var lt,Mt,Bt,yt=$e.status;if(!yt&&((Bt=(Mt=$e).responseType)&&"text"!==Bt?Mt.response:Mt.responseText)||yt>=200&&yt<300||304===yt){try{lt=de.call(Ae,$e)}catch(Mt){return void Fe.error.call(Ae,Mt)}Fe.load.call(Ae,lt)}else Fe.error.call(Ae,$e)}return self.XDomainRequest&&!("withCredentials"in $e)&&/^(http(s)?:)?\/\//.test(U)&&($e=new XDomainRequest),"onload"in $e?$e.onload=$e.onerror=tt:$e.onreadystatechange=function(){$e.readyState>3&&tt()},$e.onprogress=function(lt){var yt=d.event;d.event=lt;try{Fe.progress.call(Ae,$e)}finally{d.event=yt}},Ae.header=function(lt,yt){return lt=(lt+"").toLowerCase(),arguments.length<2?We[lt]:(null==yt?delete We[lt]:We[lt]=yt+"",Ae)},Ae.mimeType=function(lt){return arguments.length?(ie=null==lt?null:lt+"",Ae):ie},Ae.responseType=function(lt){return arguments.length?(Qe=lt,Ae):Qe},Ae.response=function(lt){return de=lt,Ae},["get","post"].forEach(function(lt){Ae[lt]=function(){return Ae.send.apply(Ae,[lt].concat(M(arguments)))}}),Ae.send=function(lt,yt,Mt){if(2===arguments.length&&"function"==typeof yt&&(Mt=yt,yt=null),$e.open(lt,U,!0),null==ie||"accept"in We||(We.accept=ie+",*/*"),$e.setRequestHeader)for(var Bt in We)$e.setRequestHeader(Bt,We[Bt]);return null!=ie&&$e.overrideMimeType&&$e.overrideMimeType(ie),null!=Qe&&($e.responseType=Qe),null!=Mt&&Ae.on("error",Mt).on("load",function(Ut){Mt(null,Ut)}),Fe.beforesend.call(Ae,$e),$e.send(yt??null),Ae},Ae.abort=function(){return $e.abort(),Ae},d.rebind(Ae,Fe,"on"),null==be?Ae:Ae.get(1===(lt=be).length?function(yt,Mt){lt(null==yt?Mt:null)}:lt)}Cn.forEach(function(U,ie){Cn.set(U,Mn(ie))}),d.functor=Zn,d.xhr=mr(N),d.dsv=function(U,ie){var de=new RegExp('["'+U+"\n]"),be=U.charCodeAt(0);function Ae(tt,lt,yt){arguments.length<3&&(yt=lt,lt=null);var Mt=lr(tt,ie,null==lt?Fe:We(lt),yt);return Mt.row=function(Bt){return arguments.length?Mt.response(null==(lt=Bt)?Fe:We(Bt)):lt},Mt}function Fe(tt){return Ae.parse(tt.responseText)}function We(tt){return function(lt){return Ae.parse(lt.responseText,tt)}}function $e(tt){return tt.map(Qe).join(U)}function Qe(tt){return de.test(tt)?'"'+tt.replace(/\"/g,'""')+'"':tt}return Ae.parse=function(tt,lt){var yt;return Ae.parseRows(tt,function(Mt,Bt){if(yt)return yt(Mt,Bt-1);var Ut=function(jt){for(var Xt={},Vt=Mt.length,pn=0;pn<Vt;++pn)Xt[Mt[pn]]=jt[pn];return Xt};yt=lt?function(jt,Xt){return lt(Ut(jt),Xt)}:Ut})},Ae.parseRows=function(tt,lt){var yt,Mt,Bt={},Ut={},jt=[],Xt=tt.length,Vt=0,pn=0;function sn(){if(Vt>=Xt)return Ut;if(Mt)return Mt=!1,Bt;var Sn=Vt;if(34===tt.charCodeAt(Sn)){for(var Dn=Sn;Dn++<Xt;)if(34===tt.charCodeAt(Dn)){if(34!==tt.charCodeAt(Dn+1))break;++Dn}return Vt=Dn+2,13===(qn=tt.charCodeAt(Dn+1))?(Mt=!0,10===tt.charCodeAt(Dn+2)&&++Vt):10===qn&&(Mt=!0),tt.slice(Sn+1,Dn).replace(/""/g,'"')}for(;Vt<Xt;){var qn,Qn=1;if(10===(qn=tt.charCodeAt(Vt++)))Mt=!0;else if(13===qn)Mt=!0,10===tt.charCodeAt(Vt)&&(++Vt,++Qn);else if(qn!==be)continue;return tt.slice(Sn,Vt-Qn)}return tt.slice(Sn)}for(;(yt=sn())!==Ut;){for(var tn=[];yt!==Bt&&yt!==Ut;)tn.push(yt),yt=sn();lt&&null==(tn=lt(tn,pn++))||jt.push(tn)}return jt},Ae.format=function(tt){if(Array.isArray(tt[0]))return Ae.formatRows(tt);var lt=new X,yt=[];return tt.forEach(function(Mt){for(var Bt in Mt)lt.has(Bt)||yt.push(lt.add(Bt))}),[yt.map(Qe).join(U)].concat(tt.map(function(Mt){return yt.map(function(Bt){return Qe(Mt[Bt])}).join(U)})).join("\n")},Ae.formatRows=function(tt){return tt.map($e).join("\n")},Ae},d.csv=d.dsv(",","text/csv"),d.tsv=d.dsv("\t","text/tab-separated-values");var er,xr,dr,jr,Kt=this[G(this,"requestAnimationFrame")]||function(U){setTimeout(U,17)};function qt(U,ie,de){var be=arguments.length;be<2&&(ie=0),be<3&&(de=Date.now());var Ae={c:U,t:de+ie,n:null};return xr?xr.n=Ae:er=Ae,xr=Ae,dr||(jr=clearTimeout(jr),dr=1,Kt(Tn)),Ae}function Tn(){var U=xn(),ie=In()-U;ie>24?(isFinite(ie)&&(clearTimeout(jr),jr=setTimeout(Tn,ie)),dr=0):(dr=1,Kt(Tn))}function xn(){for(var U=Date.now(),ie=er;ie;)U>=ie.t&&ie.c(U-ie.t)&&(ie.c=null),ie=ie.n;return U}function In(){for(var U,ie=er,de=1/0;ie;)ie.c?(ie.t<de&&(de=ie.t),ie=(U=ie).n):ie=U?U.n=ie.n:er=ie.n;return xr=U,de}function cr(U){return U[0]}function Kn(U){return U[1]}function Jn(U){for(var ie,de,be,Ae=U.length,Fe=[0,1],We=2,$e=2;$e<Ae;$e++){for(;We>1&&((de=U[Fe[We-1]])[0]-(ie=U[Fe[We-2]])[0])*((be=U[$e])[1]-ie[1])-(de[1]-ie[1])*(be[0]-ie[0])<=0;)--We;Fe[We++]=$e}return Fe.slice(0,We)}function vr(U,ie){return U[0]-ie[0]||U[1]-ie[1]}d.timer=function(){qt.apply(this,arguments)},d.timer.flush=function(){xn(),In()},d.round=function(U,ie){return ie?Math.round(U*(ie=Math.pow(10,ie)))/ie:Math.round(U)},d.geom={},d.geom.hull=function(U){var ie=cr,de=Kn;if(arguments.length)return be(U);function be(Ae){if(Ae.length<3)return[];var Fe,We=Zn(ie),$e=Zn(de),Qe=Ae.length,tt=[],lt=[];for(Fe=0;Fe<Qe;Fe++)tt.push([+We.call(this,Ae[Fe],Fe),+$e.call(this,Ae[Fe],Fe),Fe]);for(tt.sort(vr),Fe=0;Fe<Qe;Fe++)lt.push([tt[Fe][0],-tt[Fe][1]]);var yt=Jn(tt),Mt=Jn(lt),Bt=Mt[0]===yt[0],Ut=Mt[Mt.length-1]===yt[yt.length-1],jt=[];for(Fe=yt.length-1;Fe>=0;--Fe)jt.push(Ae[tt[yt[Fe]][2]]);for(Fe=+Bt;Fe<Mt.length-Ut;++Fe)jt.push(Ae[tt[Mt[Fe]][2]]);return jt}return be.x=function(Ae){return arguments.length?(ie=Ae,be):ie},be.y=function(Ae){return arguments.length?(de=Ae,be):de},be},d.geom.polygon=function(U){return oe(U,Qt),U};var Qt=d.geom.polygon.prototype=[];function zn(U,ie,de){return(de[0]-ie[0])*(U[1]-ie[1])<(de[1]-ie[1])*(U[0]-ie[0])}function Ft(U,ie,de,be){var Ae=U[0],Fe=de[0],We=ie[0]-Ae,$e=be[0]-Fe,Qe=U[1],tt=de[1],lt=ie[1]-Qe,yt=be[1]-tt,Mt=($e*(Qe-tt)-yt*(Ae-Fe))/(yt*We-$e*lt);return[Ae+Mt*We,Qe+Mt*lt]}function on(U){var ie=U[0],de=U[U.length-1];return!(ie[0]-de[0]||ie[1]-de[1])}Qt.area=function(){for(var U,ie=-1,de=this.length,be=this[de-1],Ae=0;++ie<de;)Ae+=(U=be)[1]*(be=this[ie])[0]-U[0]*be[1];return.5*Ae},Qt.centroid=function(U){var ie,de,be=-1,Ae=this.length,Fe=0,We=0,$e=this[Ae-1];for(arguments.length||(U=-1/(6*this.area()));++be<Ae;)Fe+=((ie=$e)[0]+($e=this[be])[0])*(de=ie[0]*$e[1]-$e[0]*ie[1]),We+=(ie[1]+$e[1])*de;return[Fe*U,We*U]},Qt.clip=function(U){for(var ie,de,be,Ae,Fe,We,$e=on(U),Qe=-1,tt=this.length-on(this),lt=this[tt-1];++Qe<tt;){for(ie=U.slice(),U.length=0,Ae=this[Qe],Fe=ie[(be=ie.length-$e)-1],de=-1;++de<be;)zn(We=ie[de],lt,Ae)?(zn(Fe,lt,Ae)||U.push(Ft(Fe,We,lt,Ae)),U.push(We)):zn(Fe,lt,Ae)&&U.push(Ft(Fe,We,lt,Ae)),Fe=We;$e&&U.push(U[0]),lt=Ae}return U};var un,On,Fn,Gn,bn,ln=[],fn=[];function _n(){ko(this),this.edge=this.site=this.circle=null}function wn(U){var ie=ln.pop()||new _n;return ie.site=U,ie}function Un(U){Ir(U),Fn.remove(U),ln.push(U),ko(U)}function Hn(U){var ie=U.circle,de=ie.x,be=ie.cy,Ae={x:de,y:be},Fe=U.P,We=U.N,$e=[U];Un(U);for(var Qe=Fe;Qe.circle&&b(de-Qe.circle.x)<Et&&b(be-Qe.circle.cy)<Et;)Fe=Qe.P,$e.unshift(Qe),Un(Qe),Qe=Fe;$e.unshift(Qe),Ir(Qe);for(var tt=We;tt.circle&&b(de-tt.circle.x)<Et&&b(be-tt.circle.cy)<Et;)We=tt.N,$e.push(tt),Un(tt),tt=We;$e.push(tt),Ir(tt);var lt,yt=$e.length;for(lt=1;lt<yt;++lt)Rr((tt=$e[lt]).edge,(Qe=$e[lt-1]).site,tt.site,Ae);(tt=$e[yt-1]).edge=fr((Qe=$e[0]).site,tt.site,null,Ae),_r(Qe),_r(tt)}function ar(U){for(var ie,de,be,Ae,Fe=U.x,We=U.y,$e=Fn._;$e;)if((be=tr($e,We)-Fe)>Et)$e=$e.L;else{if(!((Ae=Fe-gr($e,We))>Et)){be>-Et?(ie=$e.P,de=$e):Ae>-Et?(ie=$e,de=$e.N):ie=de=$e;break}if(!$e.R){ie=$e;break}$e=$e.R}var Qe=wn(U);if(Fn.insert(ie,Qe),ie||de){if(ie===de)return Ir(ie),de=wn(ie.site),Fn.insert(Qe,de),Qe.edge=de.edge=fr(ie.site,Qe.site),_r(ie),void _r(de);if(de){Ir(ie),Ir(de);var tt=ie.site,lt=tt.x,yt=tt.y,Mt=U.x-lt,Bt=U.y-yt,Ut=de.site,jt=Ut.x-lt,Xt=Ut.y-yt,Vt=2*(Mt*Xt-Bt*jt),pn=Mt*Mt+Bt*Bt,sn=jt*jt+Xt*Xt,tn={x:(Xt*pn-Bt*sn)/Vt+lt,y:(Mt*sn-jt*pn)/Vt+yt};Rr(de.edge,tt,Ut,tn),Qe.edge=fr(tt,U,null,tn),de.edge=fr(U,Ut,null,tn),_r(ie),_r(de)}else Qe.edge=fr(ie.site,Qe.site)}}function tr(U,ie){var de=U.site,be=de.x,Ae=de.y,Fe=Ae-ie;if(!Fe)return be;var We=U.P;if(!We)return-1/0;var $e=(de=We.site).x,Qe=de.y,tt=Qe-ie;if(!tt)return $e;var lt=$e-be,yt=1/Fe-1/tt,Mt=lt/tt;return yt?(-Mt+Math.sqrt(Mt*Mt-2*yt*(lt*lt/(-2*tt)-Qe+tt/2+Ae-Fe/2)))/yt+be:(be+$e)/2}function gr(U,ie){var de=U.N;if(de)return tr(de,ie);var be=U.site;return be.y===ie?be.x:1/0}function Vn(U){this.site=U,this.edges=[]}function Tr(U,ie){return ie.angle-U.angle}function rr(){ko(this),this.x=this.y=this.arc=this.site=this.cy=null}function _r(U){var ie=U.P,de=U.N;if(ie&&de){var be=ie.site,Ae=U.site,Fe=de.site;if(be!==Fe){var We=Ae.x,$e=Ae.y,Qe=be.x-We,tt=be.y-$e,lt=Fe.x-We,yt=2*(Qe*(Xt=Fe.y-$e)-tt*lt);if(!(yt>=-Pt)){var Mt=Qe*Qe+tt*tt,Bt=lt*lt+Xt*Xt,Ut=(Xt*Mt-tt*Bt)/yt,jt=(Qe*Bt-lt*Mt)/yt,Xt=jt+$e,Vt=fn.pop()||new rr;Vt.arc=U,Vt.site=Ae,Vt.x=Ut+We,Vt.y=Xt+Math.sqrt(Ut*Ut+jt*jt),Vt.cy=Xt,U.circle=Vt;for(var pn=null,sn=bn._;sn;)if(Vt.y<sn.y||Vt.y===sn.y&&Vt.x<=sn.x){if(!sn.L){pn=sn.P;break}sn=sn.L}else{if(!sn.R){pn=sn;break}sn=sn.R}bn.insert(pn,Vt),pn||(Gn=Vt)}}}}function Ir(U){var ie=U.circle;ie&&(ie.P||(Gn=ie.N),bn.remove(ie),fn.push(ie),ko(ie),U.circle=null)}function Lr(U,ie){var de=U.b;if(de)return!0;var be,Ae,Fe=U.a,We=ie[0][0],$e=ie[1][0],Qe=ie[0][1],tt=ie[1][1],lt=U.l,yt=U.r,Mt=lt.x,Bt=lt.y,Ut=yt.x,jt=yt.y,Xt=(Mt+Ut)/2;if(jt===Bt){if(Xt<We||Xt>=$e)return;if(Mt>Ut){if(Fe){if(Fe.y>=tt)return}else Fe={x:Xt,y:Qe};de={x:Xt,y:tt}}else{if(Fe){if(Fe.y<Qe)return}else Fe={x:Xt,y:tt};de={x:Xt,y:Qe}}}else if(Ae=(Bt+jt)/2-(be=(Mt-Ut)/(jt-Bt))*Xt,be<-1||be>1)if(Mt>Ut){if(Fe){if(Fe.y>=tt)return}else Fe={x:(Qe-Ae)/be,y:Qe};de={x:(tt-Ae)/be,y:tt}}else{if(Fe){if(Fe.y<Qe)return}else Fe={x:(tt-Ae)/be,y:tt};de={x:(Qe-Ae)/be,y:Qe}}else if(Bt<jt){if(Fe){if(Fe.x>=$e)return}else Fe={x:We,y:be*We+Ae};de={x:$e,y:be*$e+Ae}}else{if(Fe){if(Fe.x<We)return}else Fe={x:$e,y:be*$e+Ae};de={x:We,y:be*We+Ae}}return U.a=Fe,U.b=de,!0}function Jr(U,ie){this.l=U,this.r=ie,this.a=this.b=null}function fr(U,ie,de,be){var Ae=new Jr(U,ie);return un.push(Ae),de&&Rr(Ae,U,ie,de),be&&Rr(Ae,ie,U,be),On[U.i].edges.push(new oi(Ae,U,ie)),On[ie.i].edges.push(new oi(Ae,ie,U)),Ae}function Rr(U,ie,de,be){U.a||U.b?U.l===de?U.b=be:U.a=be:(U.a=be,U.l=ie,U.r=de)}function oi(U,ie,de){var be=U.a,Ae=U.b;this.edge=U,this.site=ie,this.angle=de?Math.atan2(de.y-ie.y,de.x-ie.x):U.l===ie?Math.atan2(Ae.x-be.x,be.y-Ae.y):Math.atan2(be.x-Ae.x,Ae.y-be.y)}function ji(){this._=null}function ko(U){U.U=U.C=U.L=U.R=U.P=U.N=null}function Zr(U,ie){var de=ie,be=ie.R,Ae=de.U;Ae?Ae.L===de?Ae.L=be:Ae.R=be:U._=be,be.U=Ae,de.U=be,de.R=be.L,de.R&&(de.R.U=de),be.L=de}function _o(U,ie){var de=ie,be=ie.L,Ae=de.U;Ae?Ae.L===de?Ae.L=be:Ae.R=be:U._=be,be.U=Ae,de.U=be,de.L=be.R,de.L&&(de.L.U=de),be.R=de}function ao(U){for(;U.L;)U=U.L;return U}function Bi(U,ie){var de,be,Ae,Fe=U.sort(Ps).pop();for(un=[],On=new Array(U.length),Fn=new ji,bn=new ji;;)if(Ae=Gn,Fe&&(!Ae||Fe.y<Ae.y||Fe.y===Ae.y&&Fe.x<Ae.x))Fe.x===de&&Fe.y===be||(On[Fe.i]=new Vn(Fe),ar(Fe),de=Fe.x,be=Fe.y),Fe=U.pop();else{if(!Ae)break;Hn(Ae.arc)}ie&&(function($e){for(var Qe,tt,lt,yt,Mt,Bt=un,Ut=(tt=$e[0][0],lt=$e[0][1],yt=$e[1][0],Mt=$e[1][1],function(Xt){var Vt,pn=Xt.a,sn=Xt.b,tn=pn.x,Sn=pn.y,Dn=0,qn=1,Qn=sn.x-tn,sr=sn.y-Sn;if(Vt=tt-tn,Qn||!(Vt>0)){if(Vt/=Qn,Qn<0){if(Vt<Dn)return;Vt<qn&&(qn=Vt)}else if(Qn>0){if(Vt>qn)return;Vt>Dn&&(Dn=Vt)}if(Vt=yt-tn,Qn||!(Vt<0)){if(Vt/=Qn,Qn<0){if(Vt>qn)return;Vt>Dn&&(Dn=Vt)}else if(Qn>0){if(Vt<Dn)return;Vt<qn&&(qn=Vt)}if(Vt=lt-Sn,sr||!(Vt>0)){if(Vt/=sr,sr<0){if(Vt<Dn)return;Vt<qn&&(qn=Vt)}else if(sr>0){if(Vt>qn)return;Vt>Dn&&(Dn=Vt)}if(Vt=Mt-Sn,sr||!(Vt<0)){if(Vt/=sr,sr<0){if(Vt>qn)return;Vt>Dn&&(Dn=Vt)}else if(sr>0){if(Vt<Dn)return;Vt<qn&&(qn=Vt)}return Dn>0&&(Xt.a={x:tn+Dn*Qn,y:Sn+Dn*sr}),qn<1&&(Xt.b={x:tn+qn*Qn,y:Sn+qn*sr}),Xt}}}}}),jt=Bt.length;jt--;)(!Lr(Qe=Bt[jt],$e)||!Ut(Qe)||b(Qe.a.x-Qe.b.x)<Et&&b(Qe.a.y-Qe.b.y)<Et)&&(Qe.a=Qe.b=null,Bt.splice(jt,1))}(ie),function($e){for(var Qe,tt,lt,yt,Mt,Bt,Ut,jt,Xt,Vt,pn=$e[0][0],sn=$e[1][0],tn=$e[0][1],Sn=$e[1][1],Dn=On,qn=Dn.length;qn--;)if((Mt=Dn[qn])&&Mt.prepare())for(jt=(Ut=Mt.edges).length,Bt=0;Bt<jt;)lt=(Vt=Ut[Bt].end()).x,yt=Vt.y,Qe=(Xt=Ut[++Bt%jt].start()).x,tt=Xt.y,(b(lt-Qe)>Et||b(yt-tt)>Et)&&(Ut.splice(Bt,0,new oi((Qn=Mt.site,sr=Vt,pr=b(lt-pn)<Et&&Sn-yt>Et?{x:pn,y:b(Qe-pn)<Et?tt:Sn}:b(yt-Sn)<Et&&sn-lt>Et?{x:b(tt-Sn)<Et?Qe:sn,y:Sn}:b(lt-sn)<Et&&yt-tn>Et?{x:sn,y:b(Qe-sn)<Et?tt:tn}:b(yt-tn)<Et&&lt-pn>Et?{x:b(tt-tn)<Et?Qe:pn,y:tn}:null,Cr=void 0,(Cr=new Jr(Qn,null)).a=sr,Cr.b=pr,un.push(Cr),Cr),Mt.site,null)),++jt);var Qn,sr,pr,Cr}(ie));var We={cells:On,edges:un};return Fn=bn=un=On=null,We}function Ps(U,ie){return ie.y-U.y||ie.x-U.x}Vn.prototype.prepare=function(){for(var U,ie=this.edges,de=ie.length;de--;)(U=ie[de].edge).b&&U.a||ie.splice(de,1);return ie.sort(Tr),ie.length},oi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ji.prototype={insert:function(U,ie){var de,be,Ae;if(U){if(ie.P=U,ie.N=U.N,U.N&&(U.N.P=ie),U.N=ie,U.R){for(U=U.R;U.L;)U=U.L;U.L=ie}else U.R=ie;de=U}else this._?(U=ao(this._),ie.P=null,ie.N=U,U.P=U.L=ie,de=U):(ie.P=ie.N=null,this._=ie,de=null);for(ie.L=ie.R=null,ie.U=de,ie.C=!0,U=ie;de&&de.C;)de===(be=de.U).L?(Ae=be.R)&&Ae.C?(de.C=Ae.C=!1,be.C=!0,U=be):(U===de.R&&(Zr(this,de),de=(U=de).U),de.C=!1,be.C=!0,_o(this,be)):(Ae=be.L)&&Ae.C?(de.C=Ae.C=!1,be.C=!0,U=be):(U===de.L&&(_o(this,de),de=(U=de).U),de.C=!1,be.C=!0,Zr(this,be)),de=U.U;this._.C=!1},remove:function(U){U.N&&(U.N.P=U.P),U.P&&(U.P.N=U.N),U.N=U.P=null;var ie,de,be,Ae=U.U,Fe=U.L,We=U.R;if(de=Fe?We?ao(We):Fe:We,Ae?Ae.L===U?Ae.L=de:Ae.R=de:this._=de,Fe&&We?(be=de.C,de.C=U.C,de.L=Fe,Fe.U=de,de!==We?(Ae=de.U,de.U=U.U,Ae.L=U=de.R,de.R=We,We.U=de):(de.U=Ae,Ae=de,U=de.R)):(be=U.C,U=de),U&&(U.U=Ae),!be)if(U&&U.C)U.C=!1;else{do{if(U===this._)break;if(U===Ae.L){if((ie=Ae.R).C&&(ie.C=!1,Ae.C=!0,Zr(this,Ae),ie=Ae.R),ie.L&&ie.L.C||ie.R&&ie.R.C){ie.R&&ie.R.C||(ie.L.C=!1,ie.C=!0,_o(this,ie),ie=Ae.R),ie.C=Ae.C,Ae.C=ie.R.C=!1,Zr(this,Ae),U=this._;break}}else if((ie=Ae.L).C&&(ie.C=!1,Ae.C=!0,_o(this,Ae),ie=Ae.L),ie.L&&ie.L.C||ie.R&&ie.R.C){ie.L&&ie.L.C||(ie.R.C=!1,ie.C=!0,Zr(this,ie),ie=Ae.L),ie.C=Ae.C,Ae.C=ie.L.C=!1,_o(this,Ae),U=this._;break}ie.C=!0,U=Ae,Ae=Ae.U}while(!U.C);U&&(U.C=!1)}}},d.geom.voronoi=function(U){var ie=cr,de=Kn,be=ie,Ae=de,Fe=ss;if(U)return We(U);function We(Qe){var tt=new Array(Qe.length),lt=Fe[0][0],yt=Fe[0][1],Mt=Fe[1][0],Bt=Fe[1][1];return Bi($e(Qe),Fe).cells.forEach(function(Ut,jt){var Xt=Ut.edges,Vt=Ut.site;(tt[jt]=Xt.length?Xt.map(function(pn){var sn=pn.start();return[sn.x,sn.y]}):Vt.x>=lt&&Vt.x<=Mt&&Vt.y>=yt&&Vt.y<=Bt?[[lt,Bt],[Mt,Bt],[Mt,yt],[lt,yt]]:[]).point=Qe[jt]}),tt}function $e(Qe){return Qe.map(function(tt,lt){return{x:Math.round(be(tt,lt)/Et)*Et,y:Math.round(Ae(tt,lt)/Et)*Et,i:lt}})}return We.links=function(Qe){return Bi($e(Qe)).edges.filter(function(tt){return tt.l&&tt.r}).map(function(tt){return{source:Qe[tt.l.i],target:Qe[tt.r.i]}})},We.triangles=function(Qe){var tt=[];return Bi($e(Qe)).cells.forEach(function(lt,yt){for(var Mt,Bt,Ut,jt,Xt=lt.site,Vt=lt.edges.sort(Tr),pn=-1,sn=Vt.length,tn=Vt[sn-1].edge,Sn=tn.l===Xt?tn.r:tn.l;++pn<sn;)Mt=Sn,Sn=(tn=Vt[pn].edge).l===Xt?tn.r:tn.l,yt<Mt.i&&yt<Sn.i&&((Bt=Xt).x-(jt=Sn).x)*((Ut=Mt).y-Bt.y)-(Bt.x-Ut.x)*(jt.y-Bt.y)<0&&tt.push([Qe[yt],Qe[Mt.i],Qe[Sn.i]])}),tt},We.x=function(Qe){return arguments.length?(be=Zn(ie=Qe),We):ie},We.y=function(Qe){return arguments.length?(Ae=Zn(de=Qe),We):de},We.clipExtent=function(Qe){return arguments.length?(Fe=Qe??ss,We):Fe===ss?null:Fe},We.size=function(Qe){return arguments.length?We.clipExtent(Qe&&[[0,0],Qe]):Fe===ss?null:Fe&&Fe[1]},We};var ss=[[-1e6,-1e6],[1e6,1e6]];function Vi(U){return U.x}function ju(U){return U.y}function Ac(U,ie,de,be,Ae,Fe){if(!U(ie,de,be,Ae,Fe)){var We=.5*(de+Ae),$e=.5*(be+Fe),Qe=ie.nodes;Qe[0]&&Ac(U,Qe[0],de,be,We,$e),Qe[1]&&Ac(U,Qe[1],We,be,Ae,$e),Qe[2]&&Ac(U,Qe[2],de,$e,We,Fe),Qe[3]&&Ac(U,Qe[3],We,$e,Ae,Fe)}}function Jc(U,ie){U=d.rgb(U),ie=d.rgb(ie);var de=U.r,be=U.g,Ae=U.b,Fe=ie.r-de,We=ie.g-be,$e=ie.b-Ae;return function(Qe){return"#"+an(Math.round(de+Fe*Qe))+an(Math.round(be+We*Qe))+an(Math.round(Ae+$e*Qe))}}function rc(U,ie){var de,be={},Ae={};for(de in U)de in ie?be[de]=tl(U[de],ie[de]):Ae[de]=U[de];for(de in ie)de in U||(Ae[de]=ie[de]);return function(Fe){for(de in be)Ae[de]=be[de](Fe);return Ae}}function vs(U,ie){return U=+U,ie=+ie,function(de){return U*(1-de)+ie*de}}function Rc(U,ie){var de,be,Ae,Fe=ic.lastIndex=oc.lastIndex=0,We=-1,$e=[],Qe=[];for(U+="",ie+="";(de=ic.exec(U))&&(be=oc.exec(ie));)(Ae=be.index)>Fe&&(Ae=ie.slice(Fe,Ae),$e[We]?$e[We]+=Ae:$e[++We]=Ae),(de=de[0])===(be=be[0])?$e[We]?$e[We]+=be:$e[++We]=be:($e[++We]=null,Qe.push({i:We,x:vs(de,be)})),Fe=oc.lastIndex;return Fe<ie.length&&(Ae=ie.slice(Fe),$e[We]?$e[We]+=Ae:$e[++We]=Ae),$e.length<2?Qe[0]?(ie=Qe[0].x,function(tt){return ie(tt)+""}):function(){return ie}:(ie=Qe.length,function(tt){for(var lt,yt=0;yt<ie;++yt)$e[(lt=Qe[yt]).i]=lt.x(tt);return $e.join("")})}d.geom.delaunay=function(U){return d.geom.voronoi().triangles(U)},d.geom.quadtree=function(U,ie,de,be,Ae){var Fe,We=cr,$e=Kn;if(Fe=arguments.length)return We=Vi,$e=ju,3===Fe&&(Ae=de,be=ie,de=ie=0),Qe(U);function Qe(tt){var lt,yt,Mt,Bt,Ut,jt,Xt,Vt,pn,sn=Zn(We),tn=Zn($e);if(null!=ie)jt=ie,Xt=de,Vt=be,pn=Ae;else if(Vt=pn=-(jt=Xt=1/0),yt=[],Mt=[],Ut=tt.length,Fe)for(Bt=0;Bt<Ut;++Bt)(lt=tt[Bt]).x<jt&&(jt=lt.x),lt.y<Xt&&(Xt=lt.y),lt.x>Vt&&(Vt=lt.x),lt.y>pn&&(pn=lt.y),yt.push(lt.x),Mt.push(lt.y);else for(Bt=0;Bt<Ut;++Bt){var Sn=+sn(lt=tt[Bt],Bt),Dn=+tn(lt,Bt);Sn<jt&&(jt=Sn),Dn<Xt&&(Xt=Dn),Sn>Vt&&(Vt=Sn),Dn>pn&&(pn=Dn),yt.push(Sn),Mt.push(Dn)}var qn=Vt-jt,Qn=pn-Xt;function sr(Mr,Or,Ur,li,nr,wr,Pr,Wr){if(!isNaN(Ur)&&!isNaN(li))if(Mr.leaf){var ti=Mr.x,di=Mr.y;if(null!=ti)if(b(ti-Ur)+b(di-li)<.01)pr(Mr,Or,Ur,li,nr,wr,Pr,Wr);else{var Oi=Mr.point;Mr.x=Mr.y=Mr.point=null,pr(Mr,Oi,ti,di,nr,wr,Pr,Wr),pr(Mr,Or,Ur,li,nr,wr,Pr,Wr)}else Mr.x=Ur,Mr.y=li,Mr.point=Or}else pr(Mr,Or,Ur,li,nr,wr,Pr,Wr)}function pr(Mr,Or,Ur,li,nr,wr,Pr,Wr){var ti=.5*(nr+Pr),di=.5*(wr+Wr),Oi=Ur>=ti,to=li>=di,go=to<<1|Oi;Mr.leaf=!1,Oi?nr=ti:Pr=ti,to?wr=di:Wr=di,sr(Mr=Mr.nodes[go]||(Mr.nodes[go]={leaf:!0,nodes:[],point:null,x:null,y:null}),Or,Ur,li,nr,wr,Pr,Wr)}qn>Qn?pn=Xt+qn:Vt=jt+Qn;var Cr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Mr){sr(Cr,Mr,+sn(Mr,++Bt),+tn(Mr,Bt),jt,Xt,Vt,pn)},visit:function(Mr){Ac(Mr,Cr,jt,Xt,Vt,pn)},find:function(Mr){return Ur=Mr[0],li=Mr[1],di=1/0,function Oi(to,go,Do,Zi,Bo){if(!(go>Pr||Do>Wr||Zi<nr||Bo<wr)){if(ba=to.point){var ba,ia=Ur-to.x,Zo=li-to.y,Ri=ia*ia+Zo*Zo;if(Ri<di){var Di=Math.sqrt(di=Ri);nr=Ur-Di,wr=li-Di,Pr=Ur+Di,Wr=li+Di,ti=ba}}for(var no=to.nodes,fo=.5*(go+Zi),Eo=.5*(Do+Bo),wa=(li>=Eo)<<1|Ur>=fo,Ro=wa+4;wa<Ro;++wa)if(to=no[3&wa])switch(3&wa){case 0:Oi(to,go,Do,fo,Eo);break;case 1:Oi(to,fo,Do,Zi,Eo);break;case 2:Oi(to,go,Eo,fo,Bo);break;case 3:Oi(to,fo,Eo,Zi,Bo)}}}(Cr,nr=jt,wr=Xt,Pr=Vt,Wr=pn),ti;var Ur,li,nr,wr,Pr,Wr,ti,di}};if(Bt=-1,null==ie){for(;++Bt<Ut;)sr(Cr,tt[Bt],yt[Bt],Mt[Bt],jt,Xt,Vt,pn);--Bt}else tt.forEach(Cr.add);return yt=Mt=tt=lt=null,Cr}return Qe.x=function(tt){return arguments.length?(We=tt,Qe):We},Qe.y=function(tt){return arguments.length?($e=tt,Qe):$e},Qe.extent=function(tt){return arguments.length?(null==tt?ie=de=be=Ae=null:(ie=+tt[0][0],de=+tt[0][1],be=+tt[1][0],Ae=+tt[1][1]),Qe):null==ie?null:[[ie,de],[be,Ae]]},Qe.size=function(tt){return arguments.length?(null==tt?ie=de=be=Ae=null:(ie=de=0,be=+tt[0],Ae=+tt[1]),Qe):null==ie?null:[be-ie,Ae-de]},Qe},d.interpolateRgb=Jc,d.interpolateObject=rc,d.interpolateNumber=vs,d.interpolateString=Rc;var ic=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oc=new RegExp(ic.source,"g");function tl(U,ie){for(var de,be=d.interpolators.length;--be>=0&&!(de=d.interpolators[be](U,ie)););return de}function Ho(U,ie){var de,be=[],Ae=[],Fe=U.length,We=ie.length,$e=Math.min(U.length,ie.length);for(de=0;de<$e;++de)be.push(tl(U[de],ie[de]));for(;de<Fe;++de)Ae[de]=U[de];for(;de<We;++de)Ae[de]=ie[de];return function(Qe){for(de=0;de<$e;++de)Ae[de]=be[de](Qe);return Ae}}d.interpolate=tl,d.interpolators=[function(U,ie){var de=typeof ie;return("string"===de?Cn.has(ie.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(ie)?Jc:Rc:ie instanceof dt?Jc:Array.isArray(ie)?Ho:"object"===de&&isNaN(ie)?rc:vs)(U,ie)}],d.interpolateArray=Ho;var bl=function(){return N},Li=d.map({linear:bl,poly:function(U){return function(ie){return Math.pow(ie,U)}},quad:function(){return gi},cubic:function(){return Rs},sin:function(){return ls},exp:function(){return Qc},circle:function(){return Vu},elastic:function(U,ie){var de;return arguments.length<2&&(ie=.45),arguments.length?de=ie/Ht*Math.asin(1/U):(U=1,de=ie/4),function(be){return 1+U*Math.pow(2,-10*be)*Math.sin((be-de)*Ht/ie)}},back:function(U){return U||(U=1.70158),function(ie){return ie*ie*((U+1)*ie-U)}},bounce:function(){return Fl}}),nl=d.map({in:N,out:Dr,"in-out":rl,"out-in":function(U){return rl(Dr(U))}});function Dr(U){return function(ie){return 1-U(1-ie)}}function rl(U){return function(ie){return.5*(ie<.5?U(2*ie):2-U(2-2*ie))}}function gi(U){return U*U}function Rs(U){return U*U*U}function Fs(U){if(U<=0)return 0;if(U>=1)return 1;var ie=U*U,de=ie*U;return 4*(U<.5?de:3*(U-ie)+de-.75)}function ls(U){return 1-Math.cos(U*nt)}function Qc(U){return Math.pow(2,10*(U-1))}function Vu(U){return 1-Math.sqrt(1-U*U)}function Fl(U){return U<.36363636363636365?7.5625*U*U:U<.7272727272727273?7.5625*(U-=.5454545454545454)*U+.75:U<.9090909090909091?7.5625*(U-=.8181818181818182)*U+.9375:7.5625*(U-=.9545454545454546)*U+.984375}function il(U,ie){return ie-=U,function(de){return Math.round(U+ie*de)}}function ys(U){var ie,de,be,Ae=[U.a,U.b],Fe=[U.c,U.d],We=Ns(Ae),$e=xs(Ae,Fe),Qe=Ns(((ie=Fe)[0]+=(be=-$e)*(de=Ae)[0],ie[1]+=be*de[1],ie))||0;Ae[0]*Fe[1]<Fe[0]*Ae[1]&&(Ae[0]*=-1,Ae[1]*=-1,We*=-1,$e*=-1),this.rotate=(We?Math.atan2(Ae[1],Ae[0]):Math.atan2(-Fe[0],Fe[1]))*Ke,this.translate=[U.e,U.f],this.scale=[We,Qe],this.skew=Qe?Math.atan2($e,Qe)*Ke:0}function xs(U,ie){return U[0]*ie[0]+U[1]*ie[1]}function Ns(U){var ie=Math.sqrt(xs(U,U));return ie&&(U[0]/=ie,U[1]/=ie),ie}d.ease=function(U){var ie,de=U.indexOf("-"),be=de>=0?U.slice(0,de):U,Ae=de>=0?U.slice(de+1):"in";return be=Li.get(be)||bl,Ae=nl.get(Ae)||N,ie=Ae(be.apply(null,S.call(arguments,1))),function(Fe){return Fe<=0?0:Fe>=1?1:ie(Fe)}},d.interpolateHcl=function(U,ie){U=d.hcl(U),ie=d.hcl(ie);var de=U.h,be=U.c,Ae=U.l,Fe=ie.h-de,We=ie.c-be,$e=ie.l-Ae;return isNaN(We)&&(We=0,be=isNaN(be)?ie.c:be),isNaN(Fe)?(Fe=0,de=isNaN(de)?ie.h:de):Fe>180?Fe-=360:Fe<-180&&(Fe+=360),function(Qe){return _t(de+Fe*Qe,be+We*Qe,Ae+$e*Qe)+""}},d.interpolateHsl=function(U,ie){U=d.hsl(U),ie=d.hsl(ie);var de=U.h,be=U.s,Ae=U.l,Fe=ie.h-de,We=ie.s-be,$e=ie.l-Ae;return isNaN(We)&&(We=0,be=isNaN(be)?ie.s:be),isNaN(Fe)?(Fe=0,de=isNaN(de)?ie.h:de):Fe>180?Fe-=360:Fe<-180&&(Fe+=360),function(Qe){return At(de+Fe*Qe,be+We*Qe,Ae+$e*Qe)+""}},d.interpolateLab=function(U,ie){U=d.lab(U),ie=d.lab(ie);var de=U.l,be=U.a,Ae=U.b,Fe=ie.l-de,We=ie.a-be,$e=ie.b-Ae;return function(Qe){return nn(de+Fe*Qe,be+We*Qe,Ae+$e*Qe)+""}},d.interpolateRound=il,d.transform=function(U){var ie=v.createElementNS(d.ns.prefix.svg,"g");return(d.transform=function(de){if(null!=de){ie.setAttribute("transform",de);var be=ie.transform.baseVal.consolidate()}return new ys(be?be.matrix:Gi)})(U)},ys.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Gi={a:1,b:0,c:0,d:1,e:0,f:0};function wl(U){return U.length?U.pop()+",":""}function ol(U,ie){var Ae,Fe,We,de=[],be=[];return U=d.transform(U),ie=d.transform(ie),function(Ae,Fe,We,$e){if(Ae[0]!==Fe[0]||Ae[1]!==Fe[1]){var Qe=We.push("translate(",null,",",null,")");$e.push({i:Qe-4,x:vs(Ae[0],Fe[0])},{i:Qe-2,x:vs(Ae[1],Fe[1])})}else(Fe[0]||Fe[1])&&We.push("translate("+Fe+")")}(U.translate,ie.translate,de,be),We=de,(Ae=U.rotate)!==(Fe=ie.rotate)?(Ae-Fe>180?Fe+=360:Fe-Ae>180&&(Ae+=360),be.push({i:We.push(wl(We)+"rotate(",null,")")-2,x:vs(Ae,Fe)})):Fe&&We.push(wl(We)+"rotate("+Fe+")"),function(Ae,Fe,We,$e){Ae!==Fe?$e.push({i:We.push(wl(We)+"skewX(",null,")")-2,x:vs(Ae,Fe)}):Fe&&We.push(wl(We)+"skewX("+Fe+")")}(U.skew,ie.skew,de,be),function(Ae,Fe,We,$e){if(Ae[0]!==Fe[0]||Ae[1]!==Fe[1]){var Qe=We.push(wl(We)+"scale(",null,",",null,")");$e.push({i:Qe-4,x:vs(Ae[0],Fe[0])},{i:Qe-2,x:vs(Ae[1],Fe[1])})}else 1===Fe[0]&&1===Fe[1]||We.push(wl(We)+"scale("+Fe+")")}(U.scale,ie.scale,de,be),U=ie=null,function(Ae){for(var Fe,We=-1,$e=be.length;++We<$e;)de[(Fe=be[We]).i]=Fe.x(Ae);return de.join("")}}function Tl(U,ie){return ie=(ie-=U=+U)||1/ie,function(de){return(de-U)/ie}}function ac(U,ie){return ie=(ie-=U=+U)||1/ie,function(de){return Math.max(0,Math.min(1,(de-U)/ie))}}function _s(U){for(var ie=U.source,de=U.target,be=function(We,$e){if(We===$e)return We;for(var Qe=sc(We),tt=sc($e),lt=Qe.pop(),yt=tt.pop(),Mt=null;lt===yt;)Mt=lt,lt=Qe.pop(),yt=tt.pop();return Mt}(ie,de),Ae=[ie];ie!==be;)Ae.push(ie=ie.parent);for(var Fe=Ae.length;de!==be;)Ae.splice(Fe,0,de),de=de.parent;return Ae}function sc(U){for(var ie=[],de=U.parent;null!=de;)ie.push(U),U=de,de=de.parent;return ie.push(U),ie}function vu(U){U.fixed|=2}function Ki(U){U.fixed&=-7}function lc(U){U.fixed|=4,U.px=U.x,U.py=U.y}function al(U){U.fixed&=-5}function Ml(U,ie,de){var be=0,Ae=0;if(U.charge=0,!U.leaf)for(var Fe,We=U.nodes,$e=We.length,Qe=-1;++Qe<$e;)null!=(Fe=We[Qe])&&(Ml(Fe,ie,de),U.charge+=Fe.charge,be+=Fe.charge*Fe.cx,Ae+=Fe.charge*Fe.cy);if(U.point){U.leaf||(U.point.x+=Math.random()-.5,U.point.y+=Math.random()-.5);var tt=ie*de[U.point.index];U.charge+=U.pointCharge=tt,be+=tt*U.point.x,Ae+=tt*U.point.y}U.cx=be/U.charge,U.cy=Ae/U.charge}d.interpolateTransform=ol,d.layout={},d.layout.bundle=function(){return function(U){for(var ie=[],de=-1,be=U.length;++de<be;)ie.push(_s(U[de]));return ie}},d.layout.chord=function(){var U,ie,de,be,Ae,Fe,We,$e={},Qe=0;function tt(){var yt,Mt,Bt,Ut,jt,Xt={},Vt=[],pn=d.range(be),sn=[];for(U=[],ie=[],yt=0,Ut=-1;++Ut<be;){for(Mt=0,jt=-1;++jt<be;)Mt+=de[Ut][jt];Vt.push(Mt),sn.push(d.range(be)),yt+=Mt}for(Ae&&pn.sort(function(Cr,Mr){return Ae(Vt[Cr],Vt[Mr])}),Fe&&sn.forEach(function(Cr,Mr){Cr.sort(function(Or,Ur){return Fe(de[Mr][Or],de[Mr][Ur])})}),yt=(Ht-Qe*be)/yt,Mt=0,Ut=-1;++Ut<be;){for(Bt=Mt,jt=-1;++jt<be;){var tn=pn[Ut],Sn=sn[tn][jt],Dn=de[tn][Sn],qn=Mt,Qn=Mt+=Dn*yt;Xt[tn+"-"+Sn]={index:tn,subindex:Sn,startAngle:qn,endAngle:Qn,value:Dn}}ie[tn]={index:tn,startAngle:Bt,endAngle:Mt,value:Vt[tn]},Mt+=Qe}for(Ut=-1;++Ut<be;)for(jt=Ut-1;++jt<be;){var sr=Xt[Ut+"-"+jt],pr=Xt[jt+"-"+Ut];(sr.value||pr.value)&&U.push(sr.value<pr.value?{source:pr,target:sr}:{source:sr,target:pr})}We&&lt()}function lt(){U.sort(function(yt,Mt){return We((yt.source.value+yt.target.value)/2,(Mt.source.value+Mt.target.value)/2)})}return $e.matrix=function(yt){return arguments.length?(be=(de=yt)&&de.length,U=ie=null,$e):de},$e.padding=function(yt){return arguments.length?(Qe=yt,U=ie=null,$e):Qe},$e.sortGroups=function(yt){return arguments.length?(Ae=yt,U=ie=null,$e):Ae},$e.sortSubgroups=function(yt){return arguments.length?(Fe=yt,U=null,$e):Fe},$e.sortChords=function(yt){return arguments.length?(We=yt,U&&lt(),$e):We},$e.chords=function(){return U||tt(),U},$e.groups=function(){return ie||tt(),ie},$e},d.layout.force=function(){var U,ie,de,be,Ae,Fe,We={},$e=d.dispatch("start","tick","end"),Qe=[1,1],tt=.9,lt=Ui,yt=Nl,Mt=-30,Bt=Ji,Ut=.1,jt=.64,Xt=[],Vt=[];function pn(tn){return function(Sn,Dn,qn,Qn){if(Sn.point!==tn){var sr=Sn.cx-tn.x,pr=Sn.cy-tn.y,Cr=Qn-Dn,Mr=sr*sr+pr*pr;if(Cr*Cr/jt<Mr){if(Mr<Bt){var Or=Sn.charge/Mr;tn.px-=sr*Or,tn.py-=pr*Or}return!0}Sn.point&&Mr&&Mr<Bt&&(tn.px-=sr*(Or=Sn.pointCharge/Mr),tn.py-=pr*Or)}return!Sn.charge}}function sn(tn){tn.px=d.event.x,tn.py=d.event.y,We.resume()}return We.tick=function(){if((de*=.99)<.005)return U=null,$e.end({type:"end",alpha:de=0}),!0;var tn,Sn,Dn,qn,Qn,sr,pr,Cr,Mr,Or=Xt.length,Ur=Vt.length;for(Sn=0;Sn<Ur;++Sn)qn=(Dn=Vt[Sn]).source,(sr=(Cr=(Qn=Dn.target).x-qn.x)*Cr+(Mr=Qn.y-qn.y)*Mr)&&(Cr*=sr=de*Ae[Sn]*((sr=Math.sqrt(sr))-be[Sn])/sr,Mr*=sr,Qn.x-=Cr*(pr=qn.weight+Qn.weight?qn.weight/(qn.weight+Qn.weight):.5),Qn.y-=Mr*pr,qn.x+=Cr*(pr=1-pr),qn.y+=Mr*pr);if((pr=de*Ut)&&(Cr=Qe[0]/2,Mr=Qe[1]/2,Sn=-1,pr))for(;++Sn<Or;)(Dn=Xt[Sn]).x+=(Cr-Dn.x)*pr,Dn.y+=(Mr-Dn.y)*pr;if(Mt)for(Ml(tn=d.geom.quadtree(Xt),de,Fe),Sn=-1;++Sn<Or;)(Dn=Xt[Sn]).fixed||tn.visit(pn(Dn));for(Sn=-1;++Sn<Or;)(Dn=Xt[Sn]).fixed?(Dn.x=Dn.px,Dn.y=Dn.py):(Dn.x-=(Dn.px-(Dn.px=Dn.x))*tt,Dn.y-=(Dn.py-(Dn.py=Dn.y))*tt);$e.tick({type:"tick",alpha:de})},We.nodes=function(tn){return arguments.length?(Xt=tn,We):Xt},We.links=function(tn){return arguments.length?(Vt=tn,We):Vt},We.size=function(tn){return arguments.length?(Qe=tn,We):Qe},We.linkDistance=function(tn){return arguments.length?(lt="function"==typeof tn?tn:+tn,We):lt},We.distance=We.linkDistance,We.linkStrength=function(tn){return arguments.length?(yt="function"==typeof tn?tn:+tn,We):yt},We.friction=function(tn){return arguments.length?(tt=+tn,We):tt},We.charge=function(tn){return arguments.length?(Mt="function"==typeof tn?tn:+tn,We):Mt},We.chargeDistance=function(tn){return arguments.length?(Bt=tn*tn,We):Math.sqrt(Bt)},We.gravity=function(tn){return arguments.length?(Ut=+tn,We):Ut},We.theta=function(tn){return arguments.length?(jt=tn*tn,We):Math.sqrt(jt)},We.alpha=function(tn){return arguments.length?(tn=+tn,de?tn>0?de=tn:(U.c=null,U.t=NaN,U=null,$e.end({type:"end",alpha:de=0})):tn>0&&($e.start({type:"start",alpha:de=tn}),U=qt(We.tick)),We):de},We.start=function(){var tn,Sn,Dn,qn=Xt.length,Qn=Vt.length,sr=Qe[0],pr=Qe[1];for(tn=0;tn<qn;++tn)(Dn=Xt[tn]).index=tn,Dn.weight=0;for(tn=0;tn<Qn;++tn)"number"==typeof(Dn=Vt[tn]).source&&(Dn.source=Xt[Dn.source]),"number"==typeof Dn.target&&(Dn.target=Xt[Dn.target]),++Dn.source.weight,++Dn.target.weight;for(tn=0;tn<qn;++tn)Dn=Xt[tn],isNaN(Dn.x)&&(Dn.x=Cr("x",sr)),isNaN(Dn.y)&&(Dn.y=Cr("y",pr)),isNaN(Dn.px)&&(Dn.px=Dn.x),isNaN(Dn.py)&&(Dn.py=Dn.y);if(be=[],"function"==typeof lt)for(tn=0;tn<Qn;++tn)be[tn]=+lt.call(this,Vt[tn],tn);else for(tn=0;tn<Qn;++tn)be[tn]=lt;if(Ae=[],"function"==typeof yt)for(tn=0;tn<Qn;++tn)Ae[tn]=+yt.call(this,Vt[tn],tn);else for(tn=0;tn<Qn;++tn)Ae[tn]=yt;if(Fe=[],"function"==typeof Mt)for(tn=0;tn<qn;++tn)Fe[tn]=+Mt.call(this,Xt[tn],tn);else for(tn=0;tn<qn;++tn)Fe[tn]=Mt;function Cr(Mr,Or){if(!Sn){for(Sn=new Array(qn),wr=0;wr<qn;++wr)Sn[wr]=[];for(wr=0;wr<Qn;++wr){var Ur=Vt[wr];Sn[Ur.source.index].push(Ur.target),Sn[Ur.target.index].push(Ur.source)}}for(var li,nr=Sn[tn],wr=-1,Pr=nr.length;++wr<Pr;)if(!isNaN(li=nr[wr][Mr]))return li;return Math.random()*Or}return We.resume()},We.resume=function(){return We.alpha(.1)},We.stop=function(){return We.alpha(0)},We.drag=function(){if(ie||(ie=d.behavior.drag().origin(N).on("dragstart.force",vu).on("drag.force",sn).on("dragend.force",Ki)),!arguments.length)return ie;this.on("mouseover.force",lc).on("mouseout.force",al).call(ie)},d.rebind(We,$e,"on")};var Ui=20,Nl=1,Ji=1/0;function Vr(U,ie){return d.rebind(U,ie,"sort","children","value"),U.nodes=U,U.links=Ka,U}function pa(U,ie){for(var de=[U];null!=(U=de.pop());)if(ie(U),(Ae=U.children)&&(be=Ae.length))for(var be,Ae;--be>=0;)de.push(Ae[be])}function Si(U,ie){for(var de=[U],be=[];null!=(U=de.pop());)if(be.push(U),(Fe=U.children)&&(Ae=Fe.length))for(var Ae,Fe,We=-1;++We<Ae;)de.push(Fe[We]);for(;null!=(U=be.pop());)ie(U)}function Go(U){return U.children}function Xa(U){return U.value}function Al(U,ie){return ie.value-U.value}function Ka(U){return d.merge(U.map(function(ie){return(ie.children||[]).map(function(de){return{source:ie,target:de}})}))}d.layout.hierarchy=function(){var U=Al,ie=Go,de=Xa;function be(Ae){var Fe,We=[Ae],$e=[];for(Ae.depth=0;null!=(Fe=We.pop());)if($e.push(Fe),(tt=ie.call(be,Fe,Fe.depth))&&(Qe=tt.length)){for(var Qe,tt,lt;--Qe>=0;)We.push(lt=tt[Qe]),lt.parent=Fe,lt.depth=Fe.depth+1;de&&(Fe.value=0),Fe.children=tt}else de&&(Fe.value=+de.call(be,Fe,Fe.depth)||0),delete Fe.children;return Si(Ae,function(yt){var Mt,Bt;U&&(Mt=yt.children)&&Mt.sort(U),de&&(Bt=yt.parent)&&(Bt.value+=yt.value)}),$e}return be.sort=function(Ae){return arguments.length?(U=Ae,be):U},be.children=function(Ae){return arguments.length?(ie=Ae,be):ie},be.value=function(Ae){return arguments.length?(de=Ae,be):de},be.revalue=function(Ae){return de&&(pa(Ae,function(Fe){Fe.children&&(Fe.value=0)}),Si(Ae,function(Fe){var We;Fe.children||(Fe.value=+de.call(be,Fe,Fe.depth)||0),(We=Fe.parent)&&(We.value+=Fe.value)})),Ae},be},d.layout.partition=function(){var U=d.layout.hierarchy(),ie=[1,1];function de(Fe,We,$e,Qe){var tt=Fe.children;if(Fe.x=We,Fe.y=Fe.depth*Qe,Fe.dx=$e,Fe.dy=Qe,tt&&(lt=tt.length)){var lt,yt,Mt,Bt=-1;for($e=Fe.value?$e/Fe.value:0;++Bt<lt;)de(yt=tt[Bt],We,Mt=yt.value*$e,Qe),We+=Mt}}function be(Fe){var We=Fe.children,$e=0;if(We&&(Qe=We.length))for(var Qe,tt=-1;++tt<Qe;)$e=Math.max($e,be(We[tt]));return 1+$e}function Ae(Fe,We){var $e=U.call(this,Fe,We);return de($e[0],0,ie[0],ie[1]/be($e[0])),$e}return Ae.size=function(Fe){return arguments.length?(ie=Fe,Ae):ie},Vr(Ae,U)},d.layout.pie=function(){var U=Number,ie=yu,de=0,be=Ht,Ae=0;function Fe(We){var $e,Qe=We.length,tt=We.map(function(pn,sn){return+U.call(Fe,pn,sn)}),lt=+("function"==typeof de?de.apply(this,arguments):de),yt=("function"==typeof be?be.apply(this,arguments):be)-lt,Mt=Math.min(Math.abs(yt)/Qe,+("function"==typeof Ae?Ae.apply(this,arguments):Ae)),Bt=Mt*(yt<0?-1:1),Ut=d.sum(tt),jt=Ut?(yt-Qe*Bt)/Ut:0,Xt=d.range(Qe),Vt=[];return null!=ie&&Xt.sort(ie===yu?function(pn,sn){return tt[sn]-tt[pn]}:function(pn,sn){return ie(We[pn],We[sn])}),Xt.forEach(function(pn){Vt[pn]={data:We[pn],value:$e=tt[pn],startAngle:lt,endAngle:lt+=$e*jt+Bt,padAngle:Mt}}),Vt}return Fe.value=function(We){return arguments.length?(U=We,Fe):U},Fe.sort=function(We){return arguments.length?(ie=We,Fe):ie},Fe.startAngle=function(We){return arguments.length?(de=We,Fe):de},Fe.endAngle=function(We){return arguments.length?(be=We,Fe):be},Fe.padAngle=function(We){return arguments.length?(Ae=We,Fe):Ae},Fe};var yu={};function kc(U){return U.x}function kl(U){return U.y}function cs(U,ie,de){U.y0=ie,U.y=de}d.layout.stack=function(){var U=N,ie=mo,de=ca,be=cs,Ae=kc,Fe=kl;function We($e,Qe){if(!(Mt=$e.length))return $e;var tt=$e.map(function(pn,sn){return U.call(We,pn,sn)}),lt=tt.map(function(pn){return pn.map(function(sn,tn){return[Ae.call(We,sn,tn),Fe.call(We,sn,tn)]})}),yt=ie.call(We,lt,Qe);tt=d.permute(tt,yt),lt=d.permute(lt,yt);var Mt,Bt,Ut,jt,Xt=de.call(We,lt,Qe),Vt=tt[0].length;for(Ut=0;Ut<Vt;++Ut)for(be.call(We,tt[0][Ut],jt=Xt[Ut],lt[0][Ut][1]),Bt=1;Bt<Mt;++Bt)be.call(We,tt[Bt][Ut],jt+=lt[Bt-1][Ut][1],lt[Bt][Ut][1]);return $e}return We.values=function($e){return arguments.length?(U=$e,We):U},We.order=function($e){return arguments.length?(ie="function"==typeof $e?$e:$r.get($e)||mo,We):ie},We.offset=function($e){return arguments.length?(de="function"==typeof $e?$e:xi.get($e)||ca,We):de},We.x=function($e){return arguments.length?(Ae=$e,We):Ae},We.y=function($e){return arguments.length?(Fe=$e,We):Fe},We.out=function($e){return arguments.length?(be=$e,We):be},We};var $r=d.map({"inside-out":function(U){var ie,de,be=U.length,Ae=U.map(sl),Fe=U.map(Co),We=d.range(be).sort(function(yt,Mt){return Ae[yt]-Ae[Mt]}),$e=0,Qe=0,tt=[],lt=[];for(ie=0;ie<be;++ie)de=We[ie],$e<Qe?($e+=Fe[de],tt.push(de)):(Qe+=Fe[de],lt.push(de));return lt.reverse().concat(tt)},reverse:function(U){return d.range(U.length).reverse()},default:mo}),xi=d.map({silhouette:function(U){var ie,de,be,Ae=U.length,Fe=U[0].length,We=[],$e=0,Qe=[];for(de=0;de<Fe;++de){for(ie=0,be=0;ie<Ae;ie++)be+=U[ie][de][1];be>$e&&($e=be),We.push(be)}for(de=0;de<Fe;++de)Qe[de]=($e-We[de])/2;return Qe},wiggle:function(U){var ie,de,be,Ae,Fe,We,$e,Qe,tt,lt=U.length,yt=U[0],Mt=yt.length,Bt=[];for(Bt[0]=Qe=tt=0,de=1;de<Mt;++de){for(ie=0,Ae=0;ie<lt;++ie)Ae+=U[ie][de][1];for(ie=0,Fe=0,$e=yt[de][0]-yt[de-1][0];ie<lt;++ie){for(be=0,We=(U[ie][de][1]-U[ie][de-1][1])/(2*$e);be<ie;++be)We+=(U[be][de][1]-U[be][de-1][1])/$e;Fe+=We*U[ie][de][1]}Bt[de]=Qe-=Ae?Fe/Ae*$e:0,Qe<tt&&(tt=Qe)}for(de=0;de<Mt;++de)Bt[de]-=tt;return Bt},expand:function(U){var ie,de,be,Ae=U.length,Fe=U[0].length,We=1/Ae,$e=[];for(de=0;de<Fe;++de){for(ie=0,be=0;ie<Ae;ie++)be+=U[ie][de][1];if(be)for(ie=0;ie<Ae;ie++)U[ie][de][1]/=be;else for(ie=0;ie<Ae;ie++)U[ie][de][1]=We}for(de=0;de<Fe;++de)$e[de]=0;return $e},zero:ca});function mo(U){return d.range(U.length)}function ca(U){for(var ie=-1,de=U[0].length,be=[];++ie<de;)be[ie]=0;return be}function sl(U){for(var ie,de=1,be=0,Ae=U[0][1],Fe=U.length;de<Fe;++de)(ie=U[de][1])>Ae&&(be=de,Ae=ie);return be}function Co(U){return U.reduce(cc,0)}function cc(U,ie){return U+ie[1]}function qo(U,ie){return uc(U,Math.ceil(Math.log(ie.length)/Math.LN2+1))}function uc(U,ie){for(var de=-1,be=+U[0],Ae=(U[1]-be)/ie,Fe=[];++de<=ie;)Fe[de]=Ae*de+be;return Fe}function zs(U){return[d.min(U),d.max(U)]}function Mi(U,ie){return U.value-ie.value}function Sl(U,ie){var de=U._pack_next;U._pack_next=ie,ie._pack_prev=U,ie._pack_next=de,de._pack_prev=ie}function dc(U,ie){U._pack_next=ie,ie._pack_prev=U}function fc(U,ie){var de=ie.x-U.x,be=ie.y-U.y,Ae=U.r+ie.r;return.999*Ae*Ae>de*de+be*be}function bs(U){if((ie=U.children)&&(Qe=ie.length)){var ie,de,be,Ae,Fe,We,$e,Qe,tt=1/0,lt=-1/0,yt=1/0,Mt=-1/0;if(ie.forEach(Jo),(de=ie[0]).x=-de.r,de.y=0,sn(de),Qe>1&&((be=ie[1]).x=be.r,be.y=0,sn(be),Qe>2))for(ka(de,be,Ae=ie[2]),sn(Ae),Sl(de,Ae),de._pack_prev=Ae,Sl(Ae,be),be=de._pack_next,Fe=3;Fe<Qe;Fe++){ka(de,be,Ae=ie[Fe]);var Bt=0,Ut=1,jt=1;for(We=be._pack_next;We!==be;We=We._pack_next,Ut++)if(fc(We,Ae)){Bt=1;break}if(1==Bt)for($e=de._pack_prev;$e!==We._pack_prev&&!fc($e,Ae);$e=$e._pack_prev,jt++);Bt?(Ut<jt||Ut==jt&&be.r<de.r?dc(de,be=We):dc(de=$e,be),Fe--):(Sl(de,Ae),be=Ae,sn(Ae))}var Xt=(tt+lt)/2,Vt=(yt+Mt)/2,pn=0;for(Fe=0;Fe<Qe;Fe++)(Ae=ie[Fe]).x-=Xt,Ae.y-=Vt,pn=Math.max(pn,Ae.r+Math.sqrt(Ae.x*Ae.x+Ae.y*Ae.y));U.r=pn,ie.forEach(ll)}function sn(tn){tt=Math.min(tn.x-tn.r,tt),lt=Math.max(tn.x+tn.r,lt),yt=Math.min(tn.y-tn.r,yt),Mt=Math.max(tn.y+tn.r,Mt)}}function Jo(U){U._pack_next=U._pack_prev=U}function ll(U){delete U._pack_next,delete U._pack_prev}function Pi(U,ie,de,be){var Ae=U.children;if(U.x=ie+=be*U.x,U.y=de+=be*U.y,U.r*=be,Ae)for(var Fe=-1,We=Ae.length;++Fe<We;)Pi(Ae[Fe],ie,de,be)}function ka(U,ie,de){var be=U.r+de.r,Ae=ie.x-U.x,Fe=ie.y-U.y;if(be&&(Ae||Fe)){var We=ie.r+de.r,$e=Ae*Ae+Fe*Fe,Qe=.5+((be*=be)-(We*=We))/(2*$e),tt=Math.sqrt(Math.max(0,2*We*(be+$e)-(be-=$e)*be-We*We))/(2*$e);de.x=U.x+Qe*Ae+tt*Fe,de.y=U.y+Qe*Fe-tt*Ae}else de.x=U.x+be,de.y=U.y}function us(U,ie){return U.parent==ie.parent?1:2}function Qo(U){var ie=U.children;return ie.length?ie[0]:U.t}function si(U){var ie,de=U.children;return(ie=de.length)?de[ie-1]:U.t}function qi(U,ie,de){var be=de/(ie.i-U.i);ie.c-=be,ie.s+=de,U.c+=be,ie.z+=de,ie.m+=de}function cl(U,ie,de){return U.a.parent===ie.parent?U.a:de}function ul(U){var ie=U.children;return ie&&ie.length?ul(ie[0]):U}function Sc(U){var ie,de=U.children;return de&&(ie=de.length)?Sc(de[ie-1]):U}function zl(U){return{x:U.x,y:U.y,dx:U.dx,dy:U.dy}}function ds(U,ie){var de=U.x+ie[3],be=U.y+ie[0],Ae=U.dx-ie[1]-ie[3],Fe=U.dy-ie[0]-ie[2];return Ae<0&&(de+=Ae/2,Ae=0),Fe<0&&(be+=Fe/2,Fe=0),{x:de,y:be,dx:Ae,dy:Fe}}function ua(U){var ie=U[0],de=U[U.length-1];return ie<de?[ie,de]:[de,ie]}function Bl(U){return U.rangeExtent?U.rangeExtent():ua(U.range())}function da(U,ie,de,be){var Ae=de(U[0],U[1]),Fe=be(ie[0],ie[1]);return function(We){return Fe(Ae(We))}}function ma(U,ie){var de,be=0,Ae=U.length-1,Fe=U[be],We=U[Ae];return We<Fe&&(de=be,be=Ae,Ae=de,de=Fe,Fe=We,We=de),U[be]=ie.floor(Fe),U[Ae]=ie.ceil(We),U}function So(U){return U?{floor:function(ie){return Math.floor(ie/U)*U},ceil:function(ie){return Math.ceil(ie/U)*U}}:Bs}d.layout.histogram=function(){var U=!0,ie=Number,de=zs,be=qo;function Ae(Fe,We){for(var $e,Qe,tt=[],lt=Fe.map(ie,this),yt=de.call(this,lt,We),Mt=be.call(this,yt,lt,We),Bt=(We=-1,lt.length),Ut=Mt.length-1,jt=U?1:1/Bt;++We<Ut;)($e=tt[We]=[]).dx=Mt[We+1]-($e.x=Mt[We]),$e.y=0;if(Ut>0)for(We=-1;++We<Bt;)(Qe=lt[We])>=yt[0]&&Qe<=yt[1]&&(($e=tt[d.bisect(Mt,Qe,1,Ut)-1]).y+=jt,$e.push(Fe[We]));return tt}return Ae.value=function(Fe){return arguments.length?(ie=Fe,Ae):ie},Ae.range=function(Fe){return arguments.length?(de=Zn(Fe),Ae):de},Ae.bins=function(Fe){return arguments.length?(be="number"==typeof Fe?function(We){return uc(We,Fe)}:Zn(Fe),Ae):be},Ae.frequency=function(Fe){return arguments.length?(U=!!Fe,Ae):U},Ae},d.layout.pack=function(){var U,ie=d.layout.hierarchy().sort(Mi),de=0,be=[1,1];function Ae(Fe,We){var $e=ie.call(this,Fe,We),Qe=$e[0],tt=be[0],lt=be[1],yt=null==U?Math.sqrt:"function"==typeof U?U:function(){return U};if(Qe.x=Qe.y=0,Si(Qe,function(Bt){Bt.r=+yt(Bt.value)}),Si(Qe,bs),de){var Mt=de*(U?1:Math.max(2*Qe.r/tt,2*Qe.r/lt))/2;Si(Qe,function(Bt){Bt.r+=Mt}),Si(Qe,bs),Si(Qe,function(Bt){Bt.r-=Mt})}return Pi(Qe,tt/2,lt/2,U?1:1/Math.max(2*Qe.r/tt,2*Qe.r/lt)),$e}return Ae.size=function(Fe){return arguments.length?(be=Fe,Ae):be},Ae.radius=function(Fe){return arguments.length?(U=null==Fe||"function"==typeof Fe?Fe:+Fe,Ae):U},Ae.padding=function(Fe){return arguments.length?(de=+Fe,Ae):de},Vr(Ae,ie)},d.layout.tree=function(){var U=d.layout.hierarchy().sort(null).value(null),ie=us,de=[1,1],be=null;function Ae(Qe,tt){var lt=U.call(this,Qe,tt),yt=lt[0],Mt=function(sn){for(var tn,Sn={A:null,children:[sn]},Dn=[Sn];null!=(tn=Dn.pop());)for(var qn,Qn=tn.children,sr=0,pr=Qn.length;sr<pr;++sr)Dn.push((Qn[sr]=qn={_:Qn[sr],parent:tn,children:(qn=Qn[sr].children)&&qn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:sr}).a=qn);return Sn.children[0]}(yt);if(Si(Mt,Fe),Mt.parent.m=-Mt.z,pa(Mt,We),be)pa(yt,$e);else{var Bt=yt,Ut=yt,jt=yt;pa(yt,function(sn){sn.x<Bt.x&&(Bt=sn),sn.x>Ut.x&&(Ut=sn),sn.depth>jt.depth&&(jt=sn)});var Xt=ie(Bt,Ut)/2-Bt.x,Vt=de[0]/(Ut.x+ie(Ut,Bt)/2+Xt),pn=de[1]/(jt.depth||1);pa(yt,function(sn){sn.x=(sn.x+Xt)*Vt,sn.y=sn.depth*pn})}return lt}function Fe(Qe){var tt=Qe.children,lt=Qe.parent.children,yt=Qe.i?lt[Qe.i-1]:null;if(tt.length){!function(Bt){for(var Ut,jt=0,Xt=0,Vt=Bt.children,pn=Vt.length;--pn>=0;)(Ut=Vt[pn]).z+=jt,Ut.m+=jt,jt+=Ut.s+(Xt+=Ut.c)}(Qe);var Mt=(tt[0].z+tt[tt.length-1].z)/2;yt?(Qe.z=yt.z+ie(Qe._,yt._),Qe.m=Qe.z-Mt):Qe.z=Mt}else yt&&(Qe.z=yt.z+ie(Qe._,yt._));Qe.parent.A=function(Bt,Ut,jt){if(Ut){for(var Xt,Vt=Bt,pn=Bt,sn=Ut,tn=Vt.parent.children[0],Sn=Vt.m,Dn=pn.m,qn=sn.m,Qn=tn.m;sn=si(sn),Vt=Qo(Vt),sn&&Vt;)tn=Qo(tn),(pn=si(pn)).a=Bt,(Xt=sn.z+qn-Vt.z-Sn+ie(sn._,Vt._))>0&&(qi(cl(sn,Bt,jt),Bt,Xt),Sn+=Xt,Dn+=Xt),qn+=sn.m,Sn+=Vt.m,Qn+=tn.m,Dn+=pn.m;sn&&!si(pn)&&(pn.t=sn,pn.m+=qn-Dn),Vt&&!Qo(tn)&&(tn.t=Vt,tn.m+=Sn-Qn,jt=Bt)}return jt}(Qe,yt,Qe.parent.A||lt[0])}function We(Qe){Qe._.x=Qe.z+Qe.parent.m,Qe.m+=Qe.parent.m}function $e(Qe){Qe.x*=de[0],Qe.y=Qe.depth*de[1]}return Ae.separation=function(Qe){return arguments.length?(ie=Qe,Ae):ie},Ae.size=function(Qe){return arguments.length?(be=null==(de=Qe)?$e:null,Ae):be?null:de},Ae.nodeSize=function(Qe){return arguments.length?(be=null==(de=Qe)?null:$e,Ae):be?de:null},Vr(Ae,U)},d.layout.cluster=function(){var U=d.layout.hierarchy().sort(null).value(null),ie=us,de=[1,1],be=!1;function Ae(Fe,We){var $e,Qe=U.call(this,Fe,We),tt=Qe[0],lt=0;Si(tt,function(jt){var Vt,Xt=jt.children;Xt&&Xt.length?(jt.x=(Vt=Xt).reduce(function(pn,sn){return pn+sn.x},0)/Vt.length,jt.y=function(Vt){return 1+d.max(Vt,function(pn){return pn.y})}(Xt)):(jt.x=$e?lt+=ie(jt,$e):0,jt.y=0,$e=jt)});var yt=ul(tt),Mt=Sc(tt),Bt=yt.x-ie(yt,Mt)/2,Ut=Mt.x+ie(Mt,yt)/2;return Si(tt,be?function(jt){jt.x=(jt.x-tt.x)*de[0],jt.y=(tt.y-jt.y)*de[1]}:function(jt){jt.x=(jt.x-Bt)/(Ut-Bt)*de[0],jt.y=(1-(tt.y?jt.y/tt.y:1))*de[1]}),Qe}return Ae.separation=function(Fe){return arguments.length?(ie=Fe,Ae):ie},Ae.size=function(Fe){return arguments.length?(be=null==(de=Fe),Ae):be?null:de},Ae.nodeSize=function(Fe){return arguments.length?(be=null!=(de=Fe),Ae):be?de:null},Vr(Ae,U)},d.layout.treemap=function(){var U,ie=d.layout.hierarchy(),de=Math.round,be=[1,1],Ae=null,Fe=zl,We=!1,$e="squarify",Qe=.5*(1+Math.sqrt(5));function tt(jt,Xt){for(var Vt,pn,sn=-1,tn=jt.length;++sn<tn;)pn=(Vt=jt[sn]).value*(Xt<0?0:Xt),Vt.area=isNaN(pn)||pn<=0?0:pn}function lt(jt){var Xt=jt.children;if(Xt&&Xt.length){var Vt,pn,sn,tn=Fe(jt),Sn=[],Dn=Xt.slice(),qn=1/0,Qn="slice"===$e?tn.dx:"dice"===$e?tn.dy:"slice-dice"===$e?1&jt.depth?tn.dy:tn.dx:Math.min(tn.dx,tn.dy);for(tt(Dn,tn.dx*tn.dy/jt.value),Sn.area=0;(sn=Dn.length)>0;)Sn.push(Vt=Dn[sn-1]),Sn.area+=Vt.area,"squarify"!==$e||(pn=Mt(Sn,Qn))<=qn?(Dn.pop(),qn=pn):(Sn.area-=Sn.pop().area,Bt(Sn,Qn,tn,!1),Qn=Math.min(tn.dx,tn.dy),Sn.length=Sn.area=0,qn=1/0);Sn.length&&(Bt(Sn,Qn,tn,!0),Sn.length=Sn.area=0),Xt.forEach(lt)}}function yt(jt){var Xt=jt.children;if(Xt&&Xt.length){var Vt,pn=Fe(jt),sn=Xt.slice(),tn=[];for(tt(sn,pn.dx*pn.dy/jt.value),tn.area=0;Vt=sn.pop();)tn.push(Vt),tn.area+=Vt.area,null!=Vt.z&&(Bt(tn,Vt.z?pn.dx:pn.dy,pn,!sn.length),tn.length=tn.area=0);Xt.forEach(yt)}}function Mt(jt,Xt){for(var Vt,pn=jt.area,sn=0,tn=1/0,Sn=-1,Dn=jt.length;++Sn<Dn;)(Vt=jt[Sn].area)&&(Vt<tn&&(tn=Vt),Vt>sn&&(sn=Vt));return Xt*=Xt,(pn*=pn)?Math.max(Xt*sn*Qe/pn,pn/(Xt*tn*Qe)):1/0}function Bt(jt,Xt,Vt,pn){var sn,tn=-1,Sn=jt.length,Dn=Vt.x,qn=Vt.y,Qn=Xt?de(jt.area/Xt):0;if(Xt==Vt.dx){for((pn||Qn>Vt.dy)&&(Qn=Vt.dy);++tn<Sn;)(sn=jt[tn]).x=Dn,sn.y=qn,sn.dy=Qn,Dn+=sn.dx=Math.min(Vt.x+Vt.dx-Dn,Qn?de(sn.area/Qn):0);sn.z=!0,sn.dx+=Vt.x+Vt.dx-Dn,Vt.y+=Qn,Vt.dy-=Qn}else{for((pn||Qn>Vt.dx)&&(Qn=Vt.dx);++tn<Sn;)(sn=jt[tn]).x=Dn,sn.y=qn,sn.dx=Qn,qn+=sn.dy=Math.min(Vt.y+Vt.dy-qn,Qn?de(sn.area/Qn):0);sn.z=!1,sn.dy+=Vt.y+Vt.dy-qn,Vt.x+=Qn,Vt.dx-=Qn}}function Ut(jt){var Xt=U||ie(jt),Vt=Xt[0];return Vt.x=Vt.y=0,Vt.value?(Vt.dx=be[0],Vt.dy=be[1]):Vt.dx=Vt.dy=0,U&&ie.revalue(Vt),tt([Vt],Vt.dx*Vt.dy/Vt.value),(U?yt:lt)(Vt),We&&(U=Xt),Xt}return Ut.size=function(jt){return arguments.length?(be=jt,Ut):be},Ut.padding=function(jt){if(!arguments.length)return Ae;var Vt;return Fe=null==(Ae=jt)?zl:"function"==(Vt=typeof jt)?function(pn){var sn=jt.call(Ut,pn,pn.depth);return null==sn?zl(pn):ds(pn,"number"==typeof sn?[sn,sn,sn,sn]:sn)}:("number"===Vt&&(jt=[jt,jt,jt,jt]),function Xt(pn){return ds(pn,jt)}),Ut},Ut.round=function(jt){return arguments.length?(de=jt?Math.round:Number,Ut):de!=Number},Ut.sticky=function(jt){return arguments.length?(We=jt,U=null,Ut):We},Ut.ratio=function(jt){return arguments.length?(Qe=jt,Ut):Qe},Ut.mode=function(jt){return arguments.length?($e=jt+"",Ut):$e},Vr(Ut,ie)},d.random={normal:function(U,ie){var de=arguments.length;return de<2&&(ie=1),de<1&&(U=0),function(){var be,Ae,Fe;do{Fe=(be=2*Math.random()-1)*be+(Ae=2*Math.random()-1)*Ae}while(!Fe||Fe>1);return U+ie*be*Math.sqrt(-2*Math.log(Fe)/Fe)}},logNormal:function(){var U=d.random.normal.apply(d,arguments);return function(){return Math.exp(U())}},bates:function(U){var ie=d.random.irwinHall(U);return function(){return ie()/U}},irwinHall:function(U){return function(){for(var ie=0,de=0;de<U;de++)ie+=Math.random();return ie}}},d.scale={};var Bs={floor:N,ceil:N};function dl(U,ie,de,be){var Ae=[],Fe=[],We=0,$e=Math.min(U.length,ie.length)-1;for(U[$e]<U[0]&&(U=U.slice().reverse(),ie=ie.slice().reverse());++We<=$e;)Ae.push(de(U[We-1],U[We])),Fe.push(be(ie[We-1],ie[We]));return function(Qe){var tt=d.bisect(U,Qe,1,$e)-1;return Fe[tt](Ae[tt](Qe))}}function so(U,ie,de,be){var Ae,Fe;function We(){var Qe=Math.min(U.length,ie.length)>2?dl:da,tt=be?ac:Tl;return Ae=Qe(U,ie,tt,de),Fe=Qe(ie,U,tt,tl),$e}function $e(Qe){return Ae(Qe)}return $e.invert=function(Qe){return Fe(Qe)},$e.domain=function(Qe){return arguments.length?(U=Qe.map(Number),We()):U},$e.range=function(Qe){return arguments.length?(ie=Qe,We()):ie},$e.rangeRound=function(Qe){return $e.range(Qe).interpolate(il)},$e.clamp=function(Qe){return arguments.length?(be=Qe,We()):be},$e.interpolate=function(Qe){return arguments.length?(de=Qe,We()):de},$e.ticks=function(Qe){return Oa(U,Qe)},$e.tickFormat=function(Qe,tt){return d3_scale_linearTickFormat(U,Qe,tt)},$e.nice=function(Qe){return Ea(U,Qe),We()},$e.copy=function(){return so(U,ie,de,be)},We()}function Sa(U,ie){return d.rebind(U,ie,"range","rangeRound","interpolate","clamp")}function Ea(U,ie){return ma(U,So(ea(U,ie)[2])),ma(U,So(ea(U,ie)[2])),U}function ea(U,ie){null==ie&&(ie=10);var de=ua(U),be=de[1]-de[0],Ae=Math.pow(10,Math.floor(Math.log(be/ie)/Math.LN10)),Fe=ie/be*Ae;return Fe<=.15?Ae*=10:Fe<=.35?Ae*=5:Fe<=.75&&(Ae*=2),de[0]=Math.ceil(de[0]/Ae)*Ae,de[1]=Math.floor(de[1]/Ae)*Ae+.5*Ae,de[2]=Ae,de}function Oa(U,ie){return d.range.apply(d,ea(U,ie))}function hc(U,ie,de,be){function Ae($e){return(de?Math.log($e<0?0:$e):-Math.log($e>0?0:-$e))/Math.log(ie)}function Fe($e){return de?Math.pow(ie,$e):-Math.pow(ie,-$e)}function We($e){return U(Ae($e))}return We.invert=function($e){return Fe(U.invert($e))},We.domain=function($e){return arguments.length?(de=$e[0]>=0,U.domain((be=$e.map(Number)).map(Ae)),We):be},We.base=function($e){return arguments.length?(ie=+$e,U.domain(be.map(Ae)),We):ie},We.nice=function(){var $e=ma(be.map(Ae),de?Math:fl);return U.domain($e),be=$e.map(Fe),We},We.ticks=function(){var $e=ua(be),Qe=[],tt=$e[0],lt=$e[1],yt=Math.floor(Ae(tt)),Mt=Math.ceil(Ae(lt)),Bt=ie%1?2:ie;if(isFinite(Mt-yt)){if(de){for(;yt<Mt;yt++)for(var Ut=1;Ut<Bt;Ut++)Qe.push(Fe(yt)*Ut);Qe.push(Fe(yt))}else for(Qe.push(Fe(yt));yt++<Mt;)for(Ut=Bt-1;Ut>0;Ut--)Qe.push(Fe(yt)*Ut);for(yt=0;Qe[yt]<tt;yt++);for(Mt=Qe.length;Qe[Mt-1]>lt;Mt--);Qe=Qe.slice(yt,Mt)}return Qe},We.copy=function(){return hc(U.copy(),ie,de,be)},Sa(We,U)}d.scale.linear=function(){return so([0,1],[0,1],tl,!1)},d.scale.log=function(){return hc(d.scale.linear().domain([0,1]),10,!0,[1,10])};var fl={floor:function(U){return-Math.ceil(-U)},ceil:function(U){return-Math.floor(-U)}};function ga(U,ie,de){var be=ws(ie),Ae=ws(1/ie);function Fe(We){return U(be(We))}return Fe.invert=function(We){return Ae(U.invert(We))},Fe.domain=function(We){return arguments.length?(U.domain((de=We.map(Number)).map(be)),Fe):de},Fe.ticks=function(We){return Oa(de,We)},Fe.tickFormat=function(We,$e){return d3_scale_linearTickFormat(de,We,$e)},Fe.nice=function(We){return Fe.domain(Ea(de,We))},Fe.exponent=function(We){return arguments.length?(be=ws(ie=We),Ae=ws(1/ie),U.domain(de.map(be)),Fe):ie},Fe.copy=function(){return ga(U.copy(),ie,de)},Sa(Fe,U)}function ws(U){return function(ie){return ie<0?-Math.pow(-ie,U):Math.pow(ie,U)}}function js(U,ie){var de,be,Ae;function Fe($e){return be[((de.get($e)||("range"===ie.t?de.set($e,U.push($e)):NaN))-1)%be.length]}function We($e,Qe){return d.range(U.length).map(function(tt){return $e+Qe*tt})}return Fe.domain=function($e){if(!arguments.length)return U;U=[],de=new w;for(var Qe,tt=-1,lt=$e.length;++tt<lt;)de.has(Qe=$e[tt])||de.set(Qe,U.push(Qe));return Fe[ie.t].apply(Fe,ie.a)},Fe.range=function($e){return arguments.length?(be=$e,Ae=0,ie={t:"range",a:arguments},Fe):be},Fe.rangePoints=function($e,Qe){arguments.length<2&&(Qe=0);var tt=$e[0],lt=$e[1],yt=U.length<2?(tt=(tt+lt)/2,0):(lt-tt)/(U.length-1+Qe);return be=We(tt+yt*Qe/2,yt),Ae=0,ie={t:"rangePoints",a:arguments},Fe},Fe.rangeRoundPoints=function($e,Qe){arguments.length<2&&(Qe=0);var tt=$e[0],lt=$e[1],yt=U.length<2?(tt=lt=Math.round((tt+lt)/2),0):(lt-tt)/(U.length-1+Qe)|0;return be=We(tt+Math.round(yt*Qe/2+(lt-tt-(U.length-1+Qe)*yt)/2),yt),Ae=0,ie={t:"rangeRoundPoints",a:arguments},Fe},Fe.rangeBands=function($e,Qe,tt){arguments.length<2&&(Qe=0),arguments.length<3&&(tt=Qe);var lt=$e[1]<$e[0],yt=$e[lt-0],Mt=($e[1-lt]-yt)/(U.length-Qe+2*tt);return be=We(yt+Mt*tt,Mt),lt&&be.reverse(),Ae=Mt*(1-Qe),ie={t:"rangeBands",a:arguments},Fe},Fe.rangeRoundBands=function($e,Qe,tt){arguments.length<2&&(Qe=0),arguments.length<3&&(tt=Qe);var lt=$e[1]<$e[0],yt=$e[lt-0],Mt=$e[1-lt],Bt=Math.floor((Mt-yt)/(U.length-Qe+2*tt));return be=We(yt+Math.round((Mt-yt-(U.length-Qe)*Bt)/2),Bt),lt&&be.reverse(),Ae=Math.round(Bt*(1-Qe)),ie={t:"rangeRoundBands",a:arguments},Fe},Fe.rangeBand=function(){return Ae},Fe.rangeExtent=function(){return ua(ie.a[0])},Fe.copy=function(){return js(U,ie)},Fe.domain(U)}d.scale.pow=function(){return ga(d.scale.linear(),1,[0,1])},d.scale.sqrt=function(){return d.scale.pow().exponent(.5)},d.scale.ordinal=function(){return js([],{t:"range",a:[[]]})},d.scale.category10=function(){return d.scale.ordinal().range(xu)},d.scale.category20=function(){return d.scale.ordinal().range(Vs)},d.scale.category20b=function(){return d.scale.ordinal().range(va)},d.scale.category20c=function(){return d.scale.ordinal().range(Xr)};var xu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(en),Vs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(en),va=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(en),Xr=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(en);function Pa(U,ie){var de;function be(){var Fe=0,We=ie.length;for(de=[];++Fe<We;)de[Fe-1]=d.quantile(U,Fe/We);return Ae}function Ae(Fe){if(!isNaN(Fe=+Fe))return ie[d.bisect(de,Fe)]}return Ae.domain=function(Fe){return arguments.length?(U=Fe.map(g).filter(h).sort(f),be()):U},Ae.range=function(Fe){return arguments.length?(ie=Fe,be()):ie},Ae.quantiles=function(){return de},Ae.invertExtent=function(Fe){return(Fe=ie.indexOf(Fe))<0?[NaN,NaN]:[Fe>0?de[Fe-1]:U[0],Fe<de.length?de[Fe]:U[U.length-1]]},Ae.copy=function(){return Pa(U,ie)},be()}function eu(U,ie,de){var be,Ae;function Fe($e){return de[Math.max(0,Math.min(Ae,Math.floor(be*($e-U))))]}function We(){return be=de.length/(ie-U),Ae=de.length-1,Fe}return Fe.domain=function($e){return arguments.length?(U=+$e[0],ie=+$e[$e.length-1],We()):[U,ie]},Fe.range=function($e){return arguments.length?(de=$e,We()):de},Fe.invertExtent=function($e){return[$e=($e=de.indexOf($e))<0?NaN:$e/be+U,$e+1/be]},Fe.copy=function(){return eu(U,ie,de)},We()}function _u(U,ie){function de(be){if(be<=be)return ie[d.bisect(U,be)]}return de.domain=function(be){return arguments.length?(U=be,de):U},de.range=function(be){return arguments.length?(ie=be,de):ie},de.invertExtent=function(be){return be=ie.indexOf(be),[U[be-1],U[be]]},de.copy=function(){return _u(U,ie)},de}function jl(U){function ie(de){return+de}return ie.invert=ie,ie.domain=ie.range=function(de){return arguments.length?(U=de.map(ie),ie):U},ie.ticks=function(de){return Oa(U,de)},ie.tickFormat=function(de,be){return d3_scale_linearTickFormat(U,de,be)},ie.copy=function(){return jl(U)},ie}function Vl(){return 0}d.scale.quantile=function(){return Pa([],[])},d.scale.quantize=function(){return eu(0,1,[0,1])},d.scale.threshold=function(){return _u([.5],[0,1])},d.scale.identity=function(){return jl([0,1])},d.svg={},d.svg.arc=function(){var U=qr,ie=hl,de=Vl,be=Ul,Ae=Ts,Fe=Fc,We=Qi;function $e(){var tt=Math.max(0,+U.apply(this,arguments)),lt=Math.max(0,+ie.apply(this,arguments)),yt=Ae.apply(this,arguments)-nt,Mt=Fe.apply(this,arguments)-nt,Bt=Math.abs(Mt-yt),Ut=yt>Mt?0:1;if(lt<tt&&(jt=lt,lt=tt,tt=jt),Bt>=zt)return Qe(lt,Ut)+(tt?Qe(tt,1-Ut):"")+"Z";var jt,Xt,Vt,pn,sn,tn,Sn,Dn,qn,Qn,sr,pr,Cr=0,Mr=0,Or=[];if((pn=(+We.apply(this,arguments)||0)/2)&&(Vt=be===Ul?Math.sqrt(tt*tt+lt*lt):+be.apply(this,arguments),Ut||(Mr*=-1),lt&&(Mr=rt(Vt/lt*Math.sin(pn))),tt&&(Cr=rt(Vt/tt*Math.sin(pn)))),lt){sn=lt*Math.cos(yt+Mr),tn=lt*Math.sin(yt+Mr),Sn=lt*Math.cos(Mt-Mr),Dn=lt*Math.sin(Mt-Mr);var Ur=Math.abs(Mt-yt-2*Mr)<=Ot?0:1;if(Mr&&Ms(sn,tn,Sn,Dn)===Ut^Ur){var li=(yt+Mt)/2;sn=lt*Math.cos(li),tn=lt*Math.sin(li),Sn=Dn=null}}else sn=tn=0;if(tt){qn=tt*Math.cos(Mt-Cr),Qn=tt*Math.sin(Mt-Cr),sr=tt*Math.cos(yt+Cr),pr=tt*Math.sin(yt+Cr);var nr=Math.abs(yt-Mt+2*Cr)<=Ot?0:1;if(Cr&&Ms(qn,Qn,sr,pr)===1-Ut^nr){var wr=(yt+Mt)/2;qn=tt*Math.cos(wr),Qn=tt*Math.sin(wr),sr=pr=null}}else qn=Qn=0;if(Bt>Et&&(jt=Math.min(Math.abs(lt-tt)/2,+de.apply(this,arguments)))>.001){Xt=tt<lt^Ut?0:1;var Pr=jt,Wr=jt;if(Bt<Ot){var ti=null==sr?[qn,Qn]:null==Sn?[sn,tn]:Ft([sn,tn],[sr,pr],[Sn,Dn],[qn,Qn]),di=sn-ti[0],Oi=tn-ti[1],to=Sn-ti[0],go=Dn-ti[1],Do=1/Math.sin(Math.acos((di*to+Oi*go)/(Math.sqrt(di*di+Oi*Oi)*Math.sqrt(to*to+go*go)))/2),Zi=Math.sqrt(ti[0]*ti[0]+ti[1]*ti[1]);Wr=Math.min(jt,(tt-Zi)/(Do-1)),Pr=Math.min(jt,(lt-Zi)/(Do+1))}if(null!=Sn){var Bo=As(null==sr?[qn,Qn]:[sr,pr],[sn,tn],lt,Pr,Ut),ba=As([Sn,Dn],[qn,Qn],lt,Pr,Ut);jt===Pr?Or.push("M",Bo[0],"A",Pr,",",Pr," 0 0,",Xt," ",Bo[1],"A",lt,",",lt," 0 ",1-Ut^Ms(Bo[1][0],Bo[1][1],ba[1][0],ba[1][1]),",",Ut," ",ba[1],"A",Pr,",",Pr," 0 0,",Xt," ",ba[0]):Or.push("M",Bo[0],"A",Pr,",",Pr," 0 1,",Xt," ",ba[0])}else Or.push("M",sn,",",tn);if(null!=sr){var ia=As([sn,tn],[sr,pr],tt,-Wr,Ut),Zo=As([qn,Qn],null==Sn?[sn,tn]:[Sn,Dn],tt,-Wr,Ut);jt===Wr?Or.push("L",Zo[0],"A",Wr,",",Wr," 0 0,",Xt," ",Zo[1],"A",tt,",",tt," 0 ",Ut^Ms(Zo[1][0],Zo[1][1],ia[1][0],ia[1][1]),",",1-Ut," ",ia[1],"A",Wr,",",Wr," 0 0,",Xt," ",ia[0]):Or.push("L",Zo[0],"A",Wr,",",Wr," 0 0,",Xt," ",ia[0])}else Or.push("L",qn,",",Qn)}else Or.push("M",sn,",",tn),null!=Sn&&Or.push("A",lt,",",lt," 0 ",Ur,",",Ut," ",Sn,",",Dn),Or.push("L",qn,",",Qn),null!=sr&&Or.push("A",tt,",",tt," 0 ",nr,",",1-Ut," ",sr,",",pr);return Or.push("Z"),Or.join("")}function Qe(tt,lt){return"M0,"+tt+"A"+tt+","+tt+" 0 1,"+lt+" 0,"+-tt+"A"+tt+","+tt+" 0 1,"+lt+" 0,"+tt}return $e.innerRadius=function(tt){return arguments.length?(U=Zn(tt),$e):U},$e.outerRadius=function(tt){return arguments.length?(ie=Zn(tt),$e):ie},$e.cornerRadius=function(tt){return arguments.length?(de=Zn(tt),$e):de},$e.padRadius=function(tt){return arguments.length?(be=tt==Ul?Ul:Zn(tt),$e):be},$e.startAngle=function(tt){return arguments.length?(Ae=Zn(tt),$e):Ae},$e.endAngle=function(tt){return arguments.length?(Fe=Zn(tt),$e):Fe},$e.padAngle=function(tt){return arguments.length?(We=Zn(tt),$e):We},$e.centroid=function(){var tt=(+U.apply(this,arguments)+ +ie.apply(this,arguments))/2,lt=(+Ae.apply(this,arguments)+ +Fe.apply(this,arguments))/2-nt;return[Math.cos(lt)*tt,Math.sin(lt)*tt]},$e};var Ul="auto";function qr(U){return U.innerRadius}function hl(U){return U.outerRadius}function Ts(U){return U.startAngle}function Fc(U){return U.endAngle}function Qi(U){return U&&U.padAngle}function Ms(U,ie,de,be){return(U-de)*ie-(ie-be)*U>0?0:1}function As(U,ie,de,be,Ae){var Fe=U[0]-ie[0],We=U[1]-ie[1],$e=(Ae?be:-be)/Math.sqrt(Fe*Fe+We*We),Qe=$e*We,tt=-$e*Fe,lt=U[0]+Qe,yt=U[1]+tt,Mt=ie[0]+Qe,Bt=ie[1]+tt,Ut=(lt+Mt)/2,jt=(yt+Bt)/2,Xt=Mt-lt,Vt=Bt-yt,pn=Xt*Xt+Vt*Vt,sn=de-be,tn=lt*Bt-Mt*yt,Sn=(Vt<0?-1:1)*Math.sqrt(Math.max(0,sn*sn*pn-tn*tn)),Dn=(tn*Vt-Xt*Sn)/pn,qn=(-tn*Xt-Vt*Sn)/pn,Qn=(tn*Vt+Xt*Sn)/pn,sr=(-tn*Xt+Vt*Sn)/pn,pr=Dn-Ut,Cr=qn-jt,Mr=Qn-Ut,Or=sr-jt;return pr*pr+Cr*Cr>Mr*Mr+Or*Or&&(Dn=Qn,qn=sr),[[Dn-Qe,qn-tt],[Dn*de/sn,qn*de/sn]]}function fs(){return!0}function Us(U){var ie=cr,de=Kn,be=fs,Ae=ta,Fe=Ae.key,We=.7;function $e(Qe){var tt,lt=[],yt=[],Mt=-1,Bt=Qe.length,Ut=Zn(ie),jt=Zn(de);function Xt(){lt.push("M",Ae(U(yt),We))}for(;++Mt<Bt;)be.call(this,tt=Qe[Mt],Mt)?yt.push([+Ut.call(this,tt,Mt),+jt.call(this,tt,Mt)]):yt.length&&(Xt(),yt=[]);return yt.length&&Xt(),lt.length?lt.join(""):null}return $e.x=function(Qe){return arguments.length?(ie=Qe,$e):ie},$e.y=function(Qe){return arguments.length?(de=Qe,$e):de},$e.defined=function(Qe){return arguments.length?(be=Qe,$e):be},$e.interpolate=function(Qe){return arguments.length?(Fe="function"==typeof Qe?Ae=Qe:(Ae=pl.get(Qe)||ta).key,$e):Fe},$e.tension=function(Qe){return arguments.length?(We=Qe,$e):We},$e}d.svg.line=function(){return Us(N)};var pl=d.map({linear:ta,"linear-closed":El,step:function(U){for(var ie=0,de=U.length,be=U[0],Ae=[be[0],",",be[1]];++ie<de;)Ae.push("H",(be[0]+(be=U[ie])[0])/2,"V",be[1]);return de>1&&Ae.push("H",be[0]),Ae.join("")},"step-before":Ec,"step-after":lo,basis:co,"basis-open":function(U){if(U.length<4)return ta(U);for(var ie,de=[],be=-1,Ae=U.length,Fe=[0],We=[0];++be<3;)Fe.push((ie=U[be])[0]),We.push(ie[1]);for(de.push(na(No,Fe)+","+na(No,We)),--be;++be<Ae;)ie=U[be],Fe.shift(),Fe.push(ie[0]),We.shift(),We.push(ie[1]),Wi(de,Fe,We);return de.join("")},"basis-closed":function(U){for(var ie,de,be=-1,Ae=U.length,Fe=Ae+4,We=[],$e=[];++be<4;)We.push((de=U[be%Ae])[0]),$e.push(de[1]);for(ie=[na(No,We),",",na(No,$e)],--be;++be<Fe;)de=U[be%Ae],We.shift(),We.push(de[0]),$e.shift(),$e.push(de[1]),Wi(ie,We,$e);return ie.join("")},bundle:function(U,ie){var de=U.length-1;if(de)for(var be,Ae,Fe=U[0][0],We=U[0][1],$e=U[de][0]-Fe,Qe=U[de][1]-We,tt=-1;++tt<=de;)(be=U[tt])[0]=ie*be[0]+(1-ie)*(Fe+(Ae=tt/de)*$e),be[1]=ie*be[1]+(1-ie)*(We+Ae*Qe);return co(U)},cardinal:function(U,ie){return U.length<3?ta(U):U[0]+eo(U,Cc(U,ie))},"cardinal-open":function(U,ie){return U.length<4?ta(U):U[1]+eo(U.slice(1,-1),Cc(U,ie))},"cardinal-closed":function(U,ie){return U.length<3?El(U):U[0]+eo((U.push(U[0]),U),Cc([U[U.length-2]].concat(U,[U[1]]),ie))},monotone:function(U){return U.length<3?ta(U):U[0]+eo(U,function(ie){for(var de,be,Ae,Fe,We=[],$e=function(lt){for(var yt=0,Mt=lt.length-1,Bt=[],Ut=lt[0],jt=lt[1],Xt=Bt[0]=ya(Ut,jt);++yt<Mt;)Bt[yt]=(Xt+(Xt=ya(Ut=jt,jt=lt[yt+1])))/2;return Bt[yt]=Xt,Bt}(ie),Qe=-1,tt=ie.length-1;++Qe<tt;)de=ya(ie[Qe],ie[Qe+1]),b(de)<Et?$e[Qe]=$e[Qe+1]=0:(Fe=(be=$e[Qe]/de)*be+(Ae=$e[Qe+1]/de)*Ae)>9&&(Fe=3*de/Math.sqrt(Fe),$e[Qe]=Fe*be,$e[Qe+1]=Fe*Ae);for(Qe=-1;++Qe<=tt;)Fe=(ie[Math.min(tt,Qe+1)][0]-ie[Math.max(0,Qe-1)][0])/(6*(1+$e[Qe]*$e[Qe])),We.push([Fe||0,$e[Qe]*Fe||0]);return We}(U))}});function ta(U){return U.length>1?U.join("L"):U+"Z"}function El(U){return U.join("L")+"Z"}function Ec(U){for(var ie=0,de=U.length,be=U[0],Ae=[be[0],",",be[1]];++ie<de;)Ae.push("V",(be=U[ie])[1],"H",be[0]);return Ae.join("")}function lo(U){for(var ie=0,de=U.length,be=U[0],Ae=[be[0],",",be[1]];++ie<de;)Ae.push("H",(be=U[ie])[0],"V",be[1]);return Ae.join("")}function eo(U,ie){if(ie.length<1||U.length!=ie.length&&U.length!=ie.length+2)return ta(U);var de=U.length!=ie.length,be="",Ae=U[0],Fe=U[1],We=ie[0],$e=We,Qe=1;if(de&&(be+="Q"+(Fe[0]-2*We[0]/3)+","+(Fe[1]-2*We[1]/3)+","+Fe[0]+","+Fe[1],Ae=U[1],Qe=2),ie.length>1){Fe=U[Qe],Qe++,be+="C"+(Ae[0]+We[0])+","+(Ae[1]+We[1])+","+(Fe[0]-($e=ie[1])[0])+","+(Fe[1]-$e[1])+","+Fe[0]+","+Fe[1];for(var tt=2;tt<ie.length;tt++,Qe++)be+="S"+((Fe=U[Qe])[0]-($e=ie[tt])[0])+","+(Fe[1]-$e[1])+","+Fe[0]+","+Fe[1]}if(de){var lt=U[Qe];be+="Q"+(Fe[0]+2*$e[0]/3)+","+(Fe[1]+2*$e[1]/3)+","+lt[0]+","+lt[1]}return be}function Cc(U,ie){for(var de,be=[],Ae=(1-ie)/2,Fe=U[0],We=U[1],$e=1,Qe=U.length;++$e<Qe;)de=Fe,Fe=We,be.push([Ae*((We=U[$e])[0]-de[0]),Ae*(We[1]-de[1])]);return be}function co(U){if(U.length<3)return ta(U);var ie=1,de=U.length,be=U[0],Ae=be[0],Fe=be[1],We=[Ae,Ae,Ae,(be=U[1])[0]],$e=[Fe,Fe,Fe,be[1]],Qe=[Ae,",",Fe,"L",na(No,We),",",na(No,$e)];for(U.push(U[de-1]);++ie<=de;)be=U[ie],We.shift(),We.push(be[0]),$e.shift(),$e.push(be[1]),Wi(Qe,We,$e);return U.pop(),Qe.push("L",be),Qe.join("")}function na(U,ie){return U[0]*ie[0]+U[1]*ie[1]+U[2]*ie[2]+U[3]*ie[3]}pl.forEach(function(U,ie){ie.key=U,ie.closed=/-closed$/.test(U)});var hs=[0,2/3,1/3,0],Ua=[0,1/3,2/3,0],No=[0,1/6,2/3,1/6];function Wi(U,ie,de){U.push("C",na(hs,ie),",",na(hs,de),",",na(Ua,ie),",",na(Ua,de),",",na(No,ie),",",na(No,de))}function ya(U,ie){return(ie[1]-U[1])/(ie[0]-U[0])}function zo(U){for(var ie,de,be,Ae=-1,Fe=U.length;++Ae<Fe;)de=(ie=U[Ae])[0],be=ie[1]-nt,ie[0]=de*Math.cos(be),ie[1]=de*Math.sin(be);return U}function Hs(U){var ie=cr,de=cr,be=0,Ae=Kn,Fe=fs,We=ta,$e=We.key,Qe=We,tt="L",lt=.7;function yt(Mt){var Bt,Ut,jt,Xt=[],Vt=[],pn=[],sn=-1,tn=Mt.length,Sn=Zn(ie),Dn=Zn(be),qn=ie===de?function(){return Ut}:Zn(de),Qn=be===Ae?function(){return jt}:Zn(Ae);function sr(){Xt.push("M",We(U(pn),lt),tt,Qe(U(Vt.reverse()),lt),"Z")}for(;++sn<tn;)Fe.call(this,Bt=Mt[sn],sn)?(Vt.push([Ut=+Sn.call(this,Bt,sn),jt=+Dn.call(this,Bt,sn)]),pn.push([+qn.call(this,Bt,sn),+Qn.call(this,Bt,sn)])):Vt.length&&(sr(),Vt=[],pn=[]);return Vt.length&&sr(),Xt.length?Xt.join(""):null}return yt.x=function(Mt){return arguments.length?(ie=de=Mt,yt):de},yt.x0=function(Mt){return arguments.length?(ie=Mt,yt):ie},yt.x1=function(Mt){return arguments.length?(de=Mt,yt):de},yt.y=function(Mt){return arguments.length?(be=Ae=Mt,yt):Ae},yt.y0=function(Mt){return arguments.length?(be=Mt,yt):be},yt.y1=function(Mt){return arguments.length?(Ae=Mt,yt):Ae},yt.defined=function(Mt){return arguments.length?(Fe=Mt,yt):Fe},yt.interpolate=function(Mt){return arguments.length?($e="function"==typeof Mt?We=Mt:(We=pl.get(Mt)||ta).key,Qe=We.reverse||We,tt=We.closed?"M":"L",yt):$e},yt.tension=function(Mt){return arguments.length?(lt=Mt,yt):lt},yt}function pc(U){return U.source}function Hl(U){return U.target}function Ja(U){return U.radius}function Wo(U){return[U.x,U.y]}function ra(){return 64}function Sr(){return"circle"}function ni(U){var ie=Math.sqrt(U/Ot);return"M0,"+ie+"A"+ie+","+ie+" 0 1,1 0,"+-ie+"A"+ie+","+ie+" 0 1,1 0,"+ie+"Z"}d.svg.line.radial=function(){var U=Us(zo);return U.radius=U.x,delete U.x,U.angle=U.y,delete U.y,U},Ec.reverse=lo,lo.reverse=Ec,d.svg.area=function(){return Hs(N)},d.svg.area.radial=function(){var U=Hs(zo);return U.radius=U.x,delete U.x,U.innerRadius=U.x0,delete U.x0,U.outerRadius=U.x1,delete U.x1,U.angle=U.y,delete U.y,U.startAngle=U.y0,delete U.y0,U.endAngle=U.y1,delete U.y1,U},d.svg.chord=function(){var U=pc,ie=Hl,de=Ja,be=Ts,Ae=Fc;function Fe(tt,lt){var yt,Mt,Bt=We(this,U,tt,lt),Ut=We(this,ie,tt,lt);return"M"+Bt.p0+$e(Bt.r,Bt.p1,Bt.a1-Bt.a0)+((yt=Bt).a0==(Mt=Ut).a0&&yt.a1==Mt.a1?Qe(0,0,0,Bt.p0):Qe(0,0,0,Ut.p0)+$e(Ut.r,Ut.p1,Ut.a1-Ut.a0)+Qe(0,0,0,Bt.p0))+"Z"}function We(tt,lt,yt,Mt){var Bt=lt.call(tt,yt,Mt),Ut=de.call(tt,Bt,Mt),jt=be.call(tt,Bt,Mt)-nt,Xt=Ae.call(tt,Bt,Mt)-nt;return{r:Ut,a0:jt,a1:Xt,p0:[Ut*Math.cos(jt),Ut*Math.sin(jt)],p1:[Ut*Math.cos(Xt),Ut*Math.sin(Xt)]}}function $e(tt,lt,yt){return"A"+tt+","+tt+" 0 "+ +(yt>Ot)+",1 "+lt}function Qe(tt,lt,yt,Mt){return"Q 0,0 "+Mt}return Fe.radius=function(tt){return arguments.length?(de=Zn(tt),Fe):de},Fe.source=function(tt){return arguments.length?(U=Zn(tt),Fe):U},Fe.target=function(tt){return arguments.length?(ie=Zn(tt),Fe):ie},Fe.startAngle=function(tt){return arguments.length?(be=Zn(tt),Fe):be},Fe.endAngle=function(tt){return arguments.length?(Ae=Zn(tt),Fe):Ae},Fe},d.svg.diagonal=function(){var U=pc,ie=Hl,de=Wo;function be(Ae,Fe){var We=U.call(this,Ae,Fe),$e=ie.call(this,Ae,Fe),Qe=(We.y+$e.y)/2,tt=[We,{x:We.x,y:Qe},{x:$e.x,y:Qe},$e];return"M"+(tt=tt.map(de))[0]+"C"+tt[1]+" "+tt[2]+" "+tt[3]}return be.source=function(Ae){return arguments.length?(U=Zn(Ae),be):U},be.target=function(Ae){return arguments.length?(ie=Zn(Ae),be):ie},be.projection=function(Ae){return arguments.length?(de=Ae,be):de},be},d.svg.diagonal.radial=function(){var U=d.svg.diagonal(),ie=Wo,de=U.projection;return U.projection=function(be){return arguments.length?de((Ae=ie=be,function(){var Fe=Ae.apply(this,arguments),We=Fe[0],$e=Fe[1]-nt;return[We*Math.cos($e),We*Math.sin($e)]})):ie;var Ae},U},d.svg.symbol=function(){var U=Sr,ie=ra;function de(be,Ae){return(Nc.get(U.call(this,be,Ae))||ni)(ie.call(this,be,Ae))}return de.type=function(be){return arguments.length?(U=Zn(be),de):U},de.size=function(be){return arguments.length?(ie=Zn(be),de):ie},de};var Nc=d.map({circle:ni,cross:function(U){var ie=Math.sqrt(U/5)/2;return"M"+-3*ie+","+-ie+"H"+-ie+"V"+-3*ie+"H"+ie+"V"+-ie+"H"+3*ie+"V"+ie+"H"+ie+"V"+3*ie+"H"+-ie+"V"+ie+"H"+-3*ie+"Z"},diamond:function(U){var ie=Math.sqrt(U/(2*Gl)),de=ie*Gl;return"M0,"+-ie+"L"+de+",0 0,"+ie+" "+-de+",0Z"},square:function(U){var ie=Math.sqrt(U)/2;return"M"+-ie+","+-ie+"L"+ie+","+-ie+" "+ie+","+ie+" "+-ie+","+ie+"Z"},"triangle-down":function(U){var ie=Math.sqrt(U/Ra),de=ie*Ra/2;return"M0,"+de+"L"+ie+","+-de+" "+-ie+","+-de+"Z"},"triangle-up":function(U){var ie=Math.sqrt(U/Ra),de=ie*Ra/2;return"M0,"+-de+"L"+ie+","+de+" "+-ie+","+de+"Z"}});d.svg.symbolTypes=Nc.keys();var Ra=Math.sqrt(3),Gl=Math.tan(30*it);ke.transition=function(U){for(var ie,de,be=ql||++Po,Ae=Wl(U),Fe=[],We=kr||{time:Date.now(),ease:Fs,delay:0,duration:250},$e=-1,Qe=this.length;++$e<Qe;){Fe.push(ie=[]);for(var tt=this[$e],lt=-1,yt=tt.length;++lt<yt;)(de=tt[lt])&&ml(de,lt,Ae,be,We),ie.push(de)}return _a(Fe,Ae,be)},ke.interrupt=function(U){return this.each(null==U?xa:mc(Wl(U)))};var xa=mc(Wl());function mc(U){return function(){var ie,de,be;(ie=this[U])&&(be=ie[de=ie.active])&&(be.timer.c=null,be.timer.t=NaN,--ie.count?delete ie[de]:delete this[U],ie.active+=.5,be.event&&be.event.interrupt.call(this,this.__data__,be.index))}}function _a(U,ie,de){return oe(U,Nr),U.namespace=ie,U.id=de,U}var ql,kr,Nr=[],Po=0;function Qa(U,ie,de,be){var Ae=U.id,Fe=U.namespace;return Ce(U,"function"==typeof de?function(We,$e,Qe){We[Fe][Ae].tween.set(ie,be(de.call(We,We.__data__,$e,Qe)))}:(de=be(de),function(We){We[Fe][Ae].tween.set(ie,de)}))}function uo(U){return null==U&&(U=""),function(){this.textContent=U}}function Wl(U){return null==U?"__transition__":"__transition_"+U+"__"}function ml(U,ie,de,be,Ae){var Fe,We,$e,Qe,tt,lt=U[de]||(U[de]={active:0,count:0}),yt=lt[be];function Mt(Ut){var jt=lt.active,Xt=lt[jt];for(var Vt in Xt&&(Xt.timer.c=null,Xt.timer.t=NaN,--lt.count,delete lt[jt],Xt.event&&Xt.event.interrupt.call(U,U.__data__,Xt.index)),lt)if(+Vt<be){var pn=lt[Vt];pn.timer.c=null,pn.timer.t=NaN,--lt.count,delete lt[Vt]}We.c=Bt,qt(function(){return We.c&&Bt(Ut||1)&&(We.c=null,We.t=NaN),1},0,Fe),lt.active=be,yt.event&&yt.event.start.call(U,U.__data__,ie),tt=[],yt.tween.forEach(function(sn,tn){(tn=tn.call(U,U.__data__,ie))&&tt.push(tn)}),Qe=yt.ease,$e=yt.duration}function Bt(Ut){for(var jt=Ut/$e,Xt=Qe(jt),Vt=tt.length;Vt>0;)tt[--Vt].call(U,Xt);if(jt>=1)return yt.event&&yt.event.end.call(U,U.__data__,ie),--lt.count?delete lt[be]:delete U[de],1}yt||(We=qt(function(Ut){var jt=yt.delay;if(We.t=jt+Fe,jt<=Ut)return Mt(Ut-jt);We.c=Mt},0,Fe=Ae.time),yt=lt[be]={tween:new w,time:Fe,timer:We,delay:Ae.delay,duration:Ae.duration,ease:Ae.ease,index:ie},Ae=null,++lt.count)}Nr.call=ke.call,Nr.empty=ke.empty,Nr.node=ke.node,Nr.size=ke.size,d.transition=function(U,ie){return U&&U.transition?ql?U.transition(ie):U:d.selection().transition(U)},d.transition.prototype=Nr,Nr.select=function(U){var ie,de,be,Ae=this.id,Fe=this.namespace,We=[];U=Ie(U);for(var $e=-1,Qe=this.length;++$e<Qe;){We.push(ie=[]);for(var tt=this[$e],lt=-1,yt=tt.length;++lt<yt;)(be=tt[lt])&&(de=U.call(be,be.__data__,lt,$e))?("__data__"in be&&(de.__data__=be.__data__),ml(de,lt,Fe,Ae,be[Fe][Ae]),ie.push(de)):ie.push(null)}return _a(We,Fe,Ae)},Nr.selectAll=function(U){var ie,de,be,Ae,Fe,We=this.id,$e=this.namespace,Qe=[];U=Me(U);for(var tt=-1,lt=this.length;++tt<lt;)for(var yt=this[tt],Mt=-1,Bt=yt.length;++Mt<Bt;)if(be=yt[Mt]){Fe=be[$e][We],de=U.call(be,be.__data__,Mt,tt),Qe.push(ie=[]);for(var Ut=-1,jt=de.length;++Ut<jt;)(Ae=de[Ut])&&ml(Ae,Ut,$e,We,Fe),ie.push(Ae)}return _a(Qe,$e,We)},Nr.filter=function(U){var ie,de,be=[];"function"!=typeof U&&(U=xe(U));for(var Ae=0,Fe=this.length;Ae<Fe;Ae++){be.push(ie=[]);for(var We,$e=0,Qe=(We=this[Ae]).length;$e<Qe;$e++)(de=We[$e])&&U.call(de,de.__data__,$e,Ae)&&ie.push(de)}return _a(be,this.namespace,this.id)},Nr.tween=function(U,ie){var de=this.id,be=this.namespace;return arguments.length<2?this.node()[be][de].tween.get(U):Ce(this,null==ie?function(Ae){Ae[be][de].tween.remove(U)}:function(Ae){Ae[be][de].tween.set(U,ie)})},Nr.attr=function(U,ie){if(arguments.length<2){for(ie in U)this.attr(ie,U[ie]);return this}var de="transform"==U?ol:tl,be=d.ns.qualify(U);function Ae(){this.removeAttribute(be)}function Fe(){this.removeAttributeNS(be.space,be.local)}return Qa(this,"attr."+U,ie,be.local?function(We){return null==We?Fe:(We+="",function(){var $e,Qe=this.getAttributeNS(be.space,be.local);return Qe!==We&&($e=de(Qe,We),function(tt){this.setAttributeNS(be.space,be.local,$e(tt))})})}:function(We){return null==We?Ae:(We+="",function(){var $e,Qe=this.getAttribute(be);return Qe!==We&&($e=de(Qe,We),function(tt){this.setAttribute(be,$e(tt))})})})},Nr.attrTween=function(U,ie){var de=d.ns.qualify(U);return this.tween("attr."+U,de.local?function(be,Ae){var Fe=ie.call(this,be,Ae,this.getAttributeNS(de.space,de.local));return Fe&&function(We){this.setAttributeNS(de.space,de.local,Fe(We))}}:function(be,Ae){var Fe=ie.call(this,be,Ae,this.getAttribute(de));return Fe&&function(We){this.setAttribute(de,Fe(We))}})},Nr.style=function(U,ie,de){var be=arguments.length;if(be<3){if("string"!=typeof U){for(de in be<2&&(ie=""),U)this.style(de,U[de],ie);return this}de=""}function Ae(){this.style.removeProperty(U)}return Qa(this,"style."+U,ie,function(Fe){return null==Fe?Ae:(Fe+="",function(){var We,$e=i(this).getComputedStyle(this,null).getPropertyValue(U);return $e!==Fe&&(We=tl($e,Fe),function(Qe){this.style.setProperty(U,We(Qe),de)})})})},Nr.styleTween=function(U,ie,de){return arguments.length<3&&(de=""),this.tween("style."+U,function(be,Ae){var Fe=ie.call(this,be,Ae,i(this).getComputedStyle(this,null).getPropertyValue(U));return Fe&&function(We){this.style.setProperty(U,Fe(We),de)}})},Nr.text=function(U){return Qa(this,"text",U,uo)},Nr.remove=function(){var U=this.namespace;return this.each("end.transition",function(){var ie;this[U].count<2&&(ie=this.parentNode)&&ie.removeChild(this)})},Nr.ease=function(U){var ie=this.id,de=this.namespace;return arguments.length<1?this.node()[de][ie].ease:("function"!=typeof U&&(U=d.ease.apply(d,arguments)),Ce(this,function(be){be[de][ie].ease=U}))},Nr.delay=function(U){var ie=this.id,de=this.namespace;return arguments.length<1?this.node()[de][ie].delay:Ce(this,"function"==typeof U?function(be,Ae,Fe){be[de][ie].delay=+U.call(be,be.__data__,Ae,Fe)}:(U=+U,function(be){be[de][ie].delay=U}))},Nr.duration=function(U){var ie=this.id,de=this.namespace;return arguments.length<1?this.node()[de][ie].duration:Ce(this,"function"==typeof U?function(be,Ae,Fe){be[de][ie].duration=Math.max(1,U.call(be,be.__data__,Ae,Fe))}:(U=Math.max(1,U),function(be){be[de][ie].duration=U}))},Nr.each=function(U,ie){var de=this.id,be=this.namespace;if(arguments.length<2){var Ae=kr,Fe=ql;try{ql=de,Ce(this,function(We,$e,Qe){kr=We[be][de],U.call(We,We.__data__,$e,Qe)})}finally{kr=Ae,ql=Fe}}else Ce(this,function(We){var $e=We[be][de];($e.event||($e.event=d.dispatch("start","end","interrupt"))).on(U,ie)});return this},Nr.transition=function(){for(var U,ie,de,be=this.id,Ae=++Po,Fe=this.namespace,We=[],$e=0,Qe=this.length;$e<Qe;$e++){We.push(U=[]);for(var tt,lt=0,yt=(tt=this[$e]).length;lt<yt;lt++)(ie=tt[lt])&&ml(ie,lt,Fe,Ae,{time:(de=ie[Fe][be]).time,ease:de.ease,delay:de.delay+de.duration,duration:de.duration}),U.push(ie)}return _a(We,Fe,Ae)},d.svg.axis=function(){var U,ie=d.scale.linear(),de=Fa,be=6,Ae=6,Fe=3,We=[10],$e=null;function Qe(tt){tt.each(function(){var lt,yt=d.select(this),Mt=this.__chart__||ie,Bt=this.__chart__=ie.copy(),Ut=$e??(Bt.ticks?Bt.ticks.apply(Bt,We):Bt.domain()),jt=U??(Bt.tickFormat?Bt.tickFormat.apply(Bt,We):N),Xt=yt.selectAll(".tick").data(Ut,Bt),Vt=Xt.enter().insert("g",".domain").attr("class","tick").style("opacity",Et),pn=d.transition(Xt.exit()).style("opacity",Et).remove(),sn=d.transition(Xt.order()).style("opacity",1),tn=Math.max(be,0)+Fe,Sn=Bl(Bt),Dn=yt.selectAll(".domain").data([0]),qn=(Dn.enter().append("path").attr("class","domain"),d.transition(Dn));Vt.append("line"),Vt.append("text");var Qn,sr,pr,Cr,Mr=Vt.select("line"),Or=sn.select("line"),Ur=Xt.select("text").text(jt),li=Vt.select("text"),nr=sn.select("text"),wr="top"===de||"left"===de?-1:1;if("bottom"===de||"top"===de?(lt=V,Qn="x",pr="y",sr="x2",Cr="y2",Ur.attr("dy",wr<0?"0em":".71em").style("text-anchor","middle"),qn.attr("d","M"+Sn[0]+","+wr*Ae+"V0H"+Sn[1]+"V"+wr*Ae)):(lt=Y,Qn="y",pr="x",sr="y2",Cr="x2",Ur.attr("dy",".32em").style("text-anchor",wr<0?"end":"start"),qn.attr("d","M"+wr*Ae+","+Sn[0]+"H0V"+Sn[1]+"H"+wr*Ae)),Mr.attr(Cr,wr*be),li.attr(pr,wr*tn),Or.attr(sr,0).attr(Cr,wr*be),nr.attr(Qn,0).attr(pr,wr*tn),Bt.rangeBand){var Pr=Bt,Wr=Pr.rangeBand()/2;Mt=Bt=function(ti){return Pr(ti)+Wr}}else Mt.rangeBand?Mt=Bt:pn.call(lt,Bt,Mt);Vt.call(lt,Mt,Bt),sn.call(lt,Bt,Bt)})}return Qe.scale=function(tt){return arguments.length?(ie=tt,Qe):ie},Qe.orient=function(tt){return arguments.length?(de=tt in Gs?tt+"":Fa,Qe):de},Qe.ticks=function(){return arguments.length?(We=M(arguments),Qe):We},Qe.tickValues=function(tt){return arguments.length?($e=tt,Qe):$e},Qe.tickFormat=function(tt){return arguments.length?(U=tt,Qe):U},Qe.tickSize=function(tt){var lt=arguments.length;return lt?(be=+tt,Ae=+arguments[lt-1],Qe):be},Qe.innerTickSize=function(tt){return arguments.length?(be=+tt,Qe):be},Qe.outerTickSize=function(tt){return arguments.length?(Ae=+tt,Qe):Ae},Qe.tickPadding=function(tt){return arguments.length?(Fe=+tt,Qe):Fe},Qe.tickSubdivide=function(){return arguments.length&&Qe},Qe};var Fa="bottom",Gs={top:1,right:1,bottom:1,left:1};function V(U,ie,de){U.attr("transform",function(be){var Ae=ie(be);return"translate("+(isFinite(Ae)?Ae:de(be))+",0)"})}function Y(U,ie,de){U.attr("transform",function(be){var Ae=ie(be);return"translate(0,"+(isFinite(Ae)?Ae:de(be))+")"})}d.svg.brush=function(){var U,ie,de=Q(lt,"brushstart","brush","brushend"),be=null,Ae=null,Fe=[0,0],We=[0,0],$e=!0,Qe=!0,tt=te[0];function lt(jt){jt.each(function(){var Xt=d.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ut).on("touchstart.brush",Ut),Vt=Xt.selectAll(".background").data([0]);Vt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Xt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var pn=Xt.selectAll(".resize").data(tt,N);pn.exit().remove(),pn.enter().append("g").attr("class",function(Dn){return"resize "+Dn}).style("cursor",function(Dn){return W[Dn]}).append("rect").attr("x",function(Dn){return/[ew]$/.test(Dn)?-3:null}).attr("y",function(Dn){return/^[ns]/.test(Dn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),pn.style("display",lt.empty()?"none":null);var sn,tn=d.transition(Xt),Sn=d.transition(Vt);be&&(sn=Bl(be),Sn.attr("x",sn[0]).attr("width",sn[1]-sn[0]),Mt(tn)),Ae&&(sn=Bl(Ae),Sn.attr("y",sn[0]).attr("height",sn[1]-sn[0]),Bt(tn)),yt(tn)})}function yt(jt){jt.selectAll(".resize").attr("transform",function(Xt){return"translate("+Fe[+/e$/.test(Xt)]+","+We[+/^s/.test(Xt)]+")"})}function Mt(jt){jt.select(".extent").attr("x",Fe[0]),jt.selectAll(".extent,.n>rect,.s>rect").attr("width",Fe[1]-Fe[0])}function Bt(jt){jt.select(".extent").attr("y",We[0]),jt.selectAll(".extent,.e>rect,.w>rect").attr("height",We[1]-We[0])}function Ut(){var jt,Xt,Vt=this,pn=d.select(d.event.target),sn=de.of(Vt,arguments),tn=d.select(Vt),Sn=pn.datum(),Dn=!/^(n|s)$/.test(Sn)&&be,qn=!/^(e|w)$/.test(Sn)&&Ae,Qn=pn.classed("extent"),sr=St(Vt),pr=d.mouse(Vt),Cr=d.select(i(Vt)).on("keydown.brush",function(){32==d.event.keyCode&&(Qn||(jt=null,pr[0]-=Fe[1],pr[1]-=We[1],Qn=2),ne())}).on("keyup.brush",function(){32==d.event.keyCode&&2==Qn&&(pr[0]+=Fe[1],pr[1]+=We[1],Qn=0,ne())});if(d.event.changedTouches?Cr.on("touchmove.brush",Ur).on("touchend.brush",nr):Cr.on("mousemove.brush",Ur).on("mouseup.brush",nr),tn.interrupt().selectAll("*").interrupt(),Qn)pr[0]=Fe[0]-pr[0],pr[1]=We[0]-pr[1];else if(Sn){var Mr=+/w$/.test(Sn),Or=+/^n/.test(Sn);Xt=[Fe[1-Mr]-pr[0],We[1-Or]-pr[1]],pr[0]=Fe[Mr],pr[1]=We[Or]}else d.event.altKey&&(jt=pr.slice());function Ur(){var wr=d.mouse(Vt),Pr=!1;Xt&&(wr[0]+=Xt[0],wr[1]+=Xt[1]),Qn||(d.event.altKey?(jt||(jt=[(Fe[0]+Fe[1])/2,(We[0]+We[1])/2]),pr[0]=Fe[+(wr[0]<jt[0])],pr[1]=We[+(wr[1]<jt[1])]):jt=null),Dn&&li(wr,be,0)&&(Mt(tn),Pr=!0),qn&&li(wr,Ae,1)&&(Bt(tn),Pr=!0),Pr&&(yt(tn),sn({type:"brush",mode:Qn?"move":"resize"}))}function li(wr,Pr,Wr){var ti,di,Oi=Bl(Pr),to=Oi[0],go=Oi[1],Do=pr[Wr],Zi=Wr?We:Fe,Bo=Zi[1]-Zi[0];if(Qn&&(to-=Do,go-=Bo+Do),ti=(Wr?Qe:$e)?Math.max(to,Math.min(go,wr[Wr])):wr[Wr],Qn?di=(ti+=Do)+Bo:(jt&&(Do=Math.max(to,Math.min(go,2*jt[Wr]-ti))),Do<ti?(di=ti,ti=Do):di=Do),Zi[0]!=ti||Zi[1]!=di)return Wr?ie=null:U=null,Zi[0]=ti,Zi[1]=di,!0}function nr(){Ur(),tn.style("pointer-events","all").selectAll(".resize").style("display",lt.empty()?"none":null),d.select("body").style("cursor",null),Cr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),sr(),sn({type:"brushend"})}tn.style("pointer-events","none").selectAll(".resize").style("display",null),d.select("body").style("cursor",pn.style("cursor")),sn({type:"brushstart"}),Ur()}return lt.event=function(jt){jt.each(function(){var Xt=de.of(this,arguments),Vt={x:Fe,y:We,i:U,j:ie},pn=this.__chart__||Vt;this.__chart__=Vt,ql?d.select(this).transition().each("start.brush",function(){U=pn.i,ie=pn.j,Fe=pn.x,We=pn.y,Xt({type:"brushstart"})}).tween("brush:brush",function(){var sn=Ho(Fe,Vt.x),tn=Ho(We,Vt.y);return U=ie=null,function(Sn){Fe=Vt.x=sn(Sn),We=Vt.y=tn(Sn),Xt({type:"brush",mode:"resize"})}}).each("end.brush",function(){U=Vt.i,ie=Vt.j,Xt({type:"brush",mode:"resize"}),Xt({type:"brushend"})}):(Xt({type:"brushstart"}),Xt({type:"brush",mode:"resize"}),Xt({type:"brushend"}))})},lt.x=function(jt){return arguments.length?(tt=te[!(be=jt)<<1|!Ae],lt):be},lt.y=function(jt){return arguments.length?(tt=te[!be<<1|!(Ae=jt)],lt):Ae},lt.clamp=function(jt){return arguments.length?(be&&Ae?($e=!!jt[0],Qe=!!jt[1]):be?$e=!!jt:Ae&&(Qe=!!jt),lt):be&&Ae?[$e,Qe]:be?$e:Ae?Qe:null},lt.extent=function(jt){var Xt,Vt,pn,sn,tn;return arguments.length?(be&&(Xt=jt[0],Vt=jt[1],Ae&&(Xt=Xt[0],Vt=Vt[0]),U=[Xt,Vt],be.invert&&(Xt=be(Xt),Vt=be(Vt)),Vt<Xt&&(tn=Xt,Xt=Vt,Vt=tn),Xt==Fe[0]&&Vt==Fe[1]||(Fe=[Xt,Vt])),Ae&&(pn=jt[0],sn=jt[1],be&&(pn=pn[1],sn=sn[1]),ie=[pn,sn],Ae.invert&&(pn=Ae(pn),sn=Ae(sn)),sn<pn&&(tn=pn,pn=sn,sn=tn),pn==We[0]&&sn==We[1]||(We=[pn,sn])),lt):(be&&(U?(Xt=U[0],Vt=U[1]):(Xt=Fe[0],Vt=Fe[1],be.invert&&(Xt=be.invert(Xt),Vt=be.invert(Vt)),Vt<Xt&&(tn=Xt,Xt=Vt,Vt=tn))),Ae&&(ie?(pn=ie[0],sn=ie[1]):(pn=We[0],sn=We[1],Ae.invert&&(pn=Ae.invert(pn),sn=Ae.invert(sn)),sn<pn&&(tn=pn,pn=sn,sn=tn))),be&&Ae?[[Xt,pn],[Vt,sn]]:be?[Xt,Vt]:Ae&&[pn,sn])},lt.clear=function(){return lt.empty()||(Fe=[0,0],We=[0,0],U=ie=null),lt},lt.empty=function(){return!!be&&Fe[0]==Fe[1]||!!Ae&&We[0]==We[1]},d.rebind(lt,de,"on")};var W={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},te=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function ye(U){return JSON.parse(U.responseText)}function Le(U){var ie=v.createRange();return ie.selectNode(v.body),ie.createContextualFragment(U.responseText)}d.text=mr(function(U){return U.responseText}),d.json=function(U,ie){return lr(U,"application/json",ye,ie)},d.html=function(U,ie){return lr(U,"text/html",Le,ie)},d.xml=mr(function(U){return U.responseXML}),void 0===(E="function"==typeof(D=d)?D.call(B,r,B,ae):D)||(ae.exports=E)}).apply(self)},88294:function(ae,B,r){"use strict";ae.exports=r(62849)},62849:function(ae,B,r){"use strict";var D=r(91358),E=r(53435),d=r(18863),S=r(21527),M=r(71299),v=r(46775),u=r(30120),i=r(64941),s=r(90660),a=r(27084);function o(l,c){for(var f=c[0],g=c[1],h=1/(c[2]-f),T=1/(c[3]-g),x=new Array(l.length),m=0,b=l.length/2;m<b;m++)x[2*m]=E((l[2*m]-f)*h,0,1),x[2*m+1]=E((l[2*m+1]-g)*T,0,1);return x}ae.exports=function(l,c){c||(c={}),l=u(l,"float64"),c=M(c,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var f=v(c.maxDepth,255),g=v(c.bounds,S(l,2));g[0]===g[2]&&g[2]++,g[1]===g[3]&&g[3]++;var h,T=o(l,g),x=l.length>>>1;c.dtype||(c.dtype="array"),"string"==typeof c.dtype?h=new(s(c.dtype))(x):c.dtype&&(h=c.dtype,Array.isArray(h)&&(h.length=x));for(var m=0;m<x;++m)h[m]=m;var b=[],_=[],w=[],A=[];!function j(X,N,q,G,H,Z){if(!G.length)return null;var $=b[H]||(b[H]=[]),se=w[H]||(w[H]=[]),ne=_[H]||(_[H]=[]),re=$.length;if(++H>f||Z>1073741824){for(var Q=0;Q<G.length;Q++)$.push(G[Q]),se.push(Z),ne.push(null,null,null,null);return re}if($.push(G[0]),se.push(Z),G.length<=1)return ne.push(null,null,null,null),re;for(var ee=.5*q,oe=X+ee,ce=N+ee,ue=[],he=[],ve=[],ke=[],Ie=1,Me=G.length;Ie<Me;Ie++){var _e=G[Ie],ze=T[2*_e+1];T[2*_e]<oe?ze<ce?ue.push(_e):he.push(_e):ze<ce?ve.push(_e):ke.push(_e)}return ne.push(j(X,N,ee,ue,H,Z<<=2),j(X,ce,ee,he,H,Z+1),j(oe,N,ee,ve,H,Z+2),j(oe,ce,ee,ke,H,Z+3)),re}(0,0,1,h,0,1);for(var p=0,I=0;I<b.length;I++){var k=b[I];if(h.set)h.set(k,p);else for(var L=0,O=k.length;L<O;L++)h[L+p]=k[L];var P=p+b[I].length;A[I]=[p,P],p=P}return h.range=function(){for(var j,X=[],N=arguments.length;N--;)X[N]=arguments[N];if(i(X[X.length-1])){var q=X.pop();X.length||null==q.x&&null==q.l&&null==q.left||(X=[q],j={}),j=M(q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};X.length||(X=g);var G,H=d.apply(void 0,X),Z=[Math.min(H.x,H.x+H.width),Math.min(H.y,H.y+H.height),Math.max(H.x,H.x+H.width),Math.max(H.y,H.y+H.height)],$=Z[0],se=Z[1],ne=Z[2],re=Z[3],Q=o([$,se,ne,re],g),ee=Q[0],oe=Q[1],ce=Q[2],ue=Q[3],he=v(j.level,b.length);if(null!=j.d&&("number"==typeof j.d?G=[j.d,j.d]:j.d.length&&(G=j.d),he=Math.min(Math.max(Math.ceil(-a(Math.abs(G[0])/(g[2]-g[0]))),Math.ceil(-a(Math.abs(G[1])/(g[3]-g[1])))),he)),he=Math.min(he,b.length),j.lod)return function(ke,Ie,Me,_e,we){for(var ze=[],Ee=0;Ee<we;Ee++){var Se=w[Ee],me=A[Ee][0],fe=F(ke,Ie,Ee),le=F(Me,_e,Ee),Te=D.ge(Se,fe),Re=D.gt(Se,le,Te,Se.length-1);ze[Ee]=[Te+me,Re+me]}return ze}(ee,oe,ce,ue,he);var ve=[];return function ke(Ie,Me,_e,we,ze,Ee){if(null!==ze&&null!==Ee&&!(ee>Ie+_e||oe>Me+_e||ce<Ie||ue<Me||we>=he||ze===Ee)){var Se=b[we];void 0===Ee&&(Ee=Se.length);for(var me=ze;me<Ee;me++){var fe=Se[me],le=l[2*fe],Te=l[2*fe+1];le>=$&&le<=ne&&Te>=se&&Te<=re&&ve.push(fe)}var Re=_[we],De=Re[4*ze+0],Ue=Re[4*ze+1],Ze=Re[4*ze+2],xe=Re[4*ze+3],Oe=function(qe,He){for(var Je=null,et=0;null===Je;)if(Je=qe[4*He+et],++et>qe.length)return null;return Je}(Re,ze+1),Ce=.5*_e,Be=we+1;ke(Ie,Me,Ce,Be,De,Ue||Ze||xe||Oe),ke(Ie,Me+Ce,Ce,Be,Ue,Ze||xe||Oe),ke(Ie+Ce,Me,Ce,Be,Ze,xe||Oe),ke(Ie+Ce,Me+Ce,Ce,Be,xe,Oe)}}(0,0,1,0,0,1),ve},h;function F(j,X,N){for(var q=1,G=.5,H=.5,Z=.5,$=0;$<N;$++)q<<=2,q+=j<G?X<H?0:1:X<H?2:3,Z*=.5,G+=j<G?-Z:Z,H+=X<H?-Z:Z;return q}}},30774:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(60302),E=6378137;function d(v){var u=0;if(v&&v.length>0){u+=Math.abs(S(v[0]));for(var i=1;i<v.length;i++)u-=Math.abs(S(v[i]))}return u}function S(v){var u,i,s,a,o,l,c=0,f=v.length;if(f>2){for(l=0;l<f;l++)l===f-2?(s=f-2,a=f-1,o=0):l===f-1?(s=f-1,a=0,o=1):(s=l,a=l+1,o=l+2),u=v[s],i=v[a],c+=(M(v[o][0])-M(u[0]))*Math.sin(M(i[1]));c=c*E*E/2}return c}function M(v){return v*Math.PI/180}B.default=function(v){return D.geomReduce(v,function(u,i){return u+function(s){var a,o=0;switch(s.type){case"Polygon":return d(s.coordinates);case"MultiPolygon":for(a=0;a<s.coordinates.length;a++)o+=d(s.coordinates[a]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(i)},0)}},23132:function(ae,B){"use strict";function r(l,c,f){void 0===f&&(f={});var g={type:"Feature"};return(0===f.id||f.id)&&(g.id=f.id),f.bbox&&(g.bbox=f.bbox),g.properties=c||{},g.geometry=l,g}function D(l,c,f){if(void 0===f&&(f={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},c,f)}function E(l,c,f){void 0===f&&(f={});for(var g=0,h=l;g<h.length;g++){var T=h[g];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var x=0;x<T[T.length-1].length;x++)if(T[T.length-1][x]!==T[0][x])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},c,f)}function d(l,c,f){if(void 0===f&&(f={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},c,f)}function S(l,c){void 0===c&&(c={});var f={type:"FeatureCollection"};return c.id&&(f.id=c.id),c.bbox&&(f.bbox=c.bbox),f.features=l,f}function M(l,c,f){return void 0===f&&(f={}),r({type:"MultiLineString",coordinates:l},c,f)}function v(l,c,f){return void 0===f&&(f={}),r({type:"MultiPoint",coordinates:l},c,f)}function u(l,c,f){return void 0===f&&(f={}),r({type:"MultiPolygon",coordinates:l},c,f)}function i(l,c){void 0===c&&(c="kilometers");var f=B.factors[c];if(!f)throw new Error(c+" units is invalid");return l*f}function s(l,c){void 0===c&&(c="kilometers");var f=B.factors[c];if(!f)throw new Error(c+" units is invalid");return l/f}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:1.0936*B.earthRadius},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,c,f){switch(void 0===f&&(f={}),l){case"Point":return D(c).geometry;case"LineString":return d(c).geometry;case"Polygon":return E(c).geometry;case"MultiPoint":return v(c).geometry;case"MultiLineString":return M(c).geometry;case"MultiPolygon":return u(c).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return D(g,c)}),f)},B.polygon=E,B.polygons=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return E(g,c)}),f)},B.lineString=d,B.lineStrings=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return d(g,c)}),f)},B.featureCollection=S,B.multiLineString=M,B.multiPoint=v,B.multiPolygon=u,B.geometryCollection=function(l,c,f){return void 0===f&&(f={}),r({type:"GeometryCollection",geometries:l},c,f)},B.round=function(l,c){if(void 0===c&&(c=0),c&&!(c>=0))throw new Error("precision must be a positive number");var f=Math.pow(10,c||0);return Math.round(l*f)/f},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,c){return a(s(l,c))},B.bearingToAzimuth=function(l){var c=l%360;return c<0&&(c+=360),c},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,c,f){if(void 0===c&&(c="kilometers"),void 0===f&&(f="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,c),f)},B.convertArea=function(l,c,f){if(void 0===c&&(c="meters"),void 0===f&&(f="kilometers"),!(l>=0))throw new Error("area must be a positive number");var g=B.areaFactors[c];if(!g)throw new Error("invalid original units");var h=B.areaFactors[f];if(!h)throw new Error("invalid final units");return l/g*h},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(c){if(!o(c))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},60302:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(23132);function E(s,a,o){if(null!==s)for(var l,c,f,g,h,T,x,m,b=0,_=0,w=s.type,A="FeatureCollection"===w,p="Feature"===w,I=A?s.features.length:1,k=0;k<I;k++){h=(m=!!(x=A?s.features[k].geometry:p?s.geometry:s)&&"GeometryCollection"===x.type)?x.geometries.length:1;for(var L=0;L<h;L++){var O=0,P=0;if(null!==(g=m?x.geometries[L]:x)){T=g.coordinates;var F=g.type;switch(b=!o||"Polygon"!==F&&"MultiPolygon"!==F?0:1,F){case null:break;case"Point":if(!1===a(T,_,k,O,P))return!1;_++,O++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],_,k,O,P))return!1;_++,"MultiPoint"===F&&O++}"LineString"===F&&O++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(c=0;c<T[l].length-b;c++){if(!1===a(T[l][c],_,k,O,P))return!1;_++}"MultiLineString"===F&&O++,"Polygon"===F&&P++}"Polygon"===F&&O++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(P=0,c=0;c<T[l].length;c++){for(f=0;f<T[l][c].length-b;f++){if(!1===a(T[l][c][f],_,k,O,P))return!1;_++}P++}O++}break;case"GeometryCollection":for(l=0;l<g.geometries.length;l++)if(!1===E(g.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,c,f,g,h,T,x,m,b,_=0,w="FeatureCollection"===s.type,A="Feature"===s.type,p=w?s.features.length:1;for(o=0;o<p;o++){for(x=w?s.features[o].properties:A?s.properties:{},m=w?s.features[o].bbox:A?s.bbox:void 0,b=w?s.features[o].id:A?s.id:void 0,g=(T=!!(h=w?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===h.type)?h.geometries.length:1,c=0;c<g;c++)if(null!==(f=T?h.geometries[c]:h))switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(f,_,x,m,b))return!1;break;case"GeometryCollection":for(l=0;l<f.geometries.length;l++)if(!1===a(f.geometries[l],_,x,m,b))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,_,x,m,b))return!1;_++}}function v(s,a){M(s,function(o,l,c,f,g){var h,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,c,{bbox:f,id:g}),l,0)&&void 0}switch(T){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var x=0;x<o.coordinates.length;x++)if(!1===a(D.feature({type:h,coordinates:o.coordinates[x]},c),l,x))return!1})}function u(s,a){v(s,function(o,l,c){var f=0;if(o.geometry){var g=o.geometry.type;if("Point"!==g&&"MultiPoint"!==g){var h,T=0,x=0,m=0;return!1!==E(o,function(b,_,w,A,p){if(void 0===h||l>T||A>x||p>m)return h=b,T=l,x=A,m=p,void(f=0);var I=D.lineString([h,b],o.properties);if(!1===a(I,l,c,p,f))return!1;f++,h=b})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");v(s,function(o,l,c){if(null!==o.geometry){var g=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,c,0,0))return!1;break;case"Polygon":for(var h=0;h<g.length;h++)if(!1===a(D.lineString(g[h],o.properties),l,c,h))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var c=o;return E(s,function(f,g,h,T,x){c=0===g&&void 0===o?f:a(c,f,g,h,T,x)},l),c},B.propEach=d,B.propReduce=function(s,a,o){var l=o;return d(s,function(c,f){l=0===f&&void 0===o?c:a(l,c,f)}),l},B.featureEach=S,B.featureReduce=function(s,a,o){var l=o;return S(s,function(c,f){l=0===f&&void 0===o?c:a(l,c,f)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(c,f,g,h,T){l=0===f&&void 0===o?c:a(l,c,f,g,h,T)}),l},B.flattenEach=v,B.flattenReduce=function(s,a,o){var l=o;return v(s,function(c,f,g){l=0===f&&0===g&&void 0===o?c:a(l,c,f,g)}),l},B.segmentEach=u,B.segmentReduce=function(s,a,o){var l=o,c=!1;return u(s,function(f,g,h,T,x){l=!1===c&&void 0===o?f:a(l,f,g,h,T,x),c=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(c,f,g,h){l=0===f&&void 0===o?c:a(l,c,f,g,h)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,f=a.geometryIndex||0,g=a.segmentIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=T.length+g-1),D.lineString([T[g],T[g+1]],h,a);case"Polygon":return f<0&&(f=T.length+f),g<0&&(g=T[f].length+g-1),D.lineString([T[f][g],T[f][g+1]],h,a);case"MultiLineString":return c<0&&(c=T.length+c),g<0&&(g=T[c].length+g-1),D.lineString([T[c][g],T[c][g+1]],h,a);case"MultiPolygon":return c<0&&(c=T.length+c),f<0&&(f=T[c].length+f),g<0&&(g=T[c][f].length-g-1),D.lineString([T[c][f][g],T[c][f][g+1]],h,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,f=a.geometryIndex||0,g=a.coordIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,h,a);case"MultiPoint":return c<0&&(c=T.length+c),D.point(T[c],h,a);case"LineString":return g<0&&(g=T.length+g),D.point(T[g],h,a);case"Polygon":return f<0&&(f=T.length+f),g<0&&(g=T[f].length+g),D.point(T[f][g],h,a);case"MultiLineString":return c<0&&(c=T.length+c),g<0&&(g=T[c].length+g),D.point(T[c][g],h,a);case"MultiPolygon":return c<0&&(c=T.length+c),f<0&&(f=T[c].length+f),g<0&&(g=T[c][f].length-g),D.point(T[c][f][g],h,a)}throw new Error("geojson is invalid")}},85268:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(27138);function E(d){var S=[1/0,1/0,-1/0,-1/0];return D.coordEach(d,function(M){S[0]>M[0]&&(S[0]=M[0]),S[1]>M[1]&&(S[1]=M[1]),S[2]<M[0]&&(S[2]=M[0]),S[3]<M[1]&&(S[3]=M[1])}),S}E.default=E,B.default=E},94228:function(ae,B){"use strict";function r(l,c,f){void 0===f&&(f={});var g={type:"Feature"};return(0===f.id||f.id)&&(g.id=f.id),f.bbox&&(g.bbox=f.bbox),g.properties=c||{},g.geometry=l,g}function D(l,c,f){if(void 0===f&&(f={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!o(l[0])||!o(l[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:l},c,f)}function E(l,c,f){void 0===f&&(f={});for(var g=0,h=l;g<h.length;g++){var T=h[g];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var x=0;x<T[T.length-1].length;x++)if(T[T.length-1][x]!==T[0][x])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},c,f)}function d(l,c,f){if(void 0===f&&(f={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},c,f)}function S(l,c){void 0===c&&(c={});var f={type:"FeatureCollection"};return c.id&&(f.id=c.id),c.bbox&&(f.bbox=c.bbox),f.features=l,f}function M(l,c,f){return void 0===f&&(f={}),r({type:"MultiLineString",coordinates:l},c,f)}function v(l,c,f){return void 0===f&&(f={}),r({type:"MultiPoint",coordinates:l},c,f)}function u(l,c,f){return void 0===f&&(f={}),r({type:"MultiPolygon",coordinates:l},c,f)}function i(l,c){void 0===c&&(c="kilometers");var f=B.factors[c];if(!f)throw new Error(c+" units is invalid");return l*f}function s(l,c){void 0===c&&(c="kilometers");var f=B.factors[c];if(!f)throw new Error(c+" units is invalid");return l/f}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:1.0936*B.earthRadius},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,c,f){switch(void 0===f&&(f={}),l){case"Point":return D(c).geometry;case"LineString":return d(c).geometry;case"Polygon":return E(c).geometry;case"MultiPoint":return v(c).geometry;case"MultiLineString":return M(c).geometry;case"MultiPolygon":return u(c).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return D(g,c)}),f)},B.polygon=E,B.polygons=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return E(g,c)}),f)},B.lineString=d,B.lineStrings=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return d(g,c)}),f)},B.featureCollection=S,B.multiLineString=M,B.multiPoint=v,B.multiPolygon=u,B.geometryCollection=function(l,c,f){return void 0===f&&(f={}),r({type:"GeometryCollection",geometries:l},c,f)},B.round=function(l,c){if(void 0===c&&(c=0),c&&!(c>=0))throw new Error("precision must be a positive number");var f=Math.pow(10,c||0);return Math.round(l*f)/f},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,c){return a(s(l,c))},B.bearingToAzimuth=function(l){var c=l%360;return c<0&&(c+=360),c},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,c,f){if(void 0===c&&(c="kilometers"),void 0===f&&(f="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,c),f)},B.convertArea=function(l,c,f){if(void 0===c&&(c="meters"),void 0===f&&(f="kilometers"),!(l>=0))throw new Error("area must be a positive number");var g=B.areaFactors[c];if(!g)throw new Error("invalid original units");var h=B.areaFactors[f];if(!h)throw new Error("invalid final units");return l/g*h},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(c){if(!o(c))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")}},27138:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(94228);function E(s,a,o){if(null!==s)for(var l,c,f,g,h,T,x,m,b=0,_=0,w=s.type,A="FeatureCollection"===w,p="Feature"===w,I=A?s.features.length:1,k=0;k<I;k++){h=(m=!!(x=A?s.features[k].geometry:p?s.geometry:s)&&"GeometryCollection"===x.type)?x.geometries.length:1;for(var L=0;L<h;L++){var O=0,P=0;if(null!==(g=m?x.geometries[L]:x)){T=g.coordinates;var F=g.type;switch(b=!o||"Polygon"!==F&&"MultiPolygon"!==F?0:1,F){case null:break;case"Point":if(!1===a(T,_,k,O,P))return!1;_++,O++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],_,k,O,P))return!1;_++,"MultiPoint"===F&&O++}"LineString"===F&&O++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(c=0;c<T[l].length-b;c++){if(!1===a(T[l][c],_,k,O,P))return!1;_++}"MultiLineString"===F&&O++,"Polygon"===F&&P++}"Polygon"===F&&O++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(P=0,c=0;c<T[l].length;c++){for(f=0;f<T[l][c].length-b;f++){if(!1===a(T[l][c][f],_,k,O,P))return!1;_++}P++}O++}break;case"GeometryCollection":for(l=0;l<g.geometries.length;l++)if(!1===E(g.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,c,f,g,h,T,x,m,b,_=0,w="FeatureCollection"===s.type,A="Feature"===s.type,p=w?s.features.length:1;for(o=0;o<p;o++){for(x=w?s.features[o].properties:A?s.properties:{},m=w?s.features[o].bbox:A?s.bbox:void 0,b=w?s.features[o].id:A?s.id:void 0,g=(T=!!(h=w?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===h.type)?h.geometries.length:1,c=0;c<g;c++)if(null!==(f=T?h.geometries[c]:h))switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(f,_,x,m,b))return!1;break;case"GeometryCollection":for(l=0;l<f.geometries.length;l++)if(!1===a(f.geometries[l],_,x,m,b))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,_,x,m,b))return!1;_++}}function v(s,a){M(s,function(o,l,c,f,g){var h,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,c,{bbox:f,id:g}),l,0)&&void 0}switch(T){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var x=0;x<o.coordinates.length;x++)if(!1===a(D.feature({type:h,coordinates:o.coordinates[x]},c),l,x))return!1})}function u(s,a){v(s,function(o,l,c){var f=0;if(o.geometry){var g=o.geometry.type;if("Point"!==g&&"MultiPoint"!==g){var h,T=0,x=0,m=0;return!1!==E(o,function(b,_,w,A,p){if(void 0===h||l>T||A>x||p>m)return h=b,T=l,x=A,m=p,void(f=0);var I=D.lineString([h,b],o.properties);if(!1===a(I,l,c,p,f))return!1;f++,h=b})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");v(s,function(o,l,c){if(null!==o.geometry){var g=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,c,0,0))return!1;break;case"Polygon":for(var h=0;h<g.length;h++)if(!1===a(D.lineString(g[h],o.properties),l,c,h))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var c=o;return E(s,function(f,g,h,T,x){c=0===g&&void 0===o?f:a(c,f,g,h,T,x)},l),c},B.propEach=d,B.propReduce=function(s,a,o){var l=o;return d(s,function(c,f){l=0===f&&void 0===o?c:a(l,c,f)}),l},B.featureEach=S,B.featureReduce=function(s,a,o){var l=o;return S(s,function(c,f){l=0===f&&void 0===o?c:a(l,c,f)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(c,f,g,h,T){l=0===f&&void 0===o?c:a(l,c,f,g,h,T)}),l},B.flattenEach=v,B.flattenReduce=function(s,a,o){var l=o;return v(s,function(c,f,g){l=0===f&&0===g&&void 0===o?c:a(l,c,f,g)}),l},B.segmentEach=u,B.segmentReduce=function(s,a,o){var l=o,c=!1;return u(s,function(f,g,h,T,x){l=!1===c&&void 0===o?f:a(l,f,g,h,T,x),c=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(c,f,g,h){l=0===f&&void 0===o?c:a(l,c,f,g,h)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,f=a.geometryIndex||0,g=a.segmentIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=T.length+g-1),D.lineString([T[g],T[g+1]],h,a);case"Polygon":return f<0&&(f=T.length+f),g<0&&(g=T[f].length+g-1),D.lineString([T[f][g],T[f][g+1]],h,a);case"MultiLineString":return c<0&&(c=T.length+c),g<0&&(g=T[c].length+g-1),D.lineString([T[c][g],T[c][g+1]],h,a);case"MultiPolygon":return c<0&&(c=T.length+c),f<0&&(f=T[c].length+f),g<0&&(g=T[c][f].length-g-1),D.lineString([T[c][f][g],T[c][f][g+1]],h,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,f=a.geometryIndex||0,g=a.coordIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,h,a);case"MultiPoint":return c<0&&(c=T.length+c),D.point(T[c],h,a);case"LineString":return g<0&&(g=T.length+g),D.point(T[g],h,a);case"Polygon":return f<0&&(f=T.length+f),g<0&&(g=T[f].length+g),D.point(T[f][g],h,a);case"MultiLineString":return c<0&&(c=T.length+c),g<0&&(g=T[c].length+g),D.point(T[c][g],h,a);case"MultiPolygon":return c<0&&(c=T.length+c),f<0&&(f=T[c].length+f),g<0&&(g=T[c][f].length-g),D.point(T[c][f][g],h,a)}throw new Error("geojson is invalid")}},29261:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(88553),E=r(64182);B.default=function(d,S){void 0===S&&(S={});var M=0,v=0,u=0;return D.coordEach(d,function(i){M+=i[0],v+=i[1],u++}),E.point([M/u,v/u],S.properties)}},64182:function(ae,B){"use strict";function r(l,c,f){void 0===f&&(f={});var g={type:"Feature"};return(0===f.id||f.id)&&(g.id=f.id),f.bbox&&(g.bbox=f.bbox),g.properties=c||{},g.geometry=l,g}function D(l,c,f){return void 0===f&&(f={}),r({type:"Point",coordinates:l},c,f)}function E(l,c,f){void 0===f&&(f={});for(var g=0,h=l;g<h.length;g++){var T=h[g];if(T.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var x=0;x<T[T.length-1].length;x++)if(T[T.length-1][x]!==T[0][x])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:l},c,f)}function d(l,c,f){if(void 0===f&&(f={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:l},c,f)}function S(l,c){void 0===c&&(c={});var f={type:"FeatureCollection"};return c.id&&(f.id=c.id),c.bbox&&(f.bbox=c.bbox),f.features=l,f}function M(l,c,f){return void 0===f&&(f={}),r({type:"MultiLineString",coordinates:l},c,f)}function v(l,c,f){return void 0===f&&(f={}),r({type:"MultiPoint",coordinates:l},c,f)}function u(l,c,f){return void 0===f&&(f={}),r({type:"MultiPolygon",coordinates:l},c,f)}function i(l,c){void 0===c&&(c="kilometers");var f=B.factors[c];if(!f)throw new Error(c+" units is invalid");return l*f}function s(l,c){void 0===c&&(c="kilometers");var f=B.factors[c];if(!f)throw new Error(c+" units is invalid");return l/f}function a(l){return l%(2*Math.PI)*180/Math.PI}function o(l){return!isNaN(l)&&null!==l&&!Array.isArray(l)&&!/^\s*$/.test(l)}Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=6371008.8,B.factors={centimeters:100*B.earthRadius,centimetres:100*B.earthRadius,degrees:B.earthRadius/111325,feet:3.28084*B.earthRadius,inches:39.37*B.earthRadius,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:1e3*B.earthRadius,millimetres:1e3*B.earthRadius,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius/1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:.91441111923921},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},B.feature=r,B.geometry=function(l,c,f){switch(void 0===f&&(f={}),l){case"Point":return D(c).geometry;case"LineString":return d(c).geometry;case"Polygon":return E(c).geometry;case"MultiPoint":return v(c).geometry;case"MultiLineString":return M(c).geometry;case"MultiPolygon":return u(c).geometry;default:throw new Error(l+" is invalid")}},B.point=D,B.points=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return D(g,c)}),f)},B.polygon=E,B.polygons=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return E(g,c)}),f)},B.lineString=d,B.lineStrings=function(l,c,f){return void 0===f&&(f={}),S(l.map(function(g){return d(g,c)}),f)},B.featureCollection=S,B.multiLineString=M,B.multiPoint=v,B.multiPolygon=u,B.geometryCollection=function(l,c,f){return void 0===f&&(f={}),r({type:"GeometryCollection",geometries:l},c,f)},B.round=function(l,c){if(void 0===c&&(c=0),c&&!(c>=0))throw new Error("precision must be a positive number");var f=Math.pow(10,c||0);return Math.round(l*f)/f},B.radiansToLength=i,B.lengthToRadians=s,B.lengthToDegrees=function(l,c){return a(s(l,c))},B.bearingToAzimuth=function(l){var c=l%360;return c<0&&(c+=360),c},B.radiansToDegrees=a,B.degreesToRadians=function(l){return l%360*Math.PI/180},B.convertLength=function(l,c,f){if(void 0===c&&(c="kilometers"),void 0===f&&(f="kilometers"),!(l>=0))throw new Error("length must be a positive number");return i(s(l,c),f)},B.convertArea=function(l,c,f){if(void 0===c&&(c="meters"),void 0===f&&(f="kilometers"),!(l>=0))throw new Error("area must be a positive number");var g=B.areaFactors[c];if(!g)throw new Error("invalid original units");var h=B.areaFactors[f];if(!h)throw new Error("invalid final units");return l/g*h},B.isNumber=o,B.isObject=function(l){return!!l&&l.constructor===Object},B.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(4!==l.length&&6!==l.length)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(c){if(!o(c))throw new Error("bbox must only contain numbers")})},B.validateId=function(l){if(!l)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof l))throw new Error("id must be a number or a string")},B.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},B.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},B.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},B.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},B.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},B.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},B.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(ae,B,r){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var D=r(64182);function E(s,a,o){if(null!==s)for(var l,c,f,g,h,T,x,m,b=0,_=0,w=s.type,A="FeatureCollection"===w,p="Feature"===w,I=A?s.features.length:1,k=0;k<I;k++){h=(m=!!(x=A?s.features[k].geometry:p?s.geometry:s)&&"GeometryCollection"===x.type)?x.geometries.length:1;for(var L=0;L<h;L++){var O=0,P=0;if(null!==(g=m?x.geometries[L]:x)){T=g.coordinates;var F=g.type;switch(b=!o||"Polygon"!==F&&"MultiPolygon"!==F?0:1,F){case null:break;case"Point":if(!1===a(T,_,k,O,P))return!1;_++,O++;break;case"LineString":case"MultiPoint":for(l=0;l<T.length;l++){if(!1===a(T[l],_,k,O,P))return!1;_++,"MultiPoint"===F&&O++}"LineString"===F&&O++;break;case"Polygon":case"MultiLineString":for(l=0;l<T.length;l++){for(c=0;c<T[l].length-b;c++){if(!1===a(T[l][c],_,k,O,P))return!1;_++}"MultiLineString"===F&&O++,"Polygon"===F&&P++}"Polygon"===F&&O++;break;case"MultiPolygon":for(l=0;l<T.length;l++){for(P=0,c=0;c<T[l].length;c++){for(f=0;f<T[l][c].length-b;f++){if(!1===a(T[l][c][f],_,k,O,P))return!1;_++}P++}O++}break;case"GeometryCollection":for(l=0;l<g.geometries.length;l++)if(!1===E(g.geometries[l],a,o))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d(s,a){var o;switch(s.type){case"FeatureCollection":for(o=0;o<s.features.length&&!1!==a(s.features[o].properties,o);o++);break;case"Feature":a(s.properties,0)}}function S(s,a){if("Feature"===s.type)a(s,0);else if("FeatureCollection"===s.type)for(var o=0;o<s.features.length&&!1!==a(s.features[o],o);o++);}function M(s,a){var o,l,c,f,g,h,T,x,m,b,_=0,w="FeatureCollection"===s.type,A="Feature"===s.type,p=w?s.features.length:1;for(o=0;o<p;o++){for(x=w?s.features[o].properties:A?s.properties:{},m=w?s.features[o].bbox:A?s.bbox:void 0,b=w?s.features[o].id:A?s.id:void 0,g=(T=!!(h=w?s.features[o].geometry:A?s.geometry:s)&&"GeometryCollection"===h.type)?h.geometries.length:1,c=0;c<g;c++)if(null!==(f=T?h.geometries[c]:h))switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===a(f,_,x,m,b))return!1;break;case"GeometryCollection":for(l=0;l<f.geometries.length;l++)if(!1===a(f.geometries[l],_,x,m,b))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===a(null,_,x,m,b))return!1;_++}}function v(s,a){M(s,function(o,l,c,f,g){var h,T=null===o?null:o.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return!1!==a(D.feature(o,c,{bbox:f,id:g}),l,0)&&void 0}switch(T){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var x=0;x<o.coordinates.length;x++)if(!1===a(D.feature({type:h,coordinates:o.coordinates[x]},c),l,x))return!1})}function u(s,a){v(s,function(o,l,c){var f=0;if(o.geometry){var g=o.geometry.type;if("Point"!==g&&"MultiPoint"!==g){var h,T=0,x=0,m=0;return!1!==E(o,function(b,_,w,A,p){if(void 0===h||l>T||A>x||p>m)return h=b,T=l,x=A,m=p,void(f=0);var I=D.lineString([h,b],o.properties);if(!1===a(I,l,c,p,f))return!1;f++,h=b})&&void 0}}})}function i(s,a){if(!s)throw new Error("geojson is required");v(s,function(o,l,c){if(null!==o.geometry){var g=o.geometry.coordinates;switch(o.geometry.type){case"LineString":if(!1===a(o,l,c,0,0))return!1;break;case"Polygon":for(var h=0;h<g.length;h++)if(!1===a(D.lineString(g[h],o.properties),l,c,h))return!1}}})}B.coordEach=E,B.coordReduce=function(s,a,o,l){var c=o;return E(s,function(f,g,h,T,x){c=0===g&&void 0===o?f:a(c,f,g,h,T,x)},l),c},B.propEach=d,B.propReduce=function(s,a,o){var l=o;return d(s,function(c,f){l=0===f&&void 0===o?c:a(l,c,f)}),l},B.featureEach=S,B.featureReduce=function(s,a,o){var l=o;return S(s,function(c,f){l=0===f&&void 0===o?c:a(l,c,f)}),l},B.coordAll=function(s){var a=[];return E(s,function(o){a.push(o)}),a},B.geomEach=M,B.geomReduce=function(s,a,o){var l=o;return M(s,function(c,f,g,h,T){l=0===f&&void 0===o?c:a(l,c,f,g,h,T)}),l},B.flattenEach=v,B.flattenReduce=function(s,a,o){var l=o;return v(s,function(c,f,g){l=0===f&&0===g&&void 0===o?c:a(l,c,f,g)}),l},B.segmentEach=u,B.segmentReduce=function(s,a,o){var l=o,c=!1;return u(s,function(f,g,h,T,x){l=!1===c&&void 0===o?f:a(l,f,g,h,T,x),c=!0}),l},B.lineEach=i,B.lineReduce=function(s,a,o){var l=o;return i(s,function(c,f,g,h){l=0===f&&void 0===o?c:a(l,c,f,g,h)}),l},B.findSegment=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,f=a.geometryIndex||0,g=a.segmentIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":case"MultiPoint":return null;case"LineString":return g<0&&(g=T.length+g-1),D.lineString([T[g],T[g+1]],h,a);case"Polygon":return f<0&&(f=T.length+f),g<0&&(g=T[f].length+g-1),D.lineString([T[f][g],T[f][g+1]],h,a);case"MultiLineString":return c<0&&(c=T.length+c),g<0&&(g=T[c].length+g-1),D.lineString([T[c][g],T[c][g+1]],h,a);case"MultiPolygon":return c<0&&(c=T.length+c),f<0&&(f=T[c].length+f),g<0&&(g=T[c][f].length-g-1),D.lineString([T[c][f][g],T[c][f][g+1]],h,a)}throw new Error("geojson is invalid")},B.findPoint=function(s,a){if(!D.isObject(a=a||{}))throw new Error("options is invalid");var o,l=a.featureIndex||0,c=a.multiFeatureIndex||0,f=a.geometryIndex||0,g=a.coordIndex||0,h=a.properties;switch(s.type){case"FeatureCollection":l<0&&(l=s.features.length+l),h=h||s.features[l].properties,o=s.features[l].geometry;break;case"Feature":h=h||s.properties,o=s.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":o=s;break;default:throw new Error("geojson is invalid")}if(null===o)return null;var T=o.coordinates;switch(o.type){case"Point":return D.point(T,h,a);case"MultiPoint":return c<0&&(c=T.length+c),D.point(T[c],h,a);case"LineString":return g<0&&(g=T.length+g),D.point(T[g],h,a);case"Polygon":return f<0&&(f=T.length+f),g<0&&(g=T[f].length+g),D.point(T[f][g],h,a);case"MultiLineString":return c<0&&(c=T.length+c),g<0&&(g=T[c].length+g),D.point(T[c][g],h,a);case"MultiPolygon":return c<0&&(c=T.length+c),f<0&&(f=T[c].length+f),g<0&&(g=T[c][f].length-g),D.point(T[c][f][g],h,a)}throw new Error("geojson is invalid")}},65185:function(ae){ae.exports=function(B){var r=0,D=0,E=0,d=0;return B.map(function(S){var M=(S=S.slice())[0],v=M.toUpperCase();if(M!=v)switch(S[0]=v,M){case"a":S[6]+=E,S[7]+=d;break;case"v":S[1]+=d;break;case"h":S[1]+=E;break;default:for(var u=1;u<S.length;)S[u++]+=E,S[u++]+=d}switch(v){case"Z":E=r,d=D;break;case"H":E=S[1];break;case"V":d=S[1];break;case"M":E=r=S[1],d=D=S[2];break;default:E=S[S.length-2],d=S[S.length-1]}return S})}},21527:function(ae){"use strict";ae.exports=function(B,r){if(!B||null==B.length)throw Error("Argument should be an array");r=null==r?1:Math.floor(r);for(var D=Array(2*r),E=0;E<r;E++){for(var d=-1/0,S=1/0,M=E,v=B.length;M<v;M+=r)B[M]>d&&(d=B[M]),B[M]<S&&(S=B[M]);D[E]=S,D[r+E]=d}return D}},6851:function(ae){"use strict";ae.exports=function(B,r,D){if("function"==typeof Array.prototype.findIndex)return B.findIndex(r,D);if("function"!=typeof r)throw new TypeError("predicate must be a function");var E=Object(B),d=E.length;if(0===d)return-1;for(var S=0;S<d;S++)if(r.call(D,E[S],S,E))return S;return-1}},54:function(ae,B,r){"use strict";var D=r(21527);ae.exports=function(E,d,S){if(!E||null==E.length)throw Error("Argument should be an array");null==d&&(d=1),null==S&&(S=D(E,d));for(var M=0;M<d;M++){var v=S[d+M],u=S[M],i=M,s=E.length;if(v===1/0&&u===-1/0)for(i=M;i<s;i+=d)E[i]=E[i]===v?1:E[i]===u?0:.5;else if(v===1/0)for(i=M;i<s;i+=d)E[i]=E[i]===v?1:0;else if(u===-1/0)for(i=M;i<s;i+=d)E[i]=E[i]===u?0:1;else{var a=v-u;for(i=M;i<s;i+=d)isNaN(E[i])||(E[i]=0===a?.5:(E[i]-u)/a)}}return E}},57471:function(ae){ae.exports=function(B,r){var D="number"==typeof B,E="number"==typeof r;D&&!E?(r=B,B=0):D||E||(B=0,r=0);var d=(r|=0)-(B|=0);if(d<0)throw new Error("array length must be positive");for(var S=new Array(d),M=0,v=B;M<d;M++,v++)S[M]=v;return S}},32791:function(ae,B,r){"use strict";var D=r(90386);function E(N){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(N)}var d,S,M=r(79616).codes,v=M.ERR_AMBIGUOUS_ARGUMENT,u=M.ERR_INVALID_ARG_TYPE,i=M.ERR_INVALID_ARG_VALUE,s=M.ERR_INVALID_RETURN_VALUE,a=M.ERR_MISSING_ARGS,o=r(73894),l=r(43827).inspect,c=r(43827).types,f=c.isPromise,g=c.isRegExp,h=Object.assign?Object.assign:r(73523).assign,T=Object.is?Object.is:r(64003);function x(){var N=r(74061);d=N.isDeepEqual,S=N.isDeepStrictEqual}var m=!1,b=ae.exports=p,_={};function w(N){throw N.message instanceof Error?N.message:new o(N)}function A(N,q,G,H){if(!G){var Z=!1;if(0===q)Z=!0,H="No value argument passed to `assert.ok()`";else if(H instanceof Error)throw H;var $=new o({actual:G,expected:!0,message:H,operator:"==",stackStartFn:N});throw $.generatedMessage=Z,$}}function p(){for(var N=arguments.length,q=new Array(N),G=0;G<N;G++)q[G]=arguments[G];A.apply(void 0,[p,q.length].concat(q))}b.fail=function N(q,G,H,Z,$){var se,ne=arguments.length;if(0===ne?se="Failed":1===ne?(H=q,q=void 0):(!1===m&&(m=!0,(D.emitWarning?D.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===ne&&(Z="!=")),H instanceof Error)throw H;var re={actual:q,expected:G,operator:void 0===Z?"fail":Z,stackStartFn:$||N};void 0!==H&&(re.message=H);var Q=new o(re);throw se&&(Q.message=se,Q.generatedMessage=!0),Q},b.AssertionError=o,b.ok=p,b.equal=function N(q,G,H){if(arguments.length<2)throw new a("actual","expected");q!=G&&w({actual:q,expected:G,message:H,operator:"==",stackStartFn:N})},b.notEqual=function N(q,G,H){if(arguments.length<2)throw new a("actual","expected");q==G&&w({actual:q,expected:G,message:H,operator:"!=",stackStartFn:N})},b.deepEqual=function N(q,G,H){if(arguments.length<2)throw new a("actual","expected");void 0===d&&x(),d(q,G)||w({actual:q,expected:G,message:H,operator:"deepEqual",stackStartFn:N})},b.notDeepEqual=function N(q,G,H){if(arguments.length<2)throw new a("actual","expected");void 0===d&&x(),d(q,G)&&w({actual:q,expected:G,message:H,operator:"notDeepEqual",stackStartFn:N})},b.deepStrictEqual=function N(q,G,H){if(arguments.length<2)throw new a("actual","expected");void 0===d&&x(),S(q,G)||w({actual:q,expected:G,message:H,operator:"deepStrictEqual",stackStartFn:N})},b.notDeepStrictEqual=function N(q,G,H){if(arguments.length<2)throw new a("actual","expected");void 0===d&&x(),S(q,G)&&w({actual:q,expected:G,message:H,operator:"notDeepStrictEqual",stackStartFn:N})},b.strictEqual=function N(q,G,H){if(arguments.length<2)throw new a("actual","expected");T(q,G)||w({actual:q,expected:G,message:H,operator:"strictEqual",stackStartFn:N})},b.notStrictEqual=function N(q,G,H){if(arguments.length<2)throw new a("actual","expected");T(q,G)&&w({actual:q,expected:G,message:H,operator:"notStrictEqual",stackStartFn:N})};var I=function N(q,G,H){var Z=this;(function($,se){if(!($ instanceof se))throw new TypeError("Cannot call a class as a function")})(this,N),G.forEach(function($){$ in q&&(Z[$]=void 0!==H&&"string"==typeof H[$]&&g(q[$])&&q[$].test(H[$])?H[$]:q[$])})};function k(N,q,G,H){if("function"!=typeof q){if(g(q))return q.test(N);if(2===arguments.length)throw new u("expected",["Function","RegExp"],q);if("object"!==E(N)||null===N){var Z=new o({actual:N,expected:q,message:G,operator:"deepStrictEqual",stackStartFn:H});throw Z.operator=H.name,Z}var $=Object.keys(q);if(q instanceof Error)$.push("name","message");else if(0===$.length)throw new i("error",q,"may not be an empty object");return void 0===d&&x(),$.forEach(function(se){"string"==typeof N[se]&&g(q[se])&&q[se].test(N[se])||function(ne,re,Q,ee,oe,ce){if(!(Q in ne)||!S(ne[Q],re[Q])){if(!ee){var ue=new I(ne,oe),he=new I(re,oe,ne),ve=new o({actual:ue,expected:he,operator:"deepStrictEqual",stackStartFn:ce});throw ve.actual=ne,ve.expected=re,ve.operator=ce.name,ve}w({actual:ne,expected:re,message:ee,operator:ce.name,stackStartFn:ce})}}(N,q,se,G,$,H)}),!0}return void 0!==q.prototype&&N instanceof q||!Error.isPrototypeOf(q)&&!0===q.call({},N)}function L(N){if("function"!=typeof N)throw new u("fn","Function",N);try{N()}catch(q){return q}return _}function O(N){return f(N)||null!==N&&"object"===E(N)&&"function"==typeof N.then&&"function"==typeof N.catch}function P(N){return Promise.resolve().then(function(){var q;if("function"==typeof N){if(!O(q=N()))throw new s("instance of Promise","promiseFn",q)}else{if(!O(N))throw new u("promiseFn",["Function","Promise"],N);q=N}return Promise.resolve().then(function(){return q}).then(function(){return _}).catch(function(G){return G})})}function F(N,q,G,H){if("string"==typeof G){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],G);if("object"===E(q)&&null!==q){if(q.message===G)throw new v("error/message",'The error message "'.concat(q.message,'" is identical to the message.'))}else if(q===G)throw new v("error/message",'The error "'.concat(q,'" is identical to the message.'));H=G,G=void 0}else if(null!=G&&"object"!==E(G)&&"function"!=typeof G)throw new u("error",["Object","Error","Function","RegExp"],G);if(q===_){var Z="";G&&G.name&&(Z+=" (".concat(G.name,")")),Z+=H?": ".concat(H):".",w({actual:void 0,expected:G,operator:N.name,message:"Missing expected ".concat("rejects"===N.name?"rejection":"exception").concat(Z),stackStartFn:N})}if(G&&!k(q,G,H,N))throw q}function j(N,q,G,H){if(q!==_){if("string"==typeof G&&(H=G,G=void 0),!G||k(q,G)){var Z=H?": ".concat(H):".";w({actual:q,expected:G,operator:N.name,message:"Got unwanted ".concat("doesNotReject"===N.name?"rejection":"exception").concat(Z,"\n")+'Actual message: "'.concat(q&&q.message,'"'),stackStartFn:N})}throw q}}function X(){for(var N=arguments.length,q=new Array(N),G=0;G<N;G++)q[G]=arguments[G];A.apply(void 0,[X,q.length].concat(q))}b.throws=function N(q){for(var G=arguments.length,H=new Array(G>1?G-1:0),Z=1;Z<G;Z++)H[Z-1]=arguments[Z];F.apply(void 0,[N,L(q)].concat(H))},b.rejects=function N(q){for(var G=arguments.length,H=new Array(G>1?G-1:0),Z=1;Z<G;Z++)H[Z-1]=arguments[Z];return P(q).then(function($){return F.apply(void 0,[N,$].concat(H))})},b.doesNotThrow=function N(q){for(var G=arguments.length,H=new Array(G>1?G-1:0),Z=1;Z<G;Z++)H[Z-1]=arguments[Z];j.apply(void 0,[N,L(q)].concat(H))},b.doesNotReject=function N(q){for(var G=arguments.length,H=new Array(G>1?G-1:0),Z=1;Z<G;Z++)H[Z-1]=arguments[Z];return P(q).then(function($){return j.apply(void 0,[N,$].concat(H))})},b.ifError=function N(q){if(null!=q){var G="ifError got unwanted exception: ";"object"===E(q)&&"string"==typeof q.message?G+=0===q.message.length&&q.constructor?q.constructor.name:q.message:G+=l(q);var H=new o({actual:q,expected:null,operator:"ifError",message:G,stackStartFn:N}),Z=q.stack;if("string"==typeof Z){var $=Z.split("\n");$.shift();for(var se=H.stack.split("\n"),ne=0;ne<$.length;ne++){var re=se.indexOf($[ne]);if(-1!==re){se=se.slice(0,re);break}}H.stack="".concat(se.join("\n"),"\n").concat($.join("\n"))}throw H}},b.strict=h(X,b,{equal:b.strictEqual,deepEqual:b.deepStrictEqual,notEqual:b.notStrictEqual,notDeepEqual:b.notDeepStrictEqual}),b.strict.strict=b.strict},73894:function(ae,B,r){"use strict";var D=r(90386);function E(w,A,p){return A in w?Object.defineProperty(w,A,{value:p,enumerable:!0,configurable:!0,writable:!0}):w[A]=p,w}function S(w,A){return!A||"object"!==a(A)&&"function"!=typeof A?M(w):A}function M(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function v(w){var A="function"==typeof Map?new Map:void 0;return v=function(p){if(null===p||-1===Function.toString.call(p).indexOf("[native code]"))return p;if("function"!=typeof p)throw new TypeError("Super expression must either be null or a function");if(void 0!==A){if(A.has(p))return A.get(p);A.set(p,k)}function k(){return u(p,arguments,s(this).constructor)}return k.prototype=Object.create(p.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),i(k,p)},v(w)}function u(w,A,p){return(u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(I,k,L){var O=[null];O.push.apply(O,k);var P=new(Function.bind.apply(I,O));return L&&i(P,L.prototype),P}).apply(null,arguments)}function i(w,A){return(i=Object.setPrototypeOf||function(p,I){return p.__proto__=I,p})(w,A)}function s(w){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(w)}function a(w){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(w)}var o=r(43827).inspect,l=r(79616).codes.ERR_INVALID_ARG_TYPE;function c(w,A,p){return(void 0===p||p>w.length)&&(p=w.length),w.substring(p-A.length,p)===A}var f="",g="",h="",T="",x={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function m(w){var A=Object.keys(w),p=Object.create(Object.getPrototypeOf(w));return A.forEach(function(I){p[I]=w[I]}),Object.defineProperty(p,"message",{value:w.message}),p}function b(w){return o(w,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var _=function(w){function A(k){var L;if(function(se,ne){if(!(se instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,A),"object"!==a(k)||null===k)throw new l("options","Object",k);var O=k.message,P=k.operator,F=k.stackStartFn,j=k.actual,X=k.expected,N=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=O)L=S(this,s(A).call(this,String(O)));else if(D.stderr&&D.stderr.isTTY&&(D.stderr&&D.stderr.getColorDepth&&1!==D.stderr.getColorDepth()?(f="\x1b[34m",g="\x1b[32m",T="\x1b[39m",h="\x1b[31m"):(f="",g="",T="",h="")),"object"===a(j)&&null!==j&&"object"===a(X)&&null!==X&&"stack"in j&&j instanceof Error&&"stack"in X&&X instanceof Error&&(j=m(j),X=m(X)),"deepStrictEqual"===P||"strictEqual"===P)L=S(this,s(A).call(this,function(se,ne,re){var Q="",ee="",oe=0,ce="",ue=!1,he=b(se),ve=he.split("\n"),ke=b(ne).split("\n"),Ie=0,Me="";if("strictEqual"===re&&"object"===a(se)&&"object"===a(ne)&&null!==se&&null!==ne&&(re="strictEqualObject"),1===ve.length&&1===ke.length&&ve[0]!==ke[0]){var _e=ve[0].length+ke[0].length;if(_e<=10){if(!("object"===a(se)&&null!==se||"object"===a(ne)&&null!==ne||0===se&&0===ne))return"".concat(x[re],"\n\n")+"".concat(ve[0]," !== ").concat(ke[0],"\n")}else if("strictEqualObject"!==re&&_e<(D.stderr&&D.stderr.isTTY?D.stderr.columns:80)){for(;ve[0][Ie]===ke[0][Ie];)Ie++;Ie>2&&(Me="\n  ".concat(function(Ze,xe){if(xe=Math.floor(xe),0==Ze.length||0==xe)return"";var Oe=Ze.length*xe;for(xe=Math.floor(Math.log(xe)/Math.log(2));xe;)Ze+=Ze,xe--;return Ze+Ze.substring(0,Oe-Ze.length)}(" ",Ie),"^"),Ie=0)}}for(var we=ve[ve.length-1],ze=ke[ke.length-1];we===ze&&(Ie++<2?ce="\n  ".concat(we).concat(ce):Q=we,ve.pop(),ke.pop(),0!==ve.length&&0!==ke.length);)we=ve[ve.length-1],ze=ke[ke.length-1];var Ee=Math.max(ve.length,ke.length);if(0===Ee){var Se=he.split("\n");if(Se.length>30)for(Se[26]="".concat(f,"...").concat(T);Se.length>27;)Se.pop();return"".concat(x.notIdentical,"\n\n").concat(Se.join("\n"),"\n")}Ie>3&&(ce="\n".concat(f,"...").concat(T).concat(ce),ue=!0),""!==Q&&(ce="\n  ".concat(Q).concat(ce),Q="");var me=0,fe=x[re]+"\n".concat(g,"+ actual").concat(T," ").concat(h,"- expected").concat(T),le=" ".concat(f,"...").concat(T," Lines skipped");for(Ie=0;Ie<Ee;Ie++){var Te=Ie-oe;if(ve.length<Ie+1)Te>1&&Ie>2&&(Te>4?(ee+="\n".concat(f,"...").concat(T),ue=!0):Te>3&&(ee+="\n  ".concat(ke[Ie-2]),me++),ee+="\n  ".concat(ke[Ie-1]),me++),oe=Ie,Q+="\n".concat(h,"-").concat(T," ").concat(ke[Ie]),me++;else if(ke.length<Ie+1)Te>1&&Ie>2&&(Te>4?(ee+="\n".concat(f,"...").concat(T),ue=!0):Te>3&&(ee+="\n  ".concat(ve[Ie-2]),me++),ee+="\n  ".concat(ve[Ie-1]),me++),oe=Ie,ee+="\n".concat(g,"+").concat(T," ").concat(ve[Ie]),me++;else{var Re=ke[Ie],De=ve[Ie],Ue=De!==Re&&(!c(De,",")||De.slice(0,-1)!==Re);Ue&&c(Re,",")&&Re.slice(0,-1)===De&&(Ue=!1,De+=","),Ue?(Te>1&&Ie>2&&(Te>4?(ee+="\n".concat(f,"...").concat(T),ue=!0):Te>3&&(ee+="\n  ".concat(ve[Ie-2]),me++),ee+="\n  ".concat(ve[Ie-1]),me++),oe=Ie,ee+="\n".concat(g,"+").concat(T," ").concat(De),Q+="\n".concat(h,"-").concat(T," ").concat(Re),me+=2):(ee+=Q,Q="",1!==Te&&0!==Ie||(ee+="\n  ".concat(De),me++))}if(me>20&&Ie<Ee-2)return"".concat(fe).concat(le,"\n").concat(ee,"\n").concat(f,"...").concat(T).concat(Q,"\n")+"".concat(f,"...").concat(T)}return"".concat(fe).concat(ue?le:"","\n").concat(ee).concat(Q).concat(ce).concat(Me)}(j,X,P)));else if("notDeepStrictEqual"===P||"notStrictEqual"===P){var q=x[P],G=b(j).split("\n");if("notStrictEqual"===P&&"object"===a(j)&&null!==j&&(q=x.notStrictEqualObject),G.length>30)for(G[26]="".concat(f,"...").concat(T);G.length>27;)G.pop();L=S(this,1===G.length?s(A).call(this,"".concat(q," ").concat(G[0])):s(A).call(this,"".concat(q,"\n\n").concat(G.join("\n"),"\n")))}else{var H=b(j),Z="",$=x[P];"notDeepEqual"===P||"notEqual"===P?(H="".concat(x[P],"\n\n").concat(H)).length>1024&&(H="".concat(H.slice(0,1021),"...")):(Z="".concat(b(X)),H.length>512&&(H="".concat(H.slice(0,509),"...")),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),"deepEqual"===P||"equal"===P?H="".concat($,"\n\n").concat(H,"\n\nshould equal\n\n"):Z=" ".concat(P," ").concat(Z)),L=S(this,s(A).call(this,"".concat(H).concat(Z)))}return Error.stackTraceLimit=N,L.generatedMessage=!O,Object.defineProperty(M(L),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),L.code="ERR_ASSERTION",L.actual=j,L.expected=X,L.operator=P,Error.captureStackTrace&&Error.captureStackTrace(M(L),F),L.name="AssertionError",S(L)}var I;return function(k,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(L&&L.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),L&&i(k,L)}(A,w),I=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:o.custom,value:function(k,L){return o(this,function(O){for(var P=1;P<arguments.length;P++){var F=null!=arguments[P]?arguments[P]:{},j=Object.keys(F);"function"==typeof Object.getOwnPropertySymbols&&(j=j.concat(Object.getOwnPropertySymbols(F).filter(function(X){return Object.getOwnPropertyDescriptor(F,X).enumerable}))),j.forEach(function(X){E(O,X,F[X])})}return O}({},L,{customInspect:!1,depth:0}))}}],I&&function d(w,A){for(var p=0;p<A.length;p++){var I=A[p];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(w,I.key,I)}}(A.prototype,I),A}(v(Error));ae.exports=_},79616:function(ae,B,r){"use strict";function D(s){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function E(s){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(s)}function d(s,a){return(d=Object.setPrototypeOf||function(o,l){return o.__proto__=l,o})(s,a)}var S,M,v={};function u(s,a,o){o||(o=Error);var l=function(c){function f(g,h,T){var x,m,b,_;return function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}(this,f),(x=function(m,b){return!b||"object"!==D(b)&&"function"!=typeof b?function(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(m):b}(this,E(f).call(this,(m=g,b=h,_=T,"string"==typeof a?a:a(m,b,_))))).code=s,x}return function(g,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),h&&d(g,h)}(f,c),f}(o);v[s]=l}function i(s,a){if(Array.isArray(s)){var o=s.length;return s=s.map(function(l){return String(l)}),o>2?"one of ".concat(a," ").concat(s.slice(0,o-1).join(", "),", or ")+s[o-1]:2===o?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",function(s,a,o){var l,f,g,h,x,b;if(void 0===S&&(S=r(32791)),S("string"==typeof s,"'name' must be a string"),"string"==typeof a&&("not ","not "===a.substr(0,4))?(l="must not be",a=a.replace(/^not /,"")):l="must be",x=s," argument",(void 0===b||b>x.length)&&(b=x.length)," argument"===x.substring(b-9,b))f="The ".concat(s," ").concat(l," ").concat(i(a,"type"));else{var T=("number"!=typeof h&&(h=0),h+1>(g=s).length||-1===g.indexOf(".",h)?"argument":"property");f='The "'.concat(s,'" ').concat(T," ").concat(l," ").concat(i(a,"type"))}return f+". Received type ".concat(D(o))},TypeError),u("ERR_INVALID_ARG_VALUE",function(s,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===M&&(M=r(43827));var l=M.inspect(a);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(s,"' ").concat(o,". Received ").concat(l)},TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",function(s,a,o){var l;return l=o&&o.constructor&&o.constructor.name?"instance of ".concat(o.constructor.name):"type ".concat(D(o)),"Expected ".concat(s,' to be returned from the "').concat(a,'"')+" function but got ".concat(l,".")},TypeError),u("ERR_MISSING_ARGS",function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];void 0===S&&(S=r(32791)),S(a.length>0,"At least one arg needs to be specified");var l="The ",c=a.length;switch(a=a.map(function(f){return'"'.concat(f,'"')}),c){case 1:l+="".concat(a[0]," argument");break;case 2:l+="".concat(a[0]," and ").concat(a[1]," arguments");break;default:l+=a.slice(0,c-1).join(", "),l+=", and ".concat(a[c-1]," arguments")}return"".concat(l," must be specified")},TypeError),ae.exports.codes=v},74061:function(ae,B,r){"use strict";function D(oe,ce){return function(ue){if(Array.isArray(ue))return ue}(oe)||function(ue,he){var ve=[],ke=!0,Ie=!1,Me=void 0;try{for(var _e,we=ue[Symbol.iterator]();!(ke=(_e=we.next()).done)&&(ve.push(_e.value),!he||ve.length!==he);ke=!0);}catch(ze){Ie=!0,Me=ze}finally{try{ke||null==we.return||we.return()}finally{if(Ie)throw Me}}return ve}(oe,ce)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(oe){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(oe)}var d=void 0!==/a/g.flags,S=function(oe){var ce=[];return oe.forEach(function(ue){return ce.push(ue)}),ce},M=function(oe){var ce=[];return oe.forEach(function(ue,he){return ce.push([he,ue])}),ce},v=Object.is?Object.is:r(64003),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},i=Number.isNaN?Number.isNaN:r(15567);function s(oe){return oe.call.bind(oe)}var a=s(Object.prototype.hasOwnProperty),o=s(Object.prototype.propertyIsEnumerable),l=s(Object.prototype.toString),c=r(43827).types,f=c.isAnyArrayBuffer,g=c.isArrayBufferView,h=c.isDate,T=c.isMap,x=c.isRegExp,m=c.isSet,b=c.isNativeError,_=c.isBoxedPrimitive,w=c.isNumberObject,A=c.isStringObject,p=c.isBooleanObject,I=c.isBigIntObject,k=c.isSymbolObject,L=c.isFloat32Array,O=c.isFloat64Array;function P(oe){if(0===oe.length||oe.length>10)return!0;for(var ce=0;ce<oe.length;ce++){var ue=oe.charCodeAt(ce);if(ue<48||ue>57)return!0}return 10===oe.length&&oe>=Math.pow(2,32)}function F(oe){return Object.keys(oe).filter(P).concat(u(oe).filter(Object.prototype.propertyIsEnumerable.bind(oe)))}function j(oe,ce){if(oe===ce)return 0;for(var ue=oe.length,he=ce.length,ve=0,ke=Math.min(ue,he);ve<ke;++ve)if(oe[ve]!==ce[ve]){ue=oe[ve],he=ce[ve];break}return ue<he?-1:he<ue?1:0}var X=0,N=1,q=2,G=3;function H(oe,ce,ue,he){if(oe===ce)return 0!==oe||!ue||v(oe,ce);if(ue){if("object"!==E(oe))return"number"==typeof oe&&i(oe)&&i(ce);if("object"!==E(ce)||null===oe||null===ce||Object.getPrototypeOf(oe)!==Object.getPrototypeOf(ce))return!1}else{if(null===oe||"object"!==E(oe))return(null===ce||"object"!==E(ce))&&oe==ce;if(null===ce||"object"!==E(ce))return!1}var ve,ke,Ie,Me,me,fe,_e=l(oe);if(_e!==l(ce))return!1;if(Array.isArray(oe)){if(oe.length!==ce.length)return!1;var we=F(oe),ze=F(ce);return we.length===ze.length&&$(oe,ce,ue,he,N,we)}if("[object Object]"===_e&&(!T(oe)&&T(ce)||!m(oe)&&m(ce)))return!1;if(h(oe)){if(!h(ce)||Date.prototype.getTime.call(oe)!==Date.prototype.getTime.call(ce))return!1}else if(x(oe)){if(!x(ce)||(Ie=oe,Me=ce,!(d?Ie.source===Me.source&&Ie.flags===Me.flags:RegExp.prototype.toString.call(Ie)===RegExp.prototype.toString.call(Me))))return!1}else if(b(oe)||oe instanceof Error){if(oe.message!==ce.message||oe.name!==ce.name)return!1}else{if(g(oe)){if(ue||!L(oe)&&!O(oe)){if((me=oe).byteLength!==(fe=ce).byteLength||0!==j(new Uint8Array(me.buffer,me.byteOffset,me.byteLength),new Uint8Array(fe.buffer,fe.byteOffset,fe.byteLength)))return!1}else if(!function(me,fe){if(me.byteLength!==fe.byteLength)return!1;for(var le=0;le<me.byteLength;le++)if(me[le]!==fe[le])return!1;return!0}(oe,ce))return!1;var Ee=F(oe),Se=F(ce);return Ee.length===Se.length&&$(oe,ce,ue,he,X,Ee)}if(m(oe))return!(!m(ce)||oe.size!==ce.size)&&$(oe,ce,ue,he,q);if(T(oe))return!(!T(ce)||oe.size!==ce.size)&&$(oe,ce,ue,he,G);if(f(oe)){if((ve=oe).byteLength!==(ke=ce).byteLength||0!==j(new Uint8Array(ve),new Uint8Array(ke)))return!1}else if(_(oe)&&!function(me,fe){return w(me)?w(fe)&&v(Number.prototype.valueOf.call(me),Number.prototype.valueOf.call(fe)):A(me)?A(fe)&&String.prototype.valueOf.call(me)===String.prototype.valueOf.call(fe):p(me)?p(fe)&&Boolean.prototype.valueOf.call(me)===Boolean.prototype.valueOf.call(fe):I(me)?I(fe)&&BigInt.prototype.valueOf.call(me)===BigInt.prototype.valueOf.call(fe):k(fe)&&Symbol.prototype.valueOf.call(me)===Symbol.prototype.valueOf.call(fe)}(oe,ce))return!1}return $(oe,ce,ue,he,X)}function Z(oe,ce){return ce.filter(function(ue){return o(oe,ue)})}function $(oe,ce,ue,he,ve,ke){if(5===arguments.length){ke=Object.keys(oe);var Ie=Object.keys(ce);if(ke.length!==Ie.length)return!1}for(var Me=0;Me<ke.length;Me++)if(!a(ce,ke[Me]))return!1;if(ue&&5===arguments.length){var _e=u(oe);if(0!==_e.length){var we=0;for(Me=0;Me<_e.length;Me++){var ze=_e[Me];if(o(oe,ze)){if(!o(ce,ze))return!1;ke.push(ze),we++}else if(o(ce,ze))return!1}var Ee=u(ce);if(_e.length!==Ee.length&&Z(ce,Ee).length!==we)return!1}else{var Se=u(ce);if(0!==Se.length&&0!==Z(ce,Se).length)return!1}}if(0===ke.length&&(ve===X||ve===N&&0===oe.length||0===oe.size))return!0;if(void 0===he)he={val1:new Map,val2:new Map,position:0};else{var me=he.val1.get(oe);if(void 0!==me){var fe=he.val2.get(ce);if(void 0!==fe)return me===fe}he.position++}he.val1.set(oe,he.position),he.val2.set(ce,he.position);var le=function(Te,Re,De,Ue,Ze,xe){var Oe=0;if(xe===q){if(!function(He,Je,et,st){for(var pt=null,ct=S(He),St=0;St<ct.length;St++){var Dt=ct[St];if("object"===E(Dt)&&null!==Dt)null===pt&&(pt=new Set),pt.add(Dt);else if(!Je.has(Dt)){if(et||!re(He,Je,Dt))return!1;null===pt&&(pt=new Set),pt.add(Dt)}}if(null!==pt){for(var vt=S(Je),gt=0;gt<vt.length;gt++){var Et=vt[gt];if("object"===E(Et)&&null!==Et){if(!se(pt,Et,et,st))return!1}else if(!et&&!He.has(Et)&&!se(pt,Et,et,st))return!1}return 0===pt.size}return!0}(Te,Re,De,Ze))return!1}else if(xe===G){if(!function(He,Je,et,st){for(var pt=null,ct=M(He),St=0;St<ct.length;St++){var Dt=D(ct[St],2),vt=Dt[0],gt=Dt[1];if("object"===E(vt)&&null!==vt)null===pt&&(pt=new Set),pt.add(vt);else{var Et=Je.get(vt);if(void 0===Et&&!Je.has(vt)||!H(gt,Et,et,st)){if(et||!Q(He,Je,vt,gt,st))return!1;null===pt&&(pt=new Set),pt.add(vt)}}}if(null!==pt){for(var Pt=M(Je),Ot=0;Ot<Pt.length;Ot++){var Ht=D(Pt[Ot],2),zt=(vt=Ht[0],Ht[1]);if("object"===E(vt)&&null!==vt){if(!ee(pt,He,vt,zt,et,st))return!1}else if(!(et||He.has(vt)&&H(He.get(vt),zt,!1,st)||ee(pt,He,vt,zt,!1,st)))return!1}return 0===pt.size}return!0}(Te,Re,De,Ze))return!1}else if(xe===N)for(;Oe<Te.length;Oe++){if(!a(Te,Oe)){if(a(Re,Oe))return!1;for(var Ce=Object.keys(Te);Oe<Ce.length;Oe++){var Be=Ce[Oe];if(!a(Re,Be)||!H(Te[Be],Re[Be],De,Ze))return!1}return Ce.length===Object.keys(Re).length}if(!a(Re,Oe)||!H(Te[Oe],Re[Oe],De,Ze))return!1}for(Oe=0;Oe<Ue.length;Oe++){var qe=Ue[Oe];if(!H(Te[qe],Re[qe],De,Ze))return!1}return!0}(oe,ce,ue,ke,he,ve);return he.val1.delete(oe),he.val2.delete(ce),le}function se(oe,ce,ue,he){for(var ve=S(oe),ke=0;ke<ve.length;ke++){var Ie=ve[ke];if(H(ce,Ie,ue,he))return oe.delete(Ie),!0}return!1}function ne(oe){switch(E(oe)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":oe=+oe;case"number":if(i(oe))return!1}return!0}function re(oe,ce,ue){var he=ne(ue);return he??(ce.has(he)&&!oe.has(he))}function Q(oe,ce,ue,he,ve){var ke=ne(ue);if(null!=ke)return ke;var Ie=ce.get(ke);return!(void 0===Ie&&!ce.has(ke)||!H(he,Ie,!1,ve))&&!oe.has(ke)&&H(he,Ie,!1,ve)}function ee(oe,ce,ue,he,ve,ke){for(var Ie=S(oe),Me=0;Me<Ie.length;Me++){var _e=Ie[Me];if(H(ue,_e,ve,ke)&&H(he,ce.get(_e),ve,ke))return oe.delete(_e),!0}return!1}ae.exports={isDeepEqual:function(oe,ce){return H(oe,ce,!1)},isDeepStrictEqual:function(oe,ce){return H(oe,ce,!0)}}},95341:function(ae,B){"use strict";B.byteLength=function(u){var i=M(u),a=i[1];return 3*(i[0]+a)/4-a},B.toByteArray=function(u){var i,s,x,a=M(u),o=a[0],l=a[1],c=new E(3*(o+(x=l))/4-x),f=0,g=l>0?o-4:o;for(s=0;s<g;s+=4)i=D[u.charCodeAt(s)]<<18|D[u.charCodeAt(s+1)]<<12|D[u.charCodeAt(s+2)]<<6|D[u.charCodeAt(s+3)],c[f++]=i>>16&255,c[f++]=i>>8&255,c[f++]=255&i;return 2===l&&(i=D[u.charCodeAt(s)]<<2|D[u.charCodeAt(s+1)]>>4,c[f++]=255&i),1===l&&(i=D[u.charCodeAt(s)]<<10|D[u.charCodeAt(s+1)]<<4|D[u.charCodeAt(s+2)]>>2,c[f++]=i>>8&255,c[f++]=255&i),c},B.fromByteArray=function(u){for(var i,s=u.length,a=s%3,o=[],l=16383,c=0,f=s-a;c<f;c+=l)o.push(v(u,c,c+l>f?f:c+l));return 1===a?o.push(r[(i=u[s-1])>>2]+r[i<<4&63]+"=="):2===a&&o.push(r[(i=(u[s-2]<<8)+u[s-1])>>10]+r[i>>4&63]+r[i<<2&63]+"="),o.join("")};for(var r=[],D=[],E=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0;S<64;++S)r[S]=d[S],D[d.charCodeAt(S)]=S;function M(u){var i=u.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=u.indexOf("=");return-1===s&&(s=i),[s,s===i?0:4-s%4]}function v(u,i,s){for(var o,l=[],c=i;c<s;c+=3)l.push(r[(o=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(255&u[c+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return l.join("")}D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},91358:function(ae){"use strict";function B(M,v,u,i,s){for(var a=s+1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==u?u(l,v):l-v)>=0?(a=o,s=o-1):i=o+1}return a}function r(M,v,u,i,s){for(var a=s+1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==u?u(l,v):l-v)>0?(a=o,s=o-1):i=o+1}return a}function D(M,v,u,i,s){for(var a=i-1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==u?u(l,v):l-v)<0?(a=o,i=o+1):s=o-1}return a}function E(M,v,u,i,s){for(var a=i-1;i<=s;){var o=i+s>>>1,l=M[o];(void 0!==u?u(l,v):l-v)<=0?(a=o,i=o+1):s=o-1}return a}function d(M,v,u,i,s){for(;i<=s;){var a=i+s>>>1,o=M[a],l=void 0!==u?u(o,v):o-v;if(0===l)return a;l<=0?i=a+1:s=a-1}return-1}function S(M,v,u,i,s,a){return"function"==typeof u?a(M,v,u,void 0===i?0:0|i,void 0===s?M.length-1:0|s):a(M,v,void 0,void 0===u?0:0|u,void 0===i?M.length-1:0|i)}ae.exports={ge:function(M,v,u,i,s){return S(M,v,u,i,s,B)},gt:function(M,v,u,i,s){return S(M,v,u,i,s,r)},lt:function(M,v,u,i,s){return S(M,v,u,i,s,D)},le:function(M,v,u,i,s){return S(M,v,u,i,s,E)},eq:function(M,v,u,i,s){return S(M,v,u,i,s,d)}}},13547:function(ae,B){"use strict";function r(E){var d=32;return(E&=-E)&&d--,65535&E&&(d-=16),16711935&E&&(d-=8),252645135&E&&(d-=4),858993459&E&&(d-=2),1431655765&E&&(d-=1),d}B.INT_BITS=32,B.INT_MAX=2147483647,B.INT_MIN=-2147483648,B.sign=function(E){return(E>0)-(E<0)},B.abs=function(E){var d=E>>31;return(E^d)-d},B.min=function(E,d){return d^(E^d)&-(E<d)},B.max=function(E,d){return E^(E^d)&-(E<d)},B.isPow2=function(E){return!(E&E-1||!E)},B.log2=function(E){var d,S;return d=(E>65535)<<4,d|=S=((E>>>=d)>255)<<3,d|=S=((E>>>=S)>15)<<2,(d|=S=((E>>>=S)>3)<<1)|(E>>>=S)>>1},B.log10=function(E){return E>=1e9?9:E>=1e8?8:E>=1e7?7:E>=1e6?6:E>=1e5?5:E>=1e4?4:E>=1e3?3:E>=100?2:E>=10?1:0},B.popCount=function(E){return 16843009*((E=(858993459&(E-=E>>>1&1431655765))+(E>>>2&858993459))+(E>>>4)&252645135)>>>24},B.countTrailingZeros=r,B.nextPow2=function(E){return E+=0===E,--E,E|=E>>>1,E|=E>>>2,E|=E>>>4,1+((E|=E>>>8)|E>>>16)},B.prevPow2=function(E){return E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,(E|=E>>>16)-(E>>>1)},B.parity=function(E){return E^=E>>>16,E^=E>>>8,E^=E>>>4,27030>>>(E&=15)&1};var D=new Array(256);(function(E){for(var d=0;d<256;++d){var S=d,M=d,v=7;for(S>>>=1;S;S>>>=1)M<<=1,M|=1&S,--v;E[d]=M<<v&255}})(D),B.reverse=function(E){return D[255&E]<<24|D[E>>>8&255]<<16|D[E>>>16&255]<<8|D[E>>>24&255]},B.interleave2=function(E,d){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E&=65535)|E<<8))|E<<4))|E<<2))|E<<1))|(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d&=65535)|d<<8))|d<<4))|d<<2))|d<<1))<<1},B.deinterleave2=function(E,d){return(E=65535&((E=16711935&((E=252645135&((E=858993459&((E=E>>>d&1431655765)|E>>>1))|E>>>2))|E>>>4))|E>>>16))<<16>>16},B.interleave3=function(E,d,S){return E=1227133513&((E=3272356035&((E=251719695&((E=4278190335&((E&=1023)|E<<16))|E<<8))|E<<4))|E<<2),(E|=(d=1227133513&((d=3272356035&((d=251719695&((d=4278190335&((d&=1023)|d<<16))|d<<8))|d<<4))|d<<2))<<1)|(S=1227133513&((S=3272356035&((S=251719695&((S=4278190335&((S&=1023)|S<<16))|S<<8))|S<<4))|S<<2))<<2},B.deinterleave3=function(E,d){return(E=1023&((E=4278190335&((E=251719695&((E=3272356035&((E=E>>>d&1227133513)|E>>>2))|E>>>4))|E>>>8))|E>>>16))<<22>>22},B.nextCombination=function(E){var d=E|E-1;return d+1|(~d&-~d)-1>>>r(E)+1}},44781:function(ae,B,r){"use strict";var D=r(53435);ae.exports=function(M,v){v||(v={});var u,i,s,a,o,l,f,h,T,x=null==v.cutoff?.25:v.cutoff,m=null==v.radius?8:v.radius,b=v.channel||0;if(ArrayBuffer.isView(M)||Array.isArray(M)){if(!v.width||!v.height)throw Error("For raw data width and height should be provided by options");u=v.width,i=v.height,a=M,l=v.stride?v.stride:Math.floor(M.length/u/i)}else window.HTMLCanvasElement&&M instanceof window.HTMLCanvasElement?(a=(f=M).getContext("2d").getImageData(0,0,u=f.width,i=f.height).data,l=4):window.CanvasRenderingContext2D&&M instanceof window.CanvasRenderingContext2D?(u=(f=M.canvas).width,a=M.getImageData(0,0,u,i=f.height).data,l=4):window.ImageData&&M instanceof window.ImageData&&(u=M.width,i=M.height,a=M.data,l=4);if(s=Math.max(u,i),window.Uint8ClampedArray&&a instanceof window.Uint8ClampedArray||window.Uint8Array&&a instanceof window.Uint8Array)for(o=a,a=Array(u*i),h=0,T=o.length;h<T;h++)a[h]=o[h*l+b]/255;else if(1!==l)throw Error("Raw data can have only 1 value per pixel");var _=Array(u*i),w=Array(u*i),A=Array(s),p=Array(s),I=Array(s+1),k=Array(s);for(h=0,T=u*i;h<T;h++){var L=a[h];_[h]=1===L?0:0===L?E:Math.pow(Math.max(0,.5-L),2),w[h]=1===L?E:0===L?0:Math.pow(Math.max(0,L-.5),2)}d(_,u,i,A,p,k,I),d(w,u,i,A,p,k,I);var O=window.Float32Array?new Float32Array(u*i):new Array(u*i);for(h=0,T=u*i;h<T;h++)O[h]=D(1-((_[h]-w[h])/m+x),0,1);return O};var E=1e20;function d(M,v,u,i,s,a,o){for(var l=0;l<v;l++){for(var c=0;c<u;c++)i[c]=M[c*v+l];for(S(i,s,a,o,u),c=0;c<u;c++)M[c*v+l]=s[c]}for(c=0;c<u;c++){for(l=0;l<v;l++)i[l]=M[c*v+l];for(S(i,s,a,o,v),l=0;l<v;l++)M[c*v+l]=Math.sqrt(s[l])}}function S(M,v,u,i,s){u[0]=0,i[0]=-E,i[1]=+E;for(var a=1,o=0;a<s;a++){for(var l=(M[a]+a*a-(M[u[o]]+u[o]*u[o]))/(2*a-2*u[o]);l<=i[o];)o--,l=(M[a]+a*a-(M[u[o]]+u[o]*u[o]))/(2*a-2*u[o]);u[++o]=a,i[o]=l,i[o+1]=+E}for(a=0,o=0;a<s;a++){for(;i[o+1]<a;)o++;v[a]=(a-u[o])*(a-u[o])+M[u[o]]}}},6614:function(ae,B,r){"use strict";var D=r(68318),E=r(68222),d=E(D("String.prototype.indexOf"));ae.exports=function(S,M){var v=D(S,!!M);return"function"==typeof v&&d(S,".prototype.")>-1?E(v):v}},68222:function(ae,B,r){"use strict";var D=r(77575),E=r(68318),d=E("%Function.prototype.apply%"),S=E("%Function.prototype.call%"),M=E("%Reflect.apply%",!0)||D.call(S,d),v=E("%Object.getOwnPropertyDescriptor%",!0),u=E("%Object.defineProperty%",!0),i=E("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}ae.exports=function(a){var o=M(D,S,arguments);return v&&u&&v(o,"length").configurable&&u(o,"length",{value:1+i(0,a.length-(arguments.length-1))}),o};var s=function(){return M(D,d,arguments)};u?u(ae.exports,"apply",{value:s}):ae.exports.apply=s},53435:function(ae){ae.exports=function(B,r,D){return r<D?B<r?r:B>D?D:B:B<D?D:B>r?r:B}},6475:function(ae,B,r){"use strict";var D=r(53435);function E(d,S){null==S&&(S=!0);var M=d[0],v=d[1],u=d[2],i=d[3];return null==i&&(i=S?1:255),S&&(M*=255,v*=255,u*=255,i*=255),16777216*(M=255&D(M,0,255))+((v=255&D(v,0,255))<<16)+((u=255&D(u,0,255))<<8)+(255&D(i,0,255))}ae.exports=E,ae.exports.to=E,ae.exports.from=function(d,S){var M=(d=+d)>>>24,v=(16711680&d)>>>16,u=(65280&d)>>>8,i=255&d;return!1===S?[M,v,u,i]:[M/255,v/255,u/255,i/255]}},76857:function(ae){"use strict";ae.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(ae,B,r){"use strict";var D=r(36652),E=r(53435),d=r(90660);ae.exports=function(S,M){"float"!==M&&M||(M="array"),"uint"===M&&(M="uint8"),"uint_clamped"===M&&(M="uint8_clamped");var i,v=new(d(M))(4),u="uint8"!==M&&"uint8_clamped"!==M;return S.length&&"string"!=typeof S||((S=D(S))[0]/=255,S[1]/=255,S[2]/=255),(i=S)instanceof Uint8Array||i instanceof Uint8ClampedArray||Array.isArray(i)&&(i[0]>1||0===i[0])&&(i[1]>1||0===i[1])&&(i[2]>1||0===i[2])&&(!i[3]||i[3]>1)?(v[0]=S[0],v[1]=S[1],v[2]=S[2],v[3]=null!=S[3]?S[3]:255,u&&(v[0]/=255,v[1]/=255,v[2]/=255,v[3]/=255),v):(u?(v[0]=S[0],v[1]=S[1],v[2]=S[2],v[3]=null!=S[3]?S[3]:1):(v[0]=E(Math.floor(255*S[0]),0,255),v[1]=E(Math.floor(255*S[1]),0,255),v[2]=E(Math.floor(255*S[2]),0,255),v[3]=null==S[3]?255:E(Math.floor(255*S[3]),0,255)),v)}},90736:function(ae,B,r){"use strict";var D=r(76857),E=r(10973),d=r(46775);ae.exports=function(M){var v,u,i=[],s=1;if("string"==typeof M)if(D[M])i=D[M].slice(),u="rgb";else if("transparent"===M)s=0,u="rgb",i=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(M)){var a=M.slice(1);s=1,(c=a.length)<=4?(i=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===c&&(s=parseInt(a[3]+a[3],16)/255)):(i=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===c&&(s=parseInt(a[6]+a[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),u="rgb"}else if(v=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(M)){var o=v[1],l="rgb"===o;u=a=o.replace(/a$/,"");var c="cmyk"===a?4:"gray"===a?1:3;i=v[2].trim().split(/\s*,\s*/).map(function(g,h){if(/%$/.test(g))return h===c?parseFloat(g)/100:"rgb"===a?255*parseFloat(g)/100:parseFloat(g);if("h"===a[h]){if(/deg$/.test(g))return parseFloat(g);if(void 0!==S[g])return S[g]}return parseFloat(g)}),o===a&&i.push(1),s=l||void 0===i[c]?1:i[c],i=i.slice(0,c)}else M.length>10&&/[0-9](?:\s|\/)/.test(M)&&(i=M.match(/([0-9]+)/g).map(function(g){return parseFloat(g)}),u=M.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(M))if(E(M)){var f=d(M.r,M.red,M.R,null);null!==f?(u="rgb",i=[f,d(M.g,M.green,M.G),d(M.b,M.blue,M.B)]):(u="hsl",i=[d(M.h,M.hue,M.H),d(M.s,M.saturation,M.S),d(M.l,M.lightness,M.L,M.b,M.brightness)]),s=d(M.a,M.alpha,M.opacity,1),null!=M.opacity&&(s/=100)}else(Array.isArray(M)||r.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(M))&&(i=[M[0],M[1],M[2]],u="rgb",s=4===M.length?M[3]:1);else u="rgb",i=[M>>>16,(65280&M)>>>8,255&M];return{space:u,values:i,alpha:s}};var S={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(ae,B,r){"use strict";var D=r(90736),E=r(80009),d=r(53435);ae.exports=function(S){var M,v=D(S);return v.space?((M=Array(3))[0]=d(v.values[0],0,255),M[1]=d(v.values[1],0,255),M[2]=d(v.values[2],0,255),"h"===v.space[0]&&(M=E.rgb(M)),M.push(d(v.alpha,0,1)),M):[]}},80009:function(ae,B,r){"use strict";var D=r(6866);ae.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(E){var d,S,M,v,u,i=E[0]/360,s=E[1]/100,a=E[2]/100;if(0===s)return[u=255*a,u,u];d=2*a-(S=a<.5?a*(1+s):a+s-a*s),v=[0,0,0];for(var o=0;o<3;o++)(M=i+.3333333333333333*-(o-1))<0?M++:M>1&&M--,v[o]=255*(u=6*M<1?d+6*(S-d)*M:2*M<1?S:3*M<2?d+(S-d)*(.6666666666666666-M)*6:d);return v}},D.hsl=function(E){var d,S,M=E[0]/255,v=E[1]/255,u=E[2]/255,i=Math.min(M,v,u),s=Math.max(M,v,u),a=s-i;return s===i?d=0:M===s?d=(v-u)/a:v===s?d=2+(u-M)/a:u===s&&(d=4+(M-v)/a),(d=Math.min(60*d,360))<0&&(d+=360),S=(i+s)/2,[d,100*(s===i?0:S<=.5?a/(s+i):a/(2-s-i)),100*S]}},6866:function(ae){"use strict";ae.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(ae){ae.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xe7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xe9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xe9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xe3)o.?tom(e|\xe9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(ae,B,r){"use strict";ae.exports={parse:r(41004),stringify:r(53313)}},63625:function(ae,B,r){"use strict";var D=r(40402);ae.exports={isSize:function(E){return/^[\d\.]/.test(E)||-1!==E.indexOf("/")||-1!==D.indexOf(E)}}},41004:function(ae,B,r){"use strict";var D=r(90448),E=r(38732),d=r(41901),S=r(15659),M=r(96209),v=r(83794),u=r(99011),i=r(63625).isSize;ae.exports=a;var s=a.cache={};function a(l){if("string"!=typeof l)throw new Error("Font argument must be a string.");if(s[l])return s[l];if(""===l)throw new Error("Cannot parse an empty string.");if(-1!==d.indexOf(l))return s[l]={system:l};for(var c,f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},g=u(l,/\s+/);c=g.shift();){if(-1!==E.indexOf(c))return["style","variant","weight","stretch"].forEach(function(T){f[T]=c}),s[l]=f;if(-1===M.indexOf(c))if("normal"!==c&&"small-caps"!==c)if(-1===v.indexOf(c)){if(-1===S.indexOf(c)){if(i(c)){var h=u(c,"/");if(f.size=h[0],null!=h[1]?f.lineHeight=o(h[1]):"/"===g[0]&&(g.shift(),f.lineHeight=o(g.shift())),!g.length)throw new Error("Missing required font-family.");return f.family=u(g.join(" "),/\s*,\s*/).map(D),s[l]=f}throw new Error("Unknown or unsupported font token: "+c)}f.weight=c}else f.stretch=c;else f.variant=c;else f.style=c}throw new Error("Missing required font-size.")}function o(l){var c=parseFloat(l);return c.toString()===l?c:l}},53313:function(ae,B,r){"use strict";var D=r(71299),E=r(63625).isSize,d=l(r(38732)),S=l(r(41901)),M=l(r(15659)),v=l(r(96209)),u=l(r(83794)),i={normal:1,"small-caps":1},s={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a="serif";function o(c,f){if(c&&!f[c]&&!d[c])throw Error("Unknown keyword `"+c+"`");return c}function l(c){for(var f={},g=0;g<c.length;g++)f[c[g]]=1;return f}ae.exports=function(c){if((c=D(c,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return c.system&&o(c.system,S),c.system;if(o(c.style,v),o(c.variant,i),o(c.weight,M),o(c.stretch,u),null==c.size&&(c.size="1rem"),"number"==typeof c.size&&(c.size+="px"),!E)throw Error("Bad size value `"+c.size+"`");c.family||(c.family=a),Array.isArray(c.family)&&(c.family.length||(c.family=[a]),c.family=c.family.map(function(g){return s[g]?g:'"'+g+'"'}).join(", "));var f=[];return f.push(c.style),c.variant!==c.style&&f.push(c.variant),c.weight!==c.variant&&c.weight!==c.style&&f.push(c.weight),c.stretch!==c.weight&&c.stretch!==c.variant&&c.stretch!==c.style&&f.push(c.stretch),f.push(c.size+(null==c.lineHeight||"normal"===c.lineHeight||c.lineHeight+""=="1"?"":"/"+c.lineHeight)),f.push(c.family),f.filter(Boolean).join(" ")}},55174:function(ae,B,r){"use strict";var D,E=r(24582),d=r(10424),S=r(82527),M=r(19012),v=r(21780),u=r(16906),i=Function.prototype.bind,s=Object.defineProperty,a=Object.prototype.hasOwnProperty;D=function(o,l,c){var f,g=d(l)&&S(l.value);return delete(f=M(l)).writable,delete f.value,f.get=function(){return!c.overwriteDefinition&&a.call(this,o)?g:(l.value=i.call(g,c.resolveContext?c.resolveContext(this):this),s(this,o,l),this[o])},f},ae.exports=function(o){var l=v(arguments[1]);return E(l.resolveContext)&&S(l.resolveContext),u(o,function(c,f){return D(f,c,l)})}},62072:function(ae,B,r){"use strict";var D=r(24582),E=r(84985),d=r(95879),S=r(21780),M=r(66741),v=ae.exports=function(u,i){var s,a,o,l,c;return arguments.length<2||"string"!=typeof u?(l=i,i=u,u=null):l=arguments[2],D(u)?(s=M.call(u,"c"),a=M.call(u,"e"),o=M.call(u,"w")):(s=o=!0,a=!1),c={value:i,configurable:s,enumerable:a,writable:o},l?d(S(l),c):c};v.gs=function(u,i,s){var a,o,l,c;return"string"!=typeof u?(l=s,s=i,i=u,u=null):l=arguments[3],D(i)?E(i)?D(s)?E(s)||(l=s,s=void 0):s=void 0:(l=i,i=s=void 0):i=void 0,D(u)?(a=M.call(u,"c"),o=M.call(u,"e")):(a=!0,o=!1),c={get:i,set:s,configurable:a,enumerable:o},l?d(S(l),c):c}},33064:function(ae,B,r){"use strict";function D(l,c){return l<c?-1:l>c?1:l>=c?0:NaN}var E,d;function M(l,c){var f,g,h=l.length,T=-1;if(null==c){for(;++T<h;)if(null!=(f=l[T])&&f>=f)for(g=f;++T<h;)null!=(f=l[T])&&f>g&&(g=f)}else for(;++T<h;)if(null!=(f=c(l[T],T,l))&&f>=f)for(g=f;++T<h;)null!=(f=c(l[T],T,l))&&f>g&&(g=f);return g}function v(l){return null===l?NaN:+l}function u(l,c){var f,g=l.length,h=g,T=-1,x=0;if(null==c)for(;++T<g;)isNaN(f=v(l[T]))?--h:x+=f;else for(;++T<g;)isNaN(f=v(c(l[T],T,l)))?--h:x+=f;if(h)return x/h}function i(l){for(var c,f,g,h=l.length,T=-1,x=0;++T<h;)x+=l[T].length;for(f=new Array(x);--h>=0;)for(c=(g=l[h]).length;--c>=0;)f[--x]=g[c];return f}function s(l,c){var f,g,h=l.length,T=-1;if(null==c){for(;++T<h;)if(null!=(f=l[T])&&f>=f)for(g=f;++T<h;)null!=(f=l[T])&&g>f&&(g=f)}else for(;++T<h;)if(null!=(f=c(l[T],T,l))&&f>=f)for(g=f;++T<h;)null!=(f=c(l[T],T,l))&&g>f&&(g=f);return g}function a(l,c,f){l=+l,c=+c,f=(h=arguments.length)<2?(c=l,l=0,1):h<3?1:+f;for(var g=-1,h=0|Math.max(0,Math.ceil((c-l)/f)),T=new Array(h);++g<h;)T[g]=l+g*f;return T}function o(l,c){var f,g=l.length,h=-1,T=0;if(null==c)for(;++h<g;)(f=+l[h])&&(T+=f);else for(;++h<g;)(f=+c(l[h],h,l))&&(T+=f);return T}r.d(B,{j2:function(){return D},Fp:function(){return M},J6:function(){return u},TS:function(){return i},VV:function(){return s},w6:function(){return a},Sm:function(){return o}}),1===(E=D).length&&(d=E,E=function(l,c){return D(d(l),c)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2)},15140:function(ae,B,r){"use strict";r.d(B,{UI:function(){return S},b1:function(){return M}});var D="$";function E(){}function d(l,c){var f=new E;if(l instanceof E)l.each(function(m,b){f.set(b,m)});else if(Array.isArray(l)){var g,h=-1,T=l.length;if(null==c)for(;++h<T;)f.set(h,l[h]);else for(;++h<T;)f.set(c(g=l[h],h,l),g)}else if(l)for(var x in l)f.set(x,l[x]);return f}E.prototype=d.prototype={constructor:E,has:function(l){return D+l in this},get:function(l){return this[D+l]},set:function(l,c){return this[D+l]=c,this},remove:function(l){var c=D+l;return c in this&&delete this[c]},clear:function(){for(var l in this)l[0]===D&&delete this[l]},keys:function(){var l=[];for(var c in this)c[0]===D&&l.push(c.slice(1));return l},values:function(){var l=[];for(var c in this)c[0]===D&&l.push(this[c]);return l},entries:function(){var l=[];for(var c in this)c[0]===D&&l.push({key:c.slice(1),value:this[c]});return l},size:function(){var l=0;for(var c in this)c[0]===D&&++l;return l},empty:function(){for(var l in this)if(l[0]===D)return!1;return!0},each:function(l){for(var c in this)c[0]===D&&l(this[c],c.slice(1),this)}};var S=d;function M(){var l,c,f,g=[],h=[];function T(m,b,_,w){if(b>=g.length)return null!=l&&m.sort(l),null!=c?c(m):m;for(var A,p,I,k=-1,L=m.length,O=g[b++],P=S(),F=_();++k<L;)(I=P.get(A=O(p=m[k])+""))?I.push(p):P.set(A,[p]);return P.each(function(j,X){w(F,X,T(j,b,_,w))}),F}function x(m,b){if(++b>g.length)return m;var _,w=h[b-1];return null!=c&&b>=g.length?_=m.entries():(_=[],m.each(function(A,p){_.push({key:p,values:x(A,b)})})),null!=w?_.sort(function(A,p){return w(A.key,p.key)}):_}return f={object:function(m){return T(m,0,v,u)},map:function(m){return T(m,0,i,s)},entries:function(m){return x(T(m,0,i,s),0)},key:function(m){return g.push(m),f},sortKeys:function(m){return h[g.length-1]=m,f},sortValues:function(m){return l=m,f},rollup:function(m){return c=m,f}}}function v(){return{}}function u(l,c,f){l[c]=f}function i(){return S()}function s(l,c,f){l.set(c,f)}function a(){}var o=S.prototype;a.prototype=function(l,c){var f=new a;if(l instanceof a)l.each(function(T){f.add(T)});else if(l){var g=-1,h=l.length;if(null==c)for(;++g<h;)f.add(l[g]);else for(;++g<h;)f.add(c(l[g],g,l))}return f}.prototype={constructor:a,has:o.has,add:function(l){return this[D+(l+="")]=l,this},remove:o.remove,clear:o.clear,values:o.keys,size:o.size,empty:o.empty,each:o.each}},49887:function(ae,B,r){"use strict";function D(_e,we){var ze;function Ee(){var Se,me,fe=ze.length,le=0,Te=0;for(Se=0;Se<fe;++Se)le+=(me=ze[Se]).x,Te+=me.y;for(le=le/fe-_e,Te=Te/fe-we,Se=0;Se<fe;++Se)(me=ze[Se]).x-=le,me.y-=Te}return null==_e&&(_e=0),null==we&&(we=0),Ee.initialize=function(Se){ze=Se},Ee.x=function(Se){return arguments.length?(_e=+Se,Ee):_e},Ee.y=function(Se){return arguments.length?(we=+Se,Ee):we},Ee}function E(_e){return function(){return _e}}function d(){return 1e-6*(Math.random()-.5)}function S(_e,we,ze,Ee){if(isNaN(we)||isNaN(ze))return _e;var Se,me,fe,le,Te,Re,De,Ue,Ze,xe=_e._root,Oe={data:Ee},Ce=_e._x0,Be=_e._y0,qe=_e._x1,He=_e._y1;if(!xe)return _e._root=Oe,_e;for(;xe.length;)if((Re=we>=(me=(Ce+qe)/2))?Ce=me:qe=me,(De=ze>=(fe=(Be+He)/2))?Be=fe:He=fe,Se=xe,!(xe=xe[Ue=De<<1|Re]))return Se[Ue]=Oe,_e;if(le=+_e._x.call(null,xe.data),Te=+_e._y.call(null,xe.data),we===le&&ze===Te)return Oe.next=xe,Se?Se[Ue]=Oe:_e._root=Oe,_e;do{Se=Se?Se[Ue]=new Array(4):_e._root=new Array(4),(Re=we>=(me=(Ce+qe)/2))?Ce=me:qe=me,(De=ze>=(fe=(Be+He)/2))?Be=fe:He=fe}while((Ue=De<<1|Re)==(Ze=(Te>=fe)<<1|le>=me));return Se[Ze]=xe,Se[Ue]=Oe,_e}function M(_e,we,ze,Ee,Se){this.node=_e,this.x0=we,this.y0=ze,this.x1=Ee,this.y1=Se}function v(_e){return _e[0]}function u(_e){return _e[1]}function i(_e,we,ze){var Ee=new s(we??v,ze??u,NaN,NaN,NaN,NaN);return null==_e?Ee:Ee.addAll(_e)}function s(_e,we,ze,Ee,Se,me){this._x=_e,this._y=we,this._x0=ze,this._y0=Ee,this._x1=Se,this._y1=me,this._root=void 0}function a(_e){for(var we={data:_e.data},ze=we;_e=_e.next;)ze=ze.next={data:_e.data};return we}r.r(B),r.d(B,{forceCenter:function(){return D},forceCollide:function(){return f},forceLink:function(){return x},forceManyBody:function(){return ve},forceRadial:function(){return ke},forceSimulation:function(){return he},forceX:function(){return Ie},forceY:function(){return Me}});var o=i.prototype=s.prototype;function l(_e){return _e.x+_e.vx}function c(_e){return _e.y+_e.vy}function f(_e){var we,ze,Ee=1,Se=1;function me(){for(var Te,Re,De,Ue,Ze,xe,Oe,Ce=we.length,Be=0;Be<Se;++Be)for(Re=i(we,l,c).visitAfter(fe),Te=0;Te<Ce;++Te)Oe=(xe=ze[(De=we[Te]).index])*xe,Ue=De.x+De.vx,Ze=De.y+De.vy,Re.visit(qe);function qe(He,Je,et,st,pt){var ct=He.data,St=He.r,Dt=xe+St;if(!ct)return Je>Ue+Dt||st<Ue-Dt||et>Ze+Dt||pt<Ze-Dt;if(ct.index>De.index){var vt=Ue-ct.x-ct.vx,gt=Ze-ct.y-ct.vy,Et=vt*vt+gt*gt;Et<Dt*Dt&&(0===vt&&(Et+=(vt=d())*vt),0===gt&&(Et+=(gt=d())*gt),Et=(Dt-(Et=Math.sqrt(Et)))/Et*Ee,De.vx+=(vt*=Et)*(Dt=(St*=St)/(Oe+St)),De.vy+=(gt*=Et)*Dt,ct.vx-=vt*(Dt=1-Dt),ct.vy-=gt*Dt)}}}function fe(Te){if(Te.data)return Te.r=ze[Te.data.index];for(var Re=Te.r=0;Re<4;++Re)Te[Re]&&Te[Re].r>Te.r&&(Te.r=Te[Re].r)}function le(){if(we){var Te,Re,De=we.length;for(ze=new Array(De),Te=0;Te<De;++Te)ze[(Re=we[Te]).index]=+_e(Re,Te,we)}}return"function"!=typeof _e&&(_e=E(null==_e?1:+_e)),me.initialize=function(Te){we=Te,le()},me.iterations=function(Te){return arguments.length?(Se=+Te,me):Se},me.strength=function(Te){return arguments.length?(Ee=+Te,me):Ee},me.radius=function(Te){return arguments.length?(_e="function"==typeof Te?Te:E(+Te),le(),me):_e},me}o.copy=function(){var _e,we,ze=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ee=this._root;if(!Ee)return ze;if(!Ee.length)return ze._root=a(Ee),ze;for(_e=[{source:Ee,target:ze._root=new Array(4)}];Ee=_e.pop();)for(var Se=0;Se<4;++Se)(we=Ee.source[Se])&&(we.length?_e.push({source:we,target:Ee.target[Se]=new Array(4)}):Ee.target[Se]=a(we));return ze},o.add=function(_e){var we=+this._x.call(null,_e),ze=+this._y.call(null,_e);return S(this.cover(we,ze),we,ze,_e)},o.addAll=function(_e){var we,ze,Ee,Se,me=_e.length,fe=new Array(me),le=new Array(me),Te=1/0,Re=1/0,De=-1/0,Ue=-1/0;for(ze=0;ze<me;++ze)isNaN(Ee=+this._x.call(null,we=_e[ze]))||isNaN(Se=+this._y.call(null,we))||(fe[ze]=Ee,le[ze]=Se,Ee<Te&&(Te=Ee),Ee>De&&(De=Ee),Se<Re&&(Re=Se),Se>Ue&&(Ue=Se));if(Te>De||Re>Ue)return this;for(this.cover(Te,Re).cover(De,Ue),ze=0;ze<me;++ze)S(this,fe[ze],le[ze],_e[ze]);return this},o.cover=function(_e,we){if(isNaN(_e=+_e)||isNaN(we=+we))return this;var ze=this._x0,Ee=this._y0,Se=this._x1,me=this._y1;if(isNaN(ze))Se=(ze=Math.floor(_e))+1,me=(Ee=Math.floor(we))+1;else{for(var fe,le,Te=Se-ze,Re=this._root;ze>_e||_e>=Se||Ee>we||we>=me;)switch(le=(we<Ee)<<1|_e<ze,(fe=new Array(4))[le]=Re,Re=fe,Te*=2,le){case 0:Se=ze+Te,me=Ee+Te;break;case 1:ze=Se-Te,me=Ee+Te;break;case 2:Se=ze+Te,Ee=me-Te;break;case 3:ze=Se-Te,Ee=me-Te}this._root&&this._root.length&&(this._root=Re)}return this._x0=ze,this._y0=Ee,this._x1=Se,this._y1=me,this},o.data=function(){var _e=[];return this.visit(function(we){if(!we.length)do{_e.push(we.data)}while(we=we.next)}),_e},o.extent=function(_e){return arguments.length?this.cover(+_e[0][0],+_e[0][1]).cover(+_e[1][0],+_e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},o.find=function(_e,we,ze){var Ee,Se,me,fe,le,Te,Re,De=this._x0,Ue=this._y0,Ze=this._x1,xe=this._y1,Oe=[],Ce=this._root;for(Ce&&Oe.push(new M(Ce,De,Ue,Ze,xe)),null==ze?ze=1/0:(De=_e-ze,Ue=we-ze,Ze=_e+ze,xe=we+ze,ze*=ze);Te=Oe.pop();)if(!(!(Ce=Te.node)||(Se=Te.x0)>Ze||(me=Te.y0)>xe||(fe=Te.x1)<De||(le=Te.y1)<Ue))if(Ce.length){var Be=(Se+fe)/2,qe=(me+le)/2;Oe.push(new M(Ce[3],Be,qe,fe,le),new M(Ce[2],Se,qe,Be,le),new M(Ce[1],Be,me,fe,qe),new M(Ce[0],Se,me,Be,qe)),(Re=(we>=qe)<<1|_e>=Be)&&(Te=Oe[Oe.length-1],Oe[Oe.length-1]=Oe[Oe.length-1-Re],Oe[Oe.length-1-Re]=Te)}else{var He=_e-+this._x.call(null,Ce.data),Je=we-+this._y.call(null,Ce.data),et=He*He+Je*Je;if(et<ze){var st=Math.sqrt(ze=et);De=_e-st,Ue=we-st,Ze=_e+st,xe=we+st,Ee=Ce.data}}return Ee},o.remove=function(_e){if(isNaN(me=+this._x.call(null,_e))||isNaN(fe=+this._y.call(null,_e)))return this;var we,ze,Ee,Se,me,fe,le,Te,Re,De,Ue,Ze,xe=this._root,Oe=this._x0,Ce=this._y0,Be=this._x1,qe=this._y1;if(!xe)return this;if(xe.length)for(;;){if((Re=me>=(le=(Oe+Be)/2))?Oe=le:Be=le,(De=fe>=(Te=(Ce+qe)/2))?Ce=Te:qe=Te,we=xe,!(xe=xe[Ue=De<<1|Re]))return this;if(!xe.length)break;(we[Ue+1&3]||we[Ue+2&3]||we[Ue+3&3])&&(ze=we,Ze=Ue)}for(;xe.data!==_e;)if(Ee=xe,!(xe=xe.next))return this;return(Se=xe.next)&&delete xe.next,Ee?(Se?Ee.next=Se:delete Ee.next,this):we?(Se?we[Ue]=Se:delete we[Ue],(xe=we[0]||we[1]||we[2]||we[3])&&xe===(we[3]||we[2]||we[1]||we[0])&&!xe.length&&(ze?ze[Ze]=xe:this._root=xe),this):(this._root=Se,this)},o.removeAll=function(_e){for(var we=0,ze=_e.length;we<ze;++we)this.remove(_e[we]);return this},o.root=function(){return this._root},o.size=function(){var _e=0;return this.visit(function(we){if(!we.length)do{++_e}while(we=we.next)}),_e},o.visit=function(_e){var we,ze,Ee,Se,me,fe,le=[],Te=this._root;for(Te&&le.push(new M(Te,this._x0,this._y0,this._x1,this._y1));we=le.pop();)if(!_e(Te=we.node,Ee=we.x0,Se=we.y0,me=we.x1,fe=we.y1)&&Te.length){var Re=(Ee+me)/2,De=(Se+fe)/2;(ze=Te[3])&&le.push(new M(ze,Re,De,me,fe)),(ze=Te[2])&&le.push(new M(ze,Ee,De,Re,fe)),(ze=Te[1])&&le.push(new M(ze,Re,Se,me,De)),(ze=Te[0])&&le.push(new M(ze,Ee,Se,Re,De))}return this},o.visitAfter=function(_e){var we,ze=[],Ee=[];for(this._root&&ze.push(new M(this._root,this._x0,this._y0,this._x1,this._y1));we=ze.pop();){var Se=we.node;if(Se.length){var me,fe=we.x0,le=we.y0,Te=we.x1,Re=we.y1,De=(fe+Te)/2,Ue=(le+Re)/2;(me=Se[0])&&ze.push(new M(me,fe,le,De,Ue)),(me=Se[1])&&ze.push(new M(me,De,le,Te,Ue)),(me=Se[2])&&ze.push(new M(me,fe,Ue,De,Re)),(me=Se[3])&&ze.push(new M(me,De,Ue,Te,Re))}Ee.push(we)}for(;we=Ee.pop();)_e(we.node,we.x0,we.y0,we.x1,we.y1);return this},o.x=function(_e){return arguments.length?(this._x=_e,this):this._x},o.y=function(_e){return arguments.length?(this._y=_e,this):this._y};var g=r(15140);function h(_e){return _e.index}function T(_e,we){var ze=_e.get(we);if(!ze)throw new Error("missing: "+we);return ze}function x(_e){var we,ze,Ee,Se,me,fe=h,le=function(Oe){return 1/Math.min(Se[Oe.source.index],Se[Oe.target.index])},Te=E(30),Re=1;function De(Oe){for(var Ce=0,Be=_e.length;Ce<Re;++Ce)for(var qe,He,Je,et,st,pt,ct,St=0;St<Be;++St)He=(qe=_e[St]).source,et=(Je=qe.target).x+Je.vx-He.x-He.vx||d(),st=Je.y+Je.vy-He.y-He.vy||d(),et*=pt=((pt=Math.sqrt(et*et+st*st))-ze[St])/pt*Oe*we[St],st*=pt,Je.vx-=et*(ct=me[St]),Je.vy-=st*ct,He.vx+=et*(ct=1-ct),He.vy+=st*ct}function Ue(){if(Ee){var Oe,Ce,Be=Ee.length,qe=_e.length,He=(0,g.UI)(Ee,fe);for(Oe=0,Se=new Array(Be);Oe<qe;++Oe)(Ce=_e[Oe]).index=Oe,"object"!=typeof Ce.source&&(Ce.source=T(He,Ce.source)),"object"!=typeof Ce.target&&(Ce.target=T(He,Ce.target)),Se[Ce.source.index]=(Se[Ce.source.index]||0)+1,Se[Ce.target.index]=(Se[Ce.target.index]||0)+1;for(Oe=0,me=new Array(qe);Oe<qe;++Oe)me[Oe]=Se[(Ce=_e[Oe]).source.index]/(Se[Ce.source.index]+Se[Ce.target.index]);we=new Array(qe),Ze(),ze=new Array(qe),xe()}}function Ze(){if(Ee)for(var Oe=0,Ce=_e.length;Oe<Ce;++Oe)we[Oe]=+le(_e[Oe],Oe,_e)}function xe(){if(Ee)for(var Oe=0,Ce=_e.length;Oe<Ce;++Oe)ze[Oe]=+Te(_e[Oe],Oe,_e)}return null==_e&&(_e=[]),De.initialize=function(Oe){Ee=Oe,Ue()},De.links=function(Oe){return arguments.length?(_e=Oe,Ue(),De):_e},De.id=function(Oe){return arguments.length?(fe=Oe,De):fe},De.iterations=function(Oe){return arguments.length?(Re=+Oe,De):Re},De.strength=function(Oe){return arguments.length?(le="function"==typeof Oe?Oe:E(+Oe),Ze(),De):le},De.distance=function(Oe){return arguments.length?(Te="function"==typeof Oe?Oe:E(+Oe),xe(),De):Te},De}var m={value:function(){}};function b(){for(var _e,we=0,ze=arguments.length,Ee={};we<ze;++we){if(!(_e=arguments[we]+"")||_e in Ee||/[\s.]/.test(_e))throw new Error("illegal type: "+_e);Ee[_e]=[]}return new _(Ee)}function _(_e){this._=_e}function w(_e,we){for(var ze,Ee=0,Se=_e.length;Ee<Se;++Ee)if((ze=_e[Ee]).name===we)return ze.value}function A(_e,we,ze){for(var Ee=0,Se=_e.length;Ee<Se;++Ee)if(_e[Ee].name===we){_e[Ee]=m,_e=_e.slice(0,Ee).concat(_e.slice(Ee+1));break}return null!=ze&&_e.push({name:we,value:ze}),_e}_.prototype=b.prototype={constructor:_,on:function(_e,we){var ze,Ee,Se=this._,me=(Ee=Se,(_e+"").trim().split(/^|\s+/).map(function(Te){var Re="",De=Te.indexOf(".");if(De>=0&&(Re=Te.slice(De+1),Te=Te.slice(0,De)),Te&&!Ee.hasOwnProperty(Te))throw new Error("unknown type: "+Te);return{type:Te,name:Re}})),fe=-1,le=me.length;if(!(arguments.length<2)){if(null!=we&&"function"!=typeof we)throw new Error("invalid callback: "+we);for(;++fe<le;)if(ze=(_e=me[fe]).type)Se[ze]=A(Se[ze],_e.name,we);else if(null==we)for(ze in Se)Se[ze]=A(Se[ze],_e.name,null);return this}for(;++fe<le;)if((ze=(_e=me[fe]).type)&&(ze=w(Se[ze],_e.name)))return ze},copy:function(){var _e={},we=this._;for(var ze in we)_e[ze]=we[ze].slice();return new _(_e)},call:function(_e,we){if((ze=arguments.length-2)>0)for(var ze,Ee,Se=new Array(ze),me=0;me<ze;++me)Se[me]=arguments[me+2];if(!this._.hasOwnProperty(_e))throw new Error("unknown type: "+_e);for(me=0,ze=(Ee=this._[_e]).length;me<ze;++me)Ee[me].value.apply(we,Se)},apply:function(_e,we,ze){if(!this._.hasOwnProperty(_e))throw new Error("unknown type: "+_e);for(var Ee=this._[_e],Se=0,me=Ee.length;Se<me;++Se)Ee[Se].value.apply(we,ze)}};var p,I,k=b,L=0,O=0,P=0,F=1e3,j=0,X=0,N=0,q="object"==typeof performance&&performance.now?performance:Date,G="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(_e){setTimeout(_e,17)};function H(){return X||(G(Z),X=q.now()+N)}function Z(){X=0}function $(){this._call=this._time=this._next=null}function se(_e,we,ze){var Ee=new $;return Ee.restart(_e,we,ze),Ee}function ne(){X=(j=q.now())+N,L=O=0;try{!function(){H(),++L;for(var _e,we=p;we;)(_e=X-we._time)>=0&&we._call.call(null,_e),we=we._next;--L}()}finally{L=0,function(){for(var _e,we,ze=p,Ee=1/0;ze;)ze._call?(Ee>ze._time&&(Ee=ze._time),_e=ze,ze=ze._next):(we=ze._next,ze._next=null,ze=_e?_e._next=we:p=we);I=_e,Q(Ee)}(),X=0}}function re(){var _e=q.now(),we=_e-j;we>F&&(N-=we,j=_e)}function Q(_e){L||(O&&(O=clearTimeout(O)),_e-X>24?(_e<1/0&&(O=setTimeout(ne,_e-q.now()-N)),P&&(P=clearInterval(P))):(P||(j=q.now(),P=setInterval(re,F)),L=1,G(ne)))}function ee(_e){return _e.x}function oe(_e){return _e.y}$.prototype=se.prototype={constructor:$,restart:function(_e,we,ze){if("function"!=typeof _e)throw new TypeError("callback is not a function");ze=(null==ze?H():+ze)+(null==we?0:+we),this._next||I===this||(I?I._next=this:p=this,I=this),this._call=_e,this._time=ze,Q()},stop:function(){this._call&&(this._call=null,this._time=1/0,Q())}};var ce=10,ue=Math.PI*(3-Math.sqrt(5));function he(_e){var we,ze=1,Ee=.001,Se=1-Math.pow(Ee,1/300),me=0,fe=.6,le=(0,g.UI)(),Te=se(De),Re=k("tick","end");function De(){Ue(),Re.call("tick",we),ze<Ee&&(Te.stop(),Re.call("end",we))}function Ue(Oe){var Ce,Be,qe=_e.length;void 0===Oe&&(Oe=1);for(var He=0;He<Oe;++He)for(ze+=(me-ze)*Se,le.each(function(Je){Je(ze)}),Ce=0;Ce<qe;++Ce)null==(Be=_e[Ce]).fx?Be.x+=Be.vx*=fe:(Be.x=Be.fx,Be.vx=0),null==Be.fy?Be.y+=Be.vy*=fe:(Be.y=Be.fy,Be.vy=0);return we}function Ze(){for(var Oe,Ce=0,Be=_e.length;Ce<Be;++Ce){if((Oe=_e[Ce]).index=Ce,null!=Oe.fx&&(Oe.x=Oe.fx),null!=Oe.fy&&(Oe.y=Oe.fy),isNaN(Oe.x)||isNaN(Oe.y)){var qe=ce*Math.sqrt(Ce),He=Ce*ue;Oe.x=qe*Math.cos(He),Oe.y=qe*Math.sin(He)}(isNaN(Oe.vx)||isNaN(Oe.vy))&&(Oe.vx=Oe.vy=0)}}function xe(Oe){return Oe.initialize&&Oe.initialize(_e),Oe}return null==_e&&(_e=[]),Ze(),we={tick:Ue,restart:function(){return Te.restart(De),we},stop:function(){return Te.stop(),we},nodes:function(Oe){return arguments.length?(_e=Oe,Ze(),le.each(xe),we):_e},alpha:function(Oe){return arguments.length?(ze=+Oe,we):ze},alphaMin:function(Oe){return arguments.length?(Ee=+Oe,we):Ee},alphaDecay:function(Oe){return arguments.length?(Se=+Oe,we):+Se},alphaTarget:function(Oe){return arguments.length?(me=+Oe,we):me},velocityDecay:function(Oe){return arguments.length?(fe=1-Oe,we):1-fe},force:function(Oe,Ce){return arguments.length>1?(null==Ce?le.remove(Oe):le.set(Oe,xe(Ce)),we):le.get(Oe)},find:function(Oe,Ce,Be){var qe,He,Je,et,st,pt=0,ct=_e.length;for(null==Be?Be=1/0:Be*=Be,pt=0;pt<ct;++pt)(Je=(qe=Oe-(et=_e[pt]).x)*qe+(He=Ce-et.y)*He)<Be&&(st=et,Be=Je);return st},on:function(Oe,Ce){return arguments.length>1?(Re.on(Oe,Ce),we):Re.on(Oe)}}}function ve(){var _e,we,ze,Ee,Se=E(-30),me=1,fe=1/0,le=.81;function Te(Ze){var xe,Oe=_e.length,Ce=i(_e,ee,oe).visitAfter(De);for(ze=Ze,xe=0;xe<Oe;++xe)we=_e[xe],Ce.visit(Ue)}function Re(){if(_e){var Ze,xe,Oe=_e.length;for(Ee=new Array(Oe),Ze=0;Ze<Oe;++Ze)Ee[(xe=_e[Ze]).index]=+Se(xe,Ze,_e)}}function De(Ze){var xe,Oe,Ce,Be,qe,He=0,Je=0;if(Ze.length){for(Ce=Be=qe=0;qe<4;++qe)(xe=Ze[qe])&&(Oe=Math.abs(xe.value))&&(He+=xe.value,Je+=Oe,Ce+=Oe*xe.x,Be+=Oe*xe.y);Ze.x=Ce/Je,Ze.y=Be/Je}else{(xe=Ze).x=xe.data.x,xe.y=xe.data.y;do{He+=Ee[xe.data.index]}while(xe=xe.next)}Ze.value=He}function Ue(Ze,xe,Oe,Ce){if(!Ze.value)return!0;var Be=Ze.x-we.x,qe=Ze.y-we.y,He=Ce-xe,Je=Be*Be+qe*qe;if(He*He/le<Je)return Je<fe&&(0===Be&&(Je+=(Be=d())*Be),0===qe&&(Je+=(qe=d())*qe),Je<me&&(Je=Math.sqrt(me*Je)),we.vx+=Be*Ze.value*ze/Je,we.vy+=qe*Ze.value*ze/Je),!0;if(!(Ze.length||Je>=fe)){(Ze.data!==we||Ze.next)&&(0===Be&&(Je+=(Be=d())*Be),0===qe&&(Je+=(qe=d())*qe),Je<me&&(Je=Math.sqrt(me*Je)));do{Ze.data!==we&&(we.vx+=Be*(He=Ee[Ze.data.index]*ze/Je),we.vy+=qe*He)}while(Ze=Ze.next)}}return Te.initialize=function(Ze){_e=Ze,Re()},Te.strength=function(Ze){return arguments.length?(Se="function"==typeof Ze?Ze:E(+Ze),Re(),Te):Se},Te.distanceMin=function(Ze){return arguments.length?(me=Ze*Ze,Te):Math.sqrt(me)},Te.distanceMax=function(Ze){return arguments.length?(fe=Ze*Ze,Te):Math.sqrt(fe)},Te.theta=function(Ze){return arguments.length?(le=Ze*Ze,Te):Math.sqrt(le)},Te}function ke(_e,we,ze){var Ee,Se,me,fe=E(.1);function le(Re){for(var De=0,Ue=Ee.length;De<Ue;++De){var Ze=Ee[De],xe=Ze.x-we||1e-6,Oe=Ze.y-ze||1e-6,Ce=Math.sqrt(xe*xe+Oe*Oe),Be=(me[De]-Ce)*Se[De]*Re/Ce;Ze.vx+=xe*Be,Ze.vy+=Oe*Be}}function Te(){if(Ee){var Re,De=Ee.length;for(Se=new Array(De),me=new Array(De),Re=0;Re<De;++Re)me[Re]=+_e(Ee[Re],Re,Ee),Se[Re]=isNaN(me[Re])?0:+fe(Ee[Re],Re,Ee)}}return"function"!=typeof _e&&(_e=E(+_e)),null==we&&(we=0),null==ze&&(ze=0),le.initialize=function(Re){Ee=Re,Te()},le.strength=function(Re){return arguments.length?(fe="function"==typeof Re?Re:E(+Re),Te(),le):fe},le.radius=function(Re){return arguments.length?(_e="function"==typeof Re?Re:E(+Re),Te(),le):_e},le.x=function(Re){return arguments.length?(we=+Re,le):we},le.y=function(Re){return arguments.length?(ze=+Re,le):ze},le}function Ie(_e){var we,ze,Ee,Se=E(.1);function me(le){for(var Te,Re=0,De=we.length;Re<De;++Re)(Te=we[Re]).vx+=(Ee[Re]-Te.x)*ze[Re]*le}function fe(){if(we){var le,Te=we.length;for(ze=new Array(Te),Ee=new Array(Te),le=0;le<Te;++le)ze[le]=isNaN(Ee[le]=+_e(we[le],le,we))?0:+Se(we[le],le,we)}}return"function"!=typeof _e&&(_e=E(null==_e?0:+_e)),me.initialize=function(le){we=le,fe()},me.strength=function(le){return arguments.length?(Se="function"==typeof le?le:E(+le),fe(),me):Se},me.x=function(le){return arguments.length?(_e="function"==typeof le?le:E(+le),fe(),me):_e},me}function Me(_e){var we,ze,Ee,Se=E(.1);function me(le){for(var Te,Re=0,De=we.length;Re<De;++Re)(Te=we[Re]).vy+=(Ee[Re]-Te.y)*ze[Re]*le}function fe(){if(we){var le,Te=we.length;for(ze=new Array(Te),Ee=new Array(Te),le=0;le<Te;++le)ze[le]=isNaN(Ee[le]=+_e(we[le],le,we))?0:+Se(we[le],le,we)}}return"function"!=typeof _e&&(_e=E(null==_e?0:+_e)),me.initialize=function(le){we=le,fe()},me.strength=function(le){return arguments.length?(Se="function"==typeof le?le:E(+le),fe(),me):Se},me.y=function(le){return arguments.length?(_e="function"==typeof le?le:E(+le),fe(),me):_e},me}},60721:function(ae,B,r){"use strict";function D(f,g){if((h=(f=g?f.toExponential(g-1):f.toExponential()).indexOf("e"))<0)return null;var h,T=f.slice(0,h);return[T.length>1?T[0]+T.slice(2):T,+f.slice(h+1)]}r.d(B,{WU:function(){return a},FF:function(){return c}});var E,d=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function S(f){if(!(g=d.exec(f)))throw new Error("invalid format: "+f);var g;return new M({fill:g[1],align:g[2],sign:g[3],symbol:g[4],zero:g[5],width:g[6],comma:g[7],precision:g[8]&&g[8].slice(1),trim:g[9],type:g[10]})}function M(f){this.fill=void 0===f.fill?" ":f.fill+"",this.align=void 0===f.align?">":f.align+"",this.sign=void 0===f.sign?"-":f.sign+"",this.symbol=void 0===f.symbol?"":f.symbol+"",this.zero=!!f.zero,this.width=void 0===f.width?void 0:+f.width,this.comma=!!f.comma,this.precision=void 0===f.precision?void 0:+f.precision,this.trim=!!f.trim,this.type=void 0===f.type?"":f.type+""}function v(f,g){var h=D(f,g);if(!h)return f+"";var T=h[0],x=h[1];return x<0?"0."+new Array(-x).join("0")+T:T.length>x+1?T.slice(0,x+1)+"."+T.slice(x+1):T+new Array(x-T.length+2).join("0")}S.prototype=M.prototype,M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var u={"%":function(f,g){return(100*f).toFixed(g)},b:function(f){return Math.round(f).toString(2)},c:function(f){return f+""},d:function(f){return Math.abs(f=Math.round(f))>=1e21?f.toLocaleString("en").replace(/,/g,""):f.toString(10)},e:function(f,g){return f.toExponential(g)},f:function(f,g){return f.toFixed(g)},g:function(f,g){return f.toPrecision(g)},o:function(f){return Math.round(f).toString(8)},p:function(f,g){return v(100*f,g)},r:v,s:function(f,g){var h=D(f,g);if(!h)return f+"";var T=h[0],x=h[1],m=x-(E=3*Math.max(-8,Math.min(8,Math.floor(x/3))))+1,b=T.length;return m===b?T:m>b?T+new Array(m-b+1).join("0"):m>0?T.slice(0,m)+"."+T.slice(m):"0."+new Array(1-m).join("0")+D(f,Math.max(0,g+m-1))[0]},X:function(f){return Math.round(f).toString(16).toUpperCase()},x:function(f){return Math.round(f).toString(16)}};function i(f){return f}var s,a,o=Array.prototype.map,l=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function c(f){var g,h,k,T=void 0===f.grouping||void 0===f.thousands?i:(g=o.call(f.grouping,Number),h=f.thousands+"",function(k,L){for(var O=k.length,P=[],F=0,j=g[0],X=0;O>0&&j>0&&(X+j+1>L&&(j=Math.max(1,L-X)),P.push(k.substring(O-=j,O+j)),!((X+=j+1)>L));)j=g[F=(F+1)%g.length];return P.reverse().join(h)}),x=void 0===f.currency?"":f.currency[0]+"",m=void 0===f.currency?"":f.currency[1]+"",b=void 0===f.decimal?".":f.decimal+"",_=void 0===f.numerals?i:(k=o.call(f.numerals,String),function(L){return L.replace(/[0-9]/g,function(O){return k[+O]})}),w=void 0===f.percent?"%":f.percent+"",A=void 0===f.minus?"-":f.minus+"",p=void 0===f.nan?"NaN":f.nan+"";function I(k){var L=(k=S(k)).fill,O=k.align,P=k.sign,F=k.symbol,j=k.zero,X=k.width,N=k.comma,q=k.precision,G=k.trim,H=k.type;"n"===H?(N=!0,H="g"):u[H]||(void 0===q&&(q=12),G=!0,H="g"),(j||"0"===L&&"="===O)&&(j=!0,L="0",O="=");var Z="$"===F?x:"#"===F&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",$="$"===F?m:/[%p]/.test(H)?w:"",se=u[H],ne=/[defgprs%]/.test(H);function re(Q){var ee,oe,ce,ue=Z,he=$;if("c"===H)he=se(Q)+he,Q="";else{var ve=(Q=+Q)<0||1/Q<0;if(Q=isNaN(Q)?p:se(Math.abs(Q),q),G&&(Q=function(Me){e:for(var _e,we=Me.length,ze=1,Ee=-1;ze<we;++ze)switch(Me[ze]){case".":Ee=_e=ze;break;case"0":0===Ee&&(Ee=ze),_e=ze;break;default:if(!+Me[ze])break e;Ee>0&&(Ee=0)}return Ee>0?Me.slice(0,Ee)+Me.slice(_e+1):Me}(Q)),ve&&0==+Q&&"+"!==P&&(ve=!1),ue=(ve?"("===P?P:A:"-"===P||"("===P?"":P)+ue,he=("s"===H?l[8+E/3]:"")+he+(ve&&"("===P?")":""),ne)for(ee=-1,oe=Q.length;++ee<oe;)if(48>(ce=Q.charCodeAt(ee))||ce>57){he=(46===ce?b+Q.slice(ee+1):Q.slice(ee))+he,Q=Q.slice(0,ee);break}}N&&!j&&(Q=T(Q,1/0));var ke=ue.length+Q.length+he.length,Ie=ke<X?new Array(X-ke+1).join(L):"";switch(N&&j&&(Q=T(Ie+Q,Ie.length?X-he.length:1/0),Ie=""),O){case"<":Q=ue+Q+he+Ie;break;case"=":Q=ue+Ie+Q+he;break;case"^":Q=Ie.slice(0,ke=Ie.length>>1)+ue+Q+he+Ie.slice(ke);break;default:Q=Ie+ue+Q+he}return _(Q)}return q=void 0===q?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q)),re.toString=function(){return k+""},re}return{format:I,formatPrefix:function(k,L){var O,P=I(((k=S(k)).type="f",k)),F=3*Math.max(-8,Math.min(8,Math.floor((O=L,((O=D(Math.abs(O)))?O[1]:NaN)/3)))),j=Math.pow(10,-F),X=l[8+F/3];return function(N){return P(j*N)+X}}}}s=c({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),a=s.format},65704:function(ae,B,r){"use strict";r.r(B),r.d(B,{geoAiry:function(){return N},geoAiryRaw:function(){return X},geoAitoff:function(){return G},geoAitoffRaw:function(){return q},geoArmadillo:function(){return Z},geoArmadilloRaw:function(){return H},geoAugust:function(){return se},geoAugustRaw:function(){return $},geoBaker:function(){return ee},geoBakerRaw:function(){return Q},geoBerghaus:function(){return ue},geoBerghausRaw:function(){return ce},geoBertin1953:function(){return ze},geoBertin1953Raw:function(){return we},geoBoggs:function(){return De},geoBoggsRaw:function(){return Re},geoBonne:function(){return Ce},geoBonneRaw:function(){return Oe},geoBottomley:function(){return qe},geoBottomleyRaw:function(){return Be},geoBromley:function(){return Je},geoBromleyRaw:function(){return He},geoChamberlin:function(){return Et},geoChamberlinAfrica:function(){return gt},geoChamberlinRaw:function(){return Dt},geoCollignon:function(){return Ot},geoCollignonRaw:function(){return Pt},geoCraig:function(){return zt},geoCraigRaw:function(){return Ht},geoCraster:function(){return Ke},geoCrasterRaw:function(){return it},geoCylindricalEqualArea:function(){return ft},geoCylindricalEqualAreaRaw:function(){return rt},geoCylindricalStereographic:function(){return Ve},geoCylindricalStereographicRaw:function(){return ht},geoEckert1:function(){return ut},geoEckert1Raw:function(){return Ge},geoEckert2:function(){return kt},geoEckert2Raw:function(){return dt},geoEckert3:function(){return At},geoEckert3Raw:function(){return bt},geoEckert4:function(){return Rt},geoEckert4Raw:function(){return xt},geoEckert5:function(){return Tt},geoEckert5Raw:function(){return _t},geoEckert6:function(){return Wt},geoEckert6Raw:function(){return It},geoEisenlohr:function(){return dn},geoEisenlohrRaw:function(){return $t},geoFahey:function(){return rn},geoFaheyRaw:function(){return cn},geoFoucaut:function(){return Pn},geoFoucautRaw:function(){return En},geoFoucautSinusoidal:function(){return en},geoFoucautSinusoidalRaw:function(){return Mn},geoGilbert:function(){return Ln},geoGingery:function(){return Zn},geoGingeryRaw:function(){return Rn},geoGinzburg4:function(){return er},geoGinzburg4Raw:function(){return lr},geoGinzburg5:function(){return dr},geoGinzburg5Raw:function(){return xr},geoGinzburg6:function(){return Kt},geoGinzburg6Raw:function(){return jr},geoGinzburg8:function(){return Tn},geoGinzburg8Raw:function(){return qt},geoGinzburg9:function(){return In},geoGinzburg9Raw:function(){return xn},geoGringorten:function(){return Jn},geoGringortenQuincuncial:function(){return js},geoGringortenRaw:function(){return Kn},geoGuyou:function(){return Ft},geoGuyouRaw:function(){return zn},geoHammer:function(){return Ie},geoHammerRaw:function(){return ve},geoHammerRetroazimuthal:function(){return Fn},geoHammerRetroazimuthalRaw:function(){return un},geoHealpix:function(){return ar},geoHealpixRaw:function(){return _n},geoHill:function(){return gr},geoHillRaw:function(){return tr},geoHomolosine:function(){return Lr},geoHomolosineRaw:function(){return Ir},geoHufnagel:function(){return fr},geoHufnagelRaw:function(){return Jr},geoHyperelliptical:function(){return ko},geoHyperellipticalRaw:function(){return ji},geoInterrupt:function(){return ao},geoInterruptedBoggs:function(){return Ps},geoInterruptedHomolosine:function(){return Vi},geoInterruptedMollweide:function(){return Ac},geoInterruptedMollweideHemispheres:function(){return rc},geoInterruptedQuarticAuthalic:function(){return kc},geoInterruptedSinuMollweide:function(){return Rc},geoInterruptedSinusoidal:function(){return oc},geoKavrayskiy7:function(){return Ho},geoKavrayskiy7Raw:function(){return tl},geoLagrange:function(){return Li},geoLagrangeRaw:function(){return bl},geoLarrivee:function(){return rl},geoLarriveeRaw:function(){return Dr},geoLaskowski:function(){return Rs},geoLaskowskiRaw:function(){return gi},geoLittrow:function(){return ls},geoLittrowRaw:function(){return Fs},geoLoximuthal:function(){return Vu},geoLoximuthalRaw:function(){return Qc},geoMiller:function(){return il},geoMillerRaw:function(){return Fl},geoModifiedStereographic:function(){return Ki},geoModifiedStereographicAlaska:function(){return Tl},geoModifiedStereographicGs48:function(){return ac},geoModifiedStereographicGs50:function(){return _s},geoModifiedStereographicLee:function(){return vu},geoModifiedStereographicMiller:function(){return sc},geoModifiedStereographicRaw:function(){return ys},geoMollweide:function(){return fe},geoMollweideRaw:function(){return me},geoMtFlatPolarParabolic:function(){return Ui},geoMtFlatPolarParabolicRaw:function(){return Ml},geoMtFlatPolarQuartic:function(){return Ji},geoMtFlatPolarQuarticRaw:function(){return Nl},geoMtFlatPolarSinusoidal:function(){return pa},geoMtFlatPolarSinusoidalRaw:function(){return Vr},geoNaturalEarth:function(){return Si.Z},geoNaturalEarth2:function(){return Xa},geoNaturalEarth2Raw:function(){return Go},geoNaturalEarthRaw:function(){return Si.K},geoNellHammer:function(){return Ka},geoNellHammerRaw:function(){return Al},geoNicolosi:function(){return cs},geoNicolosiRaw:function(){return kl},geoPatterson:function(){return Mi},geoPattersonRaw:function(){return zs},geoPeirceQuincuncial:function(){return xu},geoPierceQuincuncial:function(){return xu},geoPolyconic:function(){return dc},geoPolyconicRaw:function(){return Sl},geoPolyhedral:function(){return ka},geoPolyhedralButterfly:function(){return Sc},geoPolyhedralCollignon:function(){return ua},geoPolyhedralWaterman:function(){return Bl},geoProject:function(){return dl},geoQuantize:function(){return Vs},geoQuincuncial:function(){return ws},geoRectangularPolyconic:function(){return Xr},geoRectangularPolyconicRaw:function(){return va},geoRobinson:function(){return _u},geoRobinsonRaw:function(){return eu},geoSatellite:function(){return Vl},geoSatelliteRaw:function(){return jl},geoSinuMollweide:function(){return _r},geoSinuMollweideRaw:function(){return rr},geoSinusoidal:function(){return xe},geoSinusoidalRaw:function(){return Ze},geoStitch:function(){return na},geoTimes:function(){return Ua},geoTimesRaw:function(){return hs},geoTwoPointAzimuthal:function(){return zo},geoTwoPointAzimuthalRaw:function(){return Wi},geoTwoPointAzimuthalUsa:function(){return ya},geoTwoPointEquidistant:function(){return Hl},geoTwoPointEquidistantRaw:function(){return Hs},geoTwoPointEquidistantUsa:function(){return pc},geoVanDerGrinten:function(){return Wo},geoVanDerGrinten2:function(){return Sr},geoVanDerGrinten2Raw:function(){return ra},geoVanDerGrinten3:function(){return Nc},geoVanDerGrinten3Raw:function(){return ni},geoVanDerGrinten4:function(){return Gl},geoVanDerGrinten4Raw:function(){return Ra},geoVanDerGrintenRaw:function(){return Ja},geoWagner:function(){return mc},geoWagner4:function(){return Po},geoWagner4Raw:function(){return Nr},geoWagner6:function(){return uo},geoWagner6Raw:function(){return Qa},geoWagner7:function(){return _a},geoWagnerRaw:function(){return xa},geoWiechel:function(){return ml},geoWiechelRaw:function(){return Wl},geoWinkel3:function(){return Gs},geoWinkel3Raw:function(){return Fa}});var D=r(15002),E=Math.abs,d=Math.atan,S=Math.atan2,M=Math.cos,v=Math.exp,u=Math.floor,i=Math.log,s=Math.max,a=Math.min,o=Math.pow,l=Math.round,c=Math.sign||function(V){return V>0?1:V<0?-1:0},f=Math.sin,g=Math.tan,h=1e-6,T=1e-12,x=Math.PI,m=x/2,b=x/4,_=Math.SQRT1_2,w=P(2),A=P(x),p=2*x,I=180/x,k=x/180;function L(V){return V>1?m:V<-1?-m:Math.asin(V)}function O(V){return V>1?0:V<-1?x:Math.acos(V)}function P(V){return V>0?Math.sqrt(V):0}function F(V){return(v(V)-v(-V))/2}function j(V){return(v(V)+v(-V))/2}function X(V){var Y=g(V/2),W=2*i(M(V/2))/(Y*Y);function te(ye,Le){var U=M(ye),ie=M(Le),de=f(Le),be=ie*U,Ae=-((1-be?i((1+be)/2)/(1-be):-.5)+W/(1+be));return[Ae*ie*f(ye),Ae*de]}return te.invert=function(ye,Le){var U,ie=P(ye*ye+Le*Le),de=-V/2,be=50;if(!ie)return[0,0];do{var Ae=de/2,Fe=M(Ae),We=f(Ae),$e=We/Fe,Qe=-i(E(Fe));de-=U=(2/$e*Qe-W*$e-ie)/(-Qe/(We*We)+1-W/(2*Fe*Fe))*(Fe<0?.7:1)}while(E(U)>h&&--be>0);var tt=f(de);return[S(ye*tt,ie*M(de)),L(Le*tt/ie)]},te}function N(){var V=m,Y=(0,D.r)(X),W=Y(V);return W.radius=function(te){return arguments.length?Y(V=te*k):V*I},W.scale(179.976).clipAngle(147)}function q(V,Y){var ye,W=M(Y),te=(ye=O(W*M(V/=2)))?ye/Math.sin(ye):1;return[2*W*f(V)*te,f(Y)*te]}function G(){return(0,D.Z)(q).scale(152.63)}function H(V){var Y=f(V),W=M(V),te=V>=0?1:-1,ye=g(te*V),Le=(1+Y-W)/2;function U(ie,de){var be=M(de),Ae=M(ie/=2);return[(1+be)*f(ie),(te*de>-S(Ae,ye)-.001?0:10*-te)+Le+f(de)*W-(1+be)*Y*Ae]}return U.invert=function(ie,de){var be=0,Ae=0,Fe=50;do{var We=M(be),$e=f(be),Qe=M(Ae),tt=f(Ae),lt=1+Qe,yt=lt*$e-ie,Mt=Le+tt*W-lt*Y*We-de,Bt=lt*We/2,Ut=-$e*tt,jt=Y*lt*$e/2,Xt=W*Qe+Y*We*tt,Vt=Ut*jt-Xt*Bt,pn=(Mt*Ut-yt*Xt)/Vt/2,sn=(yt*jt-Mt*Bt)/Vt;E(sn)>2&&(sn/=2),be-=pn,Ae-=sn}while((E(pn)>h||E(sn)>h)&&--Fe>0);return te*Ae>-S(M(be),ye)-.001?[2*be,Ae]:null},U}function Z(){var V=20*k,Y=V>=0?1:-1,W=g(Y*V),te=(0,D.r)(H),ye=te(V),Le=ye.stream;return ye.parallel=function(U){return arguments.length?(W=g((Y=(V=U*k)>=0?1:-1)*V),te(V)):V*I},ye.stream=function(U){var ie=ye.rotate(),de=Le(U),be=(ye.rotate([0,0]),Le(U)),Ae=ye.precision();return ye.rotate(ie),de.sphere=function(){be.polygonStart(),be.lineStart();for(var Fe=-180*Y;Y*Fe<180;Fe+=90*Y)be.point(Fe,90*Y);if(V)for(;Y*(Fe-=3*Y*Ae)>=-180;)be.point(Fe,Y*-S(M(Fe*k/2),W)*I);be.lineEnd(),be.polygonEnd()},de},ye.scale(218.695).center([0,28.0974])}function $(V,Y){var W=g(Y/2),te=P(1-W*W),ye=1+te*M(V/=2),Le=f(V)*te/ye,U=W/ye,ie=Le*Le,de=U*U;return[1.3333333333333333*Le*(3+ie-3*de),1.3333333333333333*U*(3+3*ie-de)]}function se(){return(0,D.Z)($).scale(66.1603)}q.invert=function(V,Y){if(!(V*V+4*Y*Y>x*x+h)){var W=V,te=Y,ye=25;do{var Le,U=f(W),ie=f(W/2),de=M(W/2),be=f(te),Ae=M(te),Fe=f(2*te),We=be*be,$e=Ae*Ae,Qe=ie*ie,tt=1-$e*de*de,lt=tt?O(Ae*de)*P(Le=1/tt):Le=0,yt=2*lt*Ae*ie-V,Mt=lt*be-Y,Bt=Le*($e*Qe+lt*Ae*de*We),Ut=Le*(.5*U*Fe-2*lt*be*ie),jt=.25*Le*(Fe*ie-lt*be*$e*U),Xt=Le*(We*de+lt*Qe*Ae),Vt=Ut*jt-Xt*Bt;if(!Vt)break;var pn=(Mt*Ut-yt*Xt)/Vt,sn=(yt*jt-Mt*Bt)/Vt;W-=pn,te-=sn}while((E(pn)>h||E(sn)>h)&&--ye>0);return[W,te]}},$.invert=function(V,Y){if(Y*=.375,!(V*=.375)&&E(Y)>1)return null;var be,W=1+V*V+Y*Y,te=P((W-P(W*W-4*Y*Y))/2),ye=L(te)/3,Le=te?(be=E(Y/te),i(be+P(be*be-1))/3):function(be){return i(be+P(be*be+1))}(E(V))/3,U=M(ye),ie=j(Le),de=ie*ie-U*U;return[2*c(V)*S(F(Le)*U,.25-de),2*c(Y)*S(ie*f(ye),.25+de)]};var ne=P(8),re=i(1+w);function Q(V,Y){var W=E(Y);return W<b?[V,i(g(b+Y/2))]:[V*M(W)*(2*w-1/f(W)),c(Y)*(2*w*(W-b)-i(g(W/2)))]}function ee(){return(0,D.Z)(Q).scale(112.314)}Q.invert=function(V,Y){if((te=E(Y))<re)return[V,2*d(v(Y))-m];var W,te,ye=b,Le=25;do{var U=M(ye/2),ie=g(ye/2);ye-=W=(ne*(ye-b)-i(ie)-te)/(ne-U*U/(2*ie))}while(E(W)>T&&--Le>0);return[V/(M(ye)*(ne-1/f(ye))),c(Y)*ye]};var oe=r(17889);function ce(V){var Y=2*x/V;function W(te,ye){var Le=(0,oe.N)(te,ye);if(E(te)>m){var U=S(Le[1],Le[0]),ie=P(Le[0]*Le[0]+Le[1]*Le[1]),de=Y*l((U-m)/Y)+m,be=S(f(U-=de),2-M(U));U=de+L(x/ie*f(be))-be,Le[0]=ie*M(U),Le[1]=ie*f(U)}return Le}return W.invert=function(te,ye){var Le=P(te*te+ye*ye);if(Le>m){var U=S(ye,te),ie=Y*l((U-m)/Y)+m,de=U>ie?-1:1,be=Le*M(ie-U),Ae=1/g(de*O((be-x)/P(x*(x-2*be)+Le*Le)));U=ie+2*d((Ae+de*P(Ae*Ae-3))/3),te=Le*M(U),ye=Le*f(U)}return oe.N.invert(te,ye)},W}function ue(){var V=5,Y=(0,D.r)(ce),W=Y(V),te=W.stream,ye=.01,Le=-M(ye*k),U=f(ye*k);return W.lobes=function(ie){return arguments.length?Y(V=+ie):V},W.stream=function(ie){var de=W.rotate(),be=te(ie),Ae=(W.rotate([0,0]),te(ie));return W.rotate(de),be.sphere=function(){Ae.polygonStart(),Ae.lineStart();for(var Fe=0,We=360/V,$e=2*x/V,Qe=90-180/V,tt=m;Fe<V;++Fe,Qe-=We,tt-=$e)Ae.point(S(U*M(tt),Le)*I,L(U*f(tt))*I),Qe<-90?(Ae.point(-90,-180-Qe-ye),Ae.point(-90,-180-Qe+ye)):(Ae.point(90,Qe+ye),Ae.point(90,Qe-ye));Ae.lineEnd(),Ae.polygonEnd()},be},W.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var he=r(12956);function ve(V,Y){if(arguments.length<2&&(Y=V),1===Y)return he.l;if(Y===1/0)return ke;function W(te,ye){var Le=(0,he.l)(te/Y,ye);return Le[0]*=V,Le}return W.invert=function(te,ye){var Le=he.l.invert(te/V,ye);return Le[0]*=Y,Le},W}function ke(V,Y){return[V*M(Y)/M(Y/=2),2*f(Y)]}function Ie(){var V=2,Y=(0,D.r)(ve),W=Y(V);return W.coefficient=function(te){return arguments.length?Y(V=+te):V},W.scale(169.529)}function Me(V,Y,W){var te,ye,Le,U=100;W=void 0===W?0:+W,Y=+Y;do{(ye=V(W))===(Le=V(W+h))&&(Le=ye+h),W-=te=-1*h*(ye-Y)/(ye-Le)}while(U-- >0&&E(te)>h);return U<0?NaN:W}function _e(V,Y,W){return void 0===Y&&(Y=40),void 0===W&&(W=T),function(te,ye,Le,U){var ie,de,be;Le=void 0===Le?0:+Le,U=void 0===U?0:+U;for(var Ae=0;Ae<Y;Ae++){var Fe=V(Le,U),We=Fe[0]-te,$e=Fe[1]-ye;if(E(We)<W&&E($e)<W)break;var Qe=We*We+$e*$e;if(Qe>ie)Le-=de/=2,U-=be/=2;else{ie=Qe;var tt=(Le>0?-1:1)*W,lt=(U>0?-1:1)*W,yt=V(Le+tt,U),Mt=V(Le,U+lt),Bt=(yt[0]-Fe[0])/tt,Ut=(yt[1]-Fe[1])/tt,jt=(Mt[0]-Fe[0])/lt,Xt=(Mt[1]-Fe[1])/lt,Vt=Xt*Bt-Ut*jt,pn=(E(Vt)<.5?.5:1)/Vt;if(Le+=de=($e*jt-We*Xt)*pn,U+=be=(We*Ut-$e*Bt)*pn,E(de)<W&&E(be)<W)break}}return[Le,U]}}function we(){var V=ve(1.68,2);function Y(W,te){if(W+te<-1.4){var ye=(W-te+1.6)*(W+te+1.4)/8;W+=ye,te-=.8*ye*f(te+x/2)}var Le=V(W,te),U=(1-M(W*te))/12;return Le[1]<0&&(Le[0]*=1+U),Le[1]>0&&(Le[1]*=1+U/1.5*Le[0]*Le[0]),Le}return Y.invert=_e(Y),Y}function ze(){return(0,D.Z)(we()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ee(V,Y){var W,te=V*f(Y),ye=30;do{Y-=W=(Y+f(Y)-te)/(1+M(Y))}while(E(W)>h&&--ye>0);return Y/2}function Se(V,Y,W){function te(ye,Le){return[V*ye*M(Le=Ee(W,Le)),Y*f(Le)]}return te.invert=function(ye,Le){return Le=L(Le/Y),[ye/(V*M(Le)),L((2*Le+f(2*Le))/W)]},te}ke.invert=function(V,Y){var W=2*L(Y/2);return[V*M(W/2)/M(W),W]};var me=Se(w/m,w,x);function fe(){return(0,D.Z)(me).scale(169.529)}var le=2.00276,Te=1.11072;function Re(V,Y){var W=Ee(x,Y);return[le*V/(1/M(Y)+Te/M(W)),(Y+w*f(W))/le]}function De(){return(0,D.Z)(Re).scale(160.857)}function Ue(V){var Y=0,W=(0,D.r)(V),te=W(Y);return te.parallel=function(ye){return arguments.length?W(Y=ye*k):Y*I},te}function Ze(V,Y){return[V*M(Y),Y]}function xe(){return(0,D.Z)(Ze).scale(152.63)}function Oe(V){if(!V)return Ze;var Y=1/g(V);function W(te,ye){var Le=Y+V-ye,U=Le&&te*M(ye)/Le;return[Le*f(U),Y-Le*M(U)]}return W.invert=function(te,ye){var Le=P(te*te+(ye=Y-ye)*ye),U=Y+V-Le;return[Le/M(U)*S(te,ye),U]},W}function Ce(){return Ue(Oe).scale(123.082).center([0,26.1441]).parallel(45)}function Be(V){function Y(W,te){var ye=m-te,Le=ye&&W*V*f(ye)/ye;return[ye*f(Le)/V,m-ye*M(Le)]}return Y.invert=function(W,te){var ye=W*V,Le=m-te,U=P(ye*ye+Le*Le),ie=S(ye,Le);return[(U?U/f(U):1)*ie/V,m-U]},Y}function qe(){var V=.5,Y=(0,D.r)(Be),W=Y(V);return W.fraction=function(te){return arguments.length?Y(V=+te):V},W.scale(158.837)}Re.invert=function(V,Y){var W,te,ye=le*Y,Le=Y<0?-b:b,U=25;do{te=ye-w*f(Le),Le-=W=(f(2*Le)+2*Le-x*f(te))/(2*M(2*Le)+2+x*M(te)*w*M(Le))}while(E(W)>h&&--U>0);return te=ye-w*f(Le),[V*(1/M(te)+Te/M(Le))/le,te]},Ze.invert=function(V,Y){return[V/M(Y),Y]};var He=Se(1,4/x,x);function Je(){return(0,D.Z)(He).scale(152.63)}var et=r(66624),st=r(49386);function pt(V,Y,W,te,ye,Le){var U,ie=M(Le);if(E(V)>1||E(Le)>1)U=O(W*ye+Y*te*ie);else{var de=f(V/2),be=f(Le/2);U=2*L(P(de*de+Y*te*be*be))}return E(U)>h?[U,S(te*f(Le),Y*ye-W*te*ie)]:[0,0]}function ct(V,Y,W){return O((V*V+Y*Y-W*W)/(2*V*Y))}function St(V){return V-2*x*u((V+x)/(2*x))}function Dt(V,Y,W){for(var te,ye=[[V[0],V[1],f(V[1]),M(V[1])],[Y[0],Y[1],f(Y[1]),M(Y[1])],[W[0],W[1],f(W[1]),M(W[1])]],Le=ye[2],U=0;U<3;++U,Le=te)Le.v=pt((te=ye[U])[1]-Le[1],Le[3],Le[2],te[3],te[2],te[0]-Le[0]),Le.point=[0,0];var ie=ct(ye[0].v[0],ye[2].v[0],ye[1].v[0]),de=ct(ye[0].v[0],ye[1].v[0],ye[2].v[0]),be=x-ie;ye[2].point[1]=0,ye[0].point[0]=-(ye[1].point[0]=ye[0].v[0]/2);var Ae=[ye[2].point[0]=ye[0].point[0]+ye[2].v[0]*M(ie),2*(ye[0].point[1]=ye[1].point[1]=ye[2].v[0]*f(ie))];return function(Fe,We){var $e,Qe=f(We),tt=M(We),lt=new Array(3);for($e=0;$e<3;++$e){var yt=ye[$e];if(lt[$e]=pt(We-yt[1],yt[3],yt[2],tt,Qe,Fe-yt[0]),!lt[$e][0])return yt.point;lt[$e][1]=St(lt[$e][1]-yt.v[1])}var Mt=Ae.slice();for($e=0;$e<3;++$e){var Ut=ct(ye[$e].v[0],lt[$e][0],lt[2==$e?0:$e+1][0]);lt[$e][1]<0&&(Ut=-Ut),$e?1==$e?(Mt[0]-=lt[$e][0]*M(Ut=de-Ut),Mt[1]-=lt[$e][0]*f(Ut)):(Mt[0]+=lt[$e][0]*M(Ut=be-Ut),Mt[1]+=lt[$e][0]*f(Ut)):(Mt[0]+=lt[$e][0]*M(Ut),Mt[1]-=lt[$e][0]*f(Ut))}return Mt[0]/=3,Mt[1]/=3,Mt}}function vt(V){return V[0]*=k,V[1]*=k,V}function gt(){return Et([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Et(V,Y,W){var te=(0,et.Z)({type:"MultiPoint",coordinates:[V,Y,W]}),ye=[-te[0],-te[1]],Le=(0,st.Z)(ye),U=Dt(vt(Le(V)),vt(Le(Y)),vt(Le(W)));U.invert=_e(U);var ie=(0,D.Z)(U).rotate(ye),de=ie.center;return delete ie.rotate,ie.center=function(be){return arguments.length?de(Le(be)):Le.invert(de())},ie.clipAngle(90)}function Pt(V,Y){var W=P(1-f(Y));return[2/A*V*W,A*(1-W)]}function Ot(){return(0,D.Z)(Pt).scale(95.6464).center([0,30])}function Ht(V){var Y=g(V);function W(te,ye){return[te,(te?te/f(te):1)*(f(ye)*M(te)-Y*M(ye))]}return W.invert=Y?function(te,ye){te&&(ye*=f(te)/te);var Le=M(te);return[te,2*S(P(Le*Le+Y*Y-ye*ye)-Le,Y-ye)]}:function(te,ye){return[te,L(te?ye*g(te)/te:ye)]},W}function zt(){return Ue(Ht).scale(249.828).clipAngle(90)}Pt.invert=function(V,Y){var W=(W=Y/A-1)*W;return[W>0?V*P(x/W)/2:0,L(1-W)]};var nt=P(3);function it(V,Y){return[nt*V*(2*M(2*Y/3)-1)/A,nt*A*f(Y/3)]}function Ke(){return(0,D.Z)(it).scale(156.19)}function rt(V){var Y=M(V);function W(te,ye){return[te*Y,f(ye)/Y]}return W.invert=function(te,ye){return[te/Y,L(ye*Y)]},W}function ft(){return Ue(rt).parallel(38.58).scale(195.044)}function ht(V){var Y=M(V);function W(te,ye){return[te*Y,(1+Y)*g(ye/2)]}return W.invert=function(te,ye){return[te/Y,2*d(ye/(1+Y))]},W}function Ve(){return Ue(ht).scale(124.75)}function Ge(V,Y){var W=P(8/(3*x));return[W*V*(1-E(Y)/x),W*Y]}function ut(){return(0,D.Z)(Ge).scale(165.664)}function dt(V,Y){var W=P(4-3*f(E(Y)));return[2/P(6*x)*V*W,c(Y)*P(2*x/3)*(2-W)]}function kt(){return(0,D.Z)(dt).scale(165.664)}function bt(V,Y){var W=P(x*(4+x));return[2/W*V*(1+P(1-4*Y*Y/(x*x))),4/W*Y]}function At(){return(0,D.Z)(bt).scale(180.739)}function xt(V,Y){var W=(2+m)*f(Y);Y/=2;for(var te=0,ye=1/0;te<10&&E(ye)>h;te++){var Le=M(Y);Y-=ye=(Y+f(Y)*(Le+2)-W)/(2*Le*(1+Le))}return[2/P(x*(4+x))*V*(1+M(Y)),2*P(x/(4+x))*f(Y)]}function Rt(){return(0,D.Z)(xt).scale(180.739)}function _t(V,Y){return[V*(1+M(Y))/P(2+x),2*Y/P(2+x)]}function Tt(){return(0,D.Z)(_t).scale(173.044)}function It(V,Y){for(var W=(1+m)*f(Y),te=0,ye=1/0;te<10&&E(ye)>h;te++)Y-=ye=(Y+f(Y)-W)/(1+M(Y));return W=P(2+x),[V*(1+M(Y))/W,2*Y/W]}function Wt(){return(0,D.Z)(It).scale(173.044)}it.invert=function(V,Y){var W=3*L(Y/(nt*A));return[A*V/(nt*(2*M(2*W/3)-1)),W]},Ge.invert=function(V,Y){var W=P(8/(3*x)),te=Y/W;return[V/(W*(1-E(te)/x)),te]},dt.invert=function(V,Y){var W=2-E(Y)/P(2*x/3);return[V*P(6*x)/(2*W),c(Y)*L((4-W*W)/3)]},bt.invert=function(V,Y){var W=P(x*(4+x))/2;return[V*W/(1+P(1-Y*Y*(4+x)/(4*x))),Y*W/2]},xt.invert=function(V,Y){var W=Y*P((4+x)/x)/2,te=L(W),ye=M(te);return[V/(2/P(x*(4+x))*(1+ye)),L((te+W*(ye+2))/(2+m))]},_t.invert=function(V,Y){var W=P(2+x),te=Y*W/2;return[W*V/(1+M(te)),te]},It.invert=function(V,Y){var W=1+m,te=P(W/2);return[2*V*te/(1+M(Y*=te)),L((Y+f(Y))/W)]};var Zt=3+2*w;function $t(V,Y){var W=f(V/=2),te=M(V),ye=P(M(Y)),Le=M(Y/=2),U=f(Y)/(Le+w*te*ye),ie=P(2/(1+U*U)),de=P((w*Le+(te+W)*ye)/(w*Le+(te-W)*ye));return[Zt*(ie*(de-1/de)-2*i(de)),Zt*(ie*U*(de+1/de)-2*d(U))]}function dn(){return(0,D.Z)($t).scale(62.5271)}$t.invert=function(V,Y){if(!(W=$.invert(V/1.2,1.065*Y)))return null;var W,te=W[0],ye=W[1],Le=20;V/=Zt,Y/=Zt;do{var U=te/2,ie=ye/2,de=f(U),be=M(U),Ae=f(ie),Fe=M(ie),We=M(ye),$e=P(We),Qe=Ae/(Fe+w*be*$e),tt=Qe*Qe,lt=P(2/(1+tt)),yt=(w*Fe+(be+de)*$e)/(w*Fe+(be-de)*$e),Mt=P(yt),Bt=Mt-1/Mt,Ut=Mt+1/Mt,jt=lt*Bt-2*i(Mt)-V,Xt=lt*Qe*Ut-2*d(Qe)-Y,Vt=Ae&&_*$e*de*tt/Ae,pn=(w*be*Fe+$e)/(2*(Fe+w*be*$e)*(Fe+w*be*$e)*$e),sn=-.5*Qe*lt*lt*lt,tn=sn*Vt,Sn=sn*pn,Dn=(Dn=2*Fe+w*$e*(be-de))*Dn*Mt,qn=(w*be*Fe*$e+We)/Dn,Qn=-w*de*Ae/($e*Dn),sr=Bt*tn-2*qn/Mt+lt*(qn+qn/yt),pr=Bt*Sn-2*Qn/Mt+lt*(Qn+Qn/yt),Cr=Qe*Ut*tn-2*Vt/(1+tt)+lt*Ut*Vt+lt*Qe*(qn-qn/yt),Mr=Qe*Ut*Sn-2*pn/(1+tt)+lt*Ut*pn+lt*Qe*(Qn-Qn/yt),Or=pr*Cr-Mr*sr;if(!Or)break;var Ur=(Xt*pr-jt*Mr)/Or,li=(jt*Cr-Xt*sr)/Or;te-=Ur,ye=s(-m,a(m,ye-li))}while((E(Ur)>h||E(li)>h)&&--Le>0);return E(E(ye)-m)<h?[0,ye]:Le&&[te,ye]};var nn=M(35*k);function cn(V,Y){var W=g(Y/2);return[V*nn*P(1-W*W),(1+nn)*W]}function rn(){return(0,D.Z)(cn).scale(137.152)}function En(V,Y){var W=Y/2,te=M(W);return[2*V/A*M(Y)*te*te,A*g(W)]}function Pn(){return(0,D.Z)(En).scale(135.264)}function Mn(V){var Y=1-V,W=ye(x,0)[0]-ye(-x,0)[0],te=P(2*(ye(0,m)[1]-ye(0,-m)[1])/W);function ye(ie,de){var be=M(de),Ae=f(de);return[be/(Y+V*be)*ie,Y*de+V*Ae]}function Le(ie,de){var be=ye(ie,de);return[be[0]*te,be[1]/te]}function U(ie){return Le(0,ie)[1]}return Le.invert=function(ie,de){var be=Me(U,de);return[ie/te*(V+Y/M(be)),be]},Le}function en(){var V=.5,Y=(0,D.r)(Mn),W=Y(V);return W.alpha=function(te){return arguments.length?Y(V=+te):V},W.scale(168.725)}cn.invert=function(V,Y){var W=Y/(1+nn);return[V&&V/(nn*P(1-W*W)),2*d(W)]},En.invert=function(V,Y){var W=d(Y/A),te=M(W),ye=2*W;return[V*A/2/(M(ye)*te*te),ye]};var gn=r(57962),an=r(97492);function yn(V){return[V[0]/2,L(g(V[1]/2*k))*I]}function kn(V){return[2*V[0],2*d(f(V[1]*k))*I]}function Ln(V){null==V&&(V=gn.Z);var Y=V(),W=(0,an.Z)().scale(I).precision(0).clipAngle(null).translate([0,0]);function te(Le){return Y(yn(Le))}function ye(Le){te[Le]=function(){return arguments.length?(Y[Le].apply(Y,arguments),te):Y[Le]()}}return Y.invert&&(te.invert=function(Le){return kn(Y.invert(Le))}),te.stream=function(Le){var U=Y.stream(Le),ie=W.stream({point:function(de,be){U.point(de/2,L(g(-be/2*k))*I)},lineStart:function(){U.lineStart()},lineEnd:function(){U.lineEnd()},polygonStart:function(){U.polygonStart()},polygonEnd:function(){U.polygonEnd()}});return ie.sphere=U.sphere,ie},te.rotate=function(Le){return arguments.length?(W.rotate(Le),te):W.rotate()},te.center=function(Le){return arguments.length?(Y.center(yn(Le)),te):kn(Y.center())},ye("angle"),ye("clipAngle"),ye("clipExtent"),ye("fitExtent"),ye("fitHeight"),ye("fitSize"),ye("fitWidth"),ye("scale"),ye("translate"),ye("precision"),te.scale(249.5)}function Rn(V,Y){var W=2*x/Y,te=V*V;function ye(Le,U){var ie=(0,oe.N)(Le,U),de=ie[0],be=ie[1],Ae=de*de+be*be;if(Ae>te){var Fe=P(Ae),We=S(be,de),$e=W*l(We/W),Qe=We-$e,tt=V*M(Qe),lt=(V*f(Qe)-Qe*f(tt))/(m-tt),yt=Wn(Qe,lt),Mt=(x-V)/Cn(yt,tt,x);de=Fe;var Bt,Ut=50;do{de-=Bt=(V+Cn(yt,tt,de)*Mt-Fe)/(yt(de)*Mt)}while(E(Bt)>h&&--Ut>0);be=Qe*f(de),de<m&&(be-=lt*(de-m));var jt=f($e),Xt=M($e);ie[0]=de*Xt-be*jt,ie[1]=de*jt+be*Xt}return ie}return ye.invert=function(Le,U){var ie=Le*Le+U*U;if(ie>te){var de=P(ie),be=S(U,Le),Ae=W*l(be/W),Fe=be-Ae;Le=de*M(Fe),U=de*f(Fe);for(var We=Le-m,$e=f(Le),Qe=U/$e,tt=Le<m?1/0:0,lt=10;;){var yt=V*f(Qe),Mt=V*M(Qe),Bt=f(Mt),Ut=m-Mt,jt=(yt-Qe*Bt)/Ut,Xt=Wn(Qe,jt);if(E(tt)<T||!--lt)break;Qe-=tt=(Qe*$e-jt*We-U)/($e-2*We*(Ut*(Mt+Qe*yt*M(Mt)-Bt)-yt*(yt-Qe*Bt))/(Ut*Ut))}Le=(de=V+Cn(Xt,Mt,Le)*(x-V)/Cn(Xt,Mt,x))*M(be=Ae+Qe),U=de*f(be)}return oe.N.invert(Le,U)},ye}function Wn(V,Y){return function(W){var te=V*M(W);return W<m&&(te-=Y),P(1+te*te)}}function Cn(V,Y,W){for(var te=(W-Y)/50,ye=V(Y)+V(W),Le=1,U=Y;Le<50;++Le)ye+=2*V(U+=te);return.5*ye*te}function Zn(){var V=6,Y=30*k,W=M(Y),te=f(Y),ye=(0,D.r)(Rn),Le=ye(Y,V),U=Le.stream,ie=-M(.01*k),de=f(.01*k);return Le.radius=function(be){return arguments.length?(W=M(Y=be*k),te=f(Y),ye(Y,V)):Y*I},Le.lobes=function(be){return arguments.length?ye(Y,V=+be):V},Le.stream=function(be){var Ae=Le.rotate(),Fe=U(be),We=(Le.rotate([0,0]),U(be));return Le.rotate(Ae),Fe.sphere=function(){We.polygonStart(),We.lineStart();for(var $e=0,Qe=2*x/V,tt=0;$e<V;++$e,tt-=Qe)We.point(S(de*M(tt),ie)*I,L(de*f(tt))*I),We.point(S(te*M(tt-Qe/2),W)*I,L(te*f(tt-Qe/2))*I);We.lineEnd(),We.polygonEnd()},Fe},Le.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function mr(V,Y,W,te,ye,Le,U,ie){function de(be,Ae){if(!Ae)return[V*be/x,0];var Fe=Ae*Ae,We=V+Fe*(Y+Fe*(W+Fe*te)),$e=Ae*(ye-1+Fe*(Le-ie+Fe*U)),Qe=(We*We+$e*$e)/(2*$e),tt=be*L(We/Qe)/x;return[Qe*f(tt),Ae*(1+Fe*ie)+Qe*(1-M(tt))]}return arguments.length<8&&(ie=0),de.invert=function(be,Ae){var Fe,We,$e=x*be/V,Qe=Ae,tt=50;do{var lt=Qe*Qe,yt=V+lt*(Y+lt*(W+lt*te)),Mt=Qe*(ye-1+lt*(Le-ie+lt*U)),Bt=yt*yt+Mt*Mt,Ut=2*Mt,jt=Bt/Ut,Xt=jt*jt,Vt=L(yt/jt)/x,pn=$e*Vt,sn=yt*yt,tn=(2*Y+lt*(4*W+6*lt*te))*Qe,Sn=ye+lt*(3*Le+5*lt*U),Dn=(2*(yt*tn+Mt*(Sn-1))*Ut-Bt*(2*(Sn-1)))/(Ut*Ut),qn=M(pn),Qn=f(pn),sr=jt*qn,pr=jt*Qn,Cr=$e/x*(1/P(1-sn/Xt))*(tn*jt-yt*Dn)/Xt,Mr=pr-be,Or=Qe*(1+lt*ie)+jt-sr-Ae,Ur=Dn*Qn+sr*Cr,li=sr*Vt,nr=1+Dn-(Dn*qn-pr*Cr),wr=pr*Vt,Pr=Ur*wr-nr*li;if(!Pr)break;$e-=Fe=(Or*Ur-Mr*nr)/Pr,Qe-=We=(Mr*wr-Or*li)/Pr}while((E(Fe)>h||E(We)>h)&&--tt>0);return[$e,Qe]},de}var lr=mr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function er(){return(0,D.Z)(lr).scale(149.995)}var xr=mr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function dr(){return(0,D.Z)(xr).scale(153.93)}var jr=mr(5/6*x,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Kt(){return(0,D.Z)(jr).scale(130.945)}function qt(V,Y){var W=V*V,te=Y*Y;return[V*(1-.162388*te)*(.87-952426e-9*W*W),Y*(1+te/12)]}function Tn(){return(0,D.Z)(qt).scale(131.747)}qt.invert=function(V,Y){var W,te=V,ye=Y,Le=50;do{var U=ye*ye;ye-=W=(ye*(1+U/12)-Y)/(1+U/4)}while(E(W)>h&&--Le>0);Le=50,V/=1-.162388*U;do{var ie=(ie=te*te)*ie;te-=W=(te*(.87-952426e-9*ie)-V)/(.87-.00476213*ie)}while(E(W)>h&&--Le>0);return[te,ye]};var xn=mr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function In(){return(0,D.Z)(xn).scale(131.087)}function cr(V){var Y=V(m,0)[0]-V(-m,0)[0];function W(te,ye){var Le=te>0?-.5:.5,U=V(te+Le*x,ye);return U[0]-=Le*Y,U}return V.invert&&(W.invert=function(te,ye){var Le=te>0?-.5:.5,U=V.invert(te+Le*Y,ye),ie=U[0]-Le*x;return ie<-x?ie+=2*x:ie>x&&(ie-=2*x),U[0]=ie,U}),W}function Kn(V,Y){var W=c(V),te=c(Y),ye=M(Y),Le=M(V)*ye,U=f(V)*ye,ie=f(te*Y);V=E(S(U,ie)),Y=L(Le),E(V-m)>h&&(V%=m);var de=function(be,Ae){if(Ae===m)return[0,0];var Fe,We,$e=f(Ae),Qe=$e*$e,tt=Qe*Qe,lt=1+tt,yt=1+3*tt,Mt=1-tt,Bt=L(1/P(lt)),Ut=Mt+Qe*lt*Bt,jt=(1-$e)/Ut,Xt=P(jt),Vt=jt*lt,pn=P(Vt),sn=Xt*Mt;if(0===be)return[0,-(sn+Qe*pn)];var tn,Sn=M(Ae),Dn=1/Sn,qn=2*$e*Sn,Qn=(-Ut*Sn-(-3*Qe+Bt*yt)*qn*(1-$e))/(Ut*Ut),sr=-Dn*qn,pr=-Dn*(Qe*lt*Qn+jt*yt*qn),Cr=-2*Dn*(Mt*(.5*Qn/Xt)-2*Qe*Xt*qn),Mr=4*be/x;if(be>.222*x||Ae<x/4&&be>.175*x){if(Fe=(sn+Qe*P(Vt*(1+tt)-sn*sn))/(1+tt),be>x/4)return[Fe,Fe];var Or=Fe,Ur=.5*Fe;Fe=.5*(Ur+Or),We=50;do{var li=Fe*(Cr+sr*P(Vt-Fe*Fe))+pr*L(Fe/pn)-Mr;if(!li)break;li<0?Ur=Fe:Or=Fe,Fe=.5*(Ur+Or)}while(E(Or-Ur)>h&&--We>0)}else{Fe=h,We=25;do{var nr=Fe*Fe,wr=P(Vt-nr),Pr=Cr+sr*wr,Wr=Fe*Pr+pr*L(Fe/pn)-Mr;Fe-=tn=wr?Wr/(Pr+(pr-sr*nr)/wr):0}while(E(tn)>h&&--We>0)}return[Fe,-sn-Qe*P(Vt-Fe*Fe)]}(V>x/4?m-V:V,Y);return V>x/4&&(ie=de[0],de[0]=-de[1],de[1]=-ie),de[0]*=W,de[1]*=-te,de}function Jn(){return(0,D.Z)(cr(Kn)).scale(239.75)}function vr(V,Y){var W,te,ye,Le,U,ie;if(Y<h)return[(Le=f(V))-(W=Y*(V-Le*(te=M(V)))/4)*te,te+W*Le,1-Y*Le*Le/2,V-W];if(Y>=1-h)return W=(1-Y)/4,ye=1/(te=j(V)),[(Le=((ie=v(2*(ie=V)))-1)/(ie+1))+W*((U=te*F(V))-V)/(te*te),ye-W*Le*ye*(U-V),ye+W*Le*ye*(U+V),2*d(v(V))-m+W*(U-V)/te];var de=[1,0,0,0,0,0,0,0,0],be=[P(Y),0,0,0,0,0,0,0,0],Ae=0;for(te=P(1-Y),U=1;E(be[Ae]/de[Ae])>h&&Ae<8;)W=de[Ae++],be[Ae]=(W-te)/2,de[Ae]=(W+te)/2,te=P(W*te),U*=2;ye=U*de[Ae]*V;do{ye=(L(Le=be[Ae]*f(te=ye)/de[Ae])+ye)/2}while(--Ae);return[f(ye),Le=M(ye),Le/M(ye-te),ye]}function Qt(V,Y){if(!Y)return V;if(1===Y)return i(g(V/2+b));for(var W=1,te=P(1-Y),ye=P(Y),Le=0;E(ye)>h;Le++){if(V%x){var U=d(te*g(V)/W);U<0&&(U+=x),V+=U+~~(V/x)*x}else V+=V;ye=(W+te)/2,te=P(W*te),ye=((W=ye)-te)/2}return V/(o(2,Le)*W)}function zn(V,Y){var be,Ae,Fe,We,$e,W=(w-1)/(w+1),te=P(1-W*W),ye=Qt(m,te*te),Le=i(g(x/4+E(Y)/2)),U=v(-1*Le)/P(W),ie=(be=U*M(-1*V),We=(Ae=U*f(-1*V))+1,[.5*((be>=0?m:-m)-S($e=1-(Fe=be*be)-Ae*Ae,2*be)),-.25*i($e*$e+4*Fe)+.5*i(We*We+Fe)]),de=function(be,Ae,Fe){var We=E(be),$e=F(E(Ae));if(We){var Qe=1/f(We),tt=1/(g(We)*g(We)),lt=-(tt+Fe*($e*$e*Qe*Qe)-1+Fe),yt=(-lt+P(lt*lt-(Fe-1)*tt*4))/2;return[Qt(d(1/P(yt)),Fe)*c(be),Qt(d(P((yt/tt-1)/Fe)),1-Fe)*c(Ae)]}return[0,Qt(d($e),1-Fe)*c(Ae)]}(ie[0],ie[1],te*te);return[-de[1],(Y>=0?1:-1)*(.5*ye-de[0])]}function Ft(){return(0,D.Z)(cr(zn)).scale(151.496)}Kn.invert=function(V,Y){E(V)>1&&(V=2*c(V)-V),E(Y)>1&&(Y=2*c(Y)-Y);var W=c(V),te=c(Y),ye=-W*V,Le=-te*Y,U=Le/ye<1,ie=function(Fe,We){for(var $e=0,Qe=1,tt=.5,lt=50;;){var yt=tt*tt,Mt=P(tt),Bt=L(1/P(1+yt)),Ut=1-yt+tt*(1+yt)*Bt,jt=(1-Mt)/Ut,Xt=P(jt),Vt=jt*(1+yt),pn=Xt*(1-yt),sn=P(Vt-Fe*Fe),tn=We+pn+tt*sn;if(E(Qe-$e)<T||0==--lt||0===tn)break;tn>0?$e=tt:Qe=tt,tt=.5*($e+Qe)}if(!lt)return null;var Sn=L(Mt),Dn=M(Sn),qn=1/Dn,Qn=2*Mt*Dn,sr=(-Ut*Dn-(-3*tt+Bt*(1+3*yt))*Qn*(1-Mt))/(Ut*Ut);return[x/4*(Fe*(-2*qn*(.5*sr/Xt*(1-yt)-2*tt*Xt*Qn)+-qn*Qn*sn)+-qn*(tt*(1+yt)*sr+jt*(1+3*yt)*Qn)*L(Fe/P(Vt))),Sn]}(U?Le:ye,U?ye:Le),de=ie[0],be=ie[1],Ae=M(be);return U&&(de=-m-de),[W*(S(f(de)*Ae,-f(be))+x),te*L(M(de)*Ae)]},zn.invert=function(V,Y){var W,te,ye,Le,U,ie,We,$e,Qe,de=(w-1)/(w+1),be=P(1-de*de),Ae=(te=-V,ye=be*be,(W=.5*Qt(m,be*be)-Y)?(Le=vr(W,ye),te?(ie=(U=vr(te,1-ye))[1]*U[1]+ye*Le[0]*Le[0]*U[0]*U[0],[[Le[0]*U[2]/ie,Le[1]*Le[2]*U[0]*U[1]/ie],[Le[1]*U[1]/ie,-Le[0]*Le[2]*U[0]*U[2]/ie],[Le[2]*U[1]*U[2]/ie,-ye*Le[0]*Le[1]*U[0]/ie]]):[[Le[0],0],[Le[1],0],[Le[2],0]]):[[0,(U=vr(te,1-ye))[0]/U[1]],[1/U[1],0],[U[2]/U[1],0]]),Fe=[((We=Ae[0])[0]*($e=Ae[1])[0]+We[1]*$e[1])/(Qe=$e[0]*$e[0]+$e[1]*$e[1]),(We[1]*$e[0]-We[0]*$e[1])/Qe];return[S(Fe[1],Fe[0])/-1,2*d(v(-.5*i(de*Fe[0]*Fe[0]+de*Fe[1]*Fe[1])))-m]};var on=r(7613);function un(V){var Y=f(V),W=M(V),te=On(V);function ye(Le,U){var ie=te(Le,U);Le=ie[0];var de=f(U=ie[1]),be=M(U),Ae=M(Le),Fe=O(Y*de+W*be*Ae),We=f(Fe),$e=E(We)>h?Fe/We:1;return[$e*W*f(Le),(E(Le)>m?$e:-$e)*(Y*be-W*de*Ae)]}return te.invert=On(-V),ye.invert=function(Le,U){var ie=P(Le*Le+U*U),de=-f(ie),be=M(ie),Ae=ie*be,Fe=-U*de,We=ie*Y,$e=P(Ae*Ae+Fe*Fe-We*We),Qe=S(Ae*We+Fe*$e,Fe*We-Ae*$e),tt=(ie>m?-1:1)*S(Le*de,ie*M(Qe)*be+U*f(Qe)*de);return te.invert(tt,Qe)},ye}function On(V){var Y=f(V),W=M(V);return function(te,ye){var Le=M(ye),U=M(te)*Le,ie=f(te)*Le,de=f(ye);return[S(ie,U*W-de*Y),L(de*W+U*Y)]}}function Fn(){var V=0,Y=(0,D.r)(un),W=Y(V),te=W.rotate,ye=W.stream,Le=(0,on.Z)();return W.parallel=function(U){if(!arguments.length)return V*I;var ie=W.rotate();return Y(V=U*k).rotate(ie)},W.rotate=function(U){return arguments.length?(te.call(W,[U[0],U[1]-V*I]),Le.center([-U[0],-U[1]]),W):((U=te.call(W))[1]+=V*I,U)},W.stream=function(U){return(U=ye(U)).sphere=function(){U.polygonStart();var ie,de=Le.radius(89.99)().coordinates[0],be=de.length-1,Ae=-1;for(U.lineStart();++Ae<be;)U.point((ie=de[Ae])[0],ie[1]);for(U.lineEnd(),be=(de=Le.radius(90.01)().coordinates[0]).length-1,U.lineStart();--Ae>=0;)U.point((ie=de[Ae])[0],ie[1]);U.lineEnd(),U.polygonEnd()},U},W.scale(79.4187).parallel(45).clipAngle(179.999)}var Gn=r(33064),bn=r(72736),ln=L(1-1/3)*I,fn=rt(0);function _n(V){var Y=ln*k,W=Pt(x,Y)[0]-Pt(-x,Y)[0],te=fn(0,Y)[1],ye=Pt(0,Y)[1],Le=A-ye,U=p/V,ie=4/p,de=te+Le*Le*4/p;function be(Ae,Fe){var We,$e=E(Fe);if($e>Y){var Qe=a(V-1,s(0,u((Ae+x)/U)));(We=Pt(Ae+=x*(V-1)/V-Qe*U,$e))[0]=We[0]*p/W-p*(V-1)/(2*V)+Qe*p/V,We[1]=te+4*(We[1]-ye)*Le/p,Fe<0&&(We[1]=-We[1])}else We=fn(Ae,Fe);return We[0]*=ie,We[1]/=de,We}return be.invert=function(Ae,Fe){Ae/=ie;var We=E(Fe*=de);if(We>te){var $e=a(V-1,s(0,u((Ae+x)/U))),Qe=Pt.invert(Ae=(Ae+x*(V-1)/V-$e*U)*W/p,.25*(We-te)*p/Le+ye);return Qe[0]-=x*(V-1)/V-$e*U,Fe<0&&(Qe[1]=-Qe[1]),Qe}return fn.invert(Ae,Fe)},be}function wn(V,Y){return[V,1&Y?90-h:ln]}function Un(V,Y){return[V,1&Y?-90+h:-ln]}function Hn(V){return[V[0]*(1-h),V[1]]}function ar(){var V=4,Y=(0,D.r)(_n),W=Y(V),te=W.stream;return W.lobes=function(ye){return arguments.length?Y(V=+ye):V},W.stream=function(ye){var Le=W.rotate(),U=te(ye),ie=(W.rotate([0,0]),te(ye));return W.rotate(Le),U.sphere=function(){var de,be;(0,bn.Z)((be=[].concat((0,Gn.w6)(-180,180+(de=180/V)/2,de).map(wn),(0,Gn.w6)(180,-180-de/2,-de).map(Un)),{type:"Polygon",coordinates:[180===de?be.map(Hn):be]}),ie)},U},W.scale(239.75)}function tr(V){var Y,W=1+V,te=L(f(1/W)),ye=2*P(x/(Y=x+4*te*W)),Le=.5*ye*(W+P(V*(2+V))),U=V*V,ie=W*W;function de(be,Ae){var Fe,We,$e=1-f(Ae);if($e&&$e<2){var Qe,tt=m-Ae,lt=25;do{var yt=f(tt),Mt=M(tt),Bt=te+S(yt,W-Mt),Ut=1+ie-2*W*Mt;tt-=Qe=(tt-U*te-W*yt+Ut*Bt-.5*$e*Y)/(2*W*yt*Bt)}while(E(Qe)>T&&--lt>0);Fe=ye*P(Ut),We=be*Bt/x}else Fe=ye*(V+$e),We=be*te/x;return[Fe*f(We),Le-Fe*M(We)]}return de.invert=function(be,Ae){var Fe=be*be+(Ae-=Le)*Ae,We=(1+ie-Fe/(ye*ye))/(2*W),$e=O(We),Qe=f($e),tt=te+S(Qe,W-We);return[L(be/P(Fe))*x/tt,L(1-2*($e-U*te-W*Qe+(1+ie-2*W*We)*tt)/Y)]},de}function gr(){var V=1,Y=(0,D.r)(tr),W=Y(V);return W.ratio=function(te){return arguments.length?Y(V=+te):V},W.scale(167.774).center([0,18.67])}var Vn=.7109889596207567,Tr=.0528035274542;function rr(V,Y){return Y>-Vn?((V=me(V,Y))[1]+=Tr,V):Ze(V,Y)}function _r(){return(0,D.Z)(rr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Ir(V,Y){return E(Y)>Vn?((V=me(V,Y))[1]-=Y>0?Tr:-Tr,V):Ze(V,Y)}function Lr(){return(0,D.Z)(Ir).scale(152.63)}function Jr(V,Y,W,te){var ye=P(4*x/(2*W+(1+V-Y/2)*f(2*W)+(V+Y)/2*f(4*W)+Y/2*f(6*W))),Le=P(te*f(W)*P((1+V*M(2*W)+Y*M(4*W))/(1+V+Y))),U=W*de(1);function ie(Fe){return P(1+V*M(2*Fe)+Y*M(4*Fe))}function de(Fe){var We=Fe*W;return(2*We+(1+V-Y/2)*f(2*We)+(V+Y)/2*f(4*We)+Y/2*f(6*We))/W}function be(Fe){return ie(Fe)*f(Fe)}var Ae=function(Fe,We){var $e=W*Me(de,U*f(We)/W,We/x);isNaN($e)&&($e=W*c(We));var Qe=ye*ie($e);return[Qe*Le*Fe/x*M($e),Qe/Le*f($e)]};return Ae.invert=function(Fe,We){var $e=Me(be,We*Le/ye);return[Fe*x/(M($e)*ye*Le*ie($e)),L(W*de($e/W)/U)]},0===W&&(ye=P(te/x),(Ae=function(Fe,We){return[Fe*ye,f(We)/ye]}).invert=function(Fe,We){return[Fe/ye,L(We*ye)]}),Ae}function fr(){var V=1,Y=0,W=45*k,te=2,ye=(0,D.r)(Jr),Le=ye(V,Y,W,te);return Le.a=function(U){return arguments.length?ye(V=+U,Y,W,te):V},Le.b=function(U){return arguments.length?ye(V,Y=+U,W,te):Y},Le.psiMax=function(U){return arguments.length?ye(V,Y,W=+U*k,te):W*I},Le.ratio=function(U){return arguments.length?ye(V,Y,W,te=+U):te},Le.scale(180.739)}function Rr(V,Y,W,te,ye,Le,U,ie,de,be,Ae){if(Ae.nanEncountered)return NaN;var Fe,We,$e,Qe,tt,lt,yt,Mt,Bt,Ut;if(We=V(Y+.25*(Fe=W-Y)),$e=V(W-.25*Fe),isNaN(We))Ae.nanEncountered=!0;else{if(!isNaN($e))return Ut=((lt=(Qe=Fe*(te+4*We+ye)/12)+(tt=Fe*(ye+4*$e+Le)/12))-U)/15,be>de?(Ae.maxDepthCount++,lt+Ut):Math.abs(Ut)<ie?lt+Ut:(Mt=Rr(V,Y,yt=Y+.5*Fe,te,We,ye,Qe,.5*ie,de,be+1,Ae),isNaN(Mt)?(Ae.nanEncountered=!0,NaN):(Bt=Rr(V,yt,W,ye,$e,Le,tt,.5*ie,de,be+1,Ae),isNaN(Bt)?(Ae.nanEncountered=!0,NaN):Mt+Bt));Ae.nanEncountered=!0}}function oi(V,Y,W,te,ye){void 0===te&&(te=1e-8),void 0===ye&&(ye=20);var Le=V(Y),U=V(.5*(Y+W)),ie=V(W);return Rr(V,Y,W,Le,U,ie,(Le+4*U+ie)*(W-Y)/6,te,ye,1,{maxDepthCount:0,nanEncountered:!1})}function ji(V,Y,W){function te($e){return V+(1-V)*o(1-o($e,Y),1/Y)}function ye($e){return oi(te,0,$e,1e-4)}for(var Le=1/ye(1),U=1e3,ie=1.00000001*Le,de=[],be=0;be<=U;be++)de.push(ye(be/U)*ie);function Ae($e){var Qe=0,tt=U,lt=500;do{de[lt]>$e?tt=lt:Qe=lt,lt=Qe+tt>>1}while(lt>Qe);var yt=de[lt+1]-de[lt];return yt&&(yt=($e-de[lt+1])/yt),(lt+1+yt)/U}var Fe=2*Ae(1)/x*Le/W,We=function($e,Qe){var tt=Ae(E(f(Qe))),lt=te(tt)*$e;return tt/=Fe,[lt,Qe>=0?tt:-tt]};return We.invert=function($e,Qe){var tt;return E(Qe*=Fe)<1&&(tt=c(Qe)*L(ye(E(Qe))*Le)),[$e/te(E(Qe)),tt]},We}function ko(){var V=0,Y=2.5,W=1.183136,te=(0,D.r)(ji),ye=te(V,Y,W);return ye.alpha=function(Le){return arguments.length?te(V=+Le,Y,W):V},ye.k=function(Le){return arguments.length?te(V,Y=+Le,W):Y},ye.gamma=function(Le){return arguments.length?te(V,Y,W=+Le):W},ye.scale(152.63)}function Zr(V,Y){return E(V[0]-Y[0])<h&&E(V[1]-Y[1])<h}function _o(V,Y){for(var W,te,ye,Le=-1,U=V.length,ie=V[0],de=[];++Le<U;){te=((W=V[Le])[0]-ie[0])/Y,ye=(W[1]-ie[1])/Y;for(var be=0;be<Y;++be)de.push([ie[0]+be*te,ie[1]+be*ye]);ie=W}return de.push(W),de}function ao(V,Y,W){var te,ye;function Le(de,be){for(var Ae=be<0?-1:1,Fe=Y[+(be<0)],We=0,$e=Fe.length-1;We<$e&&de>Fe[We][2][0];++We);var Qe=V(de-Fe[We][1][0],be);return Qe[0]+=V(Fe[We][1][0],Ae*be>Ae*Fe[We][0][1]?Fe[We][0][1]:be)[0],Qe}W?Le.invert=W(Le):V.invert&&(Le.invert=function(de,be){for(var Ae=ye[+(be<0)],Fe=Y[+(be<0)],We=0,$e=Ae.length;We<$e;++We){var Qe=Ae[We];if(Qe[0][0]<=de&&de<Qe[1][0]&&Qe[0][1]<=be&&be<Qe[1][1]){var tt=V.invert(de-V(Fe[We][1][0],0)[0],be);return tt[0]+=Fe[We][1][0],Zr(Le(tt[0],tt[1]),[de,be])?tt:null}}});var U=(0,D.Z)(Le),ie=U.stream;return U.stream=function(de){var be=U.rotate(),Ae=ie(de),Fe=(U.rotate([0,0]),ie(de));return U.rotate(be),Ae.sphere=function(){(0,bn.Z)(te,Fe)},Ae},U.lobes=function(de){return arguments.length?(te=function(be){var Ae,Fe,$e,Qe,lt,yt=[],Mt=be[0].length;for(lt=0;lt<Mt;++lt)Fe=(Ae=be[0][lt])[0][0],yt.push(_o([[Fe+h,Ae[0][1]+h],[Fe+h,($e=Ae[1][1])-h],[(Qe=Ae[2][0])-h,$e-h],[Qe-h,Ae[2][1]+h]],30));for(lt=be[1].length-1;lt>=0;--lt)Fe=(Ae=be[1][lt])[0][0],yt.push(_o([[(Qe=Ae[2][0])-h,Ae[2][1]-h],[Qe-h,($e=Ae[1][1])+h],[Fe+h,$e+h],[Fe+h,Ae[0][1]-h]],30));return{type:"Polygon",coordinates:[(0,Gn.TS)(yt)]}}(de),Y=de.map(function(be){return be.map(function(Ae){return[[Ae[0][0]*k,Ae[0][1]*k],[Ae[1][0]*k,Ae[1][1]*k],[Ae[2][0]*k,Ae[2][1]*k]]})}),ye=Y.map(function(be){return be.map(function(Ae){var Fe,We=V(Ae[0][0],Ae[0][1])[0],$e=V(Ae[2][0],Ae[2][1])[0],Qe=V(Ae[1][0],Ae[0][1])[1],tt=V(Ae[1][0],Ae[1][1])[1];return Qe>tt&&(Fe=Qe,Qe=tt,tt=Fe),[[We,Qe],[$e,tt]]})}),U):Y.map(function(be){return be.map(function(Ae){return[[Ae[0][0]*I,Ae[0][1]*I],[Ae[1][0]*I,Ae[1][1]*I],[Ae[2][0]*I,Ae[2][1]*I]]})})},null!=Y&&U.lobes(Y),U}rr.invert=function(V,Y){return Y>-Vn?me.invert(V,Y-Tr):Ze.invert(V,Y)},Ir.invert=function(V,Y){return E(Y)>Vn?me.invert(V,Y+(Y>0?Tr:-Tr)):Ze.invert(V,Y)};var Bi=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ps(){return ao(Re,Bi).scale(160.857)}var ss=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Vi(){return ao(Ir,ss).scale(152.63)}var ju=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ac(){return ao(me,ju).scale(169.529)}var Jc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function rc(){return ao(me,Jc).scale(169.529).rotate([20,0])}var vs=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Rc(){return ao(rr,vs,_e).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var ic=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function oc(){return ao(Ze,ic).scale(152.63).rotate([-20,0])}function tl(V,Y){return[3/p*V*P(x*x/3-Y*Y),Y]}function Ho(){return(0,D.Z)(tl).scale(158.837)}function bl(V){function Y(W,te){if(E(E(te)-m)<h)return[0,te<0?-2:2];var ye=f(te),Le=o((1+ye)/(1-ye),V/2),U=.5*(Le+1/Le)+M(W*=V);return[2*f(W)/U,(Le-1/Le)/U]}return Y.invert=function(W,te){var ye=E(te);if(E(ye-2)<h)return W?null:[0,c(te)*m];if(ye>2)return null;var Le=(W/=2)*W,U=(te/=2)*te,ie=2*te/(1+Le+U);return ie=o((1+ie)/(1-ie),1/V),[S(2*W,1-Le-U)/V,L((ie-1)/(ie+1))]},Y}function Li(){var V=.5,Y=(0,D.r)(bl),W=Y(V);return W.spacing=function(te){return arguments.length?Y(V=+te):V},W.scale(124.75)}tl.invert=function(V,Y){return[p/3*V/P(x*x/3-Y*Y),Y]};var nl=x/w;function Dr(V,Y){return[V*(1+P(M(Y)))/2,Y/(M(Y/2)*M(V/6))]}function rl(){return(0,D.Z)(Dr).scale(97.2672)}function gi(V,Y){var W=V*V,te=Y*Y;return[V*(.975534+te*(-.0143059*W-.119161+-.0547009*te)),Y*(1.00384+W*(.0802894+-.02855*te+199025e-9*W)+te*(.0998909+-.0491032*te))]}function Rs(){return(0,D.Z)(gi).scale(139.98)}function Fs(V,Y){return[f(V)/M(Y),g(Y)*M(V)]}function ls(){return(0,D.Z)(Fs).scale(144.049).clipAngle(89.999)}function Qc(V){var Y=M(V),W=g(b+V/2);function te(ye,Le){var U=Le-V,ie=E(U)<h?ye*Y:E(ie=b+Le/2)<h||E(E(ie)-m)<h?0:ye*U/i(g(ie)/W);return[ie,U]}return te.invert=function(ye,Le){var U,ie=Le+V;return[E(Le)<h?ye/Y:E(U=b+ie/2)<h||E(E(U)-m)<h?0:ye*i(g(U)/W)/Le,ie]},te}function Vu(){return Ue(Qc).parallel(40).scale(158.837)}function Fl(V,Y){return[V,1.25*i(g(b+.4*Y))]}function il(){return(0,D.Z)(Fl).scale(108.318)}function ys(V){var Y=V.length-1;function W(te,ye){for(var Le,U=M(ye),ie=2/(1+U*M(te)),de=ie*U*f(te),be=ie*f(ye),Ae=Y,Fe=V[Ae],We=Fe[0],$e=Fe[1];--Ae>=0;)We=(Fe=V[Ae])[0]+de*(Le=We)-be*$e,$e=Fe[1]+de*$e+be*Le;return[We=de*(Le=We)-be*$e,$e=de*$e+be*Le]}return W.invert=function(te,ye){var Le=20,U=te,ie=ye;do{for(var de,be=Y,Ae=V[be],Fe=Ae[0],We=Ae[1],$e=0,Qe=0;--be>=0;)$e=Fe+U*(de=$e)-ie*Qe,Qe=We+U*Qe+ie*de,Fe=(Ae=V[be])[0]+U*(de=Fe)-ie*We,We=Ae[1]+U*We+ie*de;var tt,lt,yt=($e=Fe+U*(de=$e)-ie*Qe)*$e+(Qe=We+U*Qe+ie*de)*Qe;U-=tt=((Fe=U*(de=Fe)-ie*We-te)*$e+(We=U*We+ie*de-ye)*Qe)/yt,ie-=lt=(We*$e-Fe*Qe)/yt}while(E(tt)+E(lt)>h*h&&--Le>0);if(Le){var Mt=P(U*U+ie*ie),Bt=2*d(.5*Mt),Ut=f(Bt);return[S(U*Ut,Mt*M(Bt)),Mt?L(ie*Ut/Mt):0]}},W}Dr.invert=function(V,Y){var W=E(V),te=E(Y),ye=h,Le=m;te<nl?Le*=te/nl:ye+=6*O(nl/te);for(var U=0;U<25;U++){var ie=f(Le),de=P(M(Le)),be=f(Le/2),Ae=M(Le/2),Fe=f(ye/6),We=M(ye/6),$e=.5*ye*(1+de)-W,Qe=Le/(Ae*We)-te,tt=de?-.25*ye*ie/de:0,lt=.5*(1+de),yt=(1+.5*Le*be/Ae)/(Ae*We),Mt=Le/Ae*(Fe/6)/(We*We),Bt=tt*Mt-yt*lt,Ut=($e*Mt-Qe*lt)/Bt,jt=(Qe*tt-$e*yt)/Bt;if(Le-=Ut,ye-=jt,E(Ut)<h&&E(jt)<h)break}return[V<0?-ye:ye,Y<0?-Le:Le]},gi.invert=function(V,Y){var W=c(V)*x,te=Y/2,ye=50;do{var Le=W*W,U=te*te,ie=W*te,de=W*(.975534+U*(-.0143059*Le-.119161+-.0547009*U))-V,be=te*(1.00384+Le*(.0802894+-.02855*U+199025e-9*Le)+U*(.0998909+-.0491032*U))-Y,Ae=.975534-U*(.119161+3*Le*.0143059+.0547009*U),Fe=-ie*(.238322+.2188036*U+.0286118*Le),We=ie*(.1605788+7961e-7*Le+-.0571*U),$e=1.00384+Le*(.0802894+199025e-9*Le)+U*(3*(.0998909-.02855*Le)-.245516*U),Qe=Fe*We-$e*Ae,tt=(be*Fe-de*$e)/Qe,lt=(de*We-be*Ae)/Qe;W-=tt,te-=lt}while((E(tt)>h||E(lt)>h)&&--ye>0);return ye&&[W,te]},Fs.invert=function(V,Y){var W=V*V,te=Y*Y+1,ye=W+te,Le=V?_*P((ye-P(ye*ye-4*W))/W):1/P(te);return[L(V*Le),c(Y)*O(Le)]},Fl.invert=function(V,Y){return[V,2.5*d(v(.8*Y))-.625*x]};var xs=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ns=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Gi=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],wl=[[.9245,0],[0,0],[.01943,0]],ol=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Tl(){return Ki(xs,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function ac(){return Ki(Ns,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function _s(){return Ki(Gi,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function sc(){return Ki(wl,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function vu(){return Ki(ol,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ki(V,Y){var W=(0,D.Z)(ys(V)).rotate(Y).clipAngle(90),te=(0,st.Z)(Y),ye=W.center;return delete W.rotate,W.center=function(Le){return arguments.length?ye(te(Le)):te.invert(ye())},W}var lc=P(6),al=P(7);function Ml(V,Y){var W=L(7*f(Y)/(3*lc));return[lc*V*(2*M(2*W/3)-1)/al,9*f(W/3)/al]}function Ui(){return(0,D.Z)(Ml).scale(164.859)}function Nl(V,Y){for(var W,te=(1+_)*f(Y),ye=Y,Le=0;Le<25&&(ye-=W=(f(ye/2)+f(ye)-te)/(.5*M(ye/2)+M(ye)),!(E(W)<h));Le++);return[V*(1+2*M(ye)/M(ye/2))/(3*w),2*P(3)*f(ye/2)/P(2+w)]}function Ji(){return(0,D.Z)(Nl).scale(188.209)}function Vr(V,Y){for(var W,te=P(6/(4+x)),ye=(1+x/4)*f(Y),Le=Y/2,U=0;U<25&&(Le-=W=(Le/2+f(Le)-ye)/(.5+M(Le)),!(E(W)<h));U++);return[te*(.5+M(Le))*V/1.5,te*Le]}function pa(){return(0,D.Z)(Vr).scale(166.518)}Ml.invert=function(V,Y){var W=3*L(Y*al/9);return[V*al/(lc*(2*M(2*W/3)-1)),L(3*f(W)*lc/7)]},Nl.invert=function(V,Y){var W=Y*P(2+w)/(2*P(3)),te=2*L(W);return[3*w*V/(1+2*M(te)/M(te/2)),L((W+f(te))/(1+_))]},Vr.invert=function(V,Y){var W=P(6/(4+x)),te=Y/W;return E(E(te)-m)<h&&(te=te<0?-m:m),[1.5*V/(W*(.5+M(te))),L((te/2+f(te))/(1+x/4))]};var Si=r(26867);function Go(V,Y){var W=Y*Y,te=W*W,ye=W*te;return[V*(.84719-.13063*W+ye*ye*(.05494*W-.04515-.02326*te+.00331*ye)),Y*(1.01183+te*te*(.01926*W-.02625-.00396*te))]}function Xa(){return(0,D.Z)(Go).scale(175.295)}function Al(V,Y){return[V*(1+M(Y))/2,2*(Y-g(Y/2))]}function Ka(){return(0,D.Z)(Al).scale(152.63)}Go.invert=function(V,Y){var W,te,ye,Le,U=Y,ie=25;do{U-=W=(U*(1.01183+(ye=(te=U*U)*te)*ye*(.01926*te-.02625-.00396*ye))-Y)/(1.01183+ye*ye*(.21186*te-.23625+-.05148*ye))}while(E(W)>T&&--ie>0);return[V/(.84719-.13063*(te=U*U)+(Le=te*(ye=te*te))*Le*(.05494*te-.04515-.02326*ye+.00331*Le)),U]},Al.invert=function(V,Y){for(var W=Y/2,te=0,ye=1/0;te<10&&E(ye)>h;++te){var Le=M(Y/2);Y-=ye=(Y-g(Y/2)-W)/(1-.5/(Le*Le))}return[2*V/(1+M(Y)),Y]};var yu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function kc(){return ao(ve(1/0),yu).rotate([20,0]).scale(152.63)}function kl(V,Y){var W=f(Y),te=M(Y),ye=c(V);if(0===V||E(Y)===m)return[0,Y];if(0===Y)return[V,0];if(E(V)===m)return[V*te,m*W];var Le=x/(2*V)-2*V/x,U=2*Y/x,ie=(1-U*U)/(W-U),de=Le*Le,be=ie*ie,Ae=1+de/be,Fe=1+be/de,We=(Le*W/ie-Le/2)/Ae,$e=(be*W/de+ie/2)/Fe,Qe=$e*$e-(be*W*W/de+ie*W-1)/Fe;return[m*(We+P(We*We+te*te/Ae)*ye),m*($e+P(Qe<0?0:Qe)*c(-Y*Le)*ye)]}function cs(){return(0,D.Z)(kl).scale(127.267)}kl.invert=function(V,Y){var W=(V/=m)*V,te=W+(Y/=m)*Y,ye=x*x;return[V?(te-1+P((1-te)*(1-te)+4*W))/(2*V)*m:0,Me(function(Le){return te*(x*f(Le)-2*Le)*x+4*Le*Le*(Y-f(Le))+2*x*Le-ye*Y},0)]};var $r=1.0148,xi=.23185,mo=-.14499,ca=.02406,sl=$r,Co=5*xi,cc=7*mo,qo=9*ca,uc=1.790857183;function zs(V,Y){var W=Y*Y;return[V,Y*($r+W*W*(xi+W*(mo+ca*W)))]}function Mi(){return(0,D.Z)(zs).scale(139.319)}function Sl(V,Y){if(E(Y)<h)return[V,0];var W=g(Y),te=V*f(Y);return[f(te)/W,Y+(1-M(te))/W]}function dc(){return(0,D.Z)(Sl).scale(103.74)}zs.invert=function(V,Y){Y>uc?Y=uc:Y<-1.790857183&&(Y=-1.790857183);var W,te=Y;do{var ye=te*te;te-=W=(te*($r+ye*ye*(xi+ye*(mo+ca*ye)))-Y)/(sl+ye*ye*(Co+ye*(cc+qo*ye)))}while(E(W)>h);return[V,te]},Sl.invert=function(V,Y){if(E(Y)<h)return[V,0];var W,te=V*V+Y*Y,ye=.5*Y,Le=10;do{var U=g(ye),ie=1/M(ye),de=te-2*Y*ye+ye*ye;ye-=W=(U*de+2*(ye-Y))/(2+de*ie*ie+2*(ye-Y)*U)}while(E(W)>h&&--Le>0);return U=g(ye),[(E(Y)<E(ye+1/U)?L(V*U):c(Y)*c(V)*(O(E(V*U))+m))/f(ye),ye]};var fc=r(77338),bs=r(83074);function Jo(V,Y){return[V[0]*Y[0]+V[1]*Y[3],V[0]*Y[1]+V[1]*Y[4],V[0]*Y[2]+V[1]*Y[5]+V[2],V[3]*Y[0]+V[4]*Y[3],V[3]*Y[1]+V[4]*Y[4],V[3]*Y[2]+V[4]*Y[5]+V[5]]}function ll(V,Y){return[V[0]-Y[0],V[1]-Y[1]]}function Pi(V){return P(V[0]*V[0]+V[1]*V[1])}function ka(V,Y,W){function te(ie,de){var be,Ae=Y(ie,de),Fe=Ae.project([ie*I,de*I]);return(be=Ae.transform)?[be[0]*Fe[0]+be[1]*Fe[1]+be[2],-(be[3]*Fe[0]+be[4]*Fe[1]+be[5])]:(Fe[1]=-Fe[1],Fe)}function ye(ie,de){var lt,yt,be=ie.project.invert,Ae=ie.transform,Fe=de;if(Ae&&(Fe=[(Ae=[(yt=1/((lt=Ae)[0]*lt[4]-lt[1]*lt[3]))*lt[4],-yt*lt[1],yt*(lt[1]*lt[5]-lt[2]*lt[4]),-yt*lt[3],yt*lt[0],yt*(lt[2]*lt[3]-lt[0]*lt[5])])[0]*Fe[0]+Ae[1]*Fe[1]+Ae[2],Ae[3]*Fe[0]+Ae[4]*Fe[1]+Ae[5]]),be&&ie===function(lt){return Y(lt[0]*k,lt[1]*k)}(We=be(Fe)))return We;for(var We,$e=ie.children,Qe=0,tt=$e&&$e.length;Qe<tt;++Qe)if(We=ye($e[Qe],de))return We}(function ie(de,be){if(de.edges=function(jt){for(var Xt=jt.length,Vt=[],pn=jt[Xt-1],sn=0;sn<Xt;++sn)Vt.push([pn,pn=jt[sn]]);return Vt}(de.face),be.face){var Ae=de.shared=function(jt,Xt){for(var Vt,pn,sn=jt.length,tn=null,Sn=0;Sn<sn;++Sn){Vt=jt[Sn];for(var Dn=Xt.length;--Dn>=0;)if(Vt[0]===(pn=Xt[Dn])[0]&&Vt[1]===pn[1]){if(tn)return[tn,Vt];tn=Vt}}}(de.face,be.face),Fe=(tt=Ae.map(be.project),lt=Ae.map(de.project),yt=ll(tt[1],tt[0]),Mt=ll(lt[1],lt[0]),Bt=S((jt=yt)[0]*(Xt=Mt)[1]-jt[1]*Xt[0],jt[0]*Xt[0]+jt[1]*Xt[1]),Ut=Pi(yt)/Pi(Mt),Jo([1,0,tt[0][0],0,1,tt[0][1]],Jo([Ut,0,0,0,Ut,0],Jo([M(Bt),f(Bt),0,-f(Bt),M(Bt),0],[1,0,-lt[0][0],0,1,-lt[0][1]]))));de.transform=be.transform?Jo(be.transform,Fe):Fe;for(var We=be.edges,$e=0,Qe=We.length;$e<Qe;++$e)Qo(Ae[0],We[$e][1])&&Qo(Ae[1],We[$e][0])&&(We[$e]=de),Qo(Ae[0],We[$e][0])&&Qo(Ae[1],We[$e][1])&&(We[$e]=de);for($e=0,Qe=(We=de.edges).length;$e<Qe;++$e)Qo(Ae[0],We[$e][0])&&Qo(Ae[1],We[$e][1])&&(We[$e]=be),Qo(Ae[0],We[$e][1])&&Qo(Ae[1],We[$e][0])&&(We[$e]=be)}else de.transform=be.transform;var jt,Xt,tt,lt,yt,Mt,Bt,Ut;return de.children&&de.children.forEach(function(jt){ie(jt,de)}),de})(V,{transform:null}),si(V)&&(te.invert=function(ie,de){var be=ye(V,[ie,-de]);return be&&(be[0]*=k,be[1]*=k,be)});var Le=(0,D.Z)(te),U=Le.stream;return Le.stream=function(ie){var de=Le.rotate(),be=U(ie),Ae=(Le.rotate([0,0]),U(ie));return Le.rotate(de),be.sphere=function(){Ae.polygonStart(),Ae.lineStart(),us(Ae,V),Ae.lineEnd(),Ae.polygonEnd()},be},Le.angle(null==W?-30:W*I)}function us(V,Y,W){var te,ye,Le=Y.edges,U=Le.length,ie={type:"MultiPoint",coordinates:Y.face},de=Y.face.filter(function(tt){return 90!==E(tt[1])}),be=(0,fc.Z)({type:"MultiPoint",coordinates:de}),Ae=!1,Fe=-1,We=be[1][0]-be[0][0],$e=180===We||360===We?[(be[0][0]+be[1][0])/2,(be[0][1]+be[1][1])/2]:(0,et.Z)(ie);if(W)for(;++Fe<U&&Le[Fe]!==W;);++Fe;for(var Qe=0;Qe<U;++Qe)ye=Le[(Qe+Fe)%U],Array.isArray(ye)?(Ae||(V.point((te=(0,bs.Z)(ye[0],$e)(h))[0],te[1]),Ae=!0),V.point((te=(0,bs.Z)(ye[1],$e)(h))[0],te[1])):(Ae=!1,ye!==W&&us(V,ye,Y))}function Qo(V,Y){return V&&Y&&V[0]===Y[0]&&V[1]===Y[1]}function si(V){return V.project.invert||V.children&&V.children.some(si)}var qi=r(98936),cl=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ul=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(V){return V.map(function(Y){return cl[Y]})});function Sc(V){V=V||function(W){var te=(0,et.Z)({type:"MultiPoint",coordinates:W});return(0,qi.Z)().scale(1).translate([0,0]).rotate([-te[0],-te[1]])};var Y=ul.map(function(W){return{face:W,project:V(W)}});return[-1,0,0,1,0,1,4,5].forEach(function(W,te){var ye=Y[W];ye&&(ye.children||(ye.children=[])).push(Y[te])}),ka(Y[0],function(W,te){return Y[W<-x/2?te<0?6:4:W<0?te<0?2:0:W<x/2?te<0?3:1:te<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var zl=2/P(3);function ds(V,Y){var W=Pt(V,Y);return[W[0]*zl,W[1]]}function ua(V){V=V||function(W){var te=(0,et.Z)({type:"MultiPoint",coordinates:W});return(0,D.Z)(ds).translate([0,0]).scale(1).rotate(te[1]>0?[-te[0],0]:[180-te[0],180])};var Y=ul.map(function(W){return{face:W,project:V(W)}});return[-1,0,0,1,0,1,4,5].forEach(function(W,te){var ye=Y[W];ye&&(ye.children||(ye.children=[])).push(Y[te])}),ka(Y[0],function(W,te){return Y[W<-x/2?te<0?6:4:W<0?te<0?2:0:W<x/2?te<0?3:1:te<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Bl(V){V=V||function(Le){var U=6===Le.length?(0,et.Z)({type:"MultiPoint",coordinates:Le}):Le[0];return(0,qi.Z)().scale(1).translate([0,0]).rotate([-U[0],-U[1]])};var Y=ul.map(function(Le){for(var U,ie=Le.map(So),de=ie.length,be=ie[de-1],Ae=[],Fe=0;Fe<de;++Fe)Ae.push(ma([.9486832980505138*be[0]+.31622776601683794*(U=ie[Fe])[0],.9486832980505138*be[1]+.31622776601683794*U[1],.9486832980505138*be[2]+.31622776601683794*U[2]]),ma([.9486832980505138*U[0]+.31622776601683794*be[0],.9486832980505138*U[1]+.31622776601683794*be[1],.9486832980505138*U[2]+.31622776601683794*be[2]])),be=U;return Ae}),W=[],te=[-1,0,0,1,0,1,4,5];Y.forEach(function(Le,U){for(var ie,de,be=ul[U],Ae=be.length,Fe=W[U]=[],We=0;We<Ae;++We)Y.push([be[We],Le[(2*We+2)%(2*Ae)],Le[(2*We+1)%(2*Ae)]]),te.push(U),Fe.push((ie=So(Le[(2*We+2)%(2*Ae)]),de=So(Le[(2*We+1)%(2*Ae)]),[ie[1]*de[2]-ie[2]*de[1],ie[2]*de[0]-ie[0]*de[2],ie[0]*de[1]-ie[1]*de[0]]))});var ye=Y.map(function(Le){return{project:V(Le),face:Le}});return te.forEach(function(Le,U){var ie=ye[Le];ie&&(ie.children||(ie.children=[])).push(ye[U])}),ka(ye[0],function(Le,U){var ie=M(U),de=[ie*M(Le),ie*f(Le),f(U)],be=Le<-x/2?U<0?6:4:Le<0?U<0?2:0:Le<x/2?U<0?3:1:U<0?7:5,Ae=W[be];return ye[da(Ae[0],de)<0?8+3*be:da(Ae[1],de)<0?8+3*be+1:da(Ae[2],de)<0?8+3*be+2:be]}).angle(-30).scale(110.625).center([0,45])}function da(V,Y){for(var W=0,te=V.length,ye=0;W<te;++W)ye+=V[W]*Y[W];return ye}function ma(V){return[S(V[1],V[0])*I,L(s(-1,a(1,V[2])))*I]}function So(V){var Y=V[0]*k,W=V[1]*k,te=M(W);return[te*M(Y),te*f(Y),f(W)]}function Bs(){}function dl(V,Y){var W,te=Y.stream;if(!te)throw new Error("invalid projection");switch(V&&V.type){case"Feature":W=Sa;break;case"FeatureCollection":W=so;break;default:W=Ea}return W(V,te)}function so(V,Y){return{type:"FeatureCollection",features:V.features.map(function(W){return Sa(W,Y)})}}function Sa(V,Y){return{type:"Feature",id:V.id,properties:V.properties,geometry:Ea(V.geometry,Y)}}function Ea(V,Y){if(!V)return null;if("GeometryCollection"===V.type)return ye=Y,{type:"GeometryCollection",geometries:V.geometries.map(function(Le){return Ea(Le,ye)})};var ye,W;switch(V.type){case"Point":case"MultiPoint":W=hc;break;case"LineString":case"MultiLineString":W=fl;break;case"Polygon":case"MultiPolygon":case"Sphere":W=ga;break;default:return null}return(0,bn.Z)(V,Y(W)),W.result()}ds.invert=function(V,Y){return Pt.invert(V/zl,Y)};var ea=[],Oa=[],hc={point:function(V,Y){ea.push([V,Y])},result:function(){var V=ea.length?ea.length<2?{type:"Point",coordinates:ea[0]}:{type:"MultiPoint",coordinates:ea}:null;return ea=[],V}},fl={lineStart:Bs,point:function(V,Y){ea.push([V,Y])},lineEnd:function(){ea.length&&(Oa.push(ea),ea=[])},result:function(){var V=Oa.length?Oa.length<2?{type:"LineString",coordinates:Oa[0]}:{type:"MultiLineString",coordinates:Oa}:null;return Oa=[],V}},ga={polygonStart:Bs,lineStart:Bs,point:function(V,Y){ea.push([V,Y])},lineEnd:function(){var V=ea.length;if(V){do{ea.push(ea[0].slice())}while(++V<4);Oa.push(ea),ea=[]}},polygonEnd:Bs,result:function(){if(!Oa.length)return null;var V=[],Y=[];return Oa.forEach(function(W){!function(te){if((ye=te.length)<4)return!1;for(var ye,Le=0,U=te[ye-1][1]*te[0][0]-te[ye-1][0]*te[0][1];++Le<ye;)U+=te[Le-1][1]*te[Le][0]-te[Le-1][0]*te[Le][1];return U<=0}(W)?Y.push(W):V.push([W])}),Y.forEach(function(W){var te=W[0];V.some(function(ye){if(function(Le,U){for(var ie=U[0],de=U[1],be=!1,Ae=0,Fe=Le.length,We=Fe-1;Ae<Fe;We=Ae++){var $e=Le[Ae],Qe=$e[0],tt=$e[1],lt=Le[We],Mt=lt[1];tt>de^Mt>de&&ie<(lt[0]-Qe)*(de-tt)/(Mt-tt)+Qe&&(be=!be)}return be}(ye[0],te))return ye.push(W),!0})||V.push([W])}),Oa=[],V.length?V.length>1?{type:"MultiPolygon",coordinates:V}:{type:"Polygon",coordinates:V[0]}:null}};function ws(V){var Y=V(m,0)[0]-V(-m,0)[0];function W(te,ye){var Le=E(te)<m,U=V(Le?te:te>0?te-x:te+x,ye),ie=(U[0]-U[1])*_,de=(U[0]+U[1])*_;if(Le)return[ie,de];var be=Y*_,Ae=ie>0^de>0?-1:1;return[Ae*ie-c(de)*be,Ae*de-c(ie)*be]}return V.invert&&(W.invert=function(te,ye){var Le=(te+ye)*_,U=(ye-te)*_,ie=E(Le)<.5*Y&&E(U)<.5*Y;if(!ie){var de=Y*_,be=Le>0^U>0?-1:1,Ae=-be*te+(U>0?1:-1)*de,Fe=-be*ye+(Le>0?1:-1)*de;Le=(-Ae-Fe)*_,U=(Ae-Fe)*_}var We=V.invert(Le,U);return ie||(We[0]+=Le>0?x:-x),We}),(0,D.Z)(W).rotate([-90,-90,45]).clipAngle(179.999)}function js(){return ws(Kn).scale(176.423)}function xu(){return ws(zn).scale(111.48)}function Vs(V,Y){if(!(0<=(Y=+Y)&&Y<=20))throw new Error("invalid digits");function W(be){var Ae=be.length,Fe=2,We=new Array(Ae);for(We[0]=+be[0].toFixed(Y),We[1]=+be[1].toFixed(Y);Fe<Ae;)We[Fe]=be[Fe],++Fe;return We}function te(be){return be.map(W)}function ye(be){for(var Ae=W(be[0]),Fe=[Ae],We=1;We<be.length;We++){var $e=W(be[We]);($e.length>2||$e[0]!=Ae[0]||$e[1]!=Ae[1])&&(Fe.push($e),Ae=$e)}return 1===Fe.length&&be.length>1&&Fe.push(W(be[be.length-1])),Fe}function Le(be){return be.map(ye)}function U(be){if(null==be)return be;var Ae;switch(be.type){case"GeometryCollection":Ae={type:"GeometryCollection",geometries:be.geometries.map(U)};break;case"Point":Ae={type:"Point",coordinates:W(be.coordinates)};break;case"MultiPoint":Ae={type:be.type,coordinates:te(be.coordinates)};break;case"LineString":Ae={type:be.type,coordinates:ye(be.coordinates)};break;case"MultiLineString":case"Polygon":Ae={type:be.type,coordinates:Le(be.coordinates)};break;case"MultiPolygon":Ae={type:"MultiPolygon",coordinates:be.coordinates.map(Le)};break;default:return be}return null!=be.bbox&&(Ae.bbox=be.bbox),Ae}function ie(be){var Ae={type:"Feature",properties:be.properties,geometry:U(be.geometry)};return null!=be.id&&(Ae.id=be.id),null!=be.bbox&&(Ae.bbox=be.bbox),Ae}if(null!=V)switch(V.type){case"Feature":return ie(V);case"FeatureCollection":var de={type:"FeatureCollection",features:V.features.map(ie)};return null!=V.bbox&&(de.bbox=V.bbox),de;default:return U(V)}return V}function va(V){var Y=f(V);function W(te,ye){var Le=Y?g(te*Y/2)/Y:te/2;if(!ye)return[2*Le,-V];var U=2*d(Le*f(ye)),ie=1/g(ye);return[f(U)*ie,ye+(1-M(U))*ie-V]}return W.invert=function(te,ye){if(E(ye+=V)<h)return[Y?2*d(Y*te/2)/Y:te,0];var Le,U=te*te+ye*ye,ie=0,de=10;do{var be=g(ie),Ae=1/M(ie),Fe=U-2*ye*ie+ie*ie;ie-=Le=(be*Fe+2*(ie-ye))/(2+Fe*Ae*Ae+2*(ie-ye)*be)}while(E(Le)>h&&--de>0);var We=te*(be=g(ie)),$e=g(E(ye)<E(ie+1/be)?.5*L(We):.5*O(We)+x/4)/f(ie);return[Y?2*d(Y*$e)/Y:2*$e,ie]},W}function Xr(){return Ue(va).scale(131.215)}var Pa=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function eu(V,Y){var W,te=a(18,36*E(Y)/x),ye=u(te),Le=te-ye,U=(W=Pa[ye])[0],ie=W[1],de=(W=Pa[++ye])[0],be=W[1],Ae=(W=Pa[a(19,++ye)])[0],Fe=W[1];return[V*(de+Le*(Ae-U)/2+Le*Le*(Ae-2*de+U)/2),(Y>0?m:-m)*(be+Le*(Fe-ie)/2+Le*Le*(Fe-2*be+ie)/2)]}function _u(){return(0,D.Z)(eu).scale(152.63)}function jl(V,Y){var W=function(U){function ie(de,be){var Ae=M(be),Fe=(U-1)/(U-Ae*M(de));return[Fe*Ae*f(de),Fe*f(be)]}return ie.invert=function(de,be){var Ae=de*de+be*be,Fe=P(Ae),We=(U-P(1-Ae*(U+1)/(U-1)))/((U-1)/Fe+Fe/(U-1));return[S(de*We,Fe*P(1-We*We)),Fe?L(be*We/Fe):0]},ie}(V);if(!Y)return W;var te=M(Y),ye=f(Y);function Le(U,ie){var de=W(U,ie),be=de[1],Ae=be*ye/(V-1)+te;return[de[0]*te/Ae,be/Ae]}return Le.invert=function(U,ie){var de=(V-1)/(V-1-ie*ye);return W.invert(de*U,de*ie*te)},Le}function Vl(){var V=2,Y=0,W=(0,D.r)(jl),te=W(V,Y);return te.distance=function(ye){return arguments.length?W(V=+ye,Y):V},te.tilt=function(ye){return arguments.length?W(V,Y=ye*k):Y*I},te.scale(432.147).clipAngle(O(1/V)*I-1e-6)}Pa.forEach(function(V){V[1]*=1.0144}),eu.invert=function(V,Y){var W=Y/m,te=90*W,ye=a(18,E(te/5)),Le=s(0,u(ye));do{var U=Pa[Le][1],ie=Pa[Le+1][1],de=Pa[a(19,Le+2)][1],be=de-U,Ae=de-2*ie+U,Fe=2*(E(W)-ie)/be,We=Ae/be,$e=Fe*(1-We*Fe*(1-2*We*Fe));if($e>=0||1===Le){te=(Y>=0?5:-5)*($e+ye);var Qe,tt=50;do{$e=(ye=a(18,E(te)/5))-(Le=u(ye)),U=Pa[Le][1],ie=Pa[Le+1][1],de=Pa[a(19,Le+2)][1],te-=(Qe=(Y>=0?m:-m)*(ie+$e*(de-U)/2+$e*$e*(de-2*ie+U)/2)-Y)*I}while(E(Qe)>T&&--tt>0);break}}while(--Le>=0);var lt=Pa[Le][0],yt=Pa[Le+1][0],Mt=Pa[a(19,Le+2)][0];return[V/(yt+$e*(Mt-lt)/2+$e*$e*(Mt-2*yt+lt)/2),te*k]};var Ul=1e-4,qr=1e4,hl=-180,Ts=hl+Ul,Fc=180,Qi=Fc-Ul,Ms=-90,As=Ms+Ul,fs=90,Us=fs-Ul;function pl(V){return V.length>0}function ta(V){return V===Ms||V===fs?[0,V]:[hl,(Y=V,Math.floor(Y*qr)/qr)];var Y}function El(V){var Y=V[0],W=V[1],te=!1;return Y<=Ts?(Y=hl,te=!0):Y>=Qi&&(Y=Fc,te=!0),W<=As?(W=Ms,te=!0):W>=Us&&(W=fs,te=!0),te?[Y,W]:V}function Ec(V){return V.map(El)}function lo(V,Y,W){for(var te=0,ye=V.length;te<ye;++te){var Le=V[te].slice();W.push({index:-1,polygon:Y,ring:Le});for(var U=0,ie=Le.length;U<ie;++U){var de=Le[U],be=de[0],Ae=de[1];if(be<=Ts||be>=Qi||Ae<=As||Ae>=Us){Le[U]=El(de);for(var Fe=U+1;Fe<ie;++Fe){var We=Le[Fe],$e=We[0],Qe=We[1];if($e>Ts&&$e<Qi&&Qe>As&&Qe<Us)break}if(Fe===U+1)continue;if(U){var tt={index:-1,polygon:Y,ring:Le.slice(0,U+1)};tt.ring[tt.ring.length-1]=ta(Ae),W[W.length-1]=tt}else W.pop();if(Fe>=ie)break;W.push({index:-1,polygon:Y,ring:Le=Le.slice(Fe-1)}),Le[0]=ta(Le[0][1]),U=-1,ie=Le.length}}}}function eo(V){var Y,W,te,ye,Le,U,ie=V.length,de={},be={};for(Y=0;Y<ie;++Y)(te=(W=V[Y]).ring[0])[0]!==(Le=W.ring[W.ring.length-1])[0]||te[1]!==Le[1]?(W.index=Y,de[te]=be[Le]=W):(W.polygon.push(W.ring),V[Y]=null);for(Y=0;Y<ie;++Y)if(W=V[Y]){if(ye=be[te=W.ring[0]],U=de[Le=W.ring[W.ring.length-1]],delete de[te],delete be[Le],te[0]===Le[0]&&te[1]===Le[1]){W.polygon.push(W.ring);continue}ye?(delete be[te],delete de[ye.ring[0]],ye.ring.pop(),V[ye.index]=null,W={index:-1,polygon:ye.polygon,ring:ye.ring.concat(W.ring)},ye===U?W.polygon.push(W.ring):(W.index=ie++,V.push(de[W.ring[0]]=be[W.ring[W.ring.length-1]]=W))):U?(delete de[Le],delete be[U.ring[U.ring.length-1]],W.ring.pop(),W={index:ie++,polygon:U.polygon,ring:W.ring.concat(U.ring)},V[U.index]=null,V.push(de[W.ring[0]]=be[W.ring[W.ring.length-1]]=W)):(W.ring.push(W.ring[0]),W.polygon.push(W.ring))}}function Cc(V){var Y={type:"Feature",geometry:co(V.geometry)};return null!=V.id&&(Y.id=V.id),null!=V.bbox&&(Y.bbox=V.bbox),null!=V.properties&&(Y.properties=V.properties),Y}function co(V){if(null==V)return V;var Y,W,te,ye;switch(V.type){case"GeometryCollection":Y={type:"GeometryCollection",geometries:V.geometries.map(co)};break;case"Point":Y={type:"Point",coordinates:El(V.coordinates)};break;case"MultiPoint":case"LineString":Y={type:V.type,coordinates:Ec(V.coordinates)};break;case"MultiLineString":Y={type:"MultiLineString",coordinates:V.coordinates.map(Ec)};break;case"Polygon":var Le=[];lo(V.coordinates,Le,W=[]),eo(W),Y={type:"Polygon",coordinates:Le};break;case"MultiPolygon":W=[],te=-1,ye=V.coordinates.length;for(var U=new Array(ye);++te<ye;)lo(V.coordinates[te],U[te]=[],W);eo(W),Y={type:"MultiPolygon",coordinates:U.filter(pl)};break;default:return V}return null!=V.bbox&&(Y.bbox=V.bbox),Y}function na(V){if(null==V)return V;switch(V.type){case"Feature":return Cc(V);case"FeatureCollection":var Y={type:"FeatureCollection",features:V.features.map(Cc)};return null!=V.bbox&&(Y.bbox=V.bbox),Y;default:return co(V)}}function hs(V,Y){var W=g(Y/2),te=f(b*W);return[V*(.74482-.34588*te*te),1.70711*W]}function Ua(){return(0,D.Z)(hs).scale(146.153)}function No(V,Y,W){var te=(0,bs.Z)(Y,W),ye=te(.5),Le=(0,st.Z)([-ye[0],-ye[1]])(Y),U=te.distance/2,ie=-L(f(Le[1]*k)/f(U)),de=[-ye[0],-ye[1],-(Le[0]>0?x-ie:ie)*I],be=(0,D.Z)(V(U)).rotate(de),Ae=(0,st.Z)(de),Fe=be.center;return delete be.rotate,be.center=function(We){return arguments.length?Fe(Ae(We)):Ae.invert(Fe())},be.clipAngle(90)}function Wi(V){var Y=M(V);function W(te,ye){var Le=(0,qi.M)(te,ye);return Le[0]*=Y,Le}return W.invert=function(te,ye){return qi.M.invert(te/Y,ye)},W}function ya(){return zo([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function zo(V,Y){return No(Wi,V,Y)}function Hs(V){if(!(V*=2))return oe.N;var Y=-V/2,W=-Y,te=V*V,ye=g(W),Le=.5/f(W);function U(ie,de){var be=O(M(de)*M(ie-Y)),Ae=O(M(de)*M(ie-W));return[((be*=be)-(Ae*=Ae))/(2*V),(de<0?-1:1)*P(4*te*Ae-(te-be+Ae)*(te-be+Ae))/(2*V)]}return U.invert=function(ie,de){var be,Ae,Fe=de*de,We=M(P(Fe+(be=ie+Y)*be)),$e=M(P(Fe+(be=ie+W)*be));return[S(Ae=We-$e,be=(We+$e)*ye),(de<0?-1:1)*O(P(be*be+Ae*Ae)*Le)]},U}function pc(){return Hl([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Hl(V,Y){return No(Hs,V,Y)}function Ja(V,Y){if(E(Y)<h)return[V,0];var W=E(Y/m),te=L(W);if(E(V)<h||E(E(Y)-m)<h)return[0,c(Y)*x*g(te/2)];var ye=M(te),Le=E(x/V-V/x)/2,U=Le*Le,ie=ye/(W+ye-1),de=ie*(2/W-1),be=de*de,Ae=be+U,Fe=ie-be,We=U+ie;return[c(V)*x*(Le*Fe+P(U*Fe*Fe-Ae*(ie*ie-be)))/Ae,c(Y)*x*(de*We-Le*P((U+1)*Ae-We*We))/Ae]}function Wo(){return(0,D.Z)(Ja).scale(79.4183)}function ra(V,Y){if(E(Y)<h)return[V,0];var W=E(Y/m),te=L(W);if(E(V)<h||E(E(Y)-m)<h)return[0,c(Y)*x*g(te/2)];var ye=M(te),Le=E(x/V-V/x)/2,U=Le*Le,ie=ye*(P(1+U)-Le*ye)/(1+U*W*W);return[c(V)*x*ie,c(Y)*x*P(1-ie*(2*Le+ie))]}function Sr(){return(0,D.Z)(ra).scale(79.4183)}function ni(V,Y){if(E(Y)<h)return[V,0];var W=Y/m,te=L(W);if(E(V)<h||E(E(Y)-m)<h)return[0,x*g(te/2)];var ye=(x/V-V/x)/2,Le=W/(1+M(te));return[x*(c(V)*P(ye*ye+1-Le*Le)-ye),x*Le]}function Nc(){return(0,D.Z)(ni).scale(79.4183)}function Ra(V,Y){if(!Y)return[V,0];var W=E(Y);if(!V||W===m)return[0,Y];var te=W/m,ye=te*te,Le=(8*te-ye*(ye+2)-5)/(2*ye*(te-1)),U=Le*Le,ie=te*Le,de=ye+U+2*ie,be=te+3*Le,Ae=V/m,Fe=Ae+1/Ae,We=c(E(V)-m)*P(Fe*Fe-4),$e=We*We,Qe=(We*(de+U-1)+2*P(de*(ye+U*$e-1)+(1-ye)*(ye*(be*be+4*U)+12*ie*U+4*U*U)))/(4*de+$e);return[c(V)*m*Qe,c(Y)*m*P(1+We*E(Qe)-Qe*Qe)]}function Gl(){return(0,D.Z)(Ra).scale(127.16)}function xa(V,Y,W,te){var ye=x/3;V=s(V,h),Y=s(Y,h),V=a(V,m),Y=a(Y,x-h),W=s(W,0),W=a(W,100-h);var Le=(te=s(te,h))/100,U=O((W/100+1)*M(ye))/ye,ie=f(V)/f(U*m),de=Y/x,be=P(Le*f(V/2)/f(Y/2));return function(Ae,Fe,We,$e,Qe){function tt(lt,yt){var Mt=We*f($e*yt),Bt=P(1-Mt*Mt),Ut=P(2/(1+Bt*M(lt*=Qe)));return[Ae*Bt*Ut*f(lt),Fe*Mt*Ut]}return tt.invert=function(lt,yt){var Mt=lt/Ae,Bt=yt/Fe,Ut=P(Mt*Mt+Bt*Bt),jt=2*L(Ut/2);return[S(lt*g(jt),Ae*Ut)/Qe,Ut&&L(yt*f(jt)/(Fe*We*Ut))/$e]},tt}(be/P(de*ie*U),1/(be*P(de*ie*U)),ie,U,de)}function mc(){var V=65*k,Y=60*k,W=20,te=200,ye=(0,D.r)(xa),Le=ye(V,Y,W,te);return Le.poleline=function(U){return arguments.length?ye(V=+U*k,Y,W,te):V*I},Le.parallels=function(U){return arguments.length?ye(V,Y=+U*k,W,te):Y*I},Le.inflation=function(U){return arguments.length?ye(V,Y,W=+U,te):W},Le.ratio=function(U){return arguments.length?ye(V,Y,W,te=+U):te},Le.scale(163.775)}function _a(){return mc().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}hs.invert=function(V,Y){var W=Y/1.70711,te=f(b*W);return[V/(.74482-.34588*te*te),2*d(W)]},Ja.invert=function(V,Y){if(E(Y)<h)return[V,0];if(E(V)<h)return[0,m*f(2*d(Y/x))];var W=(V/=x)*V,te=(Y/=x)*Y,ye=W+te,Le=ye*ye,U=-E(Y)*(1+ye),ie=U-2*te+W,de=-2*U+1+2*te+Le,be=te/de+(2*ie*ie*ie/(de*de*de)-9*U*ie/(de*de))/27,Ae=(U-ie*ie/(3*de))/de,Fe=2*P(-Ae/3),We=O(3*be/(Ae*Fe))/3;return[x*(ye-1+P(1+2*(W-te)+Le))/(2*V),c(Y)*x*(-Fe*M(We+x/3)-ie/(3*de))]},ra.invert=function(V,Y){if(!V)return[0,m*f(2*d(Y/x))];var W=E(V/x),te=(1-W*W-(Y/=x)*Y)/(2*W),ye=P(te*te+1);return[c(V)*x*(ye-te),c(Y)*m*f(2*S(P((1-2*te*W)*(te+ye)-W),P(ye+te+W)))]},ni.invert=function(V,Y){if(!Y)return[V,0];var W=Y/x,te=(x*x*(1-W*W)-V*V)/(2*x*V);return[V?x*(c(V)*P(te*te+1)-te):0,m*f(2*d(W))]},Ra.invert=function(V,Y){var W;if(!V||!Y)return[V,Y];Y/=x;var te=c(V)*V/m,ye=(te*te-1+4*Y*Y)/E(te),Le=ye*ye,U=2*Y,ie=50;do{var de=U*U,be=(8*U-de*(de+2)-5)/(2*de*(U-1)),Ae=(3*U-de*U-10)/(2*de*U),Fe=be*be,We=U*be,$e=U+be,Qe=$e*$e,tt=U+3*be,lt=-2*$e*(4*We*Fe+(1-4*de+3*de*de)*(1+Ae)+Fe*(14*de-6-Le+(8*de-8-2*Le)*Ae)+We*(12*de-8+(10*de-10-Le)*Ae)),yt=P(Qe*(de+Fe*Le-1)+(1-de)*(de*(tt*tt+4*Fe)+Fe*(12*We+4*Fe)));U-=W=(ye*(Qe+Fe-1)+2*yt-te*(4*Qe+Le))/(ye*(2*be*Ae+2*$e*(1+Ae))+lt/yt-8*$e*(ye*(-1+Fe+Qe)+2*yt)*(1+Ae)/(Le+4*Qe))}while(W>h&&--ie>0);return[c(V)*(P(ye*ye+4)+ye)*x/4,m*U]};var ql=4*x+3*P(3),kr=2*P(2*x*P(3)/ql),Nr=Se(kr*P(3)/x,kr,ql/6);function Po(){return(0,D.Z)(Nr).scale(176.84)}function Qa(V,Y){return[V*P(1-3*Y*Y/(x*x)),Y]}function uo(){return(0,D.Z)(Qa).scale(152.63)}function Wl(V,Y){var W=M(Y),te=M(V)*W,ye=1-te,Le=M(V=S(f(V)*W,-f(Y))),U=f(V);return[U*(W=P(1-te*te))-Le*ye,-Le*W-U*ye]}function ml(){return(0,D.Z)(Wl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Fa(V,Y){var W=q(V,Y);return[(W[0]+V/m)/2,(W[1]+Y)/2]}function Gs(){return(0,D.Z)(Fa).scale(158.837)}Qa.invert=function(V,Y){return[V/P(1-3*Y*Y/(x*x)),Y]},Wl.invert=function(V,Y){var W=(V*V+Y*Y)/-2,te=P(-W*(2+W)),ye=Y*W+V*te,Le=V*W-Y*te,U=P(Le*Le+ye*ye);return[S(te*ye,U*(1+W)),U?-L(te*Le/U):0]},Fa.invert=function(V,Y){var W=V,te=Y,ye=25;do{var Le,U=M(te),ie=f(te),de=f(2*te),be=ie*ie,Ae=U*U,Fe=f(W),We=M(W/2),$e=f(W/2),Qe=$e*$e,tt=1-Ae*We*We,lt=tt?O(U*We)*P(Le=1/tt):Le=0,yt=.5*(2*lt*U*$e+W/m)-V,Mt=.5*(lt*ie+te)-Y,Bt=.5*Le*(Ae*Qe+lt*U*We*be)+.5/m,Ut=Le*(Fe*de/4-lt*ie*$e),jt=.125*Le*(de*$e-lt*ie*Ae*Fe),Xt=.5*Le*(be*We+lt*Qe*U)+.5,Vt=Ut*jt-Xt*Bt,pn=(Mt*Ut-yt*Xt)/Vt,sn=(yt*jt-Mt*Bt)/Vt;W-=pn,te-=sn}while((E(pn)>h||E(sn)>h)&&--ye>0);return[W,te]}},33940:function(ae,B,r){"use strict";function D(){return new E}function E(){this.reset()}r.d(B,{Z:function(){return D}}),E.prototype={constructor:E,reset:function(){this.s=this.t=0},add:function(M){S(d,M,this.t),S(this,d.s,this.s),this.s?this.t+=d.t:this.s=d.t},valueOf:function(){return this.s}};var d=new E;function S(M,v,u){var i=M.s=v+u,s=i-v;M.t=v-(i-s)+(u-s)}},97860:function(ae,B,r){"use strict";r.d(B,{L9:function(){return a},ZP:function(){return T},gL:function(){return l}});var D,E,d,S,M,v=r(33940),u=r(39695),i=r(73182),s=r(72736),a=(0,v.Z)(),o=(0,v.Z)(),l={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){a.reset(),l.lineStart=c,l.lineEnd=f},polygonEnd:function(){var x=+a;o.add(x<0?u.BZ+x:x),this.lineStart=this.lineEnd=this.point=i.Z},sphere:function(){o.add(u.BZ)}};function c(){l.point=g}function f(){h(D,E)}function g(x,m){l.point=h,D=x,E=m,d=x*=u.uR,S=(0,u.mC)(m=(m*=u.uR)/2+u.pu),M=(0,u.O$)(m)}function h(x,m){m=(m*=u.uR)/2+u.pu;var b=(x*=u.uR)-d,_=b>=0?1:-1,w=_*b,A=(0,u.mC)(m),p=(0,u.O$)(m),I=M*p,k=S*A+I*(0,u.mC)(w),L=I*_*(0,u.O$)(w);a.add((0,u.fv)(L,k)),d=x,S=A,M=p}function T(x){return o.reset(),(0,s.Z)(x,l),2*o}},77338:function(ae,B,r){"use strict";r.d(B,{Z:function(){return O}});var D,E,d,S,M,v,u,i,s,a,o=r(33940),l=r(97860),c=r(7620),f=r(39695),g=r(72736),h=(0,o.Z)(),T={point:x,lineStart:b,lineEnd:_,polygonStart:function(){T.point=w,T.lineStart=A,T.lineEnd=p,h.reset(),l.gL.polygonStart()},polygonEnd:function(){l.gL.polygonEnd(),T.point=x,T.lineStart=b,T.lineEnd=_,l.L9<0?(D=-(d=180),E=-(S=90)):h>f.Ho?S=90:h<-f.Ho&&(E=-90),a[0]=D,a[1]=d},sphere:function(){D=-(d=180),E=-(S=90)}};function x(P,F){s.push(a=[D=P,d=P]),F<E&&(E=F),F>S&&(S=F)}function m(P,F){var j=(0,c.Og)([P*f.uR,F*f.uR]);if(i){var X=(0,c.T5)(i,j),q=(0,c.T5)([X[1],-X[0],0],X);(0,c.iJ)(q),q=(0,c.Y1)(q);var G,H=P-M,Z=H>0?1:-1,$=q[0]*f.RW*Z,se=(0,f.Wn)(H)>180;se^(Z*M<$&&$<Z*P)?(G=q[1]*f.RW)>S&&(S=G):se^(Z*M<($=($+360)%360-180)&&$<Z*P)?(G=-q[1]*f.RW)<E&&(E=G):(F<E&&(E=F),F>S&&(S=F)),se?P<M?I(D,P)>I(D,d)&&(d=P):I(P,d)>I(D,d)&&(D=P):d>=D?(P<D&&(D=P),P>d&&(d=P)):P>M?I(D,P)>I(D,d)&&(d=P):I(P,d)>I(D,d)&&(D=P)}else s.push(a=[D=P,d=P]);F<E&&(E=F),F>S&&(S=F),i=j,M=P}function b(){T.point=m}function _(){a[0]=D,a[1]=d,T.point=x,i=null}function w(P,F){if(i){var j=P-M;h.add((0,f.Wn)(j)>180?j+(j>0?360:-360):j)}else v=P,u=F;l.gL.point(P,F),m(P,F)}function A(){l.gL.lineStart()}function p(){w(v,u),l.gL.lineEnd(),(0,f.Wn)(h)>f.Ho&&(D=-(d=180)),a[0]=D,a[1]=d,i=null}function I(P,F){return(F-=P)<0?F+360:F}function k(P,F){return P[0]-F[0]}function L(P,F){return P[0]<=P[1]?P[0]<=F&&F<=P[1]:F<P[0]||P[1]<F}function O(P){var F,j,X,N,q,G,H;if(S=d=-(D=E=1/0),s=[],(0,g.Z)(P,T),j=s.length){for(s.sort(k),F=1,q=[X=s[0]];F<j;++F)L(X,(N=s[F])[0])||L(X,N[1])?(I(X[0],N[1])>I(X[0],X[1])&&(X[1]=N[1]),I(N[0],X[1])>I(X[0],X[1])&&(X[0]=N[0])):q.push(X=N);for(G=-1/0,F=0,X=q[j=q.length-1];F<=j;X=N,++F)(H=I(X[1],(N=q[F])[0]))>G&&(G=H,D=N[0],d=X[1])}return s=a=null,D===1/0||E===1/0?[[NaN,NaN],[NaN,NaN]]:[[D,E],[d,S]]}},7620:function(ae,B,r){"use strict";r.d(B,{Og:function(){return d},T:function(){return u},T5:function(){return M},Y1:function(){return E},iJ:function(){return i},j9:function(){return S},s0:function(){return v}});var D=r(39695);function E(s){return[(0,D.fv)(s[1],s[0]),(0,D.ZR)(s[2])]}function d(s){var a=s[0],o=s[1],l=(0,D.mC)(o);return[l*(0,D.mC)(a),l*(0,D.O$)(a),(0,D.O$)(o)]}function S(s,a){return s[0]*a[0]+s[1]*a[1]+s[2]*a[2]}function M(s,a){return[s[1]*a[2]-s[2]*a[1],s[2]*a[0]-s[0]*a[2],s[0]*a[1]-s[1]*a[0]]}function v(s,a){s[0]+=a[0],s[1]+=a[1],s[2]+=a[2]}function u(s,a){return[s[0]*a,s[1]*a,s[2]*a]}function i(s){var a=(0,D._b)(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]/=a,s[1]/=a,s[2]/=a}},66624:function(ae,B,r){"use strict";r.d(B,{Z:function(){return j}});var D,E,d,S,M,v,u,i,s,a,o,l,c,f,g,h,T=r(39695),x=r(73182),m=r(72736),b={sphere:x.Z,point:_,lineStart:A,lineEnd:k,polygonStart:function(){b.lineStart=L,b.lineEnd=O},polygonEnd:function(){b.lineStart=A,b.lineEnd=k}};function _(X,N){X*=T.uR;var q=(0,T.mC)(N*=T.uR);w(q*(0,T.mC)(X),q*(0,T.O$)(X),(0,T.O$)(N))}function w(X,N,q){++D,d+=(X-d)/D,S+=(N-S)/D,M+=(q-M)/D}function A(){b.point=p}function p(X,N){X*=T.uR;var q=(0,T.mC)(N*=T.uR);f=q*(0,T.mC)(X),g=q*(0,T.O$)(X),h=(0,T.O$)(N),b.point=I,w(f,g,h)}function I(X,N){X*=T.uR;var q=(0,T.mC)(N*=T.uR),G=q*(0,T.mC)(X),H=q*(0,T.O$)(X),Z=(0,T.O$)(N),$=(0,T.fv)((0,T._b)(($=g*Z-h*H)*$+($=h*G-f*Z)*$+($=f*H-g*G)*$),f*G+g*H+h*Z);E+=$,v+=$*(f+(f=G)),u+=$*(g+(g=H)),i+=$*(h+(h=Z)),w(f,g,h)}function k(){b.point=_}function L(){b.point=P}function O(){F(l,c),b.point=_}function P(X,N){l=X,c=N,X*=T.uR,N*=T.uR,b.point=F;var q=(0,T.mC)(N);f=q*(0,T.mC)(X),g=q*(0,T.O$)(X),h=(0,T.O$)(N),w(f,g,h)}function F(X,N){X*=T.uR;var q=(0,T.mC)(N*=T.uR),G=q*(0,T.mC)(X),H=q*(0,T.O$)(X),Z=(0,T.O$)(N),$=g*Z-h*H,se=h*G-f*Z,ne=f*H-g*G,re=(0,T._b)($*$+se*se+ne*ne),Q=(0,T.ZR)(re),ee=re&&-Q/re;s+=ee*$,a+=ee*se,o+=ee*ne,E+=Q,v+=Q*(f+(f=G)),u+=Q*(g+(g=H)),i+=Q*(h+(h=Z)),w(f,g,h)}function j(X){D=E=d=S=M=v=u=i=s=a=o=0,(0,m.Z)(X,b);var N=s,q=a,G=o,H=N*N+q*q+G*G;return H<T.aW&&(N=v,q=u,G=i,E<T.Ho&&(N=d,q=S,G=M),(H=N*N+q*q+G*G)<T.aW)?[NaN,NaN]:[(0,T.fv)(q,N)*T.RW,(0,T.ZR)(G/(0,T._b)(H))*T.RW]}},7613:function(ae,B,r){"use strict";r.d(B,{m:function(){return M},Z:function(){return u}});var D=r(7620);function E(i){return function(){return i}}var d=r(39695),S=r(49386);function M(i,s,a,o,l,c){if(a){var f=(0,d.mC)(s),g=(0,d.O$)(s),h=o*a;null==l?(l=s+o*d.BZ,c=s-h/2):(l=v(f,l),c=v(f,c),(o>0?l<c:l>c)&&(l+=o*d.BZ));for(var T,x=l;o>0?x>c:x<c;x-=h)T=(0,D.Y1)([f,-g*(0,d.mC)(x),-g*(0,d.O$)(x)]),i.point(T[0],T[1])}}function v(i,s){(s=(0,D.Og)(s))[0]-=i,(0,D.iJ)(s);var a=(0,d.Kh)(-s[1]);return((-s[2]<0?-a:a)+d.BZ-d.Ho)%d.BZ}function u(){var i,s,a=E([0,0]),o=E(90),l=E(6),c={point:function(g,h){i.push(g=s(g,h)),g[0]*=d.RW,g[1]*=d.RW}};function f(){var g=a.apply(this,arguments),h=o.apply(this,arguments)*d.uR,T=l.apply(this,arguments)*d.uR;return i=[],s=(0,S.I)(-g[0]*d.uR,-g[1]*d.uR,0).invert,M(c,h,T,1),g={type:"Polygon",coordinates:[i]},i=s=null,g}return f.center=function(g){return arguments.length?(a="function"==typeof g?g:E([+g[0],+g[1]]),f):a},f.radius=function(g){return arguments.length?(o="function"==typeof g?g:E(+g),f):o},f.precision=function(g){return arguments.length?(l="function"==typeof g?g:E(+g),f):l},f}},87070:function(ae,B,r){"use strict";var D=r(97023),E=r(39695);B.Z=(0,D.Z)(function(){return!0},function(d){var S,M=NaN,v=NaN,u=NaN;return{lineStart:function(){d.lineStart(),S=1},point:function(i,s){var l,c,f,g,h,T,x,a=i>0?E.pi:-E.pi,o=(0,E.Wn)(i-M);(0,E.Wn)(o-E.pi)<E.Ho?(d.point(M,v=(v+s)/2>0?E.ou:-E.ou),d.point(u,v),d.lineEnd(),d.lineStart(),d.point(a,v),d.point(i,v),S=0):u!==a&&o>=E.pi&&((0,E.Wn)(M-u)<E.Ho&&(M-=u*E.Ho),(0,E.Wn)(i-a)<E.Ho&&(i-=a*E.Ho),c=v,g=s,x=(0,E.O$)((l=M)-(f=i)),v=(0,E.Wn)(x)>E.Ho?(0,E.z4)(((0,E.O$)(c)*(T=(0,E.mC)(g))*(0,E.O$)(f)-(0,E.O$)(g)*(h=(0,E.mC)(c))*(0,E.O$)(l))/(h*T*x)):(c+g)/2,d.point(u,v),d.lineEnd(),d.lineStart(),d.point(a,v),S=0),d.point(M=i,v=s),u=a},lineEnd:function(){d.lineEnd(),M=v=NaN},clean:function(){return 2-S}}},function(d,S,M,v){var u;if(null==d)v.point(-E.pi,u=M*E.ou),v.point(0,u),v.point(E.pi,u),v.point(E.pi,0),v.point(E.pi,-u),v.point(0,-u),v.point(-E.pi,-u),v.point(-E.pi,0),v.point(-E.pi,u);else if((0,E.Wn)(d[0]-S[0])>E.Ho){var i=d[0]<S[0]?E.pi:-E.pi;v.point(-i,u=M*i/2),v.point(0,u),v.point(i,u)}else v.point(S[0],S[1])},[-E.pi,-E.ou])},85272:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(73182);function E(){var d,S=[];return{point:function(M,v,u){d.push([M,v,u])},lineStart:function(){S.push(d=[])},lineEnd:D.Z,rejoin:function(){S.length>1&&S.push(S.pop().concat(S.shift()))},result:function(){var M=S;return S=[],d=null,M}}}},1457:function(ae,B,r){"use strict";r.d(B,{Z:function(){return v}});var D=r(7620),E=r(7613),d=r(39695),S=r(67108),M=r(97023);function v(u){var i=(0,d.mC)(u),s=6*d.uR,a=i>0,o=(0,d.Wn)(i)>d.Ho;function l(g,h){return(0,d.mC)(g)*(0,d.mC)(h)>i}function c(g,h,T){var x=(0,D.Og)(g),m=(0,D.Og)(h),b=[1,0,0],_=(0,D.T5)(x,m),w=(0,D.j9)(_,_),A=_[0],p=w-A*A;if(!p)return!T&&g;var I=i*w/p,k=-i*A/p,L=(0,D.T5)(b,_),O=(0,D.T)(b,I),P=(0,D.T)(_,k);(0,D.s0)(O,P);var F=L,j=(0,D.j9)(O,F),X=(0,D.j9)(F,F),N=j*j-X*((0,D.j9)(O,O)-1);if(!(N<0)){var q=(0,d._b)(N),G=(0,D.T)(F,(-j-q)/X);if((0,D.s0)(G,O),G=(0,D.Y1)(G),!T)return G;var H,Z=g[0],$=h[0],se=g[1],ne=h[1];$<Z&&(H=Z,Z=$,$=H);var re=$-Z,Q=(0,d.Wn)(re-d.pi)<d.Ho;if(!Q&&ne<se&&(H=se,se=ne,ne=H),Q||re<d.Ho?Q?se+ne>0^G[1]<((0,d.Wn)(G[0]-Z)<d.Ho?se:ne):se<=G[1]&&G[1]<=ne:re>d.pi^(Z<=G[0]&&G[0]<=$)){var ee=(0,D.T)(F,(-j+q)/X);return(0,D.s0)(ee,O),[G,(0,D.Y1)(ee)]}}}function f(g,h){var T=a?u:d.pi-u,x=0;return g<-T?x|=1:g>T&&(x|=2),h<-T?x|=4:h>T&&(x|=8),x}return(0,M.Z)(l,function(g){var h,T,x,m,b;return{lineStart:function(){m=x=!1,b=1},point:function(_,w){var A,p=[_,w],I=l(_,w),k=a?I?0:f(_,w):I?f(_+(_<0?d.pi:-d.pi),w):0;if(!h&&(m=x=I)&&g.lineStart(),I!==x&&(!(A=c(h,p))||(0,S.Z)(h,A)||(0,S.Z)(p,A))&&(p[2]=1),I!==x)b=0,I?(g.lineStart(),A=c(p,h),g.point(A[0],A[1])):(A=c(h,p),g.point(A[0],A[1],2),g.lineEnd()),h=A;else if(o&&h&&a^I){var L;k&T||!(L=c(p,h,!0))||(b=0,a?(g.lineStart(),g.point(L[0][0],L[0][1]),g.point(L[1][0],L[1][1]),g.lineEnd()):(g.point(L[1][0],L[1][1]),g.lineEnd(),g.lineStart(),g.point(L[0][0],L[0][1],3)))}!I||h&&(0,S.Z)(h,p)||g.point(p[0],p[1]),h=p,x=I,T=k},lineEnd:function(){x&&g.lineEnd(),h=null},clean:function(){return b|(m&&x)<<1}}},function(g,h,T,x){(0,E.m)(x,u,s,T,g,h)},a?[0,-u]:[-d.pi,u-d.pi])}},97023:function(ae,B,r){"use strict";r.d(B,{Z:function(){return v}});var D=r(85272),E=r(46225),d=r(39695),S=r(23071),M=r(33064);function v(s,a,o,l){return function(c){var f,g,h,T=a(c),x=(0,D.Z)(),m=a(x),b=!1,_={point:w,lineStart:p,lineEnd:I,polygonStart:function(){_.point=k,_.lineStart=L,_.lineEnd=O,g=[],f=[]},polygonEnd:function(){_.point=w,_.lineStart=p,_.lineEnd=I,g=(0,M.TS)(g);var P=(0,S.Z)(f,l);g.length?(b||(c.polygonStart(),b=!0),(0,E.Z)(g,i,P,o,c)):P&&(b||(c.polygonStart(),b=!0),c.lineStart(),o(null,null,1,c),c.lineEnd()),b&&(c.polygonEnd(),b=!1),g=f=null},sphere:function(){c.polygonStart(),c.lineStart(),o(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function w(P,F){s(P,F)&&c.point(P,F)}function A(P,F){T.point(P,F)}function p(){_.point=A,T.lineStart()}function I(){_.point=w,T.lineEnd()}function k(P,F){h.push([P,F]),m.point(P,F)}function L(){m.lineStart(),h=[]}function O(){k(h[0][0],h[0][1]),m.lineEnd();var P,F,j,X,N=m.clean(),q=x.result(),G=q.length;if(h.pop(),f.push(h),h=null,G)if(1&N){if((F=(j=q[0]).length-1)>0){for(b||(c.polygonStart(),b=!0),c.lineStart(),P=0;P<F;++P)c.point((X=j[P])[0],X[1]);c.lineEnd()}}else G>1&&2&N&&q.push(q.pop().concat(q.shift())),g.push(q.filter(u))}return _}}function u(s){return s.length>1}function i(s,a){return((s=s.x)[0]<0?s[1]-d.ou-d.Ho:d.ou-s[1])-((a=a.x)[0]<0?a[1]-d.ou-d.Ho:d.ou-a[1])}},87605:function(ae,B,r){"use strict";r.d(B,{Z:function(){return u}});var D=r(39695),E=r(85272),d=r(46225),S=r(33064),M=1e9,v=-M;function u(i,s,a,o){function l(T,x){return i<=T&&T<=a&&s<=x&&x<=o}function c(T,x,m,b){var _=0,w=0;if(null==T||(_=f(T,m))!==(w=f(x,m))||h(T,x)<0^m>0)do{b.point(0===_||3===_?i:a,_>1?o:s)}while((_=(_+m+4)%4)!==w);else b.point(x[0],x[1])}function f(T,x){return(0,D.Wn)(T[0]-i)<D.Ho?x>0?0:3:(0,D.Wn)(T[0]-a)<D.Ho?x>0?2:1:(0,D.Wn)(T[1]-s)<D.Ho?x>0?1:0:x>0?3:2}function g(T,x){return h(T.x,x.x)}function h(T,x){var m=f(T,1),b=f(x,1);return m!==b?m-b:0===m?x[1]-T[1]:1===m?T[0]-x[0]:2===m?T[1]-x[1]:x[0]-T[0]}return function(T){var x,m,b,_,w,A,p,I,k,L,O,P=T,F=(0,E.Z)(),j={point:X,lineStart:function(){j.point=N,m&&m.push(b=[]),L=!0,k=!1,p=I=NaN},lineEnd:function(){x&&(N(_,w),A&&k&&F.rejoin(),x.push(F.result())),j.point=X,k&&P.lineEnd()},polygonStart:function(){P=F,x=[],m=[],O=!0},polygonEnd:function(){var q=function(){for(var Z=0,$=0,se=m.length;$<se;++$)for(var ne,re,Q=m[$],ee=1,oe=Q.length,ce=Q[0],ue=ce[0],he=ce[1];ee<oe;++ee)ne=ue,re=he,ue=(ce=Q[ee])[0],he=ce[1],re<=o?he>o&&(ue-ne)*(o-re)>(he-re)*(i-ne)&&++Z:he<=o&&(ue-ne)*(o-re)<(he-re)*(i-ne)&&--Z;return Z}(),G=O&&q,H=(x=(0,S.TS)(x)).length;(G||H)&&(T.polygonStart(),G&&(T.lineStart(),c(null,null,1,T),T.lineEnd()),H&&(0,d.Z)(x,g,q,c,T),T.polygonEnd()),P=T,x=m=b=null}};function X(q,G){l(q,G)&&P.point(q,G)}function N(q,G){var H=l(q,G);if(m&&b.push([q,G]),L)_=q,w=G,A=H,L=!1,H&&(P.lineStart(),P.point(q,G));else if(H&&k)P.point(q,G);else{var Z=[p=Math.max(v,Math.min(M,p)),I=Math.max(v,Math.min(M,I))],$=[q=Math.max(v,Math.min(M,q)),G=Math.max(v,Math.min(M,G))];!function(se,ne,re,Q,ee,oe){var ce,ue=se[0],he=se[1],ve=0,ke=1,Ie=ne[0]-ue,Me=ne[1]-he;if(ce=re-ue,Ie||!(ce>0)){if(ce/=Ie,Ie<0){if(ce<ve)return;ce<ke&&(ke=ce)}else if(Ie>0){if(ce>ke)return;ce>ve&&(ve=ce)}if(ce=ee-ue,Ie||!(ce<0)){if(ce/=Ie,Ie<0){if(ce>ke)return;ce>ve&&(ve=ce)}else if(Ie>0){if(ce<ve)return;ce<ke&&(ke=ce)}if(ce=Q-he,Me||!(ce>0)){if(ce/=Me,Me<0){if(ce<ve)return;ce<ke&&(ke=ce)}else if(Me>0){if(ce>ke)return;ce>ve&&(ve=ce)}if(ce=oe-he,Me||!(ce<0)){if(ce/=Me,Me<0){if(ce>ke)return;ce>ve&&(ve=ce)}else if(Me>0){if(ce<ve)return;ce<ke&&(ke=ce)}return ve>0&&(se[0]=ue+ve*Ie,se[1]=he+ve*Me),ke<1&&(ne[0]=ue+ke*Ie,ne[1]=he+ke*Me),!0}}}}}(Z,$,i,s,a,o)?H&&(P.lineStart(),P.point(q,G),O=!1):(k||(P.lineStart(),P.point(Z[0],Z[1])),P.point($[0],$[1]),H||P.lineEnd(),O=!1)}p=q,I=G,k=H}return j}}},46225:function(ae,B,r){"use strict";r.d(B,{Z:function(){return S}});var D=r(67108),E=r(39695);function d(v,u,i,s){this.x=v,this.z=u,this.o=i,this.e=s,this.v=!1,this.n=this.p=null}function S(v,u,i,s,a){var o,l,c=[],f=[];if(v.forEach(function(b){if(!((_=b.length-1)<=0)){var _,w,A=b[0],p=b[_];if((0,D.Z)(A,p)){if(!A[2]&&!p[2]){for(a.lineStart(),o=0;o<_;++o)a.point((A=b[o])[0],A[1]);return void a.lineEnd()}p[0]+=2*E.Ho}c.push(w=new d(A,b,null,!0)),f.push(w.o=new d(A,null,w,!1)),c.push(w=new d(p,b,null,!1)),f.push(w.o=new d(p,null,w,!0))}}),c.length){for(f.sort(u),M(c),M(f),o=0,l=f.length;o<l;++o)f[o].e=i=!i;for(var g,h,T=c[0];;){for(var x=T,m=!0;x.v;)if((x=x.n)===T)return;g=x.z,a.lineStart();do{if(x.v=x.o.v=!0,x.e){if(m)for(o=0,l=g.length;o<l;++o)a.point((h=g[o])[0],h[1]);else s(x.x,x.n.x,1,a);x=x.n}else{if(m)for(o=(g=x.p.z).length-1;o>=0;--o)a.point((h=g[o])[0],h[1]);else s(x.x,x.p.x,-1,a);x=x.p}g=(x=x.o).z,m=!m}while(!x.v);a.lineEnd()}}}function M(v){if(u=v.length){for(var u,i,s=0,a=v[0];++s<u;)a.n=i=v[s],i.p=a,a=i;a.n=i=v[0],i.p=a}}},96059:function(ae,B,r){"use strict";function D(E,d){function S(M,v){return M=E(M,v),d(M[0],M[1])}return E.invert&&d.invert&&(S.invert=function(M,v){return(M=d.invert(M,v))&&E.invert(M[0],M[1])}),S}r.d(B,{Z:function(){return D}})},8593:function(ae,B,r){"use strict";function D(E){return E}r.d(B,{Z:function(){return D}})},27362:function(ae,B,r){"use strict";r.r(B),r.d(B,{geoAlbers:function(){return At},geoAlbersUsa:function(){return Rt},geoArea:function(){return D.ZP},geoAzimuthalEqualArea:function(){return _t.Z},geoAzimuthalEqualAreaRaw:function(){return _t.l},geoAzimuthalEquidistant:function(){return Tt.Z},geoAzimuthalEquidistantRaw:function(){return Tt.N},geoBounds:function(){return E.Z},geoCentroid:function(){return d.Z},geoCircle:function(){return S.Z},geoClipAntimeridian:function(){return M.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return i},geoClipRectangle:function(){return u.Z},geoConicConformal:function(){return cn},geoConicConformalRaw:function(){return nn},geoConicEqualArea:function(){return bt},geoConicEqualAreaRaw:function(){return kt},geoConicEquidistant:function(){return Pn},geoConicEquidistantRaw:function(){return En},geoContains:function(){return q},geoDistance:function(){return I},geoEqualEarth:function(){return Ln},geoEqualEarthRaw:function(){return kn},geoEquirectangular:function(){return rn.Z},geoEquirectangularRaw:function(){return rn.k},geoGnomonic:function(){return Rn.Z},geoGnomonicRaw:function(){return Rn.M},geoGraticule:function(){return $},geoGraticule10:function(){return se},geoIdentity:function(){return Cn},geoInterpolate:function(){return oe.Z},geoLength:function(){return w},geoMercator:function(){return Zt},geoMercatorRaw:function(){return Wt},geoNaturalEarth1:function(){return Zn.Z},geoNaturalEarth1Raw:function(){return Zn.K},geoOrthographic:function(){return mr.Z},geoOrthographicRaw:function(){return mr.I},geoPath:function(){return Ge},geoProjection:function(){return ut.Z},geoProjectionMutator:function(){return ut.r},geoRotation:function(){return It.Z},geoStereographic:function(){return xr},geoStereographicRaw:function(){return er},geoStream:function(){return h.Z},geoTransform:function(){return Wn.Z},geoTransverseMercator:function(){return jr},geoTransverseMercatorRaw:function(){return dr}});var D=r(97860),E=r(77338),d=r(66624),S=r(7613),M=r(87070),v=r(1457),u=r(87605);function i(){var Kt,qt,Tn,xn=0,In=0,cr=960,Kn=500;return Tn={stream:function(Jn){return Kt&&qt===Jn?Kt:Kt=(0,u.Z)(xn,In,cr,Kn)(qt=Jn)},extent:function(Jn){return arguments.length?(xn=+Jn[0][0],In=+Jn[0][1],cr=+Jn[1][0],Kn=+Jn[1][1],Kt=qt=null,Tn):[[xn,In],[cr,Kn]]}}}var s,a,o,l=r(23071),c=r(33940),f=r(39695),g=r(73182),h=r(72736),T=(0,c.Z)(),x={sphere:g.Z,point:g.Z,lineStart:function(){x.point=b,x.lineEnd=m},lineEnd:g.Z,polygonStart:g.Z,polygonEnd:g.Z};function m(){x.point=x.lineEnd=g.Z}function b(Kt,qt){s=Kt*=f.uR,a=(0,f.O$)(qt*=f.uR),o=(0,f.mC)(qt),x.point=_}function _(Kt,qt){Kt*=f.uR;var Tn=(0,f.O$)(qt*=f.uR),xn=(0,f.mC)(qt),In=(0,f.Wn)(Kt-s),cr=(0,f.mC)(In),Kn=xn*(0,f.O$)(In),Jn=o*Tn-a*xn*cr,vr=a*Tn+o*xn*cr;T.add((0,f.fv)((0,f._b)(Kn*Kn+Jn*Jn),vr)),s=Kt,a=Tn,o=xn}function w(Kt){return T.reset(),(0,h.Z)(Kt,x),+T}var A=[null,null],p={type:"LineString",coordinates:A};function I(Kt,qt){return A[0]=Kt,A[1]=qt,w(p)}var k={Feature:function(Kt,qt){return O(Kt.geometry,qt)},FeatureCollection:function(Kt,qt){for(var Tn=Kt.features,xn=-1,In=Tn.length;++xn<In;)if(O(Tn[xn].geometry,qt))return!0;return!1}},L={Sphere:function(){return!0},Point:function(Kt,qt){return P(Kt.coordinates,qt)},MultiPoint:function(Kt,qt){for(var Tn=Kt.coordinates,xn=-1,In=Tn.length;++xn<In;)if(P(Tn[xn],qt))return!0;return!1},LineString:function(Kt,qt){return F(Kt.coordinates,qt)},MultiLineString:function(Kt,qt){for(var Tn=Kt.coordinates,xn=-1,In=Tn.length;++xn<In;)if(F(Tn[xn],qt))return!0;return!1},Polygon:function(Kt,qt){return j(Kt.coordinates,qt)},MultiPolygon:function(Kt,qt){for(var Tn=Kt.coordinates,xn=-1,In=Tn.length;++xn<In;)if(j(Tn[xn],qt))return!0;return!1},GeometryCollection:function(Kt,qt){for(var Tn=Kt.geometries,xn=-1,In=Tn.length;++xn<In;)if(O(Tn[xn],qt))return!0;return!1}};function O(Kt,qt){return!(!Kt||!L.hasOwnProperty(Kt.type))&&L[Kt.type](Kt,qt)}function P(Kt,qt){return 0===I(Kt,qt)}function F(Kt,qt){for(var Tn,xn,In,cr=0,Kn=Kt.length;cr<Kn;cr++){if(0===(xn=I(Kt[cr],qt))||cr>0&&(In=I(Kt[cr],Kt[cr-1]))>0&&Tn<=In&&xn<=In&&(Tn+xn-In)*(1-Math.pow((Tn-xn)/In,2))<f.aW*In)return!0;Tn=xn}return!1}function j(Kt,qt){return!!(0,l.Z)(Kt.map(X),N(qt))}function X(Kt){return(Kt=Kt.map(N)).pop(),Kt}function N(Kt){return[Kt[0]*f.uR,Kt[1]*f.uR]}function q(Kt,qt){return(Kt&&k.hasOwnProperty(Kt.type)?k[Kt.type]:O)(Kt,qt)}var G=r(33064);function H(Kt,qt,Tn){var xn=(0,G.w6)(Kt,qt-f.Ho,Tn).concat(qt);return function(In){return xn.map(function(cr){return[In,cr]})}}function Z(Kt,qt,Tn){var xn=(0,G.w6)(Kt,qt-f.Ho,Tn).concat(qt);return function(In){return xn.map(function(cr){return[cr,In]})}}function $(){var Kt,qt,Tn,xn,In,cr,Kn,Jn,vr,Qt,zn,Ft,on=10,un=on,On=90,Fn=360,Gn=2.5;function bn(){return{type:"MultiLineString",coordinates:ln()}}function ln(){return(0,G.w6)((0,f.mD)(xn/On)*On,Tn,On).map(zn).concat((0,G.w6)((0,f.mD)(Jn/Fn)*Fn,Kn,Fn).map(Ft)).concat((0,G.w6)((0,f.mD)(qt/on)*on,Kt,on).filter(function(fn){return(0,f.Wn)(fn%On)>f.Ho}).map(vr)).concat((0,G.w6)((0,f.mD)(cr/un)*un,In,un).filter(function(fn){return(0,f.Wn)(fn%Fn)>f.Ho}).map(Qt))}return bn.lines=function(){return ln().map(function(fn){return{type:"LineString",coordinates:fn}})},bn.outline=function(){return{type:"Polygon",coordinates:[zn(xn).concat(Ft(Kn).slice(1),zn(Tn).reverse().slice(1),Ft(Jn).reverse().slice(1))]}},bn.extent=function(fn){return arguments.length?bn.extentMajor(fn).extentMinor(fn):bn.extentMinor()},bn.extentMajor=function(fn){return arguments.length?(Jn=+fn[0][1],Kn=+fn[1][1],(xn=+fn[0][0])>(Tn=+fn[1][0])&&(fn=xn,xn=Tn,Tn=fn),Jn>Kn&&(fn=Jn,Jn=Kn,Kn=fn),bn.precision(Gn)):[[xn,Jn],[Tn,Kn]]},bn.extentMinor=function(fn){return arguments.length?(cr=+fn[0][1],In=+fn[1][1],(qt=+fn[0][0])>(Kt=+fn[1][0])&&(fn=qt,qt=Kt,Kt=fn),cr>In&&(fn=cr,cr=In,In=fn),bn.precision(Gn)):[[qt,cr],[Kt,In]]},bn.step=function(fn){return arguments.length?bn.stepMajor(fn).stepMinor(fn):bn.stepMinor()},bn.stepMajor=function(fn){return arguments.length?(On=+fn[0],Fn=+fn[1],bn):[On,Fn]},bn.stepMinor=function(fn){return arguments.length?(on=+fn[0],un=+fn[1],bn):[on,un]},bn.precision=function(fn){return arguments.length?(Gn=+fn,vr=H(cr,In,90),Qt=Z(qt,Kt,Gn),zn=H(Jn,Kn,90),Ft=Z(xn,Tn,Gn),bn):Gn},bn.extentMajor([[-180,-90+f.Ho],[180,90-f.Ho]]).extentMinor([[-180,-80-f.Ho],[180,80+f.Ho]])}function se(){return $()()}var ne,re,Q,ee,oe=r(83074),ce=r(8593),ue=(0,c.Z)(),he=(0,c.Z)(),ve={point:g.Z,lineStart:g.Z,lineEnd:g.Z,polygonStart:function(){ve.lineStart=ke,ve.lineEnd=_e},polygonEnd:function(){ve.lineStart=ve.lineEnd=ve.point=g.Z,ue.add((0,f.Wn)(he)),he.reset()},result:function(){var Kt=ue/2;return ue.reset(),Kt}};function ke(){ve.point=Ie}function Ie(Kt,qt){ve.point=Me,ne=Q=Kt,re=ee=qt}function Me(Kt,qt){he.add(ee*Kt-Q*qt),Q=Kt,ee=qt}function _e(){Me(ne,re)}var we,ze,Ee,Se,me=ve,fe=r(3559),le=0,Te=0,Re=0,De=0,Ue=0,Ze=0,xe=0,Oe=0,Ce=0,Be={point:qe,lineStart:He,lineEnd:st,polygonStart:function(){Be.lineStart=pt,Be.lineEnd=ct},polygonEnd:function(){Be.point=qe,Be.lineStart=He,Be.lineEnd=st},result:function(){var Kt=Ce?[xe/Ce,Oe/Ce]:Ze?[De/Ze,Ue/Ze]:Re?[le/Re,Te/Re]:[NaN,NaN];return le=Te=Re=De=Ue=Ze=xe=Oe=Ce=0,Kt}};function qe(Kt,qt){le+=Kt,Te+=qt,++Re}function He(){Be.point=Je}function Je(Kt,qt){Be.point=et,qe(Ee=Kt,Se=qt)}function et(Kt,qt){var Tn=Kt-Ee,xn=qt-Se,In=(0,f._b)(Tn*Tn+xn*xn);De+=In*(Ee+Kt)/2,Ue+=In*(Se+qt)/2,Ze+=In,qe(Ee=Kt,Se=qt)}function st(){Be.point=qe}function pt(){Be.point=St}function ct(){Dt(we,ze)}function St(Kt,qt){Be.point=Dt,qe(we=Ee=Kt,ze=Se=qt)}function Dt(Kt,qt){var Tn=Kt-Ee,xn=qt-Se,In=(0,f._b)(Tn*Tn+xn*xn);De+=In*(Ee+Kt)/2,Ue+=In*(Se+qt)/2,Ze+=In,xe+=(In=Se*Kt-Ee*qt)*(Ee+Kt),Oe+=In*(Se+qt),Ce+=3*In,qe(Ee=Kt,Se=qt)}var vt=Be;function gt(Kt){this._context=Kt}gt.prototype={_radius:4.5,pointRadius:function(Kt){return this._radius=Kt,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(Kt,qt){switch(this._point){case 0:this._context.moveTo(Kt,qt),this._point=1;break;case 1:this._context.lineTo(Kt,qt);break;default:this._context.moveTo(Kt+this._radius,qt),this._context.arc(Kt,qt,this._radius,0,f.BZ)}},result:g.Z};var Et,Pt,Ot,Ht,zt,nt=(0,c.Z)(),it={point:g.Z,lineStart:function(){it.point=Ke},lineEnd:function(){Et&&rt(Pt,Ot),it.point=g.Z},polygonStart:function(){Et=!0},polygonEnd:function(){Et=null},result:function(){var Kt=+nt;return nt.reset(),Kt}};function Ke(Kt,qt){it.point=rt,Pt=Ht=Kt,Ot=zt=qt}function rt(Kt,qt){nt.add((0,f._b)((Ht-=Kt)*Ht+(zt-=qt)*zt)),Ht=Kt,zt=qt}var ft=it;function ht(){this._string=[]}function Ve(Kt){return"m0,"+Kt+"a"+Kt+","+Kt+" 0 1,1 0,"+-2*Kt+"a"+Kt+","+Kt+" 0 1,1 0,"+2*Kt+"z"}function Ge(Kt,qt){var Tn,xn,In=4.5;function cr(Kn){return Kn&&("function"==typeof In&&xn.pointRadius(+In.apply(this,arguments)),(0,h.Z)(Kn,Tn(xn))),xn.result()}return cr.area=function(Kn){return(0,h.Z)(Kn,Tn(me)),me.result()},cr.measure=function(Kn){return(0,h.Z)(Kn,Tn(ft)),ft.result()},cr.bounds=function(Kn){return(0,h.Z)(Kn,Tn(fe.Z)),fe.Z.result()},cr.centroid=function(Kn){return(0,h.Z)(Kn,Tn(vt)),vt.result()},cr.projection=function(Kn){return arguments.length?(Tn=null==Kn?(Kt=null,ce.Z):(Kt=Kn).stream,cr):Kt},cr.context=function(Kn){return arguments.length?(xn=null==Kn?(qt=null,new ht):new gt(qt=Kn),"function"!=typeof In&&xn.pointRadius(In),cr):qt},cr.pointRadius=function(Kn){return arguments.length?(In="function"==typeof Kn?Kn:(xn.pointRadius(+Kn),+Kn),cr):In},cr.projection(Kt).context(qt)}ht.prototype={_radius:4.5,_circle:Ve(4.5),pointRadius:function(Kt){return(Kt=+Kt)!==this._radius&&(this._radius=Kt,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(Kt,qt){switch(this._point){case 0:this._string.push("M",Kt,",",qt),this._point=1;break;case 1:this._string.push("L",Kt,",",qt);break;default:null==this._circle&&(this._circle=Ve(this._radius)),this._string.push("M",Kt,",",qt,this._circle)}},result:function(){if(this._string.length){var Kt=this._string.join("");return this._string=[],Kt}return null}};var ut=r(15002);function dt(Kt){var qt=0,Tn=f.pi/3,xn=(0,ut.r)(Kt),In=xn(qt,Tn);return In.parallels=function(cr){return arguments.length?xn(qt=cr[0]*f.uR,Tn=cr[1]*f.uR):[qt*f.RW,Tn*f.RW]},In}function kt(Kt,qt){var Tn=(0,f.O$)(Kt),xn=(Tn+(0,f.O$)(qt))/2;if((0,f.Wn)(xn)<f.Ho)return function(Jn){var vr=(0,f.mC)(Jn);function Qt(zn,Ft){return[zn*vr,(0,f.O$)(Ft)/vr]}return Qt.invert=function(zn,Ft){return[zn/vr,(0,f.ZR)(Ft*vr)]},Qt}(Kt);var In=1+Tn*(2*xn-Tn),cr=(0,f._b)(In)/xn;function Kn(Jn,vr){var Qt=(0,f._b)(In-2*xn*(0,f.O$)(vr))/xn;return[Qt*(0,f.O$)(Jn*=xn),cr-Qt*(0,f.mC)(Jn)]}return Kn.invert=function(Jn,vr){var Qt=cr-vr,zn=(0,f.fv)(Jn,(0,f.Wn)(Qt))*(0,f.Xx)(Qt);return Qt*xn<0&&(zn-=f.pi*(0,f.Xx)(Jn)*(0,f.Xx)(Qt)),[zn/xn,(0,f.ZR)((In-(Jn*Jn+Qt*Qt)*xn*xn)/(2*xn))]},Kn}function bt(){return dt(kt).scale(155.424).center([0,33.6442])}function At(){return bt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var xt=r(47589);function Rt(){var Kt,qt,Tn,xn,In,cr,Kn=At(),Jn=bt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),vr=bt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Qt={point:function(on,un){cr=[on,un]}};function zn(on){var un=on[0],On=on[1];return cr=null,Tn.point(un,On),cr||(xn.point(un,On),cr)||(In.point(un,On),cr)}function Ft(){return Kt=qt=null,zn}return zn.invert=function(on){var un=Kn.scale(),On=Kn.translate(),Fn=(on[0]-On[0])/un,Gn=(on[1]-On[1])/un;return(Gn>=.12&&Gn<.234&&Fn>=-.425&&Fn<-.214?Jn:Gn>=.166&&Gn<.234&&Fn>=-.214&&Fn<-.115?vr:Kn).invert(on)},zn.stream=function(on){return Kt&&qt===on?Kt:(un=[Kn.stream(qt=on),Jn.stream(on),vr.stream(on)],On=un.length,Kt={point:function(Fn,Gn){for(var bn=-1;++bn<On;)un[bn].point(Fn,Gn)},sphere:function(){for(var Fn=-1;++Fn<On;)un[Fn].sphere()},lineStart:function(){for(var Fn=-1;++Fn<On;)un[Fn].lineStart()},lineEnd:function(){for(var Fn=-1;++Fn<On;)un[Fn].lineEnd()},polygonStart:function(){for(var Fn=-1;++Fn<On;)un[Fn].polygonStart()},polygonEnd:function(){for(var Fn=-1;++Fn<On;)un[Fn].polygonEnd()}});var un,On},zn.precision=function(on){return arguments.length?(Kn.precision(on),Jn.precision(on),vr.precision(on),Ft()):Kn.precision()},zn.scale=function(on){return arguments.length?(Kn.scale(on),Jn.scale(.35*on),vr.scale(on),zn.translate(Kn.translate())):Kn.scale()},zn.translate=function(on){if(!arguments.length)return Kn.translate();var un=Kn.scale(),On=+on[0],Fn=+on[1];return Tn=Kn.translate(on).clipExtent([[On-.455*un,Fn-.238*un],[On+.455*un,Fn+.238*un]]).stream(Qt),xn=Jn.translate([On-.307*un,Fn+.201*un]).clipExtent([[On-.425*un+f.Ho,Fn+.12*un+f.Ho],[On-.214*un-f.Ho,Fn+.234*un-f.Ho]]).stream(Qt),In=vr.translate([On-.205*un,Fn+.212*un]).clipExtent([[On-.214*un+f.Ho,Fn+.166*un+f.Ho],[On-.115*un-f.Ho,Fn+.234*un-f.Ho]]).stream(Qt),Ft()},zn.fitExtent=function(on,un){return(0,xt.qg)(zn,on,un)},zn.fitSize=function(on,un){return(0,xt.mF)(zn,on,un)},zn.fitWidth=function(on,un){return(0,xt.V6)(zn,on,un)},zn.fitHeight=function(on,un){return(0,xt.rf)(zn,on,un)},zn.scale(1070)}var _t=r(12956),Tt=r(17889),It=r(49386);function Wt(Kt,qt){return[Kt,(0,f.cM)((0,f.OR)((f.ou+qt)/2))]}function Zt(){return $t(Wt).scale(961/f.BZ)}function $t(Kt){var qt,Tn,xn,In=(0,ut.Z)(Kt),cr=In.center,Kn=In.scale,Jn=In.translate,vr=In.clipExtent,Qt=null;function zn(){var Ft=f.pi*Kn(),on=In((0,It.Z)(In.rotate()).invert([0,0]));return vr(null==Qt?[[on[0]-Ft,on[1]-Ft],[on[0]+Ft,on[1]+Ft]]:Kt===Wt?[[Math.max(on[0]-Ft,Qt),qt],[Math.min(on[0]+Ft,Tn),xn]]:[[Qt,Math.max(on[1]-Ft,qt)],[Tn,Math.min(on[1]+Ft,xn)]])}return In.scale=function(Ft){return arguments.length?(Kn(Ft),zn()):Kn()},In.translate=function(Ft){return arguments.length?(Jn(Ft),zn()):Jn()},In.center=function(Ft){return arguments.length?(cr(Ft),zn()):cr()},In.clipExtent=function(Ft){return arguments.length?(null==Ft?Qt=qt=Tn=xn=null:(Qt=+Ft[0][0],qt=+Ft[0][1],Tn=+Ft[1][0],xn=+Ft[1][1]),zn()):null==Qt?null:[[Qt,qt],[Tn,xn]]},zn()}function dn(Kt){return(0,f.OR)((f.ou+Kt)/2)}function nn(Kt,qt){var Tn=(0,f.mC)(Kt),xn=Kt===qt?(0,f.O$)(Kt):(0,f.cM)(Tn/(0,f.mC)(qt))/(0,f.cM)(dn(qt)/dn(Kt)),In=Tn*(0,f.sQ)(dn(Kt),xn)/xn;if(!xn)return Wt;function cr(Kn,Jn){In>0?Jn<-f.ou+f.Ho&&(Jn=-f.ou+f.Ho):Jn>f.ou-f.Ho&&(Jn=f.ou-f.Ho);var vr=In/(0,f.sQ)(dn(Jn),xn);return[vr*(0,f.O$)(xn*Kn),In-vr*(0,f.mC)(xn*Kn)]}return cr.invert=function(Kn,Jn){var vr=In-Jn,Qt=(0,f.Xx)(xn)*(0,f._b)(Kn*Kn+vr*vr),zn=(0,f.fv)(Kn,(0,f.Wn)(vr))*(0,f.Xx)(vr);return vr*xn<0&&(zn-=f.pi*(0,f.Xx)(Kn)*(0,f.Xx)(vr)),[zn/xn,2*(0,f.z4)((0,f.sQ)(In/Qt,1/xn))-f.ou]},cr}function cn(){return dt(nn).scale(109.5).parallels([30,30])}Wt.invert=function(Kt,qt){return[Kt,2*(0,f.z4)((0,f.Qq)(qt))-f.ou]};var rn=r(97492);function En(Kt,qt){var Tn=(0,f.mC)(Kt),xn=Kt===qt?(0,f.O$)(Kt):(Tn-(0,f.mC)(qt))/(qt-Kt),In=Tn/xn+Kt;if((0,f.Wn)(xn)<f.Ho)return rn.k;function cr(Kn,Jn){var vr=In-Jn,Qt=xn*Kn;return[vr*(0,f.O$)(Qt),In-vr*(0,f.mC)(Qt)]}return cr.invert=function(Kn,Jn){var vr=In-Jn,Qt=(0,f.fv)(Kn,(0,f.Wn)(vr))*(0,f.Xx)(vr);return vr*xn<0&&(Qt-=f.pi*(0,f.Xx)(Kn)*(0,f.Xx)(vr)),[Qt/xn,In-(0,f.Xx)(xn)*(0,f._b)(Kn*Kn+vr*vr)]},cr}function Pn(){return dt(En).scale(131.154).center([0,13.9389])}var Mn=1.340264,en=-.081106,gn=893e-6,an=.003796,yn=(0,f._b)(3)/2;function kn(Kt,qt){var Tn=(0,f.ZR)(yn*(0,f.O$)(qt)),xn=Tn*Tn,In=xn*xn*xn;return[Kt*(0,f.mC)(Tn)/(yn*(Mn+3*en*xn+In*(7*gn+9*an*xn))),Tn*(Mn+en*xn+In*(gn+an*xn))]}function Ln(){return(0,ut.Z)(kn).scale(177.158)}kn.invert=function(Kt,qt){for(var Tn,xn=qt,In=xn*xn,cr=In*In*In,Kn=0;Kn<12&&(cr=(In=(xn-=Tn=(xn*(Mn+en*In+cr*(gn+an*In))-qt)/(Mn+3*en*In+cr*(7*gn+9*an*In)))*xn)*In*In,!((0,f.Wn)(Tn)<f.aW));++Kn);return[yn*Kt*(Mn+3*en*In+cr*(7*gn+9*an*In))/(0,f.mC)(xn),(0,f.ZR)((0,f.O$)(xn)/yn)]};var Rn=r(98936),Wn=r(64684);function Cn(){var Kt,qt,Tn,xn,In,cr,Kn,Jn=1,vr=0,Qt=0,zn=1,Ft=1,on=0,un=null,On=1,Fn=1,Gn=(0,Wn.l)({point:function(_n,wn){var Un=fn([_n,wn]);this.stream.point(Un[0],Un[1])}}),bn=ce.Z;function ln(){return On=Jn*zn,Fn=Jn*Ft,cr=Kn=null,fn}function fn(_n){var wn=_n[0]*On,Un=_n[1]*Fn;if(on){var Hn=Un*Kt-wn*qt;wn=wn*Kt+Un*qt,Un=Hn}return[wn+vr,Un+Qt]}return fn.invert=function(_n){var wn=_n[0]-vr,Un=_n[1]-Qt;if(on){var Hn=Un*Kt+wn*qt;wn=wn*Kt-Un*qt,Un=Hn}return[wn/On,Un/Fn]},fn.stream=function(_n){return cr&&Kn===_n?cr:cr=Gn(bn(Kn=_n))},fn.postclip=function(_n){return arguments.length?(bn=_n,un=Tn=xn=In=null,ln()):bn},fn.clipExtent=function(_n){return arguments.length?(bn=null==_n?(un=Tn=xn=In=null,ce.Z):(0,u.Z)(un=+_n[0][0],Tn=+_n[0][1],xn=+_n[1][0],In=+_n[1][1]),ln()):null==un?null:[[un,Tn],[xn,In]]},fn.scale=function(_n){return arguments.length?(Jn=+_n,ln()):Jn},fn.translate=function(_n){return arguments.length?(vr=+_n[0],Qt=+_n[1],ln()):[vr,Qt]},fn.angle=function(_n){return arguments.length?(qt=(0,f.O$)(on=_n%360*f.uR),Kt=(0,f.mC)(on),ln()):on*f.RW},fn.reflectX=function(_n){return arguments.length?(zn=_n?-1:1,ln()):zn<0},fn.reflectY=function(_n){return arguments.length?(Ft=_n?-1:1,ln()):Ft<0},fn.fitExtent=function(_n,wn){return(0,xt.qg)(fn,_n,wn)},fn.fitSize=function(_n,wn){return(0,xt.mF)(fn,_n,wn)},fn.fitWidth=function(_n,wn){return(0,xt.V6)(fn,_n,wn)},fn.fitHeight=function(_n,wn){return(0,xt.rf)(fn,_n,wn)},fn}var Zn=r(26867),mr=r(57962),lr=r(25382);function er(Kt,qt){var Tn=(0,f.mC)(qt),xn=1+(0,f.mC)(Kt)*Tn;return[Tn*(0,f.O$)(Kt)/xn,(0,f.O$)(qt)/xn]}function xr(){return(0,ut.Z)(er).scale(250).clipAngle(142)}function dr(Kt,qt){return[(0,f.cM)((0,f.OR)((f.ou+qt)/2)),-Kt]}function jr(){var Kt=$t(dr),qt=Kt.center,Tn=Kt.rotate;return Kt.center=function(xn){return arguments.length?qt([-xn[1],xn[0]]):[(xn=qt())[1],-xn[0]]},Kt.rotate=function(xn){return arguments.length?Tn([xn[0],xn[1],xn.length>2?xn[2]+90:90]):[(xn=Tn())[0],xn[1],xn[2]-90]},Tn([0,0,90]).scale(159.155)}er.invert=(0,lr.O)(function(Kt){return 2*(0,f.z4)(Kt)}),dr.invert=function(Kt,qt){return[-qt,2*(0,f.z4)((0,f.Qq)(Kt))-f.ou]}},83074:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(39695);function E(d,S){var M=d[0]*D.uR,v=d[1]*D.uR,u=S[0]*D.uR,i=S[1]*D.uR,s=(0,D.mC)(v),a=(0,D.O$)(v),o=(0,D.mC)(i),l=(0,D.O$)(i),c=s*(0,D.mC)(M),f=s*(0,D.O$)(M),g=o*(0,D.mC)(u),h=o*(0,D.O$)(u),T=2*(0,D.ZR)((0,D._b)((0,D.Jy)(i-v)+s*o*(0,D.Jy)(u-M))),x=(0,D.O$)(T),m=T?function(b){var _=(0,D.O$)(b*=T)/x,w=(0,D.O$)(T-b)/x,A=w*c+_*g,p=w*f+_*h,I=w*a+_*l;return[(0,D.fv)(p,A)*D.RW,(0,D.fv)(I,(0,D._b)(A*A+p*p))*D.RW]}:function(){return[M*D.RW,v*D.RW]};return m.distance=T,m}},39695:function(ae,B,r){"use strict";r.d(B,{BZ:function(){return v},Ho:function(){return D},Jy:function(){return A},Kh:function(){return _},O$:function(){return T},OR:function(){return b},Qq:function(){return f},RW:function(){return u},Wn:function(){return s},Xx:function(){return x},ZR:function(){return w},_b:function(){return m},aW:function(){return E},cM:function(){return g},fv:function(){return o},mC:function(){return l},mD:function(){return c},ou:function(){return S},pi:function(){return d},pu:function(){return M},sQ:function(){return h},uR:function(){return i},z4:function(){return a}});var D=1e-6,E=1e-12,d=Math.PI,S=d/2,M=d/4,v=2*d,u=180/d,i=d/180,s=Math.abs,a=Math.atan,o=Math.atan2,l=Math.cos,c=Math.ceil,f=Math.exp,g=Math.log,h=Math.pow,T=Math.sin,x=Math.sign||function(p){return p>0?1:p<0?-1:0},m=Math.sqrt,b=Math.tan;function _(p){return p>1?0:p<-1?d:Math.acos(p)}function w(p){return p>1?S:p<-1?-S:Math.asin(p)}function A(p){return(p=T(p/2))*p}},73182:function(ae,B,r){"use strict";function D(){}r.d(B,{Z:function(){return D}})},3559:function(ae,B,r){"use strict";var D=r(73182),E=1/0,d=E,S=-E,M=S;B.Z={point:function(u,i){u<E&&(E=u),u>S&&(S=u),i<d&&(d=i),i>M&&(M=i)},lineStart:D.Z,lineEnd:D.Z,polygonStart:D.Z,polygonEnd:D.Z,result:function(){var u=[[E,d],[S,M]];return S=M=-(d=E=1/0),u}}},67108:function(ae,B,r){"use strict";r.d(B,{Z:function(){return E}});var D=r(39695);function E(d,S){return(0,D.Wn)(d[0]-S[0])<D.Ho&&(0,D.Wn)(d[1]-S[1])<D.Ho}},23071:function(ae,B,r){"use strict";r.d(B,{Z:function(){return v}});var D=r(33940),E=r(7620),d=r(39695),S=(0,D.Z)();function M(u){return(0,d.Wn)(u[0])<=d.pi?u[0]:(0,d.Xx)(u[0])*(((0,d.Wn)(u[0])+d.pi)%d.BZ-d.pi)}function v(u,i){var s=M(i),a=i[1],o=(0,d.O$)(a),l=[(0,d.O$)(s),-(0,d.mC)(s),0],c=0,f=0;S.reset(),1===o?a=d.ou+d.Ho:-1===o&&(a=-d.ou-d.Ho);for(var g=0,h=u.length;g<h;++g)if(x=(T=u[g]).length)for(var T,x,m=T[x-1],b=M(m),_=m[1]/2+d.pu,w=(0,d.O$)(_),A=(0,d.mC)(_),p=0;p<x;++p,b=k,w=O,A=P,m=I){var I=T[p],k=M(I),L=I[1]/2+d.pu,O=(0,d.O$)(L),P=(0,d.mC)(L),F=k-b,j=F>=0?1:-1,X=j*F,N=X>d.pi,q=w*O;if(S.add((0,d.fv)(q*j*(0,d.O$)(X),A*P+q*(0,d.mC)(X))),c+=N?F+j*d.BZ:F,N^b>=s^k>=s){var G=(0,E.T5)((0,E.Og)(m),(0,E.Og)(I));(0,E.iJ)(G);var H=(0,E.T5)(l,G);(0,E.iJ)(H);var Z=(N^F>=0?-1:1)*(0,d.ZR)(H[2]);(a>Z||a===Z&&(G[0]||G[1]))&&(f+=N^F>=0?1:-1)}}return(c<-d.Ho||c<d.Ho&&S<-d.Ho)^1&f}},25382:function(ae,B,r){"use strict";r.d(B,{O:function(){return d},W:function(){return E}});var D=r(39695);function E(S){return function(M,v){var u=(0,D.mC)(M),i=(0,D.mC)(v),s=S(u*i);return[s*i*(0,D.O$)(M),s*(0,D.O$)(v)]}}function d(S){return function(M,v){var u=(0,D._b)(M*M+v*v),i=S(u),s=(0,D.O$)(i),a=(0,D.mC)(i);return[(0,D.fv)(M*s,u*a),(0,D.ZR)(u&&v*s/u)]}}},12956:function(ae,B,r){"use strict";r.d(B,{Z:function(){return M},l:function(){return S}});var D=r(39695),E=r(25382),d=r(15002),S=(0,E.W)(function(v){return(0,D._b)(2/(1+v))});function M(){return(0,d.Z)(S).scale(124.75).clipAngle(179.999)}S.invert=(0,E.O)(function(v){return 2*(0,D.ZR)(v/2)})},17889:function(ae,B,r){"use strict";r.d(B,{N:function(){return S},Z:function(){return M}});var D=r(39695),E=r(25382),d=r(15002),S=(0,E.W)(function(v){return(v=(0,D.Kh)(v))&&v/(0,D.O$)(v)});function M(){return(0,d.Z)(S).scale(79.4188).clipAngle(179.999)}S.invert=(0,E.O)(function(v){return v})},97492:function(ae,B,r){"use strict";r.d(B,{Z:function(){return d},k:function(){return E}});var D=r(15002);function E(S,M){return[S,M]}function d(){return(0,D.Z)(E).scale(152.63)}E.invert=E},47589:function(ae,B,r){"use strict";r.d(B,{V6:function(){return v},mF:function(){return M},qg:function(){return S},rf:function(){return u}});var D=r(72736),E=r(3559);function d(i,s,a){var o=i.clipExtent&&i.clipExtent();return i.scale(150).translate([0,0]),null!=o&&i.clipExtent(null),(0,D.Z)(a,i.stream(E.Z)),s(E.Z.result()),null!=o&&i.clipExtent(o),i}function S(i,s,a){return d(i,function(o){var l=s[1][0]-s[0][0],c=s[1][1]-s[0][1],f=Math.min(l/(o[1][0]-o[0][0]),c/(o[1][1]-o[0][1])),g=+s[0][0]+(l-f*(o[1][0]+o[0][0]))/2,h=+s[0][1]+(c-f*(o[1][1]+o[0][1]))/2;i.scale(150*f).translate([g,h])},a)}function M(i,s,a){return S(i,[[0,0],s],a)}function v(i,s,a){return d(i,function(o){var l=+s,c=l/(o[1][0]-o[0][0]),f=(l-c*(o[1][0]+o[0][0]))/2,g=-c*o[0][1];i.scale(150*c).translate([f,g])},a)}function u(i,s,a){return d(i,function(o){var l=+s,c=l/(o[1][1]-o[0][1]),f=-c*o[0][0],g=(l-c*(o[1][1]+o[0][1]))/2;i.scale(150*c).translate([f,g])},a)}},98936:function(ae,B,r){"use strict";r.d(B,{M:function(){return S},Z:function(){return M}});var D=r(39695),E=r(25382),d=r(15002);function S(v,u){var i=(0,D.mC)(u),s=(0,D.mC)(v)*i;return[i*(0,D.O$)(v)/s,(0,D.O$)(u)/s]}function M(){return(0,d.Z)(S).scale(144.049).clipAngle(60)}S.invert=(0,E.O)(D.z4)},15002:function(ae,B,r){"use strict";r.d(B,{Z:function(){return T},r:function(){return x}});var D=r(87070),E=r(1457),d=r(87605),S=r(96059),M=r(8593),v=r(39695),u=r(49386),i=r(64684),s=r(47589),a=r(7620),o=16,l=(0,v.mC)(30*v.uR);function c(m,b){return+b?function(_,w){function A(p,I,k,L,O,P,F,j,X,N,q,G,H,Z){var $=F-p,se=j-I,ne=$*$+se*se;if(ne>4*w&&H--){var re=L+N,Q=O+q,ee=P+G,oe=(0,v._b)(re*re+Q*Q+ee*ee),ce=(0,v.ZR)(ee/=oe),ue=(0,v.Wn)((0,v.Wn)(ee)-1)<v.Ho||(0,v.Wn)(k-X)<v.Ho?(k+X)/2:(0,v.fv)(Q,re),he=_(ue,ce),ve=he[0],ke=he[1],Ie=ve-p,Me=ke-I,_e=se*Ie-$*Me;(_e*_e/ne>w||(0,v.Wn)(($*Ie+se*Me)/ne-.5)>.3||L*N+O*q+P*G<l)&&(A(p,I,k,L,O,P,ve,ke,ue,re/=oe,Q/=oe,ee,H,Z),Z.point(ve,ke),A(ve,ke,ue,re,Q,ee,F,j,X,N,q,G,H,Z))}}return function(p){var I,k,L,O,P,F,j,X,N,q,G,H,Z={point:$,lineStart:se,lineEnd:re,polygonStart:function(){p.polygonStart(),Z.lineStart=Q},polygonEnd:function(){p.polygonEnd(),Z.lineStart=se}};function $(ce,ue){ce=_(ce,ue),p.point(ce[0],ce[1])}function se(){X=NaN,Z.point=ne,p.lineStart()}function ne(ce,ue){var he=(0,a.Og)([ce,ue]),ve=_(ce,ue);A(X,N,j,q,G,H,X=ve[0],N=ve[1],j=ce,q=he[0],G=he[1],H=he[2],o,p),p.point(X,N)}function re(){Z.point=$,p.lineEnd()}function Q(){se(),Z.point=ee,Z.lineEnd=oe}function ee(ce,ue){ne(I=ce,ue),k=X,L=N,O=q,P=G,F=H,Z.point=ne}function oe(){A(X,N,j,q,G,H,k,L,I,O,P,F,o,p),Z.lineEnd=re,re()}return Z}}(m,b):(_=m,(0,i.l)({point:function(w,A){w=_(w,A),this.stream.point(w[0],w[1])}}));var _}var f=(0,i.l)({point:function(m,b){this.stream.point(m*v.uR,b*v.uR)}});function g(m,b,_,w,A){function p(I,k){return[b+m*(I*=w),_-m*(k*=A)]}return p.invert=function(I,k){return[(I-b)/m*w,(_-k)/m*A]},p}function h(m,b,_,w,A,p){var I=(0,v.mC)(p),k=(0,v.O$)(p),L=I*m,O=k*m,P=I/m,F=k/m,j=(k*_-I*b)/m,X=(k*b+I*_)/m;function N(q,G){return[L*(q*=w)-O*(G*=A)+b,_-O*q-L*G]}return N.invert=function(q,G){return[w*(P*q-F*G+j),A*(X-F*q-P*G)]},N}function T(m){return x(function(){return m})()}function x(m){var b,_,w,A,p,I,k,L,O,P,F=150,j=480,X=250,N=0,q=0,G=0,H=0,Z=0,$=0,se=1,ne=1,re=null,Q=D.Z,ee=null,oe=M.Z,ce=.5;function ue(Ie){return L(Ie[0]*v.uR,Ie[1]*v.uR)}function he(Ie){return(Ie=L.invert(Ie[0],Ie[1]))&&[Ie[0]*v.RW,Ie[1]*v.RW]}function ve(){var Ie=h(F,0,0,se,ne,$).apply(null,b(N,q)),Me=($?h:g)(F,j-Ie[0],X-Ie[1],se,ne,$);return _=(0,u.I)(G,H,Z),k=(0,S.Z)(b,Me),L=(0,S.Z)(_,k),I=c(k,ce),ke()}function ke(){return O=P=null,ue}return ue.stream=function(Ie){return O&&P===Ie?O:O=f((Me=_,(0,i.l)({point:function(_e,we){var ze=Me(_e,we);return this.stream.point(ze[0],ze[1])}}))(Q(I(oe(P=Ie)))));var Me},ue.preclip=function(Ie){return arguments.length?(Q=Ie,re=void 0,ke()):Q},ue.postclip=function(Ie){return arguments.length?(oe=Ie,ee=w=A=p=null,ke()):oe},ue.clipAngle=function(Ie){return arguments.length?(Q=+Ie?(0,E.Z)(re=Ie*v.uR):(re=null,D.Z),ke()):re*v.RW},ue.clipExtent=function(Ie){return arguments.length?(oe=null==Ie?(ee=w=A=p=null,M.Z):(0,d.Z)(ee=+Ie[0][0],w=+Ie[0][1],A=+Ie[1][0],p=+Ie[1][1]),ke()):null==ee?null:[[ee,w],[A,p]]},ue.scale=function(Ie){return arguments.length?(F=+Ie,ve()):F},ue.translate=function(Ie){return arguments.length?(j=+Ie[0],X=+Ie[1],ve()):[j,X]},ue.center=function(Ie){return arguments.length?(N=Ie[0]%360*v.uR,q=Ie[1]%360*v.uR,ve()):[N*v.RW,q*v.RW]},ue.rotate=function(Ie){return arguments.length?(G=Ie[0]%360*v.uR,H=Ie[1]%360*v.uR,Z=Ie.length>2?Ie[2]%360*v.uR:0,ve()):[G*v.RW,H*v.RW,Z*v.RW]},ue.angle=function(Ie){return arguments.length?($=Ie%360*v.uR,ve()):$*v.RW},ue.reflectX=function(Ie){return arguments.length?(se=Ie?-1:1,ve()):se<0},ue.reflectY=function(Ie){return arguments.length?(ne=Ie?-1:1,ve()):ne<0},ue.precision=function(Ie){return arguments.length?(I=c(k,ce=Ie*Ie),ke()):(0,v._b)(ce)},ue.fitExtent=function(Ie,Me){return(0,s.qg)(ue,Ie,Me)},ue.fitSize=function(Ie,Me){return(0,s.mF)(ue,Ie,Me)},ue.fitWidth=function(Ie,Me){return(0,s.V6)(ue,Ie,Me)},ue.fitHeight=function(Ie,Me){return(0,s.rf)(ue,Ie,Me)},function(){return b=m.apply(this,arguments),ue.invert=b.invert&&he,ve()}}},26867:function(ae,B,r){"use strict";r.d(B,{K:function(){return d},Z:function(){return S}});var D=r(15002),E=r(39695);function d(M,v){var u=v*v,i=u*u;return[M*(.8707-.131979*u+i*(i*(.003971*u-.001529*i)-.013791)),v*(1.007226+u*(.015085+i*(.028874*u-.044475-.005916*i)))]}function S(){return(0,D.Z)(d).scale(175.295)}d.invert=function(M,v){var u,i=v,s=25;do{var a=i*i,o=a*a;i-=u=(i*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-v)/(1.007226+a*(.045255+o*(.259866*a-.311325-.06507600000000001*o)))}while((0,E.Wn)(u)>E.Ho&&--s>0);return[M/(.8707+(a=i*i)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),i]}},57962:function(ae,B,r){"use strict";r.d(B,{I:function(){return S},Z:function(){return M}});var D=r(39695),E=r(25382),d=r(15002);function S(v,u){return[(0,D.mC)(u)*(0,D.O$)(v),(0,D.O$)(u)]}function M(){return(0,d.Z)(S).scale(249.5).clipAngle(90+D.Ho)}S.invert=(0,E.O)(D.ZR)},49386:function(ae,B,r){"use strict";r.d(B,{I:function(){return S},Z:function(){return i}});var D=r(96059),E=r(39695);function d(s,a){return[(0,E.Wn)(s)>E.pi?s+Math.round(-s/E.BZ)*E.BZ:s,a]}function S(s,a,o){return(s%=E.BZ)?a||o?(0,D.Z)(v(s),u(a,o)):v(s):a||o?u(a,o):d}function M(s){return function(a,o){return[(a+=s)>E.pi?a-E.BZ:a<-E.pi?a+E.BZ:a,o]}}function v(s){var a=M(s);return a.invert=M(-s),a}function u(s,a){var o=(0,E.mC)(s),l=(0,E.O$)(s),c=(0,E.mC)(a),f=(0,E.O$)(a);function g(h,T){var x=(0,E.mC)(T),m=(0,E.mC)(h)*x,b=(0,E.O$)(h)*x,_=(0,E.O$)(T),w=_*o+m*l;return[(0,E.fv)(b*c-w*f,m*o-_*l),(0,E.ZR)(w*c+b*f)]}return g.invert=function(h,T){var x=(0,E.mC)(T),m=(0,E.mC)(h)*x,b=(0,E.O$)(h)*x,_=(0,E.O$)(T),w=_*c-b*f;return[(0,E.fv)(b*c+_*f,m*o+w*l),(0,E.ZR)(w*o-m*l)]},g}function i(s){function a(o){return(o=s(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o}return s=S(s[0]*E.uR,s[1]*E.uR,s.length>2?s[2]*E.uR:0),a.invert=function(o){return(o=s.invert(o[0]*E.uR,o[1]*E.uR))[0]*=E.RW,o[1]*=E.RW,o},a}d.invert=d},72736:function(ae,B,r){"use strict";function D(u,i){u&&d.hasOwnProperty(u.type)&&d[u.type](u,i)}r.d(B,{Z:function(){return v}});var E={Feature:function(u,i){D(u.geometry,i)},FeatureCollection:function(u,i){for(var s=u.features,a=-1,o=s.length;++a<o;)D(s[a].geometry,i)}},d={Sphere:function(u,i){i.sphere()},Point:function(u,i){i.point((u=u.coordinates)[0],u[1],u[2])},MultiPoint:function(u,i){for(var s=u.coordinates,a=-1,o=s.length;++a<o;)i.point((u=s[a])[0],u[1],u[2])},LineString:function(u,i){S(u.coordinates,i,0)},MultiLineString:function(u,i){for(var s=u.coordinates,a=-1,o=s.length;++a<o;)S(s[a],i,0)},Polygon:function(u,i){M(u.coordinates,i)},MultiPolygon:function(u,i){for(var s=u.coordinates,a=-1,o=s.length;++a<o;)M(s[a],i)},GeometryCollection:function(u,i){for(var s=u.geometries,a=-1,o=s.length;++a<o;)D(s[a],i)}};function S(u,i,s){var a,o=-1,l=u.length-s;for(i.lineStart();++o<l;)i.point((a=u[o])[0],a[1],a[2]);i.lineEnd()}function M(u,i){var s=-1,a=u.length;for(i.polygonStart();++s<a;)S(u[s],i,1);i.polygonEnd()}function v(u,i){u&&E.hasOwnProperty(u.type)?E[u.type](u,i):D(u,i)}},64684:function(ae,B,r){"use strict";function D(S){return{stream:E(S)}}function E(S){return function(M){var v=new d;for(var u in S)v[u]=S[u];return v.stream=M,v}}function d(){}r.d(B,{Z:function(){return D},l:function(){return E}}),d.prototype={constructor:d,point:function(S,M){this.stream.point(S,M)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(ae,B,r){"use strict";function D(fe,le){return fe.parent===le.parent?1:2}function E(fe,le){return fe+le.x}function d(fe,le){return Math.max(fe,le.y)}function S(){var fe=D,le=1,Te=1,Re=!1;function De(Ue){var Ze,xe=0;Ue.eachAfter(function(He){var et,Je=He.children;Je?(He.x=(et=Je).reduce(E,0)/et.length,He.y=function(et){return 1+et.reduce(d,0)}(Je)):(He.x=Ze?xe+=fe(He,Ze):0,He.y=0,Ze=He)});var Oe=function(He){for(var Je;Je=He.children;)He=Je[0];return He}(Ue),Ce=function(He){for(var Je;Je=He.children;)He=Je[Je.length-1];return He}(Ue),Be=Oe.x-fe(Oe,Ce)/2,qe=Ce.x+fe(Ce,Oe)/2;return Ue.eachAfter(Re?function(He){He.x=(He.x-Ue.x)*le,He.y=(Ue.y-He.y)*Te}:function(He){He.x=(He.x-Be)/(qe-Be)*le,He.y=(1-(Ue.y?He.y/Ue.y:1))*Te})}return De.separation=function(Ue){return arguments.length?(fe=Ue,De):fe},De.size=function(Ue){return arguments.length?(Re=!1,le=+Ue[0],Te=+Ue[1],De):Re?null:[le,Te]},De.nodeSize=function(Ue){return arguments.length?(Re=!0,le=+Ue[0],Te=+Ue[1],De):Re?[le,Te]:null},De}function M(fe){var le=0,Te=fe.children,Re=Te&&Te.length;if(Re)for(;--Re>=0;)le+=Te[Re].value;else le=1;fe.value=le}function v(fe,le){var Te,Re,De,Ue,Ze,xe=new a(fe),Oe=+fe.value&&(xe.value=fe.value),Ce=[xe];for(null==le&&(le=u);Te=Ce.pop();)if(Oe&&(Te.value=+Te.data.value),(De=le(Te.data))&&(Ze=De.length))for(Te.children=new Array(Ze),Ue=Ze-1;Ue>=0;--Ue)Ce.push(Re=Te.children[Ue]=new a(De[Ue])),Re.parent=Te,Re.depth=Te.depth+1;return xe.eachBefore(s)}function u(fe){return fe.children}function i(fe){fe.data=fe.data.data}function s(fe){var le=0;do{fe.height=le}while((fe=fe.parent)&&fe.height<++le)}function a(fe){this.data=fe,this.depth=this.height=0,this.parent=null}r.r(B),r.d(B,{cluster:function(){return S},hierarchy:function(){return v},pack:function(){return F},packEnclose:function(){return l},packSiblings:function(){return I},partition:function(){return H},stratify:function(){return Q},tree:function(){return ke},treemap:function(){return ze},treemapBinary:function(){return Ee},treemapDice:function(){return G},treemapResquarify:function(){return me},treemapSlice:function(){return Ie},treemapSliceDice:function(){return Se},treemapSquarify:function(){return we}}),a.prototype=v.prototype={constructor:a,count:function(){return this.eachAfter(M)},each:function(fe){var le,Te,Re,De,Ue=this,Ze=[Ue];do{for(le=Ze.reverse(),Ze=[];Ue=le.pop();)if(fe(Ue),Te=Ue.children)for(Re=0,De=Te.length;Re<De;++Re)Ze.push(Te[Re])}while(Ze.length);return this},eachAfter:function(fe){for(var le,Te,Re,De=this,Ue=[De],Ze=[];De=Ue.pop();)if(Ze.push(De),le=De.children)for(Te=0,Re=le.length;Te<Re;++Te)Ue.push(le[Te]);for(;De=Ze.pop();)fe(De);return this},eachBefore:function(fe){for(var le,Te,Re=this,De=[Re];Re=De.pop();)if(fe(Re),le=Re.children)for(Te=le.length-1;Te>=0;--Te)De.push(le[Te]);return this},sum:function(fe){return this.eachAfter(function(le){for(var Te=+fe(le.data)||0,Re=le.children,De=Re&&Re.length;--De>=0;)Te+=Re[De].value;le.value=Te})},sort:function(fe){return this.eachBefore(function(le){le.children&&le.children.sort(fe)})},path:function(fe){for(var le=this,Te=function(Ue,Ze){if(Ue===Ze)return Ue;var xe=Ue.ancestors(),Oe=Ze.ancestors(),Ce=null;for(Ue=xe.pop(),Ze=Oe.pop();Ue===Ze;)Ce=Ue,Ue=xe.pop(),Ze=Oe.pop();return Ce}(le,fe),Re=[le];le!==Te;)Re.push(le=le.parent);for(var De=Re.length;fe!==Te;)Re.splice(De,0,fe),fe=fe.parent;return Re},ancestors:function(){for(var fe=this,le=[fe];fe=fe.parent;)le.push(fe);return le},descendants:function(){var fe=[];return this.each(function(le){fe.push(le)}),fe},leaves:function(){var fe=[];return this.eachBefore(function(le){le.children||fe.push(le)}),fe},links:function(){var fe=this,le=[];return fe.each(function(Te){Te!==fe&&le.push({source:Te.parent,target:Te})}),le},copy:function(){return v(this).eachBefore(i)}};var o=Array.prototype.slice;function l(fe){for(var le,Te,Re=0,De=(fe=function(Ze){for(var xe,Oe,Ce=Ze.length;Ce;)Oe=Math.random()*Ce--|0,xe=Ze[Ce],Ze[Ce]=Ze[Oe],Ze[Oe]=xe;return Ze}(o.call(fe))).length,Ue=[];Re<De;)le=fe[Re],Te&&g(Te,le)?++Re:(Te=T(Ue=c(Ue,le)),Re=0);return Te}function c(fe,le){var Te,Re;if(h(le,fe))return[le];for(Te=0;Te<fe.length;++Te)if(f(le,fe[Te])&&h(x(fe[Te],le),fe))return[fe[Te],le];for(Te=0;Te<fe.length-1;++Te)for(Re=Te+1;Re<fe.length;++Re)if(f(x(fe[Te],fe[Re]),le)&&f(x(fe[Te],le),fe[Re])&&f(x(fe[Re],le),fe[Te])&&h(m(fe[Te],fe[Re],le),fe))return[fe[Te],fe[Re],le];throw new Error}function f(fe,le){var Te=fe.r-le.r,Re=le.x-fe.x,De=le.y-fe.y;return Te<0||Te*Te<Re*Re+De*De}function g(fe,le){var Te=fe.r-le.r+1e-6,Re=le.x-fe.x,De=le.y-fe.y;return Te>0&&Te*Te>Re*Re+De*De}function h(fe,le){for(var Te=0;Te<le.length;++Te)if(!g(fe,le[Te]))return!1;return!0}function T(fe){switch(fe.length){case 1:return{x:(le=fe[0]).x,y:le.y,r:le.r};case 2:return x(fe[0],fe[1]);case 3:return m(fe[0],fe[1],fe[2])}var le}function x(fe,le){var Te=fe.x,Re=fe.y,De=fe.r,Ue=le.x,Ze=le.y,xe=le.r,Oe=Ue-Te,Ce=Ze-Re,Be=xe-De,qe=Math.sqrt(Oe*Oe+Ce*Ce);return{x:(Te+Ue+Oe/qe*Be)/2,y:(Re+Ze+Ce/qe*Be)/2,r:(qe+De+xe)/2}}function m(fe,le,Te){var Re=fe.x,De=fe.y,Ue=fe.r,Ze=le.x,xe=le.y,Oe=le.r,Ce=Te.x,Be=Te.y,qe=Te.r,He=Re-Ze,Je=Re-Ce,et=De-xe,st=De-Be,pt=Oe-Ue,ct=qe-Ue,St=Re*Re+De*De-Ue*Ue,Dt=St-Ze*Ze-xe*xe+Oe*Oe,vt=St-Ce*Ce-Be*Be+qe*qe,gt=Je*et-He*st,Et=(et*vt-st*Dt)/(2*gt)-Re,Pt=(st*pt-et*ct)/gt,Ot=(Je*Dt-He*vt)/(2*gt)-De,Ht=(He*ct-Je*pt)/gt,zt=Pt*Pt+Ht*Ht-1,nt=2*(Ue+Et*Pt+Ot*Ht),it=Et*Et+Ot*Ot-Ue*Ue,Ke=-(zt?(nt+Math.sqrt(nt*nt-4*zt*it))/(2*zt):it/nt);return{x:Re+Et+Pt*Ke,y:De+Ot+Ht*Ke,r:Ke}}function b(fe,le,Te){var Re,De,Ue,Ze,xe=fe.x-le.x,Oe=fe.y-le.y,Ce=xe*xe+Oe*Oe;Ce?(De=le.r+Te.r,Ze=fe.r+Te.r,(De*=De)>(Ze*=Ze)?(Re=(Ce+Ze-De)/(2*Ce),Ue=Math.sqrt(Math.max(0,Ze/Ce-Re*Re)),Te.x=fe.x-Re*xe-Ue*Oe,Te.y=fe.y-Re*Oe+Ue*xe):(Re=(Ce+De-Ze)/(2*Ce),Ue=Math.sqrt(Math.max(0,De/Ce-Re*Re)),Te.x=le.x+Re*xe-Ue*Oe,Te.y=le.y+Re*Oe+Ue*xe)):(Te.x=le.x+Te.r,Te.y=le.y)}function _(fe,le){var Te=fe.r+le.r-1e-6,Re=le.x-fe.x,De=le.y-fe.y;return Te>0&&Te*Te>Re*Re+De*De}function w(fe){var le=fe._,Te=fe.next._,Re=le.r+Te.r,De=(le.x*Te.r+Te.x*le.r)/Re,Ue=(le.y*Te.r+Te.y*le.r)/Re;return De*De+Ue*Ue}function A(fe){this._=fe,this.next=null,this.previous=null}function p(fe){if(!(De=fe.length))return 0;var le,Te,Re,De,Ue,Ze,xe,Oe,Ce,Be,qe;if((le=fe[0]).x=0,le.y=0,!(De>1))return le.r;if(le.x=-(Te=fe[1]).r,Te.x=le.r,Te.y=0,!(De>2))return le.r+Te.r;b(Te,le,Re=fe[2]),le=new A(le),Te=new A(Te),Re=new A(Re),le.next=Re.previous=Te,Te.next=le.previous=Re,Re.next=Te.previous=le;e:for(xe=3;xe<De;++xe){b(le._,Te._,Re=fe[xe]),Re=new A(Re),Oe=Te.next,Ce=le.previous,Be=Te._.r,qe=le._.r;do{if(Be<=qe){if(_(Oe._,Re._)){le.next=Te=Oe,Te.previous=le,--xe;continue e}Be+=Oe._.r,Oe=Oe.next}else{if(_(Ce._,Re._)){(le=Ce).next=Te,Te.previous=le,--xe;continue e}qe+=Ce._.r,Ce=Ce.previous}}while(Oe!==Ce.next);for(Re.previous=le,Re.next=Te,le.next=Te.previous=Te=Re,Ue=w(le);(Re=Re.next)!==Te;)(Ze=w(Re))<Ue&&(le=Re,Ue=Ze);Te=le.next}for(le=[Te._],Re=Te;(Re=Re.next)!==Te;)le.push(Re._);for(Re=l(le),xe=0;xe<De;++xe)(le=fe[xe]).x-=Re.x,le.y-=Re.y;return Re.r}function I(fe){return p(fe),fe}function k(fe){if("function"!=typeof fe)throw new Error;return fe}function L(){return 0}function O(fe){return function(){return fe}}function P(fe){return Math.sqrt(fe.value)}function F(){var fe=null,le=1,Te=1,Re=L;function De(Ue){return Ue.x=le/2,Ue.y=Te/2,fe?Ue.eachBefore(j(fe)).eachAfter(X(Re,.5)).eachBefore(N(1)):Ue.eachBefore(j(P)).eachAfter(X(L,1)).eachAfter(X(Re,Ue.r/Math.min(le,Te))).eachBefore(N(Math.min(le,Te)/(2*Ue.r))),Ue}return De.radius=function(Ue){return arguments.length?(fe=null==(Ze=Ue)?null:k(Ze),De):fe;var Ze},De.size=function(Ue){return arguments.length?(le=+Ue[0],Te=+Ue[1],De):[le,Te]},De.padding=function(Ue){return arguments.length?(Re="function"==typeof Ue?Ue:O(+Ue),De):Re},De}function j(fe){return function(le){le.children||(le.r=Math.max(0,+fe(le)||0))}}function X(fe,le){return function(Te){if(Re=Te.children){var Re,De,Ue,Ze=Re.length,xe=fe(Te)*le||0;if(xe)for(De=0;De<Ze;++De)Re[De].r+=xe;if(Ue=p(Re),xe)for(De=0;De<Ze;++De)Re[De].r-=xe;Te.r=Ue+xe}}}function N(fe){return function(le){var Te=le.parent;le.r*=fe,Te&&(le.x=Te.x+fe*le.x,le.y=Te.y+fe*le.y)}}function q(fe){fe.x0=Math.round(fe.x0),fe.y0=Math.round(fe.y0),fe.x1=Math.round(fe.x1),fe.y1=Math.round(fe.y1)}function G(fe,le,Te,Re,De){for(var Ue,Ze=fe.children,xe=-1,Oe=Ze.length,Ce=fe.value&&(Re-le)/fe.value;++xe<Oe;)(Ue=Ze[xe]).y0=Te,Ue.y1=De,Ue.x0=le,Ue.x1=le+=Ue.value*Ce}function H(){var fe=1,le=1,Te=0,Re=!1;function De(Ue){var xe,Oe,Ze=Ue.height+1;return Ue.x0=Ue.y0=Te,Ue.x1=fe,Ue.y1=le/Ze,Ue.eachBefore((xe=le,Oe=Ze,function(Ce){Ce.children&&G(Ce,Ce.x0,xe*(Ce.depth+1)/Oe,Ce.x1,xe*(Ce.depth+2)/Oe);var Be=Ce.x0,qe=Ce.y0,He=Ce.x1-Te,Je=Ce.y1-Te;He<Be&&(Be=He=(Be+He)/2),Je<qe&&(qe=Je=(qe+Je)/2),Ce.x0=Be,Ce.y0=qe,Ce.x1=He,Ce.y1=Je})),Re&&Ue.eachBefore(q),Ue}return De.round=function(Ue){return arguments.length?(Re=!!Ue,De):Re},De.size=function(Ue){return arguments.length?(fe=+Ue[0],le=+Ue[1],De):[fe,le]},De.padding=function(Ue){return arguments.length?(Te=+Ue,De):Te},De}var Z="$",$={depth:-1},se={};function ne(fe){return fe.id}function re(fe){return fe.parentId}function Q(){var fe=ne,le=re;function Te(Re){var De,Ue,Ze,xe,Oe,Ce,Be,qe=Re.length,He=new Array(qe),Je={};for(Ue=0;Ue<qe;++Ue)Oe=He[Ue]=new a(De=Re[Ue]),null!=(Ce=fe(De,Ue,Re))&&(Ce+="")&&(Je[Be=Z+(Oe.id=Ce)]=Be in Je?se:Oe);for(Ue=0;Ue<qe;++Ue)if(Oe=He[Ue],null!=(Ce=le(Re[Ue],Ue,Re))&&(Ce+="")){if(!(xe=Je[Z+Ce]))throw new Error("missing: "+Ce);if(xe===se)throw new Error("ambiguous: "+Ce);xe.children?xe.children.push(Oe):xe.children=[Oe],Oe.parent=xe}else{if(Ze)throw new Error("multiple roots");Ze=Oe}if(!Ze)throw new Error("no root");if(Ze.parent=$,Ze.eachBefore(function(et){et.depth=et.parent.depth+1,--qe}).eachBefore(s),Ze.parent=null,qe>0)throw new Error("cycle");return Ze}return Te.id=function(Re){return arguments.length?(fe=k(Re),Te):fe},Te.parentId=function(Re){return arguments.length?(le=k(Re),Te):le},Te}function ee(fe,le){return fe.parent===le.parent?1:2}function oe(fe){var le=fe.children;return le?le[0]:fe.t}function ce(fe){var le=fe.children;return le?le[le.length-1]:fe.t}function ue(fe,le,Te){var Re=Te/(le.i-fe.i);le.c-=Re,le.s+=Te,fe.c+=Re,le.z+=Te,le.m+=Te}function he(fe,le,Te){return fe.a.parent===le.parent?fe.a:Te}function ve(fe,le){this._=fe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=le}function ke(){var fe=ee,le=1,Te=1,Re=null;function De(Oe){var Ce=function(ct){for(var St,Dt,vt,gt,Et,Pt=new ve(ct,0),Ot=[Pt];St=Ot.pop();)if(vt=St._.children)for(St.children=new Array(Et=vt.length),gt=Et-1;gt>=0;--gt)Ot.push(Dt=St.children[gt]=new ve(vt[gt],gt)),Dt.parent=St;return(Pt.parent=new ve(null,0)).children=[Pt],Pt}(Oe);if(Ce.eachAfter(Ue),Ce.parent.m=-Ce.z,Ce.eachBefore(Ze),Re)Oe.eachBefore(xe);else{var Be=Oe,qe=Oe,He=Oe;Oe.eachBefore(function(ct){ct.x<Be.x&&(Be=ct),ct.x>qe.x&&(qe=ct),ct.depth>He.depth&&(He=ct)});var Je=Be===qe?1:fe(Be,qe)/2,et=Je-Be.x,st=le/(qe.x+Je+et),pt=Te/(He.depth||1);Oe.eachBefore(function(ct){ct.x=(ct.x+et)*st,ct.y=ct.depth*pt})}return Oe}function Ue(Oe){var Ce=Oe.children,Be=Oe.parent.children,qe=Oe.i?Be[Oe.i-1]:null;if(Ce){!function(Je){for(var et,st=0,pt=0,ct=Je.children,St=ct.length;--St>=0;)(et=ct[St]).z+=st,et.m+=st,st+=et.s+(pt+=et.c)}(Oe);var He=(Ce[0].z+Ce[Ce.length-1].z)/2;qe?(Oe.z=qe.z+fe(Oe._,qe._),Oe.m=Oe.z-He):Oe.z=He}else qe&&(Oe.z=qe.z+fe(Oe._,qe._));Oe.parent.A=function(Je,et,st){if(et){for(var pt,ct=Je,St=Je,Dt=et,vt=ct.parent.children[0],gt=ct.m,Et=St.m,Pt=Dt.m,Ot=vt.m;Dt=ce(Dt),ct=oe(ct),Dt&&ct;)vt=oe(vt),(St=ce(St)).a=Je,(pt=Dt.z+Pt-ct.z-gt+fe(Dt._,ct._))>0&&(ue(he(Dt,Je,st),Je,pt),gt+=pt,Et+=pt),Pt+=Dt.m,gt+=ct.m,Ot+=vt.m,Et+=St.m;Dt&&!ce(St)&&(St.t=Dt,St.m+=Pt-Et),ct&&!oe(vt)&&(vt.t=ct,vt.m+=gt-Ot,st=Je)}return st}(Oe,qe,Oe.parent.A||Be[0])}function Ze(Oe){Oe._.x=Oe.z+Oe.parent.m,Oe.m+=Oe.parent.m}function xe(Oe){Oe.x*=le,Oe.y=Oe.depth*Te}return De.separation=function(Oe){return arguments.length?(fe=Oe,De):fe},De.size=function(Oe){return arguments.length?(Re=!1,le=+Oe[0],Te=+Oe[1],De):Re?null:[le,Te]},De.nodeSize=function(Oe){return arguments.length?(Re=!0,le=+Oe[0],Te=+Oe[1],De):Re?[le,Te]:null},De}function Ie(fe,le,Te,Re,De){for(var Ue,Ze=fe.children,xe=-1,Oe=Ze.length,Ce=fe.value&&(De-Te)/fe.value;++xe<Oe;)(Ue=Ze[xe]).x0=le,Ue.x1=Re,Ue.y0=Te,Ue.y1=Te+=Ue.value*Ce}ve.prototype=Object.create(a.prototype);var Me=(1+Math.sqrt(5))/2;function _e(fe,le,Te,Re,De,Ue){for(var Ze,xe,Oe,Ce,Be,qe,He,Je,et,st,pt,ct=[],St=le.children,Dt=0,vt=0,gt=St.length,Et=le.value;Dt<gt;){Oe=De-Te,Ce=Ue-Re;do{Be=St[vt++].value}while(!Be&&vt<gt);for(qe=He=Be,pt=Be*Be*(st=Math.max(Ce/Oe,Oe/Ce)/(Et*fe)),et=Math.max(He/pt,pt/qe);vt<gt;++vt){if(Be+=xe=St[vt].value,xe<qe&&(qe=xe),xe>He&&(He=xe),pt=Be*Be*st,(Je=Math.max(He/pt,pt/qe))>et){Be-=xe;break}et=Je}ct.push(Ze={value:Be,dice:Oe<Ce,children:St.slice(Dt,vt)}),Ze.dice?G(Ze,Te,Re,De,Et?Re+=Ce*Be/Et:Ue):Ie(Ze,Te,Re,Et?Te+=Oe*Be/Et:De,Ue),Et-=Be,Dt=vt}return ct}var we=function fe(le){function Te(Re,De,Ue,Ze,xe){_e(le,Re,De,Ue,Ze,xe)}return Te.ratio=function(Re){return fe((Re=+Re)>1?Re:1)},Te}(Me);function ze(){var fe=we,le=!1,Te=1,Re=1,De=[0],Ue=L,Ze=L,xe=L,Oe=L,Ce=L;function Be(He){return He.x0=He.y0=0,He.x1=Te,He.y1=Re,He.eachBefore(qe),De=[0],le&&He.eachBefore(q),He}function qe(He){var Je=De[He.depth],et=He.x0+Je,st=He.y0+Je,pt=He.x1-Je,ct=He.y1-Je;pt<et&&(et=pt=(et+pt)/2),ct<st&&(st=ct=(st+ct)/2),He.x0=et,He.y0=st,He.x1=pt,He.y1=ct,He.children&&(Je=De[He.depth+1]=Ue(He)/2,et+=Ce(He)-Je,st+=Ze(He)-Je,(pt-=xe(He)-Je)<et&&(et=pt=(et+pt)/2),(ct-=Oe(He)-Je)<st&&(st=ct=(st+ct)/2),fe(He,et,st,pt,ct))}return Be.round=function(He){return arguments.length?(le=!!He,Be):le},Be.size=function(He){return arguments.length?(Te=+He[0],Re=+He[1],Be):[Te,Re]},Be.tile=function(He){return arguments.length?(fe=k(He),Be):fe},Be.padding=function(He){return arguments.length?Be.paddingInner(He).paddingOuter(He):Be.paddingInner()},Be.paddingInner=function(He){return arguments.length?(Ue="function"==typeof He?He:O(+He),Be):Ue},Be.paddingOuter=function(He){return arguments.length?Be.paddingTop(He).paddingRight(He).paddingBottom(He).paddingLeft(He):Be.paddingTop()},Be.paddingTop=function(He){return arguments.length?(Ze="function"==typeof He?He:O(+He),Be):Ze},Be.paddingRight=function(He){return arguments.length?(xe="function"==typeof He?He:O(+He),Be):xe},Be.paddingBottom=function(He){return arguments.length?(Oe="function"==typeof He?He:O(+He),Be):Oe},Be.paddingLeft=function(He){return arguments.length?(Ce="function"==typeof He?He:O(+He),Be):Ce},Be}function Ee(fe,le,Te,Re,De){var Ue,Ze,xe=fe.children,Oe=xe.length,Ce=new Array(Oe+1);for(Ce[0]=Ze=Ue=0;Ue<Oe;++Ue)Ce[Ue+1]=Ze+=xe[Ue].value;!function Be(qe,He,Je,et,st,pt,ct){if(qe>=He-1){var St=xe[qe];return St.x0=et,St.y0=st,St.x1=pt,void(St.y1=ct)}for(var Dt=Ce[qe],vt=Je/2+Dt,gt=qe+1,Et=He-1;gt<Et;){var Pt=gt+Et>>>1;Ce[Pt]<vt?gt=Pt+1:Et=Pt}vt-Ce[gt-1]<Ce[gt]-vt&&qe+1<gt&&--gt;var Ot=Ce[gt]-Dt,Ht=Je-Ot;if(pt-et>ct-st){var zt=(et*Ht+pt*Ot)/Je;Be(qe,gt,Ot,et,st,zt,ct),Be(gt,He,Ht,zt,st,pt,ct)}else{var nt=(st*Ht+ct*Ot)/Je;Be(qe,gt,Ot,et,st,pt,nt),Be(gt,He,Ht,et,nt,pt,ct)}}(0,Oe,fe.value,le,Te,Re,De)}function Se(fe,le,Te,Re,De){(1&fe.depth?Ie:G)(fe,le,Te,Re,De)}var me=function fe(le){function Te(Re,De,Ue,Ze,xe){if((Oe=Re._squarify)&&Oe.ratio===le)for(var Oe,Ce,Be,qe,He,Je=-1,et=Oe.length,st=Re.value;++Je<et;){for(Be=(Ce=Oe[Je]).children,qe=Ce.value=0,He=Be.length;qe<He;++qe)Ce.value+=Be[qe].value;Ce.dice?G(Ce,De,Ue,Ze,Ue+=(xe-Ue)*Ce.value/st):Ie(Ce,De,Ue,De+=(Ze-De)*Ce.value/st,xe),st-=Ce.value}else Re._squarify=Oe=_e(le,Re,De,Ue,Ze,xe),Oe.ratio=le}return Te.ratio=function(Re){return fe((Re=+Re)>1?Re:1)},Te}(Me)},45879:function(ae,B,r){"use strict";r.d(B,{h5:function(){return g}});var D=Math.PI,E=2*D,d=1e-6,S=E-d;function M(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new M}M.prototype=v.prototype={constructor:M,moveTo:function(h,T){this._+="M"+(this._x0=this._x1=+h)+","+(this._y0=this._y1=+T)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(h,T){this._+="L"+(this._x1=+h)+","+(this._y1=+T)},quadraticCurveTo:function(h,T,x,m){this._+="Q"+ +h+","+ +T+","+(this._x1=+x)+","+(this._y1=+m)},bezierCurveTo:function(h,T,x,m,b,_){this._+="C"+ +h+","+ +T+","+ +x+","+ +m+","+(this._x1=+b)+","+(this._y1=+_)},arcTo:function(h,T,x,m,b){var _=this._x1,w=this._y1,A=(x=+x)-(h=+h),p=(m=+m)-(T=+T),I=_-h,k=w-T,L=I*I+k*k;if((b=+b)<0)throw new Error("negative radius: "+b);if(null===this._x1)this._+="M"+(this._x1=h)+","+(this._y1=T);else if(L>d)if(Math.abs(k*A-p*I)>d&&b){var O=x-_,P=m-w,F=A*A+p*p,j=O*O+P*P,X=Math.sqrt(F),N=Math.sqrt(L),q=b*Math.tan((D-Math.acos((F+L-j)/(2*X*N)))/2),G=q/N,H=q/X;Math.abs(G-1)>d&&(this._+="L"+(h+G*I)+","+(T+G*k)),this._+="A"+b+","+b+",0,0,"+ +(k*O>I*P)+","+(this._x1=h+H*A)+","+(this._y1=T+H*p)}else this._+="L"+(this._x1=h)+","+(this._y1=T)},arc:function(h,T,x,m,b,_){h=+h,T=+T,_=!!_;var w=(x=+x)*Math.cos(m),A=x*Math.sin(m),p=h+w,I=T+A,k=1^_,L=_?m-b:b-m;if(x<0)throw new Error("negative radius: "+x);null===this._x1?this._+="M"+p+","+I:(Math.abs(this._x1-p)>d||Math.abs(this._y1-I)>d)&&(this._+="L"+p+","+I),x&&(L<0&&(L=L%E+E),L>S?this._+="A"+x+","+x+",0,1,"+k+","+(h-w)+","+(T-A)+"A"+x+","+x+",0,1,"+k+","+(this._x1=p)+","+(this._y1=I):L>d&&(this._+="A"+x+","+x+",0,"+ +(L>=D)+","+k+","+(this._x1=h+x*Math.cos(b))+","+(this._y1=T+x*Math.sin(b))))},rect:function(h,T,x,m){this._+="M"+(this._x0=this._x1=+h)+","+(this._y0=this._y1=+T)+"h"+ +x+"v"+ +m+"h"+-x+"Z"},toString:function(){return this._}};var u=v,i=Array.prototype.slice;function s(h){return function(){return h}}function a(h){return h[0]}function o(h){return h[1]}function l(h){return h.source}function c(h){return h.target}function f(h,T,x,m,b){h.moveTo(T,x),h.bezierCurveTo(T=(T+m)/2,x,T,b,m,b)}function g(){return function(h){var T=l,x=c,m=a,b=o,_=null;function w(){var A,p=i.call(arguments),I=T.apply(this,p),k=x.apply(this,p);if(_||(_=A=u()),h(_,+m.apply(this,(p[0]=I,p)),+b.apply(this,p),+m.apply(this,(p[0]=k,p)),+b.apply(this,p)),A)return _=null,A+""||null}return w.source=function(A){return arguments.length?(T=A,w):T},w.target=function(A){return arguments.length?(x=A,w):x},w.x=function(A){return arguments.length?(m="function"==typeof A?A:s(+A),w):m},w.y=function(A){return arguments.length?(b="function"==typeof A?A:s(+A),w):b},w.context=function(A){return arguments.length?(_=A??null,w):_},w}(f)}},84096:function(ae,B,r){"use strict";r.d(B,{i$:function(){return l},Dq:function(){return a},g0:function(){return c}});var D=r(58176),E=r(48480),d=r(59879),S=r(82301),M=r(34823),v=r(79791);function u(gt){if(0<=gt.y&&gt.y<100){var Et=new Date(-1,gt.m,gt.d,gt.H,gt.M,gt.S,gt.L);return Et.setFullYear(gt.y),Et}return new Date(gt.y,gt.m,gt.d,gt.H,gt.M,gt.S,gt.L)}function i(gt){if(0<=gt.y&&gt.y<100){var Et=new Date(Date.UTC(-1,gt.m,gt.d,gt.H,gt.M,gt.S,gt.L));return Et.setUTCFullYear(gt.y),Et}return new Date(Date.UTC(gt.y,gt.m,gt.d,gt.H,gt.M,gt.S,gt.L))}function s(gt,Et,Pt){return{y:gt,m:Et,d:Pt,H:0,M:0,S:0,L:0}}function a(gt){var Et=gt.dateTime,Pt=gt.date,Ot=gt.time,Ht=gt.periods,zt=gt.days,nt=gt.shortDays,it=gt.months,Ke=gt.shortMonths,rt=b(Ht),ft=_(Ht),ht=b(zt),Ve=_(zt),Ge=b(nt),ut=_(nt),dt=b(it),kt=_(it),bt=b(Ke),At=_(Ke),xt={a:function(Zt){return nt[Zt.getDay()]},A:function(Zt){return zt[Zt.getDay()]},b:function(Zt){return Ke[Zt.getMonth()]},B:function(Zt){return it[Zt.getMonth()]},c:null,d:Q,e:Q,f:he,H:ee,I:oe,j:ce,L:ue,m:ve,M:ke,p:function(Zt){return Ht[+(Zt.getHours()>=12)]},q:function(Zt){return 1+~~(Zt.getMonth()/3)},Q:Dt,s:vt,S:Ie,u:Me,U:_e,V:we,w:ze,W:Ee,x:null,X:null,y:Se,Y:me,Z:fe,"%":St},Rt={a:function(Zt){return nt[Zt.getUTCDay()]},A:function(Zt){return zt[Zt.getUTCDay()]},b:function(Zt){return Ke[Zt.getUTCMonth()]},B:function(Zt){return it[Zt.getUTCMonth()]},c:null,d:le,e:le,f:Ze,H:Te,I:Re,j:De,L:Ue,m:xe,M:Oe,p:function(Zt){return Ht[+(Zt.getUTCHours()>=12)]},q:function(Zt){return 1+~~(Zt.getUTCMonth()/3)},Q:Dt,s:vt,S:Ce,u:Be,U:qe,V:He,w:Je,W:et,x:null,X:null,y:st,Y:pt,Z:ct,"%":St},_t={a:function(Zt,$t,dn){var nn=Ge.exec($t.slice(dn));return nn?(Zt.w=ut[nn[0].toLowerCase()],dn+nn[0].length):-1},A:function(Zt,$t,dn){var nn=ht.exec($t.slice(dn));return nn?(Zt.w=Ve[nn[0].toLowerCase()],dn+nn[0].length):-1},b:function(Zt,$t,dn){var nn=bt.exec($t.slice(dn));return nn?(Zt.m=At[nn[0].toLowerCase()],dn+nn[0].length):-1},B:function(Zt,$t,dn){var nn=dt.exec($t.slice(dn));return nn?(Zt.m=kt[nn[0].toLowerCase()],dn+nn[0].length):-1},c:function(Zt,$t,dn){return Wt(Zt,Et,$t,dn)},d:X,e:X,f:$,H:q,I:q,j:N,L:Z,m:j,M:G,p:function(Zt,$t,dn){var nn=rt.exec($t.slice(dn));return nn?(Zt.p=ft[nn[0].toLowerCase()],dn+nn[0].length):-1},q:F,Q:ne,s:re,S:H,u:A,U:p,V:I,w,W:k,x:function(Zt,$t,dn){return Wt(Zt,Pt,$t,dn)},X:function(Zt,$t,dn){return Wt(Zt,Ot,$t,dn)},y:O,Y:L,Z:P,"%":se};function Tt(Zt,$t){return function(dn){var nn,cn,rn,En=[],Pn=-1,Mn=0,en=Zt.length;for(dn instanceof Date||(dn=new Date(+dn));++Pn<en;)37===Zt.charCodeAt(Pn)&&(En.push(Zt.slice(Mn,Pn)),null!=(cn=f[nn=Zt.charAt(++Pn)])?nn=Zt.charAt(++Pn):cn="e"===nn?" ":"0",(rn=$t[nn])&&(nn=rn(dn,cn)),En.push(nn),Mn=Pn+1);return En.push(Zt.slice(Mn,Pn)),En.join("")}}function It(Zt,$t){return function(dn){var nn,cn,rn=s(1900,void 0,1);if(Wt(rn,Zt,dn+="",0)!=dn.length)return null;if("Q"in rn)return new Date(rn.Q);if("s"in rn)return new Date(1e3*rn.s+("L"in rn?rn.L:0));if($t&&!("Z"in rn)&&(rn.Z=0),"p"in rn&&(rn.H=rn.H%12+12*rn.p),void 0===rn.m&&(rn.m="q"in rn?rn.q:0),"V"in rn){if(rn.V<1||rn.V>53)return null;"w"in rn||(rn.w=1),"Z"in rn?(cn=(nn=i(s(rn.y,0,1))).getUTCDay(),nn=cn>4||0===cn?D.l6.ceil(nn):(0,D.l6)(nn),nn=E.Z.offset(nn,7*(rn.V-1)),rn.y=nn.getUTCFullYear(),rn.m=nn.getUTCMonth(),rn.d=nn.getUTCDate()+(rn.w+6)%7):(cn=(nn=u(s(rn.y,0,1))).getDay(),nn=cn>4||0===cn?d.wA.ceil(nn):(0,d.wA)(nn),nn=S.Z.offset(nn,7*(rn.V-1)),rn.y=nn.getFullYear(),rn.m=nn.getMonth(),rn.d=nn.getDate()+(rn.w+6)%7)}else("W"in rn||"U"in rn)&&("w"in rn||(rn.w="u"in rn?rn.u%7:"W"in rn?1:0),cn="Z"in rn?i(s(rn.y,0,1)).getUTCDay():u(s(rn.y,0,1)).getDay(),rn.m=0,rn.d="W"in rn?(rn.w+6)%7+7*rn.W-(cn+5)%7:rn.w+7*rn.U-(cn+6)%7);return"Z"in rn?(rn.H+=rn.Z/100|0,rn.M+=rn.Z%100,i(rn)):u(rn)}}function Wt(Zt,$t,dn,nn){for(var cn,rn,En=0,Pn=$t.length,Mn=dn.length;En<Pn;){if(nn>=Mn)return-1;if(37===(cn=$t.charCodeAt(En++))){if(cn=$t.charAt(En++),!(rn=_t[cn in f?$t.charAt(En++):cn])||(nn=rn(Zt,dn,nn))<0)return-1}else if(cn!=dn.charCodeAt(nn++))return-1}return nn}return xt.x=Tt(Pt,xt),xt.X=Tt(Ot,xt),xt.c=Tt(Et,xt),Rt.x=Tt(Pt,Rt),Rt.X=Tt(Ot,Rt),Rt.c=Tt(Et,Rt),{format:function(Zt){var $t=Tt(Zt+="",xt);return $t.toString=function(){return Zt},$t},parse:function(Zt){var $t=It(Zt+="",!1);return $t.toString=function(){return Zt},$t},utcFormat:function(Zt){var $t=Tt(Zt+="",Rt);return $t.toString=function(){return Zt},$t},utcParse:function(Zt){var $t=It(Zt+="",!0);return $t.toString=function(){return Zt},$t}}}var o,l,c,f={"-":"",_:" ",0:"0"},g=/^\s*\d+/,h=/^%/,T=/[\\^$*+?|[\]().{}]/g;function x(gt,Et,Pt){var Ot=gt<0?"-":"",Ht=(Ot?-gt:gt)+"",zt=Ht.length;return Ot+(zt<Pt?new Array(Pt-zt+1).join(Et)+Ht:Ht)}function m(gt){return gt.replace(T,"\\$&")}function b(gt){return new RegExp("^(?:"+gt.map(m).join("|")+")","i")}function _(gt){for(var Et={},Pt=-1,Ot=gt.length;++Pt<Ot;)Et[gt[Pt].toLowerCase()]=Pt;return Et}function w(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+1));return Ot?(gt.w=+Ot[0],Pt+Ot[0].length):-1}function A(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+1));return Ot?(gt.u=+Ot[0],Pt+Ot[0].length):-1}function p(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.U=+Ot[0],Pt+Ot[0].length):-1}function I(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.V=+Ot[0],Pt+Ot[0].length):-1}function k(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.W=+Ot[0],Pt+Ot[0].length):-1}function L(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+4));return Ot?(gt.y=+Ot[0],Pt+Ot[0].length):-1}function O(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.y=+Ot[0]+(+Ot[0]>68?1900:2e3),Pt+Ot[0].length):-1}function P(gt,Et,Pt){var Ot=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Et.slice(Pt,Pt+6));return Ot?(gt.Z=Ot[1]?0:-(Ot[2]+(Ot[3]||"00")),Pt+Ot[0].length):-1}function F(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+1));return Ot?(gt.q=3*Ot[0]-3,Pt+Ot[0].length):-1}function j(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.m=Ot[0]-1,Pt+Ot[0].length):-1}function X(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.d=+Ot[0],Pt+Ot[0].length):-1}function N(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+3));return Ot?(gt.m=0,gt.d=+Ot[0],Pt+Ot[0].length):-1}function q(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.H=+Ot[0],Pt+Ot[0].length):-1}function G(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.M=+Ot[0],Pt+Ot[0].length):-1}function H(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+2));return Ot?(gt.S=+Ot[0],Pt+Ot[0].length):-1}function Z(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+3));return Ot?(gt.L=+Ot[0],Pt+Ot[0].length):-1}function $(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt,Pt+6));return Ot?(gt.L=Math.floor(Ot[0]/1e3),Pt+Ot[0].length):-1}function se(gt,Et,Pt){var Ot=h.exec(Et.slice(Pt,Pt+1));return Ot?Pt+Ot[0].length:-1}function ne(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt));return Ot?(gt.Q=+Ot[0],Pt+Ot[0].length):-1}function re(gt,Et,Pt){var Ot=g.exec(Et.slice(Pt));return Ot?(gt.s=+Ot[0],Pt+Ot[0].length):-1}function Q(gt,Et){return x(gt.getDate(),Et,2)}function ee(gt,Et){return x(gt.getHours(),Et,2)}function oe(gt,Et){return x(gt.getHours()%12||12,Et,2)}function ce(gt,Et){return x(1+S.Z.count((0,M.Z)(gt),gt),Et,3)}function ue(gt,Et){return x(gt.getMilliseconds(),Et,3)}function he(gt,Et){return ue(gt,Et)+"000"}function ve(gt,Et){return x(gt.getMonth()+1,Et,2)}function ke(gt,Et){return x(gt.getMinutes(),Et,2)}function Ie(gt,Et){return x(gt.getSeconds(),Et,2)}function Me(gt){var Et=gt.getDay();return 0===Et?7:Et}function _e(gt,Et){return x(d.OM.count((0,M.Z)(gt)-1,gt),Et,2)}function we(gt,Et){var Pt=gt.getDay();return gt=Pt>=4||0===Pt?(0,d.bL)(gt):d.bL.ceil(gt),x(d.bL.count((0,M.Z)(gt),gt)+(4===(0,M.Z)(gt).getDay()),Et,2)}function ze(gt){return gt.getDay()}function Ee(gt,Et){return x(d.wA.count((0,M.Z)(gt)-1,gt),Et,2)}function Se(gt,Et){return x(gt.getFullYear()%100,Et,2)}function me(gt,Et){return x(gt.getFullYear()%1e4,Et,4)}function fe(gt){var Et=gt.getTimezoneOffset();return(Et>0?"-":(Et*=-1,"+"))+x(Et/60|0,"0",2)+x(Et%60,"0",2)}function le(gt,Et){return x(gt.getUTCDate(),Et,2)}function Te(gt,Et){return x(gt.getUTCHours(),Et,2)}function Re(gt,Et){return x(gt.getUTCHours()%12||12,Et,2)}function De(gt,Et){return x(1+E.Z.count((0,v.Z)(gt),gt),Et,3)}function Ue(gt,Et){return x(gt.getUTCMilliseconds(),Et,3)}function Ze(gt,Et){return Ue(gt,Et)+"000"}function xe(gt,Et){return x(gt.getUTCMonth()+1,Et,2)}function Oe(gt,Et){return x(gt.getUTCMinutes(),Et,2)}function Ce(gt,Et){return x(gt.getUTCSeconds(),Et,2)}function Be(gt){var Et=gt.getUTCDay();return 0===Et?7:Et}function qe(gt,Et){return x(D.Ox.count((0,v.Z)(gt)-1,gt),Et,2)}function He(gt,Et){var Pt=gt.getUTCDay();return gt=Pt>=4||0===Pt?(0,D.hB)(gt):D.hB.ceil(gt),x(D.hB.count((0,v.Z)(gt),gt)+(4===(0,v.Z)(gt).getUTCDay()),Et,2)}function Je(gt){return gt.getUTCDay()}function et(gt,Et){return x(D.l6.count((0,v.Z)(gt)-1,gt),Et,2)}function st(gt,Et){return x(gt.getUTCFullYear()%100,Et,2)}function pt(gt,Et){return x(gt.getUTCFullYear()%1e4,Et,4)}function ct(){return"+0000"}function St(){return"%"}function Dt(gt){return+gt}function vt(gt){return Math.floor(+gt/1e3)}o=a({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=o.format,c=o.utcFormat},82301:function(ae,B,r){"use strict";r.d(B,{a:function(){return S}});var D=r(30052),E=r(54263),d=(0,D.Z)(function(M){M.setHours(0,0,0,0)},function(M,v){M.setDate(M.getDate()+v)},function(M,v){return(v-M-(v.getTimezoneOffset()-M.getTimezoneOffset())*E.yB)/E.UD},function(M){return M.getDate()-1});B.Z=d;var S=d.range},54263:function(ae,B,r){"use strict";r.d(B,{UD:function(){return S},Y2:function(){return d},Ym:function(){return D},iM:function(){return M},yB:function(){return E}});var D=1e3,E=6e4,d=36e5,S=864e5,M=6048e5},81041:function(ae,B,r){"use strict";r.r(B),r.d(B,{timeDay:function(){return g.Z},timeDays:function(){return g.a},timeFriday:function(){return h.mC},timeFridays:function(){return h.b$},timeHour:function(){return c},timeHours:function(){return f},timeInterval:function(){return D.Z},timeMillisecond:function(){return d},timeMilliseconds:function(){return S},timeMinute:function(){return a},timeMinutes:function(){return o},timeMonday:function(){return h.wA},timeMondays:function(){return h.bJ},timeMonth:function(){return x},timeMonths:function(){return m},timeSaturday:function(){return h.EY},timeSaturdays:function(){return h.Ff},timeSecond:function(){return u},timeSeconds:function(){return i},timeSunday:function(){return h.OM},timeSundays:function(){return h.vm},timeThursday:function(){return h.bL},timeThursdays:function(){return h.$t},timeTuesday:function(){return h.sy},timeTuesdays:function(){return h.aU},timeWednesday:function(){return h.zg},timeWednesdays:function(){return h.Ld},timeWeek:function(){return h.OM},timeWeeks:function(){return h.vm},timeYear:function(){return b.Z},timeYears:function(){return b.g},utcDay:function(){return L.Z},utcDays:function(){return L.y},utcFriday:function(){return O.QQ},utcFridays:function(){return O.fz},utcHour:function(){return I},utcHours:function(){return k},utcMillisecond:function(){return d},utcMilliseconds:function(){return S},utcMinute:function(){return w},utcMinutes:function(){return A},utcMonday:function(){return O.l6},utcMondays:function(){return O.$3},utcMonth:function(){return F},utcMonths:function(){return j},utcSaturday:function(){return O.g4},utcSaturdays:function(){return O.Q_},utcSecond:function(){return u},utcSeconds:function(){return i},utcSunday:function(){return O.Ox},utcSundays:function(){return O.SU},utcThursday:function(){return O.hB},utcThursdays:function(){return O.xj},utcTuesday:function(){return O.J1},utcTuesdays:function(){return O.DK},utcWednesday:function(){return O.b3},utcWednesdays:function(){return O.uy},utcWeek:function(){return O.Ox},utcWeeks:function(){return O.SU},utcYear:function(){return X.Z},utcYears:function(){return X.D}});var D=r(30052),E=(0,D.Z)(function(){},function(N,q){N.setTime(+N+q)},function(N,q){return q-N});E.every=function(N){return N=Math.floor(N),isFinite(N)&&N>0?N>1?(0,D.Z)(function(q){q.setTime(Math.floor(q/N)*N)},function(q,G){q.setTime(+q+G*N)},function(q,G){return(G-q)/N}):E:null};var d=E,S=E.range,M=r(54263),v=(0,D.Z)(function(N){N.setTime(N-N.getMilliseconds())},function(N,q){N.setTime(+N+q*M.Ym)},function(N,q){return(q-N)/M.Ym},function(N){return N.getUTCSeconds()}),u=v,i=v.range,s=(0,D.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*M.Ym)},function(N,q){N.setTime(+N+q*M.yB)},function(N,q){return(q-N)/M.yB},function(N){return N.getMinutes()}),a=s,o=s.range,l=(0,D.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*M.Ym-N.getMinutes()*M.yB)},function(N,q){N.setTime(+N+q*M.Y2)},function(N,q){return(q-N)/M.Y2},function(N){return N.getHours()}),c=l,f=l.range,g=r(82301),h=r(59879),T=(0,D.Z)(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,q){N.setMonth(N.getMonth()+q)},function(N,q){return q.getMonth()-N.getMonth()+12*(q.getFullYear()-N.getFullYear())},function(N){return N.getMonth()}),x=T,m=T.range,b=r(34823),_=(0,D.Z)(function(N){N.setUTCSeconds(0,0)},function(N,q){N.setTime(+N+q*M.yB)},function(N,q){return(q-N)/M.yB},function(N){return N.getUTCMinutes()}),w=_,A=_.range,p=(0,D.Z)(function(N){N.setUTCMinutes(0,0,0)},function(N,q){N.setTime(+N+q*M.Y2)},function(N,q){return(q-N)/M.Y2},function(N){return N.getUTCHours()}),I=p,k=p.range,L=r(48480),O=r(58176),P=(0,D.Z)(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,q){N.setUTCMonth(N.getUTCMonth()+q)},function(N,q){return q.getUTCMonth()-N.getUTCMonth()+12*(q.getUTCFullYear()-N.getUTCFullYear())},function(N){return N.getUTCMonth()}),F=P,j=P.range,X=r(79791)},30052:function(ae,B,r){"use strict";r.d(B,{Z:function(){return d}});var D=new Date,E=new Date;function d(S,M,v,u){function i(s){return S(s=0===arguments.length?new Date:new Date(+s)),s}return i.floor=function(s){return S(s=new Date(+s)),s},i.ceil=function(s){return S(s=new Date(s-1)),M(s,1),S(s),s},i.round=function(s){var a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=function(s,a){return M(s=new Date(+s),null==a?1:Math.floor(a)),s},i.range=function(s,a,o){var l,c=[];if(s=i.ceil(s),o=null==o?1:Math.floor(o),!(s<a&&o>0))return c;do{c.push(l=new Date(+s)),M(s,o),S(s)}while(l<s&&s<a);return c},i.filter=function(s){return d(function(a){if(a>=a)for(;S(a),!s(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;M(a,-1),!s(a););else for(;--o>=0;)for(;M(a,1),!s(a););})},v&&(i.count=function(s,a){return D.setTime(+s),E.setTime(+a),S(D),S(E),Math.floor(v(D,E))},i.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?i.filter(u?function(a){return u(a)%s==0}:function(a){return i.count(0,a)%s==0}):i:null}),i}},48480:function(ae,B,r){"use strict";r.d(B,{y:function(){return S}});var D=r(30052),E=r(54263),d=(0,D.Z)(function(M){M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCDate(M.getUTCDate()+v)},function(M,v){return(v-M)/E.UD},function(M){return M.getUTCDate()-1});B.Z=d;var S=d.range},58176:function(ae,B,r){"use strict";r.d(B,{$3:function(){return l},DK:function(){return c},J1:function(){return v},Ox:function(){return S},QQ:function(){return s},Q_:function(){return T},SU:function(){return o},b3:function(){return u},fz:function(){return h},g4:function(){return a},hB:function(){return i},l6:function(){return M},uy:function(){return f},xj:function(){return g}});var D=r(30052),E=r(54263);function d(x){return(0,D.Z)(function(m){m.setUTCDate(m.getUTCDate()-(m.getUTCDay()+7-x)%7),m.setUTCHours(0,0,0,0)},function(m,b){m.setUTCDate(m.getUTCDate()+7*b)},function(m,b){return(b-m)/E.iM})}var S=d(0),M=d(1),v=d(2),u=d(3),i=d(4),s=d(5),a=d(6),o=S.range,l=M.range,c=v.range,f=u.range,g=i.range,h=s.range,T=a.range},79791:function(ae,B,r){"use strict";r.d(B,{D:function(){return d}});var D=r(30052),E=(0,D.Z)(function(S){S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,M){S.setUTCFullYear(S.getUTCFullYear()+M)},function(S,M){return M.getUTCFullYear()-S.getUTCFullYear()},function(S){return S.getUTCFullYear()});E.every=function(S){return isFinite(S=Math.floor(S))&&S>0?(0,D.Z)(function(M){M.setUTCFullYear(Math.floor(M.getUTCFullYear()/S)*S),M.setUTCMonth(0,1),M.setUTCHours(0,0,0,0)},function(M,v){M.setUTCFullYear(M.getUTCFullYear()+v*S)}):null},B.Z=E;var d=E.range},59879:function(ae,B,r){"use strict";r.d(B,{$t:function(){return g},EY:function(){return a},Ff:function(){return T},Ld:function(){return f},OM:function(){return S},aU:function(){return c},b$:function(){return h},bJ:function(){return l},bL:function(){return i},mC:function(){return s},sy:function(){return v},vm:function(){return o},wA:function(){return M},zg:function(){return u}});var D=r(30052),E=r(54263);function d(x){return(0,D.Z)(function(m){m.setDate(m.getDate()-(m.getDay()+7-x)%7),m.setHours(0,0,0,0)},function(m,b){m.setDate(m.getDate()+7*b)},function(m,b){return(b-m-(b.getTimezoneOffset()-m.getTimezoneOffset())*E.yB)/E.iM})}var S=d(0),M=d(1),v=d(2),u=d(3),i=d(4),s=d(5),a=d(6),o=S.range,l=M.range,c=v.range,f=u.range,g=i.range,h=s.range,T=a.range},34823:function(ae,B,r){"use strict";r.d(B,{g:function(){return d}});var D=r(30052),E=(0,D.Z)(function(S){S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,M){S.setFullYear(S.getFullYear()+M)},function(S,M){return M.getFullYear()-S.getFullYear()},function(S){return S.getFullYear()});E.every=function(S){return isFinite(S=Math.floor(S))&&S>0?(0,D.Z)(function(M){M.setFullYear(Math.floor(M.getFullYear()/S)*S),M.setMonth(0,1),M.setHours(0,0,0,0)},function(M,v){M.setFullYear(M.getFullYear()+v*S)}):null},B.Z=E;var d=E.range},17045:function(ae,B,r){"use strict";var D=r(8709),E="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),d=Object.prototype.toString,S=Array.prototype.concat,M=Object.defineProperty,v=r(55622)(),u=M&&v,i=function(a,o,l,c){if(o in a)if(!0===c){if(a[o]===l)return}else if("function"!=typeof(f=c)||"[object Function]"!==d.call(f)||!c())return;var f;u?M(a,o,{configurable:!0,enumerable:!1,value:l,writable:!0}):a[o]=l},s=function(a,o){var l=arguments.length>2?arguments[2]:{},c=D(o);E&&(c=S.call(c,Object.getOwnPropertySymbols(o)));for(var f=0;f<c.length;f+=1)i(a,c[f],o[c[f]],l[c[f]])};s.supportsDescriptors=!!u,ae.exports=s},46775:function(ae){ae.exports=function(){for(var B=0;B<arguments.length;B++)if(void 0!==arguments[B])return arguments[B]}},53545:function(ae){"use strict";ae.exports=D;var B=(D.canvas=document.createElement("canvas")).getContext("2d"),r=E([32,126]);function D(d,S){Array.isArray(d)&&(d=d.join(", "));var M,v={},u=16,i=.05;S&&(2===S.length&&"number"==typeof S[0]?M=E(S):Array.isArray(S)?M=S:(S.o?M=E(S.o):S.pairs&&(M=S.pairs),S.fontSize&&(u=S.fontSize),null!=S.threshold&&(i=S.threshold))),M||(M=r),B.font=u+"px "+d;for(var s=0;s<M.length;s++){var a=M[s],o=B.measureText(a[0]).width+B.measureText(a[1]).width,l=B.measureText(a).width;Math.abs(o-l)>u*i&&(v[a]=(l-o)/u*1e3)}return v}function E(d){for(var S=[],M=d[0];M<=d[1];M++)for(var v=String.fromCharCode(M),u=d[0];u<d[1];u++){var i=v+String.fromCharCode(u);S.push(i)}return S}D.createPairs=E,D.ascii=r},31457:function(ae,B,r){var D=r(65185),E=r(18625),d={M:"moveTo",C:"bezierCurveTo"};ae.exports=function(S,M){S.beginPath(),E(D(M)).forEach(function(v){var u=v[0],i=v.slice(1);S[d[u]].apply(S,i)}),S.closePath()}},90660:function(ae){ae.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(ae){"use strict";function B(r,D,E){var d=0|r[E];if(d<=0)return[];var S,M=new Array(d);if(E===r.length-1)for(S=0;S<d;++S)M[S]=D;else for(S=0;S<d;++S)M[S]=B(r,D,E+1);return M}ae.exports=function(r,D){switch(void 0===D&&(D=0),typeof r){case"number":if(r>0)return function(E,d){var S,M;for(S=new Array(E),M=0;M<E;++M)S[M]=d;return S}(0|r,D);break;case"object":if("number"==typeof r.length)return B(r,D,0)}return[]}},11474:function(ae){"use strict";function B(I,k,L){L=L||2;var O,P,F,j,X,N,q,G=k&&k.length,H=G?k[0]*L:I.length,Z=r(I,0,H,L,!0),$=[];if(!Z||Z.next===Z.prev)return $;if(G&&(Z=function(ne,re,Q,ee){var oe,ce,ue,he=[];for(oe=0,ce=re.length;oe<ce;oe++)(ue=r(ne,re[oe]*ee,oe<ce-1?re[oe+1]*ee:ne.length,ee,!1))===ue.next&&(ue.steiner=!0),he.push(o(ue));for(he.sort(u),oe=0;oe<he.length;oe++)i(he[oe],Q),Q=D(Q,Q.next);return Q}(I,k,Z,L)),I.length>80*L){O=F=I[0],P=j=I[1];for(var se=L;se<H;se+=L)(X=I[se])<O&&(O=X),(N=I[se+1])<P&&(P=N),X>F&&(F=X),N>j&&(j=N);q=0!==(q=Math.max(F-O,j-P))?1/q:0}return E(Z,$,L,O,P,q),$}function r(I,k,L,O,P){var F,j;if(P===p(I,k,L,O)>0)for(F=k;F<L;F+=O)j=_(F,I[F],I[F+1],j);else for(F=L-O;F>=k;F-=O)j=_(F,I[F],I[F+1],j);return j&&g(j,j.next)&&(w(j),j=j.next),j}function D(I,k){if(!I)return I;k||(k=I);var L,O=I;do{if(L=!1,O.steiner||!g(O,O.next)&&0!==f(O.prev,O,O.next))O=O.next;else{if(w(O),(O=k=O.prev)===O.next)break;L=!0}}while(L||O!==k);return k}function E(I,k,L,O,P,F,j){if(I){!j&&F&&function(G,H,Z,$){var se=G;do{null===se.z&&(se.z=a(se.x,se.y,H,Z,$)),se.prevZ=se.prev,se.nextZ=se.next,se=se.next}while(se!==G);se.prevZ.nextZ=null,se.prevZ=null,function(ne){var re,Q,ee,oe,ce,ue,he,ve,ke=1;do{for(Q=ne,ne=null,ce=null,ue=0;Q;){for(ue++,ee=Q,he=0,re=0;re<ke&&(he++,ee=ee.nextZ);re++);for(ve=ke;he>0||ve>0&&ee;)0!==he&&(0===ve||!ee||Q.z<=ee.z)?(oe=Q,Q=Q.nextZ,he--):(oe=ee,ee=ee.nextZ,ve--),ce?ce.nextZ=oe:ne=oe,oe.prevZ=ce,ce=oe;Q=ee}ce.nextZ=null,ke*=2}while(ue>1)}(se)}(I,O,P,F);for(var X,N,q=I;I.prev!==I.next;)if(X=I.prev,N=I.next,F?S(I,O,P,F):d(I))k.push(X.i/L),k.push(I.i/L),k.push(N.i/L),w(I),I=N.next,q=N.next;else if((I=N)===q){j?1===j?E(I=M(D(I),k,L),k,L,O,P,F,2):2===j&&v(I,k,L,O,P,F):E(D(I),k,L,O,P,F,1);break}}}function d(I){var k=I.prev,L=I,O=I.next;if(f(k,L,O)>=0)return!1;for(var P=I.next.next;P!==I.prev;){if(l(k.x,k.y,L.x,L.y,O.x,O.y,P.x,P.y)&&f(P.prev,P,P.next)>=0)return!1;P=P.next}return!0}function S(I,k,L,O){var P=I.prev,F=I,j=I.next;if(f(P,F,j)>=0)return!1;for(var q=P.x>F.x?P.x>j.x?P.x:j.x:F.x>j.x?F.x:j.x,G=P.y>F.y?P.y>j.y?P.y:j.y:F.y>j.y?F.y:j.y,H=a(P.x<F.x?P.x<j.x?P.x:j.x:F.x<j.x?F.x:j.x,P.y<F.y?P.y<j.y?P.y:j.y:F.y<j.y?F.y:j.y,k,L,O),Z=a(q,G,k,L,O),$=I.prevZ,se=I.nextZ;$&&$.z>=H&&se&&se.z<=Z;){if($!==I.prev&&$!==I.next&&l(P.x,P.y,F.x,F.y,j.x,j.y,$.x,$.y)&&f($.prev,$,$.next)>=0||($=$.prevZ,se!==I.prev&&se!==I.next&&l(P.x,P.y,F.x,F.y,j.x,j.y,se.x,se.y)&&f(se.prev,se,se.next)>=0))return!1;se=se.nextZ}for(;$&&$.z>=H;){if($!==I.prev&&$!==I.next&&l(P.x,P.y,F.x,F.y,j.x,j.y,$.x,$.y)&&f($.prev,$,$.next)>=0)return!1;$=$.prevZ}for(;se&&se.z<=Z;){if(se!==I.prev&&se!==I.next&&l(P.x,P.y,F.x,F.y,j.x,j.y,se.x,se.y)&&f(se.prev,se,se.next)>=0)return!1;se=se.nextZ}return!0}function M(I,k,L){var O=I;do{var P=O.prev,F=O.next.next;!g(P,F)&&h(P,O,O.next,F)&&m(P,F)&&m(F,P)&&(k.push(P.i/L),k.push(O.i/L),k.push(F.i/L),w(O),w(O.next),O=I=F),O=O.next}while(O!==I);return D(O)}function v(I,k,L,O,P,F){var j=I;do{for(var X=j.next.next;X!==j.prev;){if(j.i!==X.i&&c(j,X)){var N=b(j,X);return j=D(j,j.next),N=D(N,N.next),E(j,k,L,O,P,F),void E(N,k,L,O,P,F)}X=X.next}j=j.next}while(j!==I)}function u(I,k){return I.x-k.x}function i(I,k){if(k=function(O,P){var F,j=P,X=O.x,N=O.y,q=-1/0;do{if(N<=j.y&&N>=j.next.y&&j.next.y!==j.y){var G=j.x+(N-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if(G<=X&&G>q){if(q=G,G===X){if(N===j.y)return j;if(N===j.next.y)return j.next}F=j.x<j.next.x?j:j.next}}j=j.next}while(j!==P);if(!F)return null;if(X===q)return F;var H,Z=F,$=F.x,se=F.y,ne=1/0;j=F;do{X>=j.x&&j.x>=$&&X!==j.x&&l(N<se?X:q,N,$,se,N<se?q:X,N,j.x,j.y)&&(H=Math.abs(N-j.y)/(X-j.x),m(j,O)&&(H<ne||H===ne&&(j.x>F.x||j.x===F.x&&s(F,j)))&&(F=j,ne=H)),j=j.next}while(j!==Z);return F}(I,k)){var L=b(k,I);D(k,k.next),D(L,L.next)}}function s(I,k){return f(I.prev,I,k.prev)<0&&f(k.next,I,I.next)<0}function a(I,k,L,O,P){return(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-L)*P)|I<<8))|I<<4))|I<<2))|I<<1))|(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k=32767*(k-O)*P)|k<<8))|k<<4))|k<<2))|k<<1))<<1}function o(I){var k=I,L=I;do{(k.x<L.x||k.x===L.x&&k.y<L.y)&&(L=k),k=k.next}while(k!==I);return L}function l(I,k,L,O,P,F,j,X){return(P-j)*(k-X)-(I-j)*(F-X)>=0&&(I-j)*(O-X)-(L-j)*(k-X)>=0&&(L-j)*(F-X)-(P-j)*(O-X)>=0}function c(I,k){return I.next.i!==k.i&&I.prev.i!==k.i&&!function(L,O){var P=L;do{if(P.i!==L.i&&P.next.i!==L.i&&P.i!==O.i&&P.next.i!==O.i&&h(P,P.next,L,O))return!0;P=P.next}while(P!==L);return!1}(I,k)&&(m(I,k)&&m(k,I)&&function(L,O){var P=L,F=!1,j=(L.x+O.x)/2,X=(L.y+O.y)/2;do{P.y>X!=P.next.y>X&&P.next.y!==P.y&&j<(P.next.x-P.x)*(X-P.y)/(P.next.y-P.y)+P.x&&(F=!F),P=P.next}while(P!==L);return F}(I,k)&&(f(I.prev,I,k.prev)||f(I,k.prev,k))||g(I,k)&&f(I.prev,I,I.next)>0&&f(k.prev,k,k.next)>0)}function f(I,k,L){return(k.y-I.y)*(L.x-k.x)-(k.x-I.x)*(L.y-k.y)}function g(I,k){return I.x===k.x&&I.y===k.y}function h(I,k,L,O){var P=x(f(I,k,L)),F=x(f(I,k,O)),j=x(f(L,O,I)),X=x(f(L,O,k));return P!==F&&j!==X||!(0!==P||!T(I,L,k))||!(0!==F||!T(I,O,k))||!(0!==j||!T(L,I,O))||!(0!==X||!T(L,k,O))}function T(I,k,L){return k.x<=Math.max(I.x,L.x)&&k.x>=Math.min(I.x,L.x)&&k.y<=Math.max(I.y,L.y)&&k.y>=Math.min(I.y,L.y)}function x(I){return I>0?1:I<0?-1:0}function m(I,k){return f(I.prev,I,I.next)<0?f(I,k,I.next)>=0&&f(I,I.prev,k)>=0:f(I,k,I.prev)<0||f(I,I.next,k)<0}function b(I,k){var L=new A(I.i,I.x,I.y),O=new A(k.i,k.x,k.y),P=I.next,F=k.prev;return I.next=k,k.prev=I,L.next=P,P.prev=L,O.next=L,L.prev=O,F.next=O,O.prev=F,O}function _(I,k,L,O){var P=new A(I,k,L);return O?(P.next=O.next,P.prev=O,O.next.prev=P,O.next=P):(P.prev=P,P.next=P),P}function w(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function A(I,k,L){this.i=I,this.x=k,this.y=L,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function p(I,k,L,O){for(var P=0,F=k,j=L-O;F<L;F+=O)P+=(I[j]-I[F])*(I[F+1]+I[j+1]),j=F;return P}ae.exports=B,ae.exports.default=B,B.deviation=function(I,k,L,O){var P=k&&k.length,j=Math.abs(p(I,0,P?k[0]*L:I.length,L));if(P)for(var X=0,N=k.length;X<N;X++)j-=Math.abs(p(I,k[X]*L,X<N-1?k[X+1]*L:I.length,L));var H=0;for(X=0;X<O.length;X+=3){var Z=O[X]*L,$=O[X+1]*L,se=O[X+2]*L;H+=Math.abs((I[Z]-I[se])*(I[$+1]-I[Z+1])-(I[Z]-I[$])*(I[se+1]-I[Z+1]))}return 0===j&&0===H?0:Math.abs((H-j)/j)},B.flatten=function(I){for(var k=I[0][0].length,L={vertices:[],holes:[],dimensions:k},O=0,P=0;P<I.length;P++){for(var F=0;F<I[P].length;F++)for(var j=0;j<k;j++)L.vertices.push(I[P][F][j]);P>0&&L.holes.push(O+=I[P-1].length)}return L}},2502:function(ae,B,r){var D=r(68664);ae.exports=function(E,d){var S,M=[],v=[],u=[],i={},s=[];function a(m){u[m]=!1,i.hasOwnProperty(m)&&Object.keys(i[m]).forEach(function(b){delete i[m][b],u[b]&&a(b)})}function o(m){var b,_,w=!1;for(v.push(m),u[m]=!0,b=0;b<s[m].length;b++)(_=s[m][b])===S?(l(S,v),w=!0):u[_]||(w=o(_));if(w)a(m);else for(b=0;b<s[m].length;b++){var A=i[_=s[m][b]];A||(i[_]=A={}),A[_]=!0}return v.pop(),w}function l(m,b){var _=[].concat(b).concat(m);d?d(o):M.push(_)}function c(m){!function(L){for(var O=0;O<E.length;O++)O<L&&(E[O]=[]),E[O]=E[O].filter(function(P){return P>=L})}(m);for(var b,_=D(E).components.filter(function(L){return L.length>1}),w=1/0,A=0;A<_.length;A++)for(var p=0;p<_[A].length;p++)_[A][p]<w&&(w=_[A][p],b=A);var I=_[b];return!!I&&{leastVertex:w,adjList:E.map(function(L,O){return-1===I.indexOf(O)?[]:L.filter(function(P){return-1!==I.indexOf(P)})})}}S=0;for(var f=E.length;S<f;){var g=c(S);if(S=g.leastVertex,s=g.adjList){for(var h=0;h<s.length;h++)for(var T=0;T<s[h].length;T++){var x=s[h][T];u[+x]=!1,i[x]={}}o(S),S+=1}else S=f}return d?void 0:M}},16134:function(ae,B,r){"use strict";var D=r(36672);ae.exports=function(){return D(this).length=0,this}},4892:function(ae,B,r){"use strict";ae.exports=r(64404)()?Array.from:r(49441)},64404:function(ae){"use strict";ae.exports=function(){var B,r,D=Array.from;return"function"==typeof D&&(r=D(B=["raz","dwa"]),Boolean(r&&r!==B&&"dwa"===r[1]))}},49441:function(ae,B,r){"use strict";var D=r(8260).iterator,E=r(73051),d=r(33717),S=r(35976),M=r(78513),v=r(36672),u=r(95296),i=r(87963),s=Array.isArray,a=Function.prototype.call,o={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;ae.exports=function(c){var f,g,h,T,x,m,b,_,w,A,p=arguments[1],I=arguments[2];if(c=Object(v(c)),u(p)&&M(p),this&&this!==Array&&d(this))f=this;else{if(!p){if(E(c))return 1!==(x=c.length)?Array.apply(null,c):((T=new Array(1))[0]=c[0],T);if(s(c)){for(T=new Array(x=c.length),g=0;g<x;++g)T[g]=c[g];return T}}T=[]}if(!s(c))if(void 0!==(w=c[D])){for(b=M(w).call(c),f&&(T=new f),_=b.next(),g=0;!_.done;)A=p?a.call(p,I,_.value,g):_.value,f?(o.value=A,l(T,g,o)):T[g]=A,_=b.next(),++g;x=g}else if(i(c)){for(x=c.length,f&&(T=new f),g=0,h=0;g<x;++g)A=c[g],g+1<x&&(m=A.charCodeAt(0))>=55296&&m<=56319&&(A+=c[++g]),A=p?a.call(p,I,A,h):A,f?(o.value=A,l(T,h,o)):T[h]=A,++h;x=h}if(void 0===x)for(x=S(c.length),f&&(T=new f(x)),g=0;g<x;++g)A=p?a.call(p,I,c[g],g):c[g],f?(o.value=A,l(T,g,o)):T[g]=A;return f&&(o.value=null,T.length=x),T}},73051:function(ae){"use strict";var B=Object.prototype.toString,r=B.call(function(){return arguments}());ae.exports=function(D){return B.call(D)===r}},33717:function(ae){"use strict";var B=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ae.exports=function(D){return"function"==typeof D&&r(B.call(D))}},52345:function(ae){"use strict";ae.exports=function(){}},9953:function(ae,B,r){"use strict";ae.exports=r(90436)()?Math.sign:r(6069)},90436:function(ae){"use strict";ae.exports=function(){var B=Math.sign;return"function"==typeof B&&1===B(10)&&-1===B(-20)}},6069:function(ae){"use strict";ae.exports=function(B){return B=Number(B),isNaN(B)||0===B?B:B>0?1:-1}},56247:function(ae,B,r){"use strict";var D=r(9953),E=Math.abs,d=Math.floor;ae.exports=function(S){return isNaN(S)?0:0!==(S=Number(S))&&isFinite(S)?D(S)*d(E(S)):S}},35976:function(ae,B,r){"use strict";var D=r(56247),E=Math.max;ae.exports=function(d){return E(0,D(d))}},67260:function(ae,B,r){"use strict";var D=r(78513),E=r(36672),d=Function.prototype.bind,S=Function.prototype.call,M=Object.keys,v=Object.prototype.propertyIsEnumerable;ae.exports=function(u,i){return function(s,a){var o,l=arguments[2],c=arguments[3];return s=Object(E(s)),D(a),o=M(s),c&&o.sort("function"==typeof c?d.call(c,s):void 0),"function"!=typeof u&&(u=o[u]),S.call(u,o,function(f,g){return v.call(s,f)?S.call(a,l,s[f],f,s,g):i})}}},95879:function(ae,B,r){"use strict";ae.exports=r(73583)()?Object.assign:r(34205)},73583:function(ae){"use strict";ae.exports=function(){var B,r=Object.assign;return"function"==typeof r&&(r(B={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),B.foo+B.bar+B.trzy==="razdwatrzy")}},34205:function(ae,B,r){"use strict";var D=r(68700),E=r(36672),d=Math.max;ae.exports=function(S,M){var v,u,i,s=d(arguments.length,2);for(S=Object(E(S)),i=function(a){try{S[a]=M[a]}catch(o){v||(v=o)}},u=1;u<s;++u)D(M=arguments[u]).forEach(i);if(void 0!==v)throw v;return S}},19012:function(ae,B,r){"use strict";var D=r(4892),E=r(95879),d=r(36672);ae.exports=function(S){var M=Object(d(S)),v=arguments[1],u=Object(arguments[2]);if(M!==S&&!v)return M;var i={};return v?D(v,function(s){(u.ensure||s in S)&&(i[s]=S[s])}):E(i,S),i}},52818:function(ae,B,r){"use strict";var D,E,d,S,M=Object.create;r(33247)()||(D=r(51882)),ae.exports=D?1!==D.level?M:(E={},d={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){d[v]="__proto__"!==v?S:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(E,d),Object.defineProperty(D,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:E}),function(v,u){return M(null===v?E:v,u)}):M},96437:function(ae,B,r){"use strict";ae.exports=r(67260)("forEach")},99611:function(ae,B,r){"use strict";var D=r(95296),E={function:!0,object:!0};ae.exports=function(d){return D(d)&&E[typeof d]||!1}},95296:function(ae,B,r){"use strict";var D=r(52345)();ae.exports=function(E){return E!==D&&null!==E}},68700:function(ae,B,r){"use strict";ae.exports=r(13895)()?Object.keys:r(25217)},13895:function(ae){"use strict";ae.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(ae,B,r){"use strict";var D=r(95296),E=Object.keys;ae.exports=function(d){return E(D(d)?Object(d):d)}},16906:function(ae,B,r){"use strict";var D=r(78513),E=r(96437),d=Function.prototype.call;ae.exports=function(S,M){var v={},u=arguments[2];return D(M),E(S,function(i,s,a,o){v[s]=d.call(M,u,i,s,a,o)}),v}},21780:function(ae,B,r){"use strict";var D=r(95296),E=Array.prototype.forEach,d=Object.create;ae.exports=function(S){var M=d(null);return E.call(arguments,function(v){D(v)&&function(u,i){var s;for(s in u)i[s]=u[s]}(Object(v),M)}),M}},1496:function(ae,B,r){"use strict";ae.exports=r(33247)()?Object.setPrototypeOf:r(51882)},33247:function(ae){"use strict";var B=Object.create,r=Object.getPrototypeOf,D={};ae.exports=function(){var E=Object.setPrototypeOf;return"function"==typeof E&&r(E((arguments[0]||B)(null),D))===D}},51882:function(ae,B,r){"use strict";var D,E,d,S,M=r(99611),v=r(36672),u=Object.prototype.isPrototypeOf,i=Object.defineProperty,s={configurable:!0,enumerable:!1,writable:!0,value:void 0};D=function(a,o){if(v(a),null===o||M(o))return a;throw new TypeError("Prototype must be null or an object")},ae.exports=(E=function(){var a,o=Object.create(null),l={},c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(c){try{(a=c.set).call(o,l)}catch{}if(Object.getPrototypeOf(o)===l)return{set:a,level:2}}return o.__proto__=l,Object.getPrototypeOf(o)===l?{level:2}:((o={}).__proto__=l,Object.getPrototypeOf(o)===l&&{level:1})}())?(2===E.level?E.set?(S=E.set,d=function(a,o){return S.call(D(a,o),o),a}):d=function(a,o){return D(a,o).__proto__=o,a}:d=function a(o,l){var c;return D(o,l),(c=u.call(a.nullPolyfill,o))&&delete a.nullPolyfill.__proto__,null===l&&(l=a.nullPolyfill),o.__proto__=l,c&&i(a.nullPolyfill,"__proto__",s),o},Object.defineProperty(d,"level",{configurable:!1,enumerable:!1,writable:!1,value:E.level})):null,r(52818)},78513:function(ae){"use strict";ae.exports=function(B){if("function"!=typeof B)throw new TypeError(B+" is not a function");return B}},98976:function(ae,B,r){"use strict";var D=r(99611);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not an Object");return E}},36672:function(ae,B,r){"use strict";var D=r(95296);ae.exports=function(E){if(!D(E))throw new TypeError("Cannot use null or undefined");return E}},66741:function(ae,B,r){"use strict";ae.exports=r(17557)()?String.prototype.contains:r(60381)},17557:function(ae){"use strict";var B="razdwatrzy";ae.exports=function(){return"function"==typeof B.contains&&!0===B.contains("dwa")&&!1===B.contains("foo")}},60381:function(ae){"use strict";var B=String.prototype.indexOf;ae.exports=function(r){return B.call(this,r,arguments[1])>-1}},87963:function(ae){"use strict";var B=Object.prototype.toString,r=B.call("");ae.exports=function(D){return"string"==typeof D||D&&"object"==typeof D&&(D instanceof String||B.call(D)===r)||!1}},43043:function(ae){"use strict";var B=Object.create(null),r=Math.random;ae.exports=function(){var D;do{D=r().toString(36).slice(2)}while(B[D]);return D}},32411:function(ae,B,r){"use strict";var D,E=r(1496),d=r(66741),S=r(62072),M=r(8260),v=r(95426),u=Object.defineProperty;D=ae.exports=function(i,s){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");v.call(this,i),s=s?d.call(s,"key+value")?"key+value":d.call(s,"key")?"key":"value":"value",u(this,"__kind__",S("",s))},E&&E(D,v),delete D.prototype.constructor,D.prototype=Object.create(v.prototype,{_resolve:S(function(i){return"value"===this.__kind__?this.__list__[i]:"key+value"===this.__kind__?[i,this.__list__[i]]:i})}),u(D.prototype,M.toStringTag,S("c","Array Iterator"))},27515:function(ae,B,r){"use strict";var D=r(73051),E=r(78513),d=r(87963),S=r(66661),M=Array.isArray,v=Function.prototype.call,u=Array.prototype.some;ae.exports=function(i,s){var a,o,l,c,f,g,h,T,x=arguments[2];if(M(i)||D(i)?a="array":d(i)?a="string":i=S(i),E(s),l=function(){c=!0},"array"!==a)if("string"!==a)for(o=i.next();!o.done;){if(v.call(s,x,o.value,l),c)return;o=i.next()}else for(g=i.length,f=0;f<g&&(h=i[f],f+1<g&&(T=h.charCodeAt(0))>=55296&&T<=56319&&(h+=i[++f]),v.call(s,x,h,l),!c);++f);else u.call(i,function(m){return v.call(s,x,m,l),c})}},66661:function(ae,B,r){"use strict";var D=r(73051),E=r(87963),d=r(32411),S=r(259),M=r(58095),v=r(8260).iterator;ae.exports=function(u){return"function"==typeof M(u)[v]?u[v]():D(u)?new d(u):E(u)?new S(u):new d(u)}},95426:function(ae,B,r){"use strict";var D,E=r(16134),d=r(95879),S=r(78513),M=r(36672),v=r(62072),u=r(55174),i=r(8260),s=Object.defineProperty,a=Object.defineProperties;ae.exports=D=function(o,l){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");a(this,{__list__:v("w",M(o)),__context__:v("w",l),__nextIndex__:v("w",0)}),l&&(S(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete D.prototype.constructor,a(D.prototype,d({_next:v(function(){var o;if(this.__list__)return this.__redo__&&void 0!==(o=this.__redo__.shift())?o:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:v(function(){return this._createResult(this._next())}),_createResult:v(function(o){return void 0===o?{done:!0,value:void 0}:{done:!1,value:this._resolve(o)}}),_resolve:v(function(o){return this.__list__[o]}),_unBind:v(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:v(function(){return"[object "+(this[i.toStringTag]||"Object")+"]"})},u({_onAdd:v(function(o){o>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,c){l>=o&&(this.__redo__[c]=++l)},this),this.__redo__.push(o)):s(this,"__redo__",v("c",[o])))}),_onDelete:v(function(o){var l;o>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(l=this.__redo__.indexOf(o))&&this.__redo__.splice(l,1),this.__redo__.forEach(function(c,f){c>o&&(this.__redo__[f]=--c)},this)))}),_onClear:v(function(){this.__redo__&&E.call(this.__redo__),this.__nextIndex__=0})}))),s(D.prototype,i.iterator,v(function(){return this}))},35940:function(ae,B,r){"use strict";var D=r(73051),E=r(95296),d=r(87963),S=r(8260).iterator,M=Array.isArray;ae.exports=function(v){return!(!E(v)||!M(v)&&!d(v)&&!D(v)&&"function"!=typeof v[S])}},259:function(ae,B,r){"use strict";var D,E=r(1496),d=r(62072),S=r(8260),M=r(95426),v=Object.defineProperty;D=ae.exports=function(u){if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");u=String(u),M.call(this,u),v(this,"__length__",d("",u.length))},E&&E(D,M),delete D.prototype.constructor,D.prototype=Object.create(M.prototype,{_next:d(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:d(function(u){var i,s=this.__list__[u];return this.__nextIndex__===this.__length__?s:(i=s.charCodeAt(0))>=55296&&i<=56319?s+this.__list__[this.__nextIndex__++]:s})}),v(D.prototype,S.toStringTag,d("c","String Iterator"))},58095:function(ae,B,r){"use strict";var D=r(35940);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not iterable");return E}},73523:function(ae){"use strict";function B(r,D){if(null==r)throw new TypeError("Cannot convert first argument to object");for(var E=Object(r),d=1;d<arguments.length;d++){var S=arguments[d];if(null!=S)for(var M=Object.keys(Object(S)),v=0,u=M.length;v<u;v++){var i=M[v],s=Object.getOwnPropertyDescriptor(S,i);void 0!==s&&s.enumerable&&(E[i]=S[i])}}return E}ae.exports={assign:B,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:B})}}},8260:function(ae,B,r){"use strict";ae.exports=r(69711)()?r(94908).Symbol:r(18415)},69711:function(ae,B,r){"use strict";var D=r(94908),E={object:!0,symbol:!0};ae.exports=function(){var d,S=D.Symbol;if("function"!=typeof S)return!1;d=S("test symbol");try{String(d)}catch{return!1}return!!E[typeof S.iterator]&&!!E[typeof S.toPrimitive]&&!!E[typeof S.toStringTag]}},82276:function(ae){"use strict";ae.exports=function(B){return!!B&&("symbol"==typeof B||!!B.constructor&&"Symbol"===B.constructor.name&&"Symbol"===B[B.constructor.toStringTag])}},29366:function(ae,B,r){"use strict";var D=r(62072),d=Object.defineProperty,S=Object.prototype,M=(0,Object.create)(null);ae.exports=function(v){for(var u,i,s=0;M[v+(s||"")];)++s;return M[v+=s||""]=!0,d(S,u="@@"+v,D.gs(null,function(a){i||(i=!0,d(this,u,D(a)),i=!1)})),u}},92842:function(ae,B,r){"use strict";var D=r(62072),E=r(94908).Symbol;ae.exports=function(d){return Object.defineProperties(d,{hasInstance:D("",E&&E.hasInstance||d("hasInstance")),isConcatSpreadable:D("",E&&E.isConcatSpreadable||d("isConcatSpreadable")),iterator:D("",E&&E.iterator||d("iterator")),match:D("",E&&E.match||d("match")),replace:D("",E&&E.replace||d("replace")),search:D("",E&&E.search||d("search")),species:D("",E&&E.species||d("species")),split:D("",E&&E.split||d("split")),toPrimitive:D("",E&&E.toPrimitive||d("toPrimitive")),toStringTag:D("",E&&E.toStringTag||d("toStringTag")),unscopables:D("",E&&E.unscopables||d("unscopables"))})}},13304:function(ae,B,r){"use strict";var D=r(62072),E=r(53308),d=Object.create(null);ae.exports=function(S){return Object.defineProperties(S,{for:D(function(M){return d[M]?d[M]:d[M]=S(String(M))}),keyFor:D(function(M){var v;for(v in E(M),d)if(d[v]===M)return v})})}},18415:function(ae,B,r){"use strict";var D,E,d,S=r(62072),M=r(53308),v=r(94908).Symbol,u=r(29366),i=r(92842),s=r(13304),a=Object.create,o=Object.defineProperties,l=Object.defineProperty;if("function"==typeof v)try{String(v()),d=!0}catch{}else v=null;E=function(c){if(this instanceof E)throw new TypeError("Symbol is not a constructor");return D(c)},ae.exports=D=function c(f){var g;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return d?v(f):(g=a(E.prototype),f=void 0===f?"":String(f),o(g,{__description__:S("",f),__name__:S("",u(f))}))},i(D),s(D),o(E.prototype,{constructor:S(D),toString:S("",function(){return this.__name__})}),o(D.prototype,{toString:S(function(){return"Symbol ("+M(this).__description__+")"}),valueOf:S(function(){return M(this)})}),l(D.prototype,D.toPrimitive,S("",function(){var c=M(this);return"symbol"==typeof c?c:c.toString()})),l(D.prototype,D.toStringTag,S("c","Symbol")),l(E.prototype,D.toStringTag,S("c",D.prototype[D.toStringTag])),l(E.prototype,D.toPrimitive,S("c",D.prototype[D.toPrimitive]))},53308:function(ae,B,r){"use strict";var D=r(82276);ae.exports=function(E){if(!D(E))throw new TypeError(E+" is not a symbol");return E}},83522:function(ae,B,r){"use strict";ae.exports=r(96402)()?WeakMap:r(329)},96402:function(ae){"use strict";ae.exports=function(){var B,r;if("function"!=typeof WeakMap)return!1;try{B=new WeakMap([[r={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return"[object WeakMap]"===String(B)&&"function"==typeof B.set&&B.set({},1)===B&&"function"==typeof B.delete&&"function"==typeof B.has&&"one"===B.get(r)}},96416:function(ae){"use strict";ae.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},329:function(ae,B,r){"use strict";var D,E=r(95296),d=r(1496),S=r(98976),M=r(36672),v=r(43043),u=r(62072),i=r(66661),s=r(27515),a=r(8260).toStringTag,o=r(96416),l=Array.isArray,c=Object.defineProperty,f=Object.prototype.hasOwnProperty,g=Object.getPrototypeOf;ae.exports=D=function(){var h,T=arguments[0];if(!(this instanceof D))throw new TypeError("Constructor requires 'new'");return h=o&&d&&WeakMap!==D?d(new WeakMap,g(this)):this,E(T)&&(l(T)||(T=i(T))),c(h,"__weakMapData__",u("c","$weakMap$"+v())),T&&s(T,function(x){M(x),h.set(x[0],x[1])}),h},o&&(d&&d(D,WeakMap),D.prototype=Object.create(WeakMap.prototype,{constructor:u(D)})),Object.defineProperties(D.prototype,{delete:u(function(h){return!!f.call(S(h),this.__weakMapData__)&&(delete h[this.__weakMapData__],!0)}),get:u(function(h){if(f.call(S(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:u(function(h){return f.call(S(h),this.__weakMapData__)}),set:u(function(h,T){return c(S(h),this.__weakMapData__,u("c",T)),this}),toString:u(function(){return"[object WeakMap]"})}),c(D.prototype,a,u("c","WeakMap"))},15398:function(ae){"use strict";var B,r="object"==typeof Reflect?Reflect:null,D=r&&"function"==typeof r.apply?r.apply:function(f,g,h){return Function.prototype.apply.call(f,g,h)};B=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(f){return Object.getOwnPropertyNames(f).concat(Object.getOwnPropertySymbols(f))}:function(f){return Object.getOwnPropertyNames(f)};var E=Number.isNaN||function(f){return f!=f};function d(){d.init.call(this)}ae.exports=d,ae.exports.once=function(f,g){return new Promise(function(h,T){function x(b){f.removeListener(g,m),T(b)}function m(){"function"==typeof f.removeListener&&f.removeListener("error",x),h([].slice.call(arguments))}var b;c(f,g,m,{once:!0}),"error"!==g&&("function"==typeof(b=f).on&&c(b,"error",x,{once:!0}))})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var S=10;function M(f){if("function"!=typeof f)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f)}function v(f){return void 0===f._maxListeners?d.defaultMaxListeners:f._maxListeners}function u(f,g,h,T){var x,m,b;if(M(h),void 0===(m=f._events)?(m=f._events=Object.create(null),f._eventsCount=0):(void 0!==m.newListener&&(f.emit("newListener",g,h.listener?h.listener:h),m=f._events),b=m[g]),void 0===b)b=m[g]=h,++f._eventsCount;else if("function"==typeof b?b=m[g]=T?[h,b]:[b,h]:T?b.unshift(h):b.push(h),(x=v(f))>0&&b.length>x&&!b.warned){b.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+b.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=f,w.type=g,w.count=b.length,console&&console.warn&&console.warn(w)}return f}function i(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(f,g,h){var T={fired:!1,wrapFn:void 0,target:f,type:g,listener:h},x=i.bind(T);return x.listener=h,T.wrapFn=x,x}function a(f,g,h){var T=f._events;if(void 0===T)return[];var x=T[g];return void 0===x?[]:"function"==typeof x?h?[x.listener||x]:[x]:h?function(m){for(var b=new Array(m.length),_=0;_<b.length;++_)b[_]=m[_].listener||m[_];return b}(x):l(x,x.length)}function o(f){var g=this._events;if(void 0!==g){var h=g[f];if("function"==typeof h)return 1;if(void 0!==h)return h.length}return 0}function l(f,g){for(var h=new Array(g),T=0;T<g;++T)h[T]=f[T];return h}function c(f,g,h,T){if("function"==typeof f.on)T.once?f.once(g,h):f.on(g,h);else{if("function"!=typeof f.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof f);f.addEventListener(g,function x(m){T.once&&f.removeEventListener(g,x),h(m)})}}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(f){if("number"!=typeof f||f<0||E(f))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+f+".");S=f}}),d.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(f){if("number"!=typeof f||f<0||E(f))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+f+".");return this._maxListeners=f,this},d.prototype.getMaxListeners=function(){return v(this)},d.prototype.emit=function(f){for(var g=[],h=1;h<arguments.length;h++)g.push(arguments[h]);var T="error"===f,x=this._events;if(void 0!==x)T=T&&void 0===x.error;else if(!T)return!1;if(T){var m;if(g.length>0&&(m=g[0]),m instanceof Error)throw m;var b=new Error("Unhandled error."+(m?" ("+m.message+")":""));throw b.context=m,b}var _=x[f];if(void 0===_)return!1;if("function"==typeof _)D(_,this,g);else{var w=_.length,A=l(_,w);for(h=0;h<w;++h)D(A[h],this,g)}return!0},d.prototype.on=d.prototype.addListener=function(f,g){return u(this,f,g,!1)},d.prototype.prependListener=function(f,g){return u(this,f,g,!0)},d.prototype.once=function(f,g){return M(g),this.on(f,s(this,f,g)),this},d.prototype.prependOnceListener=function(f,g){return M(g),this.prependListener(f,s(this,f,g)),this},d.prototype.off=d.prototype.removeListener=function(f,g){var h,T,x,m,b;if(M(g),void 0===(T=this._events))return this;if(void 0===(h=T[f]))return this;if(h===g||h.listener===g)0==--this._eventsCount?this._events=Object.create(null):(delete T[f],T.removeListener&&this.emit("removeListener",f,h.listener||g));else if("function"!=typeof h){for(x=-1,m=h.length-1;m>=0;m--)if(h[m]===g||h[m].listener===g){b=h[m].listener,x=m;break}if(x<0)return this;0===x?h.shift():function(_,w){for(;w+1<_.length;w++)_[w]=_[w+1];_.pop()}(h,x),1===h.length&&(T[f]=h[0]),void 0!==T.removeListener&&this.emit("removeListener",f,b||g)}return this},d.prototype.removeAllListeners=function(f){var g,h,T;if(void 0===(h=this._events))return this;if(void 0===h.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==h[f]&&(0==--this._eventsCount?this._events=Object.create(null):delete h[f]),this;if(0===arguments.length){var x,m=Object.keys(h);for(T=0;T<m.length;++T)"removeListener"!==(x=m[T])&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(g=h[f]))this.removeListener(f,g);else if(void 0!==g)for(T=g.length-1;T>=0;T--)this.removeListener(f,g[T]);return this},d.prototype.listeners=function(f){return a(this,f,!0)},d.prototype.rawListeners=function(f){return a(this,f,!1)},d.listenerCount=function(f,g){return"function"==typeof f.listenerCount?f.listenerCount(g):o.call(f,g)},d.prototype.listenerCount=o,d.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},60774:function(ae){var B=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};ae.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return B()}try{return __global__||B()}finally{delete Object.prototype.__global__}}()},94908:function(ae,B,r){"use strict";ae.exports=r(51152)()?globalThis:r(60774)},51152:function(ae){"use strict";ae.exports=function(){return"object"==typeof globalThis&&!!globalThis&&globalThis.Array===Array}},92770:function(ae,B,r){"use strict";var D=r(18546);ae.exports=function(E){var d=typeof E;if("string"===d){var S=E;if(0==(E=+E)&&D(S))return!1}else if("number"!==d)return!1;return E-E<1}},30120:function(ae,B,r){var D=r(90660);ae.exports=function(E,d,S){if(!E)throw new TypeError("must specify data as first parameter");if(S=0|+(S||0),Array.isArray(E)&&E[0]&&"number"==typeof E[0][0]){var M,v,u,i,s=E[0].length,a=E.length*s;d&&"string"!=typeof d||(d=new(D(d||"float32"))(a+S));var o=d.length-S;if(a!==o)throw new Error("source length "+a+" ("+s+"x"+E.length+") does not match destination length "+o);for(M=0,u=S;M<E.length;M++)for(v=0;v<s;v++)d[u++]=null===E[M][v]?NaN:E[M][v]}else if(d&&"string"!=typeof d)d.set(E,S);else{var l=D(d||"float32");if(Array.isArray(E)||"array"===d)for(M=0,u=S,i=(d=new l(E.length+S)).length;u<i;u++,M++)d[u]=null===E[M]?NaN:E[M];else 0===S?d=new l(E):(d=new l(E.length+S)).set(E,S)}return d}},68016:function(ae,B,r){"use strict";var D=r(53313),E=[32,126];ae.exports=function(d){var S=(d=d||{}).shape?d.shape:d.canvas?[d.canvas.width,d.canvas.height]:[512,512],M=d.canvas||document.createElement("canvas"),v=d.font,u="number"==typeof d.step?[d.step,d.step]:d.step||[32,32],i=d.chars||E;if(v&&"string"!=typeof v&&(v=D(v)),Array.isArray(i)){if(2===i.length&&"number"==typeof i[0]&&"number"==typeof i[1]){for(var s=[],a=i[0],o=0;a<=i[1];a++)s[o++]=String.fromCharCode(a);i=s}}else i=String(i).split("");S=S.slice(),M.width=S[0],M.height=S[1];var l=M.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,M.width,M.height),l.font=v,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var c=u[0]/2,f=u[1]/2;for(a=0;a<i.length;a++)l.fillText(i[a],c,f),(c+=u[0])>S[0]-u[0]/2&&(c=u[0]/2,f+=u[1]);return M}},32879:function(ae){"use strict";function B(d,S){S||(S={}),("string"==typeof d||Array.isArray(d))&&(S.family=d);var M=Array.isArray(S.family)?S.family.join(", "):S.family;if(!M)throw Error("`family` must be defined");var v=S.size||S.fontSize||S.em||48,i=(d=[S.style||S.fontStyle||"",S.weight||S.fontWeight||"",v].join(" ")+"px "+M,S.origin||"top");if(B.cache[M]&&v<=B.cache[M].em)return r(B.cache[M],i);var s=S.canvas||B.canvas,a=s.getContext("2d"),o={upper:void 0!==S.upper?S.upper:"H",lower:void 0!==S.lower?S.lower:"x",descent:void 0!==S.descent?S.descent:"p",ascent:void 0!==S.ascent?S.ascent:"h",tittle:void 0!==S.tittle?S.tittle:"i",overshoot:void 0!==S.overshoot?S.overshoot:"O"},l=Math.ceil(1.5*v);s.height=l,s.width=.5*l,a.font=d;var c="H",f={top:0};a.clearRect(0,0,l,l),a.textBaseline="top",a.fillStyle="black",a.fillText(c,0,0);var g=D(a.getImageData(0,0,l,l));a.clearRect(0,0,l,l),a.textBaseline="bottom",a.fillText(c,0,l);var h=D(a.getImageData(0,0,l,l));f.lineHeight=f.bottom=l-h+g,a.clearRect(0,0,l,l),a.textBaseline="alphabetic",a.fillText(c,0,l);var T=l-D(a.getImageData(0,0,l,l))-1+g;f.baseline=f.alphabetic=T,a.clearRect(0,0,l,l),a.textBaseline="middle",a.fillText(c,0,.5*l);var x=D(a.getImageData(0,0,l,l));f.median=f.middle=l-x-1+g-.5*l,a.clearRect(0,0,l,l),a.textBaseline="hanging",a.fillText(c,0,.5*l);var m=D(a.getImageData(0,0,l,l));f.hanging=l-m-1+g-.5*l,a.clearRect(0,0,l,l),a.textBaseline="ideographic",a.fillText(c,0,l);var b=D(a.getImageData(0,0,l,l));if(f.ideographic=l-b-1+g,o.upper&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.upper,0,0),f.upper=D(a.getImageData(0,0,l,l)),f.capHeight=f.baseline-f.upper),o.lower&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.lower,0,0),f.lower=D(a.getImageData(0,0,l,l)),f.xHeight=f.baseline-f.lower),o.tittle&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.tittle,0,0),f.tittle=D(a.getImageData(0,0,l,l))),o.ascent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.ascent,0,0),f.ascent=D(a.getImageData(0,0,l,l))),o.descent&&(a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.descent,0,0),f.descent=E(a.getImageData(0,0,l,l))),o.overshoot){a.clearRect(0,0,l,l),a.textBaseline="top",a.fillText(o.overshoot,0,0);var _=E(a.getImageData(0,0,l,l));f.overshoot=_-T}for(var w in f)f[w]/=v;return f.em=v,B.cache[M]=f,r(f,i)}function r(d,S){var M={};for(var v in"string"==typeof S&&(S=d[S]),d)"em"!==v&&(M[v]=d[v]-S);return M}function D(d){for(var S=d.height,M=d.data,v=3;v<M.length;v+=4)if(0!==M[v])return Math.floor(.25*(v-3)/S)}function E(d){for(var S=d.height,M=d.data,v=M.length-1;v>0;v-=4)if(0!==M[v])return Math.floor(.25*(v-3)/S)}ae.exports=B,B.canvas=document.createElement("canvas"),B.cache={}},31353:function(ae,B,r){"use strict";var D=r(85395),E=Object.prototype.toString,d=Object.prototype.hasOwnProperty;ae.exports=function(S,M,v){if(!D(M))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=v),"[object Array]"===E.call(S)?function(i,s,a){for(var o=0,l=i.length;o<l;o++)d.call(i,o)&&(null==a?s(i[o],o,i):s.call(a,i[o],o,i))}(S,M,u):"string"==typeof S?function(i,s,a){for(var o=0,l=i.length;o<l;o++)null==a?s(i.charAt(o),o,i):s.call(a,i.charAt(o),o,i)}(S,M,u):function(i,s,a){for(var o in i)d.call(i,o)&&(null==a?s(i[o],o,i):s.call(a,i[o],o,i))}(S,M,u)}},73047:function(ae){"use strict";var B=Array.prototype.slice,r=Object.prototype.toString;ae.exports=function(D){var E=this;if("function"!=typeof E||"[object Function]"!==r.call(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var d,S=B.call(arguments,1),M=Math.max(0,E.length-S.length),v=[],u=0;u<M;u++)v.push("$"+u);if(d=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof d){var s=E.apply(this,S.concat(B.call(arguments)));return Object(s)===s?s:this}return E.apply(D,S.concat(B.call(arguments)))}),E.prototype){var i=function(){};i.prototype=E.prototype,d.prototype=new i,i.prototype=null}return d}},77575:function(ae,B,r){"use strict";var D=r(73047);ae.exports=Function.prototype.bind||D},86249:function(ae){ae.exports=function(B,r){if("string"!=typeof B)throw new TypeError("must specify type string");if(r=r||{},typeof document>"u"&&!r.canvas)return null;var D=r.canvas||document.createElement("canvas");"number"==typeof r.width&&(D.width=r.width),"number"==typeof r.height&&(D.height=r.height);var E,d=r;try{var S=[B];0===B.indexOf("webgl")&&S.push("experimental-"+B);for(var M=0;M<S.length;M++)if(E=D.getContext(S[M],d))return E}catch{E=null}return E||null}},68318:function(ae,B,r){"use strict";var D,E=SyntaxError,d=Function,S=TypeError,M=function(L){try{return d('"use strict"; return ('+L+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var u=function(){throw new S},i=v?function(){try{return u}catch{try{return v(arguments,"callee").get}catch{return u}}}():u,s=r(57877)(),a=Object.getPrototypeOf||function(L){return L.__proto__},o={},l=typeof Uint8Array>"u"?D:a(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?D:ArrayBuffer,"%ArrayIteratorPrototype%":s?a([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":o,"%AsyncIteratorPrototype%":o,"%Atomics%":typeof Atomics>"u"?D:Atomics,"%BigInt%":typeof BigInt>"u"?D:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?D:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?D:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?D:Float32Array,"%Float64Array%":typeof Float64Array>"u"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?D:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":o,"%Int8Array%":typeof Int8Array>"u"?D:Int8Array,"%Int16Array%":typeof Int16Array>"u"?D:Int16Array,"%Int32Array%":typeof Int32Array>"u"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?a(a([][Symbol.iterator]())):D,"%JSON%":"object"==typeof JSON?JSON:D,"%Map%":typeof Map>"u"?D:Map,"%MapIteratorPrototype%":typeof Map<"u"&&s?a((new Map)[Symbol.iterator]()):D,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?D:Promise,"%Proxy%":typeof Proxy>"u"?D:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?D:Set,"%SetIteratorPrototype%":typeof Set<"u"&&s?a((new Set)[Symbol.iterator]()):D,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":s?a(""[Symbol.iterator]()):D,"%Symbol%":s?Symbol:D,"%SyntaxError%":E,"%ThrowTypeError%":i,"%TypedArray%":l,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array>"u"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?D:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?D:WeakMap,"%WeakRef%":typeof WeakRef>"u"?D:WeakRef,"%WeakSet%":typeof WeakSet>"u"?D:WeakSet};try{null.error}catch(L){var f=a(a(L));c["%Error.prototype%"]=f}var g=function L(O){var P;if("%AsyncFunction%"===O)P=M("async function () {}");else if("%GeneratorFunction%"===O)P=M("function* () {}");else if("%AsyncGeneratorFunction%"===O)P=M("async function* () {}");else if("%AsyncGenerator%"===O){var F=L("%AsyncGeneratorFunction%");F&&(P=F.prototype)}else if("%AsyncIteratorPrototype%"===O){var j=L("%AsyncGenerator%");j&&(P=a(j.prototype))}return c[O]=P,P},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(77575),x=r(35065),m=T.call(Function.call,Array.prototype.concat),b=T.call(Function.apply,Array.prototype.splice),_=T.call(Function.call,String.prototype.replace),w=T.call(Function.call,String.prototype.slice),A=T.call(Function.call,RegExp.prototype.exec),p=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,k=function(L,O){var P,F=L;if(x(h,F)&&(F="%"+(P=h[F])[0]+"%"),x(c,F)){var j=c[F];if(j===o&&(j=g(F)),void 0===j&&!O)throw new S("intrinsic "+L+" exists, but is not available. Please file an issue!");return{alias:P,name:F,value:j}}throw new E("intrinsic "+L+" does not exist!")};ae.exports=function(L,O){if("string"!=typeof L||0===L.length)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof O)throw new S('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,L))throw new E("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var P=function(Q){var ee=w(Q,0,1),oe=w(Q,-1);if("%"===ee&&"%"!==oe)throw new E("invalid intrinsic syntax, expected closing `%`");if("%"===oe&&"%"!==ee)throw new E("invalid intrinsic syntax, expected opening `%`");var ce=[];return _(Q,p,function(ue,he,ve,ke){ce[ce.length]=ve?_(ke,I,"$1"):he||ue}),ce}(L),F=P.length>0?P[0]:"",j=k("%"+F+"%",O),X=j.name,N=j.value,q=!1,G=j.alias;G&&(F=G[0],b(P,m([0,1],G)));for(var H=1,Z=!0;H<P.length;H+=1){var $=P[H],se=w($,0,1),ne=w($,-1);if(('"'===se||"'"===se||"`"===se||'"'===ne||"'"===ne||"`"===ne)&&se!==ne)throw new E("property names with quotes must have matching quotes");if("constructor"!==$&&Z||(q=!0),x(c,X="%"+(F+="."+$)+"%"))N=c[X];else if(null!=N){if(!($ in N)){if(!O)throw new S("base intrinsic for "+L+" exists, but the property is not available.");return}if(v&&H+1>=P.length){var re=v(N,$);N=(Z=!!re)&&"get"in re&&!("originalValue"in re.get)?re.get:N[$]}else Z=x(N,$),N=N[$];Z&&!q&&(c[X]=N)}}return N}},85400:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],d=r[2],S=r[3],M=r[4],v=r[5],u=r[6],i=r[7],s=r[8],a=r[9],o=r[10],l=r[11],c=r[12],f=r[13],g=r[14],h=r[15];return B[0]=v*(o*h-l*g)-a*(u*h-i*g)+f*(u*l-i*o),B[1]=-(E*(o*h-l*g)-a*(d*h-S*g)+f*(d*l-S*o)),B[2]=E*(u*h-i*g)-v*(d*h-S*g)+f*(d*i-S*u),B[3]=-(E*(u*l-i*o)-v*(d*l-S*o)+a*(d*i-S*u)),B[4]=-(M*(o*h-l*g)-s*(u*h-i*g)+c*(u*l-i*o)),B[5]=D*(o*h-l*g)-s*(d*h-S*g)+c*(d*l-S*o),B[6]=-(D*(u*h-i*g)-M*(d*h-S*g)+c*(d*i-S*u)),B[7]=D*(u*l-i*o)-M*(d*l-S*o)+s*(d*i-S*u),B[8]=M*(a*h-l*f)-s*(v*h-i*f)+c*(v*l-i*a),B[9]=-(D*(a*h-l*f)-s*(E*h-S*f)+c*(E*l-S*a)),B[10]=D*(v*h-i*f)-M*(E*h-S*f)+c*(E*i-S*v),B[11]=-(D*(v*l-i*a)-M*(E*l-S*a)+s*(E*i-S*v)),B[12]=-(M*(a*g-o*f)-s*(v*g-u*f)+c*(v*o-u*a)),B[13]=D*(a*g-o*f)-s*(E*g-d*f)+c*(E*o-d*a),B[14]=-(D*(v*g-u*f)-M*(E*g-d*f)+c*(E*u-d*v)),B[15]=D*(v*o-u*a)-M*(E*o-d*a)+s*(E*u-d*v),B}},42331:function(ae){ae.exports=function(B){var r=new Float32Array(16);return r[0]=B[0],r[1]=B[1],r[2]=B[2],r[3]=B[3],r[4]=B[4],r[5]=B[5],r[6]=B[6],r[7]=B[7],r[8]=B[8],r[9]=B[9],r[10]=B[10],r[11]=B[11],r[12]=B[12],r[13]=B[13],r[14]=B[14],r[15]=B[15],r}},31042:function(ae){ae.exports=function(B,r){return B[0]=r[0],B[1]=r[1],B[2]=r[2],B[3]=r[3],B[4]=r[4],B[5]=r[5],B[6]=r[6],B[7]=r[7],B[8]=r[8],B[9]=r[9],B[10]=r[10],B[11]=r[11],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15],B}},11902:function(ae){ae.exports=function(){var B=new Float32Array(16);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},89887:function(ae){ae.exports=function(B){var r=B[0],D=B[1],E=B[2],d=B[3],S=B[4],M=B[5],v=B[6],u=B[7],i=B[8],s=B[9],a=B[10],o=B[11],l=B[12],c=B[13],f=B[14],g=B[15];return(r*M-D*S)*(a*g-o*f)-(r*v-E*S)*(s*g-o*c)+(r*u-d*S)*(s*f-a*c)+(D*v-E*M)*(i*g-o*l)-(D*u-d*M)*(i*f-a*l)+(E*u-d*v)*(i*c-s*l)}},27812:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],d=r[2],S=r[3],M=D+D,v=E+E,u=d+d,i=D*M,s=E*M,a=E*v,o=d*M,l=d*v,c=d*u,f=S*M,g=S*v,h=S*u;return B[0]=1-a-c,B[1]=s+h,B[2]=o-g,B[3]=0,B[4]=s-h,B[5]=1-i-c,B[6]=l+f,B[7]=0,B[8]=o+g,B[9]=l-f,B[10]=1-i-a,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},34045:function(ae){ae.exports=function(B,r,D){var E,d,S,M=D[0],v=D[1],u=D[2],i=Math.sqrt(M*M+v*v+u*u);return Math.abs(i)<1e-6?null:(M*=i=1/i,v*=i,u*=i,E=Math.sin(r),S=1-(d=Math.cos(r)),B[0]=M*M*S+d,B[1]=v*M*S+u*E,B[2]=u*M*S-v*E,B[3]=0,B[4]=M*v*S-u*E,B[5]=v*v*S+d,B[6]=u*v*S+M*E,B[7]=0,B[8]=M*u*S+v*E,B[9]=v*u*S-M*E,B[10]=u*u*S+d,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B)}},45973:function(ae){ae.exports=function(B,r,D){var E=r[0],d=r[1],S=r[2],M=r[3],v=E+E,u=d+d,i=S+S,s=E*v,a=E*u,o=E*i,l=d*u,c=d*i,f=S*i,g=M*v,h=M*u,T=M*i;return B[0]=1-(l+f),B[1]=a+T,B[2]=o-h,B[3]=0,B[4]=a-T,B[5]=1-(s+f),B[6]=c+g,B[7]=0,B[8]=o+h,B[9]=c-g,B[10]=1-(s+l),B[11]=0,B[12]=D[0],B[13]=D[1],B[14]=D[2],B[15]=1,B}},81472:function(ae){ae.exports=function(B,r){return B[0]=r[0],B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=r[1],B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=r[2],B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},14669:function(ae){ae.exports=function(B,r){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=r[0],B[13]=r[1],B[14]=r[2],B[15]=1,B}},75262:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=E,B[6]=D,B[7]=0,B[8]=0,B[9]=-D,B[10]=E,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},331:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=E,B[1]=0,B[2]=-D,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=D,B[9]=0,B[10]=E,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},11049:function(ae){ae.exports=function(B,r){var D=Math.sin(r),E=Math.cos(r);return B[0]=E,B[1]=D,B[2]=0,B[3]=0,B[4]=-D,B[5]=E,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},75195:function(ae){ae.exports=function(B,r,D,E,d,S,M){var v=1/(D-r),u=1/(d-E),i=1/(S-M);return B[0]=2*S*v,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=2*S*u,B[6]=0,B[7]=0,B[8]=(D+r)*v,B[9]=(d+E)*u,B[10]=(M+S)*i,B[11]=-1,B[12]=0,B[13]=0,B[14]=M*S*2*i,B[15]=0,B}},71551:function(ae){ae.exports=function(B){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=1,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=1,B[11]=0,B[12]=0,B[13]=0,B[14]=0,B[15]=1,B}},79576:function(ae,B,r){ae.exports={create:r(11902),clone:r(42331),copy:r(31042),identity:r(71551),transpose:r(88654),invert:r(95874),adjoint:r(85400),determinant:r(89887),multiply:r(91362),translate:r(31283),scale:r(10789),rotate:r(65074),rotateX:r(35545),rotateY:r(94918),rotateZ:r(15692),fromRotation:r(34045),fromRotationTranslation:r(45973),fromScaling:r(81472),fromTranslation:r(14669),fromXRotation:r(75262),fromYRotation:r(331),fromZRotation:r(11049),fromQuat:r(27812),frustum:r(75195),perspective:r(7864),perspectiveFromFieldOfView:r(35279),ortho:r(60378),lookAt:r(65551),str:r(6726)}},95874:function(ae){ae.exports=function(B,r){var D=r[0],E=r[1],d=r[2],S=r[3],M=r[4],v=r[5],u=r[6],i=r[7],s=r[8],a=r[9],o=r[10],l=r[11],c=r[12],f=r[13],g=r[14],h=r[15],T=D*v-E*M,x=D*u-d*M,m=D*i-S*M,b=E*u-d*v,_=E*i-S*v,w=d*i-S*u,A=s*f-a*c,p=s*g-o*c,I=s*h-l*c,k=a*g-o*f,L=a*h-l*f,O=o*h-l*g,P=T*O-x*L+m*k+b*I-_*p+w*A;return P?(B[0]=(v*O-u*L+i*k)*(P=1/P),B[1]=(d*L-E*O-S*k)*P,B[2]=(f*w-g*_+h*b)*P,B[3]=(o*_-a*w-l*b)*P,B[4]=(u*I-M*O-i*p)*P,B[5]=(D*O-d*I+S*p)*P,B[6]=(g*m-c*w-h*x)*P,B[7]=(s*w-o*m+l*x)*P,B[8]=(M*L-v*I+i*A)*P,B[9]=(E*I-D*L-S*A)*P,B[10]=(c*_-f*m+h*T)*P,B[11]=(a*m-s*_-l*T)*P,B[12]=(v*p-M*k-u*A)*P,B[13]=(D*k-E*p+d*A)*P,B[14]=(f*x-c*b-g*T)*P,B[15]=(s*b-a*x+o*T)*P,B):null}},65551:function(ae,B,r){var D=r(71551);ae.exports=function(E,d,S,M){var v,u,i,s,a,o,l,c,f,g,h=d[0],T=d[1],x=d[2],m=M[0],b=M[1],_=M[2],w=S[0],A=S[1],p=S[2];return Math.abs(h-w)<1e-6&&Math.abs(T-A)<1e-6&&Math.abs(x-p)<1e-6?D(E):(l=h-w,c=T-A,f=x-p,v=b*(f*=g=1/Math.sqrt(l*l+c*c+f*f))-_*(c*=g),u=_*(l*=g)-m*f,i=m*c-b*l,(g=Math.sqrt(v*v+u*u+i*i))?(v*=g=1/g,u*=g,i*=g):(v=0,u=0,i=0),s=c*i-f*u,a=f*v-l*i,o=l*u-c*v,(g=Math.sqrt(s*s+a*a+o*o))?(s*=g=1/g,a*=g,o*=g):(s=0,a=0,o=0),E[0]=v,E[1]=s,E[2]=l,E[3]=0,E[4]=u,E[5]=a,E[6]=c,E[7]=0,E[8]=i,E[9]=o,E[10]=f,E[11]=0,E[12]=-(v*h+u*T+i*x),E[13]=-(s*h+a*T+o*x),E[14]=-(l*h+c*T+f*x),E[15]=1,E)}},91362:function(ae){ae.exports=function(B,r,D){var E=r[0],d=r[1],S=r[2],M=r[3],v=r[4],u=r[5],i=r[6],s=r[7],a=r[8],o=r[9],l=r[10],c=r[11],f=r[12],g=r[13],h=r[14],T=r[15],x=D[0],m=D[1],b=D[2],_=D[3];return B[0]=x*E+m*v+b*a+_*f,B[1]=x*d+m*u+b*o+_*g,B[2]=x*S+m*i+b*l+_*h,B[3]=x*M+m*s+b*c+_*T,B[4]=(x=D[4])*E+(m=D[5])*v+(b=D[6])*a+(_=D[7])*f,B[5]=x*d+m*u+b*o+_*g,B[6]=x*S+m*i+b*l+_*h,B[7]=x*M+m*s+b*c+_*T,B[8]=(x=D[8])*E+(m=D[9])*v+(b=D[10])*a+(_=D[11])*f,B[9]=x*d+m*u+b*o+_*g,B[10]=x*S+m*i+b*l+_*h,B[11]=x*M+m*s+b*c+_*T,B[12]=(x=D[12])*E+(m=D[13])*v+(b=D[14])*a+(_=D[15])*f,B[13]=x*d+m*u+b*o+_*g,B[14]=x*S+m*i+b*l+_*h,B[15]=x*M+m*s+b*c+_*T,B}},60378:function(ae){ae.exports=function(B,r,D,E,d,S,M){var v=1/(r-D),u=1/(E-d),i=1/(S-M);return B[0]=-2*v,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=-2*u,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=2*i,B[11]=0,B[12]=(r+D)*v,B[13]=(d+E)*u,B[14]=(M+S)*i,B[15]=1,B}},7864:function(ae){ae.exports=function(B,r,D,E,d){var S=1/Math.tan(r/2),M=1/(E-d);return B[0]=S/D,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=S,B[6]=0,B[7]=0,B[8]=0,B[9]=0,B[10]=(d+E)*M,B[11]=-1,B[12]=0,B[13]=0,B[14]=2*d*E*M,B[15]=0,B}},35279:function(ae){ae.exports=function(B,r,D,E){var d=Math.tan(r.upDegrees*Math.PI/180),S=Math.tan(r.downDegrees*Math.PI/180),M=Math.tan(r.leftDegrees*Math.PI/180),v=Math.tan(r.rightDegrees*Math.PI/180),u=2/(M+v),i=2/(d+S);return B[0]=u,B[1]=0,B[2]=0,B[3]=0,B[4]=0,B[5]=i,B[6]=0,B[7]=0,B[8]=-(M-v)*u*.5,B[9]=(d-S)*i*.5,B[10]=E/(D-E),B[11]=-1,B[12]=0,B[13]=0,B[14]=E*D/(D-E),B[15]=0,B}},65074:function(ae){ae.exports=function(B,r,D,E){var d,S,M,v,u,i,s,a,o,l,c,f,g,h,T,x,m,b,_,w,A,p,I,k,L=E[0],O=E[1],P=E[2],F=Math.sqrt(L*L+O*O+P*P);return Math.abs(F)<1e-6?null:(L*=F=1/F,O*=F,P*=F,d=Math.sin(D),M=1-(S=Math.cos(D)),u=r[1],i=r[2],s=r[3],o=r[5],l=r[6],c=r[7],g=r[9],h=r[10],T=r[11],_=L*O*M-P*d,w=O*O*M+S,A=P*O*M+L*d,p=L*P*M+O*d,I=O*P*M-L*d,k=P*P*M+S,B[0]=(v=r[0])*(x=L*L*M+S)+(a=r[4])*(m=O*L*M+P*d)+(f=r[8])*(b=P*L*M-O*d),B[1]=u*x+o*m+g*b,B[2]=i*x+l*m+h*b,B[3]=s*x+c*m+T*b,B[4]=v*_+a*w+f*A,B[5]=u*_+o*w+g*A,B[6]=i*_+l*w+h*A,B[7]=s*_+c*w+T*A,B[8]=v*p+a*I+f*k,B[9]=u*p+o*I+g*k,B[10]=i*p+l*I+h*k,B[11]=s*p+c*I+T*k,r!==B&&(B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B)}},35545:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),d=Math.cos(D),S=r[4],M=r[5],v=r[6],u=r[7],i=r[8],s=r[9],a=r[10],o=r[11];return r!==B&&(B[0]=r[0],B[1]=r[1],B[2]=r[2],B[3]=r[3],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[4]=S*d+i*E,B[5]=M*d+s*E,B[6]=v*d+a*E,B[7]=u*d+o*E,B[8]=i*d-S*E,B[9]=s*d-M*E,B[10]=a*d-v*E,B[11]=o*d-u*E,B}},94918:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),d=Math.cos(D),S=r[0],M=r[1],v=r[2],u=r[3],i=r[8],s=r[9],a=r[10],o=r[11];return r!==B&&(B[4]=r[4],B[5]=r[5],B[6]=r[6],B[7]=r[7],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[0]=S*d-i*E,B[1]=M*d-s*E,B[2]=v*d-a*E,B[3]=u*d-o*E,B[8]=S*E+i*d,B[9]=M*E+s*d,B[10]=v*E+a*d,B[11]=u*E+o*d,B}},15692:function(ae){ae.exports=function(B,r,D){var E=Math.sin(D),d=Math.cos(D),S=r[0],M=r[1],v=r[2],u=r[3],i=r[4],s=r[5],a=r[6],o=r[7];return r!==B&&(B[8]=r[8],B[9]=r[9],B[10]=r[10],B[11]=r[11],B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15]),B[0]=S*d+i*E,B[1]=M*d+s*E,B[2]=v*d+a*E,B[3]=u*d+o*E,B[4]=i*d-S*E,B[5]=s*d-M*E,B[6]=a*d-v*E,B[7]=o*d-u*E,B}},10789:function(ae){ae.exports=function(B,r,D){var E=D[0],d=D[1],S=D[2];return B[0]=r[0]*E,B[1]=r[1]*E,B[2]=r[2]*E,B[3]=r[3]*E,B[4]=r[4]*d,B[5]=r[5]*d,B[6]=r[6]*d,B[7]=r[7]*d,B[8]=r[8]*S,B[9]=r[9]*S,B[10]=r[10]*S,B[11]=r[11]*S,B[12]=r[12],B[13]=r[13],B[14]=r[14],B[15]=r[15],B}},6726:function(ae){ae.exports=function(B){return"mat4("+B[0]+", "+B[1]+", "+B[2]+", "+B[3]+", "+B[4]+", "+B[5]+", "+B[6]+", "+B[7]+", "+B[8]+", "+B[9]+", "+B[10]+", "+B[11]+", "+B[12]+", "+B[13]+", "+B[14]+", "+B[15]+")"}},31283:function(ae){ae.exports=function(B,r,D){var E,d,S,M,v,u,i,s,a,o,l,c,f=D[0],g=D[1],h=D[2];return r===B?(B[12]=r[0]*f+r[4]*g+r[8]*h+r[12],B[13]=r[1]*f+r[5]*g+r[9]*h+r[13],B[14]=r[2]*f+r[6]*g+r[10]*h+r[14],B[15]=r[3]*f+r[7]*g+r[11]*h+r[15]):(d=r[1],S=r[2],M=r[3],v=r[4],u=r[5],i=r[6],s=r[7],a=r[8],o=r[9],l=r[10],c=r[11],B[0]=E=r[0],B[1]=d,B[2]=S,B[3]=M,B[4]=v,B[5]=u,B[6]=i,B[7]=s,B[8]=a,B[9]=o,B[10]=l,B[11]=c,B[12]=E*f+v*g+a*h+r[12],B[13]=d*f+u*g+o*h+r[13],B[14]=S*f+i*g+l*h+r[14],B[15]=M*f+s*g+c*h+r[15]),B}},88654:function(ae){ae.exports=function(B,r){if(B===r){var D=r[1],E=r[2],d=r[3],S=r[6],M=r[7],v=r[11];B[1]=r[4],B[2]=r[8],B[3]=r[12],B[4]=D,B[6]=r[9],B[7]=r[13],B[8]=E,B[9]=S,B[11]=r[14],B[12]=d,B[13]=M,B[14]=v}else B[0]=r[0],B[1]=r[4],B[2]=r[8],B[3]=r[12],B[4]=r[1],B[5]=r[5],B[6]=r[9],B[7]=r[13],B[8]=r[2],B[9]=r[6],B[10]=r[10],B[11]=r[14],B[12]=r[3],B[13]=r[7],B[14]=r[11],B[15]=r[15];return B}},42505:function(ae,B,r){"use strict";var D=r(72791),E=r(71299),d=r(98580),S=r(12018),M=r(83522),v=r(25075),u=r(68016),i=r(58404),s=r(18863),a=r(10973),o=r(25677),l=r(75686),c=r(53545),f=r(56131),g=r(32879),h=r(30120),T=r(13547).nextPow2,x=new M,m=!1;if(document.body){var b=document.body.appendChild(document.createElement("div"));b.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(b).fontStretch&&(m=!0),document.body.removeChild(b)}var _=function(w){var A;this.gl="function"==typeof(A=w)&&A._gl&&A.prop&&A.texture&&A.buffer?(w={regl:w}).regl._gl:S(w),this.shader=x.get(this.gl),this.regl=this.shader?this.shader.regl:w.regl||d({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),x.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(w)?w:{})};_.prototype.createShader=function(){var w=this.regl,A=w({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:w.prop("count"),offset:w.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:w.this("sizeBuffer")},width:{offset:0,stride:8,buffer:w.this("sizeBuffer")},char:w.this("charBuffer"),position:w.this("position")},uniforms:{atlasSize:function(p,I){return[I.atlas.width,I.atlas.height]},atlasDim:function(p,I){return[I.atlas.cols,I.atlas.rows]},atlas:function(p,I){return I.atlas.texture},charStep:function(p,I){return I.atlas.step},em:function(p,I){return I.atlas.em},color:w.prop("color"),opacity:w.prop("opacity"),viewport:w.this("viewportArray"),scale:w.this("scale"),align:w.prop("align"),baseline:w.prop("baseline"),translate:w.this("translate"),positionOffset:w.prop("positionOffset")},primitive:"points",viewport:w.this("viewport"),vert:"\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ vec2(positionOffset.x, -positionOffset.y)))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",frag:"\n\t\t\tprecision highp float;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform sampler2D atlas;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"});return{regl:w,draw:A,atlas:{}}},_.prototype.update=function(w){var A=this;if("string"==typeof w)w={text:w};else if(!w)return;null!=(w=E(w,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity&&(this.opacity=Array.isArray(w.opacity)?w.opacity.map(function(le){return parseFloat(le)}):parseFloat(w.opacity)),null!=w.viewport&&(this.viewport=s(w.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=w.kerning&&(this.kerning=w.kerning),null!=w.offset&&("number"==typeof w.offset&&(w.offset=[w.offset,0]),this.positionOffset=h(w.offset)),w.direction&&(this.direction=w.direction),w.range&&(this.range=w.range,this.scale=[1/(w.range[2]-w.range[0]),1/(w.range[3]-w.range[1])],this.translate=[-w.range[0],-w.range[1]]),w.scale&&(this.scale=w.scale),w.translate&&(this.translate=w.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||w.font||(w.font=_.baseFontSize+"px sans-serif");var p,I=!1,k=!1;if(w.font&&(Array.isArray(w.font)?w.font:[w.font]).forEach(function(le,Te){if("string"==typeof le)try{le=D.parse(le)}catch{le=D.parse(_.baseFontSize+"px "+le)}else le=D.parse(D.stringify(le));var Re=D.stringify({size:_.baseFontSize,family:le.family,stretch:m?le.stretch:void 0,variant:le.variant,weight:le.weight,style:le.style}),De=o(le.size),Ue=Math.round(De[0]*l(De[1]));if(Ue!==A.fontSize[Te]&&(k=!0,A.fontSize[Te]=Ue),!(A.font[Te]&&Re==A.font[Te].baseString||(I=!0,A.font[Te]=_.fonts[Re],A.font[Te]))){var Ze=le.family.join(", "),xe=[le.style];le.style!=le.variant&&xe.push(le.variant),le.variant!=le.weight&&xe.push(le.weight),m&&le.weight!=le.stretch&&xe.push(le.stretch),A.font[Te]={baseString:Re,family:Ze,weight:le.weight,stretch:le.stretch,style:le.style,variant:le.variant,width:{},kerning:{},metrics:g(Ze,{origin:"top",fontSize:_.baseFontSize,fontStyle:xe.join(" ")})},_.fonts[Re]=A.font[Te]}}),(I||k)&&this.font.forEach(function(le,Te){var Re=D.stringify({size:A.fontSize[Te],family:le.family,stretch:m?le.stretch:void 0,variant:le.variant,weight:le.weight,style:le.style});A.fontAtlas[Te]=A.shader.atlas[Re],A.fontAtlas[Te]||(A.shader.atlas[Re]=A.fontAtlas[Te]={fontString:Re,step:2*Math.ceil(A.fontSize[Te]*le.metrics.bottom*.5),em:A.fontSize[Te],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}),null==w.text&&(w.text=A.text)}),"string"==typeof w.text&&w.position&&w.position.length>2){for(var L=Array(.5*w.position.length),O=0;O<L.length;O++)L[O]=w.text;w.text=L}if(null!=w.text||I){if(this.textOffsets=[0],Array.isArray(w.text)){this.count=w.text[0].length,this.counts=[this.count];for(var P=1;P<w.text.length;P++)this.textOffsets[P]=this.textOffsets[P-1]+w.text[P-1].length,this.count+=w.text[P].length,this.counts.push(w.text[P].length);this.text=w.text.join("")}else this.text=w.text,this.count=this.text.length,this.counts=[this.count];p=[],this.font.forEach(function(le,Te){_.atlasContext.font=le.baseString;for(var Re=A.fontAtlas[Te],De=0;De<A.text.length;De++){var Ue=A.text.charAt(De);if(null==Re.ids[Ue]&&(Re.ids[Ue]=Re.chars.length,Re.chars.push(Ue),p.push(Ue)),null==le.width[Ue]&&(le.width[Ue]=_.atlasContext.measureText(Ue).width/_.baseFontSize,A.kerning)){var Ze=[];for(var xe in le.width)Ze.push(xe+Ue,Ue+xe);f(le.kerning,c(le.family,{pairs:Ze}))}}})}if(w.position)if(w.position.length>2){for(var F=!w.position[0].length,j=i.mallocFloat(2*this.count),X=0,N=0;X<this.counts.length;X++){var q=this.counts[X];if(F)for(var G=0;G<q;G++)j[N++]=w.position[2*X],j[N++]=w.position[2*X+1];else for(var H=0;H<q;H++)j[N++]=w.position[X][0],j[N++]=w.position[X][1]}this.position.call?this.position({type:"float",data:j}):this.position=this.regl.buffer({type:"float",data:j}),i.freeFloat(j)}else this.position.destroy&&this.position.destroy(),this.position={constant:w.position};if(w.text||I){var Z=i.mallocUint8(this.count),$=i.mallocFloat(2*this.count);this.textWidth=[];for(var se=0,ne=0;se<this.counts.length;se++){for(var re=this.counts[se],Q=this.font[se]||this.font[0],ee=this.fontAtlas[se]||this.fontAtlas[0],oe=0;oe<re;oe++){var ce=this.text.charAt(ne),ue=this.text.charAt(ne-1);if(Z[ne]=ee.ids[ce],$[2*ne]=Q.width[ce],oe){var ke=$[2*ne-1]+.5*$[2*ne-2]+.5*$[2*ne];if(this.kerning){var Ie=Q.kerning[ue+ce];Ie&&(ke+=.001*Ie)}$[2*ne+1]=ke}else $[2*ne+1]=.5*$[2*ne];ne++}this.textWidth.push($.length?.5*$[2*ne-2]+$[2*ne-1]:0)}w.align||(w.align=this.align),this.charBuffer({data:Z,type:"uint8",usage:"stream"}),this.sizeBuffer({data:$,type:"float",usage:"stream"}),i.freeUint8(Z),i.freeFloat($),p.length&&this.font.forEach(function(le,Te){var Re=A.fontAtlas[Te],De=Re.step,Ue=Math.floor(_.maxAtlasSize/De),Ze=Math.min(Ue,Re.chars.length),xe=Math.ceil(Re.chars.length/Ze),Oe=T(Ze*De),Ce=T(xe*De);Re.width=Oe,Re.height=Ce,Re.rows=xe,Re.cols=Ze,Re.em&&Re.texture({data:u({canvas:_.atlasCanvas,font:Re.fontString,chars:Re.chars,shape:[Oe,Ce],step:[De,De]})})})}if(w.align&&(this.align=w.align,this.alignOffset=this.textWidth.map(function(le,Te){var Re=Array.isArray(A.align)?A.align.length>1?A.align[Te]:A.align[0]:A.align;if("number"==typeof Re)return Re;switch(Re){case"right":case"end":return-le;case"center":case"centre":case"middle":return.5*-le}return 0})),null==this.baseline&&null==w.baseline&&(w.baseline=0),null!=w.baseline&&(this.baseline=w.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(le,Te){var Re=(A.font[Te]||A.font[0]).metrics,De=0;return-1*((De+=.5*Re.bottom)+("number"==typeof le?le-Re.baseline:-Re[le]))})),null!=w.color)if(w.color||(w.color="transparent"),"string"!=typeof w.color&&isNaN(w.color)){var Me;if("number"==typeof w.color[0]&&w.color.length>this.counts.length){var _e=w.color.length;Me=i.mallocUint8(_e);for(var we=(w.color.subarray||w.color.slice).bind(w.color),ze=0;ze<_e;ze+=4)Me.set(v(we(ze,ze+4),"uint8"),ze)}else{var Ee=w.color.length;Me=i.mallocUint8(4*Ee);for(var Se=0;Se<Ee;Se++)Me.set(v(w.color[Se]||0,"uint8"),4*Se)}this.color=Me}else this.color=v(w.color,"uint8");if(w.position||w.text||w.color||w.baseline||w.align||w.font||w.offset||w.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var me=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(me);for(var fe=0;fe<this.batch.length;fe++)this.batch[fe]={count:this.counts.length>1?this.counts[fe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[fe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*fe,4*fe+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[fe]:this.opacity,baseline:null!=this.baselineOffset[fe]?this.baselineOffset[fe]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[fe]?this.alignOffset[fe]:this.alignOffset[0]:0,atlas:this.fontAtlas[fe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*fe,2*fe+2):this.positionOffset}}else this.batch=this.count?[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:[]},_.prototype.destroy=function(){},_.prototype.kerning=!0,_.prototype.position={constant:new Float32Array(2)},_.prototype.translate=null,_.prototype.scale=null,_.prototype.font=null,_.prototype.text="",_.prototype.positionOffset=[0,0],_.prototype.opacity=1,_.prototype.color=new Uint8Array([0,0,0,255]),_.prototype.alignOffset=[0,0],_.maxAtlasSize=1024,_.atlasCanvas=document.createElement("canvas"),_.atlasContext=_.atlasCanvas.getContext("2d",{alpha:!1}),_.baseFontSize=64,_.fonts={},ae.exports=_},12018:function(ae,B,r){"use strict";var D=r(71299);function E(M){if(M.container)if(M.container==document.body)document.body.style.width||(M.canvas.width=M.width||M.pixelRatio*r.g.innerWidth),document.body.style.height||(M.canvas.height=M.height||M.pixelRatio*r.g.innerHeight);else{var v=M.container.getBoundingClientRect();M.canvas.width=M.width||v.right-v.left,M.canvas.height=M.height||v.bottom-v.top}}function d(M){return"function"==typeof M.getContext&&"width"in M&&"height"in M}function S(){var M=document.createElement("canvas");return M.style.position="absolute",M.style.top=0,M.style.left=0,M}ae.exports=function(M){var v,i;if(M?"string"==typeof M&&(M={container:M}):M={},(M=d(M)||"string"==typeof(v=M).nodeName&&"function"==typeof v.appendChild&&"function"==typeof v.getBoundingClientRect?{container:M}:(i=M,"function"==typeof i.drawArrays||"function"==typeof i.drawElements?{gl:M}:D(M,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0))).pixelRatio||(M.pixelRatio=r.g.pixelRatio||1),M.gl)return M.gl;if(M.canvas&&(M.container=M.canvas.parentNode),M.container){if("string"==typeof M.container){var u=document.querySelector(M.container);if(!u)throw Error("Element "+M.container+" is not found");M.container=u}d(M.container)?(M.canvas=M.container,M.container=M.canvas.parentNode):M.canvas||(M.canvas=S(),M.container.appendChild(M.canvas),E(M))}else if(!M.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");M.container=document.body||document.documentElement,M.canvas=S(),M.container.appendChild(M.canvas),E(M)}return M.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{M.gl=M.canvas.getContext(i,M.attrs)}catch{}return M.gl}),M.gl}},56068:function(ae){ae.exports=function(B){"string"==typeof B&&(B=[B]);for(var r=[].slice.call(arguments,1),D=[],E=0;E<B.length-1;E++)D.push(B[E],r[E]||"");return D.push(B[E]),D.join("")}},40383:function(ae,B,r){"use strict";var D=r(68318)("%Object.getOwnPropertyDescriptor%",!0);if(D)try{D([],"length")}catch{D=null}ae.exports=D},57035:function(ae,B,r){"use strict";var D,E=r(54404);D="function"==typeof r.g.matchMedia?!r.g.matchMedia("(hover: none)").matches:E,ae.exports=D},38520:function(ae,B,r){"use strict";var D=r(54404);ae.exports=D&&function(){var E=!1;try{var d=Object.defineProperty({},"passive",{get:function(){E=!0}});window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{E=!1}return E}()},55622:function(ae,B,r){"use strict";var D=r(68318)("%Object.defineProperty%",!0),E=function(){if(D)try{return D({},"a",{value:1}),!0}catch{return!1}return!1};E.hasArrayLengthDefineBug=function(){if(!E())return null;try{return 1!==D([],"length",{value:1}).length}catch{return!0}},ae.exports=E},57877:function(ae,B,r){"use strict";var D=typeof Symbol<"u"&&Symbol,E=r(35638);ae.exports=function(){return"function"==typeof D&&"function"==typeof Symbol&&"symbol"==typeof D("foo")&&"symbol"==typeof Symbol("bar")&&E()}},35638:function(ae){"use strict";ae.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var B={},r=Symbol("test"),D=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(D))return!1;for(r in B[r]=42,B)return!1;if("function"==typeof Object.keys&&0!==Object.keys(B).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(B).length)return!1;var E=Object.getOwnPropertySymbols(B);if(1!==E.length||E[0]!==r||!Object.prototype.propertyIsEnumerable.call(B,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var d=Object.getOwnPropertyDescriptor(B,r);if(42!==d.value||!0!==d.enumerable)return!1}return!0}},84543:function(ae,B,r){"use strict";var D=r(35638);ae.exports=function(){return D()&&!!Symbol.toStringTag}},35065:function(ae,B,r){"use strict";var D=r(77575);ae.exports=D.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(ae,B){B.read=function(r,D,E,d,S){var M,v,u=8*S-d-1,i=(1<<u)-1,s=i>>1,a=-7,o=E?S-1:0,l=E?-1:1,c=r[D+o];for(o+=l,M=c&(1<<-a)-1,c>>=-a,a+=u;a>0;M=256*M+r[D+o],o+=l,a-=8);for(v=M&(1<<-a)-1,M>>=-a,a+=d;a>0;v=256*v+r[D+o],o+=l,a-=8);if(0===M)M=1-s;else{if(M===i)return v?NaN:1/0*(c?-1:1);v+=Math.pow(2,d),M-=s}return(c?-1:1)*v*Math.pow(2,M-d)},B.write=function(r,D,E,d,S,M){var v,u,i,s=8*M-S-1,a=(1<<s)-1,o=a>>1,l=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,c=d?0:M-1,f=d?1:-1,g=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(u=isNaN(D)?1:0,v=a):(v=Math.floor(Math.log(D)/Math.LN2),D*(i=Math.pow(2,-v))<1&&(v--,i*=2),(D+=v+o>=1?l/i:l*Math.pow(2,1-o))*i>=2&&(v++,i/=2),v+o>=a?(u=0,v=a):v+o>=1?(u=(D*i-1)*Math.pow(2,S),v+=o):(u=D*Math.pow(2,o-1)*Math.pow(2,S),v=0));S>=8;r[E+c]=255&u,c+=f,u/=256,S-=8);for(v=v<<S|u,s+=S;s>0;r[E+c]=255&v,c+=f,v/=256,s-=8);r[E+c-f]|=128*g}},42018:function(ae){ae.exports="function"==typeof Object.create?function(B,r){r&&(B.super_=r,B.prototype=Object.create(r.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}))}:function(B,r){if(r){B.super_=r;var D=function(){};D.prototype=r.prototype,B.prototype=new D,B.prototype.constructor=B}}},47216:function(ae,B,r){"use strict";var D=r(84543)(),E=r(6614)("Object.prototype.toString"),d=function(v){return!(D&&v&&"object"==typeof v&&Symbol.toStringTag in v)&&"[object Arguments]"===E(v)},S=function(v){return!!d(v)||null!==v&&"object"==typeof v&&"number"==typeof v.length&&v.length>=0&&"[object Array]"!==E(v)&&"[object Function]"===E(v.callee)},M=function(){return d(arguments)}();d.isLegacyArguments=S,ae.exports=M?d:S},54404:function(ae){ae.exports=!0},85395:function(ae){"use strict";var B,r,D=Function.prototype.toString,E="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof E&&"function"==typeof Object.defineProperty)try{B=Object.defineProperty({},"length",{get:function(){throw r}}),r={},E(function(){throw 42},null,B)}catch(o){o!==r&&(E=null)}else E=null;var d=/^\s*class\b/,S=function(o){try{var l=D.call(o);return d.test(l)}catch{return!1}},M=function(o){try{return!S(o)&&(D.call(o),!0)}catch{return!1}},v=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,i=!(0 in[,]),s=function(){return!1};if("object"==typeof document){var a=document.all;v.call(a)===v.call(document.all)&&(s=function(o){if((i||!o)&&(void 0===o||"object"==typeof o))try{var l=v.call(o);return("[object HTMLAllCollection]"===l||"[object HTML document.all class]"===l||"[object HTMLCollection]"===l||"[object Object]"===l)&&null==o("")}catch{}return!1})}ae.exports=E?function(o){if(s(o))return!0;if(!o||"function"!=typeof o&&"object"!=typeof o)return!1;try{E(o,null,B)}catch(l){if(l!==r)return!1}return!S(o)&&M(o)}:function(o){if(s(o))return!0;if(!o||"function"!=typeof o&&"object"!=typeof o)return!1;if(u)return M(o);if(S(o))return!1;var l=v.call(o);return!("[object Function]"!==l&&"[object GeneratorFunction]"!==l&&!/^\[object HTML/.test(l))&&M(o)}},65481:function(ae,B,r){"use strict";var D,E=Object.prototype.toString,d=Function.prototype.toString,S=/^\s*(?:function)?\*/,M=r(84543)(),v=Object.getPrototypeOf;ae.exports=function(u){if("function"!=typeof u)return!1;if(S.test(d.call(u)))return!0;if(!M)return"[object GeneratorFunction]"===E.call(u);if(!v)return!1;if(void 0===D){var i=function(){if(!M)return!1;try{return Function("return function*() {}")()}catch{}}();D=!!i&&v(i)}return v(u)===D}},62683:function(ae){"use strict";ae.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(ae){"use strict";ae.exports=function(B){return B!=B}},15567:function(ae,B,r){"use strict";var D=r(68222),E=r(17045),d=r(64274),S=r(14922),M=r(22442),v=D(S(),Number);E(v,{getPolyfill:S,implementation:d,shim:M}),ae.exports=v},14922:function(ae,B,r){"use strict";var D=r(64274);ae.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:D}},22442:function(ae,B,r){"use strict";var D=r(17045),E=r(14922);ae.exports=function(){var d=E();return D(Number,{isNaN:d},{isNaN:function(){return Number.isNaN!==d}}),d}},64941:function(ae){"use strict";ae.exports=function(B){var r=typeof B;return null!==B&&("object"===r||"function"===r)}},10973:function(ae){"use strict";var B=Object.prototype.toString;ae.exports=function(r){var D;return"[object Object]"===B.call(r)&&(null===(D=Object.getPrototypeOf(r))||D===Object.getPrototypeOf({}))}},18546:function(ae){"use strict";ae.exports=function(B){for(var r,D=B.length,E=0;E<D;E++)if(((r=B.charCodeAt(E))<9||r>13)&&32!==r&&133!==r&&160!==r&&5760!==r&&6158!==r&&(r<8192||r>8205)&&8232!==r&&8233!==r&&8239!==r&&8287!==r&&8288!==r&&12288!==r&&65279!==r)return!1;return!0}},89546:function(ae){"use strict";ae.exports=function(B){return"string"==typeof B&&(B=B.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(B)&&/[\dz]$/i.test(B)&&B.length>4))}},9187:function(ae,B,r){"use strict";var D=r(31353),E=r(72077),d=r(6614),S=d("Object.prototype.toString"),M=r(84543)(),v=r(40383),u=typeof globalThis>"u"?r.g:globalThis,i=E(),s=d("Array.prototype.indexOf",!0)||function(c,f){for(var g=0;g<c.length;g+=1)if(c[g]===f)return g;return-1},a=d("String.prototype.slice"),o={},l=Object.getPrototypeOf;M&&v&&l&&D(i,function(c){var f=new u[c];if(Symbol.toStringTag in f){var g=l(f),h=v(g,Symbol.toStringTag);if(!h){var T=l(g);h=v(T,Symbol.toStringTag)}o[c]=h.get}}),ae.exports=function(c){if(!c||"object"!=typeof c)return!1;if(!M||!(Symbol.toStringTag in c)){var f=a(S(c),8,-1);return s(i,f)>-1}return!!v&&(g=c,h=!1,D(o,function(T,x){if(!h)try{h=T.call(g)===x}catch{}}),h);var g,h}},44517:function(ae){ae.exports=function(){"use strict";var B,r,D;function E(d,S){if(B)if(r){var M="var sharedChunk = {}; ("+B+")(sharedChunk); ("+r+")(sharedChunk);",v={};B(v),(D=S(v)).workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"}))}else r=S;else B=S}return E(0,function(d){function S(C,z){return C(z={exports:{}},z.exports),z.exports}var M="1.10.1",v=u;function u(C,z,J,ge){this.cx=3*C,this.bx=3*(J-C)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*z,this.by=3*(ge-z)-this.cy,this.ay=1-this.cy-this.by,this.p1x=C,this.p1y=ge,this.p2x=J,this.p2y=ge}u.prototype.sampleCurveX=function(C){return((this.ax*C+this.bx)*C+this.cx)*C},u.prototype.sampleCurveY=function(C){return((this.ay*C+this.by)*C+this.cy)*C},u.prototype.sampleCurveDerivativeX=function(C){return(3*this.ax*C+2*this.bx)*C+this.cx},u.prototype.solveCurveX=function(C,z){var J,ge,Pe,je,Ye;for(void 0===z&&(z=1e-6),Pe=C,Ye=0;Ye<8;Ye++){if(je=this.sampleCurveX(Pe)-C,Math.abs(je)<z)return Pe;var at=this.sampleCurveDerivativeX(Pe);if(Math.abs(at)<1e-6)break;Pe-=je/at}if((Pe=C)<(J=0))return J;if(Pe>(ge=1))return ge;for(;J<ge;){if(je=this.sampleCurveX(Pe),Math.abs(je-C)<z)return Pe;C>je?J=Pe:ge=Pe,Pe=.5*(ge-J)+J}return Pe},u.prototype.solve=function(C,z){return this.sampleCurveY(this.solveCurveX(C,z))};var i=s;function s(C,z){this.x=C,this.y=z}function a(C,z,J,ge){var Pe=new v(C,z,J,ge);return function(je){return Pe.solve(je)}}s.prototype={clone:function(){return new s(this.x,this.y)},add:function(C){return this.clone()._add(C)},sub:function(C){return this.clone()._sub(C)},multByPoint:function(C){return this.clone()._multByPoint(C)},divByPoint:function(C){return this.clone()._divByPoint(C)},mult:function(C){return this.clone()._mult(C)},div:function(C){return this.clone()._div(C)},rotate:function(C){return this.clone()._rotate(C)},rotateAround:function(C,z){return this.clone()._rotateAround(C,z)},matMult:function(C){return this.clone()._matMult(C)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(C){return this.x===C.x&&this.y===C.y},dist:function(C){return Math.sqrt(this.distSqr(C))},distSqr:function(C){var z=C.x-this.x,J=C.y-this.y;return z*z+J*J},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(C){return Math.atan2(this.y-C.y,this.x-C.x)},angleWith:function(C){return this.angleWithSep(C.x,C.y)},angleWithSep:function(C,z){return Math.atan2(this.x*z-this.y*C,this.x*C+this.y*z)},_matMult:function(C){var J=C[2]*this.x+C[3]*this.y;return this.x=C[0]*this.x+C[1]*this.y,this.y=J,this},_add:function(C){return this.x+=C.x,this.y+=C.y,this},_sub:function(C){return this.x-=C.x,this.y-=C.y,this},_mult:function(C){return this.x*=C,this.y*=C,this},_div:function(C){return this.x/=C,this.y/=C,this},_multByPoint:function(C){return this.x*=C.x,this.y*=C.y,this},_divByPoint:function(C){return this.x/=C.x,this.y/=C.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var C=this.y;return this.y=this.x,this.x=-C,this},_rotate:function(C){var z=Math.cos(C),J=Math.sin(C),Pe=J*this.x+z*this.y;return this.x=z*this.x-J*this.y,this.y=Pe,this},_rotateAround:function(C,z){var J=Math.cos(C),ge=Math.sin(C),je=z.y+ge*(this.x-z.x)+J*(this.y-z.y);return this.x=z.x+J*(this.x-z.x)-ge*(this.y-z.y),this.y=je,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},s.convert=function(C){return C instanceof s?C:Array.isArray(C)?new s(C[0],C[1]):C};var o=a(.25,.1,.25,1);function l(C,z,J){return Math.min(J,Math.max(z,C))}function c(C,z,J){var ge=J-z,Pe=((C-z)%ge+ge)%ge+z;return Pe===z?J:Pe}function f(C){for(var z=[],J=arguments.length-1;J-- >0;)z[J]=arguments[J+1];for(var ge=0,Pe=z;ge<Pe.length;ge+=1){var je=Pe[ge];for(var Ye in je)C[Ye]=je[Ye]}return C}var g=1;function h(){return g++}function T(){return function C(z){return z?(z^16*Math.random()>>z/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,C)}()}function x(C){return!!C&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C)}function m(C,z){C.forEach(function(J){z[J]&&(z[J]=z[J].bind(z))})}function b(C,z){return-1!==C.indexOf(z,C.length-z.length)}function _(C,z,J){var ge={};for(var Pe in C)ge[Pe]=z.call(J||this,C[Pe],Pe,C);return ge}function w(C,z,J){var ge={};for(var Pe in C)z.call(J||this,C[Pe],Pe,C)&&(ge[Pe]=C[Pe]);return ge}function A(C){return Array.isArray(C)?C.map(A):"object"==typeof C&&C?_(C,A):C}var p={};function I(C){p[C]||(typeof console<"u"&&console.warn(C),p[C]=!0)}function k(C,z,J){return(J.y-C.y)*(z.x-C.x)>(z.y-C.y)*(J.x-C.x)}function L(C){for(var z=0,J=0,ge=C.length,Pe=ge-1,je=void 0,Ye=void 0;J<ge;Pe=J++)z+=((Ye=C[Pe]).x-(je=C[J]).x)*(je.y+Ye.y);return z}function O(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function P(C){var z={};if(C.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ge,Pe,je,Ye){var at=je||Ye;return z[Pe]=!at||at.toLowerCase(),""}),z["max-age"]){var J=parseInt(z["max-age"],10);isNaN(J)?delete z["max-age"]:z["max-age"]=J}return z}var F=null;function j(C){if(null==F){var z=C.navigator?C.navigator.userAgent:null;F=!!C.safari||!(!z||!(/\b(iPad|iPhone|iPod)\b/.test(z)||z.match("Safari")&&!z.match("Chrome")))}return F}function X(C){try{var z=self[C];return z.setItem("_mapbox_test_",1),z.removeItem("_mapbox_test_"),!0}catch{return!1}}var N,q,G,H,Z=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),$=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,se=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,ne={now:Z,frame:function(C){var z=$(C);return{cancel:function(){return se(z)}}},getImageData:function(C,z){void 0===z&&(z=0);var J=self.document.createElement("canvas"),ge=J.getContext("2d");if(!ge)throw new Error("failed to create canvas 2d context");return J.width=C.width,J.height=C.height,ge.drawImage(C,0,0,C.width,C.height),ge.getImageData(-z,-z,C.width+2*z,C.height+2*z)},resolveURL:function(C){return N||(N=self.document.createElement("a")),N.href=C,N.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==q&&(q=self.matchMedia("(prefers-reduced-motion: reduce)")),q.matches)}},re={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Q={supported:!1,testSupport:function(C){!ee&&H&&(oe?ce(C):G=C)}},ee=!1,oe=!1;function ce(C){var z=C.createTexture();C.bindTexture(C.TEXTURE_2D,z);try{if(C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,H),C.isContextLost())return;Q.supported=!0}catch{}C.deleteTexture(z),ee=!0}self.document&&((H=self.document.createElement("img")).onload=function(){G&&ce(G),G=null,oe=!0},H.onerror=function(){ee=!0,G=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var ue="01",he=function(C,z){this._transformRequestFn=C,this._customAccessToken=z,this._createSkuToken()};function ve(C){return 0===C.indexOf("mapbox:")}he.prototype._createSkuToken=function(){var C=function(){for(var z="",J=0;J<10;J++)z+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ue,z].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=C.token,this._skuTokenExpiresAt=C.tokenExpiresAt},he.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},he.prototype.transformRequest=function(C,z){return this._transformRequestFn&&this._transformRequestFn(C,z)||{url:C}},he.prototype.normalizeStyleURL=function(C,z){if(!ve(C))return C;var J=_e(C);return J.path="/styles/v1"+J.path,this._makeAPIURL(J,this._customAccessToken||z)},he.prototype.normalizeGlyphsURL=function(C,z){if(!ve(C))return C;var J=_e(C);return J.path="/fonts/v1"+J.path,this._makeAPIURL(J,this._customAccessToken||z)},he.prototype.normalizeSourceURL=function(C,z){if(!ve(C))return C;var J=_e(C);return J.path="/v4/"+J.authority+".json",J.params.push("secure"),this._makeAPIURL(J,this._customAccessToken||z)},he.prototype.normalizeSpriteURL=function(C,z,J,ge){var Pe=_e(C);return ve(C)?(Pe.path="/styles/v1"+Pe.path+"/sprite"+z+J,this._makeAPIURL(Pe,this._customAccessToken||ge)):(Pe.path+=""+z+J,we(Pe))},he.prototype.normalizeTileURL=function(C,z){if(this._isSkuTokenExpired()&&this._createSkuToken(),C&&!ve(C))return C;var J=_e(C);J.path=J.path.replace(/(\.(png|jpg)\d*)(?=$)/,(ne.devicePixelRatio>=2||512===z?"@2x":"")+(Q.supported?".webp":"$1")),J.path=J.path.replace(/^.+\/v4\//,"/"),J.path="/v4"+J.path;var je=this._customAccessToken||function(Ye){for(var at=0,mt=Ye;at<mt.length;at+=1){var Ct=mt[at].match(/^access_token=(.*)$/);if(Ct)return Ct[1]}return null}(J.params)||re.ACCESS_TOKEN;return re.REQUIRE_ACCESS_TOKEN&&je&&this._skuToken&&J.params.push("sku="+this._skuToken),this._makeAPIURL(J,je)},he.prototype.canonicalizeTileURL=function(C,z){var J=_e(C);if(!J.path.match(/(^\/v4\/)/)||!J.path.match(/\.[\w]+$/))return C;var ge="mapbox://tiles/";ge+=J.path.replace("/v4/","");var Pe=J.params;return z&&(Pe=Pe.filter(function(je){return!je.match(/^access_token=/)})),Pe.length&&(ge+="?"+Pe.join("&")),ge},he.prototype.canonicalizeTileset=function(C,z){for(var J=!!z&&ve(z),ge=[],Pe=0,je=C.tiles||[];Pe<je.length;Pe+=1){var Ye=je[Pe];Ie(Ye)?ge.push(this.canonicalizeTileURL(Ye,J)):ge.push(Ye)}return ge},he.prototype._makeAPIURL=function(C,z){var J="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ge=_e(re.API_URL);if(C.protocol=ge.protocol,C.authority=ge.authority,"/"!==ge.path&&(C.path=""+ge.path+C.path),!re.REQUIRE_ACCESS_TOKEN)return we(C);if(!(z=z||re.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+J);if("s"===z[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+J);return C.params=C.params.filter(function(Pe){return-1===Pe.indexOf("access_token")}),C.params.push("access_token="+z),we(C)};var ke=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ie(C){return ke.test(C)}var Me=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function _e(C){var z=C.match(Me);if(!z)throw new Error("Unable to parse URL object");return{protocol:z[1],authority:z[2],path:z[3]||"/",params:z[4]?z[4].split("&"):[]}}function we(C){var z=C.params.length?"?"+C.params.join("&"):"";return C.protocol+"://"+C.authority+C.path+z}var ze="mapbox.eventData";function Ee(C){if(!C)return null;var J=C.split(".");if(!J||3!==J.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(J[1]).split("").map(function(ge){return"%"+("00"+ge.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var Se=function(C){this.type=C,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Se.prototype.getStorageKey=function(C){var z,ge=Ee(re.ACCESS_TOKEN);return z=ge&&ge.u?self.btoa(encodeURIComponent(ge.u).replace(/%([0-9A-F]{2})/g,function(Pe,je){return String.fromCharCode(Number("0x"+je))})):re.ACCESS_TOKEN||"",C?ze+"."+C+":"+z:ze+":"+z},Se.prototype.fetchEventData=function(){var C=X("localStorage"),z=this.getStorageKey(),J=this.getStorageKey("uuid");if(C)try{var ge=self.localStorage.getItem(z);ge&&(this.eventData=JSON.parse(ge));var Pe=self.localStorage.getItem(J);Pe&&(this.anonId=Pe)}catch{I("Unable to read from LocalStorage")}},Se.prototype.saveEventData=function(){var C=X("localStorage"),z=this.getStorageKey(),J=this.getStorageKey("uuid");if(C)try{self.localStorage.setItem(J,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(z,JSON.stringify(this.eventData))}catch{I("Unable to write to LocalStorage")}},Se.prototype.processRequests=function(C){},Se.prototype.postEvent=function(C,z,J,ge){var Pe=this;if(re.EVENTS_URL){var je=_e(re.EVENTS_URL);je.params.push("access_token="+(ge||re.ACCESS_TOKEN||""));var Ye={event:this.type,created:new Date(C).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:ue,userId:this.anonId},at=z?f(Ye,z):Ye,mt={url:we(je),headers:{"Content-Type":"text/plain"},body:JSON.stringify([at])};this.pendingRequest=Ot(mt,function(Ct){Pe.pendingRequest=null,J(Ct),Pe.saveEventData(),Pe.processRequests(ge)})}},Se.prototype.queueRequest=function(C,z){this.queue.push(C),this.processRequests(z)};var me,fe,le=function(C){function z(){C.call(this,"map.load"),this.success={},this.skuToken=""}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.postMapLoadEvent=function(J,ge,Pe,je){this.skuToken=Pe,(re.EVENTS_URL&&je||re.ACCESS_TOKEN&&Array.isArray(J)&&J.some(function(Ye){return ve(Ye)||Ie(Ye)}))&&this.queueRequest({id:ge,timestamp:Date.now()},je)},z.prototype.processRequests=function(J){var ge=this;if(!this.pendingRequest&&0!==this.queue.length){var Pe=this.queue.shift(),je=Pe.id,Ye=Pe.timestamp;je&&this.success[je]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=T()),this.postEvent(Ye,{skuToken:this.skuToken},function(at){at||je&&(ge.success[je]=!0)},J))}},z}(Se),Te=function(C){function z(J){C.call(this,"appUserTurnstile"),this._customAccessToken=J}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.postTurnstileEvent=function(J,ge){re.EVENTS_URL&&re.ACCESS_TOKEN&&Array.isArray(J)&&J.some(function(Pe){return ve(Pe)||Ie(Pe)})&&this.queueRequest(Date.now(),ge)},z.prototype.processRequests=function(J){var ge=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Pe=Ee(re.ACCESS_TOKEN),je=Pe?Pe.u:re.ACCESS_TOKEN,Ye=je!==this.eventData.tokenU;x(this.anonId)||(this.anonId=T(),Ye=!0);var at=this.queue.shift();if(this.eventData.lastSuccess){var mt=new Date(this.eventData.lastSuccess),Ct=new Date(at),Lt=(at-this.eventData.lastSuccess)/864e5;Ye=Ye||Lt>=1||Lt<-1||mt.getDate()!==Ct.getDate()}else Ye=!0;if(!Ye)return this.processRequests();this.postEvent(at,{"enabled.telemetry":!1},function(Gt){Gt||(ge.eventData.lastSuccess=at,ge.eventData.tokenU=je)},J)}},z}(Se),Re=new Te,De=Re.postTurnstileEvent.bind(Re),Ue=new le,Ze=Ue.postMapLoadEvent.bind(Ue),xe="mapbox-tiles",Oe=500,Ce=50,Be=42e4;function qe(){self.caches&&!me&&(me=self.caches.open(xe))}function Je(C){var z=C.indexOf("?");return z<0?C:C.slice(0,z)}var st,pt=1/0;function ct(){return null==st&&(st=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),st}var St={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(St);var Dt=function(C){function z(J,ge,Pe){401===ge&&Ie(Pe)&&(J+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),C.call(this,J),this.status=ge,this.url=Pe,this.name=this.constructor.name,this.message=J}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},z}(Error),vt=O()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href};function gt(C,z){var J,ge=new self.AbortController,Pe=new self.Request(C.url,{method:C.method||"GET",body:C.body,credentials:C.credentials,headers:C.headers,referrer:vt(),signal:ge.signal}),je=!1,Ye=!1,at=(J=Pe.url).indexOf("sku=")>0&&Ie(J);"json"===C.type&&Pe.headers.set("Accept","application/json");var mt=function(Lt,Gt,Jt){if(!Ye){if(Lt&&"SecurityError"!==Lt.message&&I(Lt),Gt&&Jt)return Ct(Gt);var Yt=Date.now();self.fetch(Pe).then(function(mn){if(mn.ok){var vn=at?mn.clone():null;return Ct(mn,vn,Yt)}return z(new Dt(mn.statusText,mn.status,C.url))}).catch(function(mn){20!==mn.code&&z(new Error(mn.message))})}},Ct=function(Lt,Gt,Jt){("arrayBuffer"===C.type?Lt.arrayBuffer():"json"===C.type?Lt.json():Lt.text()).then(function(Yt){Ye||(Gt&&Jt&&function He(C,z,J){if(qe(),me){var ge={status:z.status,statusText:z.statusText,headers:new self.Headers};z.headers.forEach(function(je,Ye){return ge.headers.set(Ye,je)});var Pe=P(z.headers.get("Cache-Control")||"");Pe["no-store"]||(Pe["max-age"]&&ge.headers.set("Expires",new Date(J+1e3*Pe["max-age"]).toUTCString()),new Date(ge.headers.get("Expires")).getTime()-J<Be||function(je,Ye){if(void 0===fe)try{new Response(new ReadableStream),fe=!0}catch{fe=!1}fe?Ye(je.body):je.blob().then(Ye)}(z,function(je){var Ye=new self.Response(je,ge);qe(),me&&me.then(function(at){return at.put(Je(C.url),Ye)}).catch(function(at){return I(at.message)})}))}}(Pe,Gt,Jt),je=!0,z(null,Yt,Lt.headers.get("Cache-Control"),Lt.headers.get("Expires")))}).catch(function(Yt){Ye||z(new Error(Yt.message))})};return at?function et(C,z){if(qe(),!me)return z(null);var J=Je(C.url);me.then(function(ge){ge.match(J).then(function(Pe){var je=function(Ye){if(!Ye)return!1;var at=new Date(Ye.headers.get("Expires")||0),mt=P(Ye.headers.get("Cache-Control")||"");return at>Date.now()&&!mt["no-cache"]}(Pe);ge.delete(J),je&&ge.put(J,Pe.clone()),z(null,Pe,je)}).catch(z)}).catch(z)}(Pe,mt):mt(null,null),{cancel:function(){Ye=!0,je||ge.abort()}}}var Ht,zt,Et=function(C,z){if(!(/^file:/.test(J=C.url)||/^file:/.test(vt())&&!/^\w+:/.test(J))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return gt(C,z);if(O()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",C,z,void 0,!0)}var J;return function(ge,Pe){var je=new self.XMLHttpRequest;for(var Ye in je.open(ge.method||"GET",ge.url,!0),"arrayBuffer"===ge.type&&(je.responseType="arraybuffer"),ge.headers)je.setRequestHeader(Ye,ge.headers[Ye]);return"json"===ge.type&&(je.responseType="text",je.setRequestHeader("Accept","application/json")),je.withCredentials="include"===ge.credentials,je.onerror=function(){Pe(new Error(je.statusText))},je.onload=function(){if((je.status>=200&&je.status<300||0===je.status)&&null!==je.response){var at=je.response;if("json"===ge.type)try{at=JSON.parse(je.response)}catch(mt){return Pe(mt)}Pe(null,at,je.getResponseHeader("Cache-Control"),je.getResponseHeader("Expires"))}else Pe(new Dt(je.statusText,je.status,ge.url))},je.send(ge.body),{cancel:function(){return je.abort()}}}(C,z)},Pt=function(C,z){return Et(f(C,{type:"arrayBuffer"}),z)},Ot=function(C,z){return Et(f(C,{method:"POST"}),z)};Ht=[],zt=0;var nt=function(C,z){if(Q.supported&&(C.headers||(C.headers={}),C.headers.accept="image/webp,*/*"),zt>=re.MAX_PARALLEL_IMAGE_REQUESTS){var J={requestParameters:C,callback:z,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ht.push(J),J}zt++;var ge=!1,Pe=function(){if(!ge)for(ge=!0,zt--;Ht.length&&zt<re.MAX_PARALLEL_IMAGE_REQUESTS;){var Ye=Ht.shift();Ye.cancelled||(Ye.cancel=nt(Ye.requestParameters,Ye.callback).cancel)}},je=Pt(C,function(Ye,at,mt,Ct){var Gt,Jt;Pe(),Ye?z(Ye):at&&(ct()?(Gt=z,Jt=new self.Blob([new Uint8Array(at)],{type:"image/png"}),self.createImageBitmap(Jt).then(function(Yt){Gt(null,Yt)}).catch(function(Yt){Gt(new Error("Could not load image because of "+Yt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})):function(Lt,Gt,Jt,Yt){var mn=new self.Image,vn=self.URL;mn.onload=function(){Gt(null,mn),vn.revokeObjectURL(mn.src)},mn.onerror=function(){return Gt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Bn=new self.Blob([new Uint8Array(Lt)],{type:"image/png"});mn.cacheControl=Jt,mn.expires=Yt,mn.src=Lt.byteLength?vn.createObjectURL(Bn):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(at,z,mt,Ct))});return{cancel:function(){je.cancel(),Pe()}}};function it(C,z,J){J[C]&&-1!==J[C].indexOf(z)||(J[C]=J[C]||[],J[C].push(z))}function Ke(C,z,J){if(J&&J[C]){var ge=J[C].indexOf(z);-1!==ge&&J[C].splice(ge,1)}}var rt=function(C,z){void 0===z&&(z={}),f(this,z),this.type=C},ft=function(C){function z(J,ge){void 0===ge&&(ge={}),C.call(this,"error",f({error:J},ge))}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(rt),ht=function(){};ht.prototype.on=function(C,z){return this._listeners=this._listeners||{},it(C,z,this._listeners),this},ht.prototype.off=function(C,z){return Ke(C,z,this._listeners),Ke(C,z,this._oneTimeListeners),this},ht.prototype.once=function(C,z){return this._oneTimeListeners=this._oneTimeListeners||{},it(C,z,this._oneTimeListeners),this},ht.prototype.fire=function(C,z){"string"==typeof C&&(C=new rt(C,z||{}));var J=C.type;if(this.listens(J)){C.target=this;for(var ge=0,Pe=this._listeners&&this._listeners[J]?this._listeners[J].slice():[];ge<Pe.length;ge+=1)Pe[ge].call(this,C);for(var je=0,Ye=this._oneTimeListeners&&this._oneTimeListeners[J]?this._oneTimeListeners[J].slice():[];je<Ye.length;je+=1){var at=Ye[je];Ke(J,at,this._oneTimeListeners),at.call(this,C)}var mt=this._eventedParent;mt&&(f(C,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),mt.fire(C))}else C instanceof ft&&console.error(C.error);return this},ht.prototype.listens=function(C){return this._listeners&&this._listeners[C]&&this._listeners[C].length>0||this._oneTimeListeners&&this._oneTimeListeners[C]&&this._oneTimeListeners[C].length>0||this._eventedParent&&this._eventedParent.listens(C)},ht.prototype.setEventedParent=function(C,z){return this._eventedParent=C,this._eventedParentData=z,this};var Ve={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ge=function(C,z,J,ge){this.message=(C?C+": ":"")+J,ge&&(this.identifier=ge),null!=z&&z.__line__&&(this.line=z.__line__)};function ut(C){var J=C.value;return J?[new Ge(C.key,J,"constants have been deprecated as of v8")]:[]}function dt(C){for(var z=[],J=arguments.length-1;J-- >0;)z[J]=arguments[J+1];for(var ge=0,Pe=z;ge<Pe.length;ge+=1){var je=Pe[ge];for(var Ye in je)C[Ye]=je[Ye]}return C}function kt(C){return C instanceof Number||C instanceof String||C instanceof Boolean?C.valueOf():C}function bt(C){if(Array.isArray(C))return C.map(bt);if(C instanceof Object&&!(C instanceof Number||C instanceof String||C instanceof Boolean)){var z={};for(var J in C)z[J]=bt(C[J]);return z}return kt(C)}var At=function(C){function z(J,ge){C.call(this,ge),this.message=ge,this.key=J}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(Error),xt=function(C,z){void 0===z&&(z=[]),this.parent=C,this.bindings={};for(var J=0,ge=z;J<ge.length;J+=1){var Pe=ge[J];this.bindings[Pe[0]]=Pe[1]}};xt.prototype.concat=function(C){return new xt(this,C)},xt.prototype.get=function(C){if(this.bindings[C])return this.bindings[C];if(this.parent)return this.parent.get(C);throw new Error(C+" not found in scope.")},xt.prototype.has=function(C){return!!this.bindings[C]||!!this.parent&&this.parent.has(C)};var Rt={kind:"null"},_t={kind:"number"},Tt={kind:"string"},It={kind:"boolean"},Wt={kind:"color"},Zt={kind:"object"},$t={kind:"value"},dn={kind:"collator"},nn={kind:"formatted"},cn={kind:"resolvedImage"};function rn(C,z){return{kind:"array",itemType:C,N:z}}function En(C){if("array"===C.kind){var z=En(C.itemType);return"number"==typeof C.N?"array<"+z+", "+C.N+">":"value"===C.itemType.kind?"array":"array<"+z+">"}return C.kind}var Pn=[Rt,_t,Tt,It,Wt,nn,Zt,rn($t),cn];function Mn(C,z){if("error"===z.kind)return null;if("array"===C.kind){if("array"===z.kind&&(0===z.N&&"value"===z.itemType.kind||!Mn(C.itemType,z.itemType))&&("number"!=typeof C.N||C.N===z.N))return null}else{if(C.kind===z.kind)return null;if("value"===C.kind)for(var J=0,ge=Pn;J<ge.length;J+=1)if(!Mn(ge[J],z))return null}return"Expected "+En(C)+" but found "+En(z)+" instead."}function en(C,z){return z.some(function(J){return J.kind===C.kind})}function gn(C,z){return z.some(function(J){return"null"===J?null===C:"array"===J?Array.isArray(C):"object"===J?C&&!Array.isArray(C)&&"object"==typeof C:J===typeof C})}var yn=S(function(C,z){var J={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ge(mt){return(mt=Math.round(mt))<0?0:mt>255?255:mt}function je(mt){return ge("%"===mt[mt.length-1]?parseFloat(mt)/100*255:parseInt(mt))}function Ye(mt){return function Pe(mt){return mt<0?0:mt>1?1:mt}("%"===mt[mt.length-1]?parseFloat(mt)/100:parseFloat(mt))}function at(mt,Ct,Lt){return Lt<0?Lt+=1:Lt>1&&(Lt-=1),6*Lt<1?mt+(Ct-mt)*Lt*6:2*Lt<1?Ct:3*Lt<2?mt+(Ct-mt)*(2/3-Lt)*6:mt}try{z.parseCSSColor=function(mt){var Ct,Lt=mt.replace(/ /g,"").toLowerCase();if(Lt in J)return J[Lt].slice();if("#"===Lt[0])return 4===Lt.length?(Ct=parseInt(Lt.substr(1),16))>=0&&Ct<=4095?[(3840&Ct)>>4|(3840&Ct)>>8,240&Ct|(240&Ct)>>4,15&Ct|(15&Ct)<<4,1]:null:7===Lt.length&&(Ct=parseInt(Lt.substr(1),16))>=0&&Ct<=16777215?[(16711680&Ct)>>16,(65280&Ct)>>8,255&Ct,1]:null;var Gt=Lt.indexOf("("),Jt=Lt.indexOf(")");if(-1!==Gt&&Jt+1===Lt.length){var Yt=Lt.substr(0,Gt),mn=Lt.substr(Gt+1,Jt-(Gt+1)).split(","),vn=1;switch(Yt){case"rgba":if(4!==mn.length)return null;vn=Ye(mn.pop());case"rgb":return 3!==mn.length?null:[je(mn[0]),je(mn[1]),je(mn[2]),vn];case"hsla":if(4!==mn.length)return null;vn=Ye(mn.pop());case"hsl":if(3!==mn.length)return null;var Bn=(parseFloat(mn[0])%360+360)%360/360,jn=Ye(mn[1]),Yn=Ye(mn[2]),$n=Yn<=.5?Yn*(jn+1):Yn+jn-Yn*jn,ir=2*Yn-$n;return[ge(255*at(ir,$n,Bn+1/3)),ge(255*at(ir,$n,Bn)),ge(255*at(ir,$n,Bn-1/3)),vn];default:return null}}return null}}catch{}}).parseCSSColor,kn=function(C,z,J,ge){void 0===ge&&(ge=1),this.r=C,this.g=z,this.b=J,this.a=ge};kn.parse=function(C){if(C){if(C instanceof kn)return C;if("string"==typeof C){var z=yn(C);if(z)return new kn(z[0]/255*z[3],z[1]/255*z[3],z[2]/255*z[3],z[3])}}},kn.prototype.toString=function(){var C=this.toArray(),J=C[1],ge=C[2],Pe=C[3];return"rgba("+Math.round(C[0])+","+Math.round(J)+","+Math.round(ge)+","+Pe+")"},kn.prototype.toArray=function(){var C=this,Pe=C.a;return 0===Pe?[0,0,0,0]:[255*C.r/Pe,255*C.g/Pe,255*C.b/Pe,Pe]},kn.black=new kn(0,0,0,1),kn.white=new kn(1,1,1,1),kn.transparent=new kn(0,0,0,0),kn.red=new kn(1,0,0,1);var Ln=function(C,z,J){this.sensitivity=C?z?"variant":"case":z?"accent":"base",this.locale=J,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Ln.prototype.compare=function(C,z){return this.collator.compare(C,z)},Ln.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Rn=function(C,z,J,ge,Pe){this.text=C,this.image=z,this.scale=J,this.fontStack=ge,this.textColor=Pe},Wn=function(C){this.sections=C};Wn.fromString=function(C){return new Wn([new Rn(C,null,null,null,null)])},Wn.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(C){return 0!==C.text.length||C.image&&0!==C.image.name.length})},Wn.factory=function(C){return C instanceof Wn?C:Wn.fromString(C)},Wn.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(C){return C.text}).join("")},Wn.prototype.serialize=function(){for(var C=["format"],z=0,J=this.sections;z<J.length;z+=1){var ge=J[z];if(ge.image)C.push(["image",ge.image.name]);else{C.push(ge.text);var Pe={};ge.fontStack&&(Pe["text-font"]=["literal",ge.fontStack.split(",")]),ge.scale&&(Pe["font-scale"]=ge.scale),ge.textColor&&(Pe["text-color"]=["rgba"].concat(ge.textColor.toArray())),C.push(Pe)}}return C};var Cn=function(C){this.name=C.name,this.available=C.available};function Zn(C,z,J,ge){return"number"==typeof C&&C>=0&&C<=255&&"number"==typeof z&&z>=0&&z<=255&&"number"==typeof J&&J>=0&&J<=255?void 0===ge||"number"==typeof ge&&ge>=0&&ge<=1?null:"Invalid rgba value ["+[C,z,J,ge].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof ge?[C,z,J,ge]:[C,z,J]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function mr(C){if(null===C||"string"==typeof C||"boolean"==typeof C||"number"==typeof C||C instanceof kn||C instanceof Ln||C instanceof Wn||C instanceof Cn)return!0;if(Array.isArray(C)){for(var z=0,J=C;z<J.length;z+=1)if(!mr(J[z]))return!1;return!0}if("object"==typeof C){for(var ge in C)if(!mr(C[ge]))return!1;return!0}return!1}function lr(C){if(null===C)return Rt;if("string"==typeof C)return Tt;if("boolean"==typeof C)return It;if("number"==typeof C)return _t;if(C instanceof kn)return Wt;if(C instanceof Ln)return dn;if(C instanceof Wn)return nn;if(C instanceof Cn)return cn;if(Array.isArray(C)){for(var z,J=C.length,ge=0,Pe=C;ge<Pe.length;ge+=1){var je=lr(Pe[ge]);if(z){if(z===je)continue;z=$t;break}z=je}return rn(z||$t,J)}return Zt}function er(C){var z=typeof C;return null===C?"":"string"===z||"number"===z||"boolean"===z?String(C):C instanceof kn||C instanceof Wn||C instanceof Cn?C.toString():JSON.stringify(C)}Cn.prototype.toString=function(){return this.name},Cn.fromString=function(C){return C?new Cn({name:C,available:!1}):null},Cn.prototype.serialize=function(){return["image",this.name]};var xr=function(C,z){this.type=C,this.value=z};xr.parse=function(C,z){if(2!==C.length)return z.error("'literal' expression requires exactly one argument, but found "+(C.length-1)+" instead.");if(!mr(C[1]))return z.error("invalid value");var J=C[1],ge=lr(J),Pe=z.expectedType;return"array"!==ge.kind||0!==ge.N||!Pe||"array"!==Pe.kind||"number"==typeof Pe.N&&0!==Pe.N||(ge=Pe),new xr(ge,J)},xr.prototype.evaluate=function(){return this.value},xr.prototype.eachChild=function(){},xr.prototype.outputDefined=function(){return!0},xr.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof kn?["rgba"].concat(this.value.toArray()):this.value instanceof Wn?this.value.serialize():this.value};var dr=function(C){this.name="ExpressionEvaluationError",this.message=C};dr.prototype.toJSON=function(){return this.message};var jr={string:Tt,number:_t,boolean:It,object:Zt},Kt=function(C,z){this.type=C,this.args=z};Kt.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var J,ge=1,Pe=C[0];if("array"===Pe){var je,Ye;if(C.length>2){var at=C[1];if("string"!=typeof at||!(at in jr)||"object"===at)return z.error('The item type argument of "array" must be one of string, number, boolean',1);je=jr[at],ge++}else je=$t;if(C.length>3){if(null!==C[2]&&("number"!=typeof C[2]||C[2]<0||C[2]!==Math.floor(C[2])))return z.error('The length argument to "array" must be a positive integer literal',2);Ye=C[2],ge++}J=rn(je,Ye)}else J=jr[Pe];for(var mt=[];ge<C.length;ge++){var Ct=z.parse(C[ge],ge,$t);if(!Ct)return null;mt.push(Ct)}return new Kt(J,mt)},Kt.prototype.evaluate=function(C){for(var z=0;z<this.args.length;z++){var J=this.args[z].evaluate(C);if(!Mn(this.type,lr(J)))return J;if(z===this.args.length-1)throw new dr("Expected value to be of type "+En(this.type)+", but found "+En(lr(J))+" instead.")}return null},Kt.prototype.eachChild=function(C){this.args.forEach(C)},Kt.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},Kt.prototype.serialize=function(){var C=this.type,z=[C.kind];if("array"===C.kind){var J=C.itemType;if("string"===J.kind||"number"===J.kind||"boolean"===J.kind){z.push(J.kind);var ge=C.N;("number"==typeof ge||this.args.length>1)&&z.push(ge)}}return z.concat(this.args.map(function(Pe){return Pe.serialize()}))};var qt=function(C){this.type=nn,this.sections=C};qt.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var J=C[1];if(!Array.isArray(J)&&"object"==typeof J)return z.error("First argument must be an image or text section.");for(var ge=[],Pe=!1,je=1;je<=C.length-1;++je){var Ye=C[je];if(Pe&&"object"==typeof Ye&&!Array.isArray(Ye)){Pe=!1;var at=null;if(Ye["font-scale"]&&!(at=z.parse(Ye["font-scale"],1,_t)))return null;var mt=null;if(Ye["text-font"]&&!(mt=z.parse(Ye["text-font"],1,rn(Tt))))return null;var Ct=null;if(Ye["text-color"]&&!(Ct=z.parse(Ye["text-color"],1,Wt)))return null;var Lt=ge[ge.length-1];Lt.scale=at,Lt.font=mt,Lt.textColor=Ct}else{var Gt=z.parse(C[je],1,$t);if(!Gt)return null;var Jt=Gt.type.kind;if("string"!==Jt&&"value"!==Jt&&"null"!==Jt&&"resolvedImage"!==Jt)return z.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Pe=!0,ge.push({content:Gt,scale:null,font:null,textColor:null})}}return new qt(ge)},qt.prototype.evaluate=function(C){return new Wn(this.sections.map(function(z){var J=z.content.evaluate(C);return lr(J)===cn?new Rn("",J,null,null,null):new Rn(er(J),null,z.scale?z.scale.evaluate(C):null,z.font?z.font.evaluate(C).join(","):null,z.textColor?z.textColor.evaluate(C):null)}))},qt.prototype.eachChild=function(C){for(var z=0,J=this.sections;z<J.length;z+=1){var ge=J[z];C(ge.content),ge.scale&&C(ge.scale),ge.font&&C(ge.font),ge.textColor&&C(ge.textColor)}},qt.prototype.outputDefined=function(){return!1},qt.prototype.serialize=function(){for(var C=["format"],z=0,J=this.sections;z<J.length;z+=1){var ge=J[z];C.push(ge.content.serialize());var Pe={};ge.scale&&(Pe["font-scale"]=ge.scale.serialize()),ge.font&&(Pe["text-font"]=ge.font.serialize()),ge.textColor&&(Pe["text-color"]=ge.textColor.serialize()),C.push(Pe)}return C};var Tn=function(C){this.type=cn,this.input=C};Tn.parse=function(C,z){if(2!==C.length)return z.error("Expected two arguments.");var J=z.parse(C[1],1,Tt);return J?new Tn(J):z.error("No image name provided.")},Tn.prototype.evaluate=function(C){var z=this.input.evaluate(C),J=Cn.fromString(z);return J&&C.availableImages&&(J.available=C.availableImages.indexOf(z)>-1),J},Tn.prototype.eachChild=function(C){C(this.input)},Tn.prototype.outputDefined=function(){return!1},Tn.prototype.serialize=function(){return["image",this.input.serialize()]};var xn={"to-boolean":It,"to-color":Wt,"to-number":_t,"to-string":Tt},In=function(C,z){this.type=C,this.args=z};In.parse=function(C,z){if(C.length<2)return z.error("Expected at least one argument.");var J=C[0];if(("to-boolean"===J||"to-string"===J)&&2!==C.length)return z.error("Expected one argument.");for(var ge=xn[J],Pe=[],je=1;je<C.length;je++){var Ye=z.parse(C[je],je,$t);if(!Ye)return null;Pe.push(Ye)}return new In(ge,Pe)},In.prototype.evaluate=function(C){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(C));if("color"===this.type.kind){for(var z,J,ge=0,Pe=this.args;ge<Pe.length;ge+=1){if(J=null,(z=Pe[ge].evaluate(C))instanceof kn)return z;if("string"==typeof z){var je=C.parseColor(z);if(je)return je}else if(Array.isArray(z)&&!(J=z.length<3||z.length>4?"Invalid rbga value "+JSON.stringify(z)+": expected an array containing either three or four numeric values.":Zn(z[0],z[1],z[2],z[3])))return new kn(z[0]/255,z[1]/255,z[2]/255,z[3])}throw new dr(J||"Could not parse color from value '"+("string"==typeof z?z:String(JSON.stringify(z)))+"'")}if("number"===this.type.kind){for(var Ye=null,at=0,mt=this.args;at<mt.length;at+=1){if(null===(Ye=mt[at].evaluate(C)))return 0;var Ct=Number(Ye);if(!isNaN(Ct))return Ct}throw new dr("Could not convert "+JSON.stringify(Ye)+" to number.")}return"formatted"===this.type.kind?Wn.fromString(er(this.args[0].evaluate(C))):"resolvedImage"===this.type.kind?Cn.fromString(er(this.args[0].evaluate(C))):er(this.args[0].evaluate(C))},In.prototype.eachChild=function(C){this.args.forEach(C)},In.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},In.prototype.serialize=function(){if("formatted"===this.type.kind)return new qt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Tn(this.args[0]).serialize();var C=["to-"+this.type.kind];return this.eachChild(function(z){C.push(z.serialize())}),C};var cr=["Unknown","Point","LineString","Polygon"],Kn=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Kn.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Kn.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?cr[this.feature.type]:this.feature.type:null},Kn.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Kn.prototype.canonicalID=function(){return this.canonical},Kn.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Kn.prototype.parseColor=function(C){var z=this._parseColorCache[C];return z||(z=this._parseColorCache[C]=kn.parse(C)),z};var Jn=function(C,z,J,ge){this.name=C,this.type=z,this._evaluate=J,this.args=ge};Jn.prototype.evaluate=function(C){return this._evaluate(C,this.args)},Jn.prototype.eachChild=function(C){this.args.forEach(C)},Jn.prototype.outputDefined=function(){return!1},Jn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(C){return C.serialize()}))},Jn.parse=function(C,z){var J,ge=C[0],Pe=Jn.definitions[ge];if(!Pe)return z.error('Unknown expression "'+ge+'". If you wanted a literal array, use ["literal", [...]].',0);for(var je=Array.isArray(Pe)?Pe[0]:Pe.type,Ye=Array.isArray(Pe)?[[Pe[1],Pe[2]]]:Pe.overloads,at=Ye.filter(function(yi){var ei=yi[0];return!Array.isArray(ei)||ei.length===C.length-1}),mt=null,Ct=0,Lt=at;Ct<Lt.length;Ct+=1){var Gt=Lt[Ct],Jt=Gt[0],Yt=Gt[1];mt=new _r(z.registry,z.path,null,z.scope);for(var mn=[],vn=!1,Bn=1;Bn<C.length;Bn++){var jn=C[Bn],Yn=Array.isArray(Jt)?Jt[Bn-1]:Jt.type,$n=mt.parse(jn,1+mn.length,Yn);if(!$n){vn=!0;break}mn.push($n)}if(!vn)if(Array.isArray(Jt)&&Jt.length!==mn.length)mt.error("Expected "+Jt.length+" arguments, but found "+mn.length+" instead.");else{for(var ir=0;ir<mn.length;ir++){var ur=Array.isArray(Jt)?Jt[ir]:Jt.type,yr=mn[ir];mt.concat(ir+1).checkSubtype(ur,yr.type)}if(0===mt.errors.length)return new Jn(ge,je,Yt,mn)}}if(1===at.length)(J=z.errors).push.apply(J,mt.errors);else{for(var Fr=(at.length?at:Ye).map(function(yi){return ei=yi[0],Array.isArray(ei)?"("+ei.map(En).join(", ")+")":"("+En(ei.type)+"...)";var ei}).join(" | "),Er=[],Gr=1;Gr<C.length;Gr++){var Kr=z.parse(C[Gr],1+Er.length);if(!Kr)return null;Er.push(En(Kr.type))}z.error("Expected arguments of type "+Fr+", but found ("+Er.join(", ")+") instead.")}return null},Jn.register=function(C,z){for(var J in Jn.definitions=z,z)C[J]=Jn};var vr=function(C,z,J){this.type=dn,this.locale=J,this.caseSensitive=C,this.diacriticSensitive=z};vr.parse=function(C,z){if(2!==C.length)return z.error("Expected one argument.");var J=C[1];if("object"!=typeof J||Array.isArray(J))return z.error("Collator options argument must be an object.");var ge=z.parse(void 0!==J["case-sensitive"]&&J["case-sensitive"],1,It);if(!ge)return null;var Pe=z.parse(void 0!==J["diacritic-sensitive"]&&J["diacritic-sensitive"],1,It);if(!Pe)return null;var je=null;return J.locale&&!(je=z.parse(J.locale,1,Tt))?null:new vr(ge,Pe,je)},vr.prototype.evaluate=function(C){return new Ln(this.caseSensitive.evaluate(C),this.diacriticSensitive.evaluate(C),this.locale?this.locale.evaluate(C):null)},vr.prototype.eachChild=function(C){C(this.caseSensitive),C(this.diacriticSensitive),this.locale&&C(this.locale)},vr.prototype.outputDefined=function(){return!1},vr.prototype.serialize=function(){var C={};return C["case-sensitive"]=this.caseSensitive.serialize(),C["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(C.locale=this.locale.serialize()),["collator",C]};var Qt=8192;function zn(C,z){C[0]=Math.min(C[0],z[0]),C[1]=Math.min(C[1],z[1]),C[2]=Math.max(C[2],z[0]),C[3]=Math.max(C[3],z[1])}function Ft(C,z){return!(C[0]<=z[0]||C[2]>=z[2]||C[1]<=z[1]||C[3]>=z[3])}function on(C,z){var ge=(180+C[0])/360,Pe=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+C[1]*Math.PI/360)))/360,je=Math.pow(2,z.z);return[Math.round(ge*je*Qt),Math.round(Pe*je*Qt)]}function un(C,z,J){return z[1]>C[1]!=J[1]>C[1]&&C[0]<(J[0]-z[0])*(C[1]-z[1])/(J[1]-z[1])+z[0]}function On(C,z){for(var J=!1,ge=0,Pe=z.length;ge<Pe;ge++)for(var je=z[ge],Ye=0,at=je.length;Ye<at-1;Ye++){if(void 0,void 0,void 0,void 0,(Gt=(mt=C)[0]-(Ct=je[Ye])[0])*(mn=mt[1]-(Lt=je[Ye+1])[1])-(Yt=mt[0]-Lt[0])*(Jt=mt[1]-Ct[1])==0&&Gt*Yt<=0&&Jt*mn<=0)return!1;un(C,je[Ye],je[Ye+1])&&(J=!J)}var mt,Ct,Lt,Gt,Jt,Yt,mn;return J}function Fn(C,z){for(var J=0;J<z.length;J++)if(On(C,z[J]))return!0;return!1}function Gn(C,z,J,ge){var mt=ge[0]-J[0],Ct=ge[1]-J[1],Lt=(C[0]-J[0])*Ct-mt*(C[1]-J[1]),Gt=(z[0]-J[0])*Ct-mt*(z[1]-J[1]);return Lt>0&&Gt<0||Lt<0&&Gt>0}function bn(C,z,J){for(var ge=0,Pe=J;ge<Pe.length;ge+=1)for(var je=Pe[ge],Ye=0;Ye<je.length-1;++Ye)if(void 0,void 0,(Gt=[(Lt=je[Ye+1])[0]-(Ct=je[Ye])[0],Lt[1]-Ct[1]])[0]*(Jt=[(mt=z)[0]-(at=C)[0],mt[1]-at[1]])[1]-Gt[1]*Jt[0]!=0&&Gn(at,mt,Ct,Lt)&&Gn(Ct,Lt,at,mt))return!0;var at,mt,Ct,Lt,Gt,Jt;return!1}function ln(C,z){for(var J=0;J<C.length;++J)if(!On(C[J],z))return!1;for(var ge=0;ge<C.length-1;++ge)if(bn(C[ge],C[ge+1],z))return!1;return!0}function fn(C,z){for(var J=0;J<z.length;J++)if(ln(C,z[J]))return!0;return!1}function _n(C,z,J){for(var ge=[],Pe=0;Pe<C.length;Pe++){for(var je=[],Ye=0;Ye<C[Pe].length;Ye++){var at=on(C[Pe][Ye],J);zn(z,at),je.push(at)}ge.push(je)}return ge}function wn(C,z,J){for(var ge=[],Pe=0;Pe<C.length;Pe++){var je=_n(C[Pe],z,J);ge.push(je)}return ge}function Un(C,z,J,ge){if(C[0]<J[0]||C[0]>J[2]){var Pe=.5*ge,je=C[0]-J[0]>Pe?-ge:J[0]-C[0]>Pe?ge:0;0===je&&(je=C[0]-J[2]>Pe?-ge:J[2]-C[0]>Pe?ge:0),C[0]+=je}zn(z,C)}function Hn(C,z,J,ge){for(var Pe=Math.pow(2,ge.z)*Qt,je=[ge.x*Qt,ge.y*Qt],Ye=[],at=0,mt=C;at<mt.length;at+=1)for(var Ct=0,Lt=mt[at];Ct<Lt.length;Ct+=1){var Gt=Lt[Ct],Jt=[Gt.x+je[0],Gt.y+je[1]];Un(Jt,z,J,Pe),Ye.push(Jt)}return Ye}function ar(C,z,J,ge){for(var Pe=Math.pow(2,ge.z)*Qt,je=[ge.x*Qt,ge.y*Qt],Ye=[],at=0,mt=C;at<mt.length;at+=1){for(var Ct=[],Lt=0,Gt=mt[at];Lt<Gt.length;Lt+=1){var Jt=Gt[Lt],Yt=[Jt.x+je[0],Jt.y+je[1]];zn(z,Yt),Ct.push(Yt)}Ye.push(Ct)}if(z[2]-z[0]<=Pe/2){(Yn=z)[0]=Yn[1]=1/0,Yn[2]=Yn[3]=-1/0;for(var mn=0,vn=Ye;mn<vn.length;mn+=1)for(var Bn=0,jn=vn[mn];Bn<jn.length;Bn+=1)Un(jn[Bn],z,J,Pe)}var Yn;return Ye}var tr=function(C,z){this.type=It,this.geojson=C,this.geometries=z};function gr(C){if(C instanceof Jn&&("get"===C.name&&1===C.args.length||"feature-state"===C.name||"has"===C.name&&1===C.args.length||"properties"===C.name||"geometry-type"===C.name||"id"===C.name||/^filter-/.test(C.name))||C instanceof tr)return!1;var z=!0;return C.eachChild(function(J){z&&!gr(J)&&(z=!1)}),z}function Vn(C){if(C instanceof Jn&&"feature-state"===C.name)return!1;var z=!0;return C.eachChild(function(J){z&&!Vn(J)&&(z=!1)}),z}function Tr(C,z){if(C instanceof Jn&&z.indexOf(C.name)>=0)return!1;var J=!0;return C.eachChild(function(ge){J&&!Tr(ge,z)&&(J=!1)}),J}tr.parse=function(C,z){if(2!==C.length)return z.error("'within' expression requires exactly one argument, but found "+(C.length-1)+" instead.");if(mr(C[1])){var J=C[1];if("FeatureCollection"===J.type)for(var ge=0;ge<J.features.length;++ge){var Pe=J.features[ge].geometry.type;if("Polygon"===Pe||"MultiPolygon"===Pe)return new tr(J,J.features[ge].geometry)}else if("Feature"===J.type){var je=J.geometry.type;if("Polygon"===je||"MultiPolygon"===je)return new tr(J,J.geometry)}else if("Polygon"===J.type||"MultiPolygon"===J.type)return new tr(J,J)}return z.error("'within' expression requires valid geojson object that contains polygon geometry type.")},tr.prototype.evaluate=function(C){if(null!=C.geometry()&&null!=C.canonicalID()){if("Point"===C.geometryType())return function(z,J){var ge=[1/0,1/0,-1/0,-1/0],Pe=[1/0,1/0,-1/0,-1/0],je=z.canonicalID();if("Polygon"===J.type){var Ye=_n(J.coordinates,Pe,je),at=Hn(z.geometry(),ge,Pe,je);if(!Ft(ge,Pe))return!1;for(var mt=0,Ct=at;mt<Ct.length;mt+=1)if(!On(Ct[mt],Ye))return!1}if("MultiPolygon"===J.type){var Lt=wn(J.coordinates,Pe,je),Gt=Hn(z.geometry(),ge,Pe,je);if(!Ft(ge,Pe))return!1;for(var Jt=0,Yt=Gt;Jt<Yt.length;Jt+=1)if(!Fn(Yt[Jt],Lt))return!1}return!0}(C,this.geometries);if("LineString"===C.geometryType())return function(z,J){var ge=[1/0,1/0,-1/0,-1/0],Pe=[1/0,1/0,-1/0,-1/0],je=z.canonicalID();if("Polygon"===J.type){var Ye=_n(J.coordinates,Pe,je),at=ar(z.geometry(),ge,Pe,je);if(!Ft(ge,Pe))return!1;for(var mt=0,Ct=at;mt<Ct.length;mt+=1)if(!ln(Ct[mt],Ye))return!1}if("MultiPolygon"===J.type){var Lt=wn(J.coordinates,Pe,je),Gt=ar(z.geometry(),ge,Pe,je);if(!Ft(ge,Pe))return!1;for(var Jt=0,Yt=Gt;Jt<Yt.length;Jt+=1)if(!fn(Yt[Jt],Lt))return!1}return!0}(C,this.geometries)}return!1},tr.prototype.eachChild=function(){},tr.prototype.outputDefined=function(){return!0},tr.prototype.serialize=function(){return["within",this.geojson]};var rr=function(C,z){this.type=z.type,this.name=C,this.boundExpression=z};rr.parse=function(C,z){if(2!==C.length||"string"!=typeof C[1])return z.error("'var' expression requires exactly one string literal argument.");var J=C[1];return z.scope.has(J)?new rr(J,z.scope.get(J)):z.error('Unknown variable "'+J+'". Make sure "'+J+'" has been bound in an enclosing "let" expression before using it.',1)},rr.prototype.evaluate=function(C){return this.boundExpression.evaluate(C)},rr.prototype.eachChild=function(){},rr.prototype.outputDefined=function(){return!1},rr.prototype.serialize=function(){return["var",this.name]};var _r=function(C,z,J,ge,Pe){void 0===z&&(z=[]),void 0===ge&&(ge=new xt),void 0===Pe&&(Pe=[]),this.registry=C,this.path=z,this.key=z.map(function(je){return"["+je+"]"}).join(""),this.scope=ge,this.errors=Pe,this.expectedType=J};function Ir(C){if(C instanceof rr)return Ir(C.boundExpression);if(C instanceof Jn&&"error"===C.name||C instanceof vr||C instanceof tr)return!1;var z=C instanceof In||C instanceof Kt,J=!0;return C.eachChild(function(ge){J=z?J&&Ir(ge):J&&ge instanceof xr}),!!J&&gr(C)&&Tr(C,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Lr(C,z){for(var J,Pe=C.length-1,je=0,Ye=Pe,at=0;je<=Ye;)if((J=C[at=Math.floor((je+Ye)/2)])<=z){if(at===Pe||z<C[at+1])return at;je=at+1}else{if(!(J>z))throw new dr("Input is not a number.");Ye=at-1}return 0}_r.prototype.parse=function(C,z,J,ge,Pe){return void 0===Pe&&(Pe={}),z?this.concat(z,J,ge)._parse(C,Pe):this._parse(C,Pe)},_r.prototype._parse=function(C,z){function J(Ct,Lt,Gt){return"assert"===Gt?new Kt(Lt,[Ct]):"coerce"===Gt?new In(Lt,[Ct]):Ct}if(null!==C&&"string"!=typeof C&&"boolean"!=typeof C&&"number"!=typeof C||(C=["literal",C]),Array.isArray(C)){if(0===C.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ge=C[0];if("string"!=typeof ge)return this.error("Expression name must be a string, but found "+typeof ge+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Pe=this.registry[ge];if(Pe){var je=Pe.parse(C,this);if(!je)return null;if(this.expectedType){var Ye=this.expectedType,at=je.type;if("string"!==Ye.kind&&"number"!==Ye.kind&&"boolean"!==Ye.kind&&"object"!==Ye.kind&&"array"!==Ye.kind||"value"!==at.kind)if("color"!==Ye.kind&&"formatted"!==Ye.kind&&"resolvedImage"!==Ye.kind||"value"!==at.kind&&"string"!==at.kind){if(this.checkSubtype(Ye,at))return null}else je=J(je,Ye,z.typeAnnotation||"coerce");else je=J(je,Ye,z.typeAnnotation||"assert")}if(!(je instanceof xr)&&"resolvedImage"!==je.type.kind&&Ir(je)){var mt=new Kn;try{je=new xr(je.type,je.evaluate(mt))}catch(Ct){return this.error(Ct.message),null}}return je}return this.error('Unknown expression "'+ge+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===C?"'undefined' value invalid. Use null instead.":"object"==typeof C?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof C+" instead.")},_r.prototype.concat=function(C,z,J){var ge="number"==typeof C?this.path.concat(C):this.path,Pe=J?this.scope.concat(J):this.scope;return new _r(this.registry,ge,z||null,Pe,this.errors)},_r.prototype.error=function(C){for(var z=[],J=arguments.length-1;J-- >0;)z[J]=arguments[J+1];var ge=""+this.key+z.map(function(Pe){return"["+Pe+"]"}).join("");this.errors.push(new At(ge,C))},_r.prototype.checkSubtype=function(C,z){var J=Mn(C,z);return J&&this.error(J),J};var Jr=function(C,z,J){this.type=C,this.input=z,this.labels=[],this.outputs=[];for(var ge=0,Pe=J;ge<Pe.length;ge+=1){var je=Pe[ge],at=je[1];this.labels.push(je[0]),this.outputs.push(at)}};function fr(C,z,J){return C*(1-J)+z*J}Jr.parse=function(C,z){if(C.length-1<4)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if((C.length-1)%2!=0)return z.error("Expected an even number of arguments.");var J=z.parse(C[1],1,_t);if(!J)return null;var ge=[],Pe=null;z.expectedType&&"value"!==z.expectedType.kind&&(Pe=z.expectedType);for(var je=1;je<C.length;je+=2){var Ye=1===je?-1/0:C[je],at=C[je+1],mt=je,Ct=je+1;if("number"!=typeof Ye)return z.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',mt);if(ge.length&&ge[ge.length-1][0]>=Ye)return z.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',mt);var Lt=z.parse(at,Ct,Pe);if(!Lt)return null;Pe=Pe||Lt.type,ge.push([Ye,Lt])}return new Jr(Pe,J,ge)},Jr.prototype.evaluate=function(C){var z=this.labels,J=this.outputs;if(1===z.length)return J[0].evaluate(C);var ge=this.input.evaluate(C);if(ge<=z[0])return J[0].evaluate(C);var Pe=z.length;return ge>=z[Pe-1]?J[Pe-1].evaluate(C):J[Lr(z,ge)].evaluate(C)},Jr.prototype.eachChild=function(C){C(this.input);for(var z=0,J=this.outputs;z<J.length;z+=1)C(J[z])},Jr.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})},Jr.prototype.serialize=function(){for(var C=["step",this.input.serialize()],z=0;z<this.labels.length;z++)z>0&&C.push(this.labels[z]),C.push(this.outputs[z].serialize());return C};var Rr=Object.freeze({__proto__:null,number:fr,color:function(C,z,J){return new kn(fr(C.r,z.r,J),fr(C.g,z.g,J),fr(C.b,z.b,J),fr(C.a,z.a,J))},array:function(C,z,J){return C.map(function(ge,Pe){return fr(ge,z[Pe],J)})}}),oi=.95047,ji=1,ko=1.08883,Zr=4/29,_o=6/29,ao=3*_o*_o,Bi=_o*_o*_o,Ps=Math.PI/180,ss=180/Math.PI;function Vi(C){return C>Bi?Math.pow(C,.3333333333333333):C/ao+Zr}function ju(C){return C>_o?C*C*C:ao*(C-Zr)}function Ac(C){return 255*(C<=.0031308?12.92*C:1.055*Math.pow(C,.4166666666666667)-.055)}function Jc(C){return(C/=255)<=.04045?C/12.92:Math.pow((C+.055)/1.055,2.4)}function rc(C){var z=Jc(C.r),J=Jc(C.g),ge=Jc(C.b),Pe=Vi((.4124564*z+.3575761*J+.1804375*ge)/oi),je=Vi((.2126729*z+.7151522*J+.072175*ge)/ji);return{l:116*je-16,a:500*(Pe-je),b:200*(je-Vi((.0193339*z+.119192*J+.9503041*ge)/ko)),alpha:C.a}}function vs(C){var z=(C.l+16)/116,J=isNaN(C.a)?z:z+C.a/500,ge=isNaN(C.b)?z:z-C.b/200;return z=ji*ju(z),J=oi*ju(J),ge=ko*ju(ge),new kn(Ac(3.2404542*J-1.5371385*z-.4985314*ge),Ac(-.969266*J+1.8760108*z+.041556*ge),Ac(.0556434*J-.2040259*z+1.0572252*ge),C.alpha)}function Rc(C,z,J){var ge=z-C;return C+J*(ge>180||ge<-180?ge-360*Math.round(ge/360):ge)}var ic={forward:rc,reverse:vs,interpolate:function(C,z,J){return{l:fr(C.l,z.l,J),a:fr(C.a,z.a,J),b:fr(C.b,z.b,J),alpha:fr(C.alpha,z.alpha,J)}}},oc={forward:function(C){var z=rc(C),J=z.l,ge=z.a,Pe=z.b,je=Math.atan2(Pe,ge)*ss;return{h:je<0?je+360:je,c:Math.sqrt(ge*ge+Pe*Pe),l:J,alpha:C.a}},reverse:function(C){var z=C.h*Ps,J=C.c;return vs({l:C.l,a:Math.cos(z)*J,b:Math.sin(z)*J,alpha:C.alpha})},interpolate:function(C,z,J){return{h:Rc(C.h,z.h,J),c:fr(C.c,z.c,J),l:fr(C.l,z.l,J),alpha:fr(C.alpha,z.alpha,J)}}},tl=Object.freeze({__proto__:null,lab:ic,hcl:oc}),Ho=function(C,z,J,ge,Pe){this.type=C,this.operator=z,this.interpolation=J,this.input=ge,this.labels=[],this.outputs=[];for(var je=0,Ye=Pe;je<Ye.length;je+=1){var at=Ye[je],Ct=at[1];this.labels.push(at[0]),this.outputs.push(Ct)}};function bl(C,z,J,ge){var Pe=ge-J,je=C-J;return 0===Pe?0:1===z?je/Pe:(Math.pow(z,je)-1)/(Math.pow(z,Pe)-1)}Ho.interpolationFactor=function(C,z,J,ge){var Pe=0;if("exponential"===C.name)Pe=bl(z,C.base,J,ge);else if("linear"===C.name)Pe=bl(z,1,J,ge);else if("cubic-bezier"===C.name){var je=C.controlPoints;Pe=new v(je[0],je[1],je[2],je[3]).solve(bl(z,1,J,ge))}return Pe},Ho.parse=function(C,z){var J=C[0],ge=C[1],Pe=C[2],je=C.slice(3);if(!Array.isArray(ge)||0===ge.length)return z.error("Expected an interpolation type expression.",1);if("linear"===ge[0])ge={name:"linear"};else if("exponential"===ge[0]){var Ye=ge[1];if("number"!=typeof Ye)return z.error("Exponential interpolation requires a numeric base.",1,1);ge={name:"exponential",base:Ye}}else{if("cubic-bezier"!==ge[0])return z.error("Unknown interpolation type "+String(ge[0]),1,0);var at=ge.slice(1);if(4!==at.length||at.some(function(Bn){return"number"!=typeof Bn||Bn<0||Bn>1}))return z.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ge={name:"cubic-bezier",controlPoints:at}}if(C.length-1<4)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if((C.length-1)%2!=0)return z.error("Expected an even number of arguments.");if(!(Pe=z.parse(Pe,2,_t)))return null;var mt=[],Ct=null;"interpolate-hcl"===J||"interpolate-lab"===J?Ct=Wt:z.expectedType&&"value"!==z.expectedType.kind&&(Ct=z.expectedType);for(var Lt=0;Lt<je.length;Lt+=2){var Gt=je[Lt],Jt=je[Lt+1],Yt=Lt+3,mn=Lt+4;if("number"!=typeof Gt)return z.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Yt);if(mt.length&&mt[mt.length-1][0]>=Gt)return z.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Yt);var vn=z.parse(Jt,mn,Ct);if(!vn)return null;Ct=Ct||vn.type,mt.push([Gt,vn])}return"number"===Ct.kind||"color"===Ct.kind||"array"===Ct.kind&&"number"===Ct.itemType.kind&&"number"==typeof Ct.N?new Ho(Ct,J,ge,Pe,mt):z.error("Type "+En(Ct)+" is not interpolatable.")},Ho.prototype.evaluate=function(C){var z=this.labels,J=this.outputs;if(1===z.length)return J[0].evaluate(C);var ge=this.input.evaluate(C);if(ge<=z[0])return J[0].evaluate(C);var Pe=z.length;if(ge>=z[Pe-1])return J[Pe-1].evaluate(C);var je=Lr(z,ge),mt=Ho.interpolationFactor(this.interpolation,ge,z[je],z[je+1]),Ct=J[je].evaluate(C),Lt=J[je+1].evaluate(C);return"interpolate"===this.operator?Rr[this.type.kind.toLowerCase()](Ct,Lt,mt):"interpolate-hcl"===this.operator?oc.reverse(oc.interpolate(oc.forward(Ct),oc.forward(Lt),mt)):ic.reverse(ic.interpolate(ic.forward(Ct),ic.forward(Lt),mt))},Ho.prototype.eachChild=function(C){C(this.input);for(var z=0,J=this.outputs;z<J.length;z+=1)C(J[z])},Ho.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})},Ho.prototype.serialize=function(){var C;C="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var z=[this.operator,C,this.input.serialize()],J=0;J<this.labels.length;J++)z.push(this.labels[J],this.outputs[J].serialize());return z};var Li=function(C,z){this.type=C,this.args=z};Li.parse=function(C,z){if(C.length<2)return z.error("Expectected at least one argument.");var J=null,ge=z.expectedType;ge&&"value"!==ge.kind&&(J=ge);for(var Pe=[],je=0,Ye=C.slice(1);je<Ye.length;je+=1){var mt=z.parse(Ye[je],1+Pe.length,J,void 0,{typeAnnotation:"omit"});if(!mt)return null;J=J||mt.type,Pe.push(mt)}var Ct=ge&&Pe.some(function(Lt){return Mn(ge,Lt.type)});return new Li(Ct?$t:J,Pe)},Li.prototype.evaluate=function(C){for(var z,J=null,ge=0,Pe=0,je=this.args;Pe<je.length&&(ge++,(J=je[Pe].evaluate(C))&&J instanceof Cn&&!J.available&&(z||(z=J.name),J=null,ge===this.args.length&&(J=z)),null===J);Pe+=1);return J},Li.prototype.eachChild=function(C){this.args.forEach(C)},Li.prototype.outputDefined=function(){return this.args.every(function(C){return C.outputDefined()})},Li.prototype.serialize=function(){var C=["coalesce"];return this.eachChild(function(z){C.push(z.serialize())}),C};var nl=function(C,z){this.type=z.type,this.bindings=[].concat(C),this.result=z};nl.prototype.evaluate=function(C){return this.result.evaluate(C)},nl.prototype.eachChild=function(C){for(var z=0,J=this.bindings;z<J.length;z+=1)C(J[z][1]);C(this.result)},nl.parse=function(C,z){if(C.length<4)return z.error("Expected at least 3 arguments, but found "+(C.length-1)+" instead.");for(var J=[],ge=1;ge<C.length-1;ge+=2){var Pe=C[ge];if("string"!=typeof Pe)return z.error("Expected string, but found "+typeof Pe+" instead.",ge);if(/[^a-zA-Z0-9_]/.test(Pe))return z.error("Variable names must contain only alphanumeric characters or '_'.",ge);var je=z.parse(C[ge+1],ge+1);if(!je)return null;J.push([Pe,je])}var Ye=z.parse(C[C.length-1],C.length-1,z.expectedType,J);return Ye?new nl(J,Ye):null},nl.prototype.outputDefined=function(){return this.result.outputDefined()},nl.prototype.serialize=function(){for(var C=["let"],z=0,J=this.bindings;z<J.length;z+=1){var ge=J[z];C.push(ge[0],ge[1].serialize())}return C.push(this.result.serialize()),C};var Dr=function(C,z,J){this.type=C,this.index=z,this.input=J};Dr.parse=function(C,z){if(3!==C.length)return z.error("Expected 2 arguments, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1,_t),ge=z.parse(C[2],2,rn(z.expectedType||$t));return J&&ge?new Dr(ge.type.itemType,J,ge):null},Dr.prototype.evaluate=function(C){var z=this.index.evaluate(C),J=this.input.evaluate(C);if(z<0)throw new dr("Array index out of bounds: "+z+" < 0.");if(z>=J.length)throw new dr("Array index out of bounds: "+z+" > "+(J.length-1)+".");if(z!==Math.floor(z))throw new dr("Array index must be an integer, but found "+z+" instead.");return J[z]},Dr.prototype.eachChild=function(C){C(this.index),C(this.input)},Dr.prototype.outputDefined=function(){return!1},Dr.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var rl=function(C,z){this.type=It,this.needle=C,this.haystack=z};rl.parse=function(C,z){if(3!==C.length)return z.error("Expected 2 arguments, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1,$t),ge=z.parse(C[2],2,$t);return J&&ge?en(J.type,[It,Tt,_t,Rt,$t])?new rl(J,ge):z.error("Expected first argument to be of type boolean, string, number or null, but found "+En(J.type)+" instead"):null},rl.prototype.evaluate=function(C){var z=this.needle.evaluate(C),J=this.haystack.evaluate(C);if(!J)return!1;if(!gn(z,["boolean","string","number","null"]))throw new dr("Expected first argument to be of type boolean, string, number or null, but found "+En(lr(z))+" instead.");if(!gn(J,["string","array"]))throw new dr("Expected second argument to be of type array or string, but found "+En(lr(J))+" instead.");return J.indexOf(z)>=0},rl.prototype.eachChild=function(C){C(this.needle),C(this.haystack)},rl.prototype.outputDefined=function(){return!0},rl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var gi=function(C,z,J){this.type=_t,this.needle=C,this.haystack=z,this.fromIndex=J};gi.parse=function(C,z){if(C.length<=2||C.length>=5)return z.error("Expected 3 or 4 arguments, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1,$t),ge=z.parse(C[2],2,$t);if(!J||!ge)return null;if(!en(J.type,[It,Tt,_t,Rt,$t]))return z.error("Expected first argument to be of type boolean, string, number or null, but found "+En(J.type)+" instead");if(4===C.length){var Pe=z.parse(C[3],3,_t);return Pe?new gi(J,ge,Pe):null}return new gi(J,ge)},gi.prototype.evaluate=function(C){var z=this.needle.evaluate(C),J=this.haystack.evaluate(C);if(!gn(z,["boolean","string","number","null"]))throw new dr("Expected first argument to be of type boolean, string, number or null, but found "+En(lr(z))+" instead.");if(!gn(J,["string","array"]))throw new dr("Expected second argument to be of type array or string, but found "+En(lr(J))+" instead.");if(this.fromIndex){var ge=this.fromIndex.evaluate(C);return J.indexOf(z,ge)}return J.indexOf(z)},gi.prototype.eachChild=function(C){C(this.needle),C(this.haystack),this.fromIndex&&C(this.fromIndex)},gi.prototype.outputDefined=function(){return!1},gi.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var C=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),C]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Rs=function(C,z,J,ge,Pe,je){this.inputType=C,this.type=z,this.input=J,this.cases=ge,this.outputs=Pe,this.otherwise=je};Rs.parse=function(C,z){if(C.length<5)return z.error("Expected at least 4 arguments, but found only "+(C.length-1)+".");if(C.length%2!=1)return z.error("Expected an even number of arguments.");var J,ge;z.expectedType&&"value"!==z.expectedType.kind&&(ge=z.expectedType);for(var Pe={},je=[],Ye=2;Ye<C.length-1;Ye+=2){var at=C[Ye],mt=C[Ye+1];Array.isArray(at)||(at=[at]);var Ct=z.concat(Ye);if(0===at.length)return Ct.error("Expected at least one branch label.");for(var Lt=0,Gt=at;Lt<Gt.length;Lt+=1){var Jt=Gt[Lt];if("number"!=typeof Jt&&"string"!=typeof Jt)return Ct.error("Branch labels must be numbers or strings.");if("number"==typeof Jt&&Math.abs(Jt)>Number.MAX_SAFE_INTEGER)return Ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof Jt&&Math.floor(Jt)!==Jt)return Ct.error("Numeric branch labels must be integer values.");if(J){if(Ct.checkSubtype(J,lr(Jt)))return null}else J=lr(Jt);if(void 0!==Pe[String(Jt)])return Ct.error("Branch labels must be unique.");Pe[String(Jt)]=je.length}var Yt=z.parse(mt,Ye,ge);if(!Yt)return null;ge=ge||Yt.type,je.push(Yt)}var mn=z.parse(C[1],1,$t);if(!mn)return null;var vn=z.parse(C[C.length-1],C.length-1,ge);return vn?"value"!==mn.type.kind&&z.concat(1).checkSubtype(J,mn.type)?null:new Rs(J,ge,mn,Pe,je,vn):null},Rs.prototype.evaluate=function(C){var z=this.input.evaluate(C);return(lr(z)===this.inputType&&this.outputs[this.cases[z]]||this.otherwise).evaluate(C)},Rs.prototype.eachChild=function(C){C(this.input),this.outputs.forEach(C),C(this.otherwise)},Rs.prototype.outputDefined=function(){return this.outputs.every(function(C){return C.outputDefined()})&&this.otherwise.outputDefined()},Rs.prototype.serialize=function(){for(var C=this,z=["match",this.input.serialize()],J=[],ge={},Pe=0,je=Object.keys(this.cases).sort();Pe<je.length;Pe+=1){var Ye=je[Pe];void 0===(Gt=ge[this.cases[Ye]])?(ge[this.cases[Ye]]=J.length,J.push([this.cases[Ye],[Ye]])):J[Gt][1].push(Ye)}for(var at=function(Yt){return"number"===C.inputType.kind?Number(Yt):Yt},mt=0,Ct=J;mt<Ct.length;mt+=1){var Lt=Ct[mt],Gt=Lt[0],Jt=Lt[1];z.push(1===Jt.length?at(Jt[0]):Jt.map(at)),z.push(this.outputs[outputIndex$1].serialize())}return z.push(this.otherwise.serialize()),z};var Fs=function(C,z,J){this.type=C,this.branches=z,this.otherwise=J};Fs.parse=function(C,z){if(C.length<4)return z.error("Expected at least 3 arguments, but found only "+(C.length-1)+".");if(C.length%2!=0)return z.error("Expected an odd number of arguments.");var J;z.expectedType&&"value"!==z.expectedType.kind&&(J=z.expectedType);for(var ge=[],Pe=1;Pe<C.length-1;Pe+=2){var je=z.parse(C[Pe],Pe,It);if(!je)return null;var Ye=z.parse(C[Pe+1],Pe+1,J);if(!Ye)return null;ge.push([je,Ye]),J=J||Ye.type}var at=z.parse(C[C.length-1],C.length-1,J);return at?new Fs(J,ge,at):null},Fs.prototype.evaluate=function(C){for(var z=0,J=this.branches;z<J.length;z+=1){var ge=J[z],je=ge[1];if(ge[0].evaluate(C))return je.evaluate(C)}return this.otherwise.evaluate(C)},Fs.prototype.eachChild=function(C){for(var z=0,J=this.branches;z<J.length;z+=1){var ge=J[z],je=ge[1];C(ge[0]),C(je)}C(this.otherwise)},Fs.prototype.outputDefined=function(){return this.branches.every(function(C){return C[1].outputDefined()})&&this.otherwise.outputDefined()},Fs.prototype.serialize=function(){var C=["case"];return this.eachChild(function(z){C.push(z.serialize())}),C};var ls=function(C,z,J,ge){this.type=C,this.input=z,this.beginIndex=J,this.endIndex=ge};function Qc(C,z){return"=="===C||"!="===C?"boolean"===z.kind||"string"===z.kind||"number"===z.kind||"null"===z.kind||"value"===z.kind:"string"===z.kind||"number"===z.kind||"value"===z.kind}function Vu(C,z,J,ge){return 0===ge.compare(z,J)}function Fl(C,z,J){var ge="=="!==C&&"!="!==C;return function(){function Pe(je,Ye,at){this.type=It,this.lhs=je,this.rhs=Ye,this.collator=at,this.hasUntypedArgument="value"===je.type.kind||"value"===Ye.type.kind}return Pe.parse=function(je,Ye){if(3!==je.length&&4!==je.length)return Ye.error("Expected two or three arguments.");var at=je[0],mt=Ye.parse(je[1],1,$t);if(!mt)return null;if(!Qc(at,mt.type))return Ye.concat(1).error('"'+at+"\" comparisons are not supported for type '"+En(mt.type)+"'.");var Ct=Ye.parse(je[2],2,$t);if(!Ct)return null;if(!Qc(at,Ct.type))return Ye.concat(2).error('"'+at+"\" comparisons are not supported for type '"+En(Ct.type)+"'.");if(mt.type.kind!==Ct.type.kind&&"value"!==mt.type.kind&&"value"!==Ct.type.kind)return Ye.error("Cannot compare types '"+En(mt.type)+"' and '"+En(Ct.type)+"'.");ge&&("value"===mt.type.kind&&"value"!==Ct.type.kind?mt=new Kt(Ct.type,[mt]):"value"!==mt.type.kind&&"value"===Ct.type.kind&&(Ct=new Kt(mt.type,[Ct])));var Lt=null;if(4===je.length){if("string"!==mt.type.kind&&"string"!==Ct.type.kind&&"value"!==mt.type.kind&&"value"!==Ct.type.kind)return Ye.error("Cannot use collator to compare non-string types.");if(!(Lt=Ye.parse(je[3],3,dn)))return null}return new Pe(mt,Ct,Lt)},Pe.prototype.evaluate=function(je){var Ye=this.lhs.evaluate(je),at=this.rhs.evaluate(je);if(ge&&this.hasUntypedArgument){var mt=lr(Ye),Ct=lr(at);if(mt.kind!==Ct.kind||"string"!==mt.kind&&"number"!==mt.kind)throw new dr('Expected arguments for "'+C+'" to be (string, string) or (number, number), but found ('+mt.kind+", "+Ct.kind+") instead.")}if(this.collator&&!ge&&this.hasUntypedArgument){var Lt=lr(Ye),Gt=lr(at);if("string"!==Lt.kind||"string"!==Gt.kind)return z(je,Ye,at)}return this.collator?J(je,Ye,at,this.collator.evaluate(je)):z(je,Ye,at)},Pe.prototype.eachChild=function(je){je(this.lhs),je(this.rhs),this.collator&&je(this.collator)},Pe.prototype.outputDefined=function(){return!0},Pe.prototype.serialize=function(){var je=[C];return this.eachChild(function(Ye){je.push(Ye.serialize())}),je},Pe}()}ls.parse=function(C,z){if(C.length<=2||C.length>=5)return z.error("Expected 3 or 4 arguments, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1,$t),ge=z.parse(C[2],2,_t);if(!J||!ge)return null;if(!en(J.type,[rn($t),Tt,$t]))return z.error("Expected first argument to be of type array or string, but found "+En(J.type)+" instead");if(4===C.length){var Pe=z.parse(C[3],3,_t);return Pe?new ls(J.type,J,ge,Pe):null}return new ls(J.type,J,ge)},ls.prototype.evaluate=function(C){var z=this.input.evaluate(C),J=this.beginIndex.evaluate(C);if(!gn(z,["string","array"]))throw new dr("Expected first argument to be of type array or string, but found "+En(lr(z))+" instead.");if(this.endIndex){var ge=this.endIndex.evaluate(C);return z.slice(J,ge)}return z.slice(J)},ls.prototype.eachChild=function(C){C(this.input),C(this.beginIndex),this.endIndex&&C(this.endIndex)},ls.prototype.outputDefined=function(){return!1},ls.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var C=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),C]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var il=Fl("==",function(C,z,J){return z===J},Vu),ys=Fl("!=",function(C,z,J){return z!==J},function(C,z,J,ge){return!Vu(0,z,J,ge)}),xs=Fl("<",function(C,z,J){return z<J},function(C,z,J,ge){return ge.compare(z,J)<0}),Ns=Fl(">",function(C,z,J){return z>J},function(C,z,J,ge){return ge.compare(z,J)>0}),Gi=Fl("<=",function(C,z,J){return z<=J},function(C,z,J,ge){return ge.compare(z,J)<=0}),wl=Fl(">=",function(C,z,J){return z>=J},function(C,z,J,ge){return ge.compare(z,J)>=0}),ol=function(C,z,J,ge,Pe){this.type=Tt,this.number=C,this.locale=z,this.currency=J,this.minFractionDigits=ge,this.maxFractionDigits=Pe};ol.parse=function(C,z){if(3!==C.length)return z.error("Expected two arguments.");var J=z.parse(C[1],1,_t);if(!J)return null;var ge=C[2];if("object"!=typeof ge||Array.isArray(ge))return z.error("NumberFormat options argument must be an object.");var Pe=null;if(ge.locale&&!(Pe=z.parse(ge.locale,1,Tt)))return null;var je=null;if(ge.currency&&!(je=z.parse(ge.currency,1,Tt)))return null;var Ye=null;if(ge["min-fraction-digits"]&&!(Ye=z.parse(ge["min-fraction-digits"],1,_t)))return null;var at=null;return ge["max-fraction-digits"]&&!(at=z.parse(ge["max-fraction-digits"],1,_t))?null:new ol(J,Pe,je,Ye,at)},ol.prototype.evaluate=function(C){return new Intl.NumberFormat(this.locale?this.locale.evaluate(C):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(C):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(C):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(C):void 0}).format(this.number.evaluate(C))},ol.prototype.eachChild=function(C){C(this.number),this.locale&&C(this.locale),this.currency&&C(this.currency),this.minFractionDigits&&C(this.minFractionDigits),this.maxFractionDigits&&C(this.maxFractionDigits)},ol.prototype.outputDefined=function(){return!1},ol.prototype.serialize=function(){var C={};return this.locale&&(C.locale=this.locale.serialize()),this.currency&&(C.currency=this.currency.serialize()),this.minFractionDigits&&(C["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(C["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),C]};var Tl=function(C){this.type=_t,this.input=C};Tl.parse=function(C,z){if(2!==C.length)return z.error("Expected 1 argument, but found "+(C.length-1)+" instead.");var J=z.parse(C[1],1);return J?"array"!==J.type.kind&&"string"!==J.type.kind&&"value"!==J.type.kind?z.error("Expected argument of type string or array, but found "+En(J.type)+" instead."):new Tl(J):null},Tl.prototype.evaluate=function(C){var z=this.input.evaluate(C);if("string"==typeof z||Array.isArray(z))return z.length;throw new dr("Expected value to be of type string or array, but found "+En(lr(z))+" instead.")},Tl.prototype.eachChild=function(C){C(this.input)},Tl.prototype.outputDefined=function(){return!1},Tl.prototype.serialize=function(){var C=["length"];return this.eachChild(function(z){C.push(z.serialize())}),C};var ac={"==":il,"!=":ys,">":Ns,"<":xs,">=":wl,"<=":Gi,array:Kt,at:Dr,boolean:Kt,case:Fs,coalesce:Li,collator:vr,format:qt,image:Tn,in:rl,"index-of":gi,interpolate:Ho,"interpolate-hcl":Ho,"interpolate-lab":Ho,length:Tl,let:nl,literal:xr,match:Rs,number:Kt,"number-format":ol,object:Kt,slice:ls,step:Jr,string:Kt,"to-boolean":In,"to-color":In,"to-number":In,"to-string":In,var:rr,within:tr};function _s(C,z){var J=z[0],ge=z[1],Pe=z[2],je=z[3];J=J.evaluate(C),ge=ge.evaluate(C),Pe=Pe.evaluate(C);var Ye=je?je.evaluate(C):1,at=Zn(J,ge,Pe,Ye);if(at)throw new dr(at);return new kn(J/255*Ye,ge/255*Ye,Pe/255*Ye,Ye)}function sc(C,z){return C in z}function vu(C,z){var J=z[C];return void 0===J?null:J}function Ki(C){return{type:C}}function lc(C){return{result:"success",value:C}}function al(C){return{result:"error",value:C}}function Ml(C){return"data-driven"===C["property-type"]||"cross-faded-data-driven"===C["property-type"]}function Ui(C){return!!C.expression&&C.expression.parameters.indexOf("zoom")>-1}function Nl(C){return!!C.expression&&C.expression.interpolated}function Ji(C){return C instanceof Number?"number":C instanceof String?"string":C instanceof Boolean?"boolean":Array.isArray(C)?"array":null===C?"null":typeof C}function Vr(C){return"object"==typeof C&&null!==C&&!Array.isArray(C)}function pa(C){return C}function Si(C,z){var J,ge,Pe,je="color"===z.type,Ye=C.stops&&"object"==typeof C.stops[0][0],mt=Ye||!(Ye||void 0!==C.property),Ct=C.type||(Nl(z)?"exponential":"interval");if(je&&((C=dt({},C)).stops&&(C.stops=C.stops.map(function(Er){return[Er[0],kn.parse(Er[1])]})),C.default=kn.parse(C.default?C.default:z.default)),C.colorSpace&&"rgb"!==C.colorSpace&&!tl[C.colorSpace])throw new Error("Unknown color space: "+C.colorSpace);if("exponential"===Ct)J=Ka;else if("interval"===Ct)J=Al;else if("categorical"===Ct){J=Xa,ge=Object.create(null);for(var Lt=0,Gt=C.stops;Lt<Gt.length;Lt+=1){var Jt=Gt[Lt];ge[Jt[0]]=Jt[1]}Pe=typeof C.stops[0][0]}else{if("identity"!==Ct)throw new Error('Unknown function type "'+Ct+'"');J=yu}if(Ye){for(var Yt={},mn=[],vn=0;vn<C.stops.length;vn++){var Bn=C.stops[vn],jn=Bn[0].zoom;void 0===Yt[jn]&&(Yt[jn]={zoom:jn,type:C.type,property:C.property,default:C.default,stops:[]},mn.push(jn)),Yt[jn].stops.push([Bn[0].value,Bn[1]])}for(var Yn=[],$n=0,ir=mn;$n<ir.length;$n+=1){var ur=ir[$n];Yn.push([Yt[ur].zoom,Si(Yt[ur],z)])}var yr={name:"linear"};return{kind:"composite",interpolationType:yr,interpolationFactor:Ho.interpolationFactor.bind(void 0,yr),zoomStops:Yn.map(function(Er){return Er[0]}),evaluate:function(Er,Gr){var Kr=Er.zoom;return Ka({stops:Yn,base:C.base},z,Kr).evaluate(Kr,Gr)}}}if(mt){var Fr="exponential"===Ct?{name:"exponential",base:void 0!==C.base?C.base:1}:null;return{kind:"camera",interpolationType:Fr,interpolationFactor:Ho.interpolationFactor.bind(void 0,Fr),zoomStops:C.stops.map(function(Er){return Er[0]}),evaluate:function(Er){return J(C,z,Er.zoom,ge,Pe)}}}return{kind:"source",evaluate:function(Er,Gr){var Kr=Gr&&Gr.properties?Gr.properties[C.property]:void 0;return void 0===Kr?Go(C.default,z.default):J(C,z,Kr,ge,Pe)}}}function Go(C,z,J){return void 0!==C?C:void 0!==z?z:void 0!==J?J:void 0}function Xa(C,z,J,ge,Pe){return Go(typeof J===Pe?ge[J]:void 0,C.default,z.default)}function Al(C,z,J){if("number"!==Ji(J))return Go(C.default,z.default);var ge=C.stops.length;if(1===ge||J<=C.stops[0][0])return C.stops[0][1];if(J>=C.stops[ge-1][0])return C.stops[ge-1][1];var Pe=Lr(C.stops.map(function(je){return je[0]}),J);return C.stops[Pe][1]}function Ka(C,z,J){var ge=void 0!==C.base?C.base:1;if("number"!==Ji(J))return Go(C.default,z.default);var Pe=C.stops.length;if(1===Pe||J<=C.stops[0][0])return C.stops[0][1];if(J>=C.stops[Pe-1][0])return C.stops[Pe-1][1];var Jt,Yt,vn,Bn,je=Lr(C.stops.map(function(Gt){return Gt[0]}),J),Ye=(Jt=ge,Bn=J-(Yt=C.stops[je][0]),0==(vn=C.stops[je+1][0]-Yt)?0:1===Jt?Bn/vn:(Math.pow(Jt,Bn)-1)/(Math.pow(Jt,vn)-1)),at=C.stops[je][1],mt=C.stops[je+1][1],Ct=Rr[z.type]||pa;if(C.colorSpace&&"rgb"!==C.colorSpace){var Lt=tl[C.colorSpace];Ct=function(Gt,Jt){return Lt.reverse(Lt.interpolate(Lt.forward(Gt),Lt.forward(Jt),Ye))}}return"function"==typeof at.evaluate?{evaluate:function(){for(var Gt=[],Jt=arguments.length;Jt--;)Gt[Jt]=arguments[Jt];var Yt=at.evaluate.apply(void 0,Gt),mn=mt.evaluate.apply(void 0,Gt);if(void 0!==Yt&&void 0!==mn)return Ct(Yt,mn,Ye)}}:Ct(at,mt,Ye)}function yu(C,z,J){return"color"===z.type?J=kn.parse(J):"formatted"===z.type?J=Wn.fromString(J.toString()):"resolvedImage"===z.type?J=Cn.fromString(J.toString()):Ji(J)===z.type||"enum"===z.type&&z.values[J]||(J=void 0),Go(J,C.default,z.default)}Jn.register(ac,{error:[{kind:"error"},[Tt],function(C,z){throw new dr(z[0].evaluate(C))}],typeof:[Tt,[$t],function(C,z){return En(lr(z[0].evaluate(C)))}],"to-rgba":[rn(_t,4),[Wt],function(C,z){return z[0].evaluate(C).toArray()}],rgb:[Wt,[_t,_t,_t],_s],rgba:[Wt,[_t,_t,_t,_t],_s],has:{type:It,overloads:[[[Tt],function(C,z){return sc(z[0].evaluate(C),C.properties())}],[[Tt,Zt],function(C,z){var ge=z[1];return sc(z[0].evaluate(C),ge.evaluate(C))}]]},get:{type:$t,overloads:[[[Tt],function(C,z){return vu(z[0].evaluate(C),C.properties())}],[[Tt,Zt],function(C,z){var ge=z[1];return vu(z[0].evaluate(C),ge.evaluate(C))}]]},"feature-state":[$t,[Tt],function(C,z){return vu(z[0].evaluate(C),C.featureState||{})}],properties:[Zt,[],function(C){return C.properties()}],"geometry-type":[Tt,[],function(C){return C.geometryType()}],id:[$t,[],function(C){return C.id()}],zoom:[_t,[],function(C){return C.globals.zoom}],"heatmap-density":[_t,[],function(C){return C.globals.heatmapDensity||0}],"line-progress":[_t,[],function(C){return C.globals.lineProgress||0}],accumulated:[$t,[],function(C){return void 0===C.globals.accumulated?null:C.globals.accumulated}],"+":[_t,Ki(_t),function(C,z){for(var J=0,ge=0,Pe=z;ge<Pe.length;ge+=1)J+=Pe[ge].evaluate(C);return J}],"*":[_t,Ki(_t),function(C,z){for(var J=1,ge=0,Pe=z;ge<Pe.length;ge+=1)J*=Pe[ge].evaluate(C);return J}],"-":{type:_t,overloads:[[[_t,_t],function(C,z){var ge=z[1];return z[0].evaluate(C)-ge.evaluate(C)}],[[_t],function(C,z){return-z[0].evaluate(C)}]]},"/":[_t,[_t,_t],function(C,z){var ge=z[1];return z[0].evaluate(C)/ge.evaluate(C)}],"%":[_t,[_t,_t],function(C,z){var ge=z[1];return z[0].evaluate(C)%ge.evaluate(C)}],ln2:[_t,[],function(){return Math.LN2}],pi:[_t,[],function(){return Math.PI}],e:[_t,[],function(){return Math.E}],"^":[_t,[_t,_t],function(C,z){var ge=z[1];return Math.pow(z[0].evaluate(C),ge.evaluate(C))}],sqrt:[_t,[_t],function(C,z){return Math.sqrt(z[0].evaluate(C))}],log10:[_t,[_t],function(C,z){return Math.log(z[0].evaluate(C))/Math.LN10}],ln:[_t,[_t],function(C,z){return Math.log(z[0].evaluate(C))}],log2:[_t,[_t],function(C,z){return Math.log(z[0].evaluate(C))/Math.LN2}],sin:[_t,[_t],function(C,z){return Math.sin(z[0].evaluate(C))}],cos:[_t,[_t],function(C,z){return Math.cos(z[0].evaluate(C))}],tan:[_t,[_t],function(C,z){return Math.tan(z[0].evaluate(C))}],asin:[_t,[_t],function(C,z){return Math.asin(z[0].evaluate(C))}],acos:[_t,[_t],function(C,z){return Math.acos(z[0].evaluate(C))}],atan:[_t,[_t],function(C,z){return Math.atan(z[0].evaluate(C))}],min:[_t,Ki(_t),function(C,z){return Math.min.apply(Math,z.map(function(J){return J.evaluate(C)}))}],max:[_t,Ki(_t),function(C,z){return Math.max.apply(Math,z.map(function(J){return J.evaluate(C)}))}],abs:[_t,[_t],function(C,z){return Math.abs(z[0].evaluate(C))}],round:[_t,[_t],function(C,z){var J=z[0].evaluate(C);return J<0?-Math.round(-J):Math.round(J)}],floor:[_t,[_t],function(C,z){return Math.floor(z[0].evaluate(C))}],ceil:[_t,[_t],function(C,z){return Math.ceil(z[0].evaluate(C))}],"filter-==":[It,[Tt,$t],function(C,z){var J=z[0],ge=z[1];return C.properties()[J.value]===ge.value}],"filter-id-==":[It,[$t],function(C,z){var J=z[0];return C.id()===J.value}],"filter-type-==":[It,[Tt],function(C,z){var J=z[0];return C.geometryType()===J.value}],"filter-<":[It,[Tt,$t],function(C,z){var J=z[0],ge=z[1],Pe=C.properties()[J.value],je=ge.value;return typeof Pe==typeof je&&Pe<je}],"filter-id-<":[It,[$t],function(C,z){var J=z[0],ge=C.id(),Pe=J.value;return typeof ge==typeof Pe&&ge<Pe}],"filter->":[It,[Tt,$t],function(C,z){var J=z[0],ge=z[1],Pe=C.properties()[J.value],je=ge.value;return typeof Pe==typeof je&&Pe>je}],"filter-id->":[It,[$t],function(C,z){var J=z[0],ge=C.id(),Pe=J.value;return typeof ge==typeof Pe&&ge>Pe}],"filter-<=":[It,[Tt,$t],function(C,z){var J=z[0],ge=z[1],Pe=C.properties()[J.value],je=ge.value;return typeof Pe==typeof je&&Pe<=je}],"filter-id-<=":[It,[$t],function(C,z){var J=z[0],ge=C.id(),Pe=J.value;return typeof ge==typeof Pe&&ge<=Pe}],"filter->=":[It,[Tt,$t],function(C,z){var J=z[0],ge=z[1],Pe=C.properties()[J.value],je=ge.value;return typeof Pe==typeof je&&Pe>=je}],"filter-id->=":[It,[$t],function(C,z){var J=z[0],ge=C.id(),Pe=J.value;return typeof ge==typeof Pe&&ge>=Pe}],"filter-has":[It,[$t],function(C,z){return z[0].value in C.properties()}],"filter-has-id":[It,[],function(C){return null!==C.id()&&void 0!==C.id()}],"filter-type-in":[It,[rn(Tt)],function(C,z){return z[0].value.indexOf(C.geometryType())>=0}],"filter-id-in":[It,[rn($t)],function(C,z){return z[0].value.indexOf(C.id())>=0}],"filter-in-small":[It,[Tt,rn($t)],function(C,z){var J=z[0];return z[1].value.indexOf(C.properties()[J.value])>=0}],"filter-in-large":[It,[Tt,rn($t)],function(C,z){var J=z[0],ge=z[1];return function(Pe,je,Ye,at){for(;Ye<=at;){var mt=Ye+at>>1;if(je[mt]===Pe)return!0;je[mt]>Pe?at=mt-1:Ye=mt+1}return!1}(C.properties()[J.value],ge.value,0,ge.value.length-1)}],all:{type:It,overloads:[[[It,It],function(C,z){var ge=z[1];return z[0].evaluate(C)&&ge.evaluate(C)}],[Ki(It),function(C,z){for(var J=0,ge=z;J<ge.length;J+=1)if(!ge[J].evaluate(C))return!1;return!0}]]},any:{type:It,overloads:[[[It,It],function(C,z){var ge=z[1];return z[0].evaluate(C)||ge.evaluate(C)}],[Ki(It),function(C,z){for(var J=0,ge=z;J<ge.length;J+=1)if(ge[J].evaluate(C))return!0;return!1}]]},"!":[It,[It],function(C,z){return!z[0].evaluate(C)}],"is-supported-script":[It,[Tt],function(C,z){var ge=C.globals&&C.globals.isSupportedScript;return!ge||ge(z[0].evaluate(C))}],upcase:[Tt,[Tt],function(C,z){return z[0].evaluate(C).toUpperCase()}],downcase:[Tt,[Tt],function(C,z){return z[0].evaluate(C).toLowerCase()}],concat:[Tt,Ki($t),function(C,z){return z.map(function(J){return er(J.evaluate(C))}).join("")}],"resolved-locale":[Tt,[dn],function(C,z){return z[0].evaluate(C).resolvedLocale()}]});var kc=function(C,z){var J;this.expression=C,this._warningHistory={},this._evaluator=new Kn,this._defaultValue=z?"color"===(J=z).type&&Vr(J.default)?new kn(0,0,0,0):"color"===J.type?kn.parse(J.default)||null:void 0===J.default?null:J.default:null,this._enumValues=z&&"enum"===z.type?z.values:null};function kl(C){return Array.isArray(C)&&C.length>0&&"string"==typeof C[0]&&C[0]in ac}function cs(C,z){var Pe,je,J=new _r(ac,[],z?(je={color:Wt,string:Tt,number:_t,enum:Tt,boolean:It,formatted:nn,resolvedImage:cn},"array"===(Pe=z).type?rn(je[Pe.value]||$t,Pe.length):je[Pe.type]):void 0),ge=J.parse(C,void 0,void 0,void 0,z&&"string"===z.type?{typeAnnotation:"coerce"}:void 0);return ge?lc(new kc(ge,z)):al(J.errors)}kc.prototype.evaluateWithoutErrorHandling=function(C,z,J,ge,Pe,je){return this._evaluator.globals=C,this._evaluator.feature=z,this._evaluator.featureState=J,this._evaluator.canonical=ge,this._evaluator.availableImages=Pe||null,this._evaluator.formattedSection=je,this.expression.evaluate(this._evaluator)},kc.prototype.evaluate=function(C,z,J,ge,Pe,je){this._evaluator.globals=C,this._evaluator.feature=z||null,this._evaluator.featureState=J||null,this._evaluator.canonical=ge,this._evaluator.availableImages=Pe||null,this._evaluator.formattedSection=je||null;try{var Ye=this.expression.evaluate(this._evaluator);if(null==Ye||"number"==typeof Ye&&Ye!=Ye)return this._defaultValue;if(this._enumValues&&!(Ye in this._enumValues))throw new dr("Expected value to be one of "+Object.keys(this._enumValues).map(function(at){return JSON.stringify(at)}).join(", ")+", but found "+JSON.stringify(Ye)+" instead.");return Ye}catch(at){return this._warningHistory[at.message]||(this._warningHistory[at.message]=!0,typeof console<"u"&&console.warn(at.message)),this._defaultValue}};var $r=function(C,z){this.kind=C,this._styleExpression=z,this.isStateDependent="constant"!==C&&!Vn(z.expression)};$r.prototype.evaluateWithoutErrorHandling=function(C,z,J,ge,Pe,je){return this._styleExpression.evaluateWithoutErrorHandling(C,z,J,ge,Pe,je)},$r.prototype.evaluate=function(C,z,J,ge,Pe,je){return this._styleExpression.evaluate(C,z,J,ge,Pe,je)};var xi=function(C,z,J,ge){this.kind=C,this.zoomStops=J,this._styleExpression=z,this.isStateDependent="camera"!==C&&!Vn(z.expression),this.interpolationType=ge};function mo(C,z){if("error"===(C=cs(C,z)).result)return C;var J=C.value.expression,ge=gr(J);if(!ge&&!Ml(z))return al([new At("","data expressions not supported")]);var Pe=Tr(J,["zoom"]);if(!Pe&&!Ui(z))return al([new At("","zoom expressions not supported")]);var je=sl(J);return je||Pe?je instanceof At?al([je]):je instanceof Ho&&!Nl(z)?al([new At("",'"interpolate" expressions cannot be used with this property')]):lc(je?new xi(ge?"camera":"composite",C.value,je.labels,je instanceof Ho?je.interpolation:void 0):new $r(ge?"constant":"source",C.value)):al([new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}xi.prototype.evaluateWithoutErrorHandling=function(C,z,J,ge,Pe,je){return this._styleExpression.evaluateWithoutErrorHandling(C,z,J,ge,Pe,je)},xi.prototype.evaluate=function(C,z,J,ge,Pe,je){return this._styleExpression.evaluate(C,z,J,ge,Pe,je)},xi.prototype.interpolationFactor=function(C,z,J){return this.interpolationType?Ho.interpolationFactor(this.interpolationType,C,z,J):0};var ca=function(C,z){this._parameters=C,this._specification=z,dt(this,Si(this._parameters,this._specification))};function sl(C){var z=null;if(C instanceof nl)z=sl(C.result);else if(C instanceof Li)for(var J=0,ge=C.args;J<ge.length&&!(z=sl(ge[J]));J+=1);else(C instanceof Jr||C instanceof Ho)&&C.input instanceof Jn&&"zoom"===C.input.name&&(z=C);return z instanceof At||C.eachChild(function(je){var Ye=sl(je);Ye instanceof At?z=Ye:!z&&Ye?z=new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):z&&Ye&&z!==Ye&&(z=new At("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),z}function Co(C){var z=C.key,J=C.value,ge=C.valueSpec||{},Pe=C.objectElementValidators||{},je=C.style,Ye=C.styleSpec,at=[],mt=Ji(J);if("object"!==mt)return[new Ge(z,J,"object expected, "+mt+" found")];for(var Ct in J){var Lt=Ct.split(".")[0],Gt=ge[Lt]||ge["*"],Jt=void 0;if(Pe[Lt])Jt=Pe[Lt];else if(ge[Lt])Jt=So;else if(Pe["*"])Jt=Pe["*"];else{if(!ge["*"]){at.push(new Ge(z,J[Ct],'unknown property "'+Ct+'"'));continue}Jt=So}at=at.concat(Jt({key:(z&&z+".")+Ct,value:J[Ct],valueSpec:Gt,style:je,styleSpec:Ye,object:J,objectKey:Ct},J))}for(var Yt in ge)Pe[Yt]||ge[Yt].required&&void 0===ge[Yt].default&&void 0===J[Yt]&&at.push(new Ge(z,J,'missing required property "'+Yt+'"'));return at}function cc(C){var z=C.value,J=C.valueSpec,ge=C.style,Pe=C.styleSpec,je=C.key,Ye=C.arrayElementValidator||So;if("array"!==Ji(z))return[new Ge(je,z,"array expected, "+Ji(z)+" found")];if(J.length&&z.length!==J.length)return[new Ge(je,z,"array length "+J.length+" expected, length "+z.length+" found")];if(J["min-length"]&&z.length<J["min-length"])return[new Ge(je,z,"array length at least "+J["min-length"]+" expected, length "+z.length+" found")];var at={type:J.value,values:J.values};Pe.$version<7&&(at.function=J.function),"object"===Ji(J.value)&&(at=J.value);for(var mt=[],Ct=0;Ct<z.length;Ct++)mt=mt.concat(Ye({array:z,arrayIndex:Ct,value:z[Ct],valueSpec:at,style:ge,styleSpec:Pe,key:je+"["+Ct+"]"}));return mt}function qo(C){var z=C.key,J=C.value,ge=C.valueSpec,Pe=Ji(J);return"number"===Pe&&J!=J&&(Pe="NaN"),"number"!==Pe?[new Ge(z,J,"number expected, "+Pe+" found")]:"minimum"in ge&&J<ge.minimum?[new Ge(z,J,J+" is less than the minimum value "+ge.minimum)]:"maximum"in ge&&J>ge.maximum?[new Ge(z,J,J+" is greater than the maximum value "+ge.maximum)]:[]}function uc(C){var z,J,ge,Pe=C.valueSpec,je=kt(C.value.type),Ye={},at="categorical"!==je&&void 0===C.value.property,mt=!at,Ct="array"===Ji(C.value.stops)&&"array"===Ji(C.value.stops[0])&&"object"===Ji(C.value.stops[0][0]),Lt=Co({key:C.key,value:C.value,valueSpec:C.styleSpec.function,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{stops:function(Yt){if("identity"===je)return[new Ge(Yt.key,Yt.value,'identity function may not have a "stops" property')];var mn=[],vn=Yt.value;return mn=mn.concat(cc({key:Yt.key,value:vn,valueSpec:Yt.valueSpec,style:Yt.style,styleSpec:Yt.styleSpec,arrayElementValidator:Gt})),"array"===Ji(vn)&&0===vn.length&&mn.push(new Ge(Yt.key,vn,"array must have at least one stop")),mn},default:function(Yt){return So({key:Yt.key,value:Yt.value,valueSpec:Pe,style:Yt.style,styleSpec:Yt.styleSpec})}}});return"identity"===je&&at&&Lt.push(new Ge(C.key,C.value,'missing required property "property"')),"identity"===je||C.value.stops||Lt.push(new Ge(C.key,C.value,'missing required property "stops"')),"exponential"===je&&C.valueSpec.expression&&!Nl(C.valueSpec)&&Lt.push(new Ge(C.key,C.value,"exponential functions not supported")),C.styleSpec.$version>=8&&(mt&&!Ml(C.valueSpec)?Lt.push(new Ge(C.key,C.value,"property functions not supported")):at&&!Ui(C.valueSpec)&&Lt.push(new Ge(C.key,C.value,"zoom functions not supported"))),"categorical"!==je&&!Ct||void 0!==C.value.property||Lt.push(new Ge(C.key,C.value,'"property" property is required')),Lt;function Gt(Yt){var mn=[],vn=Yt.value,Bn=Yt.key;if("array"!==Ji(vn))return[new Ge(Bn,vn,"array expected, "+Ji(vn)+" found")];if(2!==vn.length)return[new Ge(Bn,vn,"array length 2 expected, length "+vn.length+" found")];if(Ct){if("object"!==Ji(vn[0]))return[new Ge(Bn,vn,"object expected, "+Ji(vn[0])+" found")];if(void 0===vn[0].zoom)return[new Ge(Bn,vn,"object stop key must have zoom")];if(void 0===vn[0].value)return[new Ge(Bn,vn,"object stop key must have value")];if(ge&&ge>kt(vn[0].zoom))return[new Ge(Bn,vn[0].zoom,"stop zoom values must appear in ascending order")];kt(vn[0].zoom)!==ge&&(ge=kt(vn[0].zoom),J=void 0,Ye={}),mn=mn.concat(Co({key:Bn+"[0]",value:vn[0],valueSpec:{zoom:{}},style:Yt.style,styleSpec:Yt.styleSpec,objectElementValidators:{zoom:qo,value:Jt}}))}else mn=mn.concat(Jt({key:Bn+"[0]",value:vn[0],valueSpec:{},style:Yt.style,styleSpec:Yt.styleSpec},vn));return kl(bt(vn[1]))?mn.concat([new Ge(Bn+"[1]",vn[1],"expressions are not allowed in function stops.")]):mn.concat(So({key:Bn+"[1]",value:vn[1],valueSpec:Pe,style:Yt.style,styleSpec:Yt.styleSpec}))}function Jt(Yt,mn){var vn=Ji(Yt.value),Bn=kt(Yt.value),jn=null!==Yt.value?Yt.value:mn;if(z){if(vn!==z)return[new Ge(Yt.key,jn,vn+" stop domain type must match previous stop domain type "+z)]}else z=vn;if("number"!==vn&&"string"!==vn&&"boolean"!==vn)return[new Ge(Yt.key,jn,"stop domain value must be a number, string, or boolean")];if("number"!==vn&&"categorical"!==je){var Yn="number expected, "+vn+" found";return Ml(Pe)&&void 0===je&&(Yn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ge(Yt.key,jn,Yn)]}return"categorical"!==je||"number"!==vn||isFinite(Bn)&&Math.floor(Bn)===Bn?"categorical"!==je&&"number"===vn&&void 0!==J&&Bn<J?[new Ge(Yt.key,jn,"stop domain values must appear in ascending order")]:(J=Bn,"categorical"===je&&Bn in Ye?[new Ge(Yt.key,jn,"stop domain values must be unique")]:(Ye[Bn]=!0,[])):[new Ge(Yt.key,jn,"integer expected, found "+Bn)]}}function zs(C){var z=("property"===C.expressionContext?mo:cs)(bt(C.value),C.valueSpec);if("error"===z.result)return z.value.map(function(ge){return new Ge(""+C.key+ge.key,C.value,ge.message)});var J=z.value.expression||z.value._styleExpression.expression;if("property"===C.expressionContext&&"text-font"===C.propertyKey&&!J.outputDefined())return[new Ge(C.key,C.value,'Invalid data expression for "'+C.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===C.expressionContext&&"layout"===C.propertyType&&!Vn(J))return[new Ge(C.key,C.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===C.expressionContext&&!Vn(J))return[new Ge(C.key,C.value,'"feature-state" data expressions are not supported with filters.')];if(C.expressionContext&&0===C.expressionContext.indexOf("cluster")){if(!Tr(J,["zoom","feature-state"]))return[new Ge(C.key,C.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===C.expressionContext&&!gr(J))return[new Ge(C.key,C.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Mi(C){var z=C.key,J=C.value,ge=C.valueSpec,Pe=[];return Array.isArray(ge.values)?-1===ge.values.indexOf(kt(J))&&Pe.push(new Ge(z,J,"expected one of ["+ge.values.join(", ")+"], "+JSON.stringify(J)+" found")):-1===Object.keys(ge.values).indexOf(kt(J))&&Pe.push(new Ge(z,J,"expected one of ["+Object.keys(ge.values).join(", ")+"], "+JSON.stringify(J)+" found")),Pe}function Sl(C){if(!0===C||!1===C)return!0;if(!Array.isArray(C)||0===C.length)return!1;switch(C[0]){case"has":return C.length>=2&&"$id"!==C[1]&&"$type"!==C[1];case"in":return C.length>=3&&("string"!=typeof C[1]||Array.isArray(C[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==C.length||Array.isArray(C[1])||Array.isArray(C[2]);case"any":case"all":for(var z=0,J=C.slice(1);z<J.length;z+=1){var ge=J[z];if(!Sl(ge)&&"boolean"!=typeof ge)return!1}return!0;default:return!0}}ca.deserialize=function(C){return new ca(C._parameters,C._specification)},ca.serialize=function(C){return{_parameters:C._parameters,_specification:C._specification}};var dc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function fc(C){if(null==C)return{filter:function(){return!0},needGeometry:!1};Sl(C)||(C=ll(C));var z=cs(C,dc);if("error"===z.result)throw new Error(z.value.map(function(J){return J.key+": "+J.message}).join(", "));return{filter:function(J,ge,Pe){return z.value.evaluate(J,ge,{},Pe)},needGeometry:Jo(C)}}function bs(C,z){return C<z?-1:C>z?1:0}function Jo(C){if(!Array.isArray(C))return!1;if("within"===C[0])return!0;for(var z=1;z<C.length;z++)if(Jo(C[z]))return!0;return!1}function ll(C){if(!C)return!0;var z,J=C[0];return C.length<=1?"any"!==J:"=="===J?Pi(C[1],C[2],"=="):"!="===J?Qo(Pi(C[1],C[2],"==")):"<"===J||">"===J||"<="===J||">="===J?Pi(C[1],C[2],J):"any"===J?(z=C.slice(1),["any"].concat(z.map(ll))):"all"===J?["all"].concat(C.slice(1).map(ll)):"none"===J?["all"].concat(C.slice(1).map(ll).map(Qo)):"in"===J?ka(C[1],C.slice(2)):"!in"===J?Qo(ka(C[1],C.slice(2))):"has"===J?us(C[1]):"!has"===J?Qo(us(C[1])):"within"!==J||C}function Pi(C,z,J){switch(C){case"$type":return["filter-type-"+J,z];case"$id":return["filter-id-"+J,z];default:return["filter-"+J,C,z]}}function ka(C,z){if(0===z.length)return!1;switch(C){case"$type":return["filter-type-in",["literal",z]];case"$id":return["filter-id-in",["literal",z]];default:return z.length>200&&!z.some(function(J){return typeof J!=typeof z[0]})?["filter-in-large",C,["literal",z.sort(bs)]]:["filter-in-small",C,["literal",z]]}}function us(C){switch(C){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",C]}}function Qo(C){return["!",C]}function si(C){return Sl(bt(C.value))?zs(dt({},C,{expressionContext:"filter",valueSpec:{value:"boolean"}})):qi(C)}function qi(C){var z=C.value,J=C.key;if("array"!==Ji(z))return[new Ge(J,z,"array expected, "+Ji(z)+" found")];var ge,Pe=C.styleSpec,je=[];if(z.length<1)return[new Ge(J,z,"filter array must have at least 1 element")];switch(je=je.concat(Mi({key:J+"[0]",value:z[0],valueSpec:Pe.filter_operator,style:C.style,styleSpec:C.styleSpec})),kt(z[0])){case"<":case"<=":case">":case">=":z.length>=2&&"$type"===kt(z[1])&&je.push(new Ge(J,z,'"$type" cannot be use with operator "'+z[0]+'"'));case"==":case"!=":3!==z.length&&je.push(new Ge(J,z,'filter array for operator "'+z[0]+'" must have 3 elements'));case"in":case"!in":z.length>=2&&"string"!==(ge=Ji(z[1]))&&je.push(new Ge(J+"[1]",z[1],"string expected, "+ge+" found"));for(var Ye=2;Ye<z.length;Ye++)ge=Ji(z[Ye]),"$type"===kt(z[1])?je=je.concat(Mi({key:J+"["+Ye+"]",value:z[Ye],valueSpec:Pe.geometry_type,style:C.style,styleSpec:C.styleSpec})):"string"!==ge&&"number"!==ge&&"boolean"!==ge&&je.push(new Ge(J+"["+Ye+"]",z[Ye],"string, number, or boolean expected, "+ge+" found"));break;case"any":case"all":case"none":for(var at=1;at<z.length;at++)je=je.concat(qi({key:J+"["+at+"]",value:z[at],style:C.style,styleSpec:C.styleSpec}));break;case"has":case"!has":ge=Ji(z[1]),2!==z.length?je.push(new Ge(J,z,'filter array for "'+z[0]+'" operator must have 2 elements')):"string"!==ge&&je.push(new Ge(J+"[1]",z[1],"string expected, "+ge+" found"));break;case"within":ge=Ji(z[1]),2!==z.length?je.push(new Ge(J,z,'filter array for "'+z[0]+'" operator must have 2 elements')):"object"!==ge&&je.push(new Ge(J+"[1]",z[1],"object expected, "+ge+" found"))}return je}function cl(C,z){var J=C.key,ge=C.style,Pe=C.styleSpec,je=C.value,Ye=C.objectKey,at=Pe[z+"_"+C.layerType];if(!at)return[];var mt=Ye.match(/^(.*)-transition$/);if("paint"===z&&mt&&at[mt[1]]&&at[mt[1]].transition)return So({key:J,value:je,valueSpec:Pe.transition,style:ge,styleSpec:Pe});var Ct,Lt=C.valueSpec||at[Ye];if(!Lt)return[new Ge(J,je,'unknown property "'+Ye+'"')];if("string"===Ji(je)&&Ml(Lt)&&!Lt.tokens&&(Ct=/^{([^}]+)}$/.exec(je)))return[new Ge(J,je,'"'+Ye+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ct[1])+" }`.")];var Gt=[];return"symbol"===C.layerType&&("text-field"===Ye&&ge&&!ge.glyphs&&Gt.push(new Ge(J,je,'use of "text-field" requires a style "glyphs" property')),"text-font"===Ye&&Vr(bt(je))&&"identity"===kt(je.type)&&Gt.push(new Ge(J,je,'"text-font" does not support identity functions'))),Gt.concat(So({key:C.key,value:je,valueSpec:Lt,style:ge,styleSpec:Pe,expressionContext:"property",propertyType:z,propertyKey:Ye}))}function ul(C){return cl(C,"paint")}function Sc(C){return cl(C,"layout")}function zl(C){var z=[],J=C.value,ge=C.key,Pe=C.style,je=C.styleSpec;J.type||J.ref||z.push(new Ge(ge,J,'either "type" or "ref" is required'));var Ye,at=kt(J.type),mt=kt(J.ref);if(J.id)for(var Ct=kt(J.id),Lt=0;Lt<C.arrayIndex;Lt++){var Gt=Pe.layers[Lt];kt(Gt.id)===Ct&&z.push(new Ge(ge,J.id,'duplicate layer id "'+J.id+'", previously used at line '+Gt.id.__line__))}if("ref"in J)["type","source","source-layer","filter","layout"].forEach(function(mn){mn in J&&z.push(new Ge(ge,J[mn],'"'+mn+'" is prohibited for ref layers'))}),Pe.layers.forEach(function(mn){kt(mn.id)===mt&&(Ye=mn)}),Ye?Ye.ref?z.push(new Ge(ge,J.ref,"ref cannot reference another ref layer")):at=kt(Ye.type):z.push(new Ge(ge,J.ref,'ref layer "'+mt+'" not found'));else if("background"!==at)if(J.source){var Jt=Pe.sources&&Pe.sources[J.source],Yt=Jt&&kt(Jt.type);Jt?"vector"===Yt&&"raster"===at?z.push(new Ge(ge,J.source,'layer "'+J.id+'" requires a raster source')):"raster"===Yt&&"raster"!==at?z.push(new Ge(ge,J.source,'layer "'+J.id+'" requires a vector source')):"vector"!==Yt||J["source-layer"]?"raster-dem"===Yt&&"hillshade"!==at?z.push(new Ge(ge,J.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==at||!J.paint||!J.paint["line-gradient"]||"geojson"===Yt&&Jt.lineMetrics||z.push(new Ge(ge,J,'layer "'+J.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):z.push(new Ge(ge,J,'layer "'+J.id+'" must specify a "source-layer"')):z.push(new Ge(ge,J.source,'source "'+J.source+'" not found'))}else z.push(new Ge(ge,J,'missing required property "source"'));return z=z.concat(Co({key:ge,value:J,valueSpec:je.layer,style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return So({key:ge+".type",value:J.type,valueSpec:je.layer.type,style:C.style,styleSpec:C.styleSpec,object:J,objectKey:"type"})},filter:si,layout:function(mn){return Co({layer:J,key:mn.key,value:mn.value,style:mn.style,styleSpec:mn.styleSpec,objectElementValidators:{"*":function(vn){return Sc(dt({layerType:at},vn))}}})},paint:function(mn){return Co({layer:J,key:mn.key,value:mn.value,style:mn.style,styleSpec:mn.styleSpec,objectElementValidators:{"*":function(vn){return ul(dt({layerType:at},vn))}}})}}}))}function ds(C){var z=C.value,J=C.key,ge=Ji(z);return"string"!==ge?[new Ge(J,z,"string expected, "+ge+" found")]:[]}var ua={promoteId:function(C){var z=C.key,J=C.value;if("string"===Ji(J))return ds({key:z,value:J});var ge=[];for(var Pe in J)ge.push.apply(ge,ds({key:z+"."+Pe,value:J[Pe]}));return ge}};function Bl(C){var z=C.value,J=C.key,ge=C.styleSpec,Pe=C.style;if(!z.type)return[new Ge(J,z,'"type" is required')];var je,Ye=kt(z.type);switch(Ye){case"vector":case"raster":case"raster-dem":return Co({key:J,value:z,valueSpec:ge["source_"+Ye.replace("-","_")],style:C.style,styleSpec:ge,objectElementValidators:ua});case"geojson":if(je=Co({key:J,value:z,valueSpec:ge.source_geojson,style:Pe,styleSpec:ge,objectElementValidators:ua}),z.cluster)for(var at in z.clusterProperties){var mt=z.clusterProperties[at],Ct=mt[0],Gt="string"==typeof Ct?[Ct,["accumulated"],["get",at]]:Ct;je.push.apply(je,zs({key:J+"."+at+".map",value:mt[1],expressionContext:"cluster-map"})),je.push.apply(je,zs({key:J+"."+at+".reduce",value:Gt,expressionContext:"cluster-reduce"}))}return je;case"video":return Co({key:J,value:z,valueSpec:ge.source_video,style:Pe,styleSpec:ge});case"image":return Co({key:J,value:z,valueSpec:ge.source_image,style:Pe,styleSpec:ge});case"canvas":return[new Ge(J,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Mi({key:J+".type",value:z.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Pe,styleSpec:ge})}}function da(C){var z=C.value,J=C.styleSpec,ge=J.light,Pe=C.style,je=[],Ye=Ji(z);if(void 0===z)return je;if("object"!==Ye)return je.concat([new Ge("light",z,"object expected, "+Ye+" found")]);for(var at in z){var mt=at.match(/^(.*)-transition$/);je=je.concat(mt&&ge[mt[1]]&&ge[mt[1]].transition?So({key:at,value:z[at],valueSpec:J.transition,style:Pe,styleSpec:J}):ge[at]?So({key:at,value:z[at],valueSpec:ge[at],style:Pe,styleSpec:J}):[new Ge(at,z[at],'unknown property "'+at+'"')])}return je}var ma={"*":function(){return[]},array:cc,boolean:function(C){var z=C.value,J=C.key,ge=Ji(z);return"boolean"!==ge?[new Ge(J,z,"boolean expected, "+ge+" found")]:[]},number:qo,color:function(C){var z=C.key,J=C.value,ge=Ji(J);return"string"!==ge?[new Ge(z,J,"color expected, "+ge+" found")]:null===yn(J)?[new Ge(z,J,'color expected, "'+J+'" found')]:[]},constants:ut,enum:Mi,filter:si,function:uc,layer:zl,object:Co,source:Bl,light:da,string:ds,formatted:function(C){return 0===ds(C).length?[]:zs(C)},resolvedImage:function(C){return 0===ds(C).length?[]:zs(C)}};function So(C){var z=C.value,J=C.valueSpec,ge=C.styleSpec;return J.expression&&Vr(kt(z))?uc(C):J.expression&&kl(bt(z))?zs(C):J.type&&ma[J.type]?ma[J.type](C):Co(dt({},C,{valueSpec:J.type?ge[J.type]:J}))}function Bs(C){var z=C.value,J=C.key,ge=ds(C);return ge.length||(-1===z.indexOf("{fontstack}")&&ge.push(new Ge(J,z,'"glyphs" url must include a "{fontstack}" token')),-1===z.indexOf("{range}")&&ge.push(new Ge(J,z,'"glyphs" url must include a "{range}" token'))),ge}function dl(C,z){void 0===z&&(z=Ve);var J=[];return J=J.concat(So({key:"",value:C,valueSpec:z.$root,styleSpec:z,style:C,objectElementValidators:{glyphs:Bs,"*":function(){return[]}}})),C.constants&&(J=J.concat(ut({key:"constants",value:C.constants,style:C,styleSpec:z}))),so(J)}function so(C){return[].concat(C).sort(function(z,J){return z.line-J.line})}function Sa(C){return function(){for(var z=[],J=arguments.length;J--;)z[J]=arguments[J];return so(C.apply(this,z))}}dl.source=Sa(Bl),dl.light=Sa(da),dl.layer=Sa(zl),dl.filter=Sa(si),dl.paintProperty=Sa(ul),dl.layoutProperty=Sa(Sc);var Ea=dl,ea=Ea.light,Oa=Ea.paintProperty,hc=Ea.layoutProperty;function fl(C,z){var J=!1;if(z&&z.length)for(var ge=0,Pe=z;ge<Pe.length;ge+=1)C.fire(new ft(new Error(Pe[ge].message))),J=!0;return J}var ga=js,ws=3;function js(C,z,J){var ge=this.cells=[];if(C instanceof ArrayBuffer){this.arrayBuffer=C;var Pe=new Int32Array(this.arrayBuffer);C=Pe[0],this.d=(z=Pe[1])+2*(J=Pe[2]);for(var je=0;je<this.d*this.d;je++){var Ye=Pe[ws+je],at=Pe[ws+je+1];ge.push(Ye===at?null:Pe.subarray(Ye,at))}var Ct=Pe[ws+ge.length+1];this.keys=Pe.subarray(Pe[ws+ge.length],Ct),this.bboxes=Pe.subarray(Ct),this.insert=this._insertReadonly}else{this.d=z+2*J;for(var Lt=0;Lt<this.d*this.d;Lt++)ge.push([]);this.keys=[],this.bboxes=[]}this.n=z,this.extent=C,this.padding=J,this.scale=z/C,this.uid=0;var Gt=J/z*C;this.min=-Gt,this.max=C+Gt}js.prototype.insert=function(C,z,J,ge,Pe){this._forEachCell(z,J,ge,Pe,this._insertCell,this.uid++),this.keys.push(C),this.bboxes.push(z),this.bboxes.push(J),this.bboxes.push(ge),this.bboxes.push(Pe)},js.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},js.prototype._insertCell=function(C,z,J,ge,Pe,je){this.cells[Pe].push(je)},js.prototype.query=function(C,z,J,ge,Pe){var je=this.min,Ye=this.max;if(C<=je&&z<=je&&Ye<=J&&Ye<=ge&&!Pe)return Array.prototype.slice.call(this.keys);var at=[];return this._forEachCell(C,z,J,ge,this._queryCell,at,{},Pe),at},js.prototype._queryCell=function(C,z,J,ge,Pe,je,Ye,at){var mt=this.cells[Pe];if(null!==mt)for(var Ct=this.keys,Lt=this.bboxes,Gt=0;Gt<mt.length;Gt++){var Jt=mt[Gt];if(void 0===Ye[Jt]){var Yt=4*Jt;(at?at(Lt[Yt+0],Lt[Yt+1],Lt[Yt+2],Lt[Yt+3]):C<=Lt[Yt+2]&&z<=Lt[Yt+3]&&J>=Lt[Yt+0]&&ge>=Lt[Yt+1])?(Ye[Jt]=!0,je.push(Ct[Jt])):Ye[Jt]=!1}}},js.prototype._forEachCell=function(C,z,J,ge,Pe,je,Ye,at){for(var mt=this._convertToCellCoord(C),Ct=this._convertToCellCoord(z),Lt=this._convertToCellCoord(J),Gt=this._convertToCellCoord(ge),Jt=mt;Jt<=Lt;Jt++)for(var Yt=Ct;Yt<=Gt;Yt++){var mn=this.d*Yt+Jt;if((!at||at(this._convertFromCellCoord(Jt),this._convertFromCellCoord(Yt),this._convertFromCellCoord(Jt+1),this._convertFromCellCoord(Yt+1)))&&Pe.call(this,C,z,J,ge,mn,je,Ye,at))return}},js.prototype._convertFromCellCoord=function(C){return(C-this.padding)/this.scale},js.prototype._convertToCellCoord=function(C){return Math.max(0,Math.min(this.d-1,Math.floor(C*this.scale)+this.padding))},js.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var C=this.cells,z=ws+this.cells.length+1+1,J=0,ge=0;ge<this.cells.length;ge++)J+=this.cells[ge].length;var Pe=new Int32Array(z+J+this.keys.length+this.bboxes.length);Pe[0]=this.extent,Pe[1]=this.n,Pe[2]=this.padding;for(var je=z,Ye=0;Ye<C.length;Ye++){var at=C[Ye];Pe[ws+Ye]=je,Pe.set(at,je),je+=at.length}return Pe[ws+C.length]=je,Pe.set(this.keys,je),Pe[ws+C.length+1]=je+=this.keys.length,Pe.set(this.bboxes,je),je+=this.bboxes.length,Pe.buffer};var xu=self.ImageData,Vs=self.ImageBitmap,va={};function Xr(C,z,J){void 0===J&&(J={}),Object.defineProperty(z,"_classRegistryKey",{value:C,writeable:!1}),va[C]={klass:z,omit:J.omit||[],shallow:J.shallow||[]}}for(var Pa in Xr("Object",Object),ga.serialize=function(C,z){var J=C.toArrayBuffer();return z&&z.push(J),{buffer:J}},ga.deserialize=function(C){return new ga(C.buffer)},Xr("Grid",ga),Xr("Color",kn),Xr("Error",Error),Xr("ResolvedImage",Cn),Xr("StylePropertyFunction",ca),Xr("StyleExpression",kc,{omit:["_evaluator"]}),Xr("ZoomDependentExpression",xi),Xr("ZoomConstantExpression",$r),Xr("CompoundExpression",Jn,{omit:["_evaluate"]}),ac)ac[Pa]._classRegistryKey||Xr("Expression_"+Pa,ac[Pa]);function eu(C){return C&&typeof ArrayBuffer<"u"&&(C instanceof ArrayBuffer||C.constructor&&"ArrayBuffer"===C.constructor.name)}function _u(C){return Vs&&C instanceof Vs}function jl(C,z){if(null==C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||C instanceof Boolean||C instanceof Number||C instanceof String||C instanceof Date||C instanceof RegExp)return C;if(eu(C)||_u(C))return z&&z.push(C),C;if(ArrayBuffer.isView(C)){var J=C;return z&&z.push(J.buffer),J}if(C instanceof xu)return z&&z.push(C.data.buffer),C;if(Array.isArray(C)){for(var ge=[],Pe=0,je=C;Pe<je.length;Pe+=1)ge.push(jl(je[Pe],z));return ge}if("object"==typeof C){var at=C.constructor,mt=at._classRegistryKey;if(!mt)throw new Error("can't serialize object of unregistered class");var Ct=at.serialize?at.serialize(C,z):{};if(!at.serialize){for(var Lt in C)if(C.hasOwnProperty(Lt)&&!(va[mt].omit.indexOf(Lt)>=0)){var Gt=C[Lt];Ct[Lt]=va[mt].shallow.indexOf(Lt)>=0?Gt:jl(Gt,z)}C instanceof Error&&(Ct.message=C.message)}if(Ct.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==mt&&(Ct.$name=mt),Ct}throw new Error("can't serialize object of type "+typeof C)}function Vl(C){if(null==C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||C instanceof Boolean||C instanceof Number||C instanceof String||C instanceof Date||C instanceof RegExp||eu(C)||_u(C)||ArrayBuffer.isView(C)||C instanceof xu)return C;if(Array.isArray(C))return C.map(Vl);if("object"==typeof C){var z=C.$name||"Object",J=va[z].klass;if(!J)throw new Error("can't deserialize unregistered class "+z);if(J.deserialize)return J.deserialize(C);for(var ge=Object.create(J.prototype),Pe=0,je=Object.keys(C);Pe<je.length;Pe+=1){var Ye=je[Pe];if("$name"!==Ye){var at=C[Ye];ge[Ye]=va[z].shallow.indexOf(Ye)>=0?at:Vl(at)}}return ge}throw new Error("can't deserialize object of type "+typeof C)}var Ul=function(){this.first=!0};Ul.prototype.update=function(C,z){var J=Math.floor(C);return this.first?(this.first=!1,this.lastIntegerZoom=J,this.lastIntegerZoomTime=0,this.lastZoom=C,this.lastFloorZoom=J,!0):(this.lastFloorZoom>J?(this.lastIntegerZoom=J+1,this.lastIntegerZoomTime=z):this.lastFloorZoom<J&&(this.lastIntegerZoom=J,this.lastIntegerZoomTime=z),C!==this.lastZoom&&(this.lastZoom=C,this.lastFloorZoom=J,!0))};var qr={"Latin-1 Supplement":function(C){return C>=128&&C<=255},Arabic:function(C){return C>=1536&&C<=1791},"Arabic Supplement":function(C){return C>=1872&&C<=1919},"Arabic Extended-A":function(C){return C>=2208&&C<=2303},"Hangul Jamo":function(C){return C>=4352&&C<=4607},"Unified Canadian Aboriginal Syllabics":function(C){return C>=5120&&C<=5759},Khmer:function(C){return C>=6016&&C<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(C){return C>=6320&&C<=6399},"General Punctuation":function(C){return C>=8192&&C<=8303},"Letterlike Symbols":function(C){return C>=8448&&C<=8527},"Number Forms":function(C){return C>=8528&&C<=8591},"Miscellaneous Technical":function(C){return C>=8960&&C<=9215},"Control Pictures":function(C){return C>=9216&&C<=9279},"Optical Character Recognition":function(C){return C>=9280&&C<=9311},"Enclosed Alphanumerics":function(C){return C>=9312&&C<=9471},"Geometric Shapes":function(C){return C>=9632&&C<=9727},"Miscellaneous Symbols":function(C){return C>=9728&&C<=9983},"Miscellaneous Symbols and Arrows":function(C){return C>=11008&&C<=11263},"CJK Radicals Supplement":function(C){return C>=11904&&C<=12031},"Kangxi Radicals":function(C){return C>=12032&&C<=12255},"Ideographic Description Characters":function(C){return C>=12272&&C<=12287},"CJK Symbols and Punctuation":function(C){return C>=12288&&C<=12351},Hiragana:function(C){return C>=12352&&C<=12447},Katakana:function(C){return C>=12448&&C<=12543},Bopomofo:function(C){return C>=12544&&C<=12591},"Hangul Compatibility Jamo":function(C){return C>=12592&&C<=12687},Kanbun:function(C){return C>=12688&&C<=12703},"Bopomofo Extended":function(C){return C>=12704&&C<=12735},"CJK Strokes":function(C){return C>=12736&&C<=12783},"Katakana Phonetic Extensions":function(C){return C>=12784&&C<=12799},"Enclosed CJK Letters and Months":function(C){return C>=12800&&C<=13055},"CJK Compatibility":function(C){return C>=13056&&C<=13311},"CJK Unified Ideographs Extension A":function(C){return C>=13312&&C<=19903},"Yijing Hexagram Symbols":function(C){return C>=19904&&C<=19967},"CJK Unified Ideographs":function(C){return C>=19968&&C<=40959},"Yi Syllables":function(C){return C>=40960&&C<=42127},"Yi Radicals":function(C){return C>=42128&&C<=42191},"Hangul Jamo Extended-A":function(C){return C>=43360&&C<=43391},"Hangul Syllables":function(C){return C>=44032&&C<=55215},"Hangul Jamo Extended-B":function(C){return C>=55216&&C<=55295},"Private Use Area":function(C){return C>=57344&&C<=63743},"CJK Compatibility Ideographs":function(C){return C>=63744&&C<=64255},"Arabic Presentation Forms-A":function(C){return C>=64336&&C<=65023},"Vertical Forms":function(C){return C>=65040&&C<=65055},"CJK Compatibility Forms":function(C){return C>=65072&&C<=65103},"Small Form Variants":function(C){return C>=65104&&C<=65135},"Arabic Presentation Forms-B":function(C){return C>=65136&&C<=65279},"Halfwidth and Fullwidth Forms":function(C){return C>=65280&&C<=65519}};function hl(C){for(var z=0,J=C;z<J.length;z+=1)if(Ts(J[z].charCodeAt(0)))return!0;return!1}function Ts(C){return!(746!==C&&747!==C&&(C<4352||!(qr["Bopomofo Extended"](C)||qr.Bopomofo(C)||qr["CJK Compatibility Forms"](C)&&!(C>=65097&&C<=65103)||qr["CJK Compatibility Ideographs"](C)||qr["CJK Compatibility"](C)||qr["CJK Radicals Supplement"](C)||qr["CJK Strokes"](C)||!(!qr["CJK Symbols and Punctuation"](C)||C>=12296&&C<=12305||C>=12308&&C<=12319||12336===C)||qr["CJK Unified Ideographs Extension A"](C)||qr["CJK Unified Ideographs"](C)||qr["Enclosed CJK Letters and Months"](C)||qr["Hangul Compatibility Jamo"](C)||qr["Hangul Jamo Extended-A"](C)||qr["Hangul Jamo Extended-B"](C)||qr["Hangul Jamo"](C)||qr["Hangul Syllables"](C)||qr.Hiragana(C)||qr["Ideographic Description Characters"](C)||qr.Kanbun(C)||qr["Kangxi Radicals"](C)||qr["Katakana Phonetic Extensions"](C)||qr.Katakana(C)&&12540!==C||!(!qr["Halfwidth and Fullwidth Forms"](C)||65288===C||65289===C||65293===C||C>=65306&&C<=65310||65339===C||65341===C||65343===C||C>=65371&&C<=65503||65507===C||C>=65512&&C<=65519)||!(!qr["Small Form Variants"](C)||C>=65112&&C<=65118||C>=65123&&C<=65126)||qr["Unified Canadian Aboriginal Syllabics"](C)||qr["Unified Canadian Aboriginal Syllabics Extended"](C)||qr["Vertical Forms"](C)||qr["Yijing Hexagram Symbols"](C)||qr["Yi Syllables"](C)||qr["Yi Radicals"](C))))}function Fc(C){return!(Ts(C)||(z=C,qr["Latin-1 Supplement"](z)&&(167===z||169===z||174===z||177===z||188===z||189===z||190===z||215===z||247===z)||qr["General Punctuation"](z)&&(8214===z||8224===z||8225===z||8240===z||8241===z||8251===z||8252===z||8258===z||8263===z||8264===z||8265===z||8273===z)||qr["Letterlike Symbols"](z)||qr["Number Forms"](z)||qr["Miscellaneous Technical"](z)&&(z>=8960&&z<=8967||z>=8972&&z<=8991||z>=8996&&z<=9e3||9003===z||z>=9085&&z<=9114||z>=9150&&z<=9165||9167===z||z>=9169&&z<=9179||z>=9186&&z<=9215)||qr["Control Pictures"](z)&&9251!==z||qr["Optical Character Recognition"](z)||qr["Enclosed Alphanumerics"](z)||qr["Geometric Shapes"](z)||qr["Miscellaneous Symbols"](z)&&!(z>=9754&&z<=9759)||qr["Miscellaneous Symbols and Arrows"](z)&&(z>=11026&&z<=11055||z>=11088&&z<=11097||z>=11192&&z<=11243)||qr["CJK Symbols and Punctuation"](z)||qr.Katakana(z)||qr["Private Use Area"](z)||qr["CJK Compatibility Forms"](z)||qr["Small Form Variants"](z)||qr["Halfwidth and Fullwidth Forms"](z)||8734===z||8756===z||8757===z||z>=9984&&z<=10087||z>=10102&&z<=10131||65532===z||65533===z));var z}function Qi(C){return qr.Arabic(C)||qr["Arabic Supplement"](C)||qr["Arabic Extended-A"](C)||qr["Arabic Presentation Forms-A"](C)||qr["Arabic Presentation Forms-B"](C)}function Ms(C){return C>=1424&&C<=2303||qr["Arabic Presentation Forms-A"](C)||qr["Arabic Presentation Forms-B"](C)}function As(C,z){return!(!z&&Ms(C)||C>=2304&&C<=3583||C>=3840&&C<=4255||qr.Khmer(C))}function fs(C){for(var z=0,J=C;z<J.length;z+=1)if(Ms(J[z].charCodeAt(0)))return!0;return!1}var Us="deferred",pl="loading",ta="loaded",Ec=null,lo="unavailable",eo=null,Cc=function(C){C&&"string"==typeof C&&C.indexOf("NetworkError")>-1&&(lo="error"),Ec&&Ec(C)};function co(){na.fire(new rt("pluginStateChange",{pluginStatus:lo,pluginURL:eo}))}var na=new ht,hs=function(){return lo},Ua=function(){if(lo!==Us||!eo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");lo=pl,co(),eo&&Pt({url:eo},function(C){C?Cc(C):(lo=ta,co())})},No={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return lo===ta||null!=No.applyArabicShaping},isLoading:function(){return lo===pl},setState:function(C){lo=C.pluginStatus,eo=C.pluginURL},isParsed:function(){return null!=No.applyArabicShaping&&null!=No.processBidirectionalText&&null!=No.processStyledBidirectionalText},getPluginURL:function(){return eo}},Wi=function(C,z){this.zoom=C,z?(this.now=z.now,this.fadeDuration=z.fadeDuration,this.zoomHistory=z.zoomHistory,this.transition=z.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ul,this.transition={})};Wi.prototype.isSupportedScript=function(C){return function(z,J){for(var ge=0,Pe=z;ge<Pe.length;ge+=1)if(!As(Pe[ge].charCodeAt(0),J))return!1;return!0}(C,No.isLoaded())},Wi.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Wi.prototype.getCrossfadeParameters=function(){var C=this.zoom,z=C-Math.floor(C),J=this.crossFadingFactor();return C>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:z+(1-z)*J}:{fromScale:.5,toScale:1,t:1-(1-J)*z}};var ya=function(C,z){this.property=C,this.value=z,this.expression=function(J,ge){if(Vr(J))return new ca(J,ge);if(kl(J)){var Pe=mo(J,ge);if("error"===Pe.result)throw new Error(Pe.value.map(function(Ye){return Ye.key+": "+Ye.message}).join(", "));return Pe.value}var je=J;return"string"==typeof J&&"color"===ge.type&&(je=kn.parse(J)),{kind:"constant",evaluate:function(){return je}}}(void 0===z?C.specification.default:z,C.specification)};ya.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ya.prototype.possiblyEvaluate=function(C,z,J){return this.property.possiblyEvaluate(this,C,z,J)};var zo=function(C){this.property=C,this.value=new ya(C,void 0)};zo.prototype.transitioned=function(C,z){return new pc(this.property,this.value,z,f({},C.transition,this.transition),C.now)},zo.prototype.untransitioned=function(){return new pc(this.property,this.value,null,{},0)};var Hs=function(C){this._properties=C,this._values=Object.create(C.defaultTransitionablePropertyValues)};Hs.prototype.getValue=function(C){return A(this._values[C].value.value)},Hs.prototype.setValue=function(C,z){this._values.hasOwnProperty(C)||(this._values[C]=new zo(this._values[C].property)),this._values[C].value=new ya(this._values[C].property,null===z?void 0:A(z))},Hs.prototype.getTransition=function(C){return A(this._values[C].transition)},Hs.prototype.setTransition=function(C,z){this._values.hasOwnProperty(C)||(this._values[C]=new zo(this._values[C].property)),this._values[C].transition=A(z)||void 0},Hs.prototype.serialize=function(){for(var C={},z=0,J=Object.keys(this._values);z<J.length;z+=1){var ge=J[z],Pe=this.getValue(ge);void 0!==Pe&&(C[ge]=Pe);var je=this.getTransition(ge);void 0!==je&&(C[ge+"-transition"]=je)}return C},Hs.prototype.transitioned=function(C,z){for(var J=new Hl(this._properties),ge=0,Pe=Object.keys(this._values);ge<Pe.length;ge+=1){var je=Pe[ge];J._values[je]=this._values[je].transitioned(C,z._values[je])}return J},Hs.prototype.untransitioned=function(){for(var C=new Hl(this._properties),z=0,J=Object.keys(this._values);z<J.length;z+=1){var ge=J[z];C._values[ge]=this._values[ge].untransitioned()}return C};var pc=function(C,z,J,ge,Pe){this.property=C,this.value=z,this.begin=Pe+ge.delay||0,this.end=this.begin+ge.duration||0,C.specification.transition&&(ge.delay||ge.duration)&&(this.prior=J)};pc.prototype.possiblyEvaluate=function(C,z,J){var ge=C.now||0,Pe=this.value.possiblyEvaluate(C,z,J),je=this.prior;if(je){if(ge>this.end)return this.prior=null,Pe;if(this.value.isDataDriven())return this.prior=null,Pe;if(ge<this.begin)return je.possiblyEvaluate(C,z,J);var Ye=(ge-this.begin)/(this.end-this.begin);return this.property.interpolate(je.possiblyEvaluate(C,z,J),Pe,function(at){if(at<=0)return 0;if(at>=1)return 1;var mt=at*at,Ct=mt*at;return 4*(at<.5?Ct:3*(at-mt)+Ct-.75)}(Ye))}return Pe};var Hl=function(C){this._properties=C,this._values=Object.create(C.defaultTransitioningPropertyValues)};Hl.prototype.possiblyEvaluate=function(C,z,J){for(var ge=new ra(this._properties),Pe=0,je=Object.keys(this._values);Pe<je.length;Pe+=1){var Ye=je[Pe];ge._values[Ye]=this._values[Ye].possiblyEvaluate(C,z,J)}return ge},Hl.prototype.hasTransition=function(){for(var C=0,z=Object.keys(this._values);C<z.length;C+=1)if(this._values[z[C]].prior)return!0;return!1};var Ja=function(C){this._properties=C,this._values=Object.create(C.defaultPropertyValues)};Ja.prototype.getValue=function(C){return A(this._values[C].value)},Ja.prototype.setValue=function(C,z){this._values[C]=new ya(this._values[C].property,null===z?void 0:A(z))},Ja.prototype.serialize=function(){for(var C={},z=0,J=Object.keys(this._values);z<J.length;z+=1){var ge=J[z],Pe=this.getValue(ge);void 0!==Pe&&(C[ge]=Pe)}return C},Ja.prototype.possiblyEvaluate=function(C,z,J){for(var ge=new ra(this._properties),Pe=0,je=Object.keys(this._values);Pe<je.length;Pe+=1){var Ye=je[Pe];ge._values[Ye]=this._values[Ye].possiblyEvaluate(C,z,J)}return ge};var Wo=function(C,z,J){this.property=C,this.value=z,this.parameters=J};Wo.prototype.isConstant=function(){return"constant"===this.value.kind},Wo.prototype.constantOr=function(C){return"constant"===this.value.kind?this.value.value:C},Wo.prototype.evaluate=function(C,z,J,ge){return this.property.evaluate(this.value,this.parameters,C,z,J,ge)};var ra=function(C){this._properties=C,this._values=Object.create(C.defaultPossiblyEvaluatedValues)};ra.prototype.get=function(C){return this._values[C]};var Sr=function(C){this.specification=C};Sr.prototype.possiblyEvaluate=function(C,z){return C.expression.evaluate(z)},Sr.prototype.interpolate=function(C,z,J){var ge=Rr[this.specification.type];return ge?ge(C,z,J):C};var ni=function(C,z){this.specification=C,this.overrides=z};ni.prototype.possiblyEvaluate=function(C,z,J,ge){return new Wo(this,"constant"===C.expression.kind||"camera"===C.expression.kind?{kind:"constant",value:C.expression.evaluate(z,null,{},J,ge)}:C.expression,z)},ni.prototype.interpolate=function(C,z,J){if("constant"!==C.value.kind||"constant"!==z.value.kind)return C;if(void 0===C.value.value||void 0===z.value.value)return new Wo(this,{kind:"constant",value:void 0},C.parameters);var ge=Rr[this.specification.type];return ge?new Wo(this,{kind:"constant",value:ge(C.value.value,z.value.value,J)},C.parameters):C},ni.prototype.evaluate=function(C,z,J,ge,Pe,je){return"constant"===C.kind?C.value:C.evaluate(z,J,ge,Pe,je)};var Nc=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.possiblyEvaluate=function(J,ge,Pe,je){if(void 0===J.value)return new Wo(this,{kind:"constant",value:void 0},ge);if("constant"===J.expression.kind){var Ye=J.expression.evaluate(ge,null,{},Pe,je),at="resolvedImage"===J.property.specification.type&&"string"!=typeof Ye?Ye.name:Ye,mt=this._calculate(at,at,at,ge);return new Wo(this,{kind:"constant",value:mt},ge)}if("camera"===J.expression.kind){var Ct=this._calculate(J.expression.evaluate({zoom:ge.zoom-1}),J.expression.evaluate({zoom:ge.zoom}),J.expression.evaluate({zoom:ge.zoom+1}),ge);return new Wo(this,{kind:"constant",value:Ct},ge)}return new Wo(this,J.expression,ge)},z.prototype.evaluate=function(J,ge,Pe,je,Ye,at){if("source"===J.kind){var mt=J.evaluate(ge,Pe,je,Ye,at);return this._calculate(mt,mt,mt,ge)}return"composite"===J.kind?this._calculate(J.evaluate({zoom:Math.floor(ge.zoom)-1},Pe,je),J.evaluate({zoom:Math.floor(ge.zoom)},Pe,je),J.evaluate({zoom:Math.floor(ge.zoom)+1},Pe,je),ge):J.value},z.prototype._calculate=function(J,ge,Pe,je){return je.zoom>je.zoomHistory.lastIntegerZoom?{from:J,to:ge}:{from:Pe,to:ge}},z.prototype.interpolate=function(J){return J},z}(ni),Ra=function(C){this.specification=C};Ra.prototype.possiblyEvaluate=function(C,z,J,ge){if(void 0!==C.value){if("constant"===C.expression.kind){var Pe=C.expression.evaluate(z,null,{},J,ge);return this._calculate(Pe,Pe,Pe,z)}return this._calculate(C.expression.evaluate(new Wi(Math.floor(z.zoom-1),z)),C.expression.evaluate(new Wi(Math.floor(z.zoom),z)),C.expression.evaluate(new Wi(Math.floor(z.zoom+1),z)),z)}},Ra.prototype._calculate=function(C,z,J,ge){return ge.zoom>ge.zoomHistory.lastIntegerZoom?{from:C,to:z}:{from:J,to:z}},Ra.prototype.interpolate=function(C){return C};var Gl=function(C){this.specification=C};Gl.prototype.possiblyEvaluate=function(C,z,J,ge){return!!C.expression.evaluate(z,null,{},J,ge)},Gl.prototype.interpolate=function(){return!1};var xa=function(C){for(var z in this.properties=C,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],C){var J=C[z];J.specification.overridable&&this.overridableProperties.push(z);var ge=this.defaultPropertyValues[z]=new ya(J,void 0),Pe=this.defaultTransitionablePropertyValues[z]=new zo(J);this.defaultTransitioningPropertyValues[z]=Pe.untransitioned(),this.defaultPossiblyEvaluatedValues[z]=ge.possiblyEvaluate({})}};Xr("DataDrivenProperty",ni),Xr("DataConstantProperty",Sr),Xr("CrossFadedDataDrivenProperty",Nc),Xr("CrossFadedProperty",Ra),Xr("ColorRampProperty",Gl);var mc="-transition",_a=function(C){function z(J,ge){if(C.call(this),this.id=J.id,this.type=J.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==J.type&&(this.metadata=J.metadata,this.minzoom=J.minzoom,this.maxzoom=J.maxzoom,"background"!==J.type&&(this.source=J.source,this.sourceLayer=J["source-layer"],this.filter=J.filter),ge.layout&&(this._unevaluatedLayout=new Ja(ge.layout)),ge.paint)){for(var Pe in this._transitionablePaint=new Hs(ge.paint),J.paint)this.setPaintProperty(Pe,J.paint[Pe],{validate:!1});for(var je in J.layout)this.setLayoutProperty(je,J.layout[je],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ra(ge.paint)}}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},z.prototype.getLayoutProperty=function(J){return"visibility"===J?this.visibility:this._unevaluatedLayout.getValue(J)},z.prototype.setLayoutProperty=function(J,ge,Pe){void 0===Pe&&(Pe={}),null!=ge&&this._validate(hc,"layers."+this.id+".layout."+J,J,ge,Pe)||("visibility"!==J?this._unevaluatedLayout.setValue(J,ge):this.visibility=ge)},z.prototype.getPaintProperty=function(J){return b(J,mc)?this._transitionablePaint.getTransition(J.slice(0,-11)):this._transitionablePaint.getValue(J)},z.prototype.setPaintProperty=function(J,ge,Pe){if(void 0===Pe&&(Pe={}),null!=ge&&this._validate(Oa,"layers."+this.id+".paint."+J,J,ge,Pe))return!1;if(b(J,mc))return this._transitionablePaint.setTransition(J.slice(0,-11),ge||void 0),!1;var Ye=this._transitionablePaint._values[J],at="cross-faded-data-driven"===Ye.property.specification["property-type"],mt=Ye.value.isDataDriven(),Ct=Ye.value;this._transitionablePaint.setValue(J,ge),this._handleSpecialPaintPropertyUpdate(J);var Lt=this._transitionablePaint._values[J].value;return Lt.isDataDriven()||mt||at||this._handleOverridablePaintPropertyUpdate(J,Ct,Lt)},z.prototype._handleSpecialPaintPropertyUpdate=function(J){},z.prototype._handleOverridablePaintPropertyUpdate=function(J,ge,Pe){return!1},z.prototype.isHidden=function(J){return!!(this.minzoom&&J<this.minzoom)||!!(this.maxzoom&&J>=this.maxzoom)||"none"===this.visibility},z.prototype.updateTransitions=function(J){this._transitioningPaint=this._transitionablePaint.transitioned(J,this._transitioningPaint)},z.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},z.prototype.recalculate=function(J,ge){J.getCrossfadeParameters&&(this._crossfadeParameters=J.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(J,void 0,ge)),this.paint=this._transitioningPaint.possiblyEvaluate(J,void 0,ge)},z.prototype.serialize=function(){var J={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(J.layout=J.layout||{},J.layout.visibility=this.visibility),w(J,function(ge,Pe){return!(void 0===ge||"layout"===Pe&&!Object.keys(ge).length||"paint"===Pe&&!Object.keys(ge).length)})},z.prototype._validate=function(J,ge,Pe,je,Ye){return void 0===Ye&&(Ye={}),(!Ye||!1!==Ye.validate)&&fl(this,J.call(Ea,{key:ge,layerType:this.type,objectKey:Pe,value:je,styleSpec:Ve,style:{glyphs:!0,sprite:!0}}))},z.prototype.is3D=function(){return!1},z.prototype.isTileClipped=function(){return!1},z.prototype.hasOffscreenPass=function(){return!1},z.prototype.resize=function(){},z.prototype.isStateDependent=function(){for(var J in this.paint._values){var ge=this.paint.get(J);if(ge instanceof Wo&&Ml(ge.property.specification)&&("source"===ge.value.kind||"composite"===ge.value.kind)&&ge.value.isStateDependent)return!0}return!1},z}(ht),ql={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},kr=function(C,z){this._structArray=C,this._pos1=z*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Nr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Po(C,z){void 0===z&&(z=1);var J=0,ge=0;return{members:C.map(function(Pe){var Ye=ql[Pe.type].BYTES_PER_ELEMENT,at=J=Qa(J,Math.max(z,Ye)),mt=Pe.components||1;return ge=Math.max(ge,Ye),J+=Ye*mt,{name:Pe.name,type:Pe.type,components:mt,offset:at}}),size:Qa(J,Math.max(ge,z)),alignment:z}}function Qa(C,z){return Math.ceil(C/z)*z}Nr.serialize=function(C,z){return C._trim(),z&&(C.isTransferred=!0,z.push(C.arrayBuffer)),{length:C.length,arrayBuffer:C.arrayBuffer}},Nr.deserialize=function(C){var z=Object.create(this.prototype);return z.arrayBuffer=C.arrayBuffer,z.length=C.length,z.capacity=C.arrayBuffer.byteLength/z.bytesPerElement,z._refreshViews(),z},Nr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Nr.prototype.clear=function(){this.length=0},Nr.prototype.resize=function(C){this.reserve(C),this.length=C},Nr.prototype.reserve=function(C){if(C>this.capacity){this.capacity=Math.max(C,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var z=this.uint8;this._refreshViews(),z&&this.uint8.set(z)}},Nr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var uo=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,J,ge)},z.prototype.emplace=function(J,ge,Pe){var je=2*J;return this.int16[je+0]=ge,this.int16[je+1]=Pe,J},z}(Nr);uo.prototype.bytesPerElement=4,Xr("StructArrayLayout2i4",uo);var Wl=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,J,ge,Pe,je)},z.prototype.emplace=function(J,ge,Pe,je,Ye){var at=4*J;return this.int16[at+0]=ge,this.int16[at+1]=Pe,this.int16[at+2]=je,this.int16[at+3]=Ye,J},z}(Nr);Wl.prototype.bytesPerElement=8,Xr("StructArrayLayout4i8",Wl);var ml=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye,at){var mt=this.length;return this.resize(mt+1),this.emplace(mt,J,ge,Pe,je,Ye,at)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at,mt){var Ct=6*J;return this.int16[Ct+0]=ge,this.int16[Ct+1]=Pe,this.int16[Ct+2]=je,this.int16[Ct+3]=Ye,this.int16[Ct+4]=at,this.int16[Ct+5]=mt,J},z}(Nr);ml.prototype.bytesPerElement=12,Xr("StructArrayLayout2i4i12",ml);var Fa=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye,at){var mt=this.length;return this.resize(mt+1),this.emplace(mt,J,ge,Pe,je,Ye,at)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at,mt){var Ct=4*J,Lt=8*J;return this.int16[Ct+0]=ge,this.int16[Ct+1]=Pe,this.uint8[Lt+4]=je,this.uint8[Lt+5]=Ye,this.uint8[Lt+6]=at,this.uint8[Lt+7]=mt,J},z}(Nr);Fa.prototype.bytesPerElement=8,Xr("StructArrayLayout2i4ub8",Fa);var Gs=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt){var Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt){var Yt=9*J,mn=18*J;return this.uint16[Yt+0]=ge,this.uint16[Yt+1]=Pe,this.uint16[Yt+2]=je,this.uint16[Yt+3]=Ye,this.uint16[Yt+4]=at,this.uint16[Yt+5]=mt,this.uint16[Yt+6]=Ct,this.uint16[Yt+7]=Lt,this.uint8[mn+16]=Gt,this.uint8[mn+17]=Jt,J},z}(Nr);Gs.prototype.bytesPerElement=18,Xr("StructArrayLayout8ui2ub18",Gs);var V=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt){var mn=this.length;return this.resize(mn+1),this.emplace(mn,J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn){var vn=12*J;return this.int16[vn+0]=ge,this.int16[vn+1]=Pe,this.int16[vn+2]=je,this.int16[vn+3]=Ye,this.uint16[vn+4]=at,this.uint16[vn+5]=mt,this.uint16[vn+6]=Ct,this.uint16[vn+7]=Lt,this.int16[vn+8]=Gt,this.int16[vn+9]=Jt,this.int16[vn+10]=Yt,this.int16[vn+11]=mn,J},z}(Nr);V.prototype.bytesPerElement=24,Xr("StructArrayLayout4i4ui4i24",V);var Y=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,J,ge,Pe)},z.prototype.emplace=function(J,ge,Pe,je){var Ye=3*J;return this.float32[Ye+0]=ge,this.float32[Ye+1]=Pe,this.float32[Ye+2]=je,J},z}(Nr);Y.prototype.bytesPerElement=12,Xr("StructArrayLayout3f12",Y);var W=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},z.prototype.emplace=function(J,ge){return this.uint32[1*J+0]=ge,J},z}(Nr);W.prototype.bytesPerElement=4,Xr("StructArrayLayout1ul4",W);var te=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt){var Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,J,ge,Pe,je,Ye,at,mt,Ct,Lt)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt){var Jt=10*J,Yt=5*J;return this.int16[Jt+0]=ge,this.int16[Jt+1]=Pe,this.int16[Jt+2]=je,this.int16[Jt+3]=Ye,this.int16[Jt+4]=at,this.int16[Jt+5]=mt,this.uint32[Yt+3]=Ct,this.uint16[Jt+8]=Lt,this.uint16[Jt+9]=Gt,J},z}(Nr);te.prototype.bytesPerElement=20,Xr("StructArrayLayout6i1ul2ui20",te);var ye=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye,at){var mt=this.length;return this.resize(mt+1),this.emplace(mt,J,ge,Pe,je,Ye,at)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at,mt){var Ct=6*J;return this.int16[Ct+0]=ge,this.int16[Ct+1]=Pe,this.int16[Ct+2]=je,this.int16[Ct+3]=Ye,this.int16[Ct+4]=at,this.int16[Ct+5]=mt,J},z}(Nr);ye.prototype.bytesPerElement=12,Xr("StructArrayLayout2i2i2i12",ye);var Le=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye){var at=this.length;return this.resize(at+1),this.emplace(at,J,ge,Pe,je,Ye)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at){var mt=4*J,Ct=8*J;return this.float32[mt+0]=ge,this.float32[mt+1]=Pe,this.float32[mt+2]=je,this.int16[Ct+6]=Ye,this.int16[Ct+7]=at,J},z}(Nr);Le.prototype.bytesPerElement=16,Xr("StructArrayLayout2f1f2i16",Le);var U=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,J,ge,Pe,je)},z.prototype.emplace=function(J,ge,Pe,je,Ye){var at=12*J,mt=3*J;return this.uint8[at+0]=ge,this.uint8[at+1]=Pe,this.float32[mt+1]=je,this.float32[mt+2]=Ye,J},z}(Nr);U.prototype.bytesPerElement=12,Xr("StructArrayLayout2ub2f12",U);var ie=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,J,ge,Pe)},z.prototype.emplace=function(J,ge,Pe,je){var Ye=3*J;return this.uint16[Ye+0]=ge,this.uint16[Ye+1]=Pe,this.uint16[Ye+2]=je,J},z}(Nr);ie.prototype.bytesPerElement=6,Xr("StructArrayLayout3ui6",ie);var de=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn,vn,Bn,jn,Yn){var $n=this.length;return this.resize($n+1),this.emplace($n,J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn,vn,Bn,jn,Yn)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn,vn,Bn,jn,Yn,$n){var ir=24*J,ur=12*J,yr=48*J;return this.int16[ir+0]=ge,this.int16[ir+1]=Pe,this.uint16[ir+2]=je,this.uint16[ir+3]=Ye,this.uint32[ur+2]=at,this.uint32[ur+3]=mt,this.uint32[ur+4]=Ct,this.uint16[ir+10]=Lt,this.uint16[ir+11]=Gt,this.uint16[ir+12]=Jt,this.float32[ur+7]=Yt,this.float32[ur+8]=mn,this.uint8[yr+36]=vn,this.uint8[yr+37]=Bn,this.uint8[yr+38]=jn,this.uint32[ur+10]=Yn,this.int16[ir+22]=$n,J},z}(Nr);de.prototype.bytesPerElement=48,Xr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",de);var be=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn,vn,Bn,jn,Yn,$n,ir,ur,yr,Fr,Er,Gr,Kr,yi,ei,mi){var ai=this.length;return this.resize(ai+1),this.emplace(ai,J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn,vn,Bn,jn,Yn,$n,ir,ur,yr,Fr,Er,Gr,Kr,yi,ei,mi)},z.prototype.emplace=function(J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn,vn,Bn,jn,Yn,$n,ir,ur,yr,Fr,Er,Gr,Kr,yi,ei,mi,ai){var Yr=34*J,Ni=17*J;return this.int16[Yr+0]=ge,this.int16[Yr+1]=Pe,this.int16[Yr+2]=je,this.int16[Yr+3]=Ye,this.int16[Yr+4]=at,this.int16[Yr+5]=mt,this.int16[Yr+6]=Ct,this.int16[Yr+7]=Lt,this.uint16[Yr+8]=Gt,this.uint16[Yr+9]=Jt,this.uint16[Yr+10]=Yt,this.uint16[Yr+11]=mn,this.uint16[Yr+12]=vn,this.uint16[Yr+13]=Bn,this.uint16[Yr+14]=jn,this.uint16[Yr+15]=Yn,this.uint16[Yr+16]=$n,this.uint16[Yr+17]=ir,this.uint16[Yr+18]=ur,this.uint16[Yr+19]=yr,this.uint16[Yr+20]=Fr,this.uint16[Yr+21]=Er,this.uint16[Yr+22]=Gr,this.uint32[Ni+12]=Kr,this.float32[Ni+13]=yi,this.float32[Ni+14]=ei,this.float32[Ni+15]=mi,this.float32[Ni+16]=ai,J},z}(Nr);be.prototype.bytesPerElement=68,Xr("StructArrayLayout8i15ui1ul4f68",be);var Ae=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},z.prototype.emplace=function(J,ge){return this.float32[1*J+0]=ge,J},z}(Nr);Ae.prototype.bytesPerElement=4,Xr("StructArrayLayout1f4",Ae);var Fe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,J,ge,Pe)},z.prototype.emplace=function(J,ge,Pe,je){var Ye=3*J;return this.int16[Ye+0]=ge,this.int16[Ye+1]=Pe,this.int16[Ye+2]=je,J},z}(Nr);Fe.prototype.bytesPerElement=6,Xr("StructArrayLayout3i6",Fe);var We=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,J,ge,Pe)},z.prototype.emplace=function(J,ge,Pe,je){var at=4*J;return this.uint32[2*J+0]=ge,this.uint16[at+2]=Pe,this.uint16[at+3]=je,J},z}(Nr);We.prototype.bytesPerElement=8,Xr("StructArrayLayout1ul2ui8",We);var $e=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,J,ge)},z.prototype.emplace=function(J,ge,Pe){var je=2*J;return this.uint16[je+0]=ge,this.uint16[je+1]=Pe,J},z}(Nr);$e.prototype.bytesPerElement=4,Xr("StructArrayLayout2ui4",$e);var Qe=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J){var ge=this.length;return this.resize(ge+1),this.emplace(ge,J)},z.prototype.emplace=function(J,ge){return this.uint16[1*J+0]=ge,J},z}(Nr);Qe.prototype.bytesPerElement=2,Xr("StructArrayLayout1ui2",Qe);var tt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,J,ge)},z.prototype.emplace=function(J,ge,Pe){var je=2*J;return this.float32[je+0]=ge,this.float32[je+1]=Pe,J},z}(Nr);tt.prototype.bytesPerElement=8,Xr("StructArrayLayout2f8",tt);var lt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},z.prototype.emplaceBack=function(J,ge,Pe,je){var Ye=this.length;return this.resize(Ye+1),this.emplace(Ye,J,ge,Pe,je)},z.prototype.emplace=function(J,ge,Pe,je,Ye){var at=4*J;return this.float32[at+0]=ge,this.float32[at+1]=Pe,this.float32[at+2]=je,this.float32[at+3]=Ye,J},z}(Nr);lt.prototype.bytesPerElement=16,Xr("StructArrayLayout4f16",lt);var yt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var J={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return J.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},J.x1.get=function(){return this._structArray.int16[this._pos2+2]},J.y1.get=function(){return this._structArray.int16[this._pos2+3]},J.x2.get=function(){return this._structArray.int16[this._pos2+4]},J.y2.get=function(){return this._structArray.int16[this._pos2+5]},J.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},J.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},J.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},J.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(z.prototype,J),z}(kr);yt.prototype.size=20;var Mt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(J){return new yt(this,J)},z}(te);Xr("CollisionBoxArray",Mt);var Bt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var J={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return J.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},J.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},J.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},J.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},J.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},J.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},J.segment.get=function(){return this._structArray.uint16[this._pos2+10]},J.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},J.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},J.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},J.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},J.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},J.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},J.placedOrientation.set=function(ge){this._structArray.uint8[this._pos1+37]=ge},J.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},J.hidden.set=function(ge){this._structArray.uint8[this._pos1+38]=ge},J.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},J.crossTileID.set=function(ge){this._structArray.uint32[this._pos4+10]=ge},J.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(z.prototype,J),z}(kr);Bt.prototype.size=48;var Ut=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(J){return new Bt(this,J)},z}(de);Xr("PlacedSymbolArray",Ut);var jt=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var J={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return J.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},J.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},J.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},J.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},J.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},J.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},J.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},J.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},J.key.get=function(){return this._structArray.uint16[this._pos2+8]},J.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},J.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},J.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},J.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},J.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},J.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},J.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},J.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},J.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},J.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},J.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},J.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},J.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},J.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},J.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},J.crossTileID.set=function(ge){this._structArray.uint32[this._pos4+12]=ge},J.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},J.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},J.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},J.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(z.prototype,J),z}(kr);jt.prototype.size=68;var Xt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(J){return new jt(this,J)},z}(be);Xr("SymbolInstanceArray",Xt);var Vt=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getoffsetX=function(J){return this.float32[1*J+0]},z}(Ae);Xr("GlyphOffsetArray",Vt);var pn=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.getx=function(J){return this.int16[3*J+0]},z.prototype.gety=function(J){return this.int16[3*J+1]},z.prototype.gettileUnitDistanceFromAnchor=function(J){return this.int16[3*J+2]},z}(Fe);Xr("SymbolLineVertexArray",pn);var sn=function(C){function z(){C.apply(this,arguments)}C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z;var J={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return J.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},J.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},J.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(z.prototype,J),z}(kr);sn.prototype.size=8;var tn=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.get=function(J){return new sn(this,J)},z}(We);Xr("FeatureIndexArray",tn);var Sn=Po([{name:"a_pos",components:2,type:"Int16"}],4).members,Dn=function(C){void 0===C&&(C=[]),this.segments=C};function qn(C,z){return 256*(C=l(Math.floor(C),0,255))+l(Math.floor(z),0,255)}Dn.prototype.prepareSegment=function(C,z,J,ge){var Pe=this.segments[this.segments.length-1];return C>Dn.MAX_VERTEX_ARRAY_LENGTH&&I("Max vertices per segment is "+Dn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+C),(!Pe||Pe.vertexLength+C>Dn.MAX_VERTEX_ARRAY_LENGTH||Pe.sortKey!==ge)&&(Pe={vertexOffset:z.length,primitiveOffset:J.length,vertexLength:0,primitiveLength:0},void 0!==ge&&(Pe.sortKey=ge),this.segments.push(Pe)),Pe},Dn.prototype.get=function(){return this.segments},Dn.prototype.destroy=function(){for(var C=0,z=this.segments;C<z.length;C+=1){var J=z[C];for(var ge in J.vaos)J.vaos[ge].destroy()}},Dn.simpleSegment=function(C,z,J,ge){return new Dn([{vertexOffset:C,primitiveOffset:z,vertexLength:J,primitiveLength:ge,vaos:{},sortKey:0}])},Dn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Xr("SegmentVector",Dn);var Qn=Po([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),sr=S(function(C){C.exports=function(z,J){var ge,Pe,je,Ye,at,mt,Ct,Lt;for(Pe=z.length-(ge=3&z.length),je=J,at=3432918353,mt=461845907,Lt=0;Lt<Pe;)Ct=255&z.charCodeAt(Lt)|(255&z.charCodeAt(++Lt))<<8|(255&z.charCodeAt(++Lt))<<16|(255&z.charCodeAt(++Lt))<<24,++Lt,je=27492+(65535&(Ye=5*(65535&(je=(je^=Ct=(65535&(Ct=(Ct=(65535&Ct)*at+(((Ct>>>16)*at&65535)<<16)&4294967295)<<15|Ct>>>17))*mt+(((Ct>>>16)*mt&65535)<<16)&4294967295)<<13|je>>>19))+((5*(je>>>16)&65535)<<16)&4294967295))+((58964+(Ye>>>16)&65535)<<16);switch(Ct=0,ge){case 3:Ct^=(255&z.charCodeAt(Lt+2))<<16;case 2:Ct^=(255&z.charCodeAt(Lt+1))<<8;case 1:je^=Ct=(65535&(Ct=(Ct=(65535&(Ct^=255&z.charCodeAt(Lt)))*at+(((Ct>>>16)*at&65535)<<16)&4294967295)<<15|Ct>>>17))*mt+(((Ct>>>16)*mt&65535)<<16)&4294967295}return je^=z.length,je=2246822507*(65535&(je^=je>>>16))+((2246822507*(je>>>16)&65535)<<16)&4294967295,je=3266489909*(65535&(je^=je>>>13))+((3266489909*(je>>>16)&65535)<<16)&4294967295,(je^=je>>>16)>>>0}}),pr=S(function(C){C.exports=function(z,J){for(var ge,Pe=z.length,je=J^Pe,Ye=0;Pe>=4;)ge=1540483477*(65535&(ge=255&z.charCodeAt(Ye)|(255&z.charCodeAt(++Ye))<<8|(255&z.charCodeAt(++Ye))<<16|(255&z.charCodeAt(++Ye))<<24))+((1540483477*(ge>>>16)&65535)<<16),je=1540483477*(65535&je)+((1540483477*(je>>>16)&65535)<<16)^(ge=1540483477*(65535&(ge^=ge>>>24))+((1540483477*(ge>>>16)&65535)<<16)),Pe-=4,++Ye;switch(Pe){case 3:je^=(255&z.charCodeAt(Ye+2))<<16;case 2:je^=(255&z.charCodeAt(Ye+1))<<8;case 1:je=1540483477*(65535&(je^=255&z.charCodeAt(Ye)))+((1540483477*(je>>>16)&65535)<<16)}return je=1540483477*(65535&(je^=je>>>13))+((1540483477*(je>>>16)&65535)<<16),(je^=je>>>15)>>>0}}),Cr=sr,Or=pr;Cr.murmur3=sr,Cr.murmur2=Or;var Ur=function(){this.ids=[],this.positions=[],this.indexed=!1};Ur.prototype.add=function(C,z,J,ge){this.ids.push(nr(C)),this.positions.push(z,J,ge)},Ur.prototype.getPositions=function(C){for(var z=nr(C),J=0,ge=this.ids.length-1;J<ge;){var Pe=J+ge>>1;this.ids[Pe]>=z?ge=Pe:J=Pe+1}for(var je=[];this.ids[J]===z;)je.push({index:this.positions[3*J],start:this.positions[3*J+1],end:this.positions[3*J+2]}),J++;return je},Ur.serialize=function(C,z){var J=new Float64Array(C.ids),ge=new Uint32Array(C.positions);return wr(J,ge,0,J.length-1),z&&z.push(J.buffer,ge.buffer),{ids:J,positions:ge}},Ur.deserialize=function(C){var z=new Ur;return z.ids=C.ids,z.positions=C.positions,z.indexed=!0,z};var li=Math.pow(2,53)-1;function nr(C){var z=+C;return!isNaN(z)&&z<=li?z:Cr(String(C))}function wr(C,z,J,ge){for(;J<ge;){for(var Pe=C[J+ge>>1],je=J-1,Ye=ge+1;;){do{je++}while(C[je]<Pe);do{Ye--}while(C[Ye]>Pe);if(je>=Ye)break;Pr(C,je,Ye),Pr(z,3*je,3*Ye),Pr(z,3*je+1,3*Ye+1),Pr(z,3*je+2,3*Ye+2)}Ye-J<ge-Ye?(wr(C,z,J,Ye),J=Ye+1):(wr(C,z,Ye+1,ge),ge=Ye)}}function Pr(C,z,J){var ge=C[z];C[z]=C[J],C[J]=ge}Xr("FeaturePositionMap",Ur);var Wr=function(C,z){this.gl=C.gl,this.location=z},ti=function(C){function z(J,ge){C.call(this,J,ge),this.current=0}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){this.current!==J&&(this.current=J,this.gl.uniform1i(this.location,J))},z}(Wr),di=function(C){function z(J,ge){C.call(this,J,ge),this.current=0}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){this.current!==J&&(this.current=J,this.gl.uniform1f(this.location,J))},z}(Wr),Oi=function(C){function z(J,ge){C.call(this,J,ge),this.current=[0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]||(this.current=J,this.gl.uniform2f(this.location,J[0],J[1]))},z}(Wr),to=function(C){function z(J,ge){C.call(this,J,ge),this.current=[0,0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]&&J[2]===this.current[2]||(this.current=J,this.gl.uniform3f(this.location,J[0],J[1],J[2]))},z}(Wr),go=function(C){function z(J,ge){C.call(this,J,ge),this.current=[0,0,0,0]}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){J[0]===this.current[0]&&J[1]===this.current[1]&&J[2]===this.current[2]&&J[3]===this.current[3]||(this.current=J,this.gl.uniform4f(this.location,J[0],J[1],J[2],J[3]))},z}(Wr),Do=function(C){function z(J,ge){C.call(this,J,ge),this.current=kn.transparent}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){J.r===this.current.r&&J.g===this.current.g&&J.b===this.current.b&&J.a===this.current.a||(this.current=J,this.gl.uniform4f(this.location,J.r,J.g,J.b,J.a))},z}(Wr),Zi=new Float32Array(16),Bo=function(C){function z(J,ge){C.call(this,J,ge),this.current=Zi}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.set=function(J){if(J[12]!==this.current[12]||J[0]!==this.current[0])return this.current=J,void this.gl.uniformMatrix4fv(this.location,!1,J);for(var ge=1;ge<16;ge++)if(J[ge]!==this.current[ge]){this.current=J,this.gl.uniformMatrix4fv(this.location,!1,J);break}},z}(Wr);function ba(C){return[qn(255*C.r,255*C.g),qn(255*C.b,255*C.a)]}var ia=function(C,z,J){this.value=C,this.uniformNames=z.map(function(ge){return"u_"+ge}),this.type=J};ia.prototype.setUniform=function(C,z,J){C.set(J.constantOr(this.value))},ia.prototype.getBinding=function(C,z,J){return"color"===this.type?new Do(C,z):new di(C,z)};var Zo=function(C,z){this.uniformNames=z.map(function(J){return"u_"+J}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Zo.prototype.setConstantPatternPositions=function(C,z){this.pixelRatioFrom=z.pixelRatio,this.pixelRatioTo=C.pixelRatio,this.patternFrom=z.tlbr,this.patternTo=C.tlbr},Zo.prototype.setUniform=function(C,z,J,ge){var Pe="u_pattern_to"===ge?this.patternTo:"u_pattern_from"===ge?this.patternFrom:"u_pixel_ratio_to"===ge?this.pixelRatioTo:"u_pixel_ratio_from"===ge?this.pixelRatioFrom:null;Pe&&C.set(Pe)},Zo.prototype.getBinding=function(C,z,J){return"u_pattern"===J.substr(0,9)?new go(C,z):new di(C,z)};var Ri=function(C,z,J,ge){this.expression=C,this.type=J,this.maxValue=0,this.paintVertexAttributes=z.map(function(Pe){return{name:"a_"+Pe,type:"Float32",components:"color"===J?2:1,offset:0}}),this.paintVertexArray=new ge};Ri.prototype.populatePaintArray=function(C,z,J,ge,Pe){var je=this.paintVertexArray.length,Ye=this.expression.evaluate(new Wi(0),z,{},ge,[],Pe);this.paintVertexArray.resize(C),this._setPaintValue(je,C,Ye)},Ri.prototype.updatePaintArray=function(C,z,J,ge){var Pe=this.expression.evaluate({zoom:0},J,ge);this._setPaintValue(C,z,Pe)},Ri.prototype._setPaintValue=function(C,z,J){if("color"===this.type)for(var ge=ba(J),Pe=C;Pe<z;Pe++)this.paintVertexArray.emplace(Pe,ge[0],ge[1]);else{for(var je=C;je<z;je++)this.paintVertexArray.emplace(je,J);this.maxValue=Math.max(this.maxValue,Math.abs(J))}},Ri.prototype.upload=function(C){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=C.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ri.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Di=function(C,z,J,ge,Pe,je){this.expression=C,this.uniformNames=z.map(function(Ye){return"u_"+Ye+"_t"}),this.type=J,this.useIntegerZoom=ge,this.zoom=Pe,this.maxValue=0,this.paintVertexAttributes=z.map(function(Ye){return{name:"a_"+Ye,type:"Float32",components:"color"===J?4:2,offset:0}}),this.paintVertexArray=new je};Di.prototype.populatePaintArray=function(C,z,J,ge,Pe){var je=this.expression.evaluate(new Wi(this.zoom),z,{},ge,[],Pe),Ye=this.expression.evaluate(new Wi(this.zoom+1),z,{},ge,[],Pe),at=this.paintVertexArray.length;this.paintVertexArray.resize(C),this._setPaintValue(at,C,je,Ye)},Di.prototype.updatePaintArray=function(C,z,J,ge){var Pe=this.expression.evaluate({zoom:this.zoom},J,ge),je=this.expression.evaluate({zoom:this.zoom+1},J,ge);this._setPaintValue(C,z,Pe,je)},Di.prototype._setPaintValue=function(C,z,J,ge){if("color"===this.type)for(var Pe=ba(J),je=ba(ge),Ye=C;Ye<z;Ye++)this.paintVertexArray.emplace(Ye,Pe[0],Pe[1],je[0],je[1]);else{for(var at=C;at<z;at++)this.paintVertexArray.emplace(at,J,ge);this.maxValue=Math.max(this.maxValue,Math.abs(J),Math.abs(ge))}},Di.prototype.upload=function(C){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=C.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Di.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Di.prototype.setUniform=function(C,z){var J=this.useIntegerZoom?Math.floor(z.zoom):z.zoom,ge=l(this.expression.interpolationFactor(J,this.zoom,this.zoom+1),0,1);C.set(ge)},Di.prototype.getBinding=function(C,z,J){return new di(C,z)};var no=function(C,z,J,ge,Pe,je){this.expression=C,this.type=z,this.useIntegerZoom=J,this.zoom=ge,this.layerId=je,this.zoomInPaintVertexArray=new Pe,this.zoomOutPaintVertexArray=new Pe};no.prototype.populatePaintArray=function(C,z,J){var ge=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(C),this.zoomOutPaintVertexArray.resize(C),this._setPaintValues(ge,C,z.patterns&&z.patterns[this.layerId],J)},no.prototype.updatePaintArray=function(C,z,J,ge,Pe){this._setPaintValues(C,z,J.patterns&&J.patterns[this.layerId],Pe)},no.prototype._setPaintValues=function(C,z,J,ge){if(ge&&J){var at=ge[J.min],mt=ge[J.mid],Ct=ge[J.max];if(at&&mt&&Ct)for(var Lt=C;Lt<z;Lt++)this.zoomInPaintVertexArray.emplace(Lt,mt.tl[0],mt.tl[1],mt.br[0],mt.br[1],at.tl[0],at.tl[1],at.br[0],at.br[1],mt.pixelRatio,at.pixelRatio),this.zoomOutPaintVertexArray.emplace(Lt,mt.tl[0],mt.tl[1],mt.br[0],mt.br[1],Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],mt.pixelRatio,Ct.pixelRatio)}},no.prototype.upload=function(C){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=C.createVertexBuffer(this.zoomInPaintVertexArray,Qn.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=C.createVertexBuffer(this.zoomOutPaintVertexArray,Qn.members,this.expression.isStateDependent))},no.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var fo=function(C,z,J,ge){this.binders={},this.layoutAttributes=ge,this._buffers=[];var Pe=[];for(var je in C.paint._values)if(J(je)){var Ye=C.paint.get(je);if(Ye instanceof Wo&&Ml(Ye.property.specification)){var at=wa(je,C.type),mt=Ye.value,Ct=Ye.property.specification.type,Lt=Ye.property.useIntegerZoom,Gt=Ye.property.specification["property-type"],Jt="cross-faded"===Gt||"cross-faded-data-driven"===Gt;if("constant"===mt.kind)this.binders[je]=Jt?new Zo(mt.value,at):new ia(mt.value,at,Ct),Pe.push("/u_"+je);else if("source"===mt.kind||Jt){var Yt=Ro(je,Ct,"source");this.binders[je]=Jt?new no(mt,Ct,Lt,z,Yt,C.id):new Ri(mt,at,Ct,Yt),Pe.push("/a_"+je)}else{var mn=Ro(je,Ct,"composite");this.binders[je]=new Di(mt,at,Ct,Lt,z,mn),Pe.push("/z_"+je)}}}this.cacheKey=Pe.sort().join("")};fo.prototype.getMaxValue=function(C){var z=this.binders[C];return z instanceof Ri||z instanceof Di?z.maxValue:0},fo.prototype.populatePaintArrays=function(C,z,J,ge,Pe){for(var je in this.binders){var Ye=this.binders[je];(Ye instanceof Ri||Ye instanceof Di||Ye instanceof no)&&Ye.populatePaintArray(C,z,J,ge,Pe)}},fo.prototype.setConstantPatternPositions=function(C,z){for(var J in this.binders){var ge=this.binders[J];ge instanceof Zo&&ge.setConstantPatternPositions(C,z)}},fo.prototype.updatePaintArrays=function(C,z,J,ge,Pe){var je=!1;for(var Ye in C)for(var at=0,mt=z.getPositions(Ye);at<mt.length;at+=1){var Ct=mt[at],Lt=J.feature(Ct.index);for(var Gt in this.binders){var Jt=this.binders[Gt];if((Jt instanceof Ri||Jt instanceof Di||Jt instanceof no)&&!0===Jt.expression.isStateDependent){var Yt=ge.paint.get(Gt);Jt.expression=Yt.value,Jt.updatePaintArray(Ct.start,Ct.end,Lt,C[Ye],Pe),je=!0}}}return je},fo.prototype.defines=function(){var C=[];for(var z in this.binders){var J=this.binders[z];(J instanceof ia||J instanceof Zo)&&C.push.apply(C,J.uniformNames.map(function(ge){return"#define HAS_UNIFORM_"+ge}))}return C},fo.prototype.getPaintVertexBuffers=function(){return this._buffers},fo.prototype.getUniforms=function(C,z){var J=[];for(var ge in this.binders){var Pe=this.binders[ge];if(Pe instanceof ia||Pe instanceof Zo||Pe instanceof Di)for(var je=0,Ye=Pe.uniformNames;je<Ye.length;je+=1){var at=Ye[je];if(z[at]){var mt=Pe.getBinding(C,z[at],at);J.push({name:at,property:ge,binding:mt})}}}return J},fo.prototype.setUniforms=function(C,z,J,ge){for(var Pe=0,je=z;Pe<je.length;Pe+=1){var Ye=je[Pe],at=Ye.name,mt=Ye.property;this.binders[mt].setUniform(Ye.binding,ge,J.get(mt),at)}},fo.prototype.updatePaintBuffers=function(C){for(var z in this._buffers=[],this.binders){var J=this.binders[z];if(C&&J instanceof no){var ge=2===C.fromScale?J.zoomInPaintVertexBuffer:J.zoomOutPaintVertexBuffer;ge&&this._buffers.push(ge)}else(J instanceof Ri||J instanceof Di)&&J.paintVertexBuffer&&this._buffers.push(J.paintVertexBuffer)}},fo.prototype.upload=function(C){for(var z in this.binders){var J=this.binders[z];(J instanceof Ri||J instanceof Di||J instanceof no)&&J.upload(C)}this.updatePaintBuffers()},fo.prototype.destroy=function(){for(var C in this.binders){var z=this.binders[C];(z instanceof Ri||z instanceof Di||z instanceof no)&&z.destroy()}};var Eo=function(C,z,J,ge){void 0===ge&&(ge=function(){return!0}),this.programConfigurations={};for(var Pe=0,je=z;Pe<je.length;Pe+=1){var Ye=je[Pe];this.programConfigurations[Ye.id]=new fo(Ye,J,ge,C)}this.needsUpload=!1,this._featureMap=new Ur,this._bufferOffset=0};function wa(C,z){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[C]||[C.replace(z+"-","").replace(/-/g,"_")]}function Ro(C,z,J){var Pe={"line-pattern":{source:Gs,composite:Gs},"fill-pattern":{source:Gs,composite:Gs},"fill-extrusion-pattern":{source:Gs,composite:Gs}}[C];return Pe&&Pe[J]||{color:{source:tt,composite:lt},number:{source:Ae,composite:tt}}[z][J]}Eo.prototype.populatePaintArrays=function(C,z,J,ge,Pe,je){for(var Ye in this.programConfigurations)this.programConfigurations[Ye].populatePaintArrays(C,z,ge,Pe,je);void 0!==z.id&&this._featureMap.add(z.id,J,this._bufferOffset,C),this._bufferOffset=C,this.needsUpload=!0},Eo.prototype.updatePaintArrays=function(C,z,J,ge){for(var Pe=0,je=J;Pe<je.length;Pe+=1){var Ye=je[Pe];this.needsUpload=this.programConfigurations[Ye.id].updatePaintArrays(C,this._featureMap,z,Ye,ge)||this.needsUpload}},Eo.prototype.get=function(C){return this.programConfigurations[C]},Eo.prototype.upload=function(C){if(this.needsUpload){for(var z in this.programConfigurations)this.programConfigurations[z].upload(C);this.needsUpload=!1}},Eo.prototype.destroy=function(){for(var C in this.programConfigurations)this.programConfigurations[C].destroy()},Xr("ConstantBinder",ia),Xr("CrossFadedConstantBinder",Zo),Xr("SourceExpressionBinder",Ri),Xr("CrossFadedCompositeBinder",no),Xr("CompositeExpressionBinder",Di),Xr("ProgramConfiguration",fo,{omit:["_buffers"]}),Xr("ProgramConfigurationSet",Eo);var Fi=8192,Ca=(15,{min:-1*Math.pow(2,14),max:Math.pow(2,14)-1});function qs(C){for(var z=Fi/C.extent,J=C.loadGeometry(),ge=0;ge<J.length;ge++)for(var Pe=J[ge],je=0;je<Pe.length;je++){var Ye=Pe[je];Ye.x=Math.round(Ye.x*z),Ye.y=Math.round(Ye.y*z),(Ye.x<Ca.min||Ye.x>Ca.max||Ye.y<Ca.min||Ye.y>Ca.max)&&(I("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ye.x=l(Ye.x,Ca.min,Ca.max),Ye.y=l(Ye.y,Ca.min,Ca.max))}return J}function jo(C,z,J,ge,Pe){C.emplaceBack(2*z+(ge+1)/2,2*J+(Pe+1)/2)}var oa=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.layoutVertexArray=new uo,this.indexArray=new ie,this.segments=new Dn,this.programConfigurations=new Eo(Sn,C.layers,C.zoom),this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};function Ws(C,z){for(var J=0;J<C.length;J++)if(wu(z,C[J]))return!0;for(var ge=0;ge<z.length;ge++)if(wu(C,z[ge]))return!0;return!!cd(C,z)}function Dl(C,z,J){return!!wu(C,z)||!!dd(z,C,J)}function tp(C,z){if(1===C.length)return np(z,C[0]);for(var J=0;J<z.length;J++)for(var ge=z[J],Pe=0;Pe<ge.length;Pe++)if(wu(C,ge[Pe]))return!0;for(var je=0;je<C.length;je++)if(np(z,C[je]))return!0;for(var Ye=0;Ye<z.length;Ye++)if(cd(C,z[Ye]))return!0;return!1}function Zd(C,z,J){if(C.length>1){if(cd(C,z))return!0;for(var ge=0;ge<z.length;ge++)if(dd(z[ge],C,J))return!0}for(var Pe=0;Pe<C.length;Pe++)if(dd(C[Pe],z,J))return!0;return!1}function cd(C,z){if(0===C.length||0===z.length)return!1;for(var J=0;J<C.length-1;J++)for(var ge=C[J],Pe=C[J+1],je=0;je<z.length-1;je++)if(ud(ge,Pe,z[je],z[je+1]))return!0;return!1}function ud(C,z,J,ge){return k(C,J,ge)!==k(z,J,ge)&&k(C,z,J)!==k(C,z,ge)}function dd(C,z,J){var ge=J*J;if(1===z.length)return C.distSqr(z[0])<ge;for(var Pe=1;Pe<z.length;Pe++)if(bu(C,z[Pe-1],z[Pe])<ge)return!0;return!1}function bu(C,z,J){var ge=z.distSqr(J);if(0===ge)return C.distSqr(z);var Pe=((C.x-z.x)*(J.x-z.x)+(C.y-z.y)*(J.y-z.y))/ge;return C.distSqr(Pe<0?z:Pe>1?J:J.sub(z)._mult(Pe)._add(z))}function np(C,z){for(var J,ge,Pe,je=!1,Ye=0;Ye<C.length;Ye++)for(var at=0,mt=(J=C[Ye]).length-1;at<J.length;mt=at++)(ge=J[at]).y>z.y!=(Pe=J[mt]).y>z.y&&z.x<(Pe.x-ge.x)*(z.y-ge.y)/(Pe.y-ge.y)+ge.x&&(je=!je);return je}function wu(C,z){for(var J=!1,ge=0,Pe=C.length-1;ge<C.length;Pe=ge++){var je=C[ge],Ye=C[Pe];je.y>z.y!=Ye.y>z.y&&z.x<(Ye.x-je.x)*(z.y-je.y)/(Ye.y-je.y)+je.x&&(J=!J)}return J}function Yd(C,z,J){var ge=J[0],Pe=J[2];if(C.x<ge.x&&z.x<ge.x||C.x>Pe.x&&z.x>Pe.x||C.y<ge.y&&z.y<ge.y||C.y>Pe.y&&z.y>Pe.y)return!1;var je=k(C,z,J[0]);return je!==k(C,z,J[1])||je!==k(C,z,J[2])||je!==k(C,z,J[3])}function $d(C,z,J){var ge=z.paint.get(C).value;return"constant"===ge.kind?ge.value:J.programConfigurations.get(z.id).getMaxValue(C)}function Qf(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function rp(C,z,J,ge,Pe){if(!z[0]&&!z[1])return C;var je=i.convert(z)._mult(Pe);"viewport"===J&&je._rotate(-ge);for(var Ye=[],at=0;at<C.length;at++)Ye.push(C[at].sub(je));return Ye}oa.prototype.populate=function(C,z,J){var ge=this.layers[0],Pe=[],je=null;"circle"===ge.type&&(je=ge.layout.get("circle-sort-key"));for(var Ye=0,at=C;Ye<at.length;Ye+=1){var mt=at[Ye],Ct=mt.feature,Lt=mt.id,Gt=mt.index,Jt=mt.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,mn={type:Ct.type,id:Lt,properties:Ct.properties,geometry:Yt?qs(Ct):[]};if(this.layers[0]._featureFilter.filter(new Wi(this.zoom),mn,J)){Yt||(mn.geometry=qs(Ct));var vn=je?je.evaluate(mn,{},J):void 0;Pe.push({id:Lt,properties:Ct.properties,type:Ct.type,sourceLayerIndex:Jt,index:Gt,geometry:mn.geometry,patterns:{},sortKey:vn})}}je&&Pe.sort(function(Gr,Kr){return Gr.sortKey-Kr.sortKey});for(var jn=0,Yn=Pe;jn<Yn.length;jn+=1){var $n=Yn[jn],ur=$n.geometry,yr=$n.index,Fr=$n.sourceLayerIndex,Er=C[yr].feature;this.addFeature($n,ur,yr,J),z.featureIndex.insert(Er,ur,yr,Fr,this.index)}},oa.prototype.update=function(C,z,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,J)},oa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},oa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},oa.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,Sn),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},oa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},oa.prototype.addFeature=function(C,z,J,ge){for(var Pe=0,je=z;Pe<je.length;Pe+=1)for(var Ye=0,at=je[Pe];Ye<at.length;Ye+=1){var mt=at[Ye],Ct=mt.x,Lt=mt.y;if(!(Ct<0||Ct>=Fi||Lt<0||Lt>=Fi)){var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,C.sortKey),Jt=Gt.vertexLength;jo(this.layoutVertexArray,Ct,Lt,-1,-1),jo(this.layoutVertexArray,Ct,Lt,1,-1),jo(this.layoutVertexArray,Ct,Lt,1,1),jo(this.layoutVertexArray,Ct,Lt,-1,1),this.indexArray.emplaceBack(Jt,Jt+1,Jt+2),this.indexArray.emplaceBack(Jt,Jt+3,Jt+2),Gt.vertexLength+=4,Gt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,J,{},ge)},Xr("CircleBucket",oa,{omit:["layers"]});var ip=new xa({"circle-sort-key":new ni(Ve.layout_circle["circle-sort-key"])}),fd={paint:new xa({"circle-radius":new ni(Ve.paint_circle["circle-radius"]),"circle-color":new ni(Ve.paint_circle["circle-color"]),"circle-blur":new ni(Ve.paint_circle["circle-blur"]),"circle-opacity":new ni(Ve.paint_circle["circle-opacity"]),"circle-translate":new Sr(Ve.paint_circle["circle-translate"]),"circle-translate-anchor":new Sr(Ve.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Sr(Ve.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Sr(Ve.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ni(Ve.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ni(Ve.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ni(Ve.paint_circle["circle-stroke-opacity"])}),layout:ip},Zl=typeof Float32Array<"u"?Float32Array:Array;function op(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=1,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=1,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,C}function Sm(C,z,J){var ge=z[0],Pe=z[1],je=z[2],Ye=z[3],at=z[4],mt=z[5],Ct=z[6],Lt=z[7],Gt=z[8],Jt=z[9],Yt=z[10],mn=z[11],vn=z[12],Bn=z[13],jn=z[14],Yn=z[15],$n=J[0],ir=J[1],ur=J[2],yr=J[3];return C[0]=$n*ge+ir*at+ur*Gt+yr*vn,C[1]=$n*Pe+ir*mt+ur*Jt+yr*Bn,C[2]=$n*je+ir*Ct+ur*Yt+yr*jn,C[3]=$n*Ye+ir*Lt+ur*mn+yr*Yn,C[4]=($n=J[4])*ge+(ir=J[5])*at+(ur=J[6])*Gt+(yr=J[7])*vn,C[5]=$n*Pe+ir*mt+ur*Jt+yr*Bn,C[6]=$n*je+ir*Ct+ur*Yt+yr*jn,C[7]=$n*Ye+ir*Lt+ur*mn+yr*Yn,C[8]=($n=J[8])*ge+(ir=J[9])*at+(ur=J[10])*Gt+(yr=J[11])*vn,C[9]=$n*Pe+ir*mt+ur*Jt+yr*Bn,C[10]=$n*je+ir*Ct+ur*Yt+yr*jn,C[11]=$n*Ye+ir*Lt+ur*mn+yr*Yn,C[12]=($n=J[12])*ge+(ir=J[13])*at+(ur=J[14])*Gt+(yr=J[15])*vn,C[13]=$n*Pe+ir*mt+ur*Jt+yr*Bn,C[14]=$n*je+ir*Ct+ur*Yt+yr*jn,C[15]=$n*Ye+ir*Lt+ur*mn+yr*Yn,C}Math.hypot||(Math.hypot=function(){for(var C=arguments,z=0,J=arguments.length;J--;)z+=C[J]*C[J];return Math.sqrt(z)});var ap,C,Xd=Sm;function Kd(C,z,J){var ge=z[0],Pe=z[1],je=z[2],Ye=z[3];return C[0]=J[0]*ge+J[4]*Pe+J[8]*je+J[12]*Ye,C[1]=J[1]*ge+J[5]*Pe+J[9]*je+J[13]*Ye,C[2]=J[2]*ge+J[6]*Pe+J[10]*je+J[14]*Ye,C[3]=J[3]*ge+J[7]*Pe+J[11]*je+J[15]*Ye,C}ap=new Zl(3),Zl!=Float32Array&&(ap[0]=0,ap[1]=0,ap[2]=0),C=new Zl(4),Zl!=Float32Array&&(C[0]=0,C[1]=0,C[2]=0,C[3]=0);var Rg=(function(){var C=new Zl(2);Zl!=Float32Array&&(C[0]=0,C[1]=0)}(),function(C){function z(J){C.call(this,J,fd)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(J){return new oa(J)},z.prototype.queryRadius=function(J){var ge=J;return $d("circle-radius",this,ge)+$d("circle-stroke-width",this,ge)+Qf(this.paint.get("circle-translate"))},z.prototype.queryIntersectsFeature=function(J,ge,Pe,je,Ye,at,mt,Ct){for(var Lt=rp(J,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),at.angle,mt),Gt=this.paint.get("circle-radius").evaluate(ge,Pe)+this.paint.get("circle-stroke-width").evaluate(ge,Pe),Jt="map"===this.paint.get("circle-pitch-alignment"),Yt=Jt?Lt:function(Fr,Er){return Fr.map(function(Gr){return Jd(Gr,Er)})}(Lt,Ct),mn=Jt?Gt*mt:Gt,vn=0,Bn=je;vn<Bn.length;vn+=1)for(var jn=0,Yn=Bn[vn];jn<Yn.length;jn+=1){var $n=Yn[jn],ir=Jt?$n:Jd($n,Ct),ur=mn,yr=Kd([],[$n.x,$n.y,0,1],Ct);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?ur*=yr[3]/at.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(ur*=at.cameraToCenterDistance/yr[3]),Dl(Yt,ir,ur))return!0}return!1},z}(_a));function Jd(C,z){var J=Kd([],[C.x,C.y,0,1],z);return new i(J[0]/J[3],J[1]/J[3])}var hd=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(oa);function Uu(C,z,J,ge){var Pe=z.width,je=z.height;if(ge){if(ge instanceof Uint8ClampedArray)ge=new Uint8Array(ge.buffer);else if(ge.length!==Pe*je*J)throw new RangeError("mismatched image size")}else ge=new Uint8Array(Pe*je*J);return C.width=Pe,C.height=je,C.data=ge,C}function pd(C,z,J){var ge=z.width,Pe=z.height;if(ge!==C.width||Pe!==C.height){var je=Uu({},{width:ge,height:Pe},J);sp(C,je,{x:0,y:0},{x:0,y:0},{width:Math.min(C.width,ge),height:Math.min(C.height,Pe)},J),C.width=ge,C.height=Pe,C.data=je.data}}function sp(C,z,J,ge,Pe,je){if(0===Pe.width||0===Pe.height)return z;if(Pe.width>C.width||Pe.height>C.height||J.x>C.width-Pe.width||J.y>C.height-Pe.height)throw new RangeError("out of range source coordinates for image copy");if(Pe.width>z.width||Pe.height>z.height||ge.x>z.width-Pe.width||ge.y>z.height-Pe.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ye=C.data,at=z.data,mt=0;mt<Pe.height;mt++)for(var Ct=((J.y+mt)*C.width+J.x)*je,Lt=((ge.y+mt)*z.width+ge.x)*je,Gt=0;Gt<Pe.width*je;Gt++)at[Lt+Gt]=Ye[Ct+Gt];return z}Xr("HeatmapBucket",hd,{omit:["layers"]});var Tu=function(C,z){Uu(this,C,1,z)};Tu.prototype.resize=function(C){pd(this,C,1)},Tu.prototype.clone=function(){return new Tu({width:this.width,height:this.height},new Uint8Array(this.data))},Tu.copy=function(C,z,J,ge,Pe){sp(C,z,J,ge,Pe,1)};var Ha=function(C,z){Uu(this,C,4,z)};Ha.prototype.resize=function(C){pd(this,C,4)},Ha.prototype.replace=function(C,z){z?this.data.set(C):this.data=C instanceof Uint8ClampedArray?new Uint8Array(C.buffer):C},Ha.prototype.clone=function(){return new Ha({width:this.width,height:this.height},new Uint8Array(this.data))},Ha.copy=function(C,z,J,ge,Pe){sp(C,z,J,ge,Pe,4)},Xr("AlphaImage",Tu),Xr("RGBAImage",Ha);var I2={paint:new xa({"heatmap-radius":new ni(Ve.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ni(Ve.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Sr(Ve.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Gl(Ve.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Sr(Ve.paint_heatmap["heatmap-opacity"])})};function Fg(C,z){for(var J=new Uint8Array(1024),ge={},Pe=0,je=0;Pe<256;Pe++,je+=4){ge[z]=Pe/255;var Ye=C.evaluate(ge);J[je+0]=Math.floor(255*Ye.r/Ye.a),J[je+1]=Math.floor(255*Ye.g/Ye.a),J[je+2]=Math.floor(255*Ye.b/Ye.a),J[je+3]=Math.floor(255*Ye.a)}return new Ha({width:256,height:1},J)}var Hr=function(C){function z(J){C.call(this,J,I2),this._updateColorRamp()}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(J){return new hd(J)},z.prototype._handleSpecialPaintPropertyUpdate=function(J){"heatmap-color"===J&&this._updateColorRamp()},z.prototype._updateColorRamp=function(){this.colorRamp=Fg(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},z.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},z.prototype.queryRadius=function(){return 0},z.prototype.queryIntersectsFeature=function(){return!1},z.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},z}(_a),L2={paint:new xa({"hillshade-illumination-direction":new Sr(Ve.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Sr(Ve.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Sr(Ve.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Sr(Ve.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Sr(Ve.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Sr(Ve.paint_hillshade["hillshade-accent-color"])})},O2=function(C){function z(J){C.call(this,J,L2)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},z}(_a),P1=Po([{name:"a_pos",components:2,type:"Int16"}],4).members,Ng=Em,P2=Em;function Em(C,z,J){J=J||2;var ge,Pe,je,Ye,at,mt,Ct,Lt=z&&z.length,Gt=Lt?z[0]*J:C.length,Jt=R1(C,0,Gt,J,!0),Yt=[];if(!Jt||Jt.next===Jt.prev)return Yt;if(Lt&&(Jt=function(vn,Bn,jn,Yn){var $n,ir,ur,yr=[];for($n=0,ir=Bn.length;$n<ir;$n++)(ur=R1(vn,Bn[$n]*Yn,$n<ir-1?Bn[$n+1]*Yn:vn.length,Yn,!1))===ur.next&&(ur.steiner=!0),yr.push(up(ur));for(yr.sort(F1),$n=0;$n<yr.length;$n++)Ic(yr[$n],jn),jn=Dc(jn,jn.next);return jn}(C,z,Jt,J)),C.length>80*J){ge=je=C[0],Pe=Ye=C[1];for(var mn=J;mn<Gt;mn+=J)(at=C[mn])<ge&&(ge=at),(mt=C[mn+1])<Pe&&(Pe=mt),at>je&&(je=at),mt>Ye&&(Ye=mt);Ct=0!==(Ct=Math.max(je-ge,Ye-Pe))?1/Ct:0}return lp(Jt,Yt,J,ge,Pe,Ct),Yt}function R1(C,z,J,ge,Pe){var je,Ye;if(Pe===Lm(C,z,J,ge)>0)for(je=z;je<J;je+=ge)Ye=Dm(je,C[je],C[je+1],Ye);else for(je=J-ge;je>=z;je-=ge)Ye=Dm(je,C[je],C[je+1],Ye);return Ye&&dp(Ye,Ye.next)&&(th(Ye),Ye=Ye.next),Ye}function Dc(C,z){if(!C)return C;z||(z=C);var J,ge=C;do{if(J=!1,ge.steiner||!dp(ge,ge.next)&&0!==Na(ge.prev,ge,ge.next))ge=ge.next;else{if(th(ge),(ge=z=ge.prev)===ge.next)break;J=!0}}while(J||ge!==z);return z}function lp(C,z,J,ge,Pe,je,Ye){if(C){!Ye&&je&&function(Lt,Gt,Jt,Yt){var mn=Lt;do{null===mn.z&&(mn.z=cp(mn.x,mn.y,Gt,Jt,Yt)),mn.prevZ=mn.prev,mn.nextZ=mn.next,mn=mn.next}while(mn!==Lt);mn.prevZ.nextZ=null,mn.prevZ=null,function(vn){var Bn,jn,Yn,$n,ir,ur,yr,Fr,Er=1;do{for(jn=vn,vn=null,ir=null,ur=0;jn;){for(ur++,Yn=jn,yr=0,Bn=0;Bn<Er&&(yr++,Yn=Yn.nextZ);Bn++);for(Fr=Er;yr>0||Fr>0&&Yn;)0!==yr&&(0===Fr||!Yn||jn.z<=Yn.z)?($n=jn,jn=jn.nextZ,yr--):($n=Yn,Yn=Yn.nextZ,Fr--),ir?ir.nextZ=$n:vn=$n,$n.prevZ=ir,ir=$n;jn=Yn}ir.nextZ=null,Er*=2}while(ur>1)}(mn)}(C,ge,Pe,je);for(var at,mt,Ct=C;C.prev!==C.next;)if(at=C.prev,mt=C.next,je?ps(C,ge,Pe,je):R2(C))z.push(at.i/J),z.push(C.i/J),z.push(mt.i/J),th(C),C=mt.next,Ct=mt.next;else if((C=mt)===Ct){Ye?1===Ye?lp(C=Cm(Dc(C),z,J),z,J,ge,Pe,je,2):2===Ye&&eh(C,z,J,ge,Pe,je):lp(Dc(C),z,J,ge,Pe,je,1);break}}}function R2(C){var z=C.prev,J=C,ge=C.next;if(Na(z,J,ge)>=0)return!1;for(var Pe=C.next.next;Pe!==C.prev;){if(tu(z.x,z.y,J.x,J.y,ge.x,ge.y,Pe.x,Pe.y)&&Na(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.next}return!0}function ps(C,z,J,ge){var Pe=C.prev,je=C,Ye=C.next;if(Na(Pe,je,Ye)>=0)return!1;for(var Ct=Pe.x>je.x?Pe.x>Ye.x?Pe.x:Ye.x:je.x>Ye.x?je.x:Ye.x,Lt=Pe.y>je.y?Pe.y>Ye.y?Pe.y:Ye.y:je.y>Ye.y?je.y:Ye.y,Gt=cp(Pe.x<je.x?Pe.x<Ye.x?Pe.x:Ye.x:je.x<Ye.x?je.x:Ye.x,Pe.y<je.y?Pe.y<Ye.y?Pe.y:Ye.y:je.y<Ye.y?je.y:Ye.y,z,J,ge),Jt=cp(Ct,Lt,z,J,ge),Yt=C.prevZ,mn=C.nextZ;Yt&&Yt.z>=Gt&&mn&&mn.z<=Jt;){if(Yt!==C.prev&&Yt!==C.next&&tu(Pe.x,Pe.y,je.x,je.y,Ye.x,Ye.y,Yt.x,Yt.y)&&Na(Yt.prev,Yt,Yt.next)>=0||(Yt=Yt.prevZ,mn!==C.prev&&mn!==C.next&&tu(Pe.x,Pe.y,je.x,je.y,Ye.x,Ye.y,mn.x,mn.y)&&Na(mn.prev,mn,mn.next)>=0))return!1;mn=mn.nextZ}for(;Yt&&Yt.z>=Gt;){if(Yt!==C.prev&&Yt!==C.next&&tu(Pe.x,Pe.y,je.x,je.y,Ye.x,Ye.y,Yt.x,Yt.y)&&Na(Yt.prev,Yt,Yt.next)>=0)return!1;Yt=Yt.prevZ}for(;mn&&mn.z<=Jt;){if(mn!==C.prev&&mn!==C.next&&tu(Pe.x,Pe.y,je.x,je.y,Ye.x,Ye.y,mn.x,mn.y)&&Na(mn.prev,mn,mn.next)>=0)return!1;mn=mn.nextZ}return!0}function Cm(C,z,J){var ge=C;do{var Pe=ge.prev,je=ge.next.next;!dp(Pe,je)&&z1(Pe,ge,ge.next,je)&&nu(Pe,je)&&nu(je,Pe)&&(z.push(Pe.i/J),z.push(ge.i/J),z.push(je.i/J),th(ge),th(ge.next),ge=C=je),ge=ge.next}while(ge!==C);return Dc(ge)}function eh(C,z,J,ge,Pe,je){var Ye=C;do{for(var at=Ye.next.next;at!==Ye.prev;){if(Ye.i!==at.i&&N1(Ye,at)){var mt=B1(Ye,at);return Ye=Dc(Ye,Ye.next),mt=Dc(mt,mt.next),lp(Ye,z,J,ge,Pe,je),void lp(mt,z,J,ge,Pe,je)}at=at.next}Ye=Ye.next}while(Ye!==C)}function F1(C,z){return C.x-z.x}function Ic(C,z){if(z=function(ge,Pe){var je,Ye=Pe,at=ge.x,mt=ge.y,Ct=-1/0;do{if(mt<=Ye.y&&mt>=Ye.next.y&&Ye.next.y!==Ye.y){var Lt=Ye.x+(mt-Ye.y)*(Ye.next.x-Ye.x)/(Ye.next.y-Ye.y);if(Lt<=at&&Lt>Ct){if(Ct=Lt,Lt===at){if(mt===Ye.y)return Ye;if(mt===Ye.next.y)return Ye.next}je=Ye.x<Ye.next.x?Ye:Ye.next}}Ye=Ye.next}while(Ye!==Pe);if(!je)return null;if(at===Ct)return je;var Gt,Jt=je,Yt=je.x,mn=je.y,vn=1/0;Ye=je;do{at>=Ye.x&&Ye.x>=Yt&&at!==Ye.x&&tu(mt<mn?at:Ct,mt,Yt,mn,mt<mn?Ct:at,mt,Ye.x,Ye.y)&&(Gt=Math.abs(mt-Ye.y)/(at-Ye.x),nu(Ye,ge)&&(Gt<vn||Gt===vn&&(Ye.x>je.x||Ye.x===je.x&&md(je,Ye)))&&(je=Ye,vn=Gt)),Ye=Ye.next}while(Ye!==Jt);return je}(C,z)){var J=B1(z,C);Dc(z,z.next),Dc(J,J.next)}}function md(C,z){return Na(C.prev,C,z.prev)<0&&Na(z.next,C,C.next)<0}function cp(C,z,J,ge,Pe){return(C=1431655765&((C=858993459&((C=252645135&((C=16711935&((C=32767*(C-J)*Pe)|C<<8))|C<<4))|C<<2))|C<<1))|(z=1431655765&((z=858993459&((z=252645135&((z=16711935&((z=32767*(z-ge)*Pe)|z<<8))|z<<4))|z<<2))|z<<1))<<1}function up(C){var z=C,J=C;do{(z.x<J.x||z.x===J.x&&z.y<J.y)&&(J=z),z=z.next}while(z!==C);return J}function tu(C,z,J,ge,Pe,je,Ye,at){return(Pe-Ye)*(z-at)-(C-Ye)*(je-at)>=0&&(C-Ye)*(ge-at)-(J-Ye)*(z-at)>=0&&(J-Ye)*(je-at)-(Pe-Ye)*(ge-at)>=0}function N1(C,z){return C.next.i!==z.i&&C.prev.i!==z.i&&!function(J,ge){var Pe=J;do{if(Pe.i!==J.i&&Pe.next.i!==J.i&&Pe.i!==ge.i&&Pe.next.i!==ge.i&&z1(Pe,Pe.next,J,ge))return!0;Pe=Pe.next}while(Pe!==J);return!1}(C,z)&&(nu(C,z)&&nu(z,C)&&function(J,ge){var Pe=J,je=!1,Ye=(J.x+ge.x)/2,at=(J.y+ge.y)/2;do{Pe.y>at!=Pe.next.y>at&&Pe.next.y!==Pe.y&&Ye<(Pe.next.x-Pe.x)*(at-Pe.y)/(Pe.next.y-Pe.y)+Pe.x&&(je=!je),Pe=Pe.next}while(Pe!==J);return je}(C,z)&&(Na(C.prev,C,z.prev)||Na(C,z.prev,z))||dp(C,z)&&Na(C.prev,C,C.next)>0&&Na(z.prev,z,z.next)>0)}function Na(C,z,J){return(z.y-C.y)*(J.x-z.x)-(z.x-C.x)*(J.y-z.y)}function dp(C,z){return C.x===z.x&&C.y===z.y}function z1(C,z,J,ge){var Pe=Qd(Na(C,z,J)),je=Qd(Na(C,z,ge)),Ye=Qd(Na(J,ge,C)),at=Qd(Na(J,ge,z));return Pe!==je&&Ye!==at||!(0!==Pe||!vl(C,J,z))||!(0!==je||!vl(C,ge,z))||!(0!==Ye||!vl(J,C,ge))||!(0!==at||!vl(J,z,ge))}function vl(C,z,J){return z.x<=Math.max(C.x,J.x)&&z.x>=Math.min(C.x,J.x)&&z.y<=Math.max(C.y,J.y)&&z.y>=Math.min(C.y,J.y)}function Qd(C){return C>0?1:C<0?-1:0}function nu(C,z){return Na(C.prev,C,C.next)<0?Na(C,z,C.next)>=0&&Na(C,C.prev,z)>=0:Na(C,z,C.prev)<0||Na(C,C.next,z)<0}function B1(C,z){var J=new Im(C.i,C.x,C.y),ge=new Im(z.i,z.x,z.y),Pe=C.next,je=z.prev;return C.next=z,z.prev=C,J.next=Pe,Pe.prev=J,ge.next=J,J.prev=ge,je.next=ge,ge.prev=je,ge}function Dm(C,z,J,ge){var Pe=new Im(C,z,J);return ge?(Pe.next=ge.next,Pe.prev=ge,ge.next.prev=Pe,ge.next=Pe):(Pe.prev=Pe,Pe.next=Pe),Pe}function th(C){C.next.prev=C.prev,C.prev.next=C.next,C.prevZ&&(C.prevZ.nextZ=C.nextZ),C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function Im(C,z,J){this.i=C,this.x=z,this.y=J,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lm(C,z,J,ge){for(var Pe=0,je=z,Ye=J-ge;je<J;je+=ge)Pe+=(C[Ye]-C[je])*(C[je+1]+C[Ye+1]),Ye=je;return Pe}function j1(C,z,J,ge,Pe){zg(C,z,J||0,ge||C.length-1,Pe||Om)}function zg(C,z,J,ge,Pe){for(;ge>J;){if(ge-J>600){var je=ge-J+1,Ye=z-J+1,at=Math.log(je),mt=.5*Math.exp(2*at/3),Ct=.5*Math.sqrt(at*mt*(je-mt)/je)*(Ye-je/2<0?-1:1);zg(C,z,Math.max(J,Math.floor(z-Ye*mt/je+Ct)),Math.min(ge,Math.floor(z+(je-Ye)*mt/je+Ct)),Pe)}var Lt=C[z],Gt=J,Jt=ge;for(nh(C,J,z),Pe(C[ge],Lt)>0&&nh(C,J,ge);Gt<Jt;){for(nh(C,Gt,Jt),Gt++,Jt--;Pe(C[Gt],Lt)<0;)Gt++;for(;Pe(C[Jt],Lt)>0;)Jt--}0===Pe(C[J],Lt)?nh(C,J,Jt):nh(C,++Jt,ge),Jt<=z&&(J=Jt+1),z<=Jt&&(ge=Jt-1)}}function nh(C,z,J){var ge=C[z];C[z]=C[J],C[J]=ge}function Om(C,z){return C<z?-1:C>z?1:0}function ef(C,z){var J=C.length;if(J<=1)return[C];for(var ge,Pe,je=[],Ye=0;Ye<J;Ye++){var at=L(C[Ye]);0!==at&&(C[Ye].area=Math.abs(at),void 0===Pe&&(Pe=at<0),Pe===at<0?(ge&&je.push(ge),ge=[C[Ye]]):ge.push(C[Ye]))}if(ge&&je.push(ge),z>1)for(var mt=0;mt<je.length;mt++)je[mt].length<=z||(j1(je[mt],z,1,je[mt].length-1,Pm),je[mt]=je[mt].slice(0,z));return je}function Pm(C,z){return z.area-C.area}function zc(C,z,J){for(var ge=J.patternDependencies,Pe=!1,je=0,Ye=z;je<Ye.length;je+=1){var at=Ye[je].paint.get(C+"-pattern");at.isConstant()||(Pe=!0);var mt=at.constantOr(null);mt&&(Pe=!0,ge[mt.to]=!0,ge[mt.from]=!0)}return Pe}function fp(C,z,J,ge,Pe){for(var je=Pe.patternDependencies,Ye=0,at=z;Ye<at.length;Ye+=1){var mt=at[Ye],Ct=mt.paint.get(C+"-pattern").value;if("constant"!==Ct.kind){var Lt=Ct.evaluate({zoom:ge-1},J,{},Pe.availableImages),Gt=Ct.evaluate({zoom:ge},J,{},Pe.availableImages),Jt=Ct.evaluate({zoom:ge+1},J,{},Pe.availableImages);Gt=Gt&&Gt.name?Gt.name:Gt,Jt=Jt&&Jt.name?Jt.name:Jt,je[Lt=Lt&&Lt.name?Lt.name:Lt]=!0,je[Gt]=!0,je[Jt]=!0,J.patterns[mt.id]={min:Lt,mid:Gt,max:Jt}}}return J}Em.deviation=function(C,z,J,ge){var Pe=z&&z.length,Ye=Math.abs(Lm(C,0,Pe?z[0]*J:C.length,J));if(Pe)for(var at=0,mt=z.length;at<mt;at++)Ye-=Math.abs(Lm(C,z[at]*J,at<mt-1?z[at+1]*J:C.length,J));var Gt=0;for(at=0;at<ge.length;at+=3){var Jt=ge[at]*J,Yt=ge[at+1]*J,mn=ge[at+2]*J;Gt+=Math.abs((C[Jt]-C[mn])*(C[Yt+1]-C[Jt+1])-(C[Jt]-C[Yt])*(C[mn+1]-C[Jt+1]))}return 0===Ye&&0===Gt?0:Math.abs((Gt-Ye)/Ye)},Em.flatten=function(C){for(var z=C[0][0].length,J={vertices:[],holes:[],dimensions:z},ge=0,Pe=0;Pe<C.length;Pe++){for(var je=0;je<C[Pe].length;je++)for(var Ye=0;Ye<z;Ye++)J.vertices.push(C[Pe][je][Ye]);Pe>0&&J.holes.push(ge+=C[Pe-1].length)}return J},Ng.default=P2;var Zs=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new uo,this.indexArray=new ie,this.indexArray2=new $e,this.programConfigurations=new Eo(P1,C.layers,C.zoom),this.segments=new Dn,this.segments2=new Dn,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};Zs.prototype.populate=function(C,z,J){this.hasPattern=zc("fill",this.layers,z);for(var ge=this.layers[0].layout.get("fill-sort-key"),Pe=[],je=0,Ye=C;je<Ye.length;je+=1){var at=Ye[je],mt=at.feature,Ct=at.id,Lt=at.index,Gt=at.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,Yt={type:mt.type,id:Ct,properties:mt.properties,geometry:Jt?qs(mt):[]};if(this.layers[0]._featureFilter.filter(new Wi(this.zoom),Yt,J)){Jt||(Yt.geometry=qs(mt));var mn=ge?ge.evaluate(Yt,{},J,z.availableImages):void 0;Pe.push({id:Ct,properties:mt.properties,type:mt.type,sourceLayerIndex:Gt,index:Lt,geometry:Yt.geometry,patterns:{},sortKey:mn})}}ge&&Pe.sort(function(Gr,Kr){return Gr.sortKey-Kr.sortKey});for(var Bn=0,jn=Pe;Bn<jn.length;Bn+=1){var Yn=jn[Bn],ir=Yn.geometry,ur=Yn.index,yr=Yn.sourceLayerIndex;if(this.hasPattern){var Fr=fp("fill",this.layers,Yn,this.zoom,z);this.patternFeatures.push(Fr)}else this.addFeature(Yn,ir,ur,J,{});z.featureIndex.insert(C[ur].feature,ir,ur,yr,this.index)}},Zs.prototype.update=function(C,z,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,J)},Zs.prototype.addFeatures=function(C,z,J){for(var ge=0,Pe=this.patternFeatures;ge<Pe.length;ge+=1){var je=Pe[ge];this.addFeature(je,je.geometry,je.index,z,J)}},Zs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Zs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Zs.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,P1),this.indexBuffer=C.createIndexBuffer(this.indexArray),this.indexBuffer2=C.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(C),this.uploaded=!0},Zs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Zs.prototype.addFeature=function(C,z,J,ge,Pe){for(var je=0,Ye=ef(z,500);je<Ye.length;je+=1){for(var at=Ye[je],mt=0,Ct=0,Lt=at;Ct<Lt.length;Ct+=1)mt+=Lt[Ct].length;for(var Gt=this.segments.prepareSegment(mt,this.layoutVertexArray,this.indexArray),Jt=Gt.vertexLength,Yt=[],mn=[],vn=0,Bn=at;vn<Bn.length;vn+=1){var jn=Bn[vn];if(0!==jn.length){jn!==at[0]&&mn.push(Yt.length/2);var Yn=this.segments2.prepareSegment(jn.length,this.layoutVertexArray,this.indexArray2),$n=Yn.vertexLength;this.layoutVertexArray.emplaceBack(jn[0].x,jn[0].y),this.indexArray2.emplaceBack($n+jn.length-1,$n),Yt.push(jn[0].x),Yt.push(jn[0].y);for(var ir=1;ir<jn.length;ir++)this.layoutVertexArray.emplaceBack(jn[ir].x,jn[ir].y),this.indexArray2.emplaceBack($n+ir-1,$n+ir),Yt.push(jn[ir].x),Yt.push(jn[ir].y);Yn.vertexLength+=jn.length,Yn.primitiveLength+=jn.length}}for(var ur=Ng(Yt,mn),yr=0;yr<ur.length;yr+=3)this.indexArray.emplaceBack(Jt+ur[yr],Jt+ur[yr+1],Jt+ur[yr+2]);Gt.vertexLength+=mt,Gt.primitiveLength+=ur.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,J,Pe,ge)},Xr("FillBucket",Zs,{omit:["layers","patternFeatures"]});var V1=new xa({"fill-sort-key":new ni(Ve.layout_fill["fill-sort-key"])}),Bg={paint:new xa({"fill-antialias":new Sr(Ve.paint_fill["fill-antialias"]),"fill-opacity":new ni(Ve.paint_fill["fill-opacity"]),"fill-color":new ni(Ve.paint_fill["fill-color"]),"fill-outline-color":new ni(Ve.paint_fill["fill-outline-color"]),"fill-translate":new Sr(Ve.paint_fill["fill-translate"]),"fill-translate-anchor":new Sr(Ve.paint_fill["fill-translate-anchor"]),"fill-pattern":new Nc(Ve.paint_fill["fill-pattern"])}),layout:V1},rh=function(C){function z(J){C.call(this,J,Bg)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.recalculate=function(J,ge){C.prototype.recalculate.call(this,J,ge);var Pe=this.paint._values["fill-outline-color"];"constant"===Pe.value.kind&&void 0===Pe.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},z.prototype.createBucket=function(J){return new Zs(J)},z.prototype.queryRadius=function(){return Qf(this.paint.get("fill-translate"))},z.prototype.queryIntersectsFeature=function(J,ge,Pe,je,Ye,at,mt){return tp(rp(J,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),at.angle,mt),je)},z.prototype.isTileClipped=function(){return!0},z}(_a),ih=Po([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Rm=tf;function tf(C,z,J,ge,Pe){this.properties={},this.extent=J,this.type=0,this._pbf=C,this._geometry=-1,this._keys=ge,this._values=Pe,C.readFields(U1,this,z)}function U1(C,z,J){1==C?z.id=J.readVarint():2==C?function(ge,Pe){for(var je=ge.readVarint()+ge.pos;ge.pos<je;){var Ye=Pe._keys[ge.readVarint()],at=Pe._values[ge.readVarint()];Pe.properties[Ye]=at}}(J,z):3==C?z.type=J.readVarint():4==C&&(z._geometry=J.pos)}function nf(C){for(var z,J,ge=0,Pe=0,je=C.length,Ye=je-1;Pe<je;Ye=Pe++)ge+=((J=C[Ye]).x-(z=C[Pe]).x)*(z.y+J.y);return ge}tf.types=["Unknown","Point","LineString","Polygon"],tf.prototype.loadGeometry=function(){var C=this._pbf;C.pos=this._geometry;for(var z,J=C.readVarint()+C.pos,ge=1,Pe=0,je=0,Ye=0,at=[];C.pos<J;){if(Pe<=0){var mt=C.readVarint();ge=7&mt,Pe=mt>>3}if(Pe--,1===ge||2===ge)je+=C.readSVarint(),Ye+=C.readSVarint(),1===ge&&(z&&at.push(z),z=[]),z.push(new i(je,Ye));else{if(7!==ge)throw new Error("unknown command "+ge);z&&z.push(z[0].clone())}}return z&&at.push(z),at},tf.prototype.bbox=function(){var C=this._pbf;C.pos=this._geometry;for(var z=C.readVarint()+C.pos,J=1,ge=0,Pe=0,je=0,Ye=1/0,at=-1/0,mt=1/0,Ct=-1/0;C.pos<z;){if(ge<=0){var Lt=C.readVarint();J=7&Lt,ge=Lt>>3}if(ge--,1===J||2===J)(Pe+=C.readSVarint())<Ye&&(Ye=Pe),Pe>at&&(at=Pe),(je+=C.readSVarint())<mt&&(mt=je),je>Ct&&(Ct=je);else if(7!==J)throw new Error("unknown command "+J)}return[Ye,mt,at,Ct]},tf.prototype.toGeoJSON=function(C,z,J){var ge,Pe,je=this.extent*Math.pow(2,J),Ye=this.extent*C,at=this.extent*z,mt=this.loadGeometry(),Ct=tf.types[this.type];function Lt(Yt){for(var mn=0;mn<Yt.length;mn++){var vn=Yt[mn];Yt[mn]=[360*(vn.x+Ye)/je-180,360/Math.PI*Math.atan(Math.exp((180-360*(vn.y+at)/je)*Math.PI/180))-90]}}switch(this.type){case 1:var Gt=[];for(ge=0;ge<mt.length;ge++)Gt[ge]=mt[ge][0];Lt(mt=Gt);break;case 2:for(ge=0;ge<mt.length;ge++)Lt(mt[ge]);break;case 3:for(mt=function(Yt){var mn=Yt.length;if(mn<=1)return[Yt];for(var vn,Bn,jn=[],Yn=0;Yn<mn;Yn++){var $n=nf(Yt[Yn]);0!==$n&&(void 0===Bn&&(Bn=$n<0),Bn===$n<0?(vn&&jn.push(vn),vn=[Yt[Yn]]):vn.push(Yt[Yn]))}return vn&&jn.push(vn),jn}(mt),ge=0;ge<mt.length;ge++)for(Pe=0;Pe<mt[ge].length;Pe++)Lt(mt[ge][Pe])}1===mt.length?mt=mt[0]:Ct="Multi"+Ct;var Jt={type:"Feature",geometry:{type:Ct,coordinates:mt},properties:this.properties};return"id"in this&&(Jt.id=this.id),Jt};var rf=jg;function jg(C,z){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=C,this._keys=[],this._values=[],this._features=[],C.readFields(F2,this,z),this.length=this._features.length}function F2(C,z,J){15===C?z.version=J.readVarint():1===C?z.name=J.readString():5===C?z.extent=J.readVarint():2===C?z._features.push(J.pos):3===C?z._keys.push(J.readString()):4===C&&z._values.push(function(ge){for(var Pe=null,je=ge.readVarint()+ge.pos;ge.pos<je;){var Ye=ge.readVarint()>>3;Pe=1===Ye?ge.readString():2===Ye?ge.readFloat():3===Ye?ge.readDouble():4===Ye?ge.readVarint64():5===Ye?ge.readVarint():6===Ye?ge.readSVarint():7===Ye?ge.readBoolean():null}return Pe}(J))}function Vg(C,z,J){if(3===C){var ge=new rf(J,J.readVarint()+J.pos);ge.length&&(z[ge.name]=ge)}}jg.prototype.feature=function(C){if(C<0||C>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[C];var z=this._pbf.readVarint()+this._pbf.pos;return new Rm(this._pbf,z,this.extent,this._keys,this._values)};var af={VectorTile:function(C,z){this.layers=C.readFields(Vg,{},z)},VectorTileFeature:Rm,VectorTileLayer:rf},N2=af.VectorTileFeature.types,Fm=Math.pow(2,13);function oh(C,z,J,ge,Pe,je,Ye,at){C.emplaceBack(z,J,2*Math.floor(ge*Fm)+Ye,Pe*Fm*2,je*Fm*2,Math.round(at))}var Bc=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.layoutVertexArray=new ml,this.indexArray=new ie,this.programConfigurations=new Eo(ih,C.layers,C.zoom),this.segments=new Dn,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};function hp(C,z){return C.x===z.x&&(C.x<0||C.x>Fi)||C.y===z.y&&(C.y<0||C.y>Fi)}Bc.prototype.populate=function(C,z,J){this.features=[],this.hasPattern=zc("fill-extrusion",this.layers,z);for(var ge=0,Pe=C;ge<Pe.length;ge+=1){var je=Pe[ge],Ye=je.feature,at=je.id,mt=je.index,Ct=je.sourceLayerIndex,Lt=this.layers[0]._featureFilter.needGeometry,Gt={type:Ye.type,id:at,properties:Ye.properties,geometry:Lt?qs(Ye):[]};if(this.layers[0]._featureFilter.filter(new Wi(this.zoom),Gt,J)){var Jt={id:at,sourceLayerIndex:Ct,index:mt,geometry:Lt?Gt.geometry:qs(Ye),properties:Ye.properties,type:Ye.type,patterns:{}};void 0!==Ye.id&&(Jt.id=Ye.id),this.hasPattern?this.features.push(fp("fill-extrusion",this.layers,Jt,this.zoom,z)):this.addFeature(Jt,Jt.geometry,mt,J,{}),z.featureIndex.insert(Ye,Jt.geometry,mt,Ct,this.index,!0)}}},Bc.prototype.addFeatures=function(C,z,J){for(var ge=0,Pe=this.features;ge<Pe.length;ge+=1){var je=Pe[ge];this.addFeature(je,je.geometry,je.index,z,J)}},Bc.prototype.update=function(C,z,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,J)},Bc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Bc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Bc.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,ih),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},Bc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Bc.prototype.addFeature=function(C,z,J,ge,Pe){for(var je=0,Ye=ef(z,500);je<Ye.length;je+=1){for(var at=Ye[je],mt=0,Ct=0,Lt=at;Ct<Lt.length;Ct+=1)mt+=Lt[Ct].length;for(var Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Jt=0,Yt=at;Jt<Yt.length;Jt+=1){var mn=Yt[Jt];if(0!==mn.length&&!((Ni=mn).every(function(bi){return bi.x<0})||Ni.every(function(bi){return bi.x>Fi})||Ni.every(function(bi){return bi.y<0})||Ni.every(function(bi){return bi.y>Fi})))for(var vn=0,Bn=0;Bn<mn.length;Bn++){var jn=mn[Bn];if(Bn>=1){var Yn=mn[Bn-1];if(!hp(jn,Yn)){Gt.vertexLength+4>Dn.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var $n=jn.sub(Yn)._perp()._unit(),ir=Yn.dist(jn);vn+ir>32768&&(vn=0),oh(this.layoutVertexArray,jn.x,jn.y,$n.x,$n.y,0,0,vn),oh(this.layoutVertexArray,jn.x,jn.y,$n.x,$n.y,0,1,vn),oh(this.layoutVertexArray,Yn.x,Yn.y,$n.x,$n.y,0,0,vn+=ir),oh(this.layoutVertexArray,Yn.x,Yn.y,$n.x,$n.y,0,1,vn);var ur=Gt.vertexLength;this.indexArray.emplaceBack(ur,ur+2,ur+1),this.indexArray.emplaceBack(ur+1,ur+2,ur+3),Gt.vertexLength+=4,Gt.primitiveLength+=2}}}}if(Gt.vertexLength+mt>Dn.MAX_VERTEX_ARRAY_LENGTH&&(Gt=this.segments.prepareSegment(mt,this.layoutVertexArray,this.indexArray)),"Polygon"===N2[C.type]){for(var yr=[],Fr=[],Er=Gt.vertexLength,Gr=0,Kr=at;Gr<Kr.length;Gr+=1){var yi=Kr[Gr];if(0!==yi.length){yi!==at[0]&&Fr.push(yr.length/2);for(var ei=0;ei<yi.length;ei++){var mi=yi[ei];oh(this.layoutVertexArray,mi.x,mi.y,0,0,1,1,0),yr.push(mi.x),yr.push(mi.y)}}}for(var ai=Ng(yr,Fr),Yr=0;Yr<ai.length;Yr+=3)this.indexArray.emplaceBack(Er+ai[Yr],Er+ai[Yr+2],Er+ai[Yr+1]);Gt.primitiveLength+=ai.length/3,Gt.vertexLength+=mt}}var Ni;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,J,Pe,ge)},Xr("FillExtrusionBucket",Bc,{omit:["layers","features"]});var Ug={paint:new xa({"fill-extrusion-opacity":new Sr(Ve["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ni(Ve["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Sr(Ve["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Sr(Ve["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Nc(Ve["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ni(Ve["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ni(Ve["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Sr(Ve["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},H1=function(C){function z(J){C.call(this,J,Ug)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.createBucket=function(J){return new Bc(J)},z.prototype.queryRadius=function(){return Qf(this.paint.get("fill-extrusion-translate"))},z.prototype.is3D=function(){return!0},z.prototype.queryIntersectsFeature=function(J,ge,Pe,je,Ye,at,mt,Ct){var Lt=rp(J,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),at.angle,mt),Gt=this.paint.get("fill-extrusion-height").evaluate(ge,Pe),Jt=this.paint.get("fill-extrusion-base").evaluate(ge,Pe),Yt=function(vn,Bn,jn,Yn){for(var $n=[],ir=0,ur=vn;ir<ur.length;ir+=1){var yr=ur[ir],Fr=[yr.x,yr.y,0,1];Kd(Fr,Fr,Bn),$n.push(new i(Fr[0]/Fr[3],Fr[1]/Fr[3]))}return $n}(Lt,Ct),mn=function(vn,Bn,jn,Yn){for(var $n=[],ir=[],ur=Yn[8]*Bn,yr=Yn[9]*Bn,Fr=Yn[10]*Bn,Er=Yn[11]*Bn,Gr=Yn[8]*jn,Kr=Yn[9]*jn,yi=Yn[10]*jn,ei=Yn[11]*jn,mi=0,ai=vn;mi<ai.length;mi+=1){for(var Yr=[],Ni=[],bi=0,vo=ai[mi];bi<vo.length;bi+=1){var pi=vo[bi],ho=pi.x,wo=pi.y,Yi=Yn[0]*ho+Yn[4]*wo+Yn[12],Lo=Yn[1]*ho+Yn[5]*wo+Yn[13],To=Yn[2]*ho+Yn[6]*wo+Yn[14],Ia=Yn[3]*ho+Yn[7]*wo+Yn[15],Yo=To+Fr,Ba=Ia+Er,Ta=Yi+Gr,ns=Lo+Kr,Xs=To+yi,rs=Ia+ei,Ma=new i((Yi+ur)/Ba,(Lo+yr)/Ba);Ma.z=Yo/Ba,Yr.push(Ma);var is=new i(Ta/rs,ns/rs);is.z=Xs/rs,Ni.push(is)}$n.push(Yr),ir.push(Ni)}return[$n,ir]}(je,Jt,Gt,Ct);return function(vn,Bn,jn){var Yn=1/0;tp(jn,Bn)&&(Yn=G1(jn,Bn[0]));for(var $n=0;$n<Bn.length;$n++)for(var ir=Bn[$n],ur=vn[$n],yr=0;yr<ir.length-1;yr++){var Fr=ir[yr],Kr=[Fr,ir[yr+1],ur[yr+1],ur[yr],Fr];Ws(jn,Kr)&&(Yn=Math.min(Yn,G1(jn,Kr)))}return Yn!==1/0&&Yn}(mn[0],mn[1],Yt)},z}(_a);function sf(C,z){return C.x*z.x+C.y*z.y}function G1(C,z){if(1===C.length){for(var J,ge=0,Pe=z[ge++];!J||Pe.equals(J);)if(!(J=z[ge++]))return 1/0;for(;ge<z.length;ge++){var je=z[ge],Ye=C[0],at=J.sub(Pe),mt=je.sub(Pe),Ct=Ye.sub(Pe),Lt=sf(at,at),Gt=sf(at,mt),Jt=sf(mt,mt),Yt=sf(Ct,at),mn=sf(Ct,mt),vn=Lt*Jt-Gt*Gt,Bn=(Jt*Yt-Gt*mn)/vn,jn=(Lt*mn-Gt*Yt)/vn,$n=Pe.z*(1-Bn-jn)+J.z*Bn+je.z*jn;if(isFinite($n))return $n}return 1/0}for(var ir=1/0,ur=0,yr=z;ur<yr.length;ur+=1)ir=Math.min(ir,yr[ur].z);return ir}var Nm=Po([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,z2=af.VectorTileFeature.types,q1=Math.cos(Math.PI/180*37.5),Hg=Math.pow(2,14)/.5,ks=function(C){this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(z){return z.id}),this.index=C.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Fa,this.indexArray=new ie,this.programConfigurations=new Eo(Nm,C.layers,C.zoom),this.segments=new Dn,this.stateDependentLayerIds=this.layers.filter(function(z){return z.isStateDependent()}).map(function(z){return z.id})};ks.prototype.populate=function(C,z,J){this.hasPattern=zc("line",this.layers,z);for(var ge=this.layers[0].layout.get("line-sort-key"),Pe=[],je=0,Ye=C;je<Ye.length;je+=1){var at=Ye[je],mt=at.feature,Ct=at.id,Lt=at.index,Gt=at.sourceLayerIndex,Jt=this.layers[0]._featureFilter.needGeometry,Yt={type:mt.type,id:Ct,properties:mt.properties,geometry:Jt?qs(mt):[]};if(this.layers[0]._featureFilter.filter(new Wi(this.zoom),Yt,J)){Jt||(Yt.geometry=qs(mt));var mn=ge?ge.evaluate(Yt,{},J):void 0;Pe.push({id:Ct,properties:mt.properties,type:mt.type,sourceLayerIndex:Gt,index:Lt,geometry:Yt.geometry,patterns:{},sortKey:mn})}}ge&&Pe.sort(function(Gr,Kr){return Gr.sortKey-Kr.sortKey});for(var Bn=0,jn=Pe;Bn<jn.length;Bn+=1){var Yn=jn[Bn],ir=Yn.geometry,ur=Yn.index,yr=Yn.sourceLayerIndex;if(this.hasPattern){var Fr=fp("line",this.layers,Yn,this.zoom,z);this.patternFeatures.push(Fr)}else this.addFeature(Yn,ir,ur,J,{});z.featureIndex.insert(C[ur].feature,ir,ur,yr,this.index)}},ks.prototype.update=function(C,z,J){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(C,z,this.stateDependentLayers,J)},ks.prototype.addFeatures=function(C,z,J){for(var ge=0,Pe=this.patternFeatures;ge<Pe.length;ge+=1){var je=Pe[ge];this.addFeature(je,je.geometry,je.index,z,J)}},ks.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ks.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ks.prototype.upload=function(C){this.uploaded||(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,Nm),this.indexBuffer=C.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(C),this.uploaded=!0},ks.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ks.prototype.addFeature=function(C,z,J,ge,Pe){for(var je=this.layers[0].layout,Ye=je.get("line-join").evaluate(C,{}),at=je.get("line-cap"),mt=je.get("line-miter-limit"),Ct=je.get("line-round-limit"),Lt=0,Gt=z;Lt<Gt.length;Lt+=1)this.addLine(Gt[Lt],C,Ye,at,mt,Ct);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,C,J,Pe,ge)},ks.prototype.addLine=function(C,z,J,ge,Pe,je){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,z.properties&&z.properties.hasOwnProperty("mapbox_clip_start")&&z.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+z.properties.mapbox_clip_start,this.clipEnd=+z.properties.mapbox_clip_end;for(var Ye=0;Ye<C.length-1;Ye++)this.totalDistance+=C[Ye].dist(C[Ye+1]);this.updateScaledDistance()}for(var at="Polygon"===z2[z.type],mt=C.length;mt>=2&&C[mt-1].equals(C[mt-2]);)mt--;for(var Ct=0;Ct<mt-1&&C[Ct].equals(C[Ct+1]);)Ct++;if(!(mt<(at?3:2))){"bevel"===J&&(Pe=1.05);var Lt,Gt=this.overscaling<=16?15*Fi/(512*this.overscaling):0,Jt=this.segments.prepareSegment(10*mt,this.layoutVertexArray,this.indexArray),Yt=void 0,mn=void 0,vn=void 0,Bn=void 0;this.e1=this.e2=-1,at&&(Bn=C[Ct].sub(Lt=C[mt-2])._unit()._perp());for(var jn=Ct;jn<mt;jn++)if(!(mn=jn===mt-1?at?C[Ct+1]:void 0:C[jn+1])||!C[jn].equals(mn)){Bn&&(vn=Bn),Lt&&(Yt=Lt),Lt=C[jn],Bn=mn?mn.sub(Lt)._unit()._perp():vn;var Yn=(vn=vn||Bn).add(Bn);0===Yn.x&&0===Yn.y||Yn._unit();var $n=vn.x*Bn.x+vn.y*Bn.y,ir=Yn.x*Bn.x+Yn.y*Bn.y,ur=0!==ir?1/ir:1/0,yr=2*Math.sqrt(2-2*ir),Fr=ir<q1&&Yt&&mn,Er=vn.x*Bn.y-vn.y*Bn.x>0;if(Fr&&jn>Ct){var Gr=Lt.dist(Yt);if(Gr>2*Gt){var Kr=Lt.sub(Lt.sub(Yt)._mult(Gt/Gr)._round());this.updateDistance(Yt,Kr),this.addCurrentVertex(Kr,vn,0,0,Jt),Yt=Kr}}var yi=Yt&&mn,ei=yi?J:at?"butt":ge;if(yi&&"round"===ei&&(ur<je?ei="miter":ur<=2&&(ei="fakeround")),"miter"===ei&&ur>Pe&&(ei="bevel"),"bevel"===ei&&(ur>2&&(ei="flipbevel"),ur<Pe&&(ei="miter")),Yt&&this.updateDistance(Yt,Lt),"miter"===ei)Yn._mult(ur),this.addCurrentVertex(Lt,Yn,0,0,Jt);else if("flipbevel"===ei){if(ur>100)Yn=Bn.mult(-1);else{var mi=ur*vn.add(Bn).mag()/vn.sub(Bn).mag();Yn._perp()._mult(mi*(Er?-1:1))}this.addCurrentVertex(Lt,Yn,0,0,Jt),this.addCurrentVertex(Lt,Yn.mult(-1),0,0,Jt)}else if("bevel"===ei||"fakeround"===ei){var ai=-Math.sqrt(ur*ur-1),Yr=Er?ai:0,Ni=Er?0:ai;if(Yt&&this.addCurrentVertex(Lt,vn,Yr,Ni,Jt),"fakeround"===ei)for(var bi=Math.round(180*yr/Math.PI/20),vo=1;vo<bi;vo++){var pi=vo/bi;if(.5!==pi){var ho=pi-.5;pi+=pi*ho*(pi-1)*((1.0904+$n*($n*(3.55645-1.43519*$n)-3.2452))*ho*ho+(.848013+$n*(.215638*$n-1.06021)))}var wo=Bn.sub(vn)._mult(pi)._add(vn)._unit()._mult(Er?-1:1);this.addHalfVertex(Lt,wo.x,wo.y,!1,Er,0,Jt)}mn&&this.addCurrentVertex(Lt,Bn,-Yr,-Ni,Jt)}else if("butt"===ei)this.addCurrentVertex(Lt,Yn,0,0,Jt);else if("square"===ei){var Yi=Yt?1:-1;this.addCurrentVertex(Lt,Yn,Yi,Yi,Jt)}else"round"===ei&&(Yt&&(this.addCurrentVertex(Lt,vn,0,0,Jt),this.addCurrentVertex(Lt,vn,1,1,Jt,!0)),mn&&(this.addCurrentVertex(Lt,Bn,-1,-1,Jt,!0),this.addCurrentVertex(Lt,Bn,0,0,Jt)));if(Fr&&jn<mt-1){var Lo=Lt.dist(mn);if(Lo>2*Gt){var To=Lt.add(mn.sub(Lt)._mult(Gt/Lo)._round());this.updateDistance(Lt,To),this.addCurrentVertex(To,Bn,0,0,Jt),Lt=To}}}}},ks.prototype.addCurrentVertex=function(C,z,J,ge,Pe,je){void 0===je&&(je=!1);var mt=z.y*ge-z.x,Ct=-z.y-z.x*ge;this.addHalfVertex(C,z.x+z.y*J,z.y-z.x*J,je,!1,J,Pe),this.addHalfVertex(C,mt,Ct,je,!0,-ge,Pe),this.distance>Hg/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(C,z,J,ge,Pe,je))},ks.prototype.addHalfVertex=function(C,z,J,ge,Pe,je,Ye){var Ct=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((C.x<<1)+(ge?1:0),(C.y<<1)+(Pe?1:0),Math.round(63*z)+128,Math.round(63*J)+128,1+(0===je?0:je<0?-1:1)|(63&Ct)<<2,Ct>>6);var Lt=Ye.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Lt),Ye.primitiveLength++),Pe?this.e2=Lt:this.e1=Lt},ks.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Hg-1):this.distance},ks.prototype.updateDistance=function(C,z){this.distance+=C.dist(z),this.updateScaledDistance()},Xr("LineBucket",ks,{omit:["layers","patternFeatures"]});var B2=new xa({"line-cap":new Sr(Ve.layout_line["line-cap"]),"line-join":new ni(Ve.layout_line["line-join"]),"line-miter-limit":new Sr(Ve.layout_line["line-miter-limit"]),"line-round-limit":new Sr(Ve.layout_line["line-round-limit"]),"line-sort-key":new ni(Ve.layout_line["line-sort-key"])}),W1={paint:new xa({"line-opacity":new ni(Ve.paint_line["line-opacity"]),"line-color":new ni(Ve.paint_line["line-color"]),"line-translate":new Sr(Ve.paint_line["line-translate"]),"line-translate-anchor":new Sr(Ve.paint_line["line-translate-anchor"]),"line-width":new ni(Ve.paint_line["line-width"]),"line-gap-width":new ni(Ve.paint_line["line-gap-width"]),"line-offset":new ni(Ve.paint_line["line-offset"]),"line-blur":new ni(Ve.paint_line["line-blur"]),"line-dasharray":new Ra(Ve.paint_line["line-dasharray"]),"line-pattern":new Nc(Ve.paint_line["line-pattern"]),"line-gradient":new Gl(Ve.paint_line["line-gradient"])}),layout:B2},zm=function(C){function z(){C.apply(this,arguments)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.possiblyEvaluate=function(J,ge){return ge=new Wi(Math.floor(ge.zoom),{now:ge.now,fadeDuration:ge.fadeDuration,zoomHistory:ge.zoomHistory,transition:ge.transition}),C.prototype.possiblyEvaluate.call(this,J,ge)},z.prototype.evaluate=function(J,ge,Pe,je){return ge=f({},ge,{zoom:Math.floor(ge.zoom)}),C.prototype.evaluate.call(this,J,ge,Pe,je)},z}(ni),Z1=new zm(W1.paint.properties["line-width"].specification);Z1.useIntegerZoom=!0;var j2=function(C){function z(J){C.call(this,J,W1)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype._handleSpecialPaintPropertyUpdate=function(J){"line-gradient"===J&&this._updateGradient()},z.prototype._updateGradient=function(){this.gradient=Fg(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},z.prototype.recalculate=function(J,ge){C.prototype.recalculate.call(this,J,ge),this.paint._values["line-floorwidth"]=Z1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,J)},z.prototype.createBucket=function(J){return new ks(J)},z.prototype.queryRadius=function(J){var ge=J,Pe=Y1($d("line-width",this,ge),$d("line-gap-width",this,ge)),je=$d("line-offset",this,ge);return Pe/2+Math.abs(je)+Qf(this.paint.get("line-translate"))},z.prototype.queryIntersectsFeature=function(J,ge,Pe,je,Ye,at,mt){var Ct=rp(J,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),at.angle,mt),Lt=mt/2*Y1(this.paint.get("line-width").evaluate(ge,Pe),this.paint.get("line-gap-width").evaluate(ge,Pe)),Gt=this.paint.get("line-offset").evaluate(ge,Pe);return Gt&&(je=function(Jt,Yt){for(var mn=[],vn=new i(0,0),Bn=0;Bn<Jt.length;Bn++){for(var jn=Jt[Bn],Yn=[],$n=0;$n<jn.length;$n++){var ur=jn[$n],yr=jn[$n+1],Fr=0===$n?vn:ur.sub(jn[$n-1])._unit()._perp(),Er=$n===jn.length-1?vn:yr.sub(ur)._unit()._perp(),Gr=Fr._add(Er)._unit();Gr._mult(1/(Gr.x*Er.x+Gr.y*Er.y)),Yn.push(Gr._mult(Yt)._add(ur))}mn.push(Yn)}return mn}(je,Gt*mt)),function(Jt,Yt,mn){for(var vn=0;vn<Yt.length;vn++){var Bn=Yt[vn];if(Jt.length>=3)for(var jn=0;jn<Bn.length;jn++)if(wu(Jt,Bn[jn]))return!0;if(Zd(Jt,Bn,mn))return!0}return!1}(Ct,je,Lt)},z.prototype.isTileClipped=function(){return!0},z}(_a);function Y1(C,z){return z>0?z+2*C:C}var Gg=Po([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),V2=Po([{name:"a_projected_pos",components:3,type:"Float32"}],4),$1=(Po([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Po([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Bm=(Po([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Po([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),jm=Po([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qg(C,z,J){return C.sections.forEach(function(ge){var Pe,Ye,at;ge.text=(Pe=ge.text,Ye=J,"uppercase"===(at=z.layout.get("text-transform").evaluate(Ye,{}))?Pe=Pe.toLocaleUpperCase():"lowercase"===at&&(Pe=Pe.toLocaleLowerCase()),No.applyArabicShaping&&(Pe=No.applyArabicShaping(Pe)),Pe)}),C}Po([{name:"triangle",components:3,type:"Uint16"}]),Po([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Po([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Po([{type:"Float32",name:"offsetX"}]),Po([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var lf={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ga=24,Il=function(C,z,J,ge,Pe){var je,Ye,at=8*Pe-ge-1,mt=(1<<at)-1,Ct=mt>>1,Lt=-7,Gt=J?Pe-1:0,Jt=J?-1:1,Yt=C[z+Gt];for(Gt+=Jt,je=Yt&(1<<-Lt)-1,Yt>>=-Lt,Lt+=at;Lt>0;je=256*je+C[z+Gt],Gt+=Jt,Lt-=8);for(Ye=je&(1<<-Lt)-1,je>>=-Lt,Lt+=ge;Lt>0;Ye=256*Ye+C[z+Gt],Gt+=Jt,Lt-=8);if(0===je)je=1-Ct;else{if(je===mt)return Ye?NaN:1/0*(Yt?-1:1);Ye+=Math.pow(2,ge),je-=Ct}return(Yt?-1:1)*Ye*Math.pow(2,je-ge)},Wg=function(C,z,J,ge,Pe,je){var Ye,at,mt,Ct=8*je-Pe-1,Lt=(1<<Ct)-1,Gt=Lt>>1,Jt=23===Pe?Math.pow(2,-24)-Math.pow(2,-77):0,Yt=ge?0:je-1,mn=ge?1:-1,vn=z<0||0===z&&1/z<0?1:0;for(z=Math.abs(z),isNaN(z)||z===1/0?(at=isNaN(z)?1:0,Ye=Lt):(Ye=Math.floor(Math.log(z)/Math.LN2),z*(mt=Math.pow(2,-Ye))<1&&(Ye--,mt*=2),(z+=Ye+Gt>=1?Jt/mt:Jt*Math.pow(2,1-Gt))*mt>=2&&(Ye++,mt/=2),Ye+Gt>=Lt?(at=0,Ye=Lt):Ye+Gt>=1?(at=(z*mt-1)*Math.pow(2,Pe),Ye+=Gt):(at=z*Math.pow(2,Gt-1)*Math.pow(2,Pe),Ye=0));Pe>=8;C[J+Yt]=255&at,Yt+=mn,at/=256,Pe-=8);for(Ye=Ye<<Pe|at,Ct+=Pe;Ct>0;C[J+Yt]=255&Ye,Yt+=mn,Ye/=256,Ct-=8);C[J+Yt-mn]|=128*vn},pp=Io;function Io(C){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(C)?C:new Uint8Array(C||0),this.pos=0,this.type=0,this.length=this.buf.length}Io.Varint=0,Io.Fixed64=1,Io.Bytes=2,Io.Fixed32=5;var mp=4294967296,gp=1/mp,Zg=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Mu(C){return C.type===Io.Bytes?C.readVarint()+C.pos:C.pos+1}function Vm(C,z,J){var ge=z<=16383?1:z<=2097151?2:z<=268435455?3:Math.floor(Math.log(z)/(7*Math.LN2));J.realloc(ge);for(var Pe=J.pos-1;Pe>=C;Pe--)J.buf[Pe+ge]=J.buf[Pe]}function X1(C,z){for(var J=0;J<C.length;J++)z.writeVarint(C[J])}function K1(C,z){for(var J=0;J<C.length;J++)z.writeSVarint(C[J])}function Yl(C,z){for(var J=0;J<C.length;J++)z.writeFloat(C[J])}function Um(C,z){for(var J=0;J<C.length;J++)z.writeDouble(C[J])}function Yg(C,z){for(var J=0;J<C.length;J++)z.writeBoolean(C[J])}function Hm(C,z){for(var J=0;J<C.length;J++)z.writeFixed32(C[J])}function yl(C,z){for(var J=0;J<C.length;J++)z.writeSFixed32(C[J])}function ah(C,z){for(var J=0;J<C.length;J++)z.writeFixed64(C[J])}function $g(C,z){for(var J=0;J<C.length;J++)z.writeSFixed64(C[J])}function sh(C,z){return(C[z]|C[z+1]<<8|C[z+2]<<16)+16777216*C[z+3]}function uf(C,z,J){C[J]=z,C[J+1]=z>>>8,C[J+2]=z>>>16,C[J+3]=z>>>24}function Gm(C,z){return(C[z]|C[z+1]<<8|C[z+2]<<16)+(C[z+3]<<24)}Io.prototype={destroy:function(){this.buf=null},readFields:function(C,z,J){for(J=J||this.length;this.pos<J;){var ge=this.readVarint(),Pe=ge>>3,je=this.pos;this.type=7&ge,C(Pe,z,this),this.pos===je&&this.skip(ge)}return z},readMessage:function(C,z){return this.readFields(C,z,this.readVarint()+this.pos)},readFixed32:function(){var C=sh(this.buf,this.pos);return this.pos+=4,C},readSFixed32:function(){var C=Gm(this.buf,this.pos);return this.pos+=4,C},readFixed64:function(){var C=sh(this.buf,this.pos)+sh(this.buf,this.pos+4)*mp;return this.pos+=8,C},readSFixed64:function(){var C=sh(this.buf,this.pos)+Gm(this.buf,this.pos+4)*mp;return this.pos+=8,C},readFloat:function(){var C=Il(this.buf,this.pos,!0,23,4);return this.pos+=4,C},readDouble:function(){var C=Il(this.buf,this.pos,!0,52,8);return this.pos+=8,C},readVarint:function(C){var z,J,ge=this.buf;return z=127&(J=ge[this.pos++]),J<128?z:(z|=(127&(J=ge[this.pos++]))<<7,J<128?z:(z|=(127&(J=ge[this.pos++]))<<14,J<128?z:(z|=(127&(J=ge[this.pos++]))<<21,J<128?z:function(Pe,je,Ye){var at,mt,Ct=Ye.buf;if(at=(112&(mt=Ct[Ye.pos++]))>>4,mt<128||(at|=(127&(mt=Ct[Ye.pos++]))<<3,mt<128)||(at|=(127&(mt=Ct[Ye.pos++]))<<10,mt<128)||(at|=(127&(mt=Ct[Ye.pos++]))<<17,mt<128)||(at|=(127&(mt=Ct[Ye.pos++]))<<24,mt<128)||(at|=(1&(mt=Ct[Ye.pos++]))<<31,mt<128))return function cf(C,z,J){return J?4294967296*z+(C>>>0):4294967296*(z>>>0)+(C>>>0)}(Pe,at,je);throw new Error("Expected varint not more than 10 bytes")}(z|=(15&(J=ge[this.pos]))<<28,C,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var C=this.readVarint();return C%2==1?(C+1)/-2:C/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var C=this.readVarint()+this.pos,z=this.pos;return this.pos=C,C-z>=12&&Zg?Zg.decode(this.buf.subarray(z,C)):function(J,ge,Pe){for(var je="",Ye=ge;Ye<Pe;){var at,mt,Ct,Lt=J[Ye],Gt=null,Jt=Lt>239?4:Lt>223?3:Lt>191?2:1;if(Ye+Jt>Pe)break;1===Jt?Lt<128&&(Gt=Lt):2===Jt?128==(192&(at=J[Ye+1]))&&(Gt=(31&Lt)<<6|63&at)<=127&&(Gt=null):3===Jt?(mt=J[Ye+2],128==(192&(at=J[Ye+1]))&&128==(192&mt)&&((Gt=(15&Lt)<<12|(63&at)<<6|63&mt)<=2047||Gt>=55296&&Gt<=57343)&&(Gt=null)):4===Jt&&(mt=J[Ye+2],Ct=J[Ye+3],128==(192&(at=J[Ye+1]))&&128==(192&mt)&&128==(192&Ct)&&((Gt=(15&Lt)<<18|(63&at)<<12|(63&mt)<<6|63&Ct)<=65535||Gt>=1114112)&&(Gt=null)),null===Gt?(Gt=65533,Jt=1):Gt>65535&&(Gt-=65536,je+=String.fromCharCode(Gt>>>10&1023|55296),Gt=56320|1023&Gt),je+=String.fromCharCode(Gt),Ye+=Jt}return je}(this.buf,z,C)},readBytes:function(){var C=this.readVarint()+this.pos,z=this.buf.subarray(this.pos,C);return this.pos=C,z},readPackedVarint:function(C,z){if(this.type!==Io.Bytes)return C.push(this.readVarint(z));var J=Mu(this);for(C=C||[];this.pos<J;)C.push(this.readVarint(z));return C},readPackedSVarint:function(C){if(this.type!==Io.Bytes)return C.push(this.readSVarint());var z=Mu(this);for(C=C||[];this.pos<z;)C.push(this.readSVarint());return C},readPackedBoolean:function(C){if(this.type!==Io.Bytes)return C.push(this.readBoolean());var z=Mu(this);for(C=C||[];this.pos<z;)C.push(this.readBoolean());return C},readPackedFloat:function(C){if(this.type!==Io.Bytes)return C.push(this.readFloat());var z=Mu(this);for(C=C||[];this.pos<z;)C.push(this.readFloat());return C},readPackedDouble:function(C){if(this.type!==Io.Bytes)return C.push(this.readDouble());var z=Mu(this);for(C=C||[];this.pos<z;)C.push(this.readDouble());return C},readPackedFixed32:function(C){if(this.type!==Io.Bytes)return C.push(this.readFixed32());var z=Mu(this);for(C=C||[];this.pos<z;)C.push(this.readFixed32());return C},readPackedSFixed32:function(C){if(this.type!==Io.Bytes)return C.push(this.readSFixed32());var z=Mu(this);for(C=C||[];this.pos<z;)C.push(this.readSFixed32());return C},readPackedFixed64:function(C){if(this.type!==Io.Bytes)return C.push(this.readFixed64());var z=Mu(this);for(C=C||[];this.pos<z;)C.push(this.readFixed64());return C},readPackedSFixed64:function(C){if(this.type!==Io.Bytes)return C.push(this.readSFixed64());var z=Mu(this);for(C=C||[];this.pos<z;)C.push(this.readSFixed64());return C},skip:function(C){var z=7&C;if(z===Io.Varint)for(;this.buf[this.pos++]>127;);else if(z===Io.Bytes)this.pos=this.readVarint()+this.pos;else if(z===Io.Fixed32)this.pos+=4;else{if(z!==Io.Fixed64)throw new Error("Unimplemented type: "+z);this.pos+=8}},writeTag:function(C,z){this.writeVarint(C<<3|z)},realloc:function(C){for(var z=this.length||16;z<this.pos+C;)z*=2;if(z!==this.length){var J=new Uint8Array(z);J.set(this.buf),this.buf=J,this.length=z}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(C){this.realloc(4),uf(this.buf,C,this.pos),this.pos+=4},writeSFixed32:function(C){this.realloc(4),uf(this.buf,C,this.pos),this.pos+=4},writeFixed64:function(C){this.realloc(8),uf(this.buf,-1&C,this.pos),uf(this.buf,Math.floor(C*gp),this.pos+4),this.pos+=8},writeSFixed64:function(C){this.realloc(8),uf(this.buf,-1&C,this.pos),uf(this.buf,Math.floor(C*gp),this.pos+4),this.pos+=8},writeVarint:function(C){(C=+C||0)>268435455||C<0?function(z,J){var ge,Pe,je,at;if(z>=0?(ge=z%4294967296|0,Pe=z/4294967296|0):(Pe=~(-z/4294967296),4294967295^(ge=~(-z%4294967296))?ge=ge+1|0:(ge=0,Pe=Pe+1|0)),z>=0x10000000000000000||z<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");J.realloc(10),je=ge,(at=J).buf[at.pos++]=127&je|128,je>>>=7,at.buf[at.pos++]=127&je|128,je>>>=7,at.buf[at.pos++]=127&je|128,je>>>=7,at.buf[at.pos++]=127&je|128,at.buf[at.pos]=127&(je>>>=7),function(je,Ye){var at=(7&je)<<4;Ye.buf[Ye.pos++]|=at|((je>>>=3)?128:0),je&&(Ye.buf[Ye.pos++]=127&je|((je>>>=7)?128:0),je&&(Ye.buf[Ye.pos++]=127&je|((je>>>=7)?128:0),je&&(Ye.buf[Ye.pos++]=127&je|((je>>>=7)?128:0),je&&(Ye.buf[Ye.pos++]=127&je|((je>>>=7)?128:0),je&&(Ye.buf[Ye.pos++]=127&je)))))}(Pe,J)}(C,this):(this.realloc(4),this.buf[this.pos++]=127&C|(C>127?128:0),C<=127||(this.buf[this.pos++]=127&(C>>>=7)|(C>127?128:0),C<=127||(this.buf[this.pos++]=127&(C>>>=7)|(C>127?128:0),C<=127||(this.buf[this.pos++]=C>>>7&127))))},writeSVarint:function(C){this.writeVarint(C<0?2*-C-1:2*C)},writeBoolean:function(C){this.writeVarint(Boolean(C))},writeString:function(C){C=String(C),this.realloc(4*C.length),this.pos++;var z=this.pos;this.pos=function(ge,Pe,je){for(var Ye,at,mt=0;mt<Pe.length;mt++){if((Ye=Pe.charCodeAt(mt))>55295&&Ye<57344){if(!at){Ye>56319||mt+1===Pe.length?(ge[je++]=239,ge[je++]=191,ge[je++]=189):at=Ye;continue}if(Ye<56320){ge[je++]=239,ge[je++]=191,ge[je++]=189,at=Ye;continue}Ye=at-55296<<10|Ye-56320|65536,at=null}else at&&(ge[je++]=239,ge[je++]=191,ge[je++]=189,at=null);Ye<128?ge[je++]=Ye:(Ye<2048?ge[je++]=Ye>>6|192:(Ye<65536?ge[je++]=Ye>>12|224:(ge[je++]=Ye>>18|240,ge[je++]=Ye>>12&63|128),ge[je++]=Ye>>6&63|128),ge[je++]=63&Ye|128)}return je}(this.buf,C,this.pos);var J=this.pos-z;J>=128&&Vm(z,J,this),this.pos=z-1,this.writeVarint(J),this.pos+=J},writeFloat:function(C){this.realloc(4),Wg(this.buf,C,this.pos,!0,23,4),this.pos+=4},writeDouble:function(C){this.realloc(8),Wg(this.buf,C,this.pos,!0,52,8),this.pos+=8},writeBytes:function(C){var z=C.length;this.writeVarint(z),this.realloc(z);for(var J=0;J<z;J++)this.buf[this.pos++]=C[J]},writeRawMessage:function(C,z){this.pos++;var J=this.pos;C(z,this);var ge=this.pos-J;ge>=128&&Vm(J,ge,this),this.pos=J-1,this.writeVarint(ge),this.pos+=ge},writeMessage:function(C,z,J){this.writeTag(C,Io.Bytes),this.writeRawMessage(z,J)},writePackedVarint:function(C,z){z.length&&this.writeMessage(C,X1,z)},writePackedSVarint:function(C,z){z.length&&this.writeMessage(C,K1,z)},writePackedBoolean:function(C,z){z.length&&this.writeMessage(C,Yg,z)},writePackedFloat:function(C,z){z.length&&this.writeMessage(C,Yl,z)},writePackedDouble:function(C,z){z.length&&this.writeMessage(C,Um,z)},writePackedFixed32:function(C,z){z.length&&this.writeMessage(C,Hm,z)},writePackedSFixed32:function(C,z){z.length&&this.writeMessage(C,yl,z)},writePackedFixed64:function(C,z){z.length&&this.writeMessage(C,ah,z)},writePackedSFixed64:function(C,z){z.length&&this.writeMessage(C,$g,z)},writeBytesField:function(C,z){this.writeTag(C,Io.Bytes),this.writeBytes(z)},writeFixed32Field:function(C,z){this.writeTag(C,Io.Fixed32),this.writeFixed32(z)},writeSFixed32Field:function(C,z){this.writeTag(C,Io.Fixed32),this.writeSFixed32(z)},writeFixed64Field:function(C,z){this.writeTag(C,Io.Fixed64),this.writeFixed64(z)},writeSFixed64Field:function(C,z){this.writeTag(C,Io.Fixed64),this.writeSFixed64(z)},writeVarintField:function(C,z){this.writeTag(C,Io.Varint),this.writeVarint(z)},writeSVarintField:function(C,z){this.writeTag(C,Io.Varint),this.writeSVarint(z)},writeStringField:function(C,z){this.writeTag(C,Io.Bytes),this.writeString(z)},writeFloatField:function(C,z){this.writeTag(C,Io.Fixed32),this.writeFloat(z)},writeDoubleField:function(C,z){this.writeTag(C,Io.Fixed64),this.writeDouble(z)},writeBooleanField:function(C,z){this.writeVarintField(C,Boolean(z))}};var qm=3;function Xg(C,z,J){1===C&&J.readMessage(J1,z)}function J1(C,z,J){if(3===C){var ge=J.readMessage(Kg,{}),Ye=ge.width,at=ge.height,mt=ge.left,Ct=ge.top,Lt=ge.advance;z.push({id:ge.id,bitmap:new Tu({width:Ye+2*qm,height:at+2*qm},ge.bitmap),metrics:{width:Ye,height:at,left:mt,top:Ct,advance:Lt}})}}function Kg(C,z,J){1===C?z.id=J.readVarint():2===C?z.bitmap=J.readBytes():3===C?z.width=J.readVarint():4===C?z.height=J.readVarint():5===C?z.left=J.readSVarint():6===C?z.top=J.readSVarint():7===C&&(z.advance=J.readVarint())}var Jg=qm;function Qg(C){for(var z=0,J=0,ge=0,Pe=C;ge<Pe.length;ge+=1){var je=Pe[ge];z+=je.w*je.h,J=Math.max(J,je.w)}C.sort(function(vn,Bn){return Bn.h-vn.h});for(var Ye=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(z/.95)),J),h:1/0}],at=0,mt=0,Ct=0,Lt=C;Ct<Lt.length;Ct+=1)for(var Gt=Lt[Ct],Jt=Ye.length-1;Jt>=0;Jt--){var Yt=Ye[Jt];if(!(Gt.w>Yt.w||Gt.h>Yt.h)){if(Gt.x=Yt.x,Gt.y=Yt.y,mt=Math.max(mt,Gt.y+Gt.h),at=Math.max(at,Gt.x+Gt.w),Gt.w===Yt.w&&Gt.h===Yt.h){var mn=Ye.pop();Jt<Ye.length&&(Ye[Jt]=mn)}else Gt.h===Yt.h?(Yt.x+=Gt.w,Yt.w-=Gt.w):Gt.w===Yt.w?(Yt.y+=Gt.h,Yt.h-=Gt.h):(Ye.push({x:Yt.x+Gt.w,y:Yt.y,w:Yt.w-Gt.w,h:Gt.h}),Yt.y+=Gt.h,Yt.h-=Gt.h);break}}return{w:at,h:mt,fill:z/(at*mt)||0}}var Ys=1,df=function(C,z){var J=z.pixelRatio,ge=z.version,Pe=z.stretchX,je=z.stretchY,Ye=z.content;this.paddedRect=C,this.pixelRatio=J,this.stretchX=Pe,this.stretchY=je,this.content=Ye,this.version=ge},lh={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};lh.tl.get=function(){return[this.paddedRect.x+Ys,this.paddedRect.y+Ys]},lh.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Ys,this.paddedRect.y+this.paddedRect.h-Ys]},lh.tlbr.get=function(){return this.tl.concat(this.br)},lh.displaySize.get=function(){return[(this.paddedRect.w-2*Ys)/this.pixelRatio,(this.paddedRect.h-2*Ys)/this.pixelRatio]},Object.defineProperties(df.prototype,lh);var Au=function(C,z){var J={},ge={};this.haveRenderCallbacks=[];var Pe=[];this.addImages(C,J,Pe),this.addImages(z,ge,Pe);var je=Qg(Pe),mt=new Ha({width:je.w||1,height:je.h||1});for(var Ct in C){var Lt=C[Ct],Gt=J[Ct].paddedRect;Ha.copy(Lt.data,mt,{x:0,y:0},{x:Gt.x+Ys,y:Gt.y+Ys},Lt.data)}for(var Jt in z){var Yt=z[Jt],mn=ge[Jt].paddedRect,vn=mn.x+Ys,Bn=mn.y+Ys,jn=Yt.data.width,Yn=Yt.data.height;Ha.copy(Yt.data,mt,{x:0,y:0},{x:vn,y:Bn},Yt.data),Ha.copy(Yt.data,mt,{x:0,y:Yn-1},{x:vn,y:Bn-1},{width:jn,height:1}),Ha.copy(Yt.data,mt,{x:0,y:0},{x:vn,y:Bn+Yn},{width:jn,height:1}),Ha.copy(Yt.data,mt,{x:jn-1,y:0},{x:vn-1,y:Bn},{width:1,height:Yn}),Ha.copy(Yt.data,mt,{x:0,y:0},{x:vn+jn,y:Bn},{width:1,height:Yn})}this.image=mt,this.iconPositions=J,this.patternPositions=ge};Au.prototype.addImages=function(C,z,J){for(var ge in C){var Pe=C[ge],je={x:0,y:0,w:Pe.data.width+2*Ys,h:Pe.data.height+2*Ys};J.push(je),z[ge]=new df(je,Pe),Pe.hasRenderCallback&&this.haveRenderCallbacks.push(ge)}},Au.prototype.patchUpdatedImages=function(C,z){for(var J in C.dispatchRenderCallbacks(this.haveRenderCallbacks),C.updatedImages)this.patchUpdatedImage(this.iconPositions[J],C.getImage(J),z),this.patchUpdatedImage(this.patternPositions[J],C.getImage(J),z)},Au.prototype.patchUpdatedImage=function(C,z,J){if(C&&z&&C.version!==z.version){C.version=z.version;var ge=C.tl;J.update(z.data,void 0,{x:ge[0],y:ge[1]})}},Xr("ImagePosition",df),Xr("ImageAtlas",Au);var $l={horizontal:1,vertical:2,horizontalOnly:3},ch=-17,Hu=function(){this.scale=1,this.fontStack="",this.imageName=null};Hu.forText=function(C,z){var J=new Hu;return J.scale=C||1,J.fontStack=z,J},Hu.forImage=function(C){var z=new Hu;return z.imageName=C,z};var ts=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function uh(C,z,J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn,vn){var Bn,jn=ts.fromFeature(C,Pe);Gt===$l.vertical&&jn.verticalizePunctuation();var Yn=No.processBidirectionalText,$n=No.processStyledBidirectionalText;if(Yn&&1===jn.sections.length){Bn=[];for(var ir=0,ur=Yn(jn.toString(),Ym(jn,Ct,je,z,ge,Yt,mn));ir<ur.length;ir+=1){var yr=ur[ir],Fr=new ts;Fr.text=yr,Fr.sections=jn.sections;for(var Er=0;Er<yr.length;Er++)Fr.sectionIndex.push(0);Bn.push(Fr)}}else if($n){Bn=[];for(var Gr=0,Kr=$n(jn.text,jn.sectionIndex,Ym(jn,Ct,je,z,ge,Yt,mn));Gr<Kr.length;Gr+=1){var yi=Kr[Gr],ei=new ts;ei.text=yi[0],ei.sectionIndex=yi[1],ei.sections=jn.sections,Bn.push(ei)}}else Bn=function(Yr,Ni){for(var bi=[],vo=Yr.text,pi=0,ho=0,wo=Ni;ho<wo.length;ho+=1){var Yi=wo[ho];bi.push(Yr.substring(pi,Yi)),pi=Yi}return pi<vo.length&&bi.push(Yr.substring(pi,vo.length)),bi}(jn,Ym(jn,Ct,je,z,ge,Yt,mn));var mi=[],ai={positionedLines:mi,text:jn.toString(),top:Lt[1],bottom:Lt[1],left:Lt[0],right:Lt[0],writingMode:Gt,iconsInText:!1,verticalizable:!1};return function(Yr,Ni,bi,vo,pi,ho,wo,Yi,Lo,To,Ia,Yo){for(var Ba=0,Ta=ch,ns=0,Xs=0,rs="right"===Yi?1:"left"===Yi?0:.5,Ma=0,is=0,ja=pi;is<ja.length;is+=1){var Va=ja[is];Va.trim();var ki=Va.getMaxScale(),$i=(ki-1)*Ga,aa={positionedGlyphs:[],lineOffset:0};Yr.positionedLines[Ma]=aa;var Xi=aa.positionedGlyphs,Xo=0;if(Va.length()){for(var Mo=0;Mo<Va.length();Mo++){var ci=Va.getSection(Mo),sa=Va.getSectionIndex(Mo),Wa=Va.getCharCode(Mo),La=0,Ss=null,Vc=null,Ll=null,Za=Ga,vc=!(Lo===$l.horizontal||!Ia&&!Ts(Wa)||Ia&&(ku[Wa]||Qi(Wa)));if(ci.imageName){var Kl=vo[ci.imageName];if(!Kl)continue;Ll=ci.imageName,Yr.iconsInText=Yr.iconsInText||!0,Vc=Kl.paddedRect;var Lc=Kl.displaySize;ci.scale=ci.scale*Ga/Yo,La=$i+(Ga-Lc[1]*ci.scale),Za=(Ss={width:Lc[0],height:Lc[1],left:Ys,top:-Jg,advance:vc?Lc[1]:Lc[0]}).advance;var Cu=vc?Lc[0]*ci.scale-Ga*ki:Lc[1]*ci.scale-Ga*ki;Cu>0&&Cu>Xo&&(Xo=Cu)}else{var Oc=bi[ci.fontStack],wd=Oc&&Oc[Wa];if(wd&&wd.rect)Vc=wd.rect,Ss=wd.metrics;else{var Tp=Ni[ci.fontStack],yh=Tp&&Tp[Wa];if(!yh)continue;Ss=yh.metrics}La=(ki-ci.scale)*Ga}vc?(Yr.verticalizable=!0,Xi.push({glyph:Wa,imageName:Ll,x:Ba,y:Ta+La,vertical:vc,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:sa,metrics:Ss,rect:Vc}),Ba+=Za*ci.scale+To):(Xi.push({glyph:Wa,imageName:Ll,x:Ba,y:Ta+La,vertical:vc,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:sa,metrics:Ss,rect:Vc}),Ba+=Ss.advance*ci.scale+To)}0!==Xi.length&&(ns=Math.max(Ba-To,ns),Q1(Xi,0,Xi.length-1,rs,Xo)),Ba=0;var Mp=ho*ki+Xo;aa.lineOffset=Math.max(Xo,$i),Ta+=Mp,Xs=Math.max(Mp,Xs),++Ma}else Ta+=ho,++Ma}var _f=Ta-ch,Ap=$m(wo),Du=Ap.horizontalAlign,yc=Ap.verticalAlign;(function(m0,xh,bf,_h,bh,g0,Td,wh,kp){var Th,wf=(xh-bf)*bh;Th=g0!==Td?-wh*_h-ch:(-_h*kp+.5)*Td;for(var Md=0,Ol=m0;Md<Ol.length;Md+=1)for(var Ad=0,Tf=Ol[Md].positionedGlyphs;Ad<Tf.length;Ad+=1){var Mh=Tf[Ad];Mh.x+=wf,Mh.y+=Th}})(Yr.positionedLines,rs,Du,yc,ns,Xs,ho,_f,pi.length),Yr.top+=-yc*_f,Yr.bottom=Yr.top+_f,Yr.left+=-Du*ns,Yr.right=Yr.left+ns}(ai,z,J,ge,Bn,Ye,at,mt,Gt,Ct,Jt,vn),!function(Yr){for(var Ni=0,bi=Yr;Ni<bi.length;Ni+=1)if(0!==bi[Ni].positionedGlyphs.length)return!1;return!0}(mi)&&ai}ts.fromFeature=function(C,z){for(var J=new ts,ge=0;ge<C.sections.length;ge++){var Pe=C.sections[ge];Pe.image?J.addImageSection(Pe):J.addTextSection(Pe,z)}return J},ts.prototype.length=function(){return this.text.length},ts.prototype.getSection=function(C){return this.sections[this.sectionIndex[C]]},ts.prototype.getSectionIndex=function(C){return this.sectionIndex[C]},ts.prototype.getCharCode=function(C){return this.text.charCodeAt(C)},ts.prototype.verticalizePunctuation=function(){this.text=function(C){for(var z="",J=0;J<C.length;J++){var ge=C.charCodeAt(J+1)||null,Pe=C.charCodeAt(J-1)||null;ge&&Fc(ge)&&!lf[C[J+1]]||Pe&&Fc(Pe)&&!lf[C[J-1]]||!lf[C[J]]?z+=C[J]:z+=lf[C[J]]}return z}(this.text)},ts.prototype.trim=function(){for(var C=0,z=0;z<this.text.length&&ku[this.text.charCodeAt(z)];z++)C++;for(var J=this.text.length,ge=this.text.length-1;ge>=0&&ge>=C&&ku[this.text.charCodeAt(ge)];ge--)J--;this.text=this.text.substring(C,J),this.sectionIndex=this.sectionIndex.slice(C,J)},ts.prototype.substring=function(C,z){var J=new ts;return J.text=this.text.substring(C,z),J.sectionIndex=this.sectionIndex.slice(C,z),J.sections=this.sections,J},ts.prototype.toString=function(){return this.text},ts.prototype.getMaxScale=function(){var C=this;return this.sectionIndex.reduce(function(z,J){return Math.max(z,C.sections[J].scale)},0)},ts.prototype.addTextSection=function(C,z){this.text+=C.text,this.sections.push(Hu.forText(C.scale,C.fontStack||z));for(var J=this.sections.length-1,ge=0;ge<C.text.length;++ge)this.sectionIndex.push(J)},ts.prototype.addImageSection=function(C){var z=C.image?C.image.name:"";if(0!==z.length){var J=this.getNextImageSectionCharCode();J?(this.text+=String.fromCharCode(J),this.sections.push(Hu.forImage(z)),this.sectionIndex.push(this.sections.length-1)):I("Reached maximum number of images 6401")}else I("Can't add FormattedSection with an empty image.")},ts.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var ku={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},$s={};function Wm(C,z,J,ge,Pe,je){if(z.imageName){var Ye=ge[z.imageName];return Ye?Ye.displaySize[0]*z.scale*Ga/je+Pe:0}var at=J[z.fontStack],mt=at&&at[C];return mt?mt.metrics.advance*z.scale+Pe:0}function ev(C,z,J,ge){var Pe=Math.pow(C-z,2);return ge?C<z?Pe/2:2*Pe:Pe+Math.abs(J)*J}function Zm(C,z,J){var ge=0;return 10===C&&(ge-=1e4),J&&(ge+=150),40!==C&&65288!==C||(ge+=50),41!==z&&65289!==z||(ge+=50),ge}function tv(C,z,J,ge,Pe,je){for(var Ye=null,at=ev(z,J,Pe,je),mt=0,Ct=ge;mt<Ct.length;mt+=1){var Lt=Ct[mt],Gt=ev(z-Lt.x,J,Pe,je)+Lt.badness;Gt<=at&&(Ye=Lt,at=Gt)}return{index:C,x:z,priorBreak:Ye,badness:at}}function nv(C){return C?nv(C.priorBreak).concat(C.index):[]}function Ym(C,z,J,ge,Pe,je,Ye){if("point"!==je)return[];if(!C)return[];for(var at=[],mt=function(Bn,jn,Yn,$n,ir,ur){for(var yr=0,Fr=0;Fr<Bn.length();Fr++){var Er=Bn.getSection(Fr);yr+=Wm(Bn.getCharCode(Fr),Er,$n,ir,jn,ur)}return yr/Math.max(1,Math.ceil(yr/Yn))}(C,z,J,ge,Pe,Ye),Ct=C.text.indexOf("\u200b")>=0,Lt=0,Gt=0;Gt<C.length();Gt++){var Jt=C.getSection(Gt),Yt=C.getCharCode(Gt);if(ku[Yt]||(Lt+=Wm(Yt,Jt,ge,Pe,z,Ye)),Gt<C.length()-1){var mn=!((vn=Yt)<11904||!(qr["Bopomofo Extended"](vn)||qr.Bopomofo(vn)||qr["CJK Compatibility Forms"](vn)||qr["CJK Compatibility Ideographs"](vn)||qr["CJK Compatibility"](vn)||qr["CJK Radicals Supplement"](vn)||qr["CJK Strokes"](vn)||qr["CJK Symbols and Punctuation"](vn)||qr["CJK Unified Ideographs Extension A"](vn)||qr["CJK Unified Ideographs"](vn)||qr["Enclosed CJK Letters and Months"](vn)||qr["Halfwidth and Fullwidth Forms"](vn)||qr.Hiragana(vn)||qr["Ideographic Description Characters"](vn)||qr["Kangxi Radicals"](vn)||qr["Katakana Phonetic Extensions"](vn)||qr.Katakana(vn)||qr["Vertical Forms"](vn)||qr["Yi Radicals"](vn)||qr["Yi Syllables"](vn)));($s[Yt]||mn||Jt.imageName)&&at.push(tv(Gt+1,Lt,mt,at,Zm(Yt,C.getCharCode(Gt+1),mn&&Ct),!1))}}var vn;return nv(tv(C.length(),Lt,mt,at,0,!0))}function $m(C){var z=.5,J=.5;switch(C){case"right":case"top-right":case"bottom-right":z=1;break;case"left":case"top-left":case"bottom-left":z=0}switch(C){case"bottom":case"bottom-right":case"bottom-left":J=1;break;case"top":case"top-right":case"top-left":J=0}return{horizontalAlign:z,verticalAlign:J}}function Q1(C,z,J,ge,Pe){if(ge||Pe)for(var je=C[J],at=(C[J].x+je.metrics.advance*je.scale)*ge,mt=z;mt<=J;mt++)C[mt].x-=at,C[mt].y+=Pe}function rv(C,z,J,ge,Pe,je){var Ye,at=C.image;if(at.content){var mt=at.content,Ct=at.pixelRatio||1;Ye=[mt[0]/Ct,mt[1]/Ct,at.displaySize[0]-mt[2]/Ct,at.displaySize[1]-mt[3]/Ct]}var Lt,Gt,Jt,Yt,mn=z.left*je,vn=z.right*je;"width"===J||"both"===J?(Yt=Pe[0]+mn-ge[3],Gt=Pe[0]+vn+ge[1]):Gt=(Yt=Pe[0]+(mn+vn-at.displaySize[0])/2)+at.displaySize[0];var Bn=z.top*je,jn=z.bottom*je;return"height"===J||"both"===J?(Lt=Pe[1]+Bn-ge[0],Jt=Pe[1]+jn+ge[2]):Jt=(Lt=Pe[1]+(Bn+jn-at.displaySize[1])/2)+at.displaySize[1],{image:at,top:Lt,right:Gt,bottom:Jt,left:Yt,collisionPadding:Ye}}$s[10]=!0,$s[32]=!0,$s[38]=!0,$s[40]=!0,$s[41]=!0,$s[43]=!0,$s[45]=!0,$s[47]=!0,$s[173]=!0,$s[183]=!0,$s[8203]=!0,$s[8208]=!0,$s[8211]=!0,$s[8231]=!0;var gd=function(C){function z(J,ge,Pe,je){C.call(this,J,ge),this.angle=Pe,void 0!==je&&(this.segment=je)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.clone=function(){return new z(this.x,this.y,this.angle,this.segment)},z}(i);Xr("Anchor",gd);var gc=128;function vp(C,z){var J=z.expression;if("constant"===J.kind)return{kind:"constant",layoutSize:J.evaluate(new Wi(C+1))};if("source"===J.kind)return{kind:"source"};for(var ge=J.zoomStops,Pe=J.interpolationType,je=0;je<ge.length&&ge[je]<=C;)je++;for(var Ye=je=Math.max(0,je-1);Ye<ge.length&&ge[Ye]<C+1;)Ye++;Ye=Math.min(ge.length-1,Ye);var at=ge[je],mt=ge[Ye];return"composite"===J.kind?{kind:"composite",minZoom:at,maxZoom:mt,interpolationType:Pe}:{kind:"camera",minZoom:at,maxZoom:mt,minSize:J.evaluate(new Wi(at)),maxSize:J.evaluate(new Wi(mt)),interpolationType:Pe}}function yp(C,z,J){var ge=z.uSize,je=J.lowerSize;return"source"===C.kind?je/gc:"composite"===C.kind?fr(je/gc,J.upperSize/gc,z.uSizeT):ge}function iv(C,z){var J=0,ge=0;if("constant"===C.kind)ge=C.layoutSize;else if("source"!==C.kind){var Pe=C.interpolationType,at=Pe?l(Ho.interpolationFactor(Pe,z,C.minZoom,C.maxZoom),0,1):0;"camera"===C.kind?ge=fr(C.minSize,C.maxSize,at):J=at}return{uSizeT:J,uSize:ge}}var ex=Object.freeze({__proto__:null,getSizeData:vp,evaluateSizeForFeature:yp,evaluateSizeForZoom:iv,SIZE_PACK_FACTOR:gc});function Xm(C,z,J,ge,Pe){if(void 0===z.segment)return!0;for(var je=z,Ye=z.segment+1,at=0;at>-J/2;){if(--Ye<0)return!1;at-=C[Ye].dist(je),je=C[Ye]}at+=C[Ye].dist(C[Ye+1]),Ye++;for(var mt=[],Ct=0;at<J/2;){var Gt=C[Ye],Jt=C[Ye+1];if(!Jt)return!1;var Yt=C[Ye-1].angleTo(Gt)-Gt.angleTo(Jt);for(Yt=Math.abs((Yt+3*Math.PI)%(2*Math.PI)-Math.PI),mt.push({distance:at,angleDelta:Yt}),Ct+=Yt;at-mt[0].distance>ge;)Ct-=mt.shift().angleDelta;if(Ct>Pe)return!1;Ye++,at+=Gt.dist(Jt)}return!0}function Km(C){for(var z=0,J=0;J<C.length-1;J++)z+=C[J].dist(C[J+1]);return z}function Gu(C,z,J){return C?.6*z*J:0}function Jm(C,z){return Math.max(C?C.right-C.left:0,z?z.right-z.left:0)}function ov(C,z,J,ge,Pe,je){for(var Ye=Gu(J,Pe,je),at=Jm(J,ge)*je,mt=0,Ct=Km(C)/2,Lt=0;Lt<C.length-1;Lt++){var Gt=C[Lt],Jt=C[Lt+1],Yt=Gt.dist(Jt);if(mt+Yt>Ct){var mn=(Ct-mt)/Yt,vn=fr(Gt.x,Jt.x,mn),Bn=fr(Gt.y,Jt.y,mn),jn=new gd(vn,Bn,Jt.angleTo(Gt),Lt);return jn._round(),!Ye||Xm(C,jn,at,Ye,z)?jn:void 0}mt+=Yt}}function tx(C,z,J,ge,Pe,je,Ye,at,mt){var Ct=Gu(ge,je,Ye),Lt=Jm(ge,Pe),Gt=Lt*Ye,Jt=0===C[0].x||C[0].x===mt||0===C[0].y||C[0].y===mt;return z-Gt<z/4&&(z=Gt+z/4),nx(C,Jt?z/2*at%z:(Lt/2+2*je)*Ye*at%z,z,Ct,J,Gt,Jt,!1,mt)}function nx(C,z,J,ge,Pe,je,Ye,at,mt){for(var Ct=je/2,Lt=Km(C),Gt=0,Jt=z-J,Yt=[],mn=0;mn<C.length-1;mn++){for(var vn=C[mn],Bn=C[mn+1],jn=vn.dist(Bn),Yn=Bn.angleTo(vn);Jt+J<Gt+jn;){var $n=((Jt+=J)-Gt)/jn,ir=fr(vn.x,Bn.x,$n),ur=fr(vn.y,Bn.y,$n);if(ir>=0&&ir<mt&&ur>=0&&ur<mt&&Jt-Ct>=0&&Jt+Ct<=Lt){var yr=new gd(ir,ur,Yn,mn);yr._round(),ge&&!Xm(C,yr,je,ge,Pe)||Yt.push(yr)}}Gt+=jn}return at||Yt.length||Ye||(Yt=nx(C,Gt/2,J,ge,Pe,je,Ye,!0,mt)),Yt}function dh(C,z,J,ge,Pe){for(var je=[],Ye=0;Ye<C.length;Ye++)for(var at=C[Ye],mt=void 0,Ct=0;Ct<at.length-1;Ct++){var Lt=at[Ct],Gt=at[Ct+1];Lt.x<z&&Gt.x<z||(Lt.x<z?Lt=new i(z,Lt.y+(z-Lt.x)/(Gt.x-Lt.x)*(Gt.y-Lt.y))._round():Gt.x<z&&(Gt=new i(z,Lt.y+(z-Lt.x)/(Gt.x-Lt.x)*(Gt.y-Lt.y))._round()),Lt.y<J&&Gt.y<J||(Lt.y<J?Lt=new i(Lt.x+(J-Lt.y)/(Gt.y-Lt.y)*(Gt.x-Lt.x),J)._round():Gt.y<J&&(Gt=new i(Lt.x+(J-Lt.y)/(Gt.y-Lt.y)*(Gt.x-Lt.x),J)._round()),Lt.x>=ge&&Gt.x>=ge||(Lt.x>=ge?Lt=new i(ge,Lt.y+(ge-Lt.x)/(Gt.x-Lt.x)*(Gt.y-Lt.y))._round():Gt.x>=ge&&(Gt=new i(ge,Lt.y+(ge-Lt.x)/(Gt.x-Lt.x)*(Gt.y-Lt.y))._round()),Lt.y>=Pe&&Gt.y>=Pe||(Lt.y>=Pe?Lt=new i(Lt.x+(Pe-Lt.y)/(Gt.y-Lt.y)*(Gt.x-Lt.x),Pe)._round():Gt.y>=Pe&&(Gt=new i(Lt.x+(Pe-Lt.y)/(Gt.y-Lt.y)*(Gt.x-Lt.x),Pe)._round()),mt&&Lt.equals(mt[mt.length-1])||je.push(mt=[Lt]),mt.push(Gt)))))}return je}var ff=Ys;function Qm(C,z,J,ge){var Pe=[],je=C.image,Ye=je.pixelRatio,at=je.paddedRect.w-2*ff,mt=je.paddedRect.h-2*ff,Ct=C.right-C.left,Lt=C.bottom-C.top,Gt=je.stretchX||[[0,at]],Jt=je.stretchY||[[0,mt]],Yt=function(ho,wo){return ho+wo[1]-wo[0]},mn=Gt.reduce(Yt,0),vn=Jt.reduce(Yt,0),Bn=at-mn,jn=mt-vn,Yn=0,$n=mn,ir=0,ur=vn,yr=0,Fr=Bn,Er=0,Gr=jn;if(je.content&&ge){var Kr=je.content;Yn=fh(Gt,0,Kr[0]),ir=fh(Jt,0,Kr[1]),$n=fh(Gt,Kr[0],Kr[2]),ur=fh(Jt,Kr[1],Kr[3]),yr=Kr[0]-Yn,Er=Kr[1]-ir,Fr=Kr[2]-Kr[0]-$n,Gr=Kr[3]-Kr[1]-ur}var yi=function(ho,wo,Yi,Lo){var To=hf(ho.stretch-Yn,$n,Ct,C.left),Ia=hh(ho.fixed-yr,Fr,ho.stretch,mn),Yo=hf(wo.stretch-ir,ur,Lt,C.top),Ba=hh(wo.fixed-Er,Gr,wo.stretch,vn),Ta=hf(Yi.stretch-Yn,$n,Ct,C.left),ns=hh(Yi.fixed-yr,Fr,Yi.stretch,mn),Xs=hf(Lo.stretch-ir,ur,Lt,C.top),rs=hh(Lo.fixed-Er,Gr,Lo.stretch,vn),Ma=new i(To,Yo),is=new i(Ta,Yo),ja=new i(Ta,Xs),Va=new i(To,Xs),ki=new i(Ia/Ye,Ba/Ye),$i=new i(ns/Ye,rs/Ye),aa=z*Math.PI/180;if(aa){var Xi=Math.sin(aa),Xo=Math.cos(aa),Mo=[Xo,-Xi,Xi,Xo];Ma._matMult(Mo),is._matMult(Mo),Va._matMult(Mo),ja._matMult(Mo)}var ci=ho.stretch+ho.fixed,Wa=wo.stretch+wo.fixed;return{tl:Ma,tr:is,bl:Va,br:ja,tex:{x:je.paddedRect.x+ff+ci,y:je.paddedRect.y+ff+Wa,w:Yi.stretch+Yi.fixed-ci,h:Lo.stretch+Lo.fixed-Wa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ki,pixelOffsetBR:$i,minFontScaleX:Fr/Ye/Ct,minFontScaleY:Gr/Ye/Lt,isSDF:J}};if(ge&&(je.stretchX||je.stretchY))for(var ei=e0(Gt,Bn,mn),mi=e0(Jt,jn,vn),ai=0;ai<ei.length-1;ai++)for(var Yr=ei[ai],Ni=ei[ai+1],bi=0;bi<mi.length-1;bi++)Pe.push(yi(Yr,mi[bi],Ni,mi[bi+1]));else Pe.push(yi({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:at+1},{fixed:0,stretch:mt+1}));return Pe}function fh(C,z,J){for(var ge=0,Pe=0,je=C;Pe<je.length;Pe+=1){var Ye=je[Pe];ge+=Math.max(z,Math.min(J,Ye[1]))-Math.max(z,Math.min(J,Ye[0]))}return ge}function e0(C,z,J){for(var ge=[{fixed:-ff,stretch:0}],Pe=0,je=C;Pe<je.length;Pe+=1){var Ye=je[Pe],at=Ye[0],mt=Ye[1],Ct=ge[ge.length-1];ge.push({fixed:at-Ct.stretch,stretch:Ct.stretch}),ge.push({fixed:at-Ct.stretch,stretch:Ct.stretch+(mt-at)})}return ge.push({fixed:z+ff,stretch:J}),ge}function hf(C,z,J,ge){return C/z*J+ge}function hh(C,z,J,ge){return C-z*J/ge}var vd=function(C,z,J,ge,Pe,je,Ye,at,mt,Ct){if(this.boxStartIndex=C.length,mt){var Lt=je.top,Gt=je.bottom,Jt=je.collisionPadding;Jt&&(Lt-=Jt[1],Gt+=Jt[3]);var Yt=Gt-Lt;Yt>0&&(Yt=Math.max(10,Yt),this.circleDiameter=Yt)}else{var mn=je.top*Ye-at,vn=je.bottom*Ye+at,Bn=je.left*Ye-at,jn=je.right*Ye+at,Yn=je.collisionPadding;if(Yn&&(Bn-=Yn[0]*Ye,mn-=Yn[1]*Ye,jn+=Yn[2]*Ye,vn+=Yn[3]*Ye),Ct){var $n=new i(Bn,mn),ir=new i(jn,mn),ur=new i(Bn,vn),yr=new i(jn,vn),Fr=Ct*Math.PI/180;$n._rotate(Fr),ir._rotate(Fr),ur._rotate(Fr),yr._rotate(Fr),Bn=Math.min($n.x,ir.x,ur.x,yr.x),jn=Math.max($n.x,ir.x,ur.x,yr.x),mn=Math.min($n.y,ir.y,ur.y,yr.y),vn=Math.max($n.y,ir.y,ur.y,yr.y)}C.emplaceBack(z.x,z.y,Bn,mn,jn,vn,J,ge,Pe)}this.boxEndIndex=C.length},Su=function(C,z){if(void 0===C&&(C=[]),void 0===z&&(z=av),this.data=C,this.length=this.data.length,this.compare=z,this.length>0)for(var J=(this.length>>1)-1;J>=0;J--)this._down(J)};function av(C,z){return C<z?-1:C>z?1:0}function t0(C,z,J){void 0===z&&(z=1),void 0===J&&(J=!1);for(var ge=1/0,Pe=1/0,je=-1/0,Ye=-1/0,at=C[0],mt=0;mt<at.length;mt++){var Ct=at[mt];(!mt||Ct.x<ge)&&(ge=Ct.x),(!mt||Ct.y<Pe)&&(Pe=Ct.y),(!mt||Ct.x>je)&&(je=Ct.x),(!mt||Ct.y>Ye)&&(Ye=Ct.y)}var Jt=Math.min(je-ge,Ye-Pe),Yt=Jt/2,mn=new Su([],n0);if(0===Jt)return new i(ge,Pe);for(var vn=ge;vn<je;vn+=Jt)for(var Bn=Pe;Bn<Ye;Bn+=Jt)mn.push(new qu(vn+Yt,Bn+Yt,Yt,C));for(var jn=function(ir){for(var ur=0,yr=0,Fr=0,Er=ir[0],Gr=0,Kr=Er.length,yi=Kr-1;Gr<Kr;yi=Gr++){var ei=Er[Gr],mi=Er[yi],ai=ei.x*mi.y-mi.x*ei.y;yr+=(ei.x+mi.x)*ai,Fr+=(ei.y+mi.y)*ai,ur+=3*ai}return new qu(yr/ur,Fr/ur,0,ir)}(C),Yn=mn.length;mn.length;){var $n=mn.pop();($n.d>jn.d||!jn.d)&&(jn=$n,J&&console.log("found best %d after %d probes",Math.round(1e4*$n.d)/1e4,Yn)),$n.max-jn.d<=z||(mn.push(new qu($n.p.x-(Yt=$n.h/2),$n.p.y-Yt,Yt,C)),mn.push(new qu($n.p.x+Yt,$n.p.y-Yt,Yt,C)),mn.push(new qu($n.p.x-Yt,$n.p.y+Yt,Yt,C)),mn.push(new qu($n.p.x+Yt,$n.p.y+Yt,Yt,C)),Yn+=4)}return J&&(console.log("num probes: "+Yn),console.log("best distance: "+jn.d)),jn.p}function n0(C,z){return z.max-C.max}function qu(C,z,J,ge){this.p=new i(C,z),this.h=J,this.d=function(Pe,je){for(var Ye=!1,at=1/0,mt=0;mt<je.length;mt++)for(var Ct=je[mt],Lt=0,Gt=Ct.length,Jt=Gt-1;Lt<Gt;Jt=Lt++){var Yt=Ct[Lt],mn=Ct[Jt];Yt.y>Pe.y!=mn.y>Pe.y&&Pe.x<(mn.x-Yt.x)*(Pe.y-Yt.y)/(mn.y-Yt.y)+Yt.x&&(Ye=!Ye),at=Math.min(at,bu(Pe,Yt,mn))}return(Ye?1:-1)*Math.sqrt(at)}(this.p,ge),this.max=this.d+this.h*Math.SQRT2}Su.prototype.push=function(C){this.data.push(C),this.length++,this._up(this.length-1)},Su.prototype.pop=function(){if(0!==this.length){var C=this.data[0],z=this.data.pop();return this.length--,this.length>0&&(this.data[0]=z,this._down(0)),C}},Su.prototype.peek=function(){return this.data[0]},Su.prototype._up=function(C){for(var z=this.data,J=this.compare,ge=z[C];C>0;){var Pe=C-1>>1,je=z[Pe];if(J(ge,je)>=0)break;z[C]=je,C=Pe}z[C]=ge},Su.prototype._down=function(C){for(var z=this.data,J=this.compare,ge=this.length>>1,Pe=z[C];C<ge;){var je=1+(C<<1),Ye=z[je],at=je+1;if(at<this.length&&J(z[at],Ye)<0&&(je=at,Ye=z[at]),J(Ye,Pe)>=0)break;z[C]=Ye,C=je}z[C]=Pe};var ru=7,r0=Number.POSITIVE_INFINITY;function o0(C,z){return z[1]!==r0?function(J,ge,Pe){var je=0,Ye=0;switch(ge=Math.abs(ge),Pe=Math.abs(Pe),J){case"top-right":case"top-left":case"top":Ye=Pe-ru;break;case"bottom-right":case"bottom-left":case"bottom":Ye=-Pe+ru}switch(J){case"top-right":case"bottom-right":case"right":je=-ge;break;case"top-left":case"bottom-left":case"left":je=ge}return[je,Ye]}(C,z[0],z[1]):function(J,ge){var Pe=0,je=0;ge<0&&(ge=0);var Ye=ge/Math.sqrt(2);switch(J){case"top-right":case"top-left":je=Ye-ru;break;case"bottom-right":case"bottom-left":je=-Ye+ru;break;case"bottom":je=-ge+ru;break;case"top":je=ge-ru}switch(J){case"top-right":case"bottom-right":Pe=-Ye;break;case"top-left":case"bottom-left":Pe=Ye;break;case"left":Pe=ge;break;case"right":Pe=-ge}return[Pe,je]}(C,z[0])}function a0(C){switch(C){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var ph=255,Wu=ph*gc;function s0(C,z,J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn){var vn=function(ir,ur,yr,Fr,Er,Gr,Kr,yi){for(var ei=Fr.layout.get("text-rotate").evaluate(Gr,{})*Math.PI/180,mi=[],ai=0,Yr=ur.positionedLines;ai<Yr.length;ai+=1)for(var Ni=Yr[ai],bi=0,vo=Ni.positionedGlyphs;bi<vo.length;bi+=1){var pi=vo[bi];if(pi.rect){var ho=pi.rect||{},wo=Jg+1,Yi=!0,Lo=1,To=0,Ia=(Er||yi)&&pi.vertical,Yo=pi.metrics.advance*pi.scale/2;if(yi&&ur.verticalizable&&(To=Ni.lineOffset/2-(pi.imageName?-(Ga-pi.metrics.width*pi.scale)/2:(pi.scale-1)*Ga)),pi.imageName){var ns=Kr[pi.imageName];Yi=ns.sdf,wo=Ys/(Lo=ns.pixelRatio)}var Xs=Er?[pi.x+Yo,pi.y]:[0,0],rs=Er?[0,0]:[pi.x+Yo+yr[0],pi.y+yr[1]-To],Ma=[0,0];Ia&&(Ma=rs,rs=[0,0]);var is=(pi.metrics.left-wo)*pi.scale-Yo+rs[0],ja=(-pi.metrics.top-wo)*pi.scale+rs[1],Va=is+ho.w*pi.scale/Lo,ki=ja+ho.h*pi.scale/Lo,$i=new i(is,ja),aa=new i(Va,ja),Xi=new i(is,ki),Xo=new i(Va,ki);if(Ia){var Mo=new i(-Yo,Yo-ch),ci=-Math.PI/2,sa=Ga/2-Yo,La=new i(5-ch-sa,-(pi.imageName?sa:0)),Ss=new(Function.prototype.bind.apply(i,[null].concat(Ma)));$i._rotateAround(ci,Mo)._add(La)._add(Ss),aa._rotateAround(ci,Mo)._add(La)._add(Ss),Xi._rotateAround(ci,Mo)._add(La)._add(Ss),Xo._rotateAround(ci,Mo)._add(La)._add(Ss)}if(ei){var Vc=Math.sin(ei),Ll=Math.cos(ei),Za=[Ll,-Vc,Vc,Ll];$i._matMult(Za),aa._matMult(Za),Xi._matMult(Za),Xo._matMult(Za)}var vc=new i(0,0),Kl=new i(0,0);mi.push({tl:$i,tr:aa,bl:Xi,br:Xo,tex:ho,writingMode:ur.writingMode,glyphOffset:Xs,sectionIndex:pi.sectionIndex,isSDF:Yi,pixelOffsetTL:vc,pixelOffsetBR:Kl,minFontScaleX:0,minFontScaleY:0})}}return mi}(0,J,at,Pe,je,Ye,ge,C.allowVerticalPlacement),Bn=C.textSizeData,jn=null;"source"===Bn.kind?(jn=[gc*Pe.layout.get("text-size").evaluate(Ye,{})])[0]>Wu&&I(C.layerIds[0]+': Value for "text-size" is >= '+ph+'. Reduce your "text-size".'):"composite"===Bn.kind&&((jn=[gc*Yt.compositeTextSizes[0].evaluate(Ye,{},mn),gc*Yt.compositeTextSizes[1].evaluate(Ye,{},mn)])[0]>Wu||jn[1]>Wu)&&I(C.layerIds[0]+': Value for "text-size" is >= '+ph+'. Reduce your "text-size".'),C.addSymbols(C.text,vn,jn,at,je,Ye,Ct,z,mt.lineStartIndex,mt.lineLength,Jt,mn);for(var Yn=0,$n=Lt;Yn<$n.length;Yn+=1)Gt[$n[Yn]]=C.text.placedSymbolArray.length-1;return 4*vn.length}function l0(C){for(var z in C)return C[z];return null}function xp(C,z,J,ge){var Pe=C.compareText;if(z in Pe){for(var je=Pe[z],Ye=je.length-1;Ye>=0;Ye--)if(ge.dist(je[Ye])<J)return!0}else Pe[z]=[];return Pe[z].push(ge),!1}var c0=af.VectorTileFeature.types,pf=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function _p(C,z,J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt){var Yt=at?Math.min(Wu,Math.round(at[0])):0,mn=at?Math.min(Wu,Math.round(at[1])):0;C.emplaceBack(z,J,Math.round(32*ge),Math.round(32*Pe),je,Ye,(Yt<<1)+(mt?1:0),mn,16*Ct,16*Lt,256*Gt,256*Jt)}function u0(C,z,J){C.emplaceBack(z.x,z.y,J),C.emplaceBack(z.x,z.y,J),C.emplaceBack(z.x,z.y,J),C.emplaceBack(z.x,z.y,J)}function U2(C){for(var z=0,J=C.sections;z<J.length;z+=1)if(fs(J[z].text))return!0;return!1}var mf=function(C){this.layoutVertexArray=new V,this.indexArray=new ie,this.programConfigurations=C,this.segments=new Dn,this.dynamicLayoutVertexArray=new Y,this.opacityVertexArray=new W,this.placedSymbolArray=new Ut};mf.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},mf.prototype.upload=function(C,z,J,ge){this.isEmpty()||(J&&(this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,Gg.members),this.indexBuffer=C.createIndexBuffer(this.indexArray,z),this.dynamicLayoutVertexBuffer=C.createVertexBuffer(this.dynamicLayoutVertexArray,V2.members,!0),this.opacityVertexBuffer=C.createVertexBuffer(this.opacityVertexArray,pf,!0),this.opacityVertexBuffer.itemSize=1),(J||ge)&&this.programConfigurations.upload(C))},mf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Xr("SymbolBuffers",mf);var yd=function(C,z,J){this.layoutVertexArray=new C,this.layoutAttributes=z,this.indexArray=new J,this.segments=new Dn,this.collisionVertexArray=new U};yd.prototype.upload=function(C){this.layoutVertexBuffer=C.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=C.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=C.createVertexBuffer(this.collisionVertexArray,$1.members,!0)},yd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Xr("CollisionBuffers",yd);var bo=function(C){this.collisionBoxArray=C.collisionBoxArray,this.zoom=C.zoom,this.overscaling=C.overscaling,this.layers=C.layers,this.layerIds=this.layers.map(function(Ye){return Ye.id}),this.index=C.index,this.pixelRatio=C.pixelRatio,this.sourceLayerIndex=C.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=op([]),this.placementViewportMatrix=op([]);var z=this.layers[0]._unevaluatedLayout._values;this.textSizeData=vp(this.zoom,z["text-size"]),this.iconSizeData=vp(this.zoom,z["icon-size"]);var J=this.layers[0].layout,ge=J.get("symbol-sort-key"),Pe=J.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==Pe&&void 0!==ge.constantOr(1),this.sortFeaturesByY=("viewport-y"===Pe||"auto"===Pe&&!this.sortFeaturesByKey)&&(J.get("text-allow-overlap")||J.get("icon-allow-overlap")||J.get("text-ignore-placement")||J.get("icon-ignore-placement")),"point"===J.get("symbol-placement")&&(this.writingModes=J.get("text-writing-mode").map(function(Ye){return $l[Ye]})),this.stateDependentLayerIds=this.layers.filter(function(Ye){return Ye.isStateDependent()}).map(function(Ye){return Ye.id}),this.sourceID=C.sourceID};bo.prototype.createArrays=function(){this.text=new mf(new Eo(Gg.members,this.layers,this.zoom,function(C){return/^text/.test(C)})),this.icon=new mf(new Eo(Gg.members,this.layers,this.zoom,function(C){return/^icon/.test(C)})),this.glyphOffsetArray=new Vt,this.lineVertexArray=new pn,this.symbolInstances=new Xt},bo.prototype.calculateGlyphDependencies=function(C,z,J,ge,Pe){for(var je=0;je<C.length;je++)if(z[C.charCodeAt(je)]=!0,(J||ge)&&Pe){var Ye=lf[C.charAt(je)];Ye&&(z[Ye.charCodeAt(0)]=!0)}},bo.prototype.populate=function(C,z,J){var ge=this.layers[0],Pe=ge.layout,je=Pe.get("text-font"),Ye=Pe.get("text-field"),at=Pe.get("icon-image"),mt=("constant"!==Ye.value.kind||Ye.value.value instanceof Wn&&!Ye.value.value.isEmpty()||Ye.value.value.toString().length>0)&&("constant"!==je.value.kind||je.value.value.length>0),Ct="constant"!==at.value.kind||!!at.value.value||Object.keys(at.parameters).length>0,Lt=Pe.get("symbol-sort-key");if(this.features=[],mt||Ct){for(var Gt=z.iconDependencies,Jt=z.glyphDependencies,Yt=z.availableImages,mn=new Wi(this.zoom),vn=0,Bn=C;vn<Bn.length;vn+=1){var jn=Bn[vn],Yn=jn.feature,$n=jn.id,ir=jn.index,ur=jn.sourceLayerIndex,yr=ge._featureFilter.needGeometry,Fr={type:Yn.type,id:$n,properties:Yn.properties,geometry:yr?qs(Yn):[]};if(ge._featureFilter.filter(mn,Fr,J)){yr||(Fr.geometry=qs(Yn));var Er=void 0;if(mt){var Gr=ge.getValueAndResolveTokens("text-field",Fr,J,Yt),Kr=Wn.factory(Gr);U2(Kr)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===hs()||this.hasRTLText&&No.isParsed())&&(Er=qg(Kr,ge,Fr))}var yi=void 0;if(Ct){var ei=ge.getValueAndResolveTokens("icon-image",Fr,J,Yt);yi=ei instanceof Cn?ei:Cn.fromString(ei)}if(Er||yi){var mi=this.sortFeaturesByKey?Lt.evaluate(Fr,{},J):void 0,ai={id:$n,text:Er,icon:yi,index:ir,sourceLayerIndex:ur,geometry:qs(Yn),properties:Yn.properties,type:c0[Yn.type],sortKey:mi};if(this.features.push(ai),yi&&(Gt[yi.name]=!0),Er){var Yr=je.evaluate(Fr,{},J).join(","),Ni="map"===Pe.get("text-rotation-alignment")&&"point"!==Pe.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf($l.vertical)>=0;for(var bi=0,vo=Er.sections;bi<vo.length;bi+=1){var pi=vo[bi];if(pi.image)Gt[pi.image.name]=!0;else{var ho=hl(Er.toString()),wo=pi.fontStack||Yr,Yi=Jt[wo]=Jt[wo]||{};this.calculateGlyphDependencies(pi.text,Yi,Ni,this.allowVerticalPlacement,ho)}}}}}}"line"===Pe.get("symbol-placement")&&(this.features=function(Lo){var To={},Ia={},Yo=[],Ba=0;function Ta(Xo){Yo.push(Lo[Xo]),Ba++}function ns(Xo,Mo,ci){var sa=Ia[Xo];return delete Ia[Xo],Ia[Mo]=sa,Yo[sa].geometry[0].pop(),Yo[sa].geometry[0]=Yo[sa].geometry[0].concat(ci[0]),sa}function Xs(Xo,Mo,ci){var sa=To[Mo];return delete To[Mo],To[Xo]=sa,Yo[sa].geometry[0].shift(),Yo[sa].geometry[0]=ci[0].concat(Yo[sa].geometry[0]),sa}function rs(Xo,Mo,ci){var sa=ci?Mo[0][Mo[0].length-1]:Mo[0][0];return Xo+":"+sa.x+":"+sa.y}for(var Ma=0;Ma<Lo.length;Ma++){var is=Lo[Ma],ja=is.geometry,Va=is.text?is.text.toString():null;if(Va){var ki=rs(Va,ja),$i=rs(Va,ja,!0);if(ki in Ia&&$i in To&&Ia[ki]!==To[$i]){var aa=Xs(ki,$i,ja),Xi=ns(ki,$i,Yo[aa].geometry);delete To[ki],delete Ia[$i],Ia[rs(Va,Yo[Xi].geometry,!0)]=Xi,Yo[aa].geometry=null}else ki in Ia?ns(ki,$i,ja):$i in To?Xs(ki,$i,ja):(Ta(Ma),To[ki]=Ba-1,Ia[$i]=Ba-1)}else Ta(Ma)}return Yo.filter(function(Xo){return Xo.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Lo,To){return Lo.sortKey-To.sortKey})}},bo.prototype.update=function(C,z,J){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(C,z,this.layers,J),this.icon.programConfigurations.updatePaintArrays(C,z,this.layers,J))},bo.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},bo.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},bo.prototype.upload=function(C){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(C),this.iconCollisionBox.upload(C)),this.text.upload(C,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(C,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},bo.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},bo.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},bo.prototype.addToLineVertexArray=function(C,z){var J=this.lineVertexArray.length;if(void 0!==C.segment){for(var ge=C.dist(z[C.segment+1]),Pe=C.dist(z[C.segment]),je={},Ye=C.segment+1;Ye<z.length;Ye++)je[Ye]={x:z[Ye].x,y:z[Ye].y,tileUnitDistanceFromAnchor:ge},Ye<z.length-1&&(ge+=z[Ye+1].dist(z[Ye]));for(var at=C.segment||0;at>=0;at--)je[at]={x:z[at].x,y:z[at].y,tileUnitDistanceFromAnchor:Pe},at>0&&(Pe+=z[at-1].dist(z[at]));for(var mt=0;mt<z.length;mt++){var Ct=je[mt];this.lineVertexArray.emplaceBack(Ct.x,Ct.y,Ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:J,lineLength:this.lineVertexArray.length-J}},bo.prototype.addSymbols=function(C,z,J,ge,Pe,je,Ye,at,mt,Ct,Lt,Gt){for(var Jt=C.indexArray,Yt=C.layoutVertexArray,mn=C.segments.prepareSegment(4*z.length,Yt,Jt,je.sortKey),vn=this.glyphOffsetArray.length,Bn=mn.vertexLength,jn=this.allowVerticalPlacement&&Ye===$l.vertical?Math.PI/2:0,Yn=je.text&&je.text.sections,$n=0;$n<z.length;$n++){var ir=z[$n],ur=ir.tl,yr=ir.tr,Fr=ir.bl,Er=ir.br,Gr=ir.tex,Kr=ir.pixelOffsetTL,yi=ir.pixelOffsetBR,ei=ir.minFontScaleX,mi=ir.minFontScaleY,ai=ir.glyphOffset,Yr=ir.isSDF,Ni=ir.sectionIndex,bi=mn.vertexLength,vo=ai[1];_p(Yt,at.x,at.y,ur.x,vo+ur.y,Gr.x,Gr.y,J,Yr,Kr.x,Kr.y,ei,mi),_p(Yt,at.x,at.y,yr.x,vo+yr.y,Gr.x+Gr.w,Gr.y,J,Yr,yi.x,Kr.y,ei,mi),_p(Yt,at.x,at.y,Fr.x,vo+Fr.y,Gr.x,Gr.y+Gr.h,J,Yr,Kr.x,yi.y,ei,mi),_p(Yt,at.x,at.y,Er.x,vo+Er.y,Gr.x+Gr.w,Gr.y+Gr.h,J,Yr,yi.x,yi.y,ei,mi),u0(C.dynamicLayoutVertexArray,at,jn),Jt.emplaceBack(bi,bi+1,bi+2),Jt.emplaceBack(bi+1,bi+2,bi+3),mn.vertexLength+=4,mn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ai[0]),$n!==z.length-1&&Ni===z[$n+1].sectionIndex||C.programConfigurations.populatePaintArrays(Yt.length,je,je.index,{},Gt,Yn&&Yn[Ni])}C.placedSymbolArray.emplaceBack(at.x,at.y,vn,this.glyphOffsetArray.length-vn,Bn,mt,Ct,at.segment,J?J[0]:0,J?J[1]:0,ge[0],ge[1],Ye,0,!1,0,Lt)},bo.prototype._addCollisionDebugVertex=function(C,z,J,ge,Pe,je){return z.emplaceBack(0,0),C.emplaceBack(J.x,J.y,ge,Pe,Math.round(je.x),Math.round(je.y))},bo.prototype.addCollisionDebugVertices=function(C,z,J,ge,Pe,je,Ye){var at=Pe.segments.prepareSegment(4,Pe.layoutVertexArray,Pe.indexArray),mt=at.vertexLength,Ct=Pe.layoutVertexArray,Lt=Pe.collisionVertexArray,Gt=Ye.anchorX,Jt=Ye.anchorY;this._addCollisionDebugVertex(Ct,Lt,je,Gt,Jt,new i(C,z)),this._addCollisionDebugVertex(Ct,Lt,je,Gt,Jt,new i(J,z)),this._addCollisionDebugVertex(Ct,Lt,je,Gt,Jt,new i(J,ge)),this._addCollisionDebugVertex(Ct,Lt,je,Gt,Jt,new i(C,ge)),at.vertexLength+=4;var Yt=Pe.indexArray;Yt.emplaceBack(mt,mt+1),Yt.emplaceBack(mt+1,mt+2),Yt.emplaceBack(mt+2,mt+3),Yt.emplaceBack(mt+3,mt),at.primitiveLength+=4},bo.prototype.addDebugCollisionBoxes=function(C,z,J,ge){for(var Pe=C;Pe<z;Pe++){var je=this.collisionBoxArray.get(Pe);this.addCollisionDebugVertices(je.x1,je.y1,je.x2,je.y2,ge?this.textCollisionBox:this.iconCollisionBox,je.anchorPoint,J)}},bo.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yd(ye,Bm.members,$e),this.iconCollisionBox=new yd(ye,Bm.members,$e);for(var C=0;C<this.symbolInstances.length;C++){var z=this.symbolInstances.get(C);this.addDebugCollisionBoxes(z.textBoxStartIndex,z.textBoxEndIndex,z,!0),this.addDebugCollisionBoxes(z.verticalTextBoxStartIndex,z.verticalTextBoxEndIndex,z,!0),this.addDebugCollisionBoxes(z.iconBoxStartIndex,z.iconBoxEndIndex,z,!1),this.addDebugCollisionBoxes(z.verticalIconBoxStartIndex,z.verticalIconBoxEndIndex,z,!1)}},bo.prototype._deserializeCollisionBoxesForSymbol=function(C,z,J,ge,Pe,je,Ye,at,mt){for(var Ct={},Lt=z;Lt<J;Lt++){var Gt=C.get(Lt);Ct.textBox={x1:Gt.x1,y1:Gt.y1,x2:Gt.x2,y2:Gt.y2,anchorPointX:Gt.anchorPointX,anchorPointY:Gt.anchorPointY},Ct.textFeatureIndex=Gt.featureIndex;break}for(var Jt=ge;Jt<Pe;Jt++){var Yt=C.get(Jt);Ct.verticalTextBox={x1:Yt.x1,y1:Yt.y1,x2:Yt.x2,y2:Yt.y2,anchorPointX:Yt.anchorPointX,anchorPointY:Yt.anchorPointY},Ct.verticalTextFeatureIndex=Yt.featureIndex;break}for(var mn=je;mn<Ye;mn++){var vn=C.get(mn);Ct.iconBox={x1:vn.x1,y1:vn.y1,x2:vn.x2,y2:vn.y2,anchorPointX:vn.anchorPointX,anchorPointY:vn.anchorPointY},Ct.iconFeatureIndex=vn.featureIndex;break}for(var Bn=at;Bn<mt;Bn++){var jn=C.get(Bn);Ct.verticalIconBox={x1:jn.x1,y1:jn.y1,x2:jn.x2,y2:jn.y2,anchorPointX:jn.anchorPointX,anchorPointY:jn.anchorPointY},Ct.verticalIconFeatureIndex=jn.featureIndex;break}return Ct},bo.prototype.deserializeCollisionBoxes=function(C){this.collisionArrays=[];for(var z=0;z<this.symbolInstances.length;z++){var J=this.symbolInstances.get(z);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(C,J.textBoxStartIndex,J.textBoxEndIndex,J.verticalTextBoxStartIndex,J.verticalTextBoxEndIndex,J.iconBoxStartIndex,J.iconBoxEndIndex,J.verticalIconBoxStartIndex,J.verticalIconBoxEndIndex))}},bo.prototype.hasTextData=function(){return this.text.segments.get().length>0},bo.prototype.hasIconData=function(){return this.icon.segments.get().length>0},bo.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},bo.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},bo.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},bo.prototype.addIndicesForPlacedSymbol=function(C,z){for(var J=C.placedSymbolArray.get(z),ge=J.vertexStartIndex+4*J.numGlyphs,Pe=J.vertexStartIndex;Pe<ge;Pe+=4)C.indexArray.emplaceBack(Pe,Pe+1,Pe+2),C.indexArray.emplaceBack(Pe+1,Pe+2,Pe+3)},bo.prototype.getSortedSymbolIndexes=function(C){if(this.sortedAngle===C&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var z=Math.sin(C),J=Math.cos(C),ge=[],Pe=[],je=[],Ye=0;Ye<this.symbolInstances.length;++Ye){je.push(Ye);var at=this.symbolInstances.get(Ye);ge.push(0|Math.round(z*at.anchorX+J*at.anchorY)),Pe.push(at.featureIndex)}return je.sort(function(mt,Ct){return ge[mt]-ge[Ct]||Pe[Ct]-Pe[mt]}),je},bo.prototype.addToSortKeyRanges=function(C,z){var J=this.sortKeyRanges[this.sortKeyRanges.length-1];J&&J.sortKey===z?J.symbolInstanceEnd=C+1:this.sortKeyRanges.push({sortKey:z,symbolInstanceStart:C,symbolInstanceEnd:C+1})},bo.prototype.sortFeatures=function(C){var z=this;if(this.sortFeaturesByY&&this.sortedAngle!==C&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(C),this.sortedAngle=C,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var J=0,ge=this.symbolInstanceIndexes;J<ge.length;J+=1){var je=this.symbolInstances.get(ge[J]);this.featureSortOrder.push(je.featureIndex),[je.rightJustifiedTextSymbolIndex,je.centerJustifiedTextSymbolIndex,je.leftJustifiedTextSymbolIndex].forEach(function(Ye,at,mt){Ye>=0&&mt.indexOf(Ye)===at&&z.addIndicesForPlacedSymbol(z.text,Ye)}),je.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,je.verticalPlacedTextSymbolIndex),je.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,je.placedIconSymbolIndex),je.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,je.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Xr("SymbolBucket",bo,{omit:["layers","collisionBoxArray","features","compareText"]}),bo.MAX_GLYPHS=65535,bo.addDynamicAttributes=u0;var sv=new xa({"symbol-placement":new Sr(Ve.layout_symbol["symbol-placement"]),"symbol-spacing":new Sr(Ve.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Sr(Ve.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ni(Ve.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Sr(Ve.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Sr(Ve.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Sr(Ve.layout_symbol["icon-ignore-placement"]),"icon-optional":new Sr(Ve.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Sr(Ve.layout_symbol["icon-rotation-alignment"]),"icon-size":new ni(Ve.layout_symbol["icon-size"]),"icon-text-fit":new Sr(Ve.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Sr(Ve.layout_symbol["icon-text-fit-padding"]),"icon-image":new ni(Ve.layout_symbol["icon-image"]),"icon-rotate":new ni(Ve.layout_symbol["icon-rotate"]),"icon-padding":new Sr(Ve.layout_symbol["icon-padding"]),"icon-keep-upright":new Sr(Ve.layout_symbol["icon-keep-upright"]),"icon-offset":new ni(Ve.layout_symbol["icon-offset"]),"icon-anchor":new ni(Ve.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Sr(Ve.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Sr(Ve.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Sr(Ve.layout_symbol["text-rotation-alignment"]),"text-field":new ni(Ve.layout_symbol["text-field"]),"text-font":new ni(Ve.layout_symbol["text-font"]),"text-size":new ni(Ve.layout_symbol["text-size"]),"text-max-width":new ni(Ve.layout_symbol["text-max-width"]),"text-line-height":new Sr(Ve.layout_symbol["text-line-height"]),"text-letter-spacing":new ni(Ve.layout_symbol["text-letter-spacing"]),"text-justify":new ni(Ve.layout_symbol["text-justify"]),"text-radial-offset":new ni(Ve.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Sr(Ve.layout_symbol["text-variable-anchor"]),"text-anchor":new ni(Ve.layout_symbol["text-anchor"]),"text-max-angle":new Sr(Ve.layout_symbol["text-max-angle"]),"text-writing-mode":new Sr(Ve.layout_symbol["text-writing-mode"]),"text-rotate":new ni(Ve.layout_symbol["text-rotate"]),"text-padding":new Sr(Ve.layout_symbol["text-padding"]),"text-keep-upright":new Sr(Ve.layout_symbol["text-keep-upright"]),"text-transform":new ni(Ve.layout_symbol["text-transform"]),"text-offset":new ni(Ve.layout_symbol["text-offset"]),"text-allow-overlap":new Sr(Ve.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Sr(Ve.layout_symbol["text-ignore-placement"]),"text-optional":new Sr(Ve.layout_symbol["text-optional"])}),gf={paint:new xa({"icon-opacity":new ni(Ve.paint_symbol["icon-opacity"]),"icon-color":new ni(Ve.paint_symbol["icon-color"]),"icon-halo-color":new ni(Ve.paint_symbol["icon-halo-color"]),"icon-halo-width":new ni(Ve.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ni(Ve.paint_symbol["icon-halo-blur"]),"icon-translate":new Sr(Ve.paint_symbol["icon-translate"]),"icon-translate-anchor":new Sr(Ve.paint_symbol["icon-translate-anchor"]),"text-opacity":new ni(Ve.paint_symbol["text-opacity"]),"text-color":new ni(Ve.paint_symbol["text-color"],{runtimeType:Wt,getOverride:function(C){return C.textColor},hasOverride:function(C){return!!C.textColor}}),"text-halo-color":new ni(Ve.paint_symbol["text-halo-color"]),"text-halo-width":new ni(Ve.paint_symbol["text-halo-width"]),"text-halo-blur":new ni(Ve.paint_symbol["text-halo-blur"]),"text-translate":new Sr(Ve.paint_symbol["text-translate"]),"text-translate-anchor":new Sr(Ve.paint_symbol["text-translate-anchor"])}),layout:sv},Zu=function(C){this.type=C.property.overrides?C.property.overrides.runtimeType:Rt,this.defaultValue=C};Zu.prototype.evaluate=function(C){if(C.formattedSection){var z=this.defaultValue.property.overrides;if(z&&z.hasOverride(C.formattedSection))return z.getOverride(C.formattedSection)}return C.feature&&C.featureState?this.defaultValue.evaluate(C.feature,C.featureState):this.defaultValue.property.specification.default},Zu.prototype.eachChild=function(C){this.defaultValue.isConstant()||C(this.defaultValue.value._styleExpression.expression)},Zu.prototype.outputDefined=function(){return!1},Zu.prototype.serialize=function(){return null},Xr("FormatSectionOverride",Zu,{omit:["defaultValue"]});var lv=function(C){function z(J){C.call(this,J,gf)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.recalculate=function(J,ge){if(C.prototype.recalculate.call(this,J,ge),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var Pe=this.layout.get("text-writing-mode");if(Pe){for(var je=[],Ye=0,at=Pe;Ye<at.length;Ye+=1){var mt=at[Ye];je.indexOf(mt)<0&&je.push(mt)}this.layout._values["text-writing-mode"]=je}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},z.prototype.getValueAndResolveTokens=function(J,ge,Pe,je){var mt,Ye=this.layout.get(J).evaluate(ge,{},Pe,je),at=this._unevaluatedLayout._values[J];return at.isDataDriven()||kl(at.value)||!Ye?Ye:(mt=ge.properties,Ye.replace(/{([^{}]+)}/g,function(Lt,Gt){return Gt in mt?String(mt[Gt]):""}))},z.prototype.createBucket=function(J){return new bo(J)},z.prototype.queryRadius=function(){return 0},z.prototype.queryIntersectsFeature=function(){return!1},z.prototype._setPaintOverrides=function(){for(var J=0,ge=gf.paint.overridableProperties;J<ge.length;J+=1){var Pe=ge[J];if(z.hasPaintOverride(this.layout,Pe)){var je,Ye=this.paint.get(Pe),at=new Zu(Ye),mt=new kc(at,Ye.property.specification);je="constant"===Ye.value.kind||"source"===Ye.value.kind?new $r("source",mt):new xi("composite",mt,Ye.value.zoomStops,Ye.value._interpolationType),this.paint._values[Pe]=new Wo(Ye.property,je,Ye.parameters)}}},z.prototype._handleOverridablePaintPropertyUpdate=function(J,ge,Pe){return!(!this.layout||ge.isDataDriven()||Pe.isDataDriven())&&z.hasPaintOverride(this.layout,J)},z.hasPaintOverride=function(J,ge){var Pe=J.get("text-field"),je=gf.paint.properties[ge],Ye=!1,at=function(Lt){for(var Gt=0,Jt=Lt;Gt<Jt.length;Gt+=1)if(je.overrides&&je.overrides.hasOverride(Jt[Gt]))return void(Ye=!0)};if("constant"===Pe.value.kind&&Pe.value.value instanceof Wn)at(Pe.value.value.sections);else if("source"===Pe.value.kind){var mt=function(Lt){Ye||(Lt instanceof xr&&lr(Lt.value)===nn?at(Lt.value.sections):Lt instanceof qt?at(Lt.sections):Lt.eachChild(mt))},Ct=Pe.value;Ct._styleExpression&&mt(Ct._styleExpression.expression)}return Ye},z}(_a),cv={paint:new xa({"background-color":new Sr(Ve.paint_background["background-color"]),"background-pattern":new Ra(Ve.paint_background["background-pattern"]),"background-opacity":new Sr(Ve.paint_background["background-opacity"])})},uv=function(C){function z(J){C.call(this,J,cv)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(_a),xd={paint:new xa({"raster-opacity":new Sr(Ve.paint_raster["raster-opacity"]),"raster-hue-rotate":new Sr(Ve.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Sr(Ve.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Sr(Ve.paint_raster["raster-brightness-max"]),"raster-saturation":new Sr(Ve.paint_raster["raster-saturation"]),"raster-contrast":new Sr(Ve.paint_raster["raster-contrast"]),"raster-resampling":new Sr(Ve.paint_raster["raster-resampling"]),"raster-fade-duration":new Sr(Ve.paint_raster["raster-fade-duration"])})},rx=function(C){function z(J){C.call(this,J,xd)}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z}(_a),ix=function(C){function z(J){C.call(this,J,{}),this.implementation=J}return C&&(z.__proto__=C),(z.prototype=Object.create(C&&C.prototype)).constructor=z,z.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},z.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},z.prototype.recalculate=function(){},z.prototype.updateTransitions=function(){},z.prototype.hasTransition=function(){},z.prototype.serialize=function(){},z.prototype.onAdd=function(J){this.implementation.onAdd&&this.implementation.onAdd(J,J.painter.context.gl)},z.prototype.onRemove=function(J){this.implementation.onRemove&&this.implementation.onRemove(J,J.painter.context.gl)},z}(_a),ox={circle:Rg,heatmap:Hr,hillshade:O2,fill:rh,"fill-extrusion":H1,line:j2,symbol:lv,background:uv,raster:rx},dv=self.HTMLImageElement,fv=self.HTMLCanvasElement,Xl=self.HTMLVideoElement,jc=self.ImageData,bp=self.ImageBitmap,_d=function(C,z,J,ge){this.context=C,this.format=J,this.texture=C.gl.createTexture(),this.update(z,ge)};_d.prototype.update=function(C,z,J){var ge=C.width,Pe=C.height,je=!(this.size&&this.size[0]===ge&&this.size[1]===Pe||J),Ye=this.context,at=Ye.gl;if(this.useMipmap=Boolean(z&&z.useMipmap),at.bindTexture(at.TEXTURE_2D,this.texture),Ye.pixelStoreUnpackFlipY.set(!1),Ye.pixelStoreUnpack.set(1),Ye.pixelStoreUnpackPremultiplyAlpha.set(this.format===at.RGBA&&(!z||!1!==z.premultiply)),je)this.size=[ge,Pe],C instanceof dv||C instanceof fv||C instanceof Xl||C instanceof jc||bp&&C instanceof bp?at.texImage2D(at.TEXTURE_2D,0,this.format,this.format,at.UNSIGNED_BYTE,C):at.texImage2D(at.TEXTURE_2D,0,this.format,ge,Pe,0,this.format,at.UNSIGNED_BYTE,C.data);else{var mt=J||{x:0,y:0},Ct=mt.x,Lt=mt.y;C instanceof dv||C instanceof fv||C instanceof Xl||C instanceof jc||bp&&C instanceof bp?at.texSubImage2D(at.TEXTURE_2D,0,Ct,Lt,at.RGBA,at.UNSIGNED_BYTE,C):at.texSubImage2D(at.TEXTURE_2D,0,Ct,Lt,ge,Pe,at.RGBA,at.UNSIGNED_BYTE,C.data)}this.useMipmap&&this.isSizePowerOfTwo()&&at.generateMipmap(at.TEXTURE_2D)},_d.prototype.bind=function(C,z,J){var ge=this.context.gl;ge.bindTexture(ge.TEXTURE_2D,this.texture),J!==ge.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(J=ge.LINEAR),C!==this.filter&&(ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,C),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,J||C),this.filter=C),z!==this.wrap&&(ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,z),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,z),this.wrap=z)},_d.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},_d.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var d0=function(C){var z=this;this._callback=C,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){z._triggered=!1,z._callback()})};d0.prototype.trigger=function(){var C=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){C._triggered=!1,C._callback()},0))},d0.prototype.remove=function(){delete this._channel,this._callback=function(){}};var vf=function(C,z,J){this.target=C,this.parent=z,this.mapId=J,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new d0(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?C:self};function hv(C,z,J){var ge=2*Math.PI*6378137/256/Math.pow(2,J);return[C*ge-2*Math.PI*6378137/2,z*ge-2*Math.PI*6378137/2]}vf.prototype.send=function(C,z,J,ge,Pe){var je=this;void 0===Pe&&(Pe=!1);var Ye=Math.round(1e18*Math.random()).toString(36).substring(0,10);J&&(this.callbacks[Ye]=J);var at=j(this.globalScope)?void 0:[];return this.target.postMessage({id:Ye,type:C,hasCallback:!!J,targetMapId:ge,mustQueue:Pe,sourceMapId:this.mapId,data:jl(z,at)},at),{cancel:function(){J&&delete je.callbacks[Ye],je.target.postMessage({id:Ye,type:"<cancel>",targetMapId:ge,sourceMapId:je.mapId})}}},vf.prototype.receive=function(C){var z=C.data,J=z.id;if(J&&(!z.targetMapId||this.mapId===z.targetMapId))if("<cancel>"===z.type){delete this.tasks[J];var ge=this.cancelCallbacks[J];delete this.cancelCallbacks[J],ge&&ge()}else O()||z.mustQueue?(this.tasks[J]=z,this.taskQueue.push(J),this.invoker.trigger()):this.processTask(J,z)},vf.prototype.process=function(){if(this.taskQueue.length){var C=this.taskQueue.shift(),z=this.tasks[C];delete this.tasks[C],this.taskQueue.length&&this.invoker.trigger(),z&&this.processTask(C,z)}},vf.prototype.processTask=function(C,z){var J=this;if("<response>"===z.type){var ge=this.callbacks[C];delete this.callbacks[C],ge&&(z.error?ge(Vl(z.error)):ge(null,Vl(z.data)))}else{var Pe=!1,je=j(this.globalScope)?void 0:[],Ye=z.hasCallback?function(Lt,Gt){Pe=!0,delete J.cancelCallbacks[C],J.target.postMessage({id:C,type:"<response>",sourceMapId:J.mapId,error:Lt?jl(Lt):null,data:jl(Gt,je)},je)}:function(Lt){Pe=!0},at=null,mt=Vl(z.data);if(this.parent[z.type])at=this.parent[z.type](z.sourceMapId,mt,Ye);else if(this.parent.getWorkerSource){var Ct=z.type.split(".");at=this.parent.getWorkerSource(z.sourceMapId,Ct[0],mt.source)[Ct[1]](mt,Ye)}else Ye(new Error("Could not find function "+z.type));!Pe&&at&&at.cancel&&(this.cancelCallbacks[C]=at.cancel)}},vf.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Da=function(C,z){C&&(z?this.setSouthWest(C).setNorthEast(z):4===C.length?this.setSouthWest([C[0],C[1]]).setNorthEast([C[2],C[3]]):this.setSouthWest(C[0]).setNorthEast(C[1]))};Da.prototype.setNorthEast=function(C){return this._ne=C instanceof Vo?new Vo(C.lng,C.lat):Vo.convert(C),this},Da.prototype.setSouthWest=function(C){return this._sw=C instanceof Vo?new Vo(C.lng,C.lat):Vo.convert(C),this},Da.prototype.extend=function(C){var z,J,ge=this._sw,Pe=this._ne;if(C instanceof Vo)z=C,J=C;else{if(!(C instanceof Da))return Array.isArray(C)?4===C.length||C.every(Array.isArray)?this.extend(Da.convert(C)):this.extend(Vo.convert(C)):this;if(J=C._ne,!(z=C._sw)||!J)return this}return ge||Pe?(ge.lng=Math.min(z.lng,ge.lng),ge.lat=Math.min(z.lat,ge.lat),Pe.lng=Math.max(J.lng,Pe.lng),Pe.lat=Math.max(J.lat,Pe.lat)):(this._sw=new Vo(z.lng,z.lat),this._ne=new Vo(J.lng,J.lat)),this},Da.prototype.getCenter=function(){return new Vo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Da.prototype.getSouthWest=function(){return this._sw},Da.prototype.getNorthEast=function(){return this._ne},Da.prototype.getNorthWest=function(){return new Vo(this.getWest(),this.getNorth())},Da.prototype.getSouthEast=function(){return new Vo(this.getEast(),this.getSouth())},Da.prototype.getWest=function(){return this._sw.lng},Da.prototype.getSouth=function(){return this._sw.lat},Da.prototype.getEast=function(){return this._ne.lng},Da.prototype.getNorth=function(){return this._ne.lat},Da.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Da.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Da.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Da.prototype.contains=function(C){var z=Vo.convert(C),J=z.lng,ge=z.lat,je=this._sw.lng<=J&&J<=this._ne.lng;return this._sw.lng>this._ne.lng&&(je=this._sw.lng>=J&&J>=this._ne.lng),this._sw.lat<=ge&&ge<=this._ne.lat&&je},Da.convert=function(C){return!C||C instanceof Da?C:new Da(C)};var f0=6371008.8,Vo=function(C,z){if(isNaN(C)||isNaN(z))throw new Error("Invalid LngLat object: ("+C+", "+z+")");if(this.lng=+C,this.lat=+z,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Vo.prototype.wrap=function(){return new Vo(c(this.lng,-180,180),this.lat)},Vo.prototype.toArray=function(){return[this.lng,this.lat]},Vo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Vo.prototype.distanceTo=function(C){var z=Math.PI/180,J=this.lat*z,ge=C.lat*z,Pe=Math.sin(J)*Math.sin(ge)+Math.cos(J)*Math.cos(ge)*Math.cos((C.lng-this.lng)*z);return f0*Math.acos(Math.min(Pe,1))},Vo.prototype.toBounds=function(C){void 0===C&&(C=0);var z=360*C/40075017,J=z/Math.cos(Math.PI/180*this.lat);return new Da(new Vo(this.lng-J,this.lat-z),new Vo(this.lng+J,this.lat+z))},Vo.convert=function(C){if(C instanceof Vo)return C;if(Array.isArray(C)&&(2===C.length||3===C.length))return new Vo(Number(C[0]),Number(C[1]));if(!Array.isArray(C)&&"object"==typeof C&&null!==C)return new Vo(Number("lng"in C?C.lng:C.lon),Number(C.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var pv=2*Math.PI*f0;function mv(C){return pv*Math.cos(C*Math.PI/180)}function gv(C){return(180+C)/360}function mh(C){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+C*Math.PI/360)))/360}function iu(C,z){return C/mv(z)}function bd(C){return 360/Math.PI*Math.atan(Math.exp((180-360*C)*Math.PI/180))-90}var Yu=function(C,z,J){void 0===J&&(J=0),this.x=+C,this.y=+z,this.z=+J};Yu.fromLngLat=function(C,z){void 0===z&&(z=0);var J=Vo.convert(C);return new Yu(gv(J.lng),mh(J.lat),iu(z,J.lat))},Yu.prototype.toLngLat=function(){return new Vo(360*this.x-180,bd(this.y))},Yu.prototype.toAltitude=function(){return this.z*mv(bd(this.y))},Yu.prototype.meterInMercatorCoordinateUnits=function(){return 1/pv*(C=bd(this.y),1/Math.cos(C*Math.PI/180));var C};var $u=function(C,z,J){this.z=C,this.x=z,this.y=J,this.key=wp(0,C,C,z,J)};$u.prototype.equals=function(C){return this.z===C.z&&this.x===C.x&&this.y===C.y},$u.prototype.url=function(C,z){var J,ge,Pe,je,Ye,at=(ge=this.y,Pe=this.z,je=hv(256*(J=this.x),256*(ge=Math.pow(2,Pe)-ge-1),Pe),Ye=hv(256*(J+1),256*(ge+1),Pe),je[0]+","+je[1]+","+Ye[0]+","+Ye[1]),mt=function(Ct,Lt,Gt){for(var Jt,Yt="",mn=Ct;mn>0;mn--)Yt+=(Lt&(Jt=1<<mn-1)?1:0)+(Gt&Jt?2:0);return Yt}(this.z,this.x,this.y);return C[(this.x+this.y)%C.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===z?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",mt).replace("{bbox-epsg-3857}",at)},$u.prototype.getTilePoint=function(C){var z=Math.pow(2,this.z);return new i((C.x*z-this.x)*Fi,(C.y*z-this.y)*Fi)},$u.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var h0=function(C,z){this.wrap=C,this.canonical=z,this.key=wp(C,z.z,z.z,z.x,z.y)},za=function(C,z,J,ge,Pe){this.overscaledZ=C,this.wrap=z,this.canonical=new $u(J,+ge,+Pe),this.key=wp(z,C,J,ge,Pe)};function wp(C,z,J,ge,Pe){(C*=2)<0&&(C=-1*C-1);var je=1<<J;return(je*je*C+je*Pe+ge).toString(36)+J.toString(36)+z.toString(36)}za.prototype.equals=function(C){return this.overscaledZ===C.overscaledZ&&this.wrap===C.wrap&&this.canonical.equals(C.canonical)},za.prototype.scaledTo=function(C){var z=this.canonical.z-C;return C>this.canonical.z?new za(C,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new za(C,this.wrap,C,this.canonical.x>>z,this.canonical.y>>z)},za.prototype.calculateScaledKey=function(C,z){var J=this.canonical.z-C;return C>this.canonical.z?wp(this.wrap*+z,C,this.canonical.z,this.canonical.x,this.canonical.y):wp(this.wrap*+z,C,C,this.canonical.x>>J,this.canonical.y>>J)},za.prototype.isChildOf=function(C){if(C.wrap!==this.wrap)return!1;var z=this.canonical.z-C.canonical.z;return 0===C.overscaledZ||C.overscaledZ<this.overscaledZ&&C.canonical.x===this.canonical.x>>z&&C.canonical.y===this.canonical.y>>z},za.prototype.children=function(C){if(this.overscaledZ>=C)return[new za(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var z=this.canonical.z+1,J=2*this.canonical.x,ge=2*this.canonical.y;return[new za(z,this.wrap,z,J,ge),new za(z,this.wrap,z,J+1,ge),new za(z,this.wrap,z,J,ge+1),new za(z,this.wrap,z,J+1,ge+1)]},za.prototype.isLessThan=function(C){return this.wrap<C.wrap||!(this.wrap>C.wrap)&&(this.overscaledZ<C.overscaledZ||!(this.overscaledZ>C.overscaledZ)&&(this.canonical.x<C.canonical.x||!(this.canonical.x>C.canonical.x)&&this.canonical.y<C.canonical.y))},za.prototype.wrapped=function(){return new za(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},za.prototype.unwrapTo=function(C){return new za(this.overscaledZ,C,this.canonical.z,this.canonical.x,this.canonical.y)},za.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},za.prototype.toUnwrapped=function(){return new h0(this.wrap,this.canonical)},za.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},za.prototype.getTilePoint=function(C){return this.canonical.getTilePoint(new Yu(C.x-this.wrap,C.y))},Xr("CanonicalTileID",$u),Xr("OverscaledTileID",za,{omit:["posMatrix"]});var Xu=function(C,z,J){if(this.uid=C,z.height!==z.width)throw new RangeError("DEM tiles must be square");if(J&&"mapbox"!==J&&"terrarium"!==J)return I('"'+J+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=z.height;var ge=this.dim=z.height-2;this.data=new Uint32Array(z.data.buffer),this.encoding=J||"mapbox";for(var Pe=0;Pe<ge;Pe++)this.data[this._idx(-1,Pe)]=this.data[this._idx(0,Pe)],this.data[this._idx(ge,Pe)]=this.data[this._idx(ge-1,Pe)],this.data[this._idx(Pe,-1)]=this.data[this._idx(Pe,0)],this.data[this._idx(Pe,ge)]=this.data[this._idx(Pe,ge-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ge,-1)]=this.data[this._idx(ge-1,0)],this.data[this._idx(-1,ge)]=this.data[this._idx(0,ge-1)],this.data[this._idx(ge,ge)]=this.data[this._idx(ge-1,ge-1)]};Xu.prototype.get=function(C,z){var J=new Uint8Array(this.data.buffer),ge=4*this._idx(C,z);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(J[ge],J[ge+1],J[ge+2])},Xu.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Xu.prototype._idx=function(C,z){if(C<-1||C>=this.dim+1||z<-1||z>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(z+1)*this.stride+(C+1)},Xu.prototype._unpackMapbox=function(C,z,J){return(256*C*256+256*z+J)/10-1e4},Xu.prototype._unpackTerrarium=function(C,z,J){return 256*C+z+J/256-32768},Xu.prototype.getPixels=function(){return new Ha({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Xu.prototype.backfillBorder=function(C,z,J){if(this.dim!==C.dim)throw new Error("dem dimension mismatch");var ge=z*this.dim,Pe=z*this.dim+this.dim,je=J*this.dim,Ye=J*this.dim+this.dim;switch(z){case-1:ge=Pe-1;break;case 1:Pe=ge+1}switch(J){case-1:je=Ye-1;break;case 1:Ye=je+1}for(var at=-z*this.dim,mt=-J*this.dim,Ct=je;Ct<Ye;Ct++)for(var Lt=ge;Lt<Pe;Lt++)this.data[this._idx(Lt,Ct)]=C.data[this._idx(Lt+at,Ct+mt)]},Xr("DEMData",Xu);var yf=function(C){this._stringToNumber={},this._numberToString=[];for(var z=0;z<C.length;z++){var J=C[z];this._stringToNumber[J]=z,this._numberToString[z]=J}};yf.prototype.encode=function(C){return this._stringToNumber[C]},yf.prototype.decode=function(C){return this._numberToString[C]};var xf=function(C,z,J,ge,Pe){this.type="Feature",this._vectorTileFeature=C,C._z=z,C._x=J,C._y=ge,this.properties=C.properties,this.id=Pe},vv={geometry:{configurable:!0}};vv.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},vv.geometry.set=function(C){this._geometry=C},xf.prototype.toJSON=function(){var C={geometry:this.geometry};for(var z in this)"_geometry"!==z&&"_vectorTileFeature"!==z&&(C[z]=this[z]);return C},Object.defineProperties(xf.prototype,vv);var gh=function(){this.state={},this.stateChanges={},this.deletedStates={}};gh.prototype.updateState=function(C,z,J){var ge=String(z);if(this.stateChanges[C]=this.stateChanges[C]||{},this.stateChanges[C][ge]=this.stateChanges[C][ge]||{},f(this.stateChanges[C][ge],J),null===this.deletedStates[C])for(var Pe in this.deletedStates[C]={},this.state[C])Pe!==ge&&(this.deletedStates[C][Pe]=null);else if(this.deletedStates[C]&&null===this.deletedStates[C][ge])for(var je in this.deletedStates[C][ge]={},this.state[C][ge])J[je]||(this.deletedStates[C][ge][je]=null);else for(var Ye in J)this.deletedStates[C]&&this.deletedStates[C][ge]&&null===this.deletedStates[C][ge][Ye]&&delete this.deletedStates[C][ge][Ye]},gh.prototype.removeFeatureState=function(C,z,J){if(null!==this.deletedStates[C]){var ge=String(z);if(this.deletedStates[C]=this.deletedStates[C]||{},J&&void 0!==z)null!==this.deletedStates[C][ge]&&(this.deletedStates[C][ge]=this.deletedStates[C][ge]||{},this.deletedStates[C][ge][J]=null);else if(void 0!==z)if(this.stateChanges[C]&&this.stateChanges[C][ge])for(J in this.deletedStates[C][ge]={},this.stateChanges[C][ge])this.deletedStates[C][ge][J]=null;else this.deletedStates[C][ge]=null;else this.deletedStates[C]=null}},gh.prototype.getState=function(C,z){var J=String(z),je=f({},(this.state[C]||{})[J],(this.stateChanges[C]||{})[J]);if(null===this.deletedStates[C])return{};if(this.deletedStates[C]){var Ye=this.deletedStates[C][z];if(null===Ye)return{};for(var at in Ye)delete je[at]}return je},gh.prototype.initializeTileState=function(C,z){C.setFeatureState(this.state,z)},gh.prototype.coalesceChanges=function(C,z){var J={};for(var ge in this.stateChanges){this.state[ge]=this.state[ge]||{};var Pe={};for(var je in this.stateChanges[ge])this.state[ge][je]||(this.state[ge][je]={}),f(this.state[ge][je],this.stateChanges[ge][je]),Pe[je]=this.state[ge][je];J[ge]=Pe}for(var Ye in this.deletedStates){this.state[Ye]=this.state[Ye]||{};var at={};if(null===this.deletedStates[Ye])for(var mt in this.state[Ye])at[mt]={},this.state[Ye][mt]={};else for(var Ct in this.deletedStates[Ye]){if(null===this.deletedStates[Ye][Ct])this.state[Ye][Ct]={};else for(var Lt=0,Gt=Object.keys(this.deletedStates[Ye][Ct]);Lt<Gt.length;Lt+=1)delete this.state[Ye][Ct][Gt[Lt]];at[Ct]=this.state[Ye][Ct]}J[Ye]=J[Ye]||{},f(J[Ye],at)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(J).length)for(var Yt in C)C[Yt].setFeatureState(J,z)};var ou=function(C,z){this.tileID=C,this.x=C.canonical.x,this.y=C.canonical.y,this.z=C.canonical.z,this.grid=new ga(Fi,16,0),this.grid3D=new ga(Fi,16,0),this.featureIndexArray=new tn,this.promoteId=z};function yv(C,z,J,ge,Pe){return _(C,function(je,Ye){var at=z instanceof ra?z.get(Ye):null;return at&&at.evaluate?at.evaluate(J,ge,Pe):at})}function xv(C){for(var z=1/0,J=1/0,ge=-1/0,Pe=-1/0,je=0,Ye=C;je<Ye.length;je+=1){var at=Ye[je];z=Math.min(z,at.x),J=Math.min(J,at.y),ge=Math.max(ge,at.x),Pe=Math.max(Pe,at.y)}return{minX:z,minY:J,maxX:ge,maxY:Pe}}function ax(C,z){return z-C}ou.prototype.insert=function(C,z,J,ge,Pe,je){var Ye=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(J,ge,Pe);for(var at=je?this.grid3D:this.grid,mt=0;mt<z.length;mt++){for(var Ct=z[mt],Lt=[1/0,1/0,-1/0,-1/0],Gt=0;Gt<Ct.length;Gt++){var Jt=Ct[Gt];Lt[0]=Math.min(Lt[0],Jt.x),Lt[1]=Math.min(Lt[1],Jt.y),Lt[2]=Math.max(Lt[2],Jt.x),Lt[3]=Math.max(Lt[3],Jt.y)}Lt[0]<Fi&&Lt[1]<Fi&&Lt[2]>=0&&Lt[3]>=0&&at.insert(Ye,Lt[0],Lt[1],Lt[2],Lt[3])}},ou.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new af.VectorTile(new pp(this.rawTileData)).layers,this.sourceLayerCoder=new yf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ou.prototype.query=function(C,z,J,ge){var Pe=this;this.loadVTLayers();for(var je=C.params||{},Ye=Fi/C.tileSize/C.scale,at=fc(je.filter),mt=C.queryGeometry,Ct=C.queryPadding*Ye,Lt=xv(mt),Gt=this.grid.query(Lt.minX-Ct,Lt.minY-Ct,Lt.maxX+Ct,Lt.maxY+Ct),Jt=xv(C.cameraQueryGeometry),Yt=0,mn=this.grid3D.query(Jt.minX-Ct,Jt.minY-Ct,Jt.maxX+Ct,Jt.maxY+Ct,function(ir,ur,yr,Fr){return function(Er,Gr,Kr,yi,ei){for(var mi=0,ai=Er;mi<ai.length;mi+=1){var Yr=ai[mi];if(Gr<=Yr.x&&Kr<=Yr.y&&yi>=Yr.x&&ei>=Yr.y)return!0}var Ni=[new i(Gr,Kr),new i(Gr,ei),new i(yi,ei),new i(yi,Kr)];if(Er.length>2)for(var bi=0,vo=Ni;bi<vo.length;bi+=1)if(wu(Er,vo[bi]))return!0;for(var pi=0;pi<Er.length-1;pi++)if(Yd(Er[pi],Er[pi+1],Ni))return!0;return!1}(C.cameraQueryGeometry,ir-Ct,ur-Ct,yr+Ct,Fr+Ct)});Yt<mn.length;Yt+=1)Gt.push(mn[Yt]);Gt.sort(ax);for(var Bn,jn={},Yn=function(ir){var ur=Gt[ir];if(ur!==Bn){Bn=ur;var yr=Pe.featureIndexArray.get(ur),Fr=null;Pe.loadMatchingFeature(jn,yr.bucketIndex,yr.sourceLayerIndex,yr.featureIndex,at,je.layers,je.availableImages,z,J,ge,function(Er,Gr,Kr){return Fr||(Fr=qs(Er)),Gr.queryIntersectsFeature(mt,Er,Kr,Fr,Pe.z,C.transform,Ye,C.pixelPosMatrix)})}},$n=0;$n<Gt.length;$n++)Yn($n);return jn},ou.prototype.loadMatchingFeature=function(C,z,J,ge,Pe,je,Ye,at,mt,Ct,Lt){var Gt=this.bucketLayerIDs[z];if(!je||function(Fr,Er){for(var Gr=0;Gr<Fr.length;Gr++)if(Er.indexOf(Fr[Gr])>=0)return!0;return!1}(je,Gt)){var Jt=this.sourceLayerCoder.decode(J),Yt=this.vtLayers[Jt].feature(ge);if(Pe.filter(new Wi(this.tileID.overscaledZ),Yt))for(var mn=this.getId(Yt,Jt),vn=0;vn<Gt.length;vn++){var Bn=Gt[vn];if(!(je&&je.indexOf(Bn)<0)){var jn=at[Bn];if(jn){var Yn={};void 0!==mn&&Ct&&(Yn=Ct.getState(jn.sourceLayer||"_geojsonTileLayer",mn));var $n=mt[Bn];$n.paint=yv($n.paint,jn.paint,Yt,Yn,Ye),$n.layout=yv($n.layout,jn.layout,Yt,Yn,Ye);var ir=!Lt||Lt(Yt,jn,Yn);if(ir){var ur=new xf(Yt,this.z,this.x,this.y,mn);ur.layer=$n;var yr=C[Bn];void 0===yr&&(yr=C[Bn]=[]),yr.push({featureIndex:ge,feature:ur,intersectionZ:ir})}}}}}},ou.prototype.lookupSymbolFeatures=function(C,z,J,ge,Pe,je,Ye,at){var mt={};this.loadVTLayers();for(var Ct=fc(Pe),Lt=0,Gt=C;Lt<Gt.length;Lt+=1)this.loadMatchingFeature(mt,J,ge,Gt[Lt],Ct,je,Ye,at,z);return mt},ou.prototype.hasLayer=function(C){for(var z=0,J=this.bucketLayerIDs;z<J.length;z+=1)for(var ge=0,Pe=J[z];ge<Pe.length;ge+=1)if(C===Pe[ge])return!0;return!1},ou.prototype.getId=function(C,z){var J=C.id;return this.promoteId&&"boolean"==typeof(J=C.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[z]])&&(J=Number(J)),J},Xr("FeatureIndex",ou,{omit:["rawTileData","sourceLayerCoder"]});var qa=function(C,z){this.tileID=C,this.uid=h(),this.uses=0,this.tileSize=z,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};qa.prototype.registerFadeDuration=function(C){var z=C+this.timeAdded;z<ne.now()||this.fadeEndTime&&z<this.fadeEndTime||(this.fadeEndTime=z)},qa.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},qa.prototype.loadVectorData=function(C,z,J){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",C){for(var ge in C.featureIndex&&(this.latestFeatureIndex=C.featureIndex,C.rawTileData?(this.latestRawTileData=C.rawTileData,this.latestFeatureIndex.rawTileData=C.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=C.collisionBoxArray,this.buckets=function(Ct,Lt){var Gt={};if(!Lt)return Gt;for(var Jt=function(){var vn=mn[Yt],Bn=vn.layerIds.map(function(ir){return Lt.getLayer(ir)}).filter(Boolean);if(0!==Bn.length){vn.layers=Bn,vn.stateDependentLayerIds&&(vn.stateDependentLayers=vn.stateDependentLayerIds.map(function(ir){return Bn.filter(function(ur){return ur.id===ir})[0]}));for(var jn=0,Yn=Bn;jn<Yn.length;jn+=1)Gt[Yn[jn].id]=vn}},Yt=0,mn=Ct;Yt<mn.length;Yt+=1)Jt();return Gt}(C.buckets,z.style),this.hasSymbolBuckets=!1,this.buckets){var Pe=this.buckets[ge];if(Pe instanceof bo){if(this.hasSymbolBuckets=!0,!J)break;Pe.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var je in this.buckets){var Ye=this.buckets[je];if(Ye instanceof bo&&Ye.hasRTLText){this.hasRTLText=!0,No.isLoading()||No.isLoaded()||"deferred"!==hs()||Ua();break}}for(var at in this.queryPadding=0,this.buckets){var mt=this.buckets[at];this.queryPadding=Math.max(this.queryPadding,z.style.getLayer(at).queryRadius(mt))}C.imageAtlas&&(this.imageAtlas=C.imageAtlas),C.glyphAtlasImage&&(this.glyphAtlasImage=C.glyphAtlasImage)}else this.collisionBoxArray=new Mt},qa.prototype.unloadVectorData=function(){for(var C in this.buckets)this.buckets[C].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},qa.prototype.getBucket=function(C){return this.buckets[C.id]},qa.prototype.upload=function(C){for(var z in this.buckets){var J=this.buckets[z];J.uploadPending()&&J.upload(C)}var ge=C.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new _d(C,this.imageAtlas.image,ge.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new _d(C,this.glyphAtlasImage,ge.ALPHA),this.glyphAtlasImage=null)},qa.prototype.prepare=function(C){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(C,this.imageAtlasTexture)},qa.prototype.queryRenderedFeatures=function(C,z,J,ge,Pe,je,Ye,at,mt,Ct){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ge,cameraQueryGeometry:Pe,scale:je,tileSize:this.tileSize,pixelPosMatrix:Ct,transform:at,params:Ye,queryPadding:this.queryPadding*mt},C,z,J):{}},qa.prototype.querySourceFeatures=function(C,z){var J=this.latestFeatureIndex;if(J&&J.rawTileData){var ge=J.loadVTLayers(),Pe=z?z.sourceLayer:"",je=ge._geojsonTileLayer||ge[Pe];if(je)for(var Ye=fc(z&&z.filter),at=this.tileID.canonical,mt=at.z,Ct=at.x,Lt=at.y,Gt={z:mt,x:Ct,y:Lt},Jt=0;Jt<je.length;Jt++){var Yt=je.feature(Jt);if(Ye.filter(new Wi(this.tileID.overscaledZ),Yt)){var mn=J.getId(Yt,Pe),vn=new xf(Yt,mt,Ct,Lt,mn);vn.tile=Gt,C.push(vn)}}}},qa.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},qa.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},qa.prototype.setExpiryData=function(C){var z=this.expirationTime;if(C.cacheControl){var J=P(C.cacheControl);J["max-age"]&&(this.expirationTime=Date.now()+1e3*J["max-age"])}else C.expires&&(this.expirationTime=new Date(C.expires).getTime());if(this.expirationTime){var ge=Date.now(),Pe=!1;if(this.expirationTime>ge)Pe=!1;else if(z)if(this.expirationTime<z)Pe=!0;else{var je=this.expirationTime-z;je?this.expirationTime=ge+Math.max(je,3e4):Pe=!0}else Pe=!0;Pe?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},qa.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},qa.prototype.setFeatureState=function(C,z){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(C).length){var J=this.latestFeatureIndex.loadVTLayers();for(var ge in this.buckets)if(z.style.hasLayer(ge)){var Pe=this.buckets[ge],je=Pe.layers[0].sourceLayer||"_geojsonTileLayer",Ye=J[je],at=C[je];if(Ye&&at&&0!==Object.keys(at).length){Pe.update(at,Ye,this.imageAtlas&&this.imageAtlas.patternPositions||{});var mt=z&&z.style&&z.style.getLayer(ge);mt&&(this.queryPadding=Math.max(this.queryPadding,mt.queryRadius(Pe)))}}}},qa.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},qa.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ne.now()},qa.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},qa.prototype.setHoldDuration=function(C){this.symbolFadeHoldUntil=ne.now()+C},qa.prototype.setDependencies=function(C,z){for(var J={},ge=0,Pe=z;ge<Pe.length;ge+=1)J[Pe[ge]]=!0;this.dependencies[C]=J},qa.prototype.hasDependency=function(C,z){for(var J=0,ge=C;J<ge.length;J+=1){var je=this.dependencies[ge[J]];if(je)for(var Ye=0,at=z;Ye<at.length;Ye+=1)if(je[at[Ye]])return!0}return!1};var Eu=self.performance,vh=function(C){this._marks={start:[C.url,"start"].join("#"),end:[C.url,"end"].join("#"),measure:C.url.toString()},Eu.mark(this._marks.start)};vh.prototype.finish=function(){Eu.mark(this._marks.end);var C=Eu.getEntriesByName(this._marks.measure);return 0===C.length&&(Eu.measure(this._marks.measure,this._marks.start,this._marks.end),C=Eu.getEntriesByName(this._marks.measure),Eu.clearMarks(this._marks.start),Eu.clearMarks(this._marks.end),Eu.clearMeasures(this._marks.measure)),C},d.Actor=vf,d.AlphaImage=Tu,d.CanonicalTileID=$u,d.CollisionBoxArray=Mt,d.Color=kn,d.DEMData=Xu,d.DataConstantProperty=Sr,d.DictionaryCoder=yf,d.EXTENT=Fi,d.ErrorEvent=ft,d.EvaluationParameters=Wi,d.Event=rt,d.Evented=ht,d.FeatureIndex=ou,d.FillBucket=Zs,d.FillExtrusionBucket=Bc,d.ImageAtlas=Au,d.ImagePosition=df,d.LineBucket=ks,d.LngLat=Vo,d.LngLatBounds=Da,d.MercatorCoordinate=Yu,d.ONE_EM=Ga,d.OverscaledTileID=za,d.Point=i,d.Point$1=i,d.Properties=xa,d.Protobuf=pp,d.RGBAImage=Ha,d.RequestManager=he,d.RequestPerformance=vh,d.ResourceType=St,d.SegmentVector=Dn,d.SourceFeatureState=gh,d.StructArrayLayout1ui2=Qe,d.StructArrayLayout2f1f2i16=Le,d.StructArrayLayout2i4=uo,d.StructArrayLayout3ui6=ie,d.StructArrayLayout4i8=Wl,d.SymbolBucket=bo,d.Texture=_d,d.Tile=qa,d.Transitionable=Hs,d.Uniform1f=di,d.Uniform1i=ti,d.Uniform2f=Oi,d.Uniform3f=to,d.Uniform4f=go,d.UniformColor=Do,d.UniformMatrix4f=Bo,d.UnwrappedTileID=h0,d.ValidationError=Ge,d.WritingMode=$l,d.ZoomHistory=Ul,d.add=function(C,z,J){return C[0]=z[0]+J[0],C[1]=z[1]+J[1],C[2]=z[2]+J[2],C},d.addDynamicAttributes=u0,d.asyncAll=function(C,z,J){if(!C.length)return J(null,[]);var ge=C.length,Pe=new Array(C.length),je=null;C.forEach(function(Ye,at){z(Ye,function(mt,Ct){mt&&(je=mt),Pe[at]=Ct,0==--ge&&J(je,Pe)})})},d.bezier=a,d.bindAll=m,d.browser=ne,d.cacheEntryPossiblyAdded=function(C){++pt>Ce&&(C.getActor().send("enforceCacheSizeLimit",Oe),pt=0)},d.clamp=l,d.clearTileCache=function(C){var z=self.caches.delete(xe);C&&z.catch(C).then(function(){return C()})},d.clipLine=dh,d.clone=function(C){var z=new Zl(16);return z[0]=C[0],z[1]=C[1],z[2]=C[2],z[3]=C[3],z[4]=C[4],z[5]=C[5],z[6]=C[6],z[7]=C[7],z[8]=C[8],z[9]=C[9],z[10]=C[10],z[11]=C[11],z[12]=C[12],z[13]=C[13],z[14]=C[14],z[15]=C[15],z},d.clone$1=A,d.clone$2=function(C){var z=new Zl(3);return z[0]=C[0],z[1]=C[1],z[2]=C[2],z},d.collisionCircleLayout=jm,d.config=re,d.create=function(){var C=new Zl(16);return Zl!=Float32Array&&(C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=0,C[12]=0,C[13]=0,C[14]=0),C[0]=1,C[5]=1,C[10]=1,C[15]=1,C},d.create$1=function(){var C=new Zl(9);return Zl!=Float32Array&&(C[1]=0,C[2]=0,C[3]=0,C[5]=0,C[6]=0,C[7]=0),C[0]=1,C[4]=1,C[8]=1,C},d.create$2=function(){var C=new Zl(4);return Zl!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C},d.createCommonjsModule=S,d.createExpression=cs,d.createLayout=Po,d.createStyleLayer=function(C){return"custom"===C.type?new ix(C):new ox[C.type](C)},d.cross=function(C,z,J){var ge=z[0],Pe=z[1],je=z[2],Ye=J[0],at=J[1],mt=J[2];return C[0]=Pe*mt-je*at,C[1]=je*Ye-ge*mt,C[2]=ge*at-Pe*Ye,C},d.deepEqual=function C(z,J){if(Array.isArray(z)){if(!Array.isArray(J)||z.length!==J.length)return!1;for(var ge=0;ge<z.length;ge++)if(!C(z[ge],J[ge]))return!1;return!0}if("object"==typeof z&&null!==z&&null!==J){if("object"!=typeof J||Object.keys(z).length!==Object.keys(J).length)return!1;for(var Pe in z)if(!C(z[Pe],J[Pe]))return!1;return!0}return z===J},d.dot=function(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]},d.dot$1=function(C,z){return C[0]*z[0]+C[1]*z[1]+C[2]*z[2]+C[3]*z[3]},d.ease=o,d.emitValidationErrors=fl,d.endsWith=b,d.enforceCacheSizeLimit=function(C){qe(),me&&me.then(function(z){z.keys().then(function(J){for(var ge=0;ge<J.length-C;ge++)z.delete(J[ge])})})},d.evaluateSizeForFeature=yp,d.evaluateSizeForZoom=iv,d.evaluateVariableOffset=o0,d.evented=na,d.extend=f,d.featureFilter=fc,d.filterObject=w,d.fromRotation=function(C,z){var J=Math.sin(z),ge=Math.cos(z);return C[0]=ge,C[1]=J,C[2]=0,C[3]=-J,C[4]=ge,C[5]=0,C[6]=0,C[7]=0,C[8]=1,C},d.getAnchorAlignment=$m,d.getAnchorJustification=a0,d.getArrayBuffer=Pt,d.getImage=nt,d.getJSON=function(C,z){return Et(f(C,{type:"json"}),z)},d.getRTLTextPluginStatus=hs,d.getReferrer=vt,d.getVideo=function(C,z){var J,ge,Pe=self.document.createElement("video");Pe.muted=!0,Pe.onloadstart=function(){z(null,Pe)};for(var je=0;je<C.length;je++){var Ye=self.document.createElement("source");J=C[je],ge=void 0,(ge=self.document.createElement("a")).href=J,ge.protocol===self.document.location.protocol&&ge.host===self.document.location.host||(Pe.crossOrigin="Anonymous"),Ye.src=C[je],Pe.appendChild(Ye)}return{cancel:function(){}}},d.identity=op,d.invert=function(C,z){var J=z[0],ge=z[1],Pe=z[2],je=z[3],Ye=z[4],at=z[5],mt=z[6],Ct=z[7],Lt=z[8],Gt=z[9],Jt=z[10],Yt=z[11],mn=z[12],vn=z[13],Bn=z[14],jn=z[15],Yn=J*at-ge*Ye,$n=J*mt-Pe*Ye,ir=J*Ct-je*Ye,ur=ge*mt-Pe*at,yr=ge*Ct-je*at,Fr=Pe*Ct-je*mt,Er=Lt*vn-Gt*mn,Gr=Lt*Bn-Jt*mn,Kr=Lt*jn-Yt*mn,yi=Gt*Bn-Jt*vn,ei=Gt*jn-Yt*vn,mi=Jt*jn-Yt*Bn,ai=Yn*mi-$n*ei+ir*yi+ur*Kr-yr*Gr+Fr*Er;return ai?(C[0]=(at*mi-mt*ei+Ct*yi)*(ai=1/ai),C[1]=(Pe*ei-ge*mi-je*yi)*ai,C[2]=(vn*Fr-Bn*yr+jn*ur)*ai,C[3]=(Jt*yr-Gt*Fr-Yt*ur)*ai,C[4]=(mt*Kr-Ye*mi-Ct*Gr)*ai,C[5]=(J*mi-Pe*Kr+je*Gr)*ai,C[6]=(Bn*ir-mn*Fr-jn*$n)*ai,C[7]=(Lt*Fr-Jt*ir+Yt*$n)*ai,C[8]=(Ye*ei-at*Kr+Ct*Er)*ai,C[9]=(ge*Kr-J*ei-je*Er)*ai,C[10]=(mn*yr-vn*ir+jn*Yn)*ai,C[11]=(Gt*ir-Lt*yr-Yt*Yn)*ai,C[12]=(at*Gr-Ye*yi-mt*Er)*ai,C[13]=(J*yi-ge*Gr+Pe*Er)*ai,C[14]=(vn*$n-mn*ur-Bn*Yn)*ai,C[15]=(Lt*ur-Gt*$n+Jt*Yn)*ai,C):null},d.isChar=qr,d.isMapboxURL=ve,d.keysDifference=function(C,z){var J=[];for(var ge in C)ge in z||J.push(ge);return J},d.makeRequest=Et,d.mapObject=_,d.mercatorXfromLng=gv,d.mercatorYfromLat=mh,d.mercatorZfromAltitude=iu,d.mul=Xd,d.multiply=Sm,d.mvt=af,d.normalize=function(C,z){var J=z[0],ge=z[1],Pe=z[2],je=J*J+ge*ge+Pe*Pe;return je>0&&(je=1/Math.sqrt(je)),C[0]=z[0]*je,C[1]=z[1]*je,C[2]=z[2]*je,C},d.number=fr,d.offscreenCanvasSupported=ct,d.ortho=function(C,z,J,ge,Pe,je,Ye){var at=1/(z-J),mt=1/(ge-Pe),Ct=1/(je-Ye);return C[0]=-2*at,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=-2*mt,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=2*Ct,C[11]=0,C[12]=(z+J)*at,C[13]=(Pe+ge)*mt,C[14]=(Ye+je)*Ct,C[15]=1,C},d.parseGlyphPBF=function(C){return new pp(C).readFields(Xg,[])},d.pbf=pp,d.performSymbolLayout=function(C,z,J,ge,Pe,je,Ye){C.createArrays(),C.tilePixelRatio=Fi/(512*C.overscaling),C.compareText={},C.iconsNeedLinear=!1;var mt=C.layers[0].layout,Ct=C.layers[0]._unevaluatedLayout._values,Lt={};if("composite"===C.textSizeData.kind){var Gt=C.textSizeData,Yt=Gt.maxZoom;Lt.compositeTextSizes=[Ct["text-size"].possiblyEvaluate(new Wi(Gt.minZoom),Ye),Ct["text-size"].possiblyEvaluate(new Wi(Yt),Ye)]}if("composite"===C.iconSizeData.kind){var mn=C.iconSizeData,Bn=mn.maxZoom;Lt.compositeIconSizes=[Ct["icon-size"].possiblyEvaluate(new Wi(mn.minZoom),Ye),Ct["icon-size"].possiblyEvaluate(new Wi(Bn),Ye)]}Lt.layoutTextSize=Ct["text-size"].possiblyEvaluate(new Wi(C.zoom+1),Ye),Lt.layoutIconSize=Ct["icon-size"].possiblyEvaluate(new Wi(C.zoom+1),Ye),Lt.textMaxSize=Ct["text-size"].possiblyEvaluate(new Wi(18));for(var jn=mt.get("text-line-height")*Ga,Yn="map"===mt.get("text-rotation-alignment")&&"point"!==mt.get("symbol-placement"),$n=mt.get("text-keep-upright"),ir=mt.get("text-size"),ur=function(){var Er=Fr[yr],Gr=mt.get("text-font").evaluate(Er,{},Ye).join(","),Kr=ir.evaluate(Er,{},Ye),yi=Lt.layoutTextSize.evaluate(Er,{},Ye),ei=Lt.layoutIconSize.evaluate(Er,{},Ye),mi={horizontal:{},vertical:void 0},ai=Er.text,Yr=[0,0];if(ai){var Ni=ai.toString(),bi=mt.get("text-letter-spacing").evaluate(Er,{},Ye)*Ga,vo=function(ki){for(var $i=0,aa=ki;$i<aa.length;$i+=1)if(Xi=aa[$i].charCodeAt(0),qr.Arabic(Xi)||qr["Arabic Supplement"](Xi)||qr["Arabic Extended-A"](Xi)||qr["Arabic Presentation Forms-A"](Xi)||qr["Arabic Presentation Forms-B"](Xi))return!1;var Xi;return!0}(Ni)?bi:0,pi=mt.get("text-anchor").evaluate(Er,{},Ye),ho=mt.get("text-variable-anchor");if(!ho){var wo=mt.get("text-radial-offset").evaluate(Er,{},Ye);Yr=wo?o0(pi,[wo*Ga,r0]):mt.get("text-offset").evaluate(Er,{},Ye).map(function(ki){return ki*Ga})}var Yi=Yn?"center":mt.get("text-justify").evaluate(Er,{},Ye),Lo=mt.get("symbol-placement"),To="point"===Lo?mt.get("text-max-width").evaluate(Er,{},Ye)*Ga:0,Ia=function(){C.allowVerticalPlacement&&hl(Ni)&&(mi.vertical=uh(ai,z,J,Pe,Gr,To,jn,pi,"left",vo,Yr,$l.vertical,!0,Lo,yi,Kr))};if(!Yn&&ho){for(var Yo="auto"===Yi?ho.map(function(ki){return a0(ki)}):[Yi],Ba=!1,Ta=0;Ta<Yo.length;Ta++){var ns=Yo[Ta];if(!mi.horizontal[ns])if(Ba)mi.horizontal[ns]=mi.horizontal[0];else{var Xs=uh(ai,z,J,Pe,Gr,To,jn,"center",ns,vo,Yr,$l.horizontal,!1,Lo,yi,Kr);Xs&&(mi.horizontal[ns]=Xs,Ba=1===Xs.positionedLines.length)}}Ia()}else{"auto"===Yi&&(Yi=a0(pi));var rs=uh(ai,z,J,Pe,Gr,To,jn,pi,Yi,vo,Yr,$l.horizontal,!1,Lo,yi,Kr);rs&&(mi.horizontal[Yi]=rs),Ia(),hl(Ni)&&Yn&&$n&&(mi.vertical=uh(ai,z,J,Pe,Gr,To,jn,pi,Yi,vo,Yr,$l.vertical,!1,Lo,yi,Kr))}}var ki,$i,Xi,Wa,Ss,Ma=void 0,is=!1;if(Er.icon&&Er.icon.name){var ja=ge[Er.icon.name];ja&&(ki=Pe[Er.icon.name],$i=mt.get("icon-offset").evaluate(Er,{},Ye),Xi=$m(mt.get("icon-anchor").evaluate(Er,{},Ye)),Ma={image:ki,top:Ss=$i[1]-ki.displaySize[1]*Xi.verticalAlign,bottom:Ss+ki.displaySize[1],left:Wa=$i[0]-ki.displaySize[0]*Xi.horizontalAlign,right:Wa+ki.displaySize[0]},is=ja.sdf,void 0===C.sdfIcons?C.sdfIcons=ja.sdf:C.sdfIcons!==ja.sdf&&I("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ja.pixelRatio!==C.pixelRatio||0!==mt.get("icon-rotate").constantOr(1))&&(C.iconsNeedLinear=!0))}var Va=l0(mi.horizontal)||mi.vertical;C.iconsInText=!!Va&&Va.iconsInText,(Va||Ma)&&function(ki,$i,aa,Xi,Xo,Mo,ci,sa,Wa,La,Ss){var Vc=Mo.textMaxSize.evaluate($i,{});void 0===Vc&&(Vc=ci);var Ll,Za=ki.layers[0].layout,vc=Za.get("icon-offset").evaluate($i,{},Ss),Kl=l0(aa.horizontal),Cu=ci/24,Oc=ki.tilePixelRatio*Cu,wd=ki.tilePixelRatio*Vc/24,Tp=ki.tilePixelRatio*sa,yh=ki.tilePixelRatio*Za.get("symbol-spacing"),p0=Za.get("text-padding")*ki.tilePixelRatio,Mp=Za.get("icon-padding")*ki.tilePixelRatio,_f=Za.get("text-max-angle")/180*Math.PI,Ap="map"===Za.get("text-rotation-alignment")&&"point"!==Za.get("symbol-placement"),Du="map"===Za.get("icon-rotation-alignment")&&"point"!==Za.get("symbol-placement"),yc=Za.get("symbol-placement"),m0=yh/2,xh=Za.get("icon-text-fit");Xi&&"none"!==xh&&(ki.allowVerticalPlacement&&aa.vertical&&(Ll=rv(Xi,aa.vertical,xh,Za.get("icon-text-fit-padding"),vc,Cu)),Kl&&(Xi=rv(Xi,Kl,xh,Za.get("icon-text-fit-padding"),vc,Cu)));var bf=function(Tv,Mf){Mf.x<0||Mf.x>=Fi||Mf.y<0||Mf.y>=Fi||function(fa,Uc,Mv,Ku,Ep,Av,Cp,Iu,Ah,Af,Jl,Dp,kh,Ip,Sh,sx,lx,cx,kv,_0,xc,Lp,kd,au,Sv){var Eh,Sd,Ed,kf,Sf,Ef=fa.addToLineVertexArray(Uc,Mv),Ev=0,Cv=0,b0=0,Dv=0,Op=-1,Pp=-1,Hc={},ux=Cr(""),Ch=0,w0=0;if(void 0===Iu._unevaluatedLayout.getValue("text-radial-offset")?(Ch=(Eh=Iu.layout.get("text-offset").evaluate(xc,{},au).map(function(Df){return Df*Ga}))[0],w0=Eh[1]):(Ch=Iu.layout.get("text-radial-offset").evaluate(xc,{},au)*Ga,w0=r0),fa.allowVerticalPlacement&&Ku.vertical){var dx=Iu.layout.get("text-rotate").evaluate(xc,{},au)+90;kf=new vd(Ah,Uc,Af,Jl,Dp,Ku.vertical,kh,Ip,Sh,dx),Cp&&(Sf=new vd(Ah,Uc,Af,Jl,Dp,Cp,lx,cx,Sh,dx))}if(Ep){var Rp=Iu.layout.get("icon-rotate").evaluate(xc,{}),Iv="none"!==Iu.layout.get("icon-text-fit"),T0=Qm(Ep,Rp,kd,Iv),M0=Cp?Qm(Cp,Rp,kd,Iv):void 0;Ed=new vd(Ah,Uc,Af,Jl,Dp,Ep,lx,cx,!1,Rp),Ev=4*T0.length;var Lv=fa.iconSizeData,Ju=null;"source"===Lv.kind?(Ju=[gc*Iu.layout.get("icon-size").evaluate(xc,{})])[0]>Wu&&I(fa.layerIds[0]+': Value for "icon-size" is >= '+ph+'. Reduce your "icon-size".'):"composite"===Lv.kind&&((Ju=[gc*Lp.compositeIconSizes[0].evaluate(xc,{},au),gc*Lp.compositeIconSizes[1].evaluate(xc,{},au)])[0]>Wu||Ju[1]>Wu)&&I(fa.layerIds[0]+': Value for "icon-size" is >= '+ph+'. Reduce your "icon-size".'),fa.addSymbols(fa.icon,T0,Ju,_0,kv,xc,!1,Uc,Ef.lineStartIndex,Ef.lineLength,-1,au),Op=fa.icon.placedSymbolArray.length-1,M0&&(Cv=4*M0.length,fa.addSymbols(fa.icon,M0,Ju,_0,kv,xc,$l.vertical,Uc,Ef.lineStartIndex,Ef.lineLength,-1,au),Pp=fa.icon.placedSymbolArray.length-1)}for(var Cd in Ku.horizontal){var Cf=Ku.horizontal[Cd];if(!Sd){ux=Cr(Cf.text);var Dh=Iu.layout.get("text-rotate").evaluate(xc,{},au);Sd=new vd(Ah,Uc,Af,Jl,Dp,Cf,kh,Ip,Sh,Dh)}var Fp=1===Cf.positionedLines.length;if(b0+=s0(fa,Uc,Cf,Av,Iu,Sh,xc,sx,Ef,Ku.vertical?$l.horizontal:$l.horizontalOnly,Fp?Object.keys(Ku.horizontal):[Cd],Hc,Op,Lp,au),Fp)break}Ku.vertical&&(Dv+=s0(fa,Uc,Ku.vertical,Av,Iu,Sh,xc,sx,Ef,$l.vertical,["vertical"],Hc,Pp,Lp,au));var Np=Sd?Sd.boxStartIndex:fa.collisionBoxArray.length,Ov=Sd?Sd.boxEndIndex:fa.collisionBoxArray.length,A0=kf?kf.boxStartIndex:fa.collisionBoxArray.length,k0=kf?kf.boxEndIndex:fa.collisionBoxArray.length,S0=Ed?Ed.boxStartIndex:fa.collisionBoxArray.length,Pv=Ed?Ed.boxEndIndex:fa.collisionBoxArray.length,E0=Sf?Sf.boxStartIndex:fa.collisionBoxArray.length,fx=Sf?Sf.boxEndIndex:fa.collisionBoxArray.length,su=-1,Ih=function(Df,C0){return Df&&Df.circleDiameter?Math.max(Df.circleDiameter,C0):C0};su=Ih(Sd,su),su=Ih(kf,su),su=Ih(Ed,su);var Rv=(su=Ih(Sf,su))>-1?1:0;Rv&&(su*=Sv/Ga),fa.glyphOffsetArray.length>=bo.MAX_GLYPHS&&I("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==xc.sortKey&&fa.addToSortKeyRanges(fa.symbolInstances.length,xc.sortKey),fa.symbolInstances.emplaceBack(Uc.x,Uc.y,Hc.right>=0?Hc.right:-1,Hc.center>=0?Hc.center:-1,Hc.left>=0?Hc.left:-1,Hc.vertical||-1,Op,Pp,ux,Np,Ov,A0,k0,S0,Pv,E0,fx,Af,b0,Dv,Ev,Cv,Rv,0,kh,Ch,w0,su)}(ki,Mf,Tv,aa,Xi,Xo,Ll,ki.layers[0],ki.collisionBoxArray,$i.index,$i.sourceLayerIndex,ki.index,Oc,p0,Ap,Wa,Tp,Mp,Du,vc,$i,Mo,La,Ss,ci)};if("line"===yc)for(var _h=0,bh=dh($i.geometry,0,0,Fi,Fi);_h<bh.length;_h+=1)for(var g0=bh[_h],Td=0,wh=tx(g0,yh,_f,aa.vertical||Kl,Xi,24,wd,ki.overscaling,Fi);Td<wh.length;Td+=1){var kp=wh[Td];Kl&&xp(ki,Kl.text,m0,kp)||bf(g0,kp)}else if("line-center"===yc)for(var wf=0,Th=$i.geometry;wf<Th.length;wf+=1){var Md=Th[wf];if(Md.length>1){var Ol=ov(Md,_f,aa.vertical||Kl,Xi,24,wd);Ol&&bf(Md,Ol)}}else if("Polygon"===$i.type)for(var Ad=0,Tf=ef($i.geometry,0);Ad<Tf.length;Ad+=1){var Mh=Tf[Ad],_v=t0(Mh,16);bf(Mh[0],new gd(_v.x,_v.y,0))}else if("LineString"===$i.type)for(var v0=0,bv=$i.geometry;v0<bv.length;v0+=1){var Sp=bv[v0];bf(Sp,new gd(Sp[0].x,Sp[0].y,0))}else if("Point"===$i.type)for(var y0=0,wv=$i.geometry;y0<wv.length;y0+=1)for(var x0=0,Ii=wv[y0];x0<Ii.length;x0+=1){var fi=Ii[x0];bf([fi],new gd(fi.x,fi.y,0))}}(C,Er,mi,Ma,ge,Lt,yi,ei,Yr,is,Ye)},yr=0,Fr=C.features;yr<Fr.length;yr+=1)ur();je&&C.generateCollisionDebugBuffers()},d.perspective=function(C,z,J,ge,Pe){var je,Ye=1/Math.tan(z/2);return C[0]=Ye/J,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=Ye,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[11]=-1,C[12]=0,C[13]=0,C[15]=0,null!=Pe&&Pe!==1/0?(C[10]=(Pe+ge)*(je=1/(ge-Pe)),C[14]=2*Pe*ge*je):(C[10]=-1,C[14]=-2*ge),C},d.pick=function(C,z){for(var J={},ge=0;ge<z.length;ge++){var Pe=z[ge];Pe in C&&(J[Pe]=C[Pe])}return J},d.plugin=No,d.polygonIntersectsPolygon=Ws,d.postMapLoadEvent=Ze,d.postTurnstileEvent=De,d.potpack=Qg,d.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],d.register=Xr,d.registerForPluginStateChange=function(C){return C({pluginStatus:lo,pluginURL:eo}),na.on("pluginStateChange",C),C},d.rotate=function(C,z,J){var ge=z[0],Pe=z[1],je=z[2],Ye=z[3],at=Math.sin(J),mt=Math.cos(J);return C[0]=ge*mt+je*at,C[1]=Pe*mt+Ye*at,C[2]=ge*-at+je*mt,C[3]=Pe*-at+Ye*mt,C},d.rotateX=function(C,z,J){var ge=Math.sin(J),Pe=Math.cos(J),je=z[4],Ye=z[5],at=z[6],mt=z[7],Ct=z[8],Lt=z[9],Gt=z[10],Jt=z[11];return z!==C&&(C[0]=z[0],C[1]=z[1],C[2]=z[2],C[3]=z[3],C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15]),C[4]=je*Pe+Ct*ge,C[5]=Ye*Pe+Lt*ge,C[6]=at*Pe+Gt*ge,C[7]=mt*Pe+Jt*ge,C[8]=Ct*Pe-je*ge,C[9]=Lt*Pe-Ye*ge,C[10]=Gt*Pe-at*ge,C[11]=Jt*Pe-mt*ge,C},d.rotateZ=function(C,z,J){var ge=Math.sin(J),Pe=Math.cos(J),je=z[0],Ye=z[1],at=z[2],mt=z[3],Ct=z[4],Lt=z[5],Gt=z[6],Jt=z[7];return z!==C&&(C[8]=z[8],C[9]=z[9],C[10]=z[10],C[11]=z[11],C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15]),C[0]=je*Pe+Ct*ge,C[1]=Ye*Pe+Lt*ge,C[2]=at*Pe+Gt*ge,C[3]=mt*Pe+Jt*ge,C[4]=Ct*Pe-je*ge,C[5]=Lt*Pe-Ye*ge,C[6]=Gt*Pe-at*ge,C[7]=Jt*Pe-mt*ge,C},d.scale=function(C,z,J){var ge=J[0],Pe=J[1],je=J[2];return C[0]=z[0]*ge,C[1]=z[1]*ge,C[2]=z[2]*ge,C[3]=z[3]*ge,C[4]=z[4]*Pe,C[5]=z[5]*Pe,C[6]=z[6]*Pe,C[7]=z[7]*Pe,C[8]=z[8]*je,C[9]=z[9]*je,C[10]=z[10]*je,C[11]=z[11]*je,C[12]=z[12],C[13]=z[13],C[14]=z[14],C[15]=z[15],C},d.scale$1=function(C,z,J){return C[0]=z[0]*J,C[1]=z[1]*J,C[2]=z[2]*J,C[3]=z[3]*J,C},d.scale$2=function(C,z,J){return C[0]=z[0]*J,C[1]=z[1]*J,C[2]=z[2]*J,C},d.setCacheLimits=function(C,z){Oe=C,Ce=z},d.setRTLTextPlugin=function(C,z,J){if(void 0===J&&(J=!1),lo===Us||lo===pl||lo===ta)throw new Error("setRTLTextPlugin cannot be called multiple times.");eo=ne.resolveURL(C),lo=Us,Ec=z,co(),J||Ua()},d.sphericalToCartesian=function(C){var z=C[0],J=C[1],ge=C[2];return J+=90,J*=Math.PI/180,ge*=Math.PI/180,{x:z*Math.cos(J)*Math.sin(ge),y:z*Math.sin(J)*Math.sin(ge),z:z*Math.cos(ge)}},d.sqrLen=function(C){var z=C[0],J=C[1];return z*z+J*J},d.styleSpec=Ve,d.sub=function(C,z,J){return C[0]=z[0]-J[0],C[1]=z[1]-J[1],C[2]=z[2]-J[2],C},d.symbolSize=ex,d.transformMat3=function(C,z,J){var ge=z[0],Pe=z[1],je=z[2];return C[0]=ge*J[0]+Pe*J[3]+je*J[6],C[1]=ge*J[1]+Pe*J[4]+je*J[7],C[2]=ge*J[2]+Pe*J[5]+je*J[8],C},d.transformMat4=Kd,d.translate=function(C,z,J){var ge,Pe,je,Ye,at,mt,Ct,Lt,Gt,Jt,Yt,mn,vn=J[0],Bn=J[1],jn=J[2];return z===C?(C[12]=z[0]*vn+z[4]*Bn+z[8]*jn+z[12],C[13]=z[1]*vn+z[5]*Bn+z[9]*jn+z[13],C[14]=z[2]*vn+z[6]*Bn+z[10]*jn+z[14],C[15]=z[3]*vn+z[7]*Bn+z[11]*jn+z[15]):(Pe=z[1],je=z[2],Ye=z[3],at=z[4],mt=z[5],Ct=z[6],Lt=z[7],Gt=z[8],Jt=z[9],Yt=z[10],mn=z[11],C[0]=ge=z[0],C[1]=Pe,C[2]=je,C[3]=Ye,C[4]=at,C[5]=mt,C[6]=Ct,C[7]=Lt,C[8]=Gt,C[9]=Jt,C[10]=Yt,C[11]=mn,C[12]=ge*vn+at*Bn+Gt*jn+z[12],C[13]=Pe*vn+mt*Bn+Jt*jn+z[13],C[14]=je*vn+Ct*Bn+Yt*jn+z[14],C[15]=Ye*vn+Lt*Bn+mn*jn+z[15]),C},d.triggerPluginCompletionEvent=Cc,d.uniqueId=h,d.validateCustomStyleLayer=function(C){var z=[],J=C.id;return void 0===J&&z.push({message:"layers."+J+': missing required property "id"'}),void 0===C.render&&z.push({message:"layers."+J+': missing required method "render"'}),C.renderingMode&&"2d"!==C.renderingMode&&"3d"!==C.renderingMode&&z.push({message:"layers."+J+': property "renderingMode" must be either "2d" or "3d"'}),z},d.validateLight=ea,d.validateStyle=Ea,d.values=function(C){var z=[];for(var J in C)z.push(C[J]);return z},d.vectorTile=af,d.version=M,d.warnOnce=I,d.webpSupported=Q,d.window=self,d.wrap=c}),E(0,function(d){function S(nt){var it=typeof nt;if("number"===it||"boolean"===it||"string"===it||null==nt)return JSON.stringify(nt);if(Array.isArray(nt)){for(var Ke="[",rt=0,ft=nt;rt<ft.length;rt+=1)Ke+=S(ft[rt])+",";return Ke+"]"}for(var ht=Object.keys(nt).sort(),Ve="{",Ge=0;Ge<ht.length;Ge++)Ve+=JSON.stringify(ht[Ge])+":"+S(nt[ht[Ge]])+",";return Ve+"}"}function M(nt){for(var it="",Ke=0,rt=d.refProperties;Ke<rt.length;Ke+=1)it+="/"+S(nt[rt[Ke]]);return it}var v=function(nt){this.keyCache={},nt&&this.replace(nt)};v.prototype.replace=function(nt){this._layerConfigs={},this._layers={},this.update(nt,[])},v.prototype.update=function(nt,it){for(var Ke=this,rt=0,ft=nt;rt<ft.length;rt+=1){var ht=ft[rt];this._layerConfigs[ht.id]=ht;var Ve=this._layers[ht.id]=d.createStyleLayer(ht);Ve._featureFilter=d.featureFilter(Ve.filter),this.keyCache[ht.id]&&delete this.keyCache[ht.id]}for(var Ge=0,ut=it;Ge<ut.length;Ge+=1){var dt=ut[Ge];delete this.keyCache[dt],delete this._layerConfigs[dt],delete this._layers[dt]}this.familiesBySource={};for(var kt=0,bt=function(Wt,Zt){for(var $t={},dn=0;dn<Wt.length;dn++){var nn=Zt&&Zt[Wt[dn].id]||M(Wt[dn]);Zt&&(Zt[Wt[dn].id]=nn);var cn=$t[nn];cn||(cn=$t[nn]=[]),cn.push(Wt[dn])}var rn=[];for(var En in $t)rn.push($t[En]);return rn}(d.values(this._layerConfigs),this.keyCache);kt<bt.length;kt+=1){var At=bt[kt].map(function(Wt){return Ke._layers[Wt.id]}),xt=At[0];if("none"!==xt.visibility){var Rt=xt.source||"",_t=this.familiesBySource[Rt];_t||(_t=this.familiesBySource[Rt]={});var Tt=xt.sourceLayer||"_geojsonTileLayer",It=_t[Tt];It||(It=_t[Tt]=[]),It.push(At)}}};var u=function(nt){var it={},Ke=[];for(var rt in nt){var ft=nt[rt],ht=it[rt]={};for(var Ve in ft){var Ge=ft[+Ve];if(Ge&&0!==Ge.bitmap.width&&0!==Ge.bitmap.height){var ut={x:0,y:0,w:Ge.bitmap.width+2,h:Ge.bitmap.height+2};Ke.push(ut),ht[Ve]={rect:ut,metrics:Ge.metrics}}}}var dt=d.potpack(Ke),At=new d.AlphaImage({width:dt.w||1,height:dt.h||1});for(var xt in nt){var Rt=nt[xt];for(var _t in Rt){var Tt=Rt[+_t];if(Tt&&0!==Tt.bitmap.width&&0!==Tt.bitmap.height){var It=it[xt][_t].rect;d.AlphaImage.copy(Tt.bitmap,At,{x:0,y:0},{x:It.x+1,y:It.y+1},Tt.bitmap)}}}this.image=At,this.positions=it};d.register("GlyphAtlas",u);var i=function(nt){this.tileID=new d.OverscaledTileID(nt.tileID.overscaledZ,nt.tileID.wrap,nt.tileID.canonical.z,nt.tileID.canonical.x,nt.tileID.canonical.y),this.uid=nt.uid,this.zoom=nt.zoom,this.pixelRatio=nt.pixelRatio,this.tileSize=nt.tileSize,this.source=nt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=nt.showCollisionBoxes,this.collectResourceTiming=!!nt.collectResourceTiming,this.returnDependencies=!!nt.returnDependencies,this.promoteId=nt.promoteId};function s(nt,it,Ke){for(var rt=new d.EvaluationParameters(it),ft=0,ht=nt;ft<ht.length;ft+=1)ht[ft].recalculate(rt,Ke)}function a(nt,it){var Ke=d.getArrayBuffer(nt.request,function(rt,ft,ht,Ve){rt?it(rt):ft&&it(null,{vectorTile:new d.vectorTile.VectorTile(new d.pbf(ft)),rawData:ft,cacheControl:ht,expires:Ve})});return function(){Ke.cancel(),it()}}i.prototype.parse=function(nt,it,Ke,rt,ft){var ht=this;this.status="parsing",this.data=nt,this.collisionBoxArray=new d.CollisionBoxArray;var Ve=new d.DictionaryCoder(Object.keys(nt.layers).sort()),Ge=new d.FeatureIndex(this.tileID,this.promoteId);Ge.bucketLayerIDs=[];var ut,dt,kt,bt,At={},xt={featureIndex:Ge,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ke},Rt=it.familiesBySource[this.source];for(var _t in Rt){var Tt=nt.layers[_t];if(Tt){1===Tt.version&&d.warnOnce('Vector tile source "'+this.source+'" layer "'+_t+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=Ve.encode(_t),Wt=[],Zt=0;Zt<Tt.length;Zt++){var $t=Tt.feature(Zt),dn=Ge.getId($t,_t);Wt.push({feature:$t,id:dn,index:Zt,sourceLayerIndex:It})}for(var nn=0,cn=Rt[_t];nn<cn.length;nn+=1){var rn=cn[nn],En=rn[0];En.minzoom&&this.zoom<Math.floor(En.minzoom)||En.maxzoom&&this.zoom>=En.maxzoom||"none"!==En.visibility&&(s(rn,this.zoom,Ke),(At[En.id]=En.createBucket({index:Ge.bucketLayerIDs.length,layers:rn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source})).populate(Wt,xt,this.tileID.canonical),Ge.bucketLayerIDs.push(rn.map(function(an){return an.id})))}}}var Pn=d.mapObject(xt.glyphDependencies,function(an){return Object.keys(an).map(Number)});Object.keys(Pn).length?rt.send("getGlyphs",{uid:this.uid,stacks:Pn},function(an,yn){ut||(ut=an,dt=yn,gn.call(ht))}):dt={};var Mn=Object.keys(xt.iconDependencies);Mn.length?rt.send("getImages",{icons:Mn,source:this.source,tileID:this.tileID,type:"icons"},function(an,yn){ut||(ut=an,kt=yn,gn.call(ht))}):kt={};var en=Object.keys(xt.patternDependencies);function gn(){if(ut)return ft(ut);if(dt&&kt&&bt){var an=new u(dt),yn=new d.ImageAtlas(kt,bt);for(var kn in At){var Ln=At[kn];Ln instanceof d.SymbolBucket?(s(Ln.layers,this.zoom,Ke),d.performSymbolLayout(Ln,dt,an.positions,kt,yn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ln.hasPattern&&(Ln instanceof d.LineBucket||Ln instanceof d.FillBucket||Ln instanceof d.FillExtrusionBucket)&&(s(Ln.layers,this.zoom,Ke),Ln.addFeatures(xt,this.tileID.canonical,yn.patternPositions))}this.status="done",ft(null,{buckets:d.values(At).filter(function(Rn){return!Rn.isEmpty()}),featureIndex:Ge,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:an.image,imageAtlas:yn,glyphMap:this.returnDependencies?dt:null,iconMap:this.returnDependencies?kt:null,glyphPositions:this.returnDependencies?an.positions:null})}}en.length?rt.send("getImages",{icons:en,source:this.source,tileID:this.tileID,type:"patterns"},function(an,yn){ut||(ut=an,bt=yn,gn.call(ht))}):bt={},gn.call(this)};var o=function(nt,it,Ke,rt){this.actor=nt,this.layerIndex=it,this.availableImages=Ke,this.loadVectorData=rt||a,this.loading={},this.loaded={}};o.prototype.loadTile=function(nt,it){var Ke=this,rt=nt.uid;this.loading||(this.loading={});var ft=!!(nt&&nt.request&&nt.request.collectResourceTiming)&&new d.RequestPerformance(nt.request),ht=this.loading[rt]=new i(nt);ht.abort=this.loadVectorData(nt,function(Ve,Ge){if(delete Ke.loading[rt],Ve||!Ge)return ht.status="done",Ke.loaded[rt]=ht,it(Ve);var ut=Ge.rawData,dt={};Ge.expires&&(dt.expires=Ge.expires),Ge.cacheControl&&(dt.cacheControl=Ge.cacheControl);var kt={};if(ft){var bt=ft.finish();bt&&(kt.resourceTiming=JSON.parse(JSON.stringify(bt)))}ht.vectorTile=Ge.vectorTile,ht.parse(Ge.vectorTile,Ke.layerIndex,Ke.availableImages,Ke.actor,function(At,xt){if(At||!xt)return it(At);it(null,d.extend({rawTileData:ut.slice(0)},xt,dt,kt))}),Ke.loaded=Ke.loaded||{},Ke.loaded[rt]=ht})},o.prototype.reloadTile=function(nt,it){var Ke=this,rt=this.loaded,ft=nt.uid,ht=this;if(rt&&rt[ft]){var Ve=rt[ft];Ve.showCollisionBoxes=nt.showCollisionBoxes;var Ge=function(ut,dt){var kt=Ve.reloadCallback;kt&&(delete Ve.reloadCallback,Ve.parse(Ve.vectorTile,ht.layerIndex,Ke.availableImages,ht.actor,kt)),it(ut,dt)};"parsing"===Ve.status?Ve.reloadCallback=Ge:"done"===Ve.status&&(Ve.vectorTile?Ve.parse(Ve.vectorTile,this.layerIndex,this.availableImages,this.actor,Ge):Ge())}},o.prototype.abortTile=function(nt,it){var Ke=this.loading,rt=nt.uid;Ke&&Ke[rt]&&Ke[rt].abort&&(Ke[rt].abort(),delete Ke[rt]),it()},o.prototype.removeTile=function(nt,it){var Ke=this.loaded,rt=nt.uid;Ke&&Ke[rt]&&delete Ke[rt],it()};var l=d.window.ImageBitmap,c=function(){this.loaded={}};c.prototype.loadTile=function(nt,it){var Ke=nt.uid,rt=nt.encoding,ft=nt.rawImageData,ht=l&&ft instanceof l?this.getImageData(ft):ft,Ve=new d.DEMData(Ke,ht,rt);this.loaded=this.loaded||{},this.loaded[Ke]=Ve,it(null,Ve)},c.prototype.getImageData=function(nt){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(nt.width,nt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=nt.width,this.offscreenCanvas.height=nt.height,this.offscreenCanvasContext.drawImage(nt,0,0,nt.width,nt.height);var it=this.offscreenCanvasContext.getImageData(-1,-1,nt.width+2,nt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new d.RGBAImage({width:it.width,height:it.height},it.data)},c.prototype.removeTile=function(nt){var it=this.loaded,Ke=nt.uid;it&&it[Ke]&&delete it[Ke]};var f=function nt(it,Ke){var rt,ft=it&&it.type;if("FeatureCollection"===ft)for(rt=0;rt<it.features.length;rt++)nt(it.features[rt],Ke);else if("GeometryCollection"===ft)for(rt=0;rt<it.geometries.length;rt++)nt(it.geometries[rt],Ke);else if("Feature"===ft)nt(it.geometry,Ke);else if("Polygon"===ft)g(it.coordinates,Ke);else if("MultiPolygon"===ft)for(rt=0;rt<it.coordinates.length;rt++)g(it.coordinates[rt],Ke);return it};function g(nt,it){if(0!==nt.length){h(nt[0],it);for(var Ke=1;Ke<nt.length;Ke++)h(nt[Ke],!it)}}function h(nt,it){for(var Ke=0,rt=0,ft=nt.length,ht=ft-1;rt<ft;ht=rt++)Ke+=(nt[rt][0]-nt[ht][0])*(nt[ht][1]+nt[rt][1]);Ke>=0!=!!it&&nt.reverse()}var T=d.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(nt){this._feature=nt,this.extent=d.EXTENT,this.type=nt.type,this.properties=nt.tags,"id"in nt&&!isNaN(nt.id)&&(this.id=parseInt(nt.id,10))};x.prototype.loadGeometry=function(){if(1===this._feature.type){for(var nt=[],it=0,Ke=this._feature.geometry;it<Ke.length;it+=1){var rt=Ke[it];nt.push([new d.Point$1(rt[0],rt[1])])}return nt}for(var ft=[],ht=0,Ve=this._feature.geometry;ht<Ve.length;ht+=1){for(var Ge=[],ut=0,dt=Ve[ht];ut<dt.length;ut+=1){var kt=dt[ut];Ge.push(new d.Point$1(kt[0],kt[1]))}ft.push(Ge)}return ft},x.prototype.toGeoJSON=function(nt,it,Ke){return T.call(this,nt,it,Ke)};var m=function(nt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=d.EXTENT,this.length=nt.length,this._features=nt};m.prototype.feature=function(nt){return new x(this._features[nt])};var b=d.vectorTile.VectorTileFeature,_=w;function w(nt,it){this.options=it||{},this.features=nt,this.length=nt.length}function A(nt,it){this.id="number"==typeof nt.id?nt.id:void 0,this.type=nt.type,this.rawGeometry=1===nt.type?[nt.geometry]:nt.geometry,this.properties=nt.tags,this.extent=it||4096}w.prototype.feature=function(nt){return new A(this.features[nt],this.options.extent)},A.prototype.loadGeometry=function(){var nt=this.rawGeometry;this.geometry=[];for(var it=0;it<nt.length;it++){for(var Ke=nt[it],rt=[],ft=0;ft<Ke.length;ft++)rt.push(new d.Point$1(Ke[ft][0],Ke[ft][1]));this.geometry.push(rt)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var nt=this.geometry,it=1/0,Ke=-1/0,rt=1/0,ft=-1/0,ht=0;ht<nt.length;ht++)for(var Ve=nt[ht],Ge=0;Ge<Ve.length;Ge++){var ut=Ve[Ge];it=Math.min(it,ut.x),Ke=Math.max(Ke,ut.x),rt=Math.min(rt,ut.y),ft=Math.max(ft,ut.y)}return[it,rt,Ke,ft]},A.prototype.toGeoJSON=b.prototype.toGeoJSON;var p=O,L=_;function O(nt){var it=new d.pbf;return function(Ke,rt){for(var ft in Ke.layers)rt.writeMessage(3,P,Ke.layers[ft])}(nt,it),it.finish()}function P(nt,it){var Ke;it.writeVarintField(15,nt.version||1),it.writeStringField(1,nt.name||""),it.writeVarintField(5,nt.extent||4096);var rt={keys:[],values:[],keycache:{},valuecache:{}};for(Ke=0;Ke<nt.length;Ke++)rt.feature=nt.feature(Ke),it.writeMessage(2,F,rt);var ft=rt.keys;for(Ke=0;Ke<ft.length;Ke++)it.writeStringField(3,ft[Ke]);var ht=rt.values;for(Ke=0;Ke<ht.length;Ke++)it.writeMessage(4,G,ht[Ke])}function F(nt,it){var Ke=nt.feature;void 0!==Ke.id&&it.writeVarintField(1,Ke.id),it.writeMessage(2,j,nt),it.writeVarintField(3,Ke.type),it.writeMessage(4,q,Ke)}function j(nt,it){var Ke=nt.feature,rt=nt.keys,ft=nt.values,ht=nt.keycache,Ve=nt.valuecache;for(var Ge in Ke.properties){var ut=ht[Ge];void 0===ut&&(rt.push(Ge),ht[Ge]=ut=rt.length-1),it.writeVarint(ut);var dt=Ke.properties[Ge],kt=typeof dt;"string"!==kt&&"boolean"!==kt&&"number"!==kt&&(dt=JSON.stringify(dt));var bt=kt+":"+dt,At=Ve[bt];void 0===At&&(ft.push(dt),Ve[bt]=At=ft.length-1),it.writeVarint(At)}}function X(nt,it){return(it<<3)+(7&nt)}function N(nt){return nt<<1^nt>>31}function q(nt,it){for(var Ke=nt.loadGeometry(),rt=nt.type,ft=0,ht=0,Ve=Ke.length,Ge=0;Ge<Ve;Ge++){var ut=Ke[Ge],dt=1;1===rt&&(dt=ut.length),it.writeVarint(X(1,dt));for(var kt=3===rt?ut.length-1:ut.length,bt=0;bt<kt;bt++){1===bt&&1!==rt&&it.writeVarint(X(2,kt-1));var At=ut[bt].x-ft,xt=ut[bt].y-ht;it.writeVarint(N(At)),it.writeVarint(N(xt)),ft+=At,ht+=xt}3===rt&&it.writeVarint(X(7,1))}}function G(nt,it){var Ke=typeof nt;"string"===Ke?it.writeStringField(1,nt):"boolean"===Ke?it.writeBooleanField(7,nt):"number"===Ke&&(nt%1!=0?it.writeDoubleField(3,nt):nt<0?it.writeSVarintField(6,nt):it.writeVarintField(5,nt))}function H(nt,it,Ke,rt,ft,ht){if(!(ft-rt<=Ke)){var Ve=rt+ft>>1;Z(nt,it,Ve,rt,ft,ht%2),H(nt,it,Ke,rt,Ve-1,ht+1),H(nt,it,Ke,Ve+1,ft,ht+1)}}function Z(nt,it,Ke,rt,ft,ht){for(;ft>rt;){if(ft-rt>600){var Ve=ft-rt+1,Ge=Ke-rt+1,ut=Math.log(Ve),dt=.5*Math.exp(2*ut/3),kt=.5*Math.sqrt(ut*dt*(Ve-dt)/Ve)*(Ge-Ve/2<0?-1:1);Z(nt,it,Ke,Math.max(rt,Math.floor(Ke-Ge*dt/Ve+kt)),Math.min(ft,Math.floor(Ke+(Ve-Ge)*dt/Ve+kt)),ht)}var bt=it[2*Ke+ht],At=rt,xt=ft;for($(nt,it,rt,Ke),it[2*ft+ht]>bt&&$(nt,it,rt,ft);At<xt;){for($(nt,it,At,xt),At++,xt--;it[2*At+ht]<bt;)At++;for(;it[2*xt+ht]>bt;)xt--}it[2*rt+ht]===bt?$(nt,it,rt,xt):$(nt,it,++xt,ft),xt<=Ke&&(rt=xt+1),Ke<=xt&&(ft=xt-1)}}function $(nt,it,Ke,rt){se(nt,Ke,rt),se(it,2*Ke,2*rt),se(it,2*Ke+1,2*rt+1)}function se(nt,it,Ke){var rt=nt[it];nt[it]=nt[Ke],nt[Ke]=rt}function ne(nt,it,Ke,rt){var ft=nt-Ke,ht=it-rt;return ft*ft+ht*ht}p.fromVectorTileJs=O,p.fromGeojsonVt=function(nt,it){it=it||{};var Ke={};for(var rt in nt)Ke[rt]=new _(nt[rt].features,it),Ke[rt].name=rt,Ke[rt].version=it.version,Ke[rt].extent=it.extent;return O({layers:Ke})},p.GeoJSONWrapper=L;var re=function(nt){return nt[0]},Q=function(nt){return nt[1]},ee=function(nt,it,Ke,rt,ft){void 0===it&&(it=re),void 0===Ke&&(Ke=Q),void 0===rt&&(rt=64),void 0===ft&&(ft=Float64Array),this.nodeSize=rt,this.points=nt;for(var ht=nt.length<65536?Uint16Array:Uint32Array,Ve=this.ids=new ht(nt.length),Ge=this.coords=new ft(2*nt.length),ut=0;ut<nt.length;ut++)Ve[ut]=ut,Ge[2*ut]=it(nt[ut]),Ge[2*ut+1]=Ke(nt[ut]);H(Ve,Ge,rt,0,Ve.length-1,0)};ee.prototype.range=function(nt,it,Ke,rt){return function(ft,ht,Ve,Ge,ut,dt,kt){for(var bt,At,xt=[0,ft.length-1,0],Rt=[];xt.length;){var _t=xt.pop(),Tt=xt.pop(),It=xt.pop();if(Tt-It<=kt)for(var Wt=It;Wt<=Tt;Wt++)At=ht[2*Wt+1],(bt=ht[2*Wt])>=Ve&&bt<=ut&&At>=Ge&&At<=dt&&Rt.push(ft[Wt]);else{var Zt=Math.floor((It+Tt)/2);At=ht[2*Zt+1],(bt=ht[2*Zt])>=Ve&&bt<=ut&&At>=Ge&&At<=dt&&Rt.push(ft[Zt]);var $t=(_t+1)%2;(0===_t?Ve<=bt:Ge<=At)&&(xt.push(It),xt.push(Zt-1),xt.push($t)),(0===_t?ut>=bt:dt>=At)&&(xt.push(Zt+1),xt.push(Tt),xt.push($t))}}return Rt}(this.ids,this.coords,nt,it,Ke,rt,this.nodeSize)},ee.prototype.within=function(nt,it,Ke){return function(rt,ft,ht,Ve,Ge,ut){for(var dt=[0,rt.length-1,0],kt=[],bt=Ge*Ge;dt.length;){var At=dt.pop(),xt=dt.pop(),Rt=dt.pop();if(xt-Rt<=ut)for(var _t=Rt;_t<=xt;_t++)ne(ft[2*_t],ft[2*_t+1],ht,Ve)<=bt&&kt.push(rt[_t]);else{var Tt=Math.floor((Rt+xt)/2),It=ft[2*Tt],Wt=ft[2*Tt+1];ne(It,Wt,ht,Ve)<=bt&&kt.push(rt[Tt]);var Zt=(At+1)%2;(0===At?ht-Ge<=It:Ve-Ge<=Wt)&&(dt.push(Rt),dt.push(Tt-1),dt.push(Zt)),(0===At?ht+Ge>=It:Ve+Ge>=Wt)&&(dt.push(Tt+1),dt.push(xt),dt.push(Zt))}}return kt}(this.ids,this.coords,nt,it,Ke,this.nodeSize)};var oe={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(nt){return nt}},ce=function(nt){this.options=_e(Object.create(oe),nt),this.trees=new Array(this.options.maxZoom+1)};function ue(nt,it,Ke,rt,ft){return{x:nt,y:it,zoom:1/0,id:Ke,parentId:-1,numPoints:rt,properties:ft}}function he(nt,it){var Ke=nt.geometry.coordinates,ft=Ke[1];return{x:Ie(Ke[0]),y:Me(ft),zoom:1/0,index:it,parentId:-1}}function ve(nt){return{type:"Feature",id:nt.id,properties:ke(nt),geometry:{type:"Point",coordinates:[(rt=nt.x,360*(rt-.5)),(it=nt.y,Ke=(180-360*it)*Math.PI/180,360*Math.atan(Math.exp(Ke))/Math.PI-90)]}};var it,Ke,rt}function ke(nt){var it=nt.numPoints,Ke=it>=1e4?Math.round(it/1e3)+"k":it>=1e3?Math.round(it/100)/10+"k":it;return _e(_e({},nt.properties),{cluster:!0,cluster_id:nt.id,point_count:it,point_count_abbreviated:Ke})}function Ie(nt){return nt/360+.5}function Me(nt){var it=Math.sin(nt*Math.PI/180),Ke=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return Ke<0?0:Ke>1?1:Ke}function _e(nt,it){for(var Ke in it)nt[Ke]=it[Ke];return nt}function we(nt){return nt.x}function ze(nt){return nt.y}function Ee(nt,it,Ke,rt){for(var ft,ht=rt,Ve=Ke-it>>1,Ge=Ke-it,ut=nt[it],dt=nt[it+1],kt=nt[Ke],bt=nt[Ke+1],At=it+3;At<Ke;At+=3){var xt=Se(nt[At],nt[At+1],ut,dt,kt,bt);if(xt>ht)ft=At,ht=xt;else if(xt===ht){var Rt=Math.abs(At-Ve);Rt<Ge&&(ft=At,Ge=Rt)}}ht>rt&&(ft-it>3&&Ee(nt,it,ft,rt),nt[ft+2]=ht,Ke-ft>3&&Ee(nt,ft,Ke,rt))}function Se(nt,it,Ke,rt,ft,ht){var Ve=ft-Ke,Ge=ht-rt;if(0!==Ve||0!==Ge){var ut=((nt-Ke)*Ve+(it-rt)*Ge)/(Ve*Ve+Ge*Ge);ut>1?(Ke=ft,rt=ht):ut>0&&(Ke+=Ve*ut,rt+=Ge*ut)}return(Ve=nt-Ke)*Ve+(Ge=it-rt)*Ge}function me(nt,it,Ke,rt){var ft={id:void 0===nt?null:nt,type:it,geometry:Ke,tags:rt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ht){var Ve=ht.geometry,Ge=ht.type;if("Point"===Ge||"MultiPoint"===Ge||"LineString"===Ge)fe(ht,Ve);else if("Polygon"===Ge||"MultiLineString"===Ge)for(var ut=0;ut<Ve.length;ut++)fe(ht,Ve[ut]);else if("MultiPolygon"===Ge)for(ut=0;ut<Ve.length;ut++)for(var dt=0;dt<Ve[ut].length;dt++)fe(ht,Ve[ut][dt])}(ft),ft}function fe(nt,it){for(var Ke=0;Ke<it.length;Ke+=3)nt.minX=Math.min(nt.minX,it[Ke]),nt.minY=Math.min(nt.minY,it[Ke+1]),nt.maxX=Math.max(nt.maxX,it[Ke]),nt.maxY=Math.max(nt.maxY,it[Ke+1])}function le(nt,it,Ke,rt){if(it.geometry){var ft=it.geometry.coordinates,ht=it.geometry.type,Ve=Math.pow(Ke.tolerance/((1<<Ke.maxZoom)*Ke.extent),2),Ge=[],ut=it.id;if(Ke.promoteId?ut=it.properties[Ke.promoteId]:Ke.generateId&&(ut=rt||0),"Point"===ht)Te(ft,Ge);else if("MultiPoint"===ht)for(var dt=0;dt<ft.length;dt++)Te(ft[dt],Ge);else if("LineString"===ht)Re(ft,Ge,Ve,!1);else if("MultiLineString"===ht){if(Ke.lineMetrics){for(dt=0;dt<ft.length;dt++)Re(ft[dt],Ge=[],Ve,!1),nt.push(me(ut,"LineString",Ge,it.properties));return}De(ft,Ge,Ve,!1)}else if("Polygon"===ht)De(ft,Ge,Ve,!0);else{if("MultiPolygon"!==ht){if("GeometryCollection"===ht){for(dt=0;dt<it.geometry.geometries.length;dt++)le(nt,{id:ut,geometry:it.geometry.geometries[dt],properties:it.properties},Ke,rt);return}throw new Error("Input data is not a valid GeoJSON object.")}for(dt=0;dt<ft.length;dt++){var kt=[];De(ft[dt],kt,Ve,!0),Ge.push(kt)}}nt.push(me(ut,ht,Ge,it.properties))}}function Te(nt,it){it.push(Ue(nt[0])),it.push(Ze(nt[1])),it.push(0)}function Re(nt,it,Ke,rt){for(var ft,ht,Ve=0,Ge=0;Ge<nt.length;Ge++){var ut=Ue(nt[Ge][0]),dt=Ze(nt[Ge][1]);it.push(ut),it.push(dt),it.push(0),Ge>0&&(Ve+=rt?(ft*dt-ut*ht)/2:Math.sqrt(Math.pow(ut-ft,2)+Math.pow(dt-ht,2))),ft=ut,ht=dt}var kt=it.length-3;it[2]=1,Ee(it,0,kt,Ke),it[kt+2]=1,it.size=Math.abs(Ve),it.start=0,it.end=it.size}function De(nt,it,Ke,rt){for(var ft=0;ft<nt.length;ft++){var ht=[];Re(nt[ft],ht,Ke,rt),it.push(ht)}}function Ue(nt){return nt/360+.5}function Ze(nt){var it=Math.sin(nt*Math.PI/180),Ke=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return Ke<0?0:Ke>1?1:Ke}function xe(nt,it,Ke,rt,ft,ht,Ve,Ge){if(rt/=it,ht>=(Ke/=it)&&Ve<rt)return nt;if(Ve<Ke||ht>=rt)return null;for(var ut=[],dt=0;dt<nt.length;dt++){var kt=nt[dt],bt=kt.geometry,At=kt.type,xt=0===ft?kt.minX:kt.minY,Rt=0===ft?kt.maxX:kt.maxY;if(xt>=Ke&&Rt<rt)ut.push(kt);else if(!(Rt<Ke||xt>=rt)){var _t=[];if("Point"===At||"MultiPoint"===At)Oe(bt,_t,Ke,rt,ft);else if("LineString"===At)Ce(bt,_t,Ke,rt,ft,!1,Ge.lineMetrics);else if("MultiLineString"===At)qe(bt,_t,Ke,rt,ft,!1);else if("Polygon"===At)qe(bt,_t,Ke,rt,ft,!0);else if("MultiPolygon"===At)for(var Tt=0;Tt<bt.length;Tt++){var It=[];qe(bt[Tt],It,Ke,rt,ft,!0),It.length&&_t.push(It)}if(_t.length){if(Ge.lineMetrics&&"LineString"===At){for(Tt=0;Tt<_t.length;Tt++)ut.push(me(kt.id,At,_t[Tt],kt.tags));continue}"LineString"!==At&&"MultiLineString"!==At||(1===_t.length?(At="LineString",_t=_t[0]):At="MultiLineString"),"Point"!==At&&"MultiPoint"!==At||(At=3===_t.length?"Point":"MultiPoint"),ut.push(me(kt.id,At,_t,kt.tags))}}}return ut.length?ut:null}function Oe(nt,it,Ke,rt,ft){for(var ht=0;ht<nt.length;ht+=3){var Ve=nt[ht+ft];Ve>=Ke&&Ve<=rt&&(it.push(nt[ht]),it.push(nt[ht+1]),it.push(nt[ht+2]))}}function Ce(nt,it,Ke,rt,ft,ht,Ve){for(var Ge,ut,dt=Be(nt),kt=0===ft?Je:et,bt=nt.start,At=0;At<nt.length-3;At+=3){var xt=nt[At],Rt=nt[At+1],_t=nt[At+2],Tt=nt[At+3],It=nt[At+4],Wt=0===ft?xt:Rt,Zt=0===ft?Tt:It,$t=!1;Ve&&(Ge=Math.sqrt(Math.pow(xt-Tt,2)+Math.pow(Rt-It,2))),Wt<Ke?Zt>Ke&&(ut=kt(dt,xt,Rt,Tt,It,Ke),Ve&&(dt.start=bt+Ge*ut)):Wt>rt?Zt<rt&&(ut=kt(dt,xt,Rt,Tt,It,rt),Ve&&(dt.start=bt+Ge*ut)):He(dt,xt,Rt,_t),Zt<Ke&&Wt>=Ke&&(ut=kt(dt,xt,Rt,Tt,It,Ke),$t=!0),Zt>rt&&Wt<=rt&&(ut=kt(dt,xt,Rt,Tt,It,rt),$t=!0),!ht&&$t&&(Ve&&(dt.end=bt+Ge*ut),it.push(dt),dt=Be(nt)),Ve&&(bt+=Ge)}var dn=nt.length-3;xt=nt[dn],Rt=nt[dn+1],_t=nt[dn+2],(Wt=0===ft?xt:Rt)>=Ke&&Wt<=rt&&He(dt,xt,Rt,_t),dn=dt.length-3,ht&&dn>=3&&(dt[dn]!==dt[0]||dt[dn+1]!==dt[1])&&He(dt,dt[0],dt[1],dt[2]),dt.length&&it.push(dt)}function Be(nt){var it=[];return it.size=nt.size,it.start=nt.start,it.end=nt.end,it}function qe(nt,it,Ke,rt,ft,ht){for(var Ve=0;Ve<nt.length;Ve++)Ce(nt[Ve],it,Ke,rt,ft,ht,!1)}function He(nt,it,Ke,rt){nt.push(it),nt.push(Ke),nt.push(rt)}function Je(nt,it,Ke,rt,ft,ht){var Ve=(ht-it)/(rt-it);return nt.push(ht),nt.push(Ke+(ft-Ke)*Ve),nt.push(1),Ve}function et(nt,it,Ke,rt,ft,ht){var Ve=(ht-Ke)/(ft-Ke);return nt.push(it+(rt-it)*Ve),nt.push(ht),nt.push(1),Ve}function st(nt,it){for(var Ke=[],rt=0;rt<nt.length;rt++){var ft,ht=nt[rt],Ve=ht.type;if("Point"===Ve||"MultiPoint"===Ve||"LineString"===Ve)ft=pt(ht.geometry,it);else if("MultiLineString"===Ve||"Polygon"===Ve){ft=[];for(var Ge=0;Ge<ht.geometry.length;Ge++)ft.push(pt(ht.geometry[Ge],it))}else if("MultiPolygon"===Ve)for(ft=[],Ge=0;Ge<ht.geometry.length;Ge++){for(var ut=[],dt=0;dt<ht.geometry[Ge].length;dt++)ut.push(pt(ht.geometry[Ge][dt],it));ft.push(ut)}Ke.push(me(ht.id,Ve,ft,ht.tags))}return Ke}function pt(nt,it){var Ke=[];Ke.size=nt.size,void 0!==nt.start&&(Ke.start=nt.start,Ke.end=nt.end);for(var rt=0;rt<nt.length;rt+=3)Ke.push(nt[rt]+it,nt[rt+1],nt[rt+2]);return Ke}function ct(nt,it){if(nt.transformed)return nt;var Ke,rt,ft,ht=1<<nt.z,Ve=nt.x,Ge=nt.y;for(Ke=0;Ke<nt.features.length;Ke++){var ut=nt.features[Ke],dt=ut.geometry,kt=ut.type;if(ut.geometry=[],1===kt)for(rt=0;rt<dt.length;rt+=2)ut.geometry.push(St(dt[rt],dt[rt+1],it,ht,Ve,Ge));else for(rt=0;rt<dt.length;rt++){var bt=[];for(ft=0;ft<dt[rt].length;ft+=2)bt.push(St(dt[rt][ft],dt[rt][ft+1],it,ht,Ve,Ge));ut.geometry.push(bt)}}return nt.transformed=!0,nt}function St(nt,it,Ke,rt,ft,ht){return[Math.round(Ke*(nt*rt-ft)),Math.round(Ke*(it*rt-ht))]}function Dt(nt,it,Ke,rt,ft){for(var ht=it===ft.maxZoom?0:ft.tolerance/((1<<it)*ft.extent),Ve={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ke,y:rt,z:it,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ge=0;Ge<nt.length;Ge++){Ve.numFeatures++,vt(Ve,nt[Ge],ht,ft);var ut=nt[Ge].minX,dt=nt[Ge].minY,kt=nt[Ge].maxX,bt=nt[Ge].maxY;ut<Ve.minX&&(Ve.minX=ut),dt<Ve.minY&&(Ve.minY=dt),kt>Ve.maxX&&(Ve.maxX=kt),bt>Ve.maxY&&(Ve.maxY=bt)}return Ve}function vt(nt,it,Ke,rt){var ft=it.geometry,ht=it.type,Ve=[];if("Point"===ht||"MultiPoint"===ht)for(var Ge=0;Ge<ft.length;Ge+=3)Ve.push(ft[Ge]),Ve.push(ft[Ge+1]),nt.numPoints++,nt.numSimplified++;else if("LineString"===ht)gt(Ve,ft,nt,Ke,!1,!1);else if("MultiLineString"===ht||"Polygon"===ht)for(Ge=0;Ge<ft.length;Ge++)gt(Ve,ft[Ge],nt,Ke,"Polygon"===ht,0===Ge);else if("MultiPolygon"===ht)for(var ut=0;ut<ft.length;ut++){var dt=ft[ut];for(Ge=0;Ge<dt.length;Ge++)gt(Ve,dt[Ge],nt,Ke,!0,0===Ge)}if(Ve.length){var kt=it.tags||null;if("LineString"===ht&&rt.lineMetrics){for(var bt in kt={},it.tags)kt[bt]=it.tags[bt];kt.mapbox_clip_start=ft.start/ft.size,kt.mapbox_clip_end=ft.end/ft.size}var At={geometry:Ve,type:"Polygon"===ht||"MultiPolygon"===ht?3:"LineString"===ht||"MultiLineString"===ht?2:1,tags:kt};null!==it.id&&(At.id=it.id),nt.features.push(At)}}function gt(nt,it,Ke,rt,ft,ht){var Ve=rt*rt;if(rt>0&&it.size<(ft?Ve:rt))Ke.numPoints+=it.length/3;else{for(var Ge=[],ut=0;ut<it.length;ut+=3)(0===rt||it[ut+2]>Ve)&&(Ke.numSimplified++,Ge.push(it[ut]),Ge.push(it[ut+1])),Ke.numPoints++;ft&&function(dt,kt){for(var bt=0,At=0,xt=dt.length,Rt=xt-2;At<xt;Rt=At,At+=2)bt+=(dt[At]-dt[Rt])*(dt[At+1]+dt[Rt+1]);if(bt>0===kt)for(At=0,xt=dt.length;At<xt/2;At+=2){var _t=dt[At],Tt=dt[At+1];dt[At]=dt[xt-2-At],dt[At+1]=dt[xt-1-At],dt[xt-2-At]=_t,dt[xt-1-At]=Tt}}(Ge,ht),nt.push(Ge)}}function Et(nt,it){var Ke=(it=this.options=function(ft,ht){for(var Ve in ht)ft[Ve]=ht[Ve];return ft}(Object.create(this.options),it)).debug;if(Ke&&console.time("preprocess data"),it.maxZoom<0||it.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(it.promoteId&&it.generateId)throw new Error("promoteId and generateId cannot be used together.");var ft,ht,Ve,Ge,ut,dt,rt=function(ft,ht){var Ve=[];if("FeatureCollection"===ft.type)for(var Ge=0;Ge<ft.features.length;Ge++)le(Ve,ft.features[Ge],ht,Ge);else le(Ve,"Feature"===ft.type?ft:{geometry:ft},ht);return Ve}(nt,it);this.tiles={},this.tileCoords=[],Ke&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",it.indexMaxZoom,it.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(ft=rt,ht=it,Ve=ht.buffer/ht.extent,Ge=ft,ut=xe(ft,1,-1-Ve,Ve,0,-1,2,ht),dt=xe(ft,1,1-Ve,2+Ve,0,-1,2,ht),(ut||dt)&&(Ge=xe(ft,1,-Ve,1+Ve,0,-1,2,ht)||[],ut&&(Ge=st(ut,1).concat(Ge)),dt&&(Ge=Ge.concat(st(dt,-1)))),rt=Ge).length&&this.splitTile(rt,0,0,0),Ke&&(rt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Pt(nt,it,Ke){return 32*((1<<nt)*Ke+it)+nt}function Ot(nt,it){var Ke=nt.tileID.canonical;if(!this._geoJSONIndex)return it(null,null);var rt=this._geoJSONIndex.getTile(Ke.z,Ke.x,Ke.y);if(!rt)return it(null,null);var ft=new m(rt.features),ht=p(ft);0===ht.byteOffset&&ht.byteLength===ht.buffer.byteLength||(ht=new Uint8Array(ht)),it(null,{vectorTile:ft,rawData:ht.buffer})}ce.prototype.load=function(nt){var it=this.options,Ke=it.log,rt=it.minZoom,ft=it.maxZoom,ht=it.nodeSize;Ke&&console.time("total time");var Ve="prepare "+nt.length+" points";Ke&&console.time(Ve),this.points=nt;for(var Ge=[],ut=0;ut<nt.length;ut++)nt[ut].geometry&&Ge.push(he(nt[ut],ut));this.trees[ft+1]=new ee(Ge,we,ze,ht,Float32Array),Ke&&console.timeEnd(Ve);for(var dt=ft;dt>=rt;dt--){var kt=+Date.now();Ge=this._cluster(Ge,dt),this.trees[dt]=new ee(Ge,we,ze,ht,Float32Array),Ke&&console.log("z%d: %d clusters in %dms",dt,Ge.length,+Date.now()-kt)}return Ke&&console.timeEnd("total time"),this},ce.prototype.getClusters=function(nt,it){var Ke=((nt[0]+180)%360+360)%360-180,rt=Math.max(-90,Math.min(90,nt[1])),ft=180===nt[2]?180:((nt[2]+180)%360+360)%360-180,ht=Math.max(-90,Math.min(90,nt[3]));if(nt[2]-nt[0]>=360)Ke=-180,ft=180;else if(Ke>ft){var Ve=this.getClusters([Ke,rt,180,ht],it),Ge=this.getClusters([-180,rt,ft,ht],it);return Ve.concat(Ge)}for(var ut=this.trees[this._limitZoom(it)],dt=[],kt=0,bt=ut.range(Ie(Ke),Me(ht),Ie(ft),Me(rt));kt<bt.length;kt+=1){var xt=ut.points[bt[kt]];dt.push(xt.numPoints?ve(xt):this.points[xt.index])}return dt},ce.prototype.getChildren=function(nt){var it=this._getOriginId(nt),Ke=this._getOriginZoom(nt),rt="No cluster with the specified id.",ft=this.trees[Ke];if(!ft)throw new Error(rt);var ht=ft.points[it];if(!ht)throw new Error(rt);for(var Ve=this.options.radius/(this.options.extent*Math.pow(2,Ke-1)),Ge=[],ut=0,dt=ft.within(ht.x,ht.y,Ve);ut<dt.length;ut+=1){var bt=ft.points[dt[ut]];bt.parentId===nt&&Ge.push(bt.numPoints?ve(bt):this.points[bt.index])}if(0===Ge.length)throw new Error(rt);return Ge},ce.prototype.getLeaves=function(nt,it,Ke){var rt=[];return this._appendLeaves(rt,nt,it=it||10,Ke=Ke||0,0),rt},ce.prototype.getTile=function(nt,it,Ke){var rt=this.trees[this._limitZoom(nt)],ft=Math.pow(2,nt),ht=this.options,Ge=ht.radius/ht.extent,ut=(Ke-Ge)/ft,dt=(Ke+1+Ge)/ft,kt={features:[]};return this._addTileFeatures(rt.range((it-Ge)/ft,ut,(it+1+Ge)/ft,dt),rt.points,it,Ke,ft,kt),0===it&&this._addTileFeatures(rt.range(1-Ge/ft,ut,1,dt),rt.points,ft,Ke,ft,kt),it===ft-1&&this._addTileFeatures(rt.range(0,ut,Ge/ft,dt),rt.points,-1,Ke,ft,kt),kt.features.length?kt:null},ce.prototype.getClusterExpansionZoom=function(nt){for(var it=this._getOriginZoom(nt)-1;it<=this.options.maxZoom;){var Ke=this.getChildren(nt);if(it++,1!==Ke.length)break;nt=Ke[0].properties.cluster_id}return it},ce.prototype._appendLeaves=function(nt,it,Ke,rt,ft){for(var ht=0,Ve=this.getChildren(it);ht<Ve.length;ht+=1){var Ge=Ve[ht],ut=Ge.properties;if(ut&&ut.cluster?ft+ut.point_count<=rt?ft+=ut.point_count:ft=this._appendLeaves(nt,ut.cluster_id,Ke,rt,ft):ft<rt?ft++:nt.push(Ge),nt.length===Ke)break}return ft},ce.prototype._addTileFeatures=function(nt,it,Ke,rt,ft,ht){for(var Ve=0,Ge=nt;Ve<Ge.length;Ve+=1){var ut=it[Ge[Ve]],dt=ut.numPoints,kt={type:1,geometry:[[Math.round(this.options.extent*(ut.x*ft-Ke)),Math.round(this.options.extent*(ut.y*ft-rt))]],tags:dt?ke(ut):this.points[ut.index].properties},bt=void 0;dt?bt=ut.id:this.options.generateId?bt=ut.index:this.points[ut.index].id&&(bt=this.points[ut.index].id),void 0!==bt&&(kt.id=bt),ht.features.push(kt)}},ce.prototype._limitZoom=function(nt){return Math.max(this.options.minZoom,Math.min(nt,this.options.maxZoom+1))},ce.prototype._cluster=function(nt,it){for(var Ke=[],rt=this.options,Ve=rt.reduce,Ge=rt.radius/(rt.extent*Math.pow(2,it)),ut=0;ut<nt.length;ut++){var dt=nt[ut];if(!(dt.zoom<=it)){dt.zoom=it;for(var kt=this.trees[it+1],bt=kt.within(dt.x,dt.y,Ge),At=dt.numPoints||1,xt=dt.x*At,Rt=dt.y*At,_t=Ve&&At>1?this._map(dt,!0):null,Tt=(ut<<5)+(it+1)+this.points.length,It=0,Wt=bt;It<Wt.length;It+=1){var $t=kt.points[Wt[It]];if(!($t.zoom<=it)){$t.zoom=it;var dn=$t.numPoints||1;xt+=$t.x*dn,Rt+=$t.y*dn,At+=dn,$t.parentId=Tt,Ve&&(_t||(_t=this._map(dt,!0)),Ve(_t,this._map($t)))}}1===At?Ke.push(dt):(dt.parentId=Tt,Ke.push(ue(xt/At,Rt/At,Tt,At,_t)))}}return Ke},ce.prototype._getOriginId=function(nt){return nt-this.points.length>>5},ce.prototype._getOriginZoom=function(nt){return(nt-this.points.length)%32},ce.prototype._map=function(nt,it){if(nt.numPoints)return it?_e({},nt.properties):nt.properties;var Ke=this.points[nt.index].properties,rt=this.options.map(Ke);return it&&rt===Ke?_e({},rt):rt},Et.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Et.prototype.splitTile=function(nt,it,Ke,rt,ft,ht,Ve){for(var Ge=[nt,it,Ke,rt],ut=this.options,dt=ut.debug;Ge.length;){rt=Ge.pop(),Ke=Ge.pop(),it=Ge.pop(),nt=Ge.pop();var kt=1<<it,bt=Pt(it,Ke,rt),At=this.tiles[bt];if(!At&&(dt>1&&console.time("creation"),At=this.tiles[bt]=Dt(nt,it,Ke,rt,ut),this.tileCoords.push({z:it,x:Ke,y:rt}),dt)){dt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",it,Ke,rt,At.numFeatures,At.numPoints,At.numSimplified),console.timeEnd("creation"));var xt="z"+it;this.stats[xt]=(this.stats[xt]||0)+1,this.total++}if(At.source=nt,ft){if(it===ut.maxZoom||it===ft)continue;var Rt=1<<ft-it;if(Ke!==Math.floor(ht/Rt)||rt!==Math.floor(Ve/Rt))continue}else if(it===ut.indexMaxZoom||At.numPoints<=ut.indexMaxPoints)continue;if(At.source=null,0!==nt.length){dt>1&&console.time("clipping");var _t,Tt,It,Wt,Zt,$t,dn=.5*ut.buffer/ut.extent,nn=.5-dn,cn=.5+dn,rn=1+dn;_t=Tt=It=Wt=null,Zt=xe(nt,kt,Ke-dn,Ke+cn,0,At.minX,At.maxX,ut),$t=xe(nt,kt,Ke+nn,Ke+rn,0,At.minX,At.maxX,ut),nt=null,Zt&&(_t=xe(Zt,kt,rt-dn,rt+cn,1,At.minY,At.maxY,ut),Tt=xe(Zt,kt,rt+nn,rt+rn,1,At.minY,At.maxY,ut),Zt=null),$t&&(It=xe($t,kt,rt-dn,rt+cn,1,At.minY,At.maxY,ut),Wt=xe($t,kt,rt+nn,rt+rn,1,At.minY,At.maxY,ut),$t=null),dt>1&&console.timeEnd("clipping"),Ge.push(_t||[],it+1,2*Ke,2*rt),Ge.push(Tt||[],it+1,2*Ke,2*rt+1),Ge.push(It||[],it+1,2*Ke+1,2*rt),Ge.push(Wt||[],it+1,2*Ke+1,2*rt+1)}}},Et.prototype.getTile=function(nt,it,Ke){var rt=this.options,ft=rt.extent,ht=rt.debug;if(nt<0||nt>24)return null;var Ve=1<<nt,Ge=Pt(nt,it=(it%Ve+Ve)%Ve,Ke);if(this.tiles[Ge])return ct(this.tiles[Ge],ft);ht>1&&console.log("drilling down to z%d-%d-%d",nt,it,Ke);for(var ut,dt=nt,kt=it,bt=Ke;!ut&&dt>0;)dt--,kt=Math.floor(kt/2),bt=Math.floor(bt/2),ut=this.tiles[Pt(dt,kt,bt)];return ut&&ut.source?(ht>1&&console.log("found parent tile z%d-%d-%d",dt,kt,bt),ht>1&&console.time("drilling down"),this.splitTile(ut.source,dt,kt,bt,nt,it,Ke),ht>1&&console.timeEnd("drilling down"),this.tiles[Ge]?ct(this.tiles[Ge],ft):null):null};var Ht=function(nt){function it(Ke,rt,ft,ht){nt.call(this,Ke,rt,ft,Ot),ht&&(this.loadGeoJSON=ht)}return nt&&(it.__proto__=nt),(it.prototype=Object.create(nt&&nt.prototype)).constructor=it,it.prototype.loadData=function(Ke,rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=rt,this._pendingLoadDataParams=Ke,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},it.prototype._loadData=function(){var Ke=this;if(this._pendingCallback&&this._pendingLoadDataParams){var rt=this._pendingCallback,ft=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ht=!!(ft&&ft.request&&ft.request.collectResourceTiming)&&new d.RequestPerformance(ft.request);this.loadGeoJSON(ft,function(Ve,Ge){if(Ve||!Ge)return rt(Ve);if("object"!=typeof Ge)return rt(new Error("Input data given to '"+ft.source+"' is not a valid GeoJSON object."));f(Ge,!0);try{Ke._geoJSONIndex=ft.cluster?new ce(function(kt){var bt=kt.superclusterOptions,At=kt.clusterProperties;if(!At||!bt)return bt;for(var xt={},Rt={},_t={accumulated:null,zoom:0},Tt={properties:null},It=Object.keys(At),Wt=0,Zt=It;Wt<Zt.length;Wt+=1){var $t=Zt[Wt],dn=At[$t],nn=dn[0],rn=d.createExpression(dn[1]),En=d.createExpression("string"==typeof nn?[nn,["accumulated"],["get",$t]]:nn);xt[$t]=rn.value,Rt[$t]=En.value}return bt.map=function(Pn){Tt.properties=Pn;for(var Mn={},en=0,gn=It;en<gn.length;en+=1){var an=gn[en];Mn[an]=xt[an].evaluate(_t,Tt)}return Mn},bt.reduce=function(Pn,Mn){Tt.properties=Mn;for(var en=0,gn=It;en<gn.length;en+=1){var an=gn[en];_t.accumulated=Pn[an],Pn[an]=Rt[an].evaluate(_t,Tt)}},bt}(ft)).load(Ge.features):new Et(kt=Ge,ft.geojsonVtOptions)}catch(kt){return rt(kt)}var kt;Ke.loaded={};var ut={};if(ht){var dt=ht.finish();dt&&(ut.resourceTiming={},ut.resourceTiming[ft.source]=JSON.parse(JSON.stringify(dt)))}rt(null,ut)})}},it.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},it.prototype.reloadTile=function(Ke,rt){var ft=this.loaded;return ft&&ft[Ke.uid]?nt.prototype.reloadTile.call(this,Ke,rt):this.loadTile(Ke,rt)},it.prototype.loadGeoJSON=function(Ke,rt){if(Ke.request)d.getJSON(Ke.request,rt);else{if("string"!=typeof Ke.data)return rt(new Error("Input data given to '"+Ke.source+"' is not a valid GeoJSON object."));try{return rt(null,JSON.parse(Ke.data))}catch{return rt(new Error("Input data given to '"+Ke.source+"' is not a valid GeoJSON object."))}}},it.prototype.removeSource=function(Ke,rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),rt()},it.prototype.getClusterExpansionZoom=function(Ke,rt){try{rt(null,this._geoJSONIndex.getClusterExpansionZoom(Ke.clusterId))}catch(ft){rt(ft)}},it.prototype.getClusterChildren=function(Ke,rt){try{rt(null,this._geoJSONIndex.getChildren(Ke.clusterId))}catch(ft){rt(ft)}},it.prototype.getClusterLeaves=function(Ke,rt){try{rt(null,this._geoJSONIndex.getLeaves(Ke.clusterId,Ke.limit,Ke.offset))}catch(ft){rt(ft)}},it}(o),zt=function(nt){var it=this;this.self=nt,this.actor=new d.Actor(nt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:o,geojson:Ht},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ke,rt){if(it.workerSourceTypes[Ke])throw new Error('Worker source with name "'+Ke+'" already registered.');it.workerSourceTypes[Ke]=rt},this.self.registerRTLTextPlugin=function(Ke){if(d.plugin.isParsed())throw new Error("RTL text plugin already registered.");d.plugin.applyArabicShaping=Ke.applyArabicShaping,d.plugin.processBidirectionalText=Ke.processBidirectionalText,d.plugin.processStyledBidirectionalText=Ke.processStyledBidirectionalText}};return zt.prototype.setReferrer=function(nt,it){this.referrer=it},zt.prototype.setImages=function(nt,it,Ke){for(var rt in this.availableImages[nt]=it,this.workerSources[nt]){var ft=this.workerSources[nt][rt];for(var ht in ft)ft[ht].availableImages=it}Ke()},zt.prototype.setLayers=function(nt,it,Ke){this.getLayerIndex(nt).replace(it),Ke()},zt.prototype.updateLayers=function(nt,it,Ke){this.getLayerIndex(nt).update(it.layers,it.removedIds),Ke()},zt.prototype.loadTile=function(nt,it,Ke){this.getWorkerSource(nt,it.type,it.source).loadTile(it,Ke)},zt.prototype.loadDEMTile=function(nt,it,Ke){this.getDEMWorkerSource(nt,it.source).loadTile(it,Ke)},zt.prototype.reloadTile=function(nt,it,Ke){this.getWorkerSource(nt,it.type,it.source).reloadTile(it,Ke)},zt.prototype.abortTile=function(nt,it,Ke){this.getWorkerSource(nt,it.type,it.source).abortTile(it,Ke)},zt.prototype.removeTile=function(nt,it,Ke){this.getWorkerSource(nt,it.type,it.source).removeTile(it,Ke)},zt.prototype.removeDEMTile=function(nt,it){this.getDEMWorkerSource(nt,it.source).removeTile(it)},zt.prototype.removeSource=function(nt,it,Ke){if(this.workerSources[nt]&&this.workerSources[nt][it.type]&&this.workerSources[nt][it.type][it.source]){var rt=this.workerSources[nt][it.type][it.source];delete this.workerSources[nt][it.type][it.source],void 0!==rt.removeSource?rt.removeSource(it,Ke):Ke()}},zt.prototype.loadWorkerSource=function(nt,it,Ke){try{this.self.importScripts(it.url),Ke()}catch(rt){Ke(rt.toString())}},zt.prototype.syncRTLPluginState=function(nt,it,Ke){try{d.plugin.setState(it);var rt=d.plugin.getPluginURL();if(d.plugin.isLoaded()&&!d.plugin.isParsed()&&null!=rt){this.self.importScripts(rt);var ft=d.plugin.isParsed();Ke(ft?void 0:new Error("RTL Text Plugin failed to import scripts from "+rt),ft)}}catch(ht){Ke(ht.toString())}},zt.prototype.getAvailableImages=function(nt){var it=this.availableImages[nt];return it||(it=[]),it},zt.prototype.getLayerIndex=function(nt){var it=this.layerIndexes[nt];return it||(it=this.layerIndexes[nt]=new v),it},zt.prototype.getWorkerSource=function(nt,it,Ke){var rt=this;return this.workerSources[nt]||(this.workerSources[nt]={}),this.workerSources[nt][it]||(this.workerSources[nt][it]={}),this.workerSources[nt][it][Ke]||(this.workerSources[nt][it][Ke]=new this.workerSourceTypes[it]({send:function(ht,Ve,Ge){rt.actor.send(ht,Ve,Ge,nt)}},this.getLayerIndex(nt),this.getAvailableImages(nt))),this.workerSources[nt][it][Ke]},zt.prototype.getDEMWorkerSource=function(nt,it){return this.demWorkerSources[nt]||(this.demWorkerSources[nt]={}),this.demWorkerSources[nt][it]||(this.demWorkerSources[nt][it]=new c),this.demWorkerSources[nt][it]},zt.prototype.enforceCacheSizeLimit=function(nt,it){d.enforceCacheSizeLimit(it)},typeof WorkerGlobalScope<"u"&&void 0!==d.window&&d.window instanceof WorkerGlobalScope&&(d.window.worker=new zt(d.window)),zt}),E(0,function(d){var S=d.createCommonjsModule(function(V){function Y(ye){return!W(ye)}function W(ye){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var U,ie,de=new Blob([""],{type:"text/javascript"}),be=URL.createObjectURL(de);try{ie=new Worker(be),U=!0}catch{U=!1}return ie&&ie.terminate(),URL.revokeObjectURL(be),U}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var U=document.createElement("canvas");U.width=U.height=1;var ie=U.getContext("2d");if(!ie)return!1;var de=ie.getImageData(0,0,1,1);return de&&de.width===U.width}()?(void 0===te[Le=ye&&ye.failIfMajorPerformanceCaveat]&&(te[Le]=function(U){var be,Ae,Fe,ie=(be=U,Ae=document.createElement("canvas"),(Fe=Object.create(Y.webGLContextAttributes)).failIfMajorPerformanceCaveat=be,Ae.probablySupportsContext?Ae.probablySupportsContext("webgl",Fe)||Ae.probablySupportsContext("experimental-webgl",Fe):Ae.supportsContext?Ae.supportsContext("webgl",Fe)||Ae.supportsContext("experimental-webgl",Fe):Ae.getContext("webgl",Fe)||Ae.getContext("experimental-webgl",Fe));if(!ie)return!1;var de=ie.createShader(ie.VERTEX_SHADER);return!(!de||ie.isContextLost())&&(ie.shaderSource(de,"void main() {}"),ie.compileShader(de),!0===ie.getShaderParameter(de,ie.COMPILE_STATUS))}(Le)),te[Le]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var Le}V.exports?V.exports=Y:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Y,window.mapboxgl.notSupportedReason=W);var te={};Y.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),M={create:function(V,Y,W){var te=d.window.document.createElement(V);return void 0!==Y&&(te.className=Y),W&&W.appendChild(te),te},createNS:function(V,Y){return d.window.document.createElementNS(V,Y)}},v=d.window.document.documentElement.style;function u(V){if(!v)return V[0];for(var Y=0;Y<V.length;Y++)if(V[Y]in v)return V[Y];return V[0]}var i,s=u(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);M.disableDrag=function(){v&&s&&(i=v[s],v[s]="none")},M.enableDrag=function(){v&&s&&(v[s]=i)};var a=u(["transform","WebkitTransform"]);M.setTransform=function(V,Y){V.style[a]=Y};var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});d.window.addEventListener("test",l,l),d.window.removeEventListener("test",l,l)}catch{o=!1}M.addEventListener=function(V,Y,W,te){void 0===te&&(te={}),V.addEventListener(Y,W,"passive"in te&&o?te:te.capture)},M.removeEventListener=function(V,Y,W,te){void 0===te&&(te={}),V.removeEventListener(Y,W,"passive"in te&&o?te:te.capture)};var c=function(V){V.preventDefault(),V.stopPropagation(),d.window.removeEventListener("click",c,!0)};function f(V){var Y=V.userImage;return!!(Y&&Y.render&&Y.render())&&(V.data.replace(new Uint8Array(Y.data.buffer)),!0)}M.suppressClick=function(){d.window.addEventListener("click",c,!0),d.window.setTimeout(function(){d.window.removeEventListener("click",c,!0)},0)},M.mousePos=function(V,Y){var W=V.getBoundingClientRect();return new d.Point(Y.clientX-W.left-V.clientLeft,Y.clientY-W.top-V.clientTop)},M.touchPos=function(V,Y){for(var W=V.getBoundingClientRect(),te=[],ye=0;ye<Y.length;ye++)te.push(new d.Point(Y[ye].clientX-W.left-V.clientLeft,Y[ye].clientY-W.top-V.clientTop));return te},M.mouseButton=function(V){return void 0!==d.window.InstallTrigger&&2===V.button&&V.ctrlKey&&d.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:V.button},M.remove=function(V){V.parentNode&&V.parentNode.removeChild(V)};var g=function(V){function Y(){V.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new d.RGBAImage({width:1,height:1}),this.dirty=!0}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.isLoaded=function(){return this.loaded},Y.prototype.setLoaded=function(W){if(this.loaded!==W&&(this.loaded=W,W)){for(var te=0,ye=this.requestors;te<ye.length;te+=1){var Le=ye[te];this._notify(Le.ids,Le.callback)}this.requestors=[]}},Y.prototype.getImage=function(W){return this.images[W]},Y.prototype.addImage=function(W,te){this._validate(W,te)&&(this.images[W]=te)},Y.prototype._validate=function(W,te){var ye=!0;return this._validateStretch(te.stretchX,te.data&&te.data.width)||(this.fire(new d.ErrorEvent(new Error('Image "'+W+'" has invalid "stretchX" value'))),ye=!1),this._validateStretch(te.stretchY,te.data&&te.data.height)||(this.fire(new d.ErrorEvent(new Error('Image "'+W+'" has invalid "stretchY" value'))),ye=!1),this._validateContent(te.content,te)||(this.fire(new d.ErrorEvent(new Error('Image "'+W+'" has invalid "content" value'))),ye=!1),ye},Y.prototype._validateStretch=function(W,te){if(!W)return!0;for(var ye=0,Le=0,U=W;Le<U.length;Le+=1){var ie=U[Le];if(ie[0]<ye||ie[1]<ie[0]||te<ie[1])return!1;ye=ie[1]}return!0},Y.prototype._validateContent=function(W,te){return!(W&&(4!==W.length||W[0]<0||te.data.width<W[0]||W[1]<0||te.data.height<W[1]||W[2]<0||te.data.width<W[2]||W[3]<0||te.data.height<W[3]||W[2]<W[0]||W[3]<W[1]))},Y.prototype.updateImage=function(W,te){te.version=this.images[W].version+1,this.images[W]=te,this.updatedImages[W]=!0},Y.prototype.removeImage=function(W){var te=this.images[W];delete this.images[W],delete this.patterns[W],te.userImage&&te.userImage.onRemove&&te.userImage.onRemove()},Y.prototype.listImages=function(){return Object.keys(this.images)},Y.prototype.getImages=function(W,te){var ye=!0;if(!this.isLoaded())for(var Le=0,U=W;Le<U.length;Le+=1)this.images[U[Le]]||(ye=!1);this.isLoaded()||ye?this._notify(W,te):this.requestors.push({ids:W,callback:te})},Y.prototype._notify=function(W,te){for(var ye={},Le=0,U=W;Le<U.length;Le+=1){var ie=U[Le];this.images[ie]||this.fire(new d.Event("styleimagemissing",{id:ie}));var de=this.images[ie];de?ye[ie]={data:de.data.clone(),pixelRatio:de.pixelRatio,sdf:de.sdf,version:de.version,stretchX:de.stretchX,stretchY:de.stretchY,content:de.content,hasRenderCallback:Boolean(de.userImage&&de.userImage.render)}:d.warnOnce('Image "'+ie+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}te(null,ye)},Y.prototype.getPixelSize=function(){var W=this.atlasImage;return{width:W.width,height:W.height}},Y.prototype.getPattern=function(W){var te=this.patterns[W],ye=this.getImage(W);if(!ye)return null;if(te&&te.position.version===ye.version)return te.position;if(te)te.position.version=ye.version;else{var Le={w:ye.data.width+2,h:ye.data.height+2,x:0,y:0},U=new d.ImagePosition(Le,ye);this.patterns[W]={bin:Le,position:U}}return this._updatePatternAtlas(),this.patterns[W].position},Y.prototype.bind=function(W){var te=W.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new d.Texture(W,this.atlasImage,te.RGBA),this.atlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)},Y.prototype._updatePatternAtlas=function(){var W=[];for(var te in this.patterns)W.push(this.patterns[te].bin);var ye=d.potpack(W),Le=ye.w,U=ye.h,ie=this.atlasImage;for(var de in ie.resize({width:Le||1,height:U||1}),this.patterns){var be=this.patterns[de].bin,Ae=be.x+1,Fe=be.y+1,We=this.images[de].data,$e=We.width,Qe=We.height;d.RGBAImage.copy(We,ie,{x:0,y:0},{x:Ae,y:Fe},{width:$e,height:Qe}),d.RGBAImage.copy(We,ie,{x:0,y:Qe-1},{x:Ae,y:Fe-1},{width:$e,height:1}),d.RGBAImage.copy(We,ie,{x:0,y:0},{x:Ae,y:Fe+Qe},{width:$e,height:1}),d.RGBAImage.copy(We,ie,{x:$e-1,y:0},{x:Ae-1,y:Fe},{width:1,height:Qe}),d.RGBAImage.copy(We,ie,{x:0,y:0},{x:Ae+$e,y:Fe},{width:1,height:Qe})}this.dirty=!0},Y.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Y.prototype.dispatchRenderCallbacks=function(W){for(var te=0,ye=W;te<ye.length;te+=1){var Le=ye[te];if(!this.callbackDispatchedThisFrame[Le]){this.callbackDispatchedThisFrame[Le]=!0;var U=this.images[Le];f(U)&&this.updateImage(Le,U)}}},Y}(d.Evented),h=m,T=m,x=1e20;function m(V,Y,W,te,ye,Le){this.fontSize=V||24,this.buffer=void 0===Y?3:Y,this.cutoff=te||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=Le||"normal",this.radius=W||8;var U=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=U,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(U*U),this.gridInner=new Float64Array(U*U),this.f=new Float64Array(U),this.d=new Float64Array(U),this.z=new Float64Array(U+1),this.v=new Int16Array(U),this.middle=Math.round(U/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function b(V,Y,W,te,ye,Le,U){for(var ie=0;ie<Y;ie++){for(var de=0;de<W;de++)te[de]=V[de*Y+ie];for(_(te,ye,Le,U,W),de=0;de<W;de++)V[de*Y+ie]=ye[de]}for(de=0;de<W;de++){for(ie=0;ie<Y;ie++)te[ie]=V[de*Y+ie];for(_(te,ye,Le,U,Y),ie=0;ie<Y;ie++)V[de*Y+ie]=Math.sqrt(ye[ie])}}function _(V,Y,W,te,ye){W[0]=0,te[0]=-x,te[1]=+x;for(var Le=1,U=0;Le<ye;Le++){for(var ie=(V[Le]+Le*Le-(V[W[U]]+W[U]*W[U]))/(2*Le-2*W[U]);ie<=te[U];)U--,ie=(V[Le]+Le*Le-(V[W[U]]+W[U]*W[U]))/(2*Le-2*W[U]);W[++U]=Le,te[U]=ie,te[U+1]=+x}for(Le=0,U=0;Le<ye;Le++){for(;te[U+1]<Le;)U++;Y[Le]=(Le-W[U])*(Le-W[U])+V[W[U]]}}m.prototype.draw=function(V){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(V,this.buffer,this.middle);for(var Y=this.ctx.getImageData(0,0,this.size,this.size),W=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var ye=Y.data[4*te+3]/255;this.gridOuter[te]=1===ye?0:0===ye?x:Math.pow(Math.max(0,.5-ye),2),this.gridInner[te]=1===ye?x:0===ye?0:Math.pow(Math.max(0,ye-.5),2)}for(b(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),b(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++)W[te]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[te]-this.gridInner[te])/this.radius+this.cutoff))));return W},h.default=T;var w=function(V,Y){this.requestManager=V,this.localIdeographFontFamily=Y,this.entries={}};w.prototype.setURL=function(V){this.url=V},w.prototype.getGlyphs=function(V,Y){var W=this,te=[];for(var ye in V)for(var Le=0,U=V[ye];Le<U.length;Le+=1)te.push({stack:ye,id:U[Le]});d.asyncAll(te,function(de,be){var Ae=de.stack,Fe=de.id,We=W.entries[Ae];We||(We=W.entries[Ae]={glyphs:{},requests:{},ranges:{}});var $e=We.glyphs[Fe];if(void 0===$e){if($e=W._tinySDF(We,Ae,Fe))return We.glyphs[Fe]=$e,void be(null,{stack:Ae,id:Fe,glyph:$e});var Qe=Math.floor(Fe/256);if(256*Qe>65535)be(new Error("glyphs > 65535 not supported"));else if(We.ranges[Qe])be(null,{stack:Ae,id:Fe,glyph:$e});else{var tt=We.requests[Qe];tt||(tt=We.requests[Qe]=[],w.loadGlyphRange(Ae,Qe,W.url,W.requestManager,function(lt,yt){if(yt){for(var Mt in yt)W._doesCharSupportLocalGlyph(+Mt)||(We.glyphs[+Mt]=yt[+Mt]);We.ranges[Qe]=!0}for(var Bt=0,Ut=tt;Bt<Ut.length;Bt+=1)(0,Ut[Bt])(lt,yt);delete We.requests[Qe]})),tt.push(function(lt,yt){lt?be(lt):yt&&be(null,{stack:Ae,id:Fe,glyph:yt[Fe]||null})})}}else be(null,{stack:Ae,id:Fe,glyph:$e})},function(de,be){if(de)Y(de);else if(be){for(var Ae={},Fe=0,We=be;Fe<We.length;Fe+=1){var $e=We[Fe],Qe=$e.stack,tt=$e.id,lt=$e.glyph;(Ae[Qe]||(Ae[Qe]={}))[tt]=lt&&{id:lt.id,bitmap:lt.bitmap.clone(),metrics:lt.metrics}}Y(null,Ae)}})},w.prototype._doesCharSupportLocalGlyph=function(V){return!!this.localIdeographFontFamily&&(d.isChar["CJK Unified Ideographs"](V)||d.isChar["Hangul Syllables"](V)||d.isChar.Hiragana(V)||d.isChar.Katakana(V))},w.prototype._tinySDF=function(V,Y,W){var te=this.localIdeographFontFamily;if(te&&this._doesCharSupportLocalGlyph(W)){var ye=V.tinySDF;if(!ye){var Le="400";/bold/i.test(Y)?Le="900":/medium/i.test(Y)?Le="500":/light/i.test(Y)&&(Le="200"),ye=V.tinySDF=new w.TinySDF(24,3,8,.25,te,Le)}return{id:W,bitmap:new d.AlphaImage({width:30,height:30},ye.draw(String.fromCharCode(W))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},w.loadGlyphRange=function(V,Y,W,te,ye){var Le=256*Y,U=Le+255,ie=te.transformRequest(te.normalizeGlyphsURL(W).replace("{fontstack}",V).replace("{range}",Le+"-"+U),d.ResourceType.Glyphs);d.getArrayBuffer(ie,function(de,be){if(de)ye(de);else if(be){for(var Ae={},Fe=0,We=d.parseGlyphPBF(be);Fe<We.length;Fe+=1){var $e=We[Fe];Ae[$e.id]=$e}ye(null,Ae)}})},w.TinySDF=h;var A=function(){this.specification=d.styleSpec.light.position};A.prototype.possiblyEvaluate=function(V,Y){return d.sphericalToCartesian(V.expression.evaluate(Y))},A.prototype.interpolate=function(V,Y,W){return{x:d.number(V.x,Y.x,W),y:d.number(V.y,Y.y,W),z:d.number(V.z,Y.z,W)}};var p=new d.Properties({anchor:new d.DataConstantProperty(d.styleSpec.light.anchor),position:new A,color:new d.DataConstantProperty(d.styleSpec.light.color),intensity:new d.DataConstantProperty(d.styleSpec.light.intensity)}),k=function(V){function Y(W){V.call(this),this._transitionable=new d.Transitionable(p),this.setLight(W),this._transitioning=this._transitionable.untransitioned()}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getLight=function(){return this._transitionable.serialize()},Y.prototype.setLight=function(W,te){if(void 0===te&&(te={}),!this._validate(d.validateLight,W,te))for(var ye in W){var Le=W[ye];d.endsWith(ye,"-transition")?this._transitionable.setTransition(ye.slice(0,-11),Le):this._transitionable.setValue(ye,Le)}},Y.prototype.updateTransitions=function(W){this._transitioning=this._transitionable.transitioned(W,this._transitioning)},Y.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Y.prototype.recalculate=function(W){this.properties=this._transitioning.possiblyEvaluate(W)},Y.prototype._validate=function(W,te,ye){return(!ye||!1!==ye.validate)&&d.emitValidationErrors(this,W.call(d.validateStyle,d.extend({value:te,style:{glyphs:!0,sprite:!0},styleSpec:d.styleSpec})))},Y}(d.Evented),L=function(V,Y){this.width=V,this.height=Y,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};L.prototype.getDash=function(V,Y){var W=V.join(",")+String(Y);return this.dashEntry[W]||(this.dashEntry[W]=this.addDash(V,Y)),this.dashEntry[W]},L.prototype.getDashRanges=function(V,Y,W){var te=[],ye=V.length%2==1?-V[V.length-1]*W:0,Le=V[0]*W,U=!0;te.push({left:ye,right:Le,isDash:U,zeroLength:0===V[0]});for(var ie=V[0],de=1;de<V.length;de++){var be=V[de];ye=ie*W,Le=(ie+=be)*W,te.push({left:ye,right:Le,isDash:U=!U,zeroLength:0===be})}return te},L.prototype.addRoundDash=function(V,Y,W){for(var te=Y/2,ye=-W;ye<=W;ye++)for(var U=this.width*(this.nextRow+W+ye),ie=0,de=V[ie],be=0;be<this.width;be++){be/de.right>1&&(de=V[++ie]);var Ae=Math.abs(be-de.left),Fe=Math.abs(be-de.right),We=Math.min(Ae,Fe),$e=void 0,Qe=ye/W*(te+1);if(de.isDash){var tt=te-Math.abs(Qe);$e=Math.sqrt(We*We+tt*tt)}else $e=te-Math.sqrt(We*We+Qe*Qe);this.data[U+be]=Math.max(0,Math.min(255,$e+128))}},L.prototype.addRegularDash=function(V){for(var Y=V.length-1;Y>=0;--Y){var W=V[Y],te=V[Y+1];W.zeroLength?V.splice(Y,1):te&&te.isDash===W.isDash&&(te.left=W.left,V.splice(Y,1))}var ye=V[0],Le=V[V.length-1];ye.isDash===Le.isDash&&(ye.left=Le.left-this.width,Le.right=ye.right+this.width);for(var U=this.width*this.nextRow,ie=0,de=V[ie],be=0;be<this.width;be++){be/de.right>1&&(de=V[++ie]);var Ae=Math.abs(be-de.left),Fe=Math.abs(be-de.right),We=Math.min(Ae,Fe);this.data[U+be]=Math.max(0,Math.min(255,(de.isDash?We:-We)+128))}},L.prototype.addDash=function(V,Y){var W=Y?7:0,te=2*W+1;if(this.nextRow+te>this.height)return d.warnOnce("LineAtlas out of space"),null;for(var ye=0,Le=0;Le<V.length;Le++)ye+=V[Le];if(0!==ye){var U=this.width/ye,ie=this.getDashRanges(V,this.width,U);Y?this.addRoundDash(ie,U,W):this.addRegularDash(ie)}var de={y:(this.nextRow+W+.5)/this.height,height:2*W/this.height,width:ye};return this.nextRow+=te,this.dirty=!0,de},L.prototype.bind=function(V){var Y=V.gl;this.texture?(Y.bindTexture(Y.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,Y.texSubImage2D(Y.TEXTURE_2D,0,0,0,this.width,this.height,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))):(this.texture=Y.createTexture(),Y.bindTexture(Y.TEXTURE_2D,this.texture),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.REPEAT),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),Y.texImage2D(Y.TEXTURE_2D,0,Y.ALPHA,this.width,this.height,0,Y.ALPHA,Y.UNSIGNED_BYTE,this.data))};var O=function V(Y,W){this.workerPool=Y,this.actors=[],this.currentActor=0,this.id=d.uniqueId();for(var te=this.workerPool.acquire(this.id),ye=0;ye<te.length;ye++){var U=new V.Actor(te[ye],W,this.id);U.name="Worker "+ye,this.actors.push(U)}};function P(V,Y,W){var te=function(ye,Le){if(ye)return W(ye);if(Le){var U=d.pick(d.extend(Le,V),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Le.vector_layers&&(U.vectorLayers=Le.vector_layers,U.vectorLayerIds=U.vectorLayers.map(function(ie){return ie.id})),U.tiles=Y.canonicalizeTileset(U,V.url),W(null,U)}};return V.url?d.getJSON(Y.transformRequest(Y.normalizeSourceURL(V.url),d.ResourceType.Source),te):d.browser.frame(function(){return te(null,V)})}O.prototype.broadcast=function(V,Y,W){d.asyncAll(this.actors,function(te,ye){te.send(V,Y,ye)},W=W||function(){})},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(V){V.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=d.Actor;var F=function(V,Y,W){this.bounds=d.LngLatBounds.convert(this.validateBounds(V)),this.minzoom=Y||0,this.maxzoom=W||24};F.prototype.validateBounds=function(V){return Array.isArray(V)&&4===V.length?[Math.max(-180,V[0]),Math.max(-90,V[1]),Math.min(180,V[2]),Math.min(90,V[3])]:[-180,-90,180,90]},F.prototype.contains=function(V){var Y=Math.pow(2,V.z),W=Math.floor(d.mercatorXfromLng(this.bounds.getWest())*Y),te=Math.floor(d.mercatorYfromLat(this.bounds.getNorth())*Y),ye=Math.ceil(d.mercatorXfromLng(this.bounds.getEast())*Y),Le=Math.ceil(d.mercatorYfromLat(this.bounds.getSouth())*Y);return V.x>=W&&V.x<ye&&V.y>=te&&V.y<Le};var j=function(V){function Y(W,te,ye,Le){if(V.call(this),this.id=W,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,d.extend(this,d.pick(te,["url","scheme","tileSize","promoteId"])),this._options=d.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Le)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.load=function(){var W=this;this._loaded=!1,this.fire(new d.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(te,ye){W._tileJSONRequest=null,W._loaded=!0,te?W.fire(new d.ErrorEvent(te)):ye&&(d.extend(W,ye),ye.bounds&&(W.tileBounds=new F(ye.bounds,W.minzoom,W.maxzoom)),d.postTurnstileEvent(ye.tiles,W.map._requestManager._customAccessToken),d.postMapLoadEvent(ye.tiles,W.map._getMapId(),W.map._requestManager._skuToken,W.map._requestManager._customAccessToken),W.fire(new d.Event("data",{dataType:"source",sourceDataType:"metadata"})),W.fire(new d.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.hasTile=function(W){return!this.tileBounds||this.tileBounds.contains(W.canonical)},Y.prototype.onAdd=function(W){this.map=W,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return d.extend({},this._options)},Y.prototype.loadTile=function(W,te){var ye=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme)),Le={request:this.map._requestManager.transformRequest(ye,d.ResourceType.Tile),uid:W.uid,tileID:W.tileID,zoom:W.tileID.overscaledZ,tileSize:this.tileSize*W.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:d.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function U(ie,de){return delete W.request,W.aborted?te(null):ie&&404!==ie.status?te(ie):(de&&de.resourceTiming&&(W.resourceTiming=de.resourceTiming),this.map._refreshExpiredTiles&&de&&W.setExpiryData(de),W.loadVectorData(de,this.map.painter),d.cacheEntryPossiblyAdded(this.dispatcher),te(null),void(W.reloadCallback&&(this.loadTile(W,W.reloadCallback),W.reloadCallback=null)))}Le.request.collectResourceTiming=this._collectResourceTiming,W.actor&&"expired"!==W.state?"loading"===W.state?W.reloadCallback=te:W.request=W.actor.send("reloadTile",Le,U.bind(this)):(W.actor=this.dispatcher.getActor(),W.request=W.actor.send("loadTile",Le,U.bind(this)))},Y.prototype.abortTile=function(W){W.request&&(W.request.cancel(),delete W.request),W.actor&&W.actor.send("abortTile",{uid:W.uid,type:this.type,source:this.id},void 0)},Y.prototype.unloadTile=function(W){W.unloadVectorData(),W.actor&&W.actor.send("removeTile",{uid:W.uid,type:this.type,source:this.id},void 0)},Y.prototype.hasTransition=function(){return!1},Y}(d.Evented),X=function(V){function Y(W,te,ye,Le){V.call(this),this.id=W,this.dispatcher=ye,this.setEventedParent(Le),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=d.extend({type:"raster"},te),d.extend(this,d.pick(te,["url","scheme","tileSize"]))}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.load=function(){var W=this;this._loaded=!1,this.fire(new d.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=P(this._options,this.map._requestManager,function(te,ye){W._tileJSONRequest=null,W._loaded=!0,te?W.fire(new d.ErrorEvent(te)):ye&&(d.extend(W,ye),ye.bounds&&(W.tileBounds=new F(ye.bounds,W.minzoom,W.maxzoom)),d.postTurnstileEvent(ye.tiles),d.postMapLoadEvent(ye.tiles,W.map._getMapId(),W.map._requestManager._skuToken),W.fire(new d.Event("data",{dataType:"source",sourceDataType:"metadata"})),W.fire(new d.Event("data",{dataType:"source",sourceDataType:"content"})))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.onAdd=function(W){this.map=W,this.load()},Y.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Y.prototype.serialize=function(){return d.extend({},this._options)},Y.prototype.hasTile=function(W){return!this.tileBounds||this.tileBounds.contains(W.canonical)},Y.prototype.loadTile=function(W,te){var ye=this,Le=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);W.request=d.getImage(this.map._requestManager.transformRequest(Le,d.ResourceType.Tile),function(U,ie){if(delete W.request,W.aborted)W.state="unloaded",te(null);else if(U)W.state="errored",te(U);else if(ie){ye.map._refreshExpiredTiles&&W.setExpiryData(ie),delete ie.cacheControl,delete ie.expires;var de=ye.map.painter.context,be=de.gl;W.texture=ye.map.painter.getTileTexture(ie.width),W.texture?W.texture.update(ie,{useMipmap:!0}):(W.texture=new d.Texture(de,ie,be.RGBA,{useMipmap:!0}),W.texture.bind(be.LINEAR,be.CLAMP_TO_EDGE,be.LINEAR_MIPMAP_NEAREST),de.extTextureFilterAnisotropic&&be.texParameterf(be.TEXTURE_2D,de.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,de.extTextureFilterAnisotropicMax)),W.state="loaded",d.cacheEntryPossiblyAdded(ye.dispatcher),te(null)}})},Y.prototype.abortTile=function(W,te){W.request&&(W.request.cancel(),delete W.request),te()},Y.prototype.unloadTile=function(W,te){W.texture&&this.map.painter.saveTileTexture(W.texture),te()},Y.prototype.hasTransition=function(){return!1},Y}(d.Evented),N=function(V){function Y(W,te,ye,Le){V.call(this,W,te,ye,Le),this.type="raster-dem",this.maxzoom=22,this._options=d.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Y.prototype.loadTile=function(W,te){var ye=this.map._requestManager.normalizeTileURL(W.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Le(U,ie){U&&(W.state="errored",te(U)),ie&&(W.dem=ie,W.needsHillshadePrepare=!0,W.state="loaded",te(null))}W.request=d.getImage(this.map._requestManager.transformRequest(ye,d.ResourceType.Tile),function(U,ie){if(delete W.request,W.aborted)W.state="unloaded",te(null);else if(U)W.state="errored",te(U);else if(ie){this.map._refreshExpiredTiles&&W.setExpiryData(ie),delete ie.cacheControl,delete ie.expires;var de=d.window.ImageBitmap&&ie instanceof d.window.ImageBitmap&&d.offscreenCanvasSupported()?ie:d.browser.getImageData(ie,1),be={uid:W.uid,coord:W.tileID,source:this.id,rawImageData:de,encoding:this.encoding};W.actor&&"expired"!==W.state||(W.actor=this.dispatcher.getActor(),W.actor.send("loadDEMTile",be,Le.bind(this)))}}.bind(this)),W.neighboringTiles=this._getNeighboringTiles(W.tileID)},Y.prototype._getNeighboringTiles=function(W){var te=W.canonical,ye=Math.pow(2,te.z),Le=(te.x-1+ye)%ye,U=0===te.x?W.wrap-1:W.wrap,ie=(te.x+1+ye)%ye,de=te.x+1===ye?W.wrap+1:W.wrap,be={};return be[new d.OverscaledTileID(W.overscaledZ,U,te.z,Le,te.y).key]={backfilled:!1},be[new d.OverscaledTileID(W.overscaledZ,de,te.z,ie,te.y).key]={backfilled:!1},te.y>0&&(be[new d.OverscaledTileID(W.overscaledZ,U,te.z,Le,te.y-1).key]={backfilled:!1},be[new d.OverscaledTileID(W.overscaledZ,W.wrap,te.z,te.x,te.y-1).key]={backfilled:!1},be[new d.OverscaledTileID(W.overscaledZ,de,te.z,ie,te.y-1).key]={backfilled:!1}),te.y+1<ye&&(be[new d.OverscaledTileID(W.overscaledZ,U,te.z,Le,te.y+1).key]={backfilled:!1},be[new d.OverscaledTileID(W.overscaledZ,W.wrap,te.z,te.x,te.y+1).key]={backfilled:!1},be[new d.OverscaledTileID(W.overscaledZ,de,te.z,ie,te.y+1).key]={backfilled:!1}),be},Y.prototype.unloadTile=function(W){W.demTexture&&this.map.painter.saveTileTexture(W.demTexture),W.fbo&&(W.fbo.destroy(),delete W.fbo),W.dem&&delete W.dem,delete W.neighboringTiles,W.state="unloaded",W.actor&&W.actor.send("removeDEMTile",{uid:W.uid,source:this.id})},Y}(X),q=function(V){function Y(W,te,ye,Le){V.call(this),this.id=W,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(Le),this._data=te.data,this._options=d.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],void 0!==te.maxzoom&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var U=d.EXTENT/this.tileSize;this.workerOptions=d.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(void 0!==te.buffer?te.buffer:128)*U,tolerance:(void 0!==te.tolerance?te.tolerance:.375)*U,extent:d.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:void 0!==te.clusterMaxZoom?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:d.EXTENT,radius:(te.clusterRadius||50)*U,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties},te.workerOptions)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.load=function(){var W=this;this.fire(new d.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(te){if(te)W.fire(new d.ErrorEvent(te));else{var ye={dataType:"source",sourceDataType:"metadata"};W._collectResourceTiming&&W._resourceTiming&&W._resourceTiming.length>0&&(ye.resourceTiming=W._resourceTiming,W._resourceTiming=[]),W.fire(new d.Event("data",ye))}})},Y.prototype.onAdd=function(W){this.map=W,this.load()},Y.prototype.setData=function(W){var te=this;return this._data=W,this.fire(new d.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye)te.fire(new d.ErrorEvent(ye));else{var Le={dataType:"source",sourceDataType:"content"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(Le.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new d.Event("data",Le))}}),this},Y.prototype.getClusterExpansionZoom=function(W,te){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:W,source:this.id},te),this},Y.prototype.getClusterChildren=function(W,te){return this.actor.send("geojson.getClusterChildren",{clusterId:W,source:this.id},te),this},Y.prototype.getClusterLeaves=function(W,te,ye,Le){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:W,limit:te,offset:ye},Le),this},Y.prototype._updateWorkerData=function(W){var te=this;this._loaded=!1;var ye=d.extend({},this.workerOptions),Le=this._data;"string"==typeof Le?(ye.request=this.map._requestManager.transformRequest(d.browser.resolveURL(Le),d.ResourceType.Source),ye.request.collectResourceTiming=this._collectResourceTiming):ye.data=JSON.stringify(Le),this.actor.send(this.type+".loadData",ye,function(U,ie){te._removed||ie&&ie.abandoned||(te._loaded=!0,ie&&ie.resourceTiming&&ie.resourceTiming[te.id]&&(te._resourceTiming=ie.resourceTiming[te.id].slice(0)),te.actor.send(te.type+".coalesce",{source:ye.source},null),W(U))})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.loadTile=function(W,te){var ye=this,Le=W.actor?"reloadTile":"loadTile";W.actor=this.actor,W.request=this.actor.send(Le,{type:this.type,uid:W.uid,tileID:W.tileID,zoom:W.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:d.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(ie,de){return delete W.request,W.unloadVectorData(),W.aborted?te(null):ie?te(ie):(W.loadVectorData(de,ye.map.painter,"reloadTile"===Le),te(null))})},Y.prototype.abortTile=function(W){W.request&&(W.request.cancel(),delete W.request),W.aborted=!0},Y.prototype.unloadTile=function(W){W.unloadVectorData(),this.actor.send("removeTile",{uid:W.uid,type:this.type,source:this.id})},Y.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Y.prototype.serialize=function(){return d.extend({},this._options,{type:this.type,data:this._data})},Y.prototype.hasTransition=function(){return!1},Y}(d.Evented),G=d.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),H=function(V){function Y(W,te,ye,Le){V.call(this),this.id=W,this.dispatcher=ye,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Le),this.options=te}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.load=function(W,te){var ye=this;this._loaded=!1,this.fire(new d.Event("dataloading",{dataType:"source"})),this.url=this.options.url,d.getImage(this.map._requestManager.transformRequest(this.url,d.ResourceType.Image),function(Le,U){ye._loaded=!0,Le?ye.fire(new d.ErrorEvent(Le)):U&&(ye.image=U,W&&(ye.coordinates=W),te&&te(),ye._finishLoading())})},Y.prototype.loaded=function(){return this._loaded},Y.prototype.updateImage=function(W){var te=this;return this.image&&W.url?(this.options.url=W.url,this.load(W.coordinates,function(){te.texture=null}),this):this},Y.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new d.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Y.prototype.onAdd=function(W){this.map=W,this.load()},Y.prototype.setCoordinates=function(W){var te=this;this.coordinates=W;var ye=W.map(d.MercatorCoordinate.fromLngLat);this.tileID=function(U){for(var ie=1/0,de=1/0,be=-1/0,Ae=-1/0,Fe=0,We=U;Fe<We.length;Fe+=1){var $e=We[Fe];ie=Math.min(ie,$e.x),de=Math.min(de,$e.y),be=Math.max(be,$e.x),Ae=Math.max(Ae,$e.y)}var lt=Math.max(be-ie,Ae-de),yt=Math.max(0,Math.floor(-Math.log(lt)/Math.LN2)),Mt=Math.pow(2,yt);return new d.CanonicalTileID(yt,Math.floor((ie+be)/2*Mt),Math.floor((de+Ae)/2*Mt))}(ye),this.minzoom=this.maxzoom=this.tileID.z;var Le=ye.map(function(U){return te.tileID.getTilePoint(U)._round()});return this._boundsArray=new d.StructArrayLayout4i8,this._boundsArray.emplaceBack(Le[0].x,Le[0].y,0,0),this._boundsArray.emplaceBack(Le[1].x,Le[1].y,d.EXTENT,0),this._boundsArray.emplaceBack(Le[3].x,Le[3].y,0,d.EXTENT),this._boundsArray.emplaceBack(Le[2].x,Le[2].y,d.EXTENT,d.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new d.Event("data",{dataType:"source",sourceDataType:"content"})),this},Y.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var W=this.map.painter.context,te=W.gl;for(var ye in this.boundsBuffer||(this.boundsBuffer=W.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=d.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new d.Texture(W,this.image,te.RGBA),this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE)),this.tiles){var Le=this.tiles[ye];"loaded"!==Le.state&&(Le.state="loaded",Le.texture=this.texture)}}},Y.prototype.loadTile=function(W,te){this.tileID&&this.tileID.equals(W.tileID.canonical)?(this.tiles[String(W.tileID.wrap)]=W,W.buckets={},te(null)):(W.state="errored",te(null))},Y.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return!1},Y}(d.Evented),Z=function(V){function Y(W,te,ye,Le){V.call(this,W,te,ye,Le),this.roundZoom=!0,this.type="video",this.options=te}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.load=function(){var W=this;this._loaded=!1;var te=this.options;this.urls=[];for(var ye=0,Le=te.urls;ye<Le.length;ye+=1)this.urls.push(this.map._requestManager.transformRequest(Le[ye],d.ResourceType.Source).url);d.getVideo(this.urls,function(ie,de){W._loaded=!0,ie?W.fire(new d.ErrorEvent(ie)):de&&(W.video=de,W.video.loop=!0,W.video.addEventListener("playing",function(){W.map.triggerRepaint()}),W.map&&W.video.play(),W._finishLoading())})},Y.prototype.pause=function(){this.video&&this.video.pause()},Y.prototype.play=function(){this.video&&this.video.play()},Y.prototype.seek=function(W){if(this.video){var te=this.video.seekable;W<te.start(0)||W>te.end(0)?this.fire(new d.ErrorEvent(new d.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+te.start(0)+" and "+te.end(0)+"-second mark."))):this.video.currentTime=W}},Y.prototype.getVideo=function(){return this.video},Y.prototype.onAdd=function(W){this.map||(this.map=W,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Y.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var W=this.map.painter.context,te=W.gl;for(var ye in this.boundsBuffer||(this.boundsBuffer=W.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=d.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE),te.texSubImage2D(te.TEXTURE_2D,0,0,0,te.RGBA,te.UNSIGNED_BYTE,this.video)):(this.texture=new d.Texture(W,this.video,te.RGBA),this.texture.bind(te.LINEAR,te.CLAMP_TO_EDGE)),this.tiles){var Le=this.tiles[ye];"loaded"!==Le.state&&(Le.state="loaded",Le.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this.video&&!this.video.paused},Y}(H),$=function(V){function Y(W,te,ye,Le){V.call(this,W,te,ye,Le),te.coordinates?Array.isArray(te.coordinates)&&4===te.coordinates.length&&!te.coordinates.some(function(U){return!Array.isArray(U)||2!==U.length||U.some(function(ie){return"number"!=typeof ie})})||this.fire(new d.ErrorEvent(new d.ValidationError("sources."+W,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new d.ErrorEvent(new d.ValidationError("sources."+W,null,'missing required property "coordinates"'))),te.animate&&"boolean"!=typeof te.animate&&this.fire(new d.ErrorEvent(new d.ValidationError("sources."+W,null,'optional "animate" property must be a boolean value'))),te.canvas?"string"==typeof te.canvas||te.canvas instanceof d.window.HTMLCanvasElement||this.fire(new d.ErrorEvent(new d.ValidationError("sources."+W,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new d.ErrorEvent(new d.ValidationError("sources."+W,null,'missing required property "canvas"'))),this.options=te,this.animate=void 0===te.animate||te.animate}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof d.window.HTMLCanvasElement?this.options.canvas:d.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new d.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},Y.prototype.getCanvas=function(){return this.canvas},Y.prototype.onAdd=function(W){this.map=W,this.load(),this.canvas&&this.animate&&this.play()},Y.prototype.onRemove=function(){this.pause()},Y.prototype.prepare=function(){var W=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,W=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,W=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var te=this.map.painter.context,ye=te.gl;for(var Le in this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,G.members)),this.boundsSegments||(this.boundsSegments=d.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(W||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new d.Texture(te,this.canvas,ye.RGBA,{premultiply:!0}),this.tiles){var U=this.tiles[Le];"loaded"!==U.state&&(U.state="loaded",U.texture=this.texture)}}},Y.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Y.prototype.hasTransition=function(){return this._playing},Y.prototype._hasInvalidDimensions=function(){for(var W=0,te=[this.canvas.width,this.canvas.height];W<te.length;W+=1){var ye=te[W];if(isNaN(ye)||ye<=0)return!0}return!1},Y}(H),se={vector:j,raster:X,"raster-dem":N,geojson:q,video:Z,image:H,canvas:$};function ne(V,Y){var W=d.identity([]);return d.translate(W,W,[1,1,0]),d.scale(W,W,[.5*V.width,.5*V.height,1]),d.multiply(W,W,V.calculatePosMatrix(Y.toUnwrapped()))}function re(V,Y,W,te,ye,Le){var U=function(tt,lt,yt){if(tt)for(var Mt=0,Bt=tt;Mt<Bt.length;Mt+=1){var Ut=lt[Bt[Mt]];if(Ut&&Ut.source===yt&&"fill-extrusion"===Ut.type)return!0}else for(var jt in lt){var Xt=lt[jt];if(Xt.source===yt&&"fill-extrusion"===Xt.type)return!0}return!1}(ye&&ye.layers,Y,V.id),ie=Le.maxPitchScaleFactor(),de=V.tilesIn(te,ie,U);de.sort(Q);for(var be=[],Ae=0,Fe=de;Ae<Fe.length;Ae+=1){var We=Fe[Ae];be.push({wrappedTileID:We.tileID.wrapped().key,queryResults:We.tile.queryRenderedFeatures(Y,W,V._state,We.queryGeometry,We.cameraQueryGeometry,We.scale,ye,Le,ie,ne(V.transform,We.tileID))})}var $e=function(tt){for(var lt={},yt={},Mt=0,Bt=tt;Mt<Bt.length;Mt+=1){var Ut=Bt[Mt],jt=Ut.queryResults,Xt=Ut.wrappedTileID,Vt=yt[Xt]=yt[Xt]||{};for(var pn in jt)for(var sn=jt[pn],tn=Vt[pn]=Vt[pn]||{},Sn=lt[pn]=lt[pn]||[],Dn=0,qn=sn;Dn<qn.length;Dn+=1){var Qn=qn[Dn];tn[Qn.featureIndex]||(tn[Qn.featureIndex]=!0,Sn.push(Qn))}}return lt}(be);for(var Qe in $e)$e[Qe].forEach(function(tt){var lt=tt.feature,yt=V.getFeatureState(lt.layer["source-layer"],lt.id);lt.source=lt.layer.source,lt.layer["source-layer"]&&(lt.sourceLayer=lt.layer["source-layer"]),lt.state=yt});return $e}function Q(V,Y){var W=V.tileID,te=Y.tileID;return W.overscaledZ-te.overscaledZ||W.canonical.y-te.canonical.y||W.wrap-te.wrap||W.canonical.x-te.canonical.x}var ee=function(V,Y){this.max=V,this.onRemove=Y,this.reset()};ee.prototype.reset=function(){for(var V in this.data)for(var Y=0,W=this.data[V];Y<W.length;Y+=1){var te=W[Y];te.timeout&&clearTimeout(te.timeout),this.onRemove(te.value)}return this.data={},this.order=[],this},ee.prototype.add=function(V,Y,W){var te=this,ye=V.wrapped().key;void 0===this.data[ye]&&(this.data[ye]=[]);var Le={value:Y,timeout:void 0};if(void 0!==W&&(Le.timeout=setTimeout(function(){te.remove(V,Le)},W)),this.data[ye].push(Le),this.order.push(ye),this.order.length>this.max){var U=this._getAndRemoveByKey(this.order[0]);U&&this.onRemove(U)}return this},ee.prototype.has=function(V){return V.wrapped().key in this.data},ee.prototype.getAndRemove=function(V){return this.has(V)?this._getAndRemoveByKey(V.wrapped().key):null},ee.prototype._getAndRemoveByKey=function(V){var Y=this.data[V].shift();return Y.timeout&&clearTimeout(Y.timeout),0===this.data[V].length&&delete this.data[V],this.order.splice(this.order.indexOf(V),1),Y.value},ee.prototype.getByKey=function(V){var Y=this.data[V];return Y?Y[0].value:null},ee.prototype.get=function(V){return this.has(V)?this.data[V.wrapped().key][0].value:null},ee.prototype.remove=function(V,Y){if(!this.has(V))return this;var W=V.wrapped().key,te=void 0===Y?0:this.data[W].indexOf(Y),ye=this.data[W][te];return this.data[W].splice(te,1),ye.timeout&&clearTimeout(ye.timeout),0===this.data[W].length&&delete this.data[W],this.onRemove(ye.value),this.order.splice(this.order.indexOf(W),1),this},ee.prototype.setMaxSize=function(V){for(this.max=V;this.order.length>this.max;){var Y=this._getAndRemoveByKey(this.order[0]);Y&&this.onRemove(Y)}return this},ee.prototype.filter=function(V){var Y=[];for(var W in this.data)for(var te=0,ye=this.data[W];te<ye.length;te+=1){var Le=ye[te];V(Le.value)||Y.push(Le)}for(var U=0,ie=Y;U<ie.length;U+=1){var de=ie[U];this.remove(de.value.tileID,de)}};var oe=function(V,Y,W){this.context=V;var te=V.gl;this.buffer=te.createBuffer(),this.dynamicDraw=Boolean(W),this.context.unbindVAO(),V.bindElementBuffer.set(this.buffer),te.bufferData(te.ELEMENT_ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?te.DYNAMIC_DRAW:te.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};oe.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},oe.prototype.updateData=function(V){var Y=this.context.gl;this.context.unbindVAO(),this.bind(),Y.bufferSubData(Y.ELEMENT_ARRAY_BUFFER,0,V.arrayBuffer)},oe.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var ce={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ue=function(V,Y,W,te){this.length=Y.length,this.attributes=W,this.itemSize=Y.bytesPerElement,this.dynamicDraw=te,this.context=V;var ye=V.gl;this.buffer=ye.createBuffer(),V.bindVertexBuffer.set(this.buffer),ye.bufferData(ye.ARRAY_BUFFER,Y.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete Y.arrayBuffer};ue.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ue.prototype.updateData=function(V){var Y=this.context.gl;this.bind(),Y.bufferSubData(Y.ARRAY_BUFFER,0,V.arrayBuffer)},ue.prototype.enableAttributes=function(V,Y){for(var W=0;W<this.attributes.length;W++){var ye=Y.attributes[this.attributes[W].name];void 0!==ye&&V.enableVertexAttribArray(ye)}},ue.prototype.setVertexAttribPointers=function(V,Y,W){for(var te=0;te<this.attributes.length;te++){var ye=this.attributes[te],Le=Y.attributes[ye.name];void 0!==Le&&V.vertexAttribPointer(Le,ye.components,V[ce[ye.type]],!1,this.itemSize,ye.offset+this.itemSize*(W||0))}},ue.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var he=function(V){this.gl=V.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};he.prototype.get=function(){return this.current},he.prototype.set=function(V){},he.prototype.getDefault=function(){return this.default},he.prototype.setDefault=function(){this.set(this.default)};var ve=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return d.Color.transparent},Y.prototype.set=function(W){var te=this.current;(W.r!==te.r||W.g!==te.g||W.b!==te.b||W.a!==te.a||this.dirty)&&(this.gl.clearColor(W.r,W.g,W.b,W.a),this.current=W,this.dirty=!1)},Y}(he),ke=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return 1},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.clearDepth(W),this.current=W,this.dirty=!1)},Y}(he),Ie=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return 0},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.clearStencil(W),this.current=W,this.dirty=!1)},Y}(he),Me=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return[!0,!0,!0,!0]},Y.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||W[2]!==te[2]||W[3]!==te[3]||this.dirty)&&(this.gl.colorMask(W[0],W[1],W[2],W[3]),this.current=W,this.dirty=!1)},Y}(he),_e=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!0},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.depthMask(W),this.current=W,this.dirty=!1)},Y}(he),we=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return 255},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.stencilMask(W),this.current=W,this.dirty=!1)},Y}(he),ze=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Y.prototype.set=function(W){var te=this.current;(W.func!==te.func||W.ref!==te.ref||W.mask!==te.mask||this.dirty)&&(this.gl.stencilFunc(W.func,W.ref,W.mask),this.current=W,this.dirty=!1)},Y}(he),Ee=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){var W=this.gl;return[W.KEEP,W.KEEP,W.KEEP]},Y.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||W[2]!==te[2]||this.dirty)&&(this.gl.stencilOp(W[0],W[1],W[2]),this.current=W,this.dirty=!1)},Y}(he),Se=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;W?te.enable(te.STENCIL_TEST):te.disable(te.STENCIL_TEST),this.current=W,this.dirty=!1}},Y}(he),me=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return[0,1]},Y.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||this.dirty)&&(this.gl.depthRange(W[0],W[1]),this.current=W,this.dirty=!1)},Y}(he),fe=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;W?te.enable(te.DEPTH_TEST):te.disable(te.DEPTH_TEST),this.current=W,this.dirty=!1}},Y}(he),le=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.LESS},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.depthFunc(W),this.current=W,this.dirty=!1)},Y}(he),Te=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;W?te.enable(te.BLEND):te.disable(te.BLEND),this.current=W,this.dirty=!1}},Y}(he),Re=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){var W=this.gl;return[W.ONE,W.ZERO]},Y.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||this.dirty)&&(this.gl.blendFunc(W[0],W[1]),this.current=W,this.dirty=!1)},Y}(he),De=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return d.Color.transparent},Y.prototype.set=function(W){var te=this.current;(W.r!==te.r||W.g!==te.g||W.b!==te.b||W.a!==te.a||this.dirty)&&(this.gl.blendColor(W.r,W.g,W.b,W.a),this.current=W,this.dirty=!1)},Y}(he),Ue=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.FUNC_ADD},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.blendEquation(W),this.current=W,this.dirty=!1)},Y}(he),Ze=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;W?te.enable(te.CULL_FACE):te.disable(te.CULL_FACE),this.current=W,this.dirty=!1}},Y}(he),xe=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.BACK},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.cullFace(W),this.current=W,this.dirty=!1)},Y}(he),Oe=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.CCW},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.frontFace(W),this.current=W,this.dirty=!1)},Y}(he),Ce=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.useProgram(W),this.current=W,this.dirty=!1)},Y}(he),Be=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return this.gl.TEXTURE0},Y.prototype.set=function(W){(W!==this.current||this.dirty)&&(this.gl.activeTexture(W),this.current=W,this.dirty=!1)},Y}(he),qe=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){var W=this.gl;return[0,0,W.drawingBufferWidth,W.drawingBufferHeight]},Y.prototype.set=function(W){var te=this.current;(W[0]!==te[0]||W[1]!==te[1]||W[2]!==te[2]||W[3]!==te[3]||this.dirty)&&(this.gl.viewport(W[0],W[1],W[2],W[3]),this.current=W,this.dirty=!1)},Y}(he),He=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.bindFramebuffer(te.FRAMEBUFFER,W),this.current=W,this.dirty=!1}},Y}(he),Je=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.bindRenderbuffer(te.RENDERBUFFER,W),this.current=W,this.dirty=!1}},Y}(he),et=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.bindTexture(te.TEXTURE_2D,W),this.current=W,this.dirty=!1}},Y}(he),st=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.bindBuffer(te.ARRAY_BUFFER,W),this.current=W,this.dirty=!1}},Y}(he),pt=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(W){var te=this.gl;te.bindBuffer(te.ELEMENT_ARRAY_BUFFER,W),this.current=W,this.dirty=!1},Y}(he),ct=function(V){function Y(W){V.call(this,W),this.vao=W.extVertexArrayObject}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y.prototype.set=function(W){this.vao&&(W!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(W),this.current=W,this.dirty=!1)},Y}(he),St=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return 4},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_ALIGNMENT,W),this.current=W,this.dirty=!1}},Y}(he),Dt=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W),this.current=W,this.dirty=!1}},Y}(he),vt=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return!1},Y.prototype.set=function(W){if(W!==this.current||this.dirty){var te=this.gl;te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,W),this.current=W,this.dirty=!1}},Y}(he),gt=function(V){function Y(W,te){V.call(this,W),this.context=W,this.parent=te}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getDefault=function(){return null},Y}(he),Et=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.setDirty=function(){this.dirty=!0},Y.prototype.set=function(W){if(W!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var te=this.gl;te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,W,0),this.current=W,this.dirty=!1}},Y}(gt),Pt=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.set=function(W){if(W!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var te=this.gl;te.framebufferRenderbuffer(te.FRAMEBUFFER,te.DEPTH_ATTACHMENT,te.RENDERBUFFER,W),this.current=W,this.dirty=!1}},Y}(gt),Ot=function(V,Y,W,te){this.context=V,this.width=Y,this.height=W;var Le=this.framebuffer=V.gl.createFramebuffer();this.colorAttachment=new Et(V,Le),te&&(this.depthAttachment=new Pt(V,Le))};Ot.prototype.destroy=function(){var V=this.context.gl,Y=this.colorAttachment.get();if(Y&&V.deleteTexture(Y),this.depthAttachment){var W=this.depthAttachment.get();W&&V.deleteRenderbuffer(W)}V.deleteFramebuffer(this.framebuffer)};var Ht=function(V,Y,W){this.func=V,this.mask=Y,this.range=W};Ht.ReadOnly=!1,Ht.ReadWrite=!0,Ht.disabled=new Ht(519,Ht.ReadOnly,[0,1]);var nt=function(V,Y,W,te,ye,Le){this.test=V,this.ref=Y,this.mask=W,this.fail=te,this.depthFail=ye,this.pass=Le};nt.disabled=new nt({func:519,mask:0},0,0,7680,7680,7680);var it=function(V,Y,W){this.blendFunction=V,this.blendColor=Y,this.mask=W};it.Replace=[1,0],it.disabled=new it(it.Replace,d.Color.transparent,[!1,!1,!1,!1]),it.unblended=new it(it.Replace,d.Color.transparent,[!0,!0,!0,!0]),it.alphaBlended=new it([1,771],d.Color.transparent,[!0,!0,!0,!0]);var Ke=function(V,Y,W){this.enable=V,this.mode=Y,this.frontFace=W};Ke.disabled=new Ke(!1,1029,2305),Ke.backCCW=new Ke(!0,1029,2305);var rt=function(V){this.gl=V,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ve(this),this.clearDepth=new ke(this),this.clearStencil=new Ie(this),this.colorMask=new Me(this),this.depthMask=new _e(this),this.stencilMask=new we(this),this.stencilFunc=new ze(this),this.stencilOp=new Ee(this),this.stencilTest=new Se(this),this.depthRange=new me(this),this.depthTest=new fe(this),this.depthFunc=new le(this),this.blend=new Te(this),this.blendFunc=new Re(this),this.blendColor=new De(this),this.blendEquation=new Ue(this),this.cullFace=new Ze(this),this.cullFaceSide=new xe(this),this.frontFace=new Oe(this),this.program=new Ce(this),this.activeTexture=new Be(this),this.viewport=new qe(this),this.bindFramebuffer=new He(this),this.bindRenderbuffer=new Je(this),this.bindTexture=new et(this),this.bindVertexBuffer=new st(this),this.bindElementBuffer=new pt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ct(this),this.pixelStoreUnpack=new St(this),this.pixelStoreUnpackPremultiplyAlpha=new Dt(this),this.pixelStoreUnpackFlipY=new vt(this),this.extTextureFilterAnisotropic=V.getExtension("EXT_texture_filter_anisotropic")||V.getExtension("MOZ_EXT_texture_filter_anisotropic")||V.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=V.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=V.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(V.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=V.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=V.getExtension("EXT_disjoint_timer_query")};rt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},rt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},rt.prototype.createIndexBuffer=function(V,Y){return new oe(this,V,Y)},rt.prototype.createVertexBuffer=function(V,Y,W){return new ue(this,V,Y,W)},rt.prototype.createRenderbuffer=function(V,Y,W){var te=this.gl,ye=te.createRenderbuffer();return this.bindRenderbuffer.set(ye),te.renderbufferStorage(te.RENDERBUFFER,V,Y,W),this.bindRenderbuffer.set(null),ye},rt.prototype.createFramebuffer=function(V,Y,W){return new Ot(this,V,Y,W)},rt.prototype.clear=function(V){var Y=V.color,W=V.depth,te=this.gl,ye=0;Y&&(ye|=te.COLOR_BUFFER_BIT,this.clearColor.set(Y),this.colorMask.set([!0,!0,!0,!0])),void 0!==W&&(ye|=te.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(W),this.depthMask.set(!0)),te.clear(ye)},rt.prototype.setCullFace=function(V){!1===V.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(V.mode),this.frontFace.set(V.frontFace))},rt.prototype.setDepthMode=function(V){V.func!==this.gl.ALWAYS||V.mask?(this.depthTest.set(!0),this.depthFunc.set(V.func),this.depthMask.set(V.mask),this.depthRange.set(V.range)):this.depthTest.set(!1)},rt.prototype.setStencilMode=function(V){V.test.func!==this.gl.ALWAYS||V.mask?(this.stencilTest.set(!0),this.stencilMask.set(V.mask),this.stencilOp.set([V.fail,V.depthFail,V.pass]),this.stencilFunc.set({func:V.test.func,ref:V.ref,mask:V.test.mask})):this.stencilTest.set(!1)},rt.prototype.setColorMode=function(V){d.deepEqual(V.blendFunction,it.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(V.blendFunction),this.blendColor.set(V.blendColor)),this.colorMask.set(V.mask)},rt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ft=function(V){function Y(W,te,ye){var Le=this;V.call(this),this.id=W,this.dispatcher=ye,this.on("data",function(U){"source"===U.dataType&&"metadata"===U.sourceDataType&&(Le._sourceLoaded=!0),Le._sourceLoaded&&!Le._paused&&"source"===U.dataType&&"content"===U.sourceDataType&&(Le.reload(),Le.transform&&Le.update(Le.transform))}),this.on("error",function(){Le._sourceErrored=!0}),this._source=function(U,ie,de,be){var Ae=new se[ie.type](U,ie,de,be);if(Ae.id!==U)throw new Error("Expected Source id to be "+U+" instead of "+Ae.id);return d.bindAll(["load","abort","unload","serialize","prepare"],Ae),Ae}(W,te,ye,this),this._tiles={},this._cache=new ee(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new d.SourceFeatureState}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.onAdd=function(W){this.map=W,this._maxTileCacheSize=W?W._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(W)},Y.prototype.onRemove=function(W){this._source&&this._source.onRemove&&this._source.onRemove(W)},Y.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var W in this._tiles){var te=this._tiles[W];if("loaded"!==te.state&&"errored"!==te.state)return!1}return!0},Y.prototype.getSource=function(){return this._source},Y.prototype.pause=function(){this._paused=!0},Y.prototype.resume=function(){if(this._paused){var W=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,W&&this.reload(),this.transform&&this.update(this.transform)}},Y.prototype._loadTile=function(W,te){return this._source.loadTile(W,te)},Y.prototype._unloadTile=function(W){if(this._source.unloadTile)return this._source.unloadTile(W,function(){})},Y.prototype._abortTile=function(W){if(this._source.abortTile)return this._source.abortTile(W,function(){})},Y.prototype.serialize=function(){return this._source.serialize()},Y.prototype.prepare=function(W){for(var te in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var ye=this._tiles[te];ye.upload(W),ye.prepare(this.map.style.imageManager)}},Y.prototype.getIds=function(){return d.values(this._tiles).map(function(W){return W.tileID}).sort(ht).map(function(W){return W.key})},Y.prototype.getRenderableIds=function(W){var te=this,ye=[];for(var Le in this._tiles)this._isIdRenderable(Le,W)&&ye.push(this._tiles[Le]);return W?ye.sort(function(U,ie){var de=U.tileID,be=ie.tileID,Ae=new d.Point(de.canonical.x,de.canonical.y)._rotate(te.transform.angle),Fe=new d.Point(be.canonical.x,be.canonical.y)._rotate(te.transform.angle);return de.overscaledZ-be.overscaledZ||Fe.y-Ae.y||Fe.x-Ae.x}).map(function(U){return U.tileID.key}):ye.map(function(U){return U.tileID}).sort(ht).map(function(U){return U.key})},Y.prototype.hasRenderableParent=function(W){var te=this.findLoadedParent(W,0);return!!te&&this._isIdRenderable(te.tileID.key)},Y.prototype._isIdRenderable=function(W,te){return this._tiles[W]&&this._tiles[W].hasData()&&!this._coveredTiles[W]&&(te||!this._tiles[W].holdingForFade())},Y.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var W in this._cache.reset(),this._tiles)"errored"!==this._tiles[W].state&&this._reloadTile(W,"reloading")},Y.prototype._reloadTile=function(W,te){var ye=this._tiles[W];ye&&("loading"!==ye.state&&(ye.state=te),this._loadTile(ye,this._tileLoaded.bind(this,ye,W,te)))},Y.prototype._tileLoaded=function(W,te,ye,Le){if(Le)return W.state="errored",void(404!==Le.status?this._source.fire(new d.ErrorEvent(Le,{tile:W})):this.update(this.transform));W.timeAdded=d.browser.now(),"expired"===ye&&(W.refreshedUponExpiration=!0),this._setTileReloadTimer(te,W),"raster-dem"===this.getSource().type&&W.dem&&this._backfillDEM(W),this._state.initializeTileState(W,this.map?this.map.painter:null),this._source.fire(new d.Event("data",{dataType:"source",tile:W,coord:W.tileID}))},Y.prototype._backfillDEM=function(W){for(var te=this.getRenderableIds(),ye=0;ye<te.length;ye++){var Le=te[ye];if(W.neighboringTiles&&W.neighboringTiles[Le]){var U=this.getTileByID(Le);ie(W,U),ie(U,W)}}function ie(de,be){de.needsHillshadePrepare=!0;var Ae=be.tileID.canonical.x-de.tileID.canonical.x,Fe=be.tileID.canonical.y-de.tileID.canonical.y,We=Math.pow(2,de.tileID.canonical.z),$e=be.tileID.key;0===Ae&&0===Fe||Math.abs(Fe)>1||(Math.abs(Ae)>1&&(1===Math.abs(Ae+We)?Ae+=We:1===Math.abs(Ae-We)&&(Ae-=We)),be.dem&&de.dem&&(de.dem.backfillBorder(be.dem,Ae,Fe),de.neighboringTiles&&de.neighboringTiles[$e]&&(de.neighboringTiles[$e].backfilled=!0)))}},Y.prototype.getTile=function(W){return this.getTileByID(W.key)},Y.prototype.getTileByID=function(W){return this._tiles[W]},Y.prototype._retainLoadedChildren=function(W,te,ye,Le){for(var U in this._tiles){var ie=this._tiles[U];if(!(Le[U]||!ie.hasData()||ie.tileID.overscaledZ<=te||ie.tileID.overscaledZ>ye)){for(var de=ie.tileID;ie&&ie.tileID.overscaledZ>te+1;){var be=ie.tileID.scaledTo(ie.tileID.overscaledZ-1);(ie=this._tiles[be.key])&&ie.hasData()&&(de=be)}for(var Ae=de;Ae.overscaledZ>te;)if(W[(Ae=Ae.scaledTo(Ae.overscaledZ-1)).key]){Le[de.key]=de;break}}}},Y.prototype.findLoadedParent=function(W,te){if(W.key in this._loadedParentTiles){var ye=this._loadedParentTiles[W.key];return ye&&ye.tileID.overscaledZ>=te?ye:null}for(var Le=W.overscaledZ-1;Le>=te;Le--){var U=W.scaledTo(Le),ie=this._getLoadedTile(U);if(ie)return ie}},Y.prototype._getLoadedTile=function(W){var te=this._tiles[W.key];return te&&te.hasData()?te:this._cache.getByKey(W.wrapped().key)},Y.prototype.updateCacheSize=function(W){var te=(Math.ceil(W.width/this._source.tileSize)+1)*(Math.ceil(W.height/this._source.tileSize)+1),ye=Math.floor(5*te),Le="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,ye):ye;this._cache.setMaxSize(Le)},Y.prototype.handleWrapJump=function(W){var ye=Math.round((W-(void 0===this._prevLng?W:this._prevLng))/360);if(this._prevLng=W,ye){var Le={};for(var U in this._tiles){var ie=this._tiles[U];ie.tileID=ie.tileID.unwrapTo(ie.tileID.wrap+ye),Le[ie.tileID.key]=ie}for(var de in this._tiles=Le,this._timers)clearTimeout(this._timers[de]),delete this._timers[de];for(var be in this._tiles)this._setTileReloadTimer(be,this._tiles[be])}},Y.prototype.update=function(W){var te=this;if(this.transform=W,this._sourceLoaded&&!this._paused){var ye;this.updateCacheSize(W),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?ye=W.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Vt){return new d.OverscaledTileID(Vt.canonical.z,Vt.wrap,Vt.canonical.z,Vt.canonical.x,Vt.canonical.y)}):(ye=W.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ye=ye.filter(function(Vt){return te._source.hasTile(Vt)}))):ye=[];var Le=W.coveringZoomLevel(this._source),U=Math.max(Le-Y.maxOverzooming,this._source.minzoom),ie=Math.max(Le+Y.maxUnderzooming,this._source.minzoom),de=this._updateRetainedTiles(ye,Le);if(Ve(this._source.type)){for(var be={},Ae={},Fe=0,We=Object.keys(de);Fe<We.length;Fe+=1){var $e=We[Fe],Qe=de[$e],tt=this._tiles[$e];if(tt&&!(tt.fadeEndTime&&tt.fadeEndTime<=d.browser.now())){var lt=this.findLoadedParent(Qe,U);lt&&(this._addTile(lt.tileID),be[lt.tileID.key]=lt.tileID),Ae[$e]=Qe}}for(var yt in this._retainLoadedChildren(Ae,Le,ie,de),be)de[yt]||(this._coveredTiles[yt]=!0,de[yt]=be[yt])}for(var Mt in de)this._tiles[Mt].clearFadeHold();for(var Bt=0,Ut=d.keysDifference(this._tiles,de);Bt<Ut.length;Bt+=1){var jt=Ut[Bt],Xt=this._tiles[jt];Xt.hasSymbolBuckets&&!Xt.holdingForFade()?Xt.setHoldDuration(this.map._fadeDuration):Xt.hasSymbolBuckets&&!Xt.symbolFadeFinished()||this._removeTile(jt)}this._updateLoadedParentTileCache()}},Y.prototype.releaseSymbolFadeTiles=function(){for(var W in this._tiles)this._tiles[W].holdingForFade()&&this._removeTile(W)},Y.prototype._updateRetainedTiles=function(W,te){for(var ye={},Le={},U=Math.max(te-Y.maxOverzooming,this._source.minzoom),ie=Math.max(te+Y.maxUnderzooming,this._source.minzoom),de={},be=0,Ae=W;be<Ae.length;be+=1){var Fe=Ae[be],We=this._addTile(Fe);ye[Fe.key]=Fe,We.hasData()||te<this._source.maxzoom&&(de[Fe.key]=Fe)}this._retainLoadedChildren(de,te,ie,ye);for(var $e=0,Qe=W;$e<Qe.length;$e+=1){var tt=Qe[$e],lt=this._tiles[tt.key];if(!lt.hasData()){if(te+1>this._source.maxzoom){var yt=tt.children(this._source.maxzoom)[0],Mt=this.getTile(yt);if(Mt&&Mt.hasData()){ye[yt.key]=yt;continue}}else{var Bt=tt.children(this._source.maxzoom);if(ye[Bt[0].key]&&ye[Bt[1].key]&&ye[Bt[2].key]&&ye[Bt[3].key])continue}for(var Ut=lt.wasRequested(),jt=tt.overscaledZ-1;jt>=U;--jt){var Xt=tt.scaledTo(jt);if(Le[Xt.key]||(Le[Xt.key]=!0,!(lt=this.getTile(Xt))&&Ut&&(lt=this._addTile(Xt)),lt&&(ye[Xt.key]=Xt,Ut=lt.wasRequested(),lt.hasData())))break}}}return ye},Y.prototype._updateLoadedParentTileCache=function(){for(var W in this._loadedParentTiles={},this._tiles){for(var te=[],ye=void 0,Le=this._tiles[W].tileID;Le.overscaledZ>0;){if(Le.key in this._loadedParentTiles){ye=this._loadedParentTiles[Le.key];break}te.push(Le.key);var U=Le.scaledTo(Le.overscaledZ-1);if(ye=this._getLoadedTile(U))break;Le=U}for(var ie=0,de=te;ie<de.length;ie+=1)this._loadedParentTiles[de[ie]]=ye}},Y.prototype._addTile=function(W){var te=this._tiles[W.key];if(te)return te;(te=this._cache.getAndRemove(W))&&(this._setTileReloadTimer(W.key,te),te.tileID=W,this._state.initializeTileState(te,this.map?this.map.painter:null),this._cacheTimers[W.key]&&(clearTimeout(this._cacheTimers[W.key]),delete this._cacheTimers[W.key],this._setTileReloadTimer(W.key,te)));var ye=Boolean(te);return ye||(te=new d.Tile(W,this._source.tileSize*W.overscaleFactor()),this._loadTile(te,this._tileLoaded.bind(this,te,W.key,te.state))),te?(te.uses++,this._tiles[W.key]=te,ye||this._source.fire(new d.Event("dataloading",{tile:te,coord:te.tileID,dataType:"source"})),te):null},Y.prototype._setTileReloadTimer=function(W,te){var ye=this;W in this._timers&&(clearTimeout(this._timers[W]),delete this._timers[W]);var Le=te.getExpiryTimeout();Le&&(this._timers[W]=setTimeout(function(){ye._reloadTile(W,"expired"),delete ye._timers[W]},Le))},Y.prototype._removeTile=function(W){var te=this._tiles[W];te&&(te.uses--,delete this._tiles[W],this._timers[W]&&(clearTimeout(this._timers[W]),delete this._timers[W]),te.uses>0||(te.hasData()&&"reloading"!==te.state?this._cache.add(te.tileID,te,te.getExpiryTimeout()):(te.aborted=!0,this._abortTile(te),this._unloadTile(te))))},Y.prototype.clearTiles=function(){for(var W in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(W);this._cache.reset()},Y.prototype.tilesIn=function(W,te,ye){var Le=this,U=[],ie=this.transform;if(!ie)return U;for(var de=ye?ie.getCameraQueryGeometry(W):W,be=W.map(function(jt){return ie.pointCoordinate(jt)}),Ae=de.map(function(jt){return ie.pointCoordinate(jt)}),Fe=this.getIds(),We=1/0,$e=1/0,Qe=-1/0,tt=-1/0,lt=0,yt=Ae;lt<yt.length;lt+=1){var Mt=yt[lt];We=Math.min(We,Mt.x),$e=Math.min($e,Mt.y),Qe=Math.max(Qe,Mt.x),tt=Math.max(tt,Mt.y)}for(var Bt=function(jt){var Xt=Le._tiles[Fe[jt]];if(!Xt.holdingForFade()){var Vt=Xt.tileID,pn=Math.pow(2,ie.zoom-Xt.tileID.overscaledZ),sn=te*Xt.queryPadding*d.EXTENT/Xt.tileSize/pn,tn=[Vt.getTilePoint(new d.MercatorCoordinate(We,$e)),Vt.getTilePoint(new d.MercatorCoordinate(Qe,tt))];if(tn[0].x-sn<d.EXTENT&&tn[0].y-sn<d.EXTENT&&tn[1].x+sn>=0&&tn[1].y+sn>=0){var Sn=be.map(function(qn){return Vt.getTilePoint(qn)}),Dn=Ae.map(function(qn){return Vt.getTilePoint(qn)});U.push({tile:Xt,tileID:Vt,queryGeometry:Sn,cameraQueryGeometry:Dn,scale:pn})}}},Ut=0;Ut<Fe.length;Ut++)Bt(Ut);return U},Y.prototype.getVisibleCoordinates=function(W){for(var te=this,ye=this.getRenderableIds(W).map(function(de){return te._tiles[de].tileID}),Le=0,U=ye;Le<U.length;Le+=1){var ie=U[Le];ie.posMatrix=this.transform.calculatePosMatrix(ie.toUnwrapped())}return ye},Y.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ve(this._source.type))for(var W in this._tiles){var te=this._tiles[W];if(void 0!==te.fadeEndTime&&te.fadeEndTime>=d.browser.now())return!0}return!1},Y.prototype.setFeatureState=function(W,te,ye){this._state.updateState(W=W||"_geojsonTileLayer",te,ye)},Y.prototype.removeFeatureState=function(W,te,ye){this._state.removeFeatureState(W=W||"_geojsonTileLayer",te,ye)},Y.prototype.getFeatureState=function(W,te){return this._state.getState(W=W||"_geojsonTileLayer",te)},Y.prototype.setDependencies=function(W,te,ye){var Le=this._tiles[W];Le&&Le.setDependencies(te,ye)},Y.prototype.reloadTilesForDependencies=function(W,te){for(var ye in this._tiles)this._tiles[ye].hasDependency(W,te)&&this._reloadTile(ye,"reloading");this._cache.filter(function(Le){return!Le.hasDependency(W,te)})},Y}(d.Evented);function ht(V,Y){var W=Math.abs(2*V.wrap)-+(V.wrap<0),te=Math.abs(2*Y.wrap)-+(Y.wrap<0);return V.overscaledZ-Y.overscaledZ||te-W||Y.canonical.y-V.canonical.y||Y.canonical.x-V.canonical.x}function Ve(V){return"raster"===V||"image"===V||"video"===V}function Ge(){return new d.window.Worker(Gs.workerUrl)}ft.maxOverzooming=10,ft.maxUnderzooming=3;var ut="mapboxgl_preloaded_worker_pool",dt=function(){this.active={}};dt.prototype.acquire=function(V){if(!this.workers)for(this.workers=[];this.workers.length<dt.workerCount;)this.workers.push(new Ge);return this.active[V]=!0,this.workers.slice()},dt.prototype.release=function(V){delete this.active[V],0===this.numActive()&&(this.workers.forEach(function(Y){Y.terminate()}),this.workers=null)},dt.prototype.isPreloaded=function(){return!!this.active[ut]},dt.prototype.numActive=function(){return Object.keys(this.active).length};var kt,bt=Math.floor(d.browser.hardwareConcurrency/2);function At(){return kt||(kt=new dt),kt}function xt(V,Y){var W={};for(var te in V)"ref"!==te&&(W[te]=V[te]);return d.refProperties.forEach(function(ye){ye in Y&&(W[ye]=Y[ye])}),W}function Rt(V){V=V.slice();for(var Y=Object.create(null),W=0;W<V.length;W++)Y[V[W].id]=V[W];for(var te=0;te<V.length;te++)"ref"in V[te]&&(V[te]=xt(V[te],Y[V[te].ref]));return V}dt.workerCount=Math.max(Math.min(bt,6),1);var _t={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Tt(V,Y,W){W.push({command:_t.addSource,args:[V,Y[V]]})}function It(V,Y,W){Y.push({command:_t.removeSource,args:[V]}),W[V]=!0}function Wt(V,Y,W,te){It(V,W,te),Tt(V,Y,W)}function Zt(V,Y,W){var te;for(te in V[W])if(V[W].hasOwnProperty(te)&&"data"!==te&&!d.deepEqual(V[W][te],Y[W][te]))return!1;for(te in Y[W])if(Y[W].hasOwnProperty(te)&&"data"!==te&&!d.deepEqual(V[W][te],Y[W][te]))return!1;return!0}function $t(V,Y,W,te,ye,Le){var U;for(U in Y=Y||{},V=V||{})V.hasOwnProperty(U)&&(d.deepEqual(V[U],Y[U])||W.push({command:Le,args:[te,U,Y[U],ye]}));for(U in Y)Y.hasOwnProperty(U)&&!V.hasOwnProperty(U)&&(d.deepEqual(V[U],Y[U])||W.push({command:Le,args:[te,U,Y[U],ye]}))}function dn(V){return V.id}function nn(V,Y){return V[Y.id]=Y,V}var rn=function(V,Y){this.reset(V,Y)};rn.prototype.reset=function(V,Y){this.points=V||[],this._distances=[0];for(var W=1;W<this.points.length;W++)this._distances[W]=this._distances[W-1]+this.points[W].dist(this.points[W-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(Y||0,.5*this.length),this.paddedLength=this.length-2*this.padding},rn.prototype.lerp=function(V){if(1===this.points.length)return this.points[0];V=d.clamp(V,0,1);for(var Y=1,W=this._distances[Y],te=V*this.paddedLength+this.padding;W<te&&Y<this._distances.length;)W=this._distances[++Y];var ye=Y-1,Le=this._distances[ye],U=W-Le,ie=U>0?(te-Le)/U:0;return this.points[ye].mult(1-ie).add(this.points[Y].mult(ie))};var En=function(V,Y,W){var te=this.boxCells=[],ye=this.circleCells=[];this.xCellCount=Math.ceil(V/W),this.yCellCount=Math.ceil(Y/W);for(var Le=0;Le<this.xCellCount*this.yCellCount;Le++)te.push([]),ye.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=V,this.height=Y,this.xScale=this.xCellCount/V,this.yScale=this.yCellCount/Y,this.boxUid=0,this.circleUid=0};function Pn(V,Y,W,te,ye){var Le=d.create();return Y?(d.scale(Le,Le,[1/ye,1/ye,1]),W||d.rotateZ(Le,Le,te.angle)):d.multiply(Le,te.labelPlaneMatrix,V),Le}function Mn(V,Y,W,te,ye){if(Y){var Le=d.clone(V);return d.scale(Le,Le,[ye,ye,1]),W||d.rotateZ(Le,Le,-te.angle),Le}return te.glCoordMatrix}function en(V,Y){var W=[V.x,V.y,0,1];lr(W,W,Y);var te=W[3];return{point:new d.Point(W[0]/te,W[1]/te),signedDistanceFromCamera:te}}function gn(V,Y){return.5+V/Y*.5}function an(V,Y){var W=V[0]/V[3],te=V[1]/V[3];return W>=-Y[0]&&W<=Y[0]&&te>=-Y[1]&&te<=Y[1]}function yn(V,Y,W,te,ye,Le,U,ie){var de=te?V.textSizeData:V.iconSizeData,be=d.evaluateSizeForZoom(de,W.transform.zoom),Ae=[256/W.width*2+1,256/W.height*2+1],Fe=te?V.text.dynamicLayoutVertexArray:V.icon.dynamicLayoutVertexArray;Fe.clear();for(var We=V.lineVertexArray,$e=te?V.text.placedSymbolArray:V.icon.placedSymbolArray,Qe=W.transform.width/W.transform.height,tt=!1,lt=0;lt<$e.length;lt++){var yt=$e.get(lt);if(yt.hidden||yt.writingMode===d.WritingMode.vertical&&!tt)mr(yt.numGlyphs,Fe);else{tt=!1;var Mt=[yt.anchorX,yt.anchorY,0,1];if(d.transformMat4(Mt,Mt,Y),an(Mt,Ae)){var Ut=gn(W.transform.cameraToCenterDistance,Mt[3]),jt=d.evaluateSizeForFeature(de,be,yt),Xt=U?jt/Ut:jt*Ut,Vt=new d.Point(yt.anchorX,yt.anchorY),pn=en(Vt,ye).point,sn={},tn=Rn(yt,Xt,!1,ie,Y,ye,Le,V.glyphOffsetArray,We,Fe,pn,Vt,sn,Qe);tt=tn.useVertical,(tn.notEnoughRoom||tt||tn.needsFlipping&&Rn(yt,Xt,!0,ie,Y,ye,Le,V.glyphOffsetArray,We,Fe,pn,Vt,sn,Qe).notEnoughRoom)&&mr(yt.numGlyphs,Fe)}else mr(yt.numGlyphs,Fe)}}te?V.text.dynamicLayoutVertexBuffer.updateData(Fe):V.icon.dynamicLayoutVertexBuffer.updateData(Fe)}function kn(V,Y,W,te,ye,Le,U,ie,de,be,Ae){var Fe=ie.glyphStartIndex+ie.numGlyphs,We=ie.lineStartIndex,$e=ie.lineStartIndex+ie.lineLength,Qe=Y.getoffsetX(ie.glyphStartIndex),tt=Y.getoffsetX(Fe-1),lt=Cn(V*Qe,W,te,ye,Le,U,ie.segment,We,$e,de,be,Ae);if(!lt)return null;var yt=Cn(V*tt,W,te,ye,Le,U,ie.segment,We,$e,de,be,Ae);return yt?{first:lt,last:yt}:null}function Ln(V,Y,W,te){return V===d.WritingMode.horizontal&&Math.abs(W.y-Y.y)>Math.abs(W.x-Y.x)*te?{useVertical:!0}:(V===d.WritingMode.vertical?Y.y<W.y:Y.x>W.x)?{needsFlipping:!0}:null}function Rn(V,Y,W,te,ye,Le,U,ie,de,be,Ae,Fe,We,$e){var Qe,tt=Y/24,lt=V.lineOffsetX*tt,yt=V.lineOffsetY*tt;if(V.numGlyphs>1){var Mt=V.glyphStartIndex+V.numGlyphs,Bt=V.lineStartIndex,Ut=V.lineStartIndex+V.lineLength,jt=kn(tt,ie,lt,yt,W,Ae,Fe,V,de,Le,We);if(!jt)return{notEnoughRoom:!0};var Xt=en(jt.first.point,U).point,Vt=en(jt.last.point,U).point;if(te&&!W){var pn=Ln(V.writingMode,Xt,Vt,$e);if(pn)return pn}Qe=[jt.first];for(var sn=V.glyphStartIndex+1;sn<Mt-1;sn++)Qe.push(Cn(tt*ie.getoffsetX(sn),lt,yt,W,Ae,Fe,V.segment,Bt,Ut,de,Le,We));Qe.push(jt.last)}else{if(te&&!W){var tn=en(Fe,ye).point,Sn=V.lineStartIndex+V.segment+1,Dn=new d.Point(de.getx(Sn),de.gety(Sn)),qn=en(Dn,ye),Qn=qn.signedDistanceFromCamera>0?qn.point:Wn(Fe,Dn,tn,1,ye),sr=Ln(V.writingMode,tn,Qn,$e);if(sr)return sr}var pr=Cn(tt*ie.getoffsetX(V.glyphStartIndex),lt,yt,W,Ae,Fe,V.segment,V.lineStartIndex,V.lineStartIndex+V.lineLength,de,Le,We);if(!pr)return{notEnoughRoom:!0};Qe=[pr]}for(var Cr=0,Mr=Qe;Cr<Mr.length;Cr+=1){var Or=Mr[Cr];d.addDynamicAttributes(be,Or.point,Or.angle)}return{}}function Wn(V,Y,W,te,ye){var Le=en(V.add(V.sub(Y)._unit()),ye).point,U=W.sub(Le);return W.add(U._mult(te/U.mag()))}function Cn(V,Y,W,te,ye,Le,U,ie,de,be,Ae,Fe){var We=te?V-Y:V+Y,$e=We>0?1:-1,Qe=0;te&&($e*=-1,Qe=Math.PI),$e<0&&(Qe+=Math.PI);for(var tt=$e>0?ie+U:ie+U+1,lt=ye,yt=ye,Mt=0,Bt=0,Ut=Math.abs(We),jt=[];Mt+Bt<=Ut;){if((tt+=$e)<ie||tt>=de)return null;if(yt=lt,jt.push(lt),void 0===(lt=Fe[tt])){var Xt=new d.Point(be.getx(tt),be.gety(tt)),Vt=en(Xt,Ae);if(Vt.signedDistanceFromCamera>0)lt=Fe[tt]=Vt.point;else{var pn=tt-$e;lt=Wn(0===Mt?Le:new d.Point(be.getx(pn),be.gety(pn)),Xt,yt,Ut-Mt+1,Ae)}}Mt+=Bt,Bt=yt.dist(lt)}var sn=(Ut-Mt)/Bt,tn=lt.sub(yt),Sn=tn.mult(sn)._add(yt);Sn._add(tn._unit()._perp()._mult(W*$e));var Dn=Qe+Math.atan2(lt.y-yt.y,lt.x-yt.x);return jt.push(Sn),{point:Sn,angle:Dn,path:jt}}En.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},En.prototype.insert=function(V,Y,W,te,ye){this._forEachCell(Y,W,te,ye,this._insertBoxCell,this.boxUid++),this.boxKeys.push(V),this.bboxes.push(Y),this.bboxes.push(W),this.bboxes.push(te),this.bboxes.push(ye)},En.prototype.insertCircle=function(V,Y,W,te){this._forEachCell(Y-te,W-te,Y+te,W+te,this._insertCircleCell,this.circleUid++),this.circleKeys.push(V),this.circles.push(Y),this.circles.push(W),this.circles.push(te)},En.prototype._insertBoxCell=function(V,Y,W,te,ye,Le){this.boxCells[ye].push(Le)},En.prototype._insertCircleCell=function(V,Y,W,te,ye,Le){this.circleCells[ye].push(Le)},En.prototype._query=function(V,Y,W,te,ye,Le){if(W<0||V>this.width||te<0||Y>this.height)return!ye&&[];var U=[];if(V<=0&&Y<=0&&this.width<=W&&this.height<=te){if(ye)return!0;for(var ie=0;ie<this.boxKeys.length;ie++)U.push({key:this.boxKeys[ie],x1:this.bboxes[4*ie],y1:this.bboxes[4*ie+1],x2:this.bboxes[4*ie+2],y2:this.bboxes[4*ie+3]});for(var de=0;de<this.circleKeys.length;de++){var be=this.circles[3*de],Ae=this.circles[3*de+1],Fe=this.circles[3*de+2];U.push({key:this.circleKeys[de],x1:be-Fe,y1:Ae-Fe,x2:be+Fe,y2:Ae+Fe})}return Le?U.filter(Le):U}return this._forEachCell(V,Y,W,te,this._queryCell,U,{hitTest:ye,seenUids:{box:{},circle:{}}},Le),ye?U.length>0:U},En.prototype._queryCircle=function(V,Y,W,te,ye){var Le=V-W,U=V+W,ie=Y-W,de=Y+W;if(U<0||Le>this.width||de<0||ie>this.height)return!te&&[];var be=[];return this._forEachCell(Le,ie,U,de,this._queryCellCircle,be,{hitTest:te,circle:{x:V,y:Y,radius:W},seenUids:{box:{},circle:{}}},ye),te?be.length>0:be},En.prototype.query=function(V,Y,W,te,ye){return this._query(V,Y,W,te,!1,ye)},En.prototype.hitTest=function(V,Y,W,te,ye){return this._query(V,Y,W,te,!0,ye)},En.prototype.hitTestCircle=function(V,Y,W,te){return this._queryCircle(V,Y,W,!0,te)},En.prototype._queryCell=function(V,Y,W,te,ye,Le,U,ie){var de=U.seenUids,be=this.boxCells[ye];if(null!==be)for(var Ae=this.bboxes,Fe=0,We=be;Fe<We.length;Fe+=1){var $e=We[Fe];if(!de.box[$e]){de.box[$e]=!0;var Qe=4*$e;if(V<=Ae[Qe+2]&&Y<=Ae[Qe+3]&&W>=Ae[Qe+0]&&te>=Ae[Qe+1]&&(!ie||ie(this.boxKeys[$e]))){if(U.hitTest)return Le.push(!0),!0;Le.push({key:this.boxKeys[$e],x1:Ae[Qe],y1:Ae[Qe+1],x2:Ae[Qe+2],y2:Ae[Qe+3]})}}}var tt=this.circleCells[ye];if(null!==tt)for(var lt=this.circles,yt=0,Mt=tt;yt<Mt.length;yt+=1){var Bt=Mt[yt];if(!de.circle[Bt]){de.circle[Bt]=!0;var Ut=3*Bt;if(this._circleAndRectCollide(lt[Ut],lt[Ut+1],lt[Ut+2],V,Y,W,te)&&(!ie||ie(this.circleKeys[Bt]))){if(U.hitTest)return Le.push(!0),!0;var jt=lt[Ut],Xt=lt[Ut+1],Vt=lt[Ut+2];Le.push({key:this.circleKeys[Bt],x1:jt-Vt,y1:Xt-Vt,x2:jt+Vt,y2:Xt+Vt})}}}},En.prototype._queryCellCircle=function(V,Y,W,te,ye,Le,U,ie){var de=U.circle,be=U.seenUids,Ae=this.boxCells[ye];if(null!==Ae)for(var Fe=this.bboxes,We=0,$e=Ae;We<$e.length;We+=1){var Qe=$e[We];if(!be.box[Qe]){be.box[Qe]=!0;var tt=4*Qe;if(this._circleAndRectCollide(de.x,de.y,de.radius,Fe[tt+0],Fe[tt+1],Fe[tt+2],Fe[tt+3])&&(!ie||ie(this.boxKeys[Qe])))return Le.push(!0),!0}}var lt=this.circleCells[ye];if(null!==lt)for(var yt=this.circles,Mt=0,Bt=lt;Mt<Bt.length;Mt+=1){var Ut=Bt[Mt];if(!be.circle[Ut]){be.circle[Ut]=!0;var jt=3*Ut;if(this._circlesCollide(yt[jt],yt[jt+1],yt[jt+2],de.x,de.y,de.radius)&&(!ie||ie(this.circleKeys[Ut])))return Le.push(!0),!0}}},En.prototype._forEachCell=function(V,Y,W,te,ye,Le,U,ie){for(var de=this._convertToXCellCoord(V),be=this._convertToYCellCoord(Y),Ae=this._convertToXCellCoord(W),Fe=this._convertToYCellCoord(te),We=de;We<=Ae;We++)for(var $e=be;$e<=Fe;$e++)if(ye.call(this,V,Y,W,te,this.xCellCount*$e+We,Le,U,ie))return},En.prototype._convertToXCellCoord=function(V){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(V*this.xScale)))},En.prototype._convertToYCellCoord=function(V){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(V*this.yScale)))},En.prototype._circlesCollide=function(V,Y,W,te,ye,Le){var U=te-V,ie=ye-Y,de=W+Le;return de*de>U*U+ie*ie},En.prototype._circleAndRectCollide=function(V,Y,W,te,ye,Le,U){var ie=(Le-te)/2,de=Math.abs(V-(te+ie));if(de>ie+W)return!1;var be=(U-ye)/2,Ae=Math.abs(Y-(ye+be));if(Ae>be+W)return!1;if(de<=ie||Ae<=be)return!0;var Fe=de-ie,We=Ae-be;return Fe*Fe+We*We<=W*W};var Zn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function mr(V,Y){for(var W=0;W<V;W++){var te=Y.length;Y.resize(te+4),Y.float32.set(Zn,3*te)}}function lr(V,Y,W){var te=Y[0],ye=Y[1];return V[0]=W[0]*te+W[4]*ye+W[12],V[1]=W[1]*te+W[5]*ye+W[13],V[3]=W[3]*te+W[7]*ye+W[15],V}var er=100,xr=function(V,Y,W){void 0===Y&&(Y=new En(V.width+200,V.height+200,25)),void 0===W&&(W=new En(V.width+200,V.height+200,25)),this.transform=V,this.grid=Y,this.ignoredGrid=W,this.pitchfactor=Math.cos(V._pitch)*V.cameraToCenterDistance,this.screenRightBoundary=V.width+er,this.screenBottomBoundary=V.height+er,this.gridRightBoundary=V.width+200,this.gridBottomBoundary=V.height+200};function dr(V,Y,W){return Y*(d.EXTENT/(V.tileSize*Math.pow(2,W-V.tileID.overscaledZ)))}xr.prototype.placeCollisionBox=function(V,Y,W,te,ye){var Le=this.projectAndGetPerspectiveRatio(te,V.anchorPointX,V.anchorPointY),U=W*Le.perspectiveRatio,ie=V.x1*U+Le.point.x,de=V.y1*U+Le.point.y,be=V.x2*U+Le.point.x,Ae=V.y2*U+Le.point.y;return!this.isInsideGrid(ie,de,be,Ae)||!Y&&this.grid.hitTest(ie,de,be,Ae,ye)?{box:[],offscreen:!1}:{box:[ie,de,be,Ae],offscreen:this.isOffscreen(ie,de,be,Ae)}},xr.prototype.placeCollisionCircles=function(V,Y,W,te,ye,Le,U,ie,de,be,Ae,Fe,We){var $e=[],Qe=new d.Point(Y.anchorX,Y.anchorY),tt=en(Qe,Le),lt=gn(this.transform.cameraToCenterDistance,tt.signedDistanceFromCamera),yt=(be?ye/lt:ye*lt)/d.ONE_EM,Mt=en(Qe,U).point,Bt=kn(yt,te,Y.lineOffsetX*yt,Y.lineOffsetY*yt,!1,Mt,Qe,Y,W,U,{}),Ut=!1,jt=!1,Xt=!0;if(Bt){for(var Vt=.5*Fe*lt+We,pn=new d.Point(-100,-100),sn=new d.Point(this.screenRightBoundary,this.screenBottomBoundary),tn=new rn,Sn=Bt.first,Dn=Bt.last,qn=[],Qn=Sn.path.length-1;Qn>=1;Qn--)qn.push(Sn.path[Qn]);for(var sr=1;sr<Dn.path.length;sr++)qn.push(Dn.path[sr]);var pr=2.5*Vt;if(ie){var Cr=qn.map(function(ia){return en(ia,ie)});qn=Cr.some(function(ia){return ia.signedDistanceFromCamera<=0})?[]:Cr.map(function(ia){return ia.point})}var Mr=[];if(qn.length>0){for(var Or=qn[0].clone(),Ur=qn[0].clone(),li=1;li<qn.length;li++)Or.x=Math.min(Or.x,qn[li].x),Or.y=Math.min(Or.y,qn[li].y),Ur.x=Math.max(Ur.x,qn[li].x),Ur.y=Math.max(Ur.y,qn[li].y);Mr=Or.x>=pn.x&&Ur.x<=sn.x&&Or.y>=pn.y&&Ur.y<=sn.y?[qn]:Ur.x<pn.x||Or.x>sn.x||Ur.y<pn.y||Or.y>sn.y?[]:d.clipLine([qn],pn.x,pn.y,sn.x,sn.y)}for(var nr=0,wr=Mr;nr<wr.length;nr+=1){var Wr;tn.reset(wr[nr],.25*Vt),Wr=tn.length<=.5*Vt?1:Math.ceil(tn.paddedLength/pr)+1;for(var ti=0;ti<Wr;ti++){var di=ti/Math.max(Wr-1,1),Oi=tn.lerp(di),to=Oi.x+er,go=Oi.y+er;$e.push(to,go,Vt,0);var Do=to-Vt,Zi=go-Vt,Bo=to+Vt,ba=go+Vt;if(Xt=Xt&&this.isOffscreen(Do,Zi,Bo,ba),jt=jt||this.isInsideGrid(Do,Zi,Bo,ba),!V&&this.grid.hitTestCircle(to,go,Vt,Ae)&&(Ut=!0,!de))return{circles:[],offscreen:!1,collisionDetected:Ut}}}}return{circles:!de&&Ut||!jt?[]:$e,offscreen:Xt,collisionDetected:Ut}},xr.prototype.queryRenderedSymbols=function(V){if(0===V.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var Y=[],W=1/0,te=1/0,ye=-1/0,Le=-1/0,U=0,ie=V;U<ie.length;U+=1){var de=ie[U],be=new d.Point(de.x+er,de.y+er);W=Math.min(W,be.x),te=Math.min(te,be.y),ye=Math.max(ye,be.x),Le=Math.max(Le,be.y),Y.push(be)}for(var Ae={},Fe={},We=0,$e=this.grid.query(W,te,ye,Le).concat(this.ignoredGrid.query(W,te,ye,Le));We<$e.length;We+=1){var Qe=$e[We],tt=Qe.key;if(void 0===Ae[tt.bucketInstanceId]&&(Ae[tt.bucketInstanceId]={}),!Ae[tt.bucketInstanceId][tt.featureIndex]){var lt=[new d.Point(Qe.x1,Qe.y1),new d.Point(Qe.x2,Qe.y1),new d.Point(Qe.x2,Qe.y2),new d.Point(Qe.x1,Qe.y2)];d.polygonIntersectsPolygon(Y,lt)&&(Ae[tt.bucketInstanceId][tt.featureIndex]=!0,void 0===Fe[tt.bucketInstanceId]&&(Fe[tt.bucketInstanceId]=[]),Fe[tt.bucketInstanceId].push(tt.featureIndex))}}return Fe},xr.prototype.insertCollisionBox=function(V,Y,W,te,ye){(Y?this.ignoredGrid:this.grid).insert({bucketInstanceId:W,featureIndex:te,collisionGroupID:ye},V[0],V[1],V[2],V[3])},xr.prototype.insertCollisionCircles=function(V,Y,W,te,ye){for(var Le=Y?this.ignoredGrid:this.grid,U={bucketInstanceId:W,featureIndex:te,collisionGroupID:ye},ie=0;ie<V.length;ie+=4)Le.insertCircle(U,V[ie],V[ie+1],V[ie+2])},xr.prototype.projectAndGetPerspectiveRatio=function(V,Y,W){var te=[Y,W,0,1];return lr(te,te,V),{point:new d.Point((te[0]/te[3]+1)/2*this.transform.width+er,(-te[1]/te[3]+1)/2*this.transform.height+er),perspectiveRatio:.5+this.transform.cameraToCenterDistance/te[3]*.5}},xr.prototype.isOffscreen=function(V,Y,W,te){return W<er||V>=this.screenRightBoundary||te<er||Y>this.screenBottomBoundary},xr.prototype.isInsideGrid=function(V,Y,W,te){return W>=0&&V<this.gridRightBoundary&&te>=0&&Y<this.gridBottomBoundary},xr.prototype.getViewportMatrix=function(){var V=d.identity([]);return d.translate(V,V,[-100,-100,0]),V};var jr=function(V,Y,W,te){this.opacity=V?Math.max(0,Math.min(1,V.opacity+(V.placed?Y:-Y))):te&&W?1:0,this.placed=W};jr.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var Kt=function(V,Y,W,te,ye){this.text=new jr(V?V.text:null,Y,W,ye),this.icon=new jr(V?V.icon:null,Y,te,ye)};Kt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var qt=function(V,Y,W){this.text=V,this.icon=Y,this.skipFade=W},Tn=function(){this.invProjMatrix=d.create(),this.viewportMatrix=d.create(),this.circles=[]},xn=function(V,Y,W,te,ye){this.bucketInstanceId=V,this.featureIndex=Y,this.sourceLayerIndex=W,this.bucketIndex=te,this.tileID=ye},In=function(V){this.crossSourceCollisions=V,this.maxGroupID=0,this.collisionGroups={}};function cr(V,Y,W,te,ye){var Le=d.getAnchorAlignment(V),U=-(Le.horizontalAlign-.5)*Y,ie=-(Le.verticalAlign-.5)*W,de=d.evaluateVariableOffset(V,te);return new d.Point(U+de[0]*ye,ie+de[1]*ye)}function Kn(V,Y,W,te,ye,Le){var U=V.x1,ie=V.x2,de=V.y1,be=V.y2,Ae=V.anchorPointX,Fe=V.anchorPointY,We=new d.Point(Y,W);return te&&We._rotate(ye?Le:-Le),{x1:U+We.x,y1:de+We.y,x2:ie+We.x,y2:be+We.y,anchorPointX:Ae,anchorPointY:Fe}}In.prototype.get=function(V){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[V]){var Y=++this.maxGroupID;this.collisionGroups[V]={ID:Y,predicate:function(W){return W.collisionGroupID===Y}}}return this.collisionGroups[V]};var Jn=function(V,Y,W,te){this.transform=V.clone(),this.collisionIndex=new xr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=Y,this.retainedQueryData={},this.collisionGroups=new In(W),this.collisionCircleArrays={},this.prevPlacement=te,te&&(te.prevPlacement=void 0),this.placedOrientations={}};function vr(V,Y,W,te,ye){V.emplaceBack(Y?1:0,W?1:0,te||0,ye||0),V.emplaceBack(Y?1:0,W?1:0,te||0,ye||0),V.emplaceBack(Y?1:0,W?1:0,te||0,ye||0),V.emplaceBack(Y?1:0,W?1:0,te||0,ye||0)}Jn.prototype.getBucketParts=function(V,Y,W,te){var ye=W.getBucket(Y),Le=W.latestFeatureIndex;if(ye&&Le&&Y.id===ye.layerIds[0]){var U=W.collisionBoxArray,ie=ye.layers[0].layout,de=Math.pow(2,this.transform.zoom-W.tileID.overscaledZ),be=W.tileSize/d.EXTENT,Ae=this.transform.calculatePosMatrix(W.tileID.toUnwrapped()),Fe="map"===ie.get("text-pitch-alignment"),We="map"===ie.get("text-rotation-alignment"),$e=dr(W,1,this.transform.zoom),Qe=Pn(Ae,Fe,We,this.transform,$e),tt=null;if(Fe){var lt=Mn(Ae,Fe,We,this.transform,$e);tt=d.multiply([],this.transform.labelPlaneMatrix,lt)}this.retainedQueryData[ye.bucketInstanceId]=new xn(ye.bucketInstanceId,Le,ye.sourceLayerIndex,ye.index,W.tileID);var yt={bucket:ye,layout:ie,posMatrix:Ae,textLabelPlaneMatrix:Qe,labelToScreenMatrix:tt,scale:de,textPixelRatio:be,holdingForFade:W.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:d.evaluateSizeForZoom(ye.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ye.sourceID)};if(te)for(var Mt=0,Bt=ye.sortKeyRanges;Mt<Bt.length;Mt+=1){var Ut=Bt[Mt];V.push({sortKey:Ut.sortKey,symbolInstanceStart:Ut.symbolInstanceStart,symbolInstanceEnd:Ut.symbolInstanceEnd,parameters:yt})}else V.push({symbolInstanceStart:0,symbolInstanceEnd:ye.symbolInstances.length,parameters:yt})}},Jn.prototype.attemptAnchorPlacement=function(V,Y,W,te,ye,Le,U,ie,de,be,Ae,Fe,We,$e,Qe){var tt,lt=[Fe.textOffset0,Fe.textOffset1],yt=cr(V,W,te,lt,ye),Mt=this.collisionIndex.placeCollisionBox(Kn(Y,yt.x,yt.y,Le,U,this.transform.angle),Ae,ie,de,be.predicate);if(!Qe||0!==this.collisionIndex.placeCollisionBox(Kn(Qe,yt.x,yt.y,Le,U,this.transform.angle),Ae,ie,de,be.predicate).box.length)return Mt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Fe.crossTileID]&&this.prevPlacement.placements[Fe.crossTileID]&&this.prevPlacement.placements[Fe.crossTileID].text&&(tt=this.prevPlacement.variableOffsets[Fe.crossTileID].anchor),this.variableOffsets[Fe.crossTileID]={textOffset:lt,width:W,height:te,anchor:V,textBoxScale:ye,prevAnchor:tt},this.markUsedJustification(We,V,Fe,$e),We.allowVerticalPlacement&&(this.markUsedOrientation(We,$e,Fe),this.placedOrientations[Fe.crossTileID]=$e),{shift:yt,placedGlyphBoxes:Mt}):void 0},Jn.prototype.placeLayerBucketPart=function(V,Y,W){var te=this,ye=V.parameters,Le=ye.bucket,U=ye.layout,ie=ye.posMatrix,de=ye.textLabelPlaneMatrix,be=ye.labelToScreenMatrix,Ae=ye.textPixelRatio,Fe=ye.holdingForFade,We=ye.collisionBoxArray,$e=ye.partiallyEvaluatedTextSize,Qe=ye.collisionGroup,tt=U.get("text-optional"),lt=U.get("icon-optional"),yt=U.get("text-allow-overlap"),Mt=U.get("icon-allow-overlap"),Bt="map"===U.get("text-rotation-alignment"),Ut="map"===U.get("text-pitch-alignment"),jt="none"!==U.get("icon-text-fit"),Xt="viewport-y"===U.get("symbol-z-order"),Vt=yt&&(Mt||!Le.hasIconData()||lt),pn=Mt&&(yt||!Le.hasTextData()||tt);!Le.collisionArrays&&We&&Le.deserializeCollisionBoxes(We);var sn=function(sr,pr){if(!Y[sr.crossTileID])if(Fe)te.placements[sr.crossTileID]=new qt(!1,!1,!1);else{var Cr,Mr=!1,Or=!1,Ur=!0,li=null,nr={box:null,offscreen:null},wr={box:null,offscreen:null},Pr=null,Wr=null,ti=0,di=0,Oi=0;pr.textFeatureIndex?ti=pr.textFeatureIndex:sr.useRuntimeCollisionCircles&&(ti=sr.featureIndex),pr.verticalTextFeatureIndex&&(di=pr.verticalTextFeatureIndex);var to=pr.textBox;if(to){var go=function(jo){var oa=d.WritingMode.horizontal;if(Le.allowVerticalPlacement&&!jo&&te.prevPlacement){var Ws=te.prevPlacement.placedOrientations[sr.crossTileID];Ws&&(te.placedOrientations[sr.crossTileID]=Ws,te.markUsedOrientation(Le,oa=Ws,sr))}return oa},Do=function(jo,oa){if(Le.allowVerticalPlacement&&sr.numVerticalGlyphVertices>0&&pr.verticalTextBox)for(var Ws=0,Dl=Le.writingModes;Ws<Dl.length&&(Dl[Ws]===d.WritingMode.vertical?(nr=oa(),wr=nr):nr=jo(),!(nr&&nr.box&&nr.box.length));Ws+=1);else nr=jo()};if(U.get("text-variable-anchor")){var Zi=U.get("text-variable-anchor");if(te.prevPlacement&&te.prevPlacement.variableOffsets[sr.crossTileID]){var Bo=te.prevPlacement.variableOffsets[sr.crossTileID];Zi.indexOf(Bo.anchor)>0&&(Zi=Zi.filter(function(jo){return jo!==Bo.anchor})).unshift(Bo.anchor)}var ba=function(jo,oa,Ws){for(var Dl=jo.x2-jo.x1,tp=jo.y2-jo.y1,Zd=sr.textBoxScale,cd=jt&&!Mt?oa:null,ud={box:[],offscreen:!1},dd=yt?2*Zi.length:Zi.length,bu=0;bu<dd;++bu){var Yd=te.attemptAnchorPlacement(Zi[bu%Zi.length],jo,Dl,tp,Zd,Bt,Ut,Ae,ie,Qe,bu>=Zi.length,sr,Le,Ws,cd);if(Yd&&(ud=Yd.placedGlyphBoxes)&&ud.box&&ud.box.length){Mr=!0,li=Yd.shift;break}}return ud};Do(function(){return ba(to,pr.iconBox,d.WritingMode.horizontal)},function(){var jo=pr.verticalTextBox;return Le.allowVerticalPlacement&&!(nr&&nr.box&&nr.box.length)&&sr.numVerticalGlyphVertices>0&&jo?ba(jo,pr.verticalIconBox,d.WritingMode.vertical):{box:null,offscreen:null}}),nr&&(Mr=nr.box,Ur=nr.offscreen);var ia=go(nr&&nr.box);if(!Mr&&te.prevPlacement){var Zo=te.prevPlacement.variableOffsets[sr.crossTileID];Zo&&(te.variableOffsets[sr.crossTileID]=Zo,te.markUsedJustification(Le,Zo.anchor,sr,ia))}}else{var Ri=function(jo,oa){var Ws=te.collisionIndex.placeCollisionBox(jo,yt,Ae,ie,Qe.predicate);return Ws&&Ws.box&&Ws.box.length&&(te.markUsedOrientation(Le,oa,sr),te.placedOrientations[sr.crossTileID]=oa),Ws};Do(function(){return Ri(to,d.WritingMode.horizontal)},function(){var jo=pr.verticalTextBox;return Le.allowVerticalPlacement&&sr.numVerticalGlyphVertices>0&&jo?Ri(jo,d.WritingMode.vertical):{box:null,offscreen:null}}),go(nr&&nr.box&&nr.box.length)}}if(Mr=(Cr=nr)&&Cr.box&&Cr.box.length>0,Ur=Cr&&Cr.offscreen,sr.useRuntimeCollisionCircles){var Di=Le.text.placedSymbolArray.get(sr.centerJustifiedTextSymbolIndex),no=d.evaluateSizeForFeature(Le.textSizeData,$e,Di),fo=U.get("text-padding");Pr=te.collisionIndex.placeCollisionCircles(yt,Di,Le.lineVertexArray,Le.glyphOffsetArray,no,ie,de,be,W,Ut,Qe.predicate,sr.collisionCircleDiameter,fo),Mr=yt||Pr.circles.length>0&&!Pr.collisionDetected,Ur=Ur&&Pr.offscreen}if(pr.iconFeatureIndex&&(Oi=pr.iconFeatureIndex),pr.iconBox){var wa=function(jo){var oa=jt&&li?Kn(jo,li.x,li.y,Bt,Ut,te.transform.angle):jo;return te.collisionIndex.placeCollisionBox(oa,Mt,Ae,ie,Qe.predicate)};Or=wr&&wr.box&&wr.box.length&&pr.verticalIconBox?(Wr=wa(pr.verticalIconBox)).box.length>0:(Wr=wa(pr.iconBox)).box.length>0,Ur=Ur&&Wr.offscreen}var Ro=tt||0===sr.numHorizontalGlyphVertices&&0===sr.numVerticalGlyphVertices,Fi=lt||0===sr.numIconVertices;if(Ro||Fi?Fi?Ro||(Or=Or&&Mr):Mr=Or&&Mr:Or=Mr=Or&&Mr,Mr&&Cr&&Cr.box&&te.collisionIndex.insertCollisionBox(Cr.box,U.get("text-ignore-placement"),Le.bucketInstanceId,wr&&wr.box&&di?di:ti,Qe.ID),Or&&Wr&&te.collisionIndex.insertCollisionBox(Wr.box,U.get("icon-ignore-placement"),Le.bucketInstanceId,Oi,Qe.ID),Pr&&(Mr&&te.collisionIndex.insertCollisionCircles(Pr.circles,U.get("text-ignore-placement"),Le.bucketInstanceId,ti,Qe.ID),W)){var Cl=Le.bucketInstanceId,Ca=te.collisionCircleArrays[Cl];void 0===Ca&&(Ca=te.collisionCircleArrays[Cl]=new Tn);for(var qs=0;qs<Pr.circles.length;qs+=4)Ca.circles.push(Pr.circles[qs+0]),Ca.circles.push(Pr.circles[qs+1]),Ca.circles.push(Pr.circles[qs+2]),Ca.circles.push(Pr.collisionDetected?1:0)}te.placements[sr.crossTileID]=new qt(Mr||Vt,Or||pn,Ur||Le.justReloaded),Y[sr.crossTileID]=!0}};if(Xt)for(var tn=Le.getSortedSymbolIndexes(this.transform.angle),Sn=tn.length-1;Sn>=0;--Sn){var Dn=tn[Sn];sn(Le.symbolInstances.get(Dn),Le.collisionArrays[Dn])}else for(var qn=V.symbolInstanceStart;qn<V.symbolInstanceEnd;qn++)sn(Le.symbolInstances.get(qn),Le.collisionArrays[qn]);if(W&&Le.bucketInstanceId in this.collisionCircleArrays){var Qn=this.collisionCircleArrays[Le.bucketInstanceId];d.invert(Qn.invProjMatrix,ie),Qn.viewportMatrix=this.collisionIndex.getViewportMatrix()}Le.justReloaded=!1},Jn.prototype.markUsedJustification=function(V,Y,W,te){var ye;ye=te===d.WritingMode.vertical?W.verticalPlacedTextSymbolIndex:{left:W.leftJustifiedTextSymbolIndex,center:W.centerJustifiedTextSymbolIndex,right:W.rightJustifiedTextSymbolIndex}[d.getAnchorJustification(Y)];for(var U=0,ie=[W.leftJustifiedTextSymbolIndex,W.centerJustifiedTextSymbolIndex,W.rightJustifiedTextSymbolIndex,W.verticalPlacedTextSymbolIndex];U<ie.length;U+=1){var de=ie[U];de>=0&&(V.text.placedSymbolArray.get(de).crossTileID=ye>=0&&de!==ye?0:W.crossTileID)}},Jn.prototype.markUsedOrientation=function(V,Y,W){for(var te=Y===d.WritingMode.horizontal||Y===d.WritingMode.horizontalOnly?Y:0,ye=Y===d.WritingMode.vertical?Y:0,Le=0,U=[W.leftJustifiedTextSymbolIndex,W.centerJustifiedTextSymbolIndex,W.rightJustifiedTextSymbolIndex];Le<U.length;Le+=1)V.text.placedSymbolArray.get(U[Le]).placedOrientation=te;W.verticalPlacedTextSymbolIndex&&(V.text.placedSymbolArray.get(W.verticalPlacedTextSymbolIndex).placedOrientation=ye)},Jn.prototype.commit=function(V){this.commitTime=V,this.zoomAtLastRecencyCheck=this.transform.zoom;var Y=this.prevPlacement,W=!1;this.prevZoomAdjustment=Y?Y.zoomAdjustment(this.transform.zoom):0;var te=Y?Y.symbolFadeChange(V):1,ye=Y?Y.opacities:{},Le=Y?Y.variableOffsets:{},U=Y?Y.placedOrientations:{};for(var ie in this.placements){var de=this.placements[ie],be=ye[ie];be?(this.opacities[ie]=new Kt(be,te,de.text,de.icon),W=W||de.text!==be.text.placed||de.icon!==be.icon.placed):(this.opacities[ie]=new Kt(null,te,de.text,de.icon,de.skipFade),W=W||de.text||de.icon)}for(var Ae in ye){var Fe=ye[Ae];if(!this.opacities[Ae]){var We=new Kt(Fe,te,!1,!1);We.isHidden()||(this.opacities[Ae]=We,W=W||Fe.text.placed||Fe.icon.placed)}}for(var $e in Le)this.variableOffsets[$e]||!this.opacities[$e]||this.opacities[$e].isHidden()||(this.variableOffsets[$e]=Le[$e]);for(var Qe in U)this.placedOrientations[Qe]||!this.opacities[Qe]||this.opacities[Qe].isHidden()||(this.placedOrientations[Qe]=U[Qe]);W?this.lastPlacementChangeTime=V:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=Y?Y.lastPlacementChangeTime:V)},Jn.prototype.updateLayerOpacities=function(V,Y){for(var W={},te=0,ye=Y;te<ye.length;te+=1){var Le=ye[te],U=Le.getBucket(V);U&&Le.latestFeatureIndex&&V.id===U.layerIds[0]&&this.updateBucketOpacities(U,W,Le.collisionBoxArray)}},Jn.prototype.updateBucketOpacities=function(V,Y,W){var te=this;V.hasTextData()&&V.text.opacityVertexArray.clear(),V.hasIconData()&&V.icon.opacityVertexArray.clear(),V.hasIconCollisionBoxData()&&V.iconCollisionBox.collisionVertexArray.clear(),V.hasTextCollisionBoxData()&&V.textCollisionBox.collisionVertexArray.clear();var ye=V.layers[0].layout,Le=new Kt(null,0,!1,!1,!0),U=ye.get("text-allow-overlap"),ie=ye.get("icon-allow-overlap"),de=ye.get("text-variable-anchor"),be="map"===ye.get("text-rotation-alignment"),Ae="map"===ye.get("text-pitch-alignment"),Fe="none"!==ye.get("icon-text-fit"),We=new Kt(null,0,U&&(ie||!V.hasIconData()||ye.get("icon-optional")),ie&&(U||!V.hasTextData()||ye.get("text-optional")),!0);!V.collisionArrays&&W&&(V.hasIconCollisionBoxData()||V.hasTextCollisionBoxData())&&V.deserializeCollisionBoxes(W);for(var $e=function(yt,Mt,Bt){for(var Ut=0;Ut<Mt/4;Ut++)yt.opacityVertexArray.emplaceBack(Bt)},Qe=function(yt){var Mt=V.symbolInstances.get(yt),Bt=Mt.numHorizontalGlyphVertices,Ut=Mt.numVerticalGlyphVertices,jt=Mt.crossTileID,Vt=te.opacities[jt];Y[jt]?Vt=Le:Vt||(te.opacities[jt]=Vt=We),Y[jt]=!0;var sn=Mt.numIconVertices>0,tn=te.placedOrientations[Mt.crossTileID],Sn=tn===d.WritingMode.vertical,Dn=tn===d.WritingMode.horizontal||tn===d.WritingMode.horizontalOnly;if(Bt>0||Ut>0){var qn=Gn(Vt.text);$e(V.text,Bt,Sn?bn:qn),$e(V.text,Ut,Dn?bn:qn);var pr=Vt.text.isHidden();[Mt.rightJustifiedTextSymbolIndex,Mt.centerJustifiedTextSymbolIndex,Mt.leftJustifiedTextSymbolIndex].forEach(function(Oi){Oi>=0&&(V.text.placedSymbolArray.get(Oi).hidden=pr||Sn?1:0)}),Mt.verticalPlacedTextSymbolIndex>=0&&(V.text.placedSymbolArray.get(Mt.verticalPlacedTextSymbolIndex).hidden=pr||Dn?1:0);var Cr=te.variableOffsets[Mt.crossTileID];Cr&&te.markUsedJustification(V,Cr.anchor,Mt,tn);var Mr=te.placedOrientations[Mt.crossTileID];Mr&&(te.markUsedJustification(V,"left",Mt,Mr),te.markUsedOrientation(V,Mr,Mt))}if(sn){var Or=Gn(Vt.icon),Ur=!(Fe&&Mt.verticalPlacedIconSymbolIndex&&Sn);Mt.placedIconSymbolIndex>=0&&($e(V.icon,Mt.numIconVertices,Ur?Or:bn),V.icon.placedSymbolArray.get(Mt.placedIconSymbolIndex).hidden=Vt.icon.isHidden()),Mt.verticalPlacedIconSymbolIndex>=0&&($e(V.icon,Mt.numVerticalIconVertices,Ur?bn:Or),V.icon.placedSymbolArray.get(Mt.verticalPlacedIconSymbolIndex).hidden=Vt.icon.isHidden())}if(V.hasIconCollisionBoxData()||V.hasTextCollisionBoxData()){var wr=V.collisionArrays[yt];if(wr){var Pr=new d.Point(0,0);if(wr.textBox||wr.verticalTextBox){var Wr=!0;if(de){var ti=te.variableOffsets[jt];ti?(Pr=cr(ti.anchor,ti.width,ti.height,ti.textOffset,ti.textBoxScale),be&&Pr._rotate(Ae?te.transform.angle:-te.transform.angle)):Wr=!1}wr.textBox&&vr(V.textCollisionBox.collisionVertexArray,Vt.text.placed,!Wr||Sn,Pr.x,Pr.y),wr.verticalTextBox&&vr(V.textCollisionBox.collisionVertexArray,Vt.text.placed,!Wr||Dn,Pr.x,Pr.y)}var di=Boolean(!Dn&&wr.verticalIconBox);wr.iconBox&&vr(V.iconCollisionBox.collisionVertexArray,Vt.icon.placed,di,Fe?Pr.x:0,Fe?Pr.y:0),wr.verticalIconBox&&vr(V.iconCollisionBox.collisionVertexArray,Vt.icon.placed,!di,Fe?Pr.x:0,Fe?Pr.y:0)}}},tt=0;tt<V.symbolInstances.length;tt++)Qe(tt);if(V.sortFeatures(this.transform.angle),this.retainedQueryData[V.bucketInstanceId]&&(this.retainedQueryData[V.bucketInstanceId].featureSortOrder=V.featureSortOrder),V.hasTextData()&&V.text.opacityVertexBuffer&&V.text.opacityVertexBuffer.updateData(V.text.opacityVertexArray),V.hasIconData()&&V.icon.opacityVertexBuffer&&V.icon.opacityVertexBuffer.updateData(V.icon.opacityVertexArray),V.hasIconCollisionBoxData()&&V.iconCollisionBox.collisionVertexBuffer&&V.iconCollisionBox.collisionVertexBuffer.updateData(V.iconCollisionBox.collisionVertexArray),V.hasTextCollisionBoxData()&&V.textCollisionBox.collisionVertexBuffer&&V.textCollisionBox.collisionVertexBuffer.updateData(V.textCollisionBox.collisionVertexArray),V.bucketInstanceId in this.collisionCircleArrays){var lt=this.collisionCircleArrays[V.bucketInstanceId];V.placementInvProjMatrix=lt.invProjMatrix,V.placementViewportMatrix=lt.viewportMatrix,V.collisionCircleArray=lt.circles,delete this.collisionCircleArrays[V.bucketInstanceId]}},Jn.prototype.symbolFadeChange=function(V){return 0===this.fadeDuration?1:(V-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Jn.prototype.zoomAdjustment=function(V){return Math.max(0,(this.transform.zoom-V)/1.5)},Jn.prototype.hasTransitions=function(V){return this.stale||V-this.lastPlacementChangeTime<this.fadeDuration},Jn.prototype.stillRecent=function(V,Y){var W=this.zoomAtLastRecencyCheck===Y?1-this.zoomAdjustment(Y):1;return this.zoomAtLastRecencyCheck=Y,this.commitTime+this.fadeDuration*W>V},Jn.prototype.setStale=function(){this.stale=!0};var Qt=Math.pow(2,25),zn=Math.pow(2,24),Ft=Math.pow(2,17),on=Math.pow(2,16),un=Math.pow(2,9),On=Math.pow(2,8),Fn=Math.pow(2,1);function Gn(V){if(0===V.opacity&&!V.placed)return 0;if(1===V.opacity&&V.placed)return 4294967295;var Y=V.placed?1:0,W=Math.floor(127*V.opacity);return W*Qt+Y*zn+W*Ft+Y*on+W*un+Y*On+W*Fn+Y}var bn=0,ln=function(V){this._sortAcrossTiles="viewport-y"!==V.layout.get("symbol-z-order")&&void 0!==V.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};ln.prototype.continuePlacement=function(V,Y,W,te,ye){for(var Le=this._bucketParts;this._currentTileIndex<V.length;)if(Y.getBucketParts(Le,te,V[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,ye())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Le.sort(function(de,be){return de.sortKey-be.sortKey}));this._currentPartIndex<Le.length;)if(Y.placeLayerBucketPart(Le[this._currentPartIndex],this._seenCrossTileIDs,W),this._currentPartIndex++,ye())return!0;return!1};var fn=function(V,Y,W,te,ye,Le,U){this.placement=new Jn(V,ye,Le,U),this._currentPlacementIndex=Y.length-1,this._forceFullPlacement=W,this._showCollisionBoxes=te,this._done=!1};fn.prototype.isDone=function(){return this._done},fn.prototype.continuePlacement=function(V,Y,W){for(var te=this,ye=d.browser.now(),Le=function(){var de=d.browser.now()-ye;return!te._forceFullPlacement&&de>2};this._currentPlacementIndex>=0;){var U=Y[V[this._currentPlacementIndex]],ie=this.placement.collisionIndex.transform.zoom;if("symbol"===U.type&&(!U.minzoom||U.minzoom<=ie)&&(!U.maxzoom||U.maxzoom>ie)){if(this._inProgressLayer||(this._inProgressLayer=new ln(U)),this._inProgressLayer.continuePlacement(W[U.source],this.placement,this._showCollisionBoxes,U,Le))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},fn.prototype.commit=function(V){return this.placement.commit(V),this.placement};var _n=512/d.EXTENT/2,wn=function(V,Y,W){this.tileID=V,this.indexedSymbolInstances={},this.bucketInstanceId=W;for(var te=0;te<Y.length;te++){var ye=Y.get(te),Le=ye.key;this.indexedSymbolInstances[Le]||(this.indexedSymbolInstances[Le]=[]),this.indexedSymbolInstances[Le].push({crossTileID:ye.crossTileID,coord:this.getScaledCoordinates(ye,V)})}};wn.prototype.getScaledCoordinates=function(V,Y){var te=_n/Math.pow(2,Y.canonical.z-this.tileID.canonical.z);return{x:Math.floor((Y.canonical.x*d.EXTENT+V.anchorX)*te),y:Math.floor((Y.canonical.y*d.EXTENT+V.anchorY)*te)}},wn.prototype.findMatches=function(V,Y,W){for(var te=this.tileID.canonical.z<Y.canonical.z?1:Math.pow(2,this.tileID.canonical.z-Y.canonical.z),ye=0;ye<V.length;ye++){var Le=V.get(ye);if(!Le.crossTileID){var U=this.indexedSymbolInstances[Le.key];if(U)for(var ie=this.getScaledCoordinates(Le,Y),de=0,be=U;de<be.length;de+=1){var Ae=be[de];if(Math.abs(Ae.coord.x-ie.x)<=te&&Math.abs(Ae.coord.y-ie.y)<=te&&!W[Ae.crossTileID]){W[Ae.crossTileID]=!0,Le.crossTileID=Ae.crossTileID;break}}}}};var Un=function(){this.maxCrossTileID=0};Un.prototype.generate=function(){return++this.maxCrossTileID};var Hn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Hn.prototype.handleWrapJump=function(V){var Y=Math.round((V-this.lng)/360);if(0!==Y)for(var W in this.indexes){var te=this.indexes[W],ye={};for(var Le in te){var U=te[Le];U.tileID=U.tileID.unwrapTo(U.tileID.wrap+Y),ye[U.tileID.key]=U}this.indexes[W]=ye}this.lng=V},Hn.prototype.addBucket=function(V,Y,W){if(this.indexes[V.overscaledZ]&&this.indexes[V.overscaledZ][V.key]){if(this.indexes[V.overscaledZ][V.key].bucketInstanceId===Y.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(V.overscaledZ,this.indexes[V.overscaledZ][V.key])}for(var te=0;te<Y.symbolInstances.length;te++)Y.symbolInstances.get(te).crossTileID=0;this.usedCrossTileIDs[V.overscaledZ]||(this.usedCrossTileIDs[V.overscaledZ]={});var ye=this.usedCrossTileIDs[V.overscaledZ];for(var Le in this.indexes){var U=this.indexes[Le];if(Number(Le)>V.overscaledZ)for(var ie in U){var de=U[ie];de.tileID.isChildOf(V)&&de.findMatches(Y.symbolInstances,V,ye)}else{var be=U[V.scaledTo(Number(Le)).key];be&&be.findMatches(Y.symbolInstances,V,ye)}}for(var Ae=0;Ae<Y.symbolInstances.length;Ae++){var Fe=Y.symbolInstances.get(Ae);Fe.crossTileID||(Fe.crossTileID=W.generate(),ye[Fe.crossTileID]=!0)}return void 0===this.indexes[V.overscaledZ]&&(this.indexes[V.overscaledZ]={}),this.indexes[V.overscaledZ][V.key]=new wn(V,Y.symbolInstances,Y.bucketInstanceId),!0},Hn.prototype.removeBucketCrossTileIDs=function(V,Y){for(var W in Y.indexedSymbolInstances)for(var te=0,ye=Y.indexedSymbolInstances[W];te<ye.length;te+=1)delete this.usedCrossTileIDs[V][ye[te].crossTileID]},Hn.prototype.removeStaleBuckets=function(V){var Y=!1;for(var W in this.indexes){var te=this.indexes[W];for(var ye in te)V[te[ye].bucketInstanceId]||(this.removeBucketCrossTileIDs(W,te[ye]),delete te[ye],Y=!0)}return Y};var ar=function(){this.layerIndexes={},this.crossTileIDs=new Un,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ar.prototype.addLayer=function(V,Y,W){var te=this.layerIndexes[V.id];void 0===te&&(te=this.layerIndexes[V.id]=new Hn);var ye=!1,Le={};te.handleWrapJump(W);for(var U=0,ie=Y;U<ie.length;U+=1){var de=ie[U],be=de.getBucket(V);be&&V.id===be.layerIds[0]&&(be.bucketInstanceId||(be.bucketInstanceId=++this.maxBucketInstanceId),te.addBucket(de.tileID,be,this.crossTileIDs)&&(ye=!0),Le[be.bucketInstanceId]=!0)}return te.removeStaleBuckets(Le)&&(ye=!0),ye},ar.prototype.pruneUnusedLayers=function(V){var Y={};for(var W in V.forEach(function(te){Y[te]=!0}),this.layerIndexes)Y[W]||delete this.layerIndexes[W]};var tr=function(V,Y){return d.emitValidationErrors(V,Y&&Y.filter(function(W){return"source.canvas"!==W.identifier}))},gr=d.pick(_t,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Vn=d.pick(_t,["setCenter","setZoom","setBearing","setPitch"]),Tr=function(){var V={},Y=d.styleSpec.$version;for(var W in d.styleSpec.$root){var ye,te=d.styleSpec.$root[W];te.required&&null!=(ye="version"===W?Y:"array"===te.type?[]:{})&&(V[W]=ye)}return V}(),rr=function(V){function Y(W,te){var ye=this;void 0===te&&(te={}),V.call(this),this.map=W,this.dispatcher=new O(At(),this),this.imageManager=new g,this.imageManager.setEventedParent(this),this.glyphManager=new w(W._requestManager,te.localIdeographFontFamily),this.lineAtlas=new L(256,512),this.crossTileSymbolIndex=new ar,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new d.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",d.getReferrer());var Le=this;this._rtlTextPluginCallback=Y.registerForPluginStateChange(function(U){Le.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:U.pluginStatus,pluginURL:U.pluginURL},function(de,be){if(d.triggerPluginCompletionEvent(de),be&&be.every(function(Fe){return Fe}))for(var Ae in Le.sourceCaches)Le.sourceCaches[Ae].reload()})}),this.on("data",function(U){if("source"===U.dataType&&"metadata"===U.sourceDataType){var ie=ye.sourceCaches[U.sourceId];if(ie){var de=ie.getSource();if(de&&de.vectorLayerIds)for(var be in ye._layers){var Ae=ye._layers[be];Ae.source===de.id&&ye._validateLayer(Ae)}}}})}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.loadURL=function(W,te){var ye=this;void 0===te&&(te={}),this.fire(new d.Event("dataloading",{dataType:"style"}));var Le="boolean"==typeof te.validate?te.validate:!d.isMapboxURL(W);W=this.map._requestManager.normalizeStyleURL(W,te.accessToken);var U=this.map._requestManager.transformRequest(W,d.ResourceType.Style);this._request=d.getJSON(U,function(ie,de){ye._request=null,ie?ye.fire(new d.ErrorEvent(ie)):de&&ye._load(de,Le)})},Y.prototype.loadJSON=function(W,te){var ye=this;void 0===te&&(te={}),this.fire(new d.Event("dataloading",{dataType:"style"})),this._request=d.browser.frame(function(){ye._request=null,ye._load(W,!1!==te.validate)})},Y.prototype.loadEmpty=function(){this.fire(new d.Event("dataloading",{dataType:"style"})),this._load(Tr,!1)},Y.prototype._load=function(W,te){if(!te||!tr(this,d.validateStyle(W))){for(var ye in this._loaded=!0,this.stylesheet=W,W.sources)this.addSource(ye,W.sources[ye],{validate:!1});W.sprite?this._loadSprite(W.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(W.glyphs);var Le=Rt(this.stylesheet.layers);this._order=Le.map(function(be){return be.id}),this._layers={},this._serializedLayers={};for(var U=0,ie=Le;U<ie.length;U+=1){var de=ie[U];(de=d.createStyleLayer(de)).setEventedParent(this,{layer:{id:de.id}}),this._layers[de.id]=de,this._serializedLayers[de.id]=de.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new k(this.stylesheet.light),this.fire(new d.Event("data",{dataType:"style"})),this.fire(new d.Event("style.load"))}},Y.prototype._loadSprite=function(W){var te=this;this._spriteRequest=function(ye,Le,U){var ie,de,be,Ae=d.browser.devicePixelRatio>1?"@2x":"",Fe=d.getJSON(Le.transformRequest(Le.normalizeSpriteURL(ye,Ae,".json"),d.ResourceType.SpriteJSON),function(Qe,tt){Fe=null,be||(be=Qe,ie=tt,$e())}),We=d.getImage(Le.transformRequest(Le.normalizeSpriteURL(ye,Ae,".png"),d.ResourceType.SpriteImage),function(Qe,tt){We=null,be||(be=Qe,de=tt,$e())});function $e(){if(be)U(be);else if(ie&&de){var Qe=d.browser.getImageData(de),tt={};for(var lt in ie){var yt=ie[lt],Mt=yt.width,Bt=yt.height,Ut=yt.x,jt=yt.y,Xt=yt.sdf,Vt=yt.pixelRatio,pn=yt.stretchX,sn=yt.stretchY,tn=yt.content,Sn=new d.RGBAImage({width:Mt,height:Bt});d.RGBAImage.copy(Qe,Sn,{x:Ut,y:jt},{x:0,y:0},{width:Mt,height:Bt}),tt[lt]={data:Sn,pixelRatio:Vt,sdf:Xt,stretchX:pn,stretchY:sn,content:tn}}U(null,tt)}}return{cancel:function(){Fe&&(Fe.cancel(),Fe=null),We&&(We.cancel(),We=null)}}}(W,this.map._requestManager,function(ye,Le){if(te._spriteRequest=null,ye)te.fire(new d.ErrorEvent(ye));else if(Le)for(var U in Le)te.imageManager.addImage(U,Le[U]);te.imageManager.setLoaded(!0),te._availableImages=te.imageManager.listImages(),te.dispatcher.broadcast("setImages",te._availableImages),te.fire(new d.Event("data",{dataType:"style"}))})},Y.prototype._validateLayer=function(W){var te=this.sourceCaches[W.source];if(te){var ye=W.sourceLayer;if(ye){var Le=te.getSource();("geojson"===Le.type||Le.vectorLayerIds&&-1===Le.vectorLayerIds.indexOf(ye))&&this.fire(new d.ErrorEvent(new Error('Source layer "'+ye+'" does not exist on source "'+Le.id+'" as specified by style layer "'+W.id+'"')))}}},Y.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var W in this.sourceCaches)if(!this.sourceCaches[W].loaded())return!1;return!!this.imageManager.isLoaded()},Y.prototype._serializeLayers=function(W){for(var te=[],ye=0,Le=W;ye<Le.length;ye+=1){var ie=this._layers[Le[ye]];"custom"!==ie.type&&te.push(ie.serialize())}return te},Y.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var W in this.sourceCaches)if(this.sourceCaches[W].hasTransition())return!0;for(var te in this._layers)if(this._layers[te].hasTransition())return!0;return!1},Y.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Y.prototype.update=function(W){if(this._loaded){var te=this._changed;if(this._changed){var ye=Object.keys(this._updatedLayers),Le=Object.keys(this._removedLayers);for(var U in(ye.length||Le.length)&&this._updateWorkerLayers(ye,Le),this._updatedSources){var ie=this._updatedSources[U];"reload"===ie?this._reloadSource(U):"clear"===ie&&this._clearSource(U)}for(var de in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[de].updateTransitions(W);this.light.updateTransitions(W),this._resetUpdates()}for(var be in this.sourceCaches)this.sourceCaches[be].used=!1;for(var Ae=0,Fe=this._order;Ae<Fe.length;Ae+=1){var $e=this._layers[Fe[Ae]];$e.recalculate(W,this._availableImages),!$e.isHidden(W.zoom)&&$e.source&&(this.sourceCaches[$e.source].used=!0)}this.light.recalculate(W),this.z=W.zoom,te&&this.fire(new d.Event("data",{dataType:"style"}))}},Y.prototype._updateTilesForChangedImages=function(){var W=Object.keys(this._changedImages);if(W.length){for(var te in this.sourceCaches)this.sourceCaches[te].reloadTilesForDependencies(["icons","patterns"],W);this._changedImages={}}},Y.prototype._updateWorkerLayers=function(W,te){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(W),removedIds:te})},Y.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Y.prototype.setState=function(W){var te=this;if(this._checkLoaded(),tr(this,d.validateStyle(W)))return!1;(W=d.clone$1(W)).layers=Rt(W.layers);var ye=function cn(V,Y){if(!V)return[{command:_t.setStyle,args:[Y]}];var W=[];try{if(!d.deepEqual(V.version,Y.version))return[{command:_t.setStyle,args:[Y]}];d.deepEqual(V.center,Y.center)||W.push({command:_t.setCenter,args:[Y.center]}),d.deepEqual(V.zoom,Y.zoom)||W.push({command:_t.setZoom,args:[Y.zoom]}),d.deepEqual(V.bearing,Y.bearing)||W.push({command:_t.setBearing,args:[Y.bearing]}),d.deepEqual(V.pitch,Y.pitch)||W.push({command:_t.setPitch,args:[Y.pitch]}),d.deepEqual(V.sprite,Y.sprite)||W.push({command:_t.setSprite,args:[Y.sprite]}),d.deepEqual(V.glyphs,Y.glyphs)||W.push({command:_t.setGlyphs,args:[Y.glyphs]}),d.deepEqual(V.transition,Y.transition)||W.push({command:_t.setTransition,args:[Y.transition]}),d.deepEqual(V.light,Y.light)||W.push({command:_t.setLight,args:[Y.light]});var te={},ye=[];!function(U,ie,de,be){var Ae;for(Ae in ie=ie||{},U=U||{})U.hasOwnProperty(Ae)&&(ie.hasOwnProperty(Ae)||It(Ae,de,be));for(Ae in ie)ie.hasOwnProperty(Ae)&&(U.hasOwnProperty(Ae)?d.deepEqual(U[Ae],ie[Ae])||("geojson"===U[Ae].type&&"geojson"===ie[Ae].type&&Zt(U,ie,Ae)?de.push({command:_t.setGeoJSONSourceData,args:[Ae,ie[Ae].data]}):Wt(Ae,ie,de,be)):Tt(Ae,ie,de))}(V.sources,Y.sources,ye,te);var Le=[];V.layers&&V.layers.forEach(function(U){te[U.source]?W.push({command:_t.removeLayer,args:[U.id]}):Le.push(U)}),W=W.concat(ye),function(U,ie,de){ie=ie||[];var be,Ae,Fe,We,$e,Qe,tt,lt=(U=U||[]).map(dn),yt=ie.map(dn),Mt=U.reduce(nn,{}),Bt=ie.reduce(nn,{}),Ut=lt.slice(),jt=Object.create(null);for(be=0,Ae=0;be<lt.length;be++)Bt.hasOwnProperty(Fe=lt[be])?Ae++:(de.push({command:_t.removeLayer,args:[Fe]}),Ut.splice(Ut.indexOf(Fe,Ae),1));for(be=0,Ae=0;be<yt.length;be++)Ut[Ut.length-1-be]!==(Fe=yt[yt.length-1-be])&&(Mt.hasOwnProperty(Fe)?(de.push({command:_t.removeLayer,args:[Fe]}),Ut.splice(Ut.lastIndexOf(Fe,Ut.length-Ae),1)):Ae++,de.push({command:_t.addLayer,args:[Bt[Fe],Qe=Ut[Ut.length-be]]}),Ut.splice(Ut.length-be,0,Fe),jt[Fe]=!0);for(be=0;be<yt.length;be++)if(We=Mt[Fe=yt[be]],$e=Bt[Fe],!jt[Fe]&&!d.deepEqual(We,$e))if(d.deepEqual(We.source,$e.source)&&d.deepEqual(We["source-layer"],$e["source-layer"])&&d.deepEqual(We.type,$e.type)){for(tt in $t(We.layout,$e.layout,de,Fe,null,_t.setLayoutProperty),$t(We.paint,$e.paint,de,Fe,null,_t.setPaintProperty),d.deepEqual(We.filter,$e.filter)||de.push({command:_t.setFilter,args:[Fe,$e.filter]}),d.deepEqual(We.minzoom,$e.minzoom)&&d.deepEqual(We.maxzoom,$e.maxzoom)||de.push({command:_t.setLayerZoomRange,args:[Fe,$e.minzoom,$e.maxzoom]}),We)We.hasOwnProperty(tt)&&"layout"!==tt&&"paint"!==tt&&"filter"!==tt&&"metadata"!==tt&&"minzoom"!==tt&&"maxzoom"!==tt&&(0===tt.indexOf("paint.")?$t(We[tt],$e[tt],de,Fe,tt.slice(6),_t.setPaintProperty):d.deepEqual(We[tt],$e[tt])||de.push({command:_t.setLayerProperty,args:[Fe,tt,$e[tt]]}));for(tt in $e)$e.hasOwnProperty(tt)&&!We.hasOwnProperty(tt)&&"layout"!==tt&&"paint"!==tt&&"filter"!==tt&&"metadata"!==tt&&"minzoom"!==tt&&"maxzoom"!==tt&&(0===tt.indexOf("paint.")?$t(We[tt],$e[tt],de,Fe,tt.slice(6),_t.setPaintProperty):d.deepEqual(We[tt],$e[tt])||de.push({command:_t.setLayerProperty,args:[Fe,tt,$e[tt]]}))}else de.push({command:_t.removeLayer,args:[Fe]}),Qe=Ut[Ut.lastIndexOf(Fe)+1],de.push({command:_t.addLayer,args:[$e,Qe]})}(Le,Y.layers,W)}catch(U){console.warn("Unable to compute style diff:",U),W=[{command:_t.setStyle,args:[Y]}]}return W}(this.serialize(),W).filter(function(U){return!(U.command in Vn)});if(0===ye.length)return!1;var Le=ye.filter(function(U){return!(U.command in gr)});if(Le.length>0)throw new Error("Unimplemented: "+Le.map(function(U){return U.command}).join(", ")+".");return ye.forEach(function(U){"setTransition"!==U.command&&te[U.command].apply(te,U.args)}),this.stylesheet=W,!0},Y.prototype.addImage=function(W,te){if(this.getImage(W))return this.fire(new d.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(W,te),this._availableImages=this.imageManager.listImages(),this._changedImages[W]=!0,this._changed=!0,this.fire(new d.Event("data",{dataType:"style"}))},Y.prototype.updateImage=function(W,te){this.imageManager.updateImage(W,te)},Y.prototype.getImage=function(W){return this.imageManager.getImage(W)},Y.prototype.removeImage=function(W){if(!this.getImage(W))return this.fire(new d.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(W),this._availableImages=this.imageManager.listImages(),this._changedImages[W]=!0,this._changed=!0,this.fire(new d.Event("data",{dataType:"style"}))},Y.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Y.prototype.addSource=function(W,te,ye){var Le=this;if(void 0===ye&&(ye={}),this._checkLoaded(),void 0!==this.sourceCaches[W])throw new Error("There is already a source with this ID");if(!te.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(te).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(te.type)>=0&&this._validate(d.validateStyle.source,"sources."+W,te,null,ye))){this.map&&this.map._collectResourceTiming&&(te.collectResourceTiming=!0);var U=this.sourceCaches[W]=new ft(W,te,this.dispatcher);U.style=this,U.setEventedParent(this,function(){return{isSourceLoaded:Le.loaded(),source:U.serialize(),sourceId:W}}),U.onAdd(this.map),this._changed=!0}},Y.prototype.removeSource=function(W){if(this._checkLoaded(),void 0===this.sourceCaches[W])throw new Error("There is no source with this ID");for(var te in this._layers)if(this._layers[te].source===W)return this.fire(new d.ErrorEvent(new Error('Source "'+W+'" cannot be removed while layer "'+te+'" is using it.')));var ye=this.sourceCaches[W];delete this.sourceCaches[W],delete this._updatedSources[W],ye.fire(new d.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:W})),ye.setEventedParent(null),ye.clearTiles(),ye.onRemove&&ye.onRemove(this.map),this._changed=!0},Y.prototype.setGeoJSONSourceData=function(W,te){this._checkLoaded(),this.sourceCaches[W].getSource().setData(te),this._changed=!0},Y.prototype.getSource=function(W){return this.sourceCaches[W]&&this.sourceCaches[W].getSource()},Y.prototype.addLayer=function(W,te,ye){void 0===ye&&(ye={}),this._checkLoaded();var Le=W.id;if(this.getLayer(Le))this.fire(new d.ErrorEvent(new Error('Layer with id "'+Le+'" already exists on this map')));else{var U;if("custom"===W.type){if(tr(this,d.validateCustomStyleLayer(W)))return;U=d.createStyleLayer(W)}else{if("object"==typeof W.source&&(this.addSource(Le,W.source),W=d.clone$1(W),W=d.extend(W,{source:Le})),this._validate(d.validateStyle.layer,"layers."+Le,W,{arrayIndex:-1},ye))return;U=d.createStyleLayer(W),this._validateLayer(U),U.setEventedParent(this,{layer:{id:Le}}),this._serializedLayers[U.id]=U.serialize()}var ie=te?this._order.indexOf(te):this._order.length;if(te&&-1===ie)this.fire(new d.ErrorEvent(new Error('Layer with id "'+te+'" does not exist on this map.')));else{if(this._order.splice(ie,0,Le),this._layerOrderChanged=!0,this._layers[Le]=U,this._removedLayers[Le]&&U.source&&"custom"!==U.type){var de=this._removedLayers[Le];delete this._removedLayers[Le],de.type!==U.type?this._updatedSources[U.source]="clear":(this._updatedSources[U.source]="reload",this.sourceCaches[U.source].pause())}this._updateLayer(U),U.onAdd&&U.onAdd(this.map)}}},Y.prototype.moveLayer=function(W,te){if(this._checkLoaded(),this._changed=!0,this._layers[W]){if(W!==te){var ye=this._order.indexOf(W);this._order.splice(ye,1);var Le=te?this._order.indexOf(te):this._order.length;te&&-1===Le?this.fire(new d.ErrorEvent(new Error('Layer with id "'+te+'" does not exist on this map.'))):(this._order.splice(Le,0,W),this._layerOrderChanged=!0)}}else this.fire(new d.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be moved.")))},Y.prototype.removeLayer=function(W){this._checkLoaded();var te=this._layers[W];if(te){te.setEventedParent(null);var ye=this._order.indexOf(W);this._order.splice(ye,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[W]=te,delete this._layers[W],delete this._serializedLayers[W],delete this._updatedLayers[W],delete this._updatedPaintProps[W],te.onRemove&&te.onRemove(this.map)}else this.fire(new d.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be removed.")))},Y.prototype.getLayer=function(W){return this._layers[W]},Y.prototype.hasLayer=function(W){return W in this._layers},Y.prototype.setLayerZoomRange=function(W,te,ye){this._checkLoaded();var Le=this.getLayer(W);Le?Le.minzoom===te&&Le.maxzoom===ye||(null!=te&&(Le.minzoom=te),null!=ye&&(Le.maxzoom=ye),this._updateLayer(Le)):this.fire(new d.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot have zoom extent.")))},Y.prototype.setFilter=function(W,te,ye){void 0===ye&&(ye={}),this._checkLoaded();var Le=this.getLayer(W);if(Le){if(!d.deepEqual(Le.filter,te))return null==te?(Le.filter=void 0,void this._updateLayer(Le)):void(this._validate(d.validateStyle.filter,"layers."+Le.id+".filter",te,null,ye)||(Le.filter=d.clone$1(te),this._updateLayer(Le)))}else this.fire(new d.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be filtered.")))},Y.prototype.getFilter=function(W){return d.clone$1(this.getLayer(W).filter)},Y.prototype.setLayoutProperty=function(W,te,ye,Le){void 0===Le&&(Le={}),this._checkLoaded();var U=this.getLayer(W);U?d.deepEqual(U.getLayoutProperty(te),ye)||(U.setLayoutProperty(te,ye,Le),this._updateLayer(U)):this.fire(new d.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getLayoutProperty=function(W,te){var ye=this.getLayer(W);if(ye)return ye.getLayoutProperty(te);this.fire(new d.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style.")))},Y.prototype.setPaintProperty=function(W,te,ye,Le){void 0===Le&&(Le={}),this._checkLoaded();var U=this.getLayer(W);U?d.deepEqual(U.getPaintProperty(te),ye)||(U.setPaintProperty(te,ye,Le)&&this._updateLayer(U),this._changed=!0,this._updatedPaintProps[W]=!0):this.fire(new d.ErrorEvent(new Error("The layer '"+W+"' does not exist in the map's style and cannot be styled.")))},Y.prototype.getPaintProperty=function(W,te){return this.getLayer(W).getPaintProperty(te)},Y.prototype.setFeatureState=function(W,te){this._checkLoaded();var ye=W.source,Le=W.sourceLayer,U=this.sourceCaches[ye];if(void 0!==U){var ie=U.getSource().type;"geojson"===ie&&Le?this.fire(new d.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==ie||Le?(void 0===W.id&&this.fire(new d.ErrorEvent(new Error("The feature id parameter must be provided."))),U.setFeatureState(Le,W.id,te)):this.fire(new d.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new d.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")))},Y.prototype.removeFeatureState=function(W,te){this._checkLoaded();var ye=W.source,Le=this.sourceCaches[ye];if(void 0!==Le){var U=Le.getSource().type,ie="vector"===U?W.sourceLayer:void 0;"vector"!==U||ie?te&&"string"!=typeof W.id&&"number"!=typeof W.id?this.fire(new d.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Le.removeFeatureState(ie,W.id,te):this.fire(new d.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new d.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")))},Y.prototype.getFeatureState=function(W){this._checkLoaded();var te=W.source,ye=W.sourceLayer,Le=this.sourceCaches[te];if(void 0!==Le){if("vector"!==Le.getSource().type||ye)return void 0===W.id&&this.fire(new d.ErrorEvent(new Error("The feature id parameter must be provided."))),Le.getFeatureState(ye,W.id);this.fire(new d.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new d.ErrorEvent(new Error("The source '"+te+"' does not exist in the map's style.")))},Y.prototype.getTransition=function(){return d.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Y.prototype.serialize=function(){return d.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:d.mapObject(this.sourceCaches,function(W){return W.serialize()}),layers:this._serializeLayers(this._order)},function(W){return void 0!==W})},Y.prototype._updateLayer=function(W){this._updatedLayers[W.id]=!0,W.source&&!this._updatedSources[W.source]&&"raster"!==this.sourceCaches[W.source].getSource().type&&(this._updatedSources[W.source]="reload",this.sourceCaches[W.source].pause()),this._changed=!0},Y.prototype._flattenAndSortRenderedFeatures=function(W){for(var te=this,ye=function(tn){return"fill-extrusion"===te._layers[tn].type},Le={},U=[],ie=this._order.length-1;ie>=0;ie--){var de=this._order[ie];if(ye(de)){Le[de]=ie;for(var be=0,Ae=W;be<Ae.length;be+=1){var Fe=Ae[be][de];if(Fe)for(var We=0,$e=Fe;We<$e.length;We+=1)U.push($e[We])}}}U.sort(function(tn,Sn){return Sn.intersectionZ-tn.intersectionZ});for(var tt=[],lt=this._order.length-1;lt>=0;lt--){var yt=this._order[lt];if(ye(yt))for(var Mt=U.length-1;Mt>=0;Mt--){var Bt=U[Mt].feature;if(Le[Bt.layer.id]<lt)break;tt.push(Bt),U.pop()}else for(var Ut=0,jt=W;Ut<jt.length;Ut+=1){var Xt=jt[Ut][yt];if(Xt)for(var Vt=0,pn=Xt;Vt<pn.length;Vt+=1)tt.push(pn[Vt].feature)}}return tt},Y.prototype.queryRenderedFeatures=function(W,te,ye){te&&te.filter&&this._validate(d.validateStyle.filter,"queryRenderedFeatures.filter",te.filter,null,te);var Le={};if(te&&te.layers){if(!Array.isArray(te.layers))return this.fire(new d.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var U=0,ie=te.layers;U<ie.length;U+=1){var de=ie[U],be=this._layers[de];if(!be)return this.fire(new d.ErrorEvent(new Error("The layer '"+de+"' does not exist in the map's style and cannot be queried for features."))),[];Le[be.source]=!0}}var Ae=[];for(var Fe in te.availableImages=this._availableImages,this.sourceCaches)te.layers&&!Le[Fe]||Ae.push(re(this.sourceCaches[Fe],this._layers,this._serializedLayers,W,te,ye));return this.placement&&Ae.push(function(We,$e,Qe,tt,lt,yt,Mt){for(var Bt={},Ut=yt.queryRenderedSymbols(tt),jt=[],Xt=0,Vt=Object.keys(Ut).map(Number);Xt<Vt.length;Xt+=1)jt.push(Mt[Vt[Xt]]);jt.sort(Q);for(var sn=function(){var Qn=Sn[tn],sr=Qn.featureIndex.lookupSymbolFeatures(Ut[Qn.bucketInstanceId],$e,Qn.bucketIndex,Qn.sourceLayerIndex,lt.filter,lt.layers,lt.availableImages,We);for(var pr in sr){var Cr=Bt[pr]=Bt[pr]||[],Mr=sr[pr];Mr.sort(function(nr,wr){var Pr=Qn.featureSortOrder;if(Pr){var Wr=Pr.indexOf(nr.featureIndex);return Pr.indexOf(wr.featureIndex)-Wr}return wr.featureIndex-nr.featureIndex});for(var Or=0,Ur=Mr;Or<Ur.length;Or+=1)Cr.push(Ur[Or])}},tn=0,Sn=jt;tn<Sn.length;tn+=1)sn();var Dn=function(Qn){Bt[Qn].forEach(function(sr){var pr=sr.feature,Mr=Qe[We[Qn].source].getFeatureState(pr.layer["source-layer"],pr.id);pr.source=pr.layer.source,pr.layer["source-layer"]&&(pr.sourceLayer=pr.layer["source-layer"]),pr.state=Mr})};for(var qn in Bt)Dn(qn);return Bt}(this._layers,this._serializedLayers,this.sourceCaches,W,te,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ae)},Y.prototype.querySourceFeatures=function(W,te){te&&te.filter&&this._validate(d.validateStyle.filter,"querySourceFeatures.filter",te.filter,null,te);var ye=this.sourceCaches[W];return ye?function(Le,U){for(var ie=Le.getRenderableIds().map(function($e){return Le.getTileByID($e)}),de=[],be={},Ae=0;Ae<ie.length;Ae++){var Fe=ie[Ae],We=Fe.tileID.canonical.key;be[We]||(be[We]=!0,Fe.querySourceFeatures(de,U))}return de}(ye,te):[]},Y.prototype.addSourceType=function(W,te,ye){return Y.getSourceType(W)?ye(new Error('A source type called "'+W+'" already exists.')):(Y.setSourceType(W,te),te.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:W,url:te.workerSourceURL},ye):ye(null,null))},Y.prototype.getLight=function(){return this.light.getLight()},Y.prototype.setLight=function(W,te){void 0===te&&(te={}),this._checkLoaded();var ye=this.light.getLight(),Le=!1;for(var U in W)if(!d.deepEqual(W[U],ye[U])){Le=!0;break}if(Le){var ie={now:d.browser.now(),transition:d.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(W,te),this.light.updateTransitions(ie)}},Y.prototype._validate=function(W,te,ye,Le,U){return void 0===U&&(U={}),(!U||!1!==U.validate)&&tr(this,W.call(d.validateStyle,d.extend({key:te,style:this.serialize(),value:ye,styleSpec:d.styleSpec},Le)))},Y.prototype._remove=function(){for(var W in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),d.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[W].setEventedParent(null);for(var te in this.sourceCaches)this.sourceCaches[te].clearTiles(),this.sourceCaches[te].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Y.prototype._clearSource=function(W){this.sourceCaches[W].clearTiles()},Y.prototype._reloadSource=function(W){this.sourceCaches[W].resume(),this.sourceCaches[W].reload()},Y.prototype._updateSources=function(W){for(var te in this.sourceCaches)this.sourceCaches[te].update(W)},Y.prototype._generateCollisionBoxes=function(){for(var W in this.sourceCaches)this._reloadSource(W)},Y.prototype._updatePlacement=function(W,te,ye,Le,U){void 0===U&&(U=!1);for(var ie=!1,de=!1,be={},Ae=0,Fe=this._order;Ae<Fe.length;Ae+=1){var $e=this._layers[Fe[Ae]];if("symbol"===$e.type){if(!be[$e.source]){var Qe=this.sourceCaches[$e.source];be[$e.source]=Qe.getRenderableIds(!0).map(function(Ut){return Qe.getTileByID(Ut)}).sort(function(Ut,jt){return jt.tileID.overscaledZ-Ut.tileID.overscaledZ||(Ut.tileID.isLessThan(jt.tileID)?-1:1)})}var tt=this.crossTileSymbolIndex.addLayer($e,be[$e.source],W.center.lng);ie=ie||tt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((U=U||this._layerOrderChanged||0===ye)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(d.browser.now(),W.zoom))&&(this.pauseablePlacement=new fn(W,this._order,U,te,ye,Le,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,be),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(d.browser.now()),de=!0),ie&&this.pauseablePlacement.placement.setStale()),de||ie)for(var lt=0,yt=this._order;lt<yt.length;lt+=1){var Bt=this._layers[yt[lt]];"symbol"===Bt.type&&this.placement.updateLayerOpacities(Bt,be[Bt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(d.browser.now())},Y.prototype._releaseSymbolFadeTiles=function(){for(var W in this.sourceCaches)this.sourceCaches[W].releaseSymbolFadeTiles()},Y.prototype.getImages=function(W,te,ye){this.imageManager.getImages(te.icons,ye),this._updateTilesForChangedImages();var Le=this.sourceCaches[te.source];Le&&Le.setDependencies(te.tileID.key,te.type,te.icons)},Y.prototype.getGlyphs=function(W,te,ye){this.glyphManager.getGlyphs(te.stacks,ye)},Y.prototype.getResource=function(W,te,ye){return d.makeRequest(te,ye)},Y}(d.Evented);rr.getSourceType=function(V){return se[V]},rr.setSourceType=function(V,Y){se[V]=Y},rr.registerForPluginStateChange=d.registerForPluginStateChange;var _r=d.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ir=Li("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Lr=Li("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Jr=Li("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),fr=Li("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Rr=Li("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),oi=Li("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),ji=Li("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),ko=Li("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Zr=Li("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),_o=Li("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ao=Li("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Bi=Li("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ps=Li("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),ss=Li("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Vi=Li("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),ju=Li("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Ac=Li("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Jc=Li("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),rc=Li("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),vs=Li("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),Rc=Li("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),ic=Li("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),oc=Li("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),tl=Li("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),Ho=Li("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),bl=Li("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function Li(V,Y){var W=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te={};return{fragmentSource:V=V.replace(W,function(ye,Le,U,ie,de){return te[de]=!0,"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+de+"\nvarying "+U+" "+ie+" "+de+";\n#else\nuniform "+U+" "+ie+" u_"+de+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+de+"\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n"}),vertexSource:Y=Y.replace(W,function(ye,Le,U,ie,de){var be="float"===ie?"vec2":"vec4",Ae=de.match(/color/)?"color":be;return te[de]?"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+de+"\nuniform lowp float u_"+de+"_t;\nattribute "+U+" "+be+" a_"+de+";\nvarying "+U+" "+ie+" "+de+";\n#else\nuniform "+U+" "+ie+" u_"+de+";\n#endif\n":"vec4"===Ae?"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+de+" = a_"+de+";\n#else\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+de+" = unpack_mix_"+Ae+"(a_"+de+", u_"+de+"_t);\n#else\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n":"define"===Le?"\n#ifndef HAS_UNIFORM_u_"+de+"\nuniform lowp float u_"+de+"_t;\nattribute "+U+" "+be+" a_"+de+";\n#else\nuniform "+U+" "+ie+" u_"+de+";\n#endif\n":"vec4"===Ae?"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+U+" "+ie+" "+de+" = a_"+de+";\n#else\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+de+"\n    "+U+" "+ie+" "+de+" = unpack_mix_"+Ae+"(a_"+de+", u_"+de+"_t);\n#else\n    "+U+" "+ie+" "+de+" = u_"+de+";\n#endif\n"})}}var nl=Object.freeze({__proto__:null,prelude:Ir,background:Lr,backgroundPattern:Jr,circle:fr,clippingMask:Rr,heatmap:oi,heatmapTexture:ji,collisionBox:ko,collisionCircle:Zr,debug:_o,fill:ao,fillOutline:Bi,fillOutlinePattern:Ps,fillPattern:ss,fillExtrusion:Vi,fillExtrusionPattern:ju,hillshadePrepare:Ac,hillshade:Jc,line:rc,lineGradient:vs,linePattern:Rc,lineSDF:ic,raster:oc,symbolIcon:tl,symbolSDF:Ho,symbolTextAndIcon:bl}),Dr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Dr.prototype.bind=function(V,Y,W,te,ye,Le,U,ie){this.context=V;for(var de=this.boundPaintVertexBuffers.length!==te.length,be=0;!de&&be<te.length;be++)this.boundPaintVertexBuffers[be]!==te[be]&&(de=!0);V.extVertexArrayObject&&this.vao&&this.boundProgram===Y&&this.boundLayoutVertexBuffer===W&&!de&&this.boundIndexBuffer===ye&&this.boundVertexOffset===Le&&this.boundDynamicVertexBuffer===U&&this.boundDynamicVertexBuffer2===ie?(V.bindVertexArrayOES.set(this.vao),U&&U.bind(),ye&&ye.dynamicDraw&&ye.bind(),ie&&ie.bind()):this.freshBind(Y,W,te,ye,Le,U,ie)},Dr.prototype.freshBind=function(V,Y,W,te,ye,Le,U){var ie,de=V.numAttributes,be=this.context,Ae=be.gl;if(be.extVertexArrayObject)this.vao&&this.destroy(),this.vao=be.extVertexArrayObject.createVertexArrayOES(),be.bindVertexArrayOES.set(this.vao),ie=0,this.boundProgram=V,this.boundLayoutVertexBuffer=Y,this.boundPaintVertexBuffers=W,this.boundIndexBuffer=te,this.boundVertexOffset=ye,this.boundDynamicVertexBuffer=Le,this.boundDynamicVertexBuffer2=U;else{ie=be.currentNumAttributes||0;for(var Fe=de;Fe<ie;Fe++)Ae.disableVertexAttribArray(Fe)}Y.enableAttributes(Ae,V);for(var We=0,$e=W;We<$e.length;We+=1)$e[We].enableAttributes(Ae,V);Le&&Le.enableAttributes(Ae,V),U&&U.enableAttributes(Ae,V),Y.bind(),Y.setVertexAttribPointers(Ae,V,ye);for(var Qe=0,tt=W;Qe<tt.length;Qe+=1){var lt=tt[Qe];lt.bind(),lt.setVertexAttribPointers(Ae,V,ye)}Le&&(Le.bind(),Le.setVertexAttribPointers(Ae,V,ye)),te&&te.bind(),U&&(U.bind(),U.setVertexAttribPointers(Ae,V,ye)),be.currentNumAttributes=de},Dr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var rl=function(V,Y,W,te,ye){var Le=V.gl;this.program=Le.createProgram();var U=W?W.defines():[];ye&&U.push("#define OVERDRAW_INSPECTOR;");var ie=U.concat(Ir.fragmentSource,Y.fragmentSource).join("\n"),de=U.concat(Ir.vertexSource,Y.vertexSource).join("\n"),be=Le.createShader(Le.FRAGMENT_SHADER);if(Le.isContextLost())this.failedToCreate=!0;else{Le.shaderSource(be,ie),Le.compileShader(be),Le.attachShader(this.program,be);var Ae=Le.createShader(Le.VERTEX_SHADER);if(Le.isContextLost())this.failedToCreate=!0;else{Le.shaderSource(Ae,de),Le.compileShader(Ae),Le.attachShader(this.program,Ae);for(var Fe=W?W.layoutAttributes:[],We=0;We<Fe.length;We++)Le.bindAttribLocation(this.program,We,Fe[We].name);Le.linkProgram(this.program),Le.deleteShader(Ae),Le.deleteShader(be),this.numAttributes=Le.getProgramParameter(this.program,Le.ACTIVE_ATTRIBUTES),this.attributes={};for(var $e={},Qe=0;Qe<this.numAttributes;Qe++){var tt=Le.getActiveAttrib(this.program,Qe);tt&&(this.attributes[tt.name]=Le.getAttribLocation(this.program,tt.name))}for(var lt=Le.getProgramParameter(this.program,Le.ACTIVE_UNIFORMS),yt=0;yt<lt;yt++){var Mt=Le.getActiveUniform(this.program,yt);Mt&&($e[Mt.name]=Le.getUniformLocation(this.program,Mt.name))}this.fixedUniforms=te(V,$e),this.binderUniforms=W?W.getUniforms(V,$e):[]}}};function gi(V,Y,W){var te=1/dr(W,1,Y.transform.tileZoom),ye=Math.pow(2,W.tileID.overscaledZ),Le=W.tileSize*Math.pow(2,Y.transform.tileZoom)/ye,U=Le*(W.tileID.canonical.x+W.tileID.wrap*ye),ie=Le*W.tileID.canonical.y;return{u_image:0,u_texsize:W.imageAtlasTexture.size,u_scale:[te,V.fromScale,V.toScale],u_fade:V.t,u_pixel_coord_upper:[U>>16,ie>>16],u_pixel_coord_lower:[65535&U,65535&ie]}}rl.prototype.draw=function(V,Y,W,te,ye,Le,U,ie,de,be,Ae,Fe,We,$e,Qe,tt){var lt,yt=V.gl;if(!this.failedToCreate){for(var Mt in V.program.set(this.program),V.setDepthMode(W),V.setStencilMode(te),V.setColorMode(ye),V.setCullFace(Le),this.fixedUniforms)this.fixedUniforms[Mt].set(U[Mt]);$e&&$e.setUniforms(V,this.binderUniforms,Fe,{zoom:We});for(var Bt=(lt={},lt[yt.LINES]=2,lt[yt.TRIANGLES]=3,lt[yt.LINE_STRIP]=1,lt)[Y],Ut=0,jt=Ae.get();Ut<jt.length;Ut+=1){var Xt=jt[Ut],Vt=Xt.vaos||(Xt.vaos={});(Vt[ie]||(Vt[ie]=new Dr)).bind(V,this,de,$e?$e.getPaintVertexBuffers():[],be,Xt.vertexOffset,Qe,tt),yt.drawElements(Y,Xt.primitiveLength*Bt,yt.UNSIGNED_SHORT,Xt.primitiveOffset*Bt*2)}}};var Rs=function(V,Y,W,te){var ye=Y.style.light,Le=ye.properties.get("position"),U=[Le.x,Le.y,Le.z],ie=d.create$1();"viewport"===ye.properties.get("anchor")&&d.fromRotation(ie,-Y.transform.angle),d.transformMat3(U,U,ie);var de=ye.properties.get("color");return{u_matrix:V,u_lightpos:U,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[de.r,de.g,de.b],u_vertical_gradient:+W,u_opacity:te}},Fs=function(V,Y,W,te,ye,Le,U){return d.extend(Rs(V,Y,W,te),gi(Le,Y,U),{u_height_factor:-Math.pow(2,ye.overscaledZ)/U.tileSize/8})},ls=function(V){return{u_matrix:V}},Qc=function(V,Y,W,te){return d.extend(ls(V),gi(W,Y,te))},Vu=function(V,Y){return{u_matrix:V,u_world:Y}},Fl=function(V,Y,W,te,ye){return d.extend(Qc(V,Y,W,te),{u_world:ye})},il=function(V,Y,W,te){var ye,Le,U=V.transform;if("map"===te.paint.get("circle-pitch-alignment")){var ie=dr(W,1,U.zoom);ye=!0,Le=[ie,ie]}else ye=!1,Le=U.pixelsToGLUnits;return{u_camera_to_center_distance:U.cameraToCenterDistance,u_scale_with_map:+("map"===te.paint.get("circle-pitch-scale")),u_matrix:V.translatePosMatrix(Y.posMatrix,W,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+ye,u_device_pixel_ratio:d.browser.devicePixelRatio,u_extrude_scale:Le}},ys=function(V,Y,W){var te=dr(W,1,Y.zoom),ye=Math.pow(2,Y.zoom-W.tileID.overscaledZ),Le=W.tileID.overscaleFactor();return{u_matrix:V,u_camera_to_center_distance:Y.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[Y.pixelsToGLUnits[0]/(te*ye),Y.pixelsToGLUnits[1]/(te*ye)],u_overscale_factor:Le}},xs=function(V,Y,W){return{u_matrix:V,u_inv_matrix:Y,u_camera_to_center_distance:W.cameraToCenterDistance,u_viewport_size:[W.width,W.height]}},Ns=function(V,Y,W){return void 0===W&&(W=1),{u_matrix:V,u_color:Y,u_overlay:0,u_overlay_scale:W}},Gi=function(V){return{u_matrix:V}},wl=function(V,Y,W,te){return{u_matrix:V,u_extrude_scale:dr(Y,1,W),u_intensity:te}},Tl=function(V,Y,W){var te=W.paint.get("hillshade-shadow-color"),ye=W.paint.get("hillshade-highlight-color"),Le=W.paint.get("hillshade-accent-color"),U=W.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===W.paint.get("hillshade-illumination-anchor")&&(U-=V.transform.angle);var ie,de,be,Ae=!V.options.moving;return{u_matrix:V.transform.calculatePosMatrix(Y.tileID.toUnwrapped(),Ae),u_image:0,u_latrange:(ie=Y.tileID,de=Math.pow(2,ie.canonical.z),be=ie.canonical.y,[new d.MercatorCoordinate(0,be/de).toLngLat().lat,new d.MercatorCoordinate(0,(be+1)/de).toLngLat().lat]),u_light:[W.paint.get("hillshade-exaggeration"),U],u_shadow:te,u_highlight:ye,u_accent:Le}},ac=function(V,Y,W){var te=Y.stride,ye=d.create();return d.ortho(ye,0,d.EXTENT,-d.EXTENT,0,0,1),d.translate(ye,ye,[0,-d.EXTENT,0]),{u_matrix:ye,u_image:1,u_dimension:[te,te],u_zoom:V.overscaledZ,u_maxzoom:W,u_unpack:Y.getUnpackVector()}},_s=function(V,Y,W){var te=V.transform;return{u_matrix:al(V,Y,W),u_ratio:1/dr(Y,1,te.zoom),u_device_pixel_ratio:d.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},sc=function(V,Y,W){return d.extend(_s(V,Y,W),{u_image:0})},vu=function(V,Y,W,te){var ye=V.transform,Le=lc(Y,ye);return{u_matrix:al(V,Y,W),u_texsize:Y.imageAtlasTexture.size,u_ratio:1/dr(Y,1,ye.zoom),u_device_pixel_ratio:d.browser.devicePixelRatio,u_image:0,u_scale:[Le,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},Ki=function(V,Y,W,te,ye){var U=V.lineAtlas,ie=lc(Y,V.transform),de="round"===W.layout.get("line-cap"),be=U.getDash(te.from,de),Ae=U.getDash(te.to,de),Fe=be.width*ye.fromScale,We=Ae.width*ye.toScale;return d.extend(_s(V,Y,W),{u_patternscale_a:[ie/Fe,-be.height/2],u_patternscale_b:[ie/We,-Ae.height/2],u_sdfgamma:U.width/(256*Math.min(Fe,We)*d.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:be.y,u_tex_y_b:Ae.y,u_mix:ye.t})};function lc(V,Y){return 1/dr(V,1,Y.tileZoom)}function al(V,Y,W){return V.translatePosMatrix(Y.tileID.posMatrix,Y,W.paint.get("line-translate"),W.paint.get("line-translate-anchor"))}var Ml=function(V,Y,W,te,ye){return{u_matrix:V,u_tl_parent:Y,u_scale_parent:W,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:(U=ye.paint.get("raster-saturation"),U>0?1-1/(1.001-U):-U),u_contrast_factor:(Le=ye.paint.get("raster-contrast"),Le>0?1/(1-Le):1+Le),u_spin_weights:Ui(ye.paint.get("raster-hue-rotate"))};var Le,U};function Ui(V){V*=Math.PI/180;var Y=Math.sin(V),W=Math.cos(V);return[(2*W+1)/3,(-Math.sqrt(3)*Y-W+1)/3,(Math.sqrt(3)*Y-W+1)/3]}var Nl,Ji=function(V,Y,W,te,ye,Le,U,ie,de,be){var Ae=ye.transform;return{u_is_size_zoom_constant:+("constant"===V||"source"===V),u_is_size_feature_constant:+("constant"===V||"camera"===V),u_size_t:Y?Y.uSizeT:0,u_size:Y?Y.uSize:0,u_camera_to_center_distance:Ae.cameraToCenterDistance,u_pitch:Ae.pitch/360*2*Math.PI,u_rotate_symbol:+W,u_aspect_ratio:Ae.width/Ae.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:Le,u_label_plane_matrix:U,u_coord_matrix:ie,u_is_text:+de,u_pitch_with_map:+te,u_texsize:be,u_texture:0}},Vr=function(V,Y,W,te,ye,Le,U,ie,de,be,Ae){var Fe=ye.transform;return d.extend(Ji(V,Y,W,te,ye,Le,U,ie,de,be),{u_gamma_scale:te?Math.cos(Fe._pitch)*Fe.cameraToCenterDistance:1,u_device_pixel_ratio:d.browser.devicePixelRatio,u_is_halo:+Ae})},pa=function(V,Y,W,te,ye,Le,U,ie,de,be){return d.extend(Vr(V,Y,W,te,ye,Le,U,ie,!0,de,!0),{u_texsize_icon:be,u_texture_icon:1})},Si=function(V,Y,W){return{u_matrix:V,u_opacity:Y,u_color:W}},Go=function(V,Y,W,te,ye,Le){return d.extend((ie=Le,be=ye,Ae=(de=W).imageManager.getPattern((U=te).from.toString()),Fe=de.imageManager.getPattern(U.to.toString()),$e=(We=de.imageManager.getPixelSize()).width,Qe=We.height,tt=Math.pow(2,be.tileID.overscaledZ),yt=(lt=be.tileSize*Math.pow(2,de.transform.tileZoom)/tt)*(be.tileID.canonical.x+be.tileID.wrap*tt),Mt=lt*be.tileID.canonical.y,{u_image:0,u_pattern_tl_a:Ae.tl,u_pattern_br_a:Ae.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[$e,Qe],u_mix:ie.t,u_pattern_size_a:Ae.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:ie.fromScale,u_scale_b:ie.toScale,u_tile_units_to_pixels:1/dr(be,1,de.transform.tileZoom),u_pixel_coord_upper:[yt>>16,Mt>>16],u_pixel_coord_lower:[65535&yt,65535&Mt]}),{u_matrix:V,u_opacity:Y});var U,ie,de,be,Ae,Fe,We,$e,Qe,tt,lt,yt,Mt},Xa={fillExtrusion:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_lightpos:new d.Uniform3f(V,Y.u_lightpos),u_lightintensity:new d.Uniform1f(V,Y.u_lightintensity),u_lightcolor:new d.Uniform3f(V,Y.u_lightcolor),u_vertical_gradient:new d.Uniform1f(V,Y.u_vertical_gradient),u_opacity:new d.Uniform1f(V,Y.u_opacity)}},fillExtrusionPattern:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_lightpos:new d.Uniform3f(V,Y.u_lightpos),u_lightintensity:new d.Uniform1f(V,Y.u_lightintensity),u_lightcolor:new d.Uniform3f(V,Y.u_lightcolor),u_vertical_gradient:new d.Uniform1f(V,Y.u_vertical_gradient),u_height_factor:new d.Uniform1f(V,Y.u_height_factor),u_image:new d.Uniform1i(V,Y.u_image),u_texsize:new d.Uniform2f(V,Y.u_texsize),u_pixel_coord_upper:new d.Uniform2f(V,Y.u_pixel_coord_upper),u_pixel_coord_lower:new d.Uniform2f(V,Y.u_pixel_coord_lower),u_scale:new d.Uniform3f(V,Y.u_scale),u_fade:new d.Uniform1f(V,Y.u_fade),u_opacity:new d.Uniform1f(V,Y.u_opacity)}},fill:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix)}},fillPattern:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_image:new d.Uniform1i(V,Y.u_image),u_texsize:new d.Uniform2f(V,Y.u_texsize),u_pixel_coord_upper:new d.Uniform2f(V,Y.u_pixel_coord_upper),u_pixel_coord_lower:new d.Uniform2f(V,Y.u_pixel_coord_lower),u_scale:new d.Uniform3f(V,Y.u_scale),u_fade:new d.Uniform1f(V,Y.u_fade)}},fillOutline:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_world:new d.Uniform2f(V,Y.u_world)}},fillOutlinePattern:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_world:new d.Uniform2f(V,Y.u_world),u_image:new d.Uniform1i(V,Y.u_image),u_texsize:new d.Uniform2f(V,Y.u_texsize),u_pixel_coord_upper:new d.Uniform2f(V,Y.u_pixel_coord_upper),u_pixel_coord_lower:new d.Uniform2f(V,Y.u_pixel_coord_lower),u_scale:new d.Uniform3f(V,Y.u_scale),u_fade:new d.Uniform1f(V,Y.u_fade)}},circle:function(V,Y){return{u_camera_to_center_distance:new d.Uniform1f(V,Y.u_camera_to_center_distance),u_scale_with_map:new d.Uniform1i(V,Y.u_scale_with_map),u_pitch_with_map:new d.Uniform1i(V,Y.u_pitch_with_map),u_extrude_scale:new d.Uniform2f(V,Y.u_extrude_scale),u_device_pixel_ratio:new d.Uniform1f(V,Y.u_device_pixel_ratio),u_matrix:new d.UniformMatrix4f(V,Y.u_matrix)}},collisionBox:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_camera_to_center_distance:new d.Uniform1f(V,Y.u_camera_to_center_distance),u_pixels_to_tile_units:new d.Uniform1f(V,Y.u_pixels_to_tile_units),u_extrude_scale:new d.Uniform2f(V,Y.u_extrude_scale),u_overscale_factor:new d.Uniform1f(V,Y.u_overscale_factor)}},collisionCircle:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_inv_matrix:new d.UniformMatrix4f(V,Y.u_inv_matrix),u_camera_to_center_distance:new d.Uniform1f(V,Y.u_camera_to_center_distance),u_viewport_size:new d.Uniform2f(V,Y.u_viewport_size)}},debug:function(V,Y){return{u_color:new d.UniformColor(V,Y.u_color),u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_overlay:new d.Uniform1i(V,Y.u_overlay),u_overlay_scale:new d.Uniform1f(V,Y.u_overlay_scale)}},clippingMask:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix)}},heatmap:function(V,Y){return{u_extrude_scale:new d.Uniform1f(V,Y.u_extrude_scale),u_intensity:new d.Uniform1f(V,Y.u_intensity),u_matrix:new d.UniformMatrix4f(V,Y.u_matrix)}},heatmapTexture:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_world:new d.Uniform2f(V,Y.u_world),u_image:new d.Uniform1i(V,Y.u_image),u_color_ramp:new d.Uniform1i(V,Y.u_color_ramp),u_opacity:new d.Uniform1f(V,Y.u_opacity)}},hillshade:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_image:new d.Uniform1i(V,Y.u_image),u_latrange:new d.Uniform2f(V,Y.u_latrange),u_light:new d.Uniform2f(V,Y.u_light),u_shadow:new d.UniformColor(V,Y.u_shadow),u_highlight:new d.UniformColor(V,Y.u_highlight),u_accent:new d.UniformColor(V,Y.u_accent)}},hillshadePrepare:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_image:new d.Uniform1i(V,Y.u_image),u_dimension:new d.Uniform2f(V,Y.u_dimension),u_zoom:new d.Uniform1f(V,Y.u_zoom),u_maxzoom:new d.Uniform1f(V,Y.u_maxzoom),u_unpack:new d.Uniform4f(V,Y.u_unpack)}},line:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_ratio:new d.Uniform1f(V,Y.u_ratio),u_device_pixel_ratio:new d.Uniform1f(V,Y.u_device_pixel_ratio),u_units_to_pixels:new d.Uniform2f(V,Y.u_units_to_pixels)}},lineGradient:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_ratio:new d.Uniform1f(V,Y.u_ratio),u_device_pixel_ratio:new d.Uniform1f(V,Y.u_device_pixel_ratio),u_units_to_pixels:new d.Uniform2f(V,Y.u_units_to_pixels),u_image:new d.Uniform1i(V,Y.u_image)}},linePattern:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_texsize:new d.Uniform2f(V,Y.u_texsize),u_ratio:new d.Uniform1f(V,Y.u_ratio),u_device_pixel_ratio:new d.Uniform1f(V,Y.u_device_pixel_ratio),u_image:new d.Uniform1i(V,Y.u_image),u_units_to_pixels:new d.Uniform2f(V,Y.u_units_to_pixels),u_scale:new d.Uniform3f(V,Y.u_scale),u_fade:new d.Uniform1f(V,Y.u_fade)}},lineSDF:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_ratio:new d.Uniform1f(V,Y.u_ratio),u_device_pixel_ratio:new d.Uniform1f(V,Y.u_device_pixel_ratio),u_units_to_pixels:new d.Uniform2f(V,Y.u_units_to_pixels),u_patternscale_a:new d.Uniform2f(V,Y.u_patternscale_a),u_patternscale_b:new d.Uniform2f(V,Y.u_patternscale_b),u_sdfgamma:new d.Uniform1f(V,Y.u_sdfgamma),u_image:new d.Uniform1i(V,Y.u_image),u_tex_y_a:new d.Uniform1f(V,Y.u_tex_y_a),u_tex_y_b:new d.Uniform1f(V,Y.u_tex_y_b),u_mix:new d.Uniform1f(V,Y.u_mix)}},raster:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_tl_parent:new d.Uniform2f(V,Y.u_tl_parent),u_scale_parent:new d.Uniform1f(V,Y.u_scale_parent),u_buffer_scale:new d.Uniform1f(V,Y.u_buffer_scale),u_fade_t:new d.Uniform1f(V,Y.u_fade_t),u_opacity:new d.Uniform1f(V,Y.u_opacity),u_image0:new d.Uniform1i(V,Y.u_image0),u_image1:new d.Uniform1i(V,Y.u_image1),u_brightness_low:new d.Uniform1f(V,Y.u_brightness_low),u_brightness_high:new d.Uniform1f(V,Y.u_brightness_high),u_saturation_factor:new d.Uniform1f(V,Y.u_saturation_factor),u_contrast_factor:new d.Uniform1f(V,Y.u_contrast_factor),u_spin_weights:new d.Uniform3f(V,Y.u_spin_weights)}},symbolIcon:function(V,Y){return{u_is_size_zoom_constant:new d.Uniform1i(V,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new d.Uniform1i(V,Y.u_is_size_feature_constant),u_size_t:new d.Uniform1f(V,Y.u_size_t),u_size:new d.Uniform1f(V,Y.u_size),u_camera_to_center_distance:new d.Uniform1f(V,Y.u_camera_to_center_distance),u_pitch:new d.Uniform1f(V,Y.u_pitch),u_rotate_symbol:new d.Uniform1i(V,Y.u_rotate_symbol),u_aspect_ratio:new d.Uniform1f(V,Y.u_aspect_ratio),u_fade_change:new d.Uniform1f(V,Y.u_fade_change),u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_label_plane_matrix:new d.UniformMatrix4f(V,Y.u_label_plane_matrix),u_coord_matrix:new d.UniformMatrix4f(V,Y.u_coord_matrix),u_is_text:new d.Uniform1i(V,Y.u_is_text),u_pitch_with_map:new d.Uniform1i(V,Y.u_pitch_with_map),u_texsize:new d.Uniform2f(V,Y.u_texsize),u_texture:new d.Uniform1i(V,Y.u_texture)}},symbolSDF:function(V,Y){return{u_is_size_zoom_constant:new d.Uniform1i(V,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new d.Uniform1i(V,Y.u_is_size_feature_constant),u_size_t:new d.Uniform1f(V,Y.u_size_t),u_size:new d.Uniform1f(V,Y.u_size),u_camera_to_center_distance:new d.Uniform1f(V,Y.u_camera_to_center_distance),u_pitch:new d.Uniform1f(V,Y.u_pitch),u_rotate_symbol:new d.Uniform1i(V,Y.u_rotate_symbol),u_aspect_ratio:new d.Uniform1f(V,Y.u_aspect_ratio),u_fade_change:new d.Uniform1f(V,Y.u_fade_change),u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_label_plane_matrix:new d.UniformMatrix4f(V,Y.u_label_plane_matrix),u_coord_matrix:new d.UniformMatrix4f(V,Y.u_coord_matrix),u_is_text:new d.Uniform1i(V,Y.u_is_text),u_pitch_with_map:new d.Uniform1i(V,Y.u_pitch_with_map),u_texsize:new d.Uniform2f(V,Y.u_texsize),u_texture:new d.Uniform1i(V,Y.u_texture),u_gamma_scale:new d.Uniform1f(V,Y.u_gamma_scale),u_device_pixel_ratio:new d.Uniform1f(V,Y.u_device_pixel_ratio),u_is_halo:new d.Uniform1i(V,Y.u_is_halo)}},symbolTextAndIcon:function(V,Y){return{u_is_size_zoom_constant:new d.Uniform1i(V,Y.u_is_size_zoom_constant),u_is_size_feature_constant:new d.Uniform1i(V,Y.u_is_size_feature_constant),u_size_t:new d.Uniform1f(V,Y.u_size_t),u_size:new d.Uniform1f(V,Y.u_size),u_camera_to_center_distance:new d.Uniform1f(V,Y.u_camera_to_center_distance),u_pitch:new d.Uniform1f(V,Y.u_pitch),u_rotate_symbol:new d.Uniform1i(V,Y.u_rotate_symbol),u_aspect_ratio:new d.Uniform1f(V,Y.u_aspect_ratio),u_fade_change:new d.Uniform1f(V,Y.u_fade_change),u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_label_plane_matrix:new d.UniformMatrix4f(V,Y.u_label_plane_matrix),u_coord_matrix:new d.UniformMatrix4f(V,Y.u_coord_matrix),u_is_text:new d.Uniform1i(V,Y.u_is_text),u_pitch_with_map:new d.Uniform1i(V,Y.u_pitch_with_map),u_texsize:new d.Uniform2f(V,Y.u_texsize),u_texsize_icon:new d.Uniform2f(V,Y.u_texsize_icon),u_texture:new d.Uniform1i(V,Y.u_texture),u_texture_icon:new d.Uniform1i(V,Y.u_texture_icon),u_gamma_scale:new d.Uniform1f(V,Y.u_gamma_scale),u_device_pixel_ratio:new d.Uniform1f(V,Y.u_device_pixel_ratio),u_is_halo:new d.Uniform1i(V,Y.u_is_halo)}},background:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_opacity:new d.Uniform1f(V,Y.u_opacity),u_color:new d.UniformColor(V,Y.u_color)}},backgroundPattern:function(V,Y){return{u_matrix:new d.UniformMatrix4f(V,Y.u_matrix),u_opacity:new d.Uniform1f(V,Y.u_opacity),u_image:new d.Uniform1i(V,Y.u_image),u_pattern_tl_a:new d.Uniform2f(V,Y.u_pattern_tl_a),u_pattern_br_a:new d.Uniform2f(V,Y.u_pattern_br_a),u_pattern_tl_b:new d.Uniform2f(V,Y.u_pattern_tl_b),u_pattern_br_b:new d.Uniform2f(V,Y.u_pattern_br_b),u_texsize:new d.Uniform2f(V,Y.u_texsize),u_mix:new d.Uniform1f(V,Y.u_mix),u_pattern_size_a:new d.Uniform2f(V,Y.u_pattern_size_a),u_pattern_size_b:new d.Uniform2f(V,Y.u_pattern_size_b),u_scale_a:new d.Uniform1f(V,Y.u_scale_a),u_scale_b:new d.Uniform1f(V,Y.u_scale_b),u_pixel_coord_upper:new d.Uniform2f(V,Y.u_pixel_coord_upper),u_pixel_coord_lower:new d.Uniform2f(V,Y.u_pixel_coord_lower),u_tile_units_to_pixels:new d.Uniform1f(V,Y.u_tile_units_to_pixels)}}};function Al(V,Y,W,te,ye,Le,U){for(var ie=V.context,de=ie.gl,be=V.useProgram("collisionBox"),Ae=[],Fe=0,We=0,$e=0;$e<te.length;$e++){var Qe=te[$e],tt=Y.getTile(Qe),lt=tt.getBucket(W);if(lt){var yt=Qe.posMatrix;0===ye[0]&&0===ye[1]||(yt=V.translatePosMatrix(Qe.posMatrix,tt,ye,Le));var Mt=U?lt.textCollisionBox:lt.iconCollisionBox,Bt=lt.collisionCircleArray;if(Bt.length>0){var Ut=d.create(),jt=yt;d.mul(Ut,lt.placementInvProjMatrix,V.transform.glCoordMatrix),d.mul(Ut,Ut,lt.placementViewportMatrix),Ae.push({circleArray:Bt,circleOffset:We,transform:jt,invTransform:Ut}),We=Fe+=Bt.length/4}Mt&&be.draw(ie,de.LINES,Ht.disabled,nt.disabled,V.colorModeForRenderPass(),Ke.disabled,ys(yt,V.transform,tt),W.id,Mt.layoutVertexBuffer,Mt.indexBuffer,Mt.segments,null,V.transform.zoom,null,null,Mt.collisionVertexBuffer)}}if(U&&Ae.length){var Xt=V.useProgram("collisionCircle"),Vt=new d.StructArrayLayout2f1f2i16;Vt.resize(4*Fe),Vt._trim();for(var pn=0,sn=0,tn=Ae;sn<tn.length;sn+=1)for(var Sn=tn[sn],Dn=0;Dn<Sn.circleArray.length/4;Dn++){var qn=4*Dn,Qn=Sn.circleArray[qn+0],sr=Sn.circleArray[qn+1],pr=Sn.circleArray[qn+2],Cr=Sn.circleArray[qn+3];Vt.emplace(pn++,Qn,sr,pr,Cr,0),Vt.emplace(pn++,Qn,sr,pr,Cr,1),Vt.emplace(pn++,Qn,sr,pr,Cr,2),Vt.emplace(pn++,Qn,sr,pr,Cr,3)}(!Nl||Nl.length<2*Fe)&&(Nl=function(Pr){var Wr=2*Pr,ti=new d.StructArrayLayout3ui6;ti.resize(Wr),ti._trim();for(var di=0;di<Wr;di++){var Oi=6*di;ti.uint16[Oi+0]=4*di+0,ti.uint16[Oi+1]=4*di+1,ti.uint16[Oi+2]=4*di+2,ti.uint16[Oi+3]=4*di+2,ti.uint16[Oi+4]=4*di+3,ti.uint16[Oi+5]=4*di+0}return ti}(Fe));for(var Mr=ie.createIndexBuffer(Nl,!0),Or=ie.createVertexBuffer(Vt,d.collisionCircleLayout.members,!0),Ur=0,li=Ae;Ur<li.length;Ur+=1){var nr=li[Ur],wr=xs(nr.transform,nr.invTransform,V.transform);Xt.draw(ie,de.TRIANGLES,Ht.disabled,nt.disabled,V.colorModeForRenderPass(),Ke.disabled,wr,W.id,Or,Mr,d.SegmentVector.simpleSegment(0,2*nr.circleOffset,nr.circleArray.length,nr.circleArray.length/2),null,V.transform.zoom,null,null,null)}Or.destroy(),Mr.destroy()}}var Ka=d.identity(new Float32Array(16));function yu(V,Y,W,te,ye,Le){var U=d.getAnchorAlignment(V),ie=-(U.horizontalAlign-.5)*Y,de=-(U.verticalAlign-.5)*W,be=d.evaluateVariableOffset(V,te);return new d.Point((ie/ye+be[0])*Le,(de/ye+be[1])*Le)}function kc(V,Y,W,te,ye,Le,U,ie,de,be,Ae){var Fe=V.text.placedSymbolArray,We=V.text.dynamicLayoutVertexArray,$e=V.icon.dynamicLayoutVertexArray,Qe={};We.clear();for(var tt=0;tt<Fe.length;tt++){var lt=Fe.get(tt),Mt=lt.hidden||!lt.crossTileID||V.allowVerticalPlacement&&!lt.placedOrientation?null:te[lt.crossTileID];if(Mt){var Bt=new d.Point(lt.anchorX,lt.anchorY),Ut=en(Bt,W?ie:U),jt=gn(Le.cameraToCenterDistance,Ut.signedDistanceFromCamera),Xt=ye.evaluateSizeForFeature(V.textSizeData,be,lt)*jt/d.ONE_EM;W&&(Xt*=V.tilePixelRatio/de);for(var sn=yu(Mt.anchor,Mt.width,Mt.height,Mt.textOffset,Mt.textBoxScale,Xt),tn=W?en(Bt.add(sn),U).point:Ut.point.add(Y?sn.rotate(-Le.angle):sn),Sn=V.allowVerticalPlacement&&lt.placedOrientation===d.WritingMode.vertical?Math.PI/2:0,Dn=0;Dn<lt.numGlyphs;Dn++)d.addDynamicAttributes(We,tn,Sn);Ae&&lt.associatedIconIndex>=0&&(Qe[lt.associatedIconIndex]={shiftedAnchor:tn,angle:Sn})}else mr(lt.numGlyphs,We)}if(Ae){$e.clear();for(var qn=V.icon.placedSymbolArray,Qn=0;Qn<qn.length;Qn++){var sr=qn.get(Qn);if(sr.hidden)mr(sr.numGlyphs,$e);else{var pr=Qe[Qn];if(pr)for(var Cr=0;Cr<sr.numGlyphs;Cr++)d.addDynamicAttributes($e,pr.shiftedAnchor,pr.angle);else mr(sr.numGlyphs,$e)}}V.icon.dynamicLayoutVertexBuffer.updateData($e)}V.text.dynamicLayoutVertexBuffer.updateData(We)}function kl(V,Y,W){return W.iconsInText&&Y?"symbolTextAndIcon":V?"symbolSDF":"symbolIcon"}function cs(V,Y,W,te,ye,Le,U,ie,de,be,Ae,Fe){for(var We=V.context,$e=We.gl,Qe=V.transform,tt="map"===ie,lt="map"===de,yt=tt&&"point"!==W.layout.get("symbol-placement"),Mt=tt&&!lt&&!yt,Bt=void 0!==W.layout.get("symbol-sort-key").constantOr(1),Ut=V.depthModeForSublayer(0,Ht.ReadOnly),jt=W.layout.get("text-variable-anchor"),Xt=[],Vt=0,pn=te;Vt<pn.length;Vt+=1){var sn=pn[Vt],tn=Y.getTile(sn),Sn=tn.getBucket(W);if(Sn){var Dn=ye?Sn.text:Sn.icon;if(Dn&&Dn.segments.get().length){var qn=Dn.programConfigurations.get(W.id),Qn=ye||Sn.sdfIcons,sr=ye?Sn.textSizeData:Sn.iconSizeData,pr=lt||0!==Qe.pitch,Cr=V.useProgram(kl(Qn,ye,Sn),qn),Mr=d.evaluateSizeForZoom(sr,Qe.zoom),Or=void 0,Ur=[0,0],li=void 0,nr=void 0,wr=null,Pr=void 0;if(ye)li=tn.glyphAtlasTexture,nr=$e.LINEAR,Or=tn.glyphAtlasTexture.size,Sn.iconsInText&&(Ur=tn.imageAtlasTexture.size,wr=tn.imageAtlasTexture,Pr=pr||V.options.rotating||V.options.zooming||"composite"===sr.kind||"camera"===sr.kind?$e.LINEAR:$e.NEAREST);else{var ti=1!==W.layout.get("icon-size").constantOr(0)||Sn.iconsNeedLinear;li=tn.imageAtlasTexture,nr=Qn||V.options.rotating||V.options.zooming||ti||pr?$e.LINEAR:$e.NEAREST,Or=tn.imageAtlasTexture.size}var di=dr(tn,1,V.transform.zoom),Oi=Pn(sn.posMatrix,lt,tt,V.transform,di),to=Mn(sn.posMatrix,lt,tt,V.transform,di),go=jt&&Sn.hasTextData(),Do="none"!==W.layout.get("icon-text-fit")&&go&&Sn.hasIconData();yt&&yn(Sn,sn.posMatrix,V,ye,Oi,to,lt,be);var Zi=V.translatePosMatrix(sn.posMatrix,tn,Le,U),Bo=yt||ye&&jt||Do?Ka:Oi,ba=V.translatePosMatrix(to,tn,Le,U,!0),ia=Qn&&0!==W.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1),Zo={program:Cr,buffers:Dn,uniformValues:Qn?Sn.iconsInText?pa(sr.kind,Mr,Mt,lt,V,Zi,Bo,ba,Or,Ur):Vr(sr.kind,Mr,Mt,lt,V,Zi,Bo,ba,ye,Or,!0):Ji(sr.kind,Mr,Mt,lt,V,Zi,Bo,ba,ye,Or),atlasTexture:li,atlasTextureIcon:wr,atlasInterpolation:nr,atlasInterpolationIcon:Pr,isSDF:Qn,hasHalo:ia};if(Bt)for(var Ri=0,Di=Dn.segments.get();Ri<Di.length;Ri+=1){var no=Di[Ri];Xt.push({segments:new d.SegmentVector([no]),sortKey:no.sortKey,state:Zo})}else Xt.push({segments:Dn.segments,sortKey:0,state:Zo})}}}Bt&&Xt.sort(function(Cl,Ca){return Cl.sortKey-Ca.sortKey});for(var fo=0,Eo=Xt;fo<Eo.length;fo+=1){var wa=Eo[fo],Ro=wa.state;if(We.activeTexture.set($e.TEXTURE0),Ro.atlasTexture.bind(Ro.atlasInterpolation,$e.CLAMP_TO_EDGE),Ro.atlasTextureIcon&&(We.activeTexture.set($e.TEXTURE1),Ro.atlasTextureIcon&&Ro.atlasTextureIcon.bind(Ro.atlasInterpolationIcon,$e.CLAMP_TO_EDGE)),Ro.isSDF){var Fi=Ro.uniformValues;Ro.hasHalo&&(Fi.u_is_halo=1,$r(Ro.buffers,wa.segments,W,V,Ro.program,Ut,Ae,Fe,Fi)),Fi.u_is_halo=0}$r(Ro.buffers,wa.segments,W,V,Ro.program,Ut,Ae,Fe,Ro.uniformValues)}}function $r(V,Y,W,te,ye,Le,U,ie,de){var be=te.context;ye.draw(be,be.gl.TRIANGLES,Le,U,ie,Ke.disabled,de,W.id,V.layoutVertexBuffer,V.indexBuffer,Y,W.paint,te.transform.zoom,V.programConfigurations.get(W.id),V.dynamicLayoutVertexBuffer,V.opacityVertexBuffer)}function xi(V,Y,W,te,ye,Le,U){var ie,de,be,Ae,Fe,We=V.context.gl,$e=W.paint.get("fill-pattern"),Qe=$e&&$e.constantOr(1),tt=W.getCrossfadeParameters();U?(de=Qe&&!W.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ie=We.LINES):(de=Qe?"fillPattern":"fill",ie=We.TRIANGLES);for(var lt=0,yt=te;lt<yt.length;lt+=1){var Mt=yt[lt],Bt=Y.getTile(Mt);if(!Qe||Bt.patternsLoaded()){var Ut=Bt.getBucket(W);if(Ut){var jt=Ut.programConfigurations.get(W.id),Xt=V.useProgram(de,jt);Qe&&(V.context.activeTexture.set(We.TEXTURE0),Bt.imageAtlasTexture.bind(We.LINEAR,We.CLAMP_TO_EDGE),jt.updatePaintBuffers(tt));var Vt=$e.constantOr(null);if(Vt&&Bt.imageAtlas){var pn=Bt.imageAtlas,sn=pn.patternPositions[Vt.to.toString()],tn=pn.patternPositions[Vt.from.toString()];sn&&tn&&jt.setConstantPatternPositions(sn,tn)}var Sn=V.translatePosMatrix(Mt.posMatrix,Bt,W.paint.get("fill-translate"),W.paint.get("fill-translate-anchor"));if(U){Ae=Ut.indexBuffer2,Fe=Ut.segments2;var Dn=[We.drawingBufferWidth,We.drawingBufferHeight];be="fillOutlinePattern"===de&&Qe?Fl(Sn,V,tt,Bt,Dn):Vu(Sn,Dn)}else Ae=Ut.indexBuffer,Fe=Ut.segments,be=Qe?Qc(Sn,V,tt,Bt):ls(Sn);Xt.draw(V.context,ie,ye,V.stencilModeForClipping(Mt),Le,Ke.disabled,be,W.id,Ut.layoutVertexBuffer,Ae,Fe,W.paint,V.transform.zoom,jt)}}}}function mo(V,Y,W,te,ye,Le,U){for(var ie=V.context,de=ie.gl,be=W.paint.get("fill-extrusion-pattern"),Ae=be.constantOr(1),Fe=W.getCrossfadeParameters(),We=W.paint.get("fill-extrusion-opacity"),$e=0,Qe=te;$e<Qe.length;$e+=1){var tt=Qe[$e],lt=Y.getTile(tt),yt=lt.getBucket(W);if(yt){var Mt=yt.programConfigurations.get(W.id),Bt=V.useProgram(Ae?"fillExtrusionPattern":"fillExtrusion",Mt);Ae&&(V.context.activeTexture.set(de.TEXTURE0),lt.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),Mt.updatePaintBuffers(Fe));var Ut=be.constantOr(null);if(Ut&&lt.imageAtlas){var jt=lt.imageAtlas,Xt=jt.patternPositions[Ut.to.toString()],Vt=jt.patternPositions[Ut.from.toString()];Xt&&Vt&&Mt.setConstantPatternPositions(Xt,Vt)}var pn=V.translatePosMatrix(tt.posMatrix,lt,W.paint.get("fill-extrusion-translate"),W.paint.get("fill-extrusion-translate-anchor")),sn=W.paint.get("fill-extrusion-vertical-gradient"),tn=Ae?Fs(pn,V,sn,We,tt,Fe,lt):Rs(pn,V,sn,We);Bt.draw(ie,ie.gl.TRIANGLES,ye,Le,U,Ke.backCCW,tn,W.id,yt.layoutVertexBuffer,yt.indexBuffer,yt.segments,W.paint,V.transform.zoom,Mt)}}}function ca(V,Y,W,te,ye,Le){var U=V.context,ie=U.gl,de=Y.fbo;if(de){var be=V.useProgram("hillshade");U.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,de.colorAttachment.get());var Ae=Tl(V,Y,W);be.draw(U,ie.TRIANGLES,te,ye,Le,Ke.disabled,Ae,W.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments)}}function sl(V,Y,W,te,ye,Le,U){var ie=V.context,de=ie.gl,be=Y.dem;if(be&&be.data){var Ae=be.dim,Fe=be.stride,We=be.getPixels();if(ie.activeTexture.set(de.TEXTURE1),ie.pixelStoreUnpackPremultiplyAlpha.set(!1),Y.demTexture=Y.demTexture||V.getTileTexture(Fe),Y.demTexture){var $e=Y.demTexture;$e.update(We,{premultiply:!1}),$e.bind(de.NEAREST,de.CLAMP_TO_EDGE)}else Y.demTexture=new d.Texture(ie,We,de.RGBA,{premultiply:!1}),Y.demTexture.bind(de.NEAREST,de.CLAMP_TO_EDGE);ie.activeTexture.set(de.TEXTURE0);var Qe=Y.fbo;if(!Qe){var tt=new d.Texture(ie,{width:Ae,height:Ae,data:null},de.RGBA);tt.bind(de.LINEAR,de.CLAMP_TO_EDGE),(Qe=Y.fbo=ie.createFramebuffer(Ae,Ae,!0)).colorAttachment.set(tt.texture)}ie.bindFramebuffer.set(Qe.framebuffer),ie.viewport.set([0,0,Ae,Ae]),V.useProgram("hillshadePrepare").draw(ie,de.TRIANGLES,ye,Le,U,Ke.disabled,ac(Y.tileID,be,te),W.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments),Y.needsHillshadePrepare=!1}}function Co(V,Y,W,te,ye){var Le=te.paint.get("raster-fade-duration");if(Le>0){var U=d.browser.now(),ie=(U-V.timeAdded)/Le,de=Y?(U-Y.timeAdded)/Le:-1,be=W.getSource(),Ae=ye.coveringZoomLevel({tileSize:be.tileSize,roundZoom:be.roundZoom}),Fe=!Y||Math.abs(Y.tileID.overscaledZ-Ae)>Math.abs(V.tileID.overscaledZ-Ae),We=Fe&&V.refreshedUponExpiration?1:d.clamp(Fe?ie:1-de,0,1);return V.refreshedUponExpiration&&ie>=1&&(V.refreshedUponExpiration=!1),Y?{opacity:1,mix:1-We}:{opacity:We,mix:0}}return{opacity:1,mix:0}}var cc=new d.Color(1,0,0,1),qo=new d.Color(0,1,0,1),uc=new d.Color(0,0,1,1),zs=new d.Color(1,0,1,1),Mi=new d.Color(0,1,1,1);function dc(V,Y,W,te){bs(V,0,Y+W/2,V.transform.width,W,te)}function fc(V,Y,W,te){bs(V,Y-W/2,0,W,V.transform.height,te)}function bs(V,Y,W,te,ye,Le){var U=V.context,ie=U.gl;ie.enable(ie.SCISSOR_TEST),ie.scissor(Y*d.browser.devicePixelRatio,W*d.browser.devicePixelRatio,te*d.browser.devicePixelRatio,ye*d.browser.devicePixelRatio),U.clear({color:Le}),ie.disable(ie.SCISSOR_TEST)}function Jo(V,Y,W){var te=V.context,ye=te.gl,Le=W.posMatrix,U=V.useProgram("debug"),ie=Ht.disabled,de=nt.disabled,be=V.colorModeForRenderPass();te.activeTexture.set(ye.TEXTURE0),V.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),U.draw(te,ye.LINE_STRIP,ie,de,be,Ke.disabled,Ns(Le,d.Color.red),"$debug",V.debugBuffer,V.tileBorderIndexBuffer,V.debugSegments);var Fe=Y.getTileByID(W.key).latestRawTileData,$e=Math.floor((Fe&&Fe.byteLength||0)/1024),Qe=Y.getTile(W).tileSize,tt=512/Math.min(Qe,512)*(W.overscaledZ/V.transform.zoom)*.5,lt=W.canonical.toString();W.overscaledZ!==W.canonical.z&&(lt+=" => "+W.overscaledZ),function(yt,Mt){yt.initDebugOverlayCanvas();var Bt=yt.debugOverlayCanvas,Ut=yt.context.gl,jt=yt.debugOverlayCanvas.getContext("2d");jt.clearRect(0,0,Bt.width,Bt.height),jt.shadowColor="white",jt.shadowBlur=2,jt.lineWidth=1.5,jt.strokeStyle="white",jt.textBaseline="top",jt.font="bold 36px Open Sans, sans-serif",jt.fillText(Mt,5,5),jt.strokeText(Mt,5,5),yt.debugOverlayTexture.update(Bt),yt.debugOverlayTexture.bind(Ut.LINEAR,Ut.CLAMP_TO_EDGE)}(V,lt+" "+$e+"kb"),U.draw(te,ye.TRIANGLES,ie,de,it.alphaBlended,Ke.disabled,Ns(Le,d.Color.transparent,tt),"$debug",V.debugBuffer,V.quadTriangleIndexBuffer,V.debugSegments)}var ll={symbol:function(V,Y,W,te,ye){if("translucent"===V.renderPass){var Le=nt.disabled,U=V.colorModeForRenderPass();W.layout.get("text-variable-anchor")&&function(ie,de,be,Ae,Fe,We,$e){for(var Qe=de.transform,tt="map"===Fe,lt="map"===We,yt=0,Mt=ie;yt<Mt.length;yt+=1){var Bt=Mt[yt],Ut=Ae.getTile(Bt),jt=Ut.getBucket(be);if(jt&&jt.text&&jt.text.segments.get().length){var Vt=d.evaluateSizeForZoom(jt.textSizeData,Qe.zoom),pn=dr(Ut,1,de.transform.zoom),sn=Pn(Bt.posMatrix,lt,tt,de.transform,pn),tn="none"!==be.layout.get("icon-text-fit")&&jt.hasIconData();if(Vt){var Sn=Math.pow(2,Qe.zoom-Ut.tileID.overscaledZ);kc(jt,tt,lt,$e,d.symbolSize,Qe,sn,Bt.posMatrix,Sn,Vt,tn)}}}}(te,V,W,Y,W.layout.get("text-rotation-alignment"),W.layout.get("text-pitch-alignment"),ye),0!==W.paint.get("icon-opacity").constantOr(1)&&cs(V,Y,W,te,!1,W.paint.get("icon-translate"),W.paint.get("icon-translate-anchor"),W.layout.get("icon-rotation-alignment"),W.layout.get("icon-pitch-alignment"),W.layout.get("icon-keep-upright"),Le,U),0!==W.paint.get("text-opacity").constantOr(1)&&cs(V,Y,W,te,!0,W.paint.get("text-translate"),W.paint.get("text-translate-anchor"),W.layout.get("text-rotation-alignment"),W.layout.get("text-pitch-alignment"),W.layout.get("text-keep-upright"),Le,U),Y.map.showCollisionBoxes&&(Al(V,Y,W,te,W.paint.get("text-translate"),W.paint.get("text-translate-anchor"),!0),Al(V,Y,W,te,W.paint.get("icon-translate"),W.paint.get("icon-translate-anchor"),!1))}},circle:function(V,Y,W,te){if("translucent"===V.renderPass){var ye=W.paint.get("circle-opacity"),Le=W.paint.get("circle-stroke-width"),U=W.paint.get("circle-stroke-opacity"),ie=void 0!==W.layout.get("circle-sort-key").constantOr(1);if(0!==ye.constantOr(1)||0!==Le.constantOr(1)&&0!==U.constantOr(1)){for(var de=V.context,be=de.gl,Ae=V.depthModeForSublayer(0,Ht.ReadOnly),Fe=nt.disabled,We=V.colorModeForRenderPass(),$e=[],Qe=0;Qe<te.length;Qe++){var tt=te[Qe],lt=Y.getTile(tt),yt=lt.getBucket(W);if(yt){var Mt=yt.programConfigurations.get(W.id),Bt={programConfiguration:Mt,program:V.useProgram("circle",Mt),layoutVertexBuffer:yt.layoutVertexBuffer,indexBuffer:yt.indexBuffer,uniformValues:il(V,tt,lt,W)};if(ie)for(var Ut=0,jt=yt.segments.get();Ut<jt.length;Ut+=1){var Xt=jt[Ut];$e.push({segments:new d.SegmentVector([Xt]),sortKey:Xt.sortKey,state:Bt})}else $e.push({segments:yt.segments,sortKey:0,state:Bt})}}ie&&$e.sort(function(Cr,Mr){return Cr.sortKey-Mr.sortKey});for(var Vt=0,pn=$e;Vt<pn.length;Vt+=1){var sn=pn[Vt],tn=sn.state;tn.program.draw(de,be.TRIANGLES,Ae,Fe,We,Ke.disabled,tn.uniformValues,W.id,tn.layoutVertexBuffer,tn.indexBuffer,sn.segments,W.paint,V.transform.zoom,tn.programConfiguration)}}}},heatmap:function(V,Y,W,te){if(0!==W.paint.get("heatmap-opacity"))if("offscreen"===V.renderPass){var ye=V.context,Le=ye.gl,U=nt.disabled,ie=new it([Le.ONE,Le.ONE],d.Color.transparent,[!0,!0,!0,!0]);(function(tt,lt,yt){var Mt=tt.gl;tt.activeTexture.set(Mt.TEXTURE1),tt.viewport.set([0,0,lt.width/4,lt.height/4]);var jt,Xt,Vt,pn,sn,Bt=yt.heatmapFbo;if(Bt)Mt.bindTexture(Mt.TEXTURE_2D,Bt.colorAttachment.get()),tt.bindFramebuffer.set(Bt.framebuffer);else{var Ut=Mt.createTexture();Mt.bindTexture(Mt.TEXTURE_2D,Ut),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_S,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_WRAP_T,Mt.CLAMP_TO_EDGE),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MIN_FILTER,Mt.LINEAR),Mt.texParameteri(Mt.TEXTURE_2D,Mt.TEXTURE_MAG_FILTER,Mt.LINEAR),Vt=Ut,pn=Bt=yt.heatmapFbo=tt.createFramebuffer(lt.width/4,lt.height/4,!1),(sn=(jt=tt).gl).texImage2D(sn.TEXTURE_2D,0,sn.RGBA,(Xt=lt).width/4,Xt.height/4,0,sn.RGBA,jt.extRenderToTextureHalfFloat?jt.extTextureHalfFloat.HALF_FLOAT_OES:sn.UNSIGNED_BYTE,null),pn.colorAttachment.set(Vt)}})(ye,V,W),ye.clear({color:d.Color.transparent});for(var de=0;de<te.length;de++){var be=te[de];if(!Y.hasRenderableParent(be)){var Ae=Y.getTile(be),Fe=Ae.getBucket(W);if(Fe){var We=Fe.programConfigurations.get(W.id);V.useProgram("heatmap",We).draw(ye,Le.TRIANGLES,Ht.disabled,U,ie,Ke.disabled,wl(be.posMatrix,Ae,V.transform.zoom,W.paint.get("heatmap-intensity")),W.id,Fe.layoutVertexBuffer,Fe.indexBuffer,Fe.segments,W.paint,V.transform.zoom,We)}}}ye.viewport.set([0,0,V.width,V.height])}else"translucent"===V.renderPass&&(V.context.setColorMode(V.colorModeForRenderPass()),function(tt,lt){var yt=tt.context,Mt=yt.gl,Bt=lt.heatmapFbo;if(Bt){yt.activeTexture.set(Mt.TEXTURE0),Mt.bindTexture(Mt.TEXTURE_2D,Bt.colorAttachment.get()),yt.activeTexture.set(Mt.TEXTURE1);var Ut=lt.colorRampTexture;Ut||(Ut=lt.colorRampTexture=new d.Texture(yt,lt.colorRamp,Mt.RGBA)),Ut.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE),tt.useProgram("heatmapTexture").draw(yt,Mt.TRIANGLES,Ht.disabled,nt.disabled,tt.colorModeForRenderPass(),Ke.disabled,function(V,Y,W,te){var ye=d.create();d.ortho(ye,0,V.width,V.height,0,0,1);var Le=V.context.gl;return{u_matrix:ye,u_world:[Le.drawingBufferWidth,Le.drawingBufferHeight],u_image:W,u_color_ramp:te,u_opacity:Y.paint.get("heatmap-opacity")}}(tt,lt,0,1),lt.id,tt.viewportBuffer,tt.quadTriangleIndexBuffer,tt.viewportSegments,lt.paint,tt.transform.zoom)}}(V,W))},line:function(V,Y,W,te){if("translucent"===V.renderPass){var ye=W.paint.get("line-opacity"),Le=W.paint.get("line-width");if(0!==ye.constantOr(1)&&0!==Le.constantOr(1)){var U=V.depthModeForSublayer(0,Ht.ReadOnly),ie=V.colorModeForRenderPass(),de=W.paint.get("line-dasharray"),be=W.paint.get("line-pattern"),Ae=be.constantOr(1),Fe=W.paint.get("line-gradient"),We=W.getCrossfadeParameters(),$e=Ae?"linePattern":de?"lineSDF":Fe?"lineGradient":"line",Qe=V.context,tt=Qe.gl,lt=!0;if(Fe){Qe.activeTexture.set(tt.TEXTURE0);var yt=W.gradientTexture;if(!W.gradient)return;yt||(yt=W.gradientTexture=new d.Texture(Qe,W.gradient,tt.RGBA)),yt.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)}for(var Mt=0,Bt=te;Mt<Bt.length;Mt+=1){var Ut=Bt[Mt],jt=Y.getTile(Ut);if(!Ae||jt.patternsLoaded()){var Xt=jt.getBucket(W);if(Xt){var Vt=Xt.programConfigurations.get(W.id),pn=V.context.program.get(),sn=V.useProgram($e,Vt),tn=lt||sn.program!==pn,Sn=be.constantOr(null);if(Sn&&jt.imageAtlas){var Dn=jt.imageAtlas,qn=Dn.patternPositions[Sn.to.toString()],Qn=Dn.patternPositions[Sn.from.toString()];qn&&Qn&&Vt.setConstantPatternPositions(qn,Qn)}var sr=Ae?vu(V,jt,W,We):de?Ki(V,jt,W,de,We):Fe?sc(V,jt,W):_s(V,jt,W);Ae?(Qe.activeTexture.set(tt.TEXTURE0),jt.imageAtlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE),Vt.updatePaintBuffers(We)):de&&(tn||V.lineAtlas.dirty)&&(Qe.activeTexture.set(tt.TEXTURE0),V.lineAtlas.bind(Qe)),sn.draw(Qe,tt.TRIANGLES,U,V.stencilModeForClipping(Ut),ie,Ke.disabled,sr,W.id,Xt.layoutVertexBuffer,Xt.indexBuffer,Xt.segments,W.paint,V.transform.zoom,Vt),lt=!1}}}}}},fill:function(V,Y,W,te){var ye=W.paint.get("fill-color"),Le=W.paint.get("fill-opacity");if(0!==Le.constantOr(1)){var U=V.colorModeForRenderPass(),ie=W.paint.get("fill-pattern"),de=V.opaquePassEnabledForLayer()&&!ie.constantOr(1)&&1===ye.constantOr(d.Color.transparent).a&&1===Le.constantOr(0)?"opaque":"translucent";if(V.renderPass===de){var be=V.depthModeForSublayer(1,"opaque"===V.renderPass?Ht.ReadWrite:Ht.ReadOnly);xi(V,Y,W,te,be,U,!1)}if("translucent"===V.renderPass&&W.paint.get("fill-antialias")){var Ae=V.depthModeForSublayer(W.getPaintProperty("fill-outline-color")?2:0,Ht.ReadOnly);xi(V,Y,W,te,Ae,U,!0)}}},"fill-extrusion":function(V,Y,W,te){var ye=W.paint.get("fill-extrusion-opacity");if(0!==ye&&"translucent"===V.renderPass){var Le=new Ht(V.context.gl.LEQUAL,Ht.ReadWrite,V.depthRangeFor3D);if(1!==ye||W.paint.get("fill-extrusion-pattern").constantOr(1))mo(V,Y,W,te,Le,nt.disabled,it.disabled),mo(V,Y,W,te,Le,V.stencilModeFor3D(),V.colorModeForRenderPass());else{var U=V.colorModeForRenderPass();mo(V,Y,W,te,Le,nt.disabled,U)}}},hillshade:function(V,Y,W,te){if("offscreen"===V.renderPass||"translucent"===V.renderPass){for(var ye=V.context,Le=Y.getSource().maxzoom,U=V.depthModeForSublayer(0,Ht.ReadOnly),ie=V.colorModeForRenderPass(),de="translucent"===V.renderPass?V.stencilConfigForOverlap(te):[{},te],be=de[0],Ae=0,Fe=de[1];Ae<Fe.length;Ae+=1){var We=Fe[Ae],$e=Y.getTile(We);$e.needsHillshadePrepare&&"offscreen"===V.renderPass?sl(V,$e,W,Le,U,nt.disabled,ie):"translucent"===V.renderPass&&ca(V,$e,W,U,be[We.overscaledZ],ie)}ye.viewport.set([0,0,V.width,V.height])}},raster:function(V,Y,W,te){if("translucent"===V.renderPass&&0!==W.paint.get("raster-opacity")&&te.length)for(var ye=V.context,Le=ye.gl,U=Y.getSource(),ie=V.useProgram("raster"),de=V.colorModeForRenderPass(),be=U instanceof H?[{},te]:V.stencilConfigForOverlap(te),Ae=be[0],Fe=be[1],We=Fe[Fe.length-1].overscaledZ,$e=!V.options.moving,Qe=0,tt=Fe;Qe<tt.length;Qe+=1){var lt=tt[Qe],yt=V.depthModeForSublayer(lt.overscaledZ-We,1===W.paint.get("raster-opacity")?Ht.ReadWrite:Ht.ReadOnly,Le.LESS),Mt=Y.getTile(lt),Bt=V.transform.calculatePosMatrix(lt.toUnwrapped(),$e);Mt.registerFadeDuration(W.paint.get("raster-fade-duration"));var Ut=Y.findLoadedParent(lt,0),jt=Co(Mt,Ut,Y,W,V.transform),Xt=void 0,Vt=void 0,pn="nearest"===W.paint.get("raster-resampling")?Le.NEAREST:Le.LINEAR;ye.activeTexture.set(Le.TEXTURE0),Mt.texture.bind(pn,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(Le.TEXTURE1),Ut?(Ut.texture.bind(pn,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST),Xt=Math.pow(2,Ut.tileID.overscaledZ-Mt.tileID.overscaledZ),Vt=[Mt.tileID.canonical.x*Xt%1,Mt.tileID.canonical.y*Xt%1]):Mt.texture.bind(pn,Le.CLAMP_TO_EDGE,Le.LINEAR_MIPMAP_NEAREST);var sn=Ml(Bt,Vt||[0,0],Xt||1,jt,W);U instanceof H?ie.draw(ye,Le.TRIANGLES,yt,nt.disabled,de,Ke.disabled,sn,W.id,U.boundsBuffer,V.quadTriangleIndexBuffer,U.boundsSegments):ie.draw(ye,Le.TRIANGLES,yt,Ae[lt.overscaledZ],de,Ke.disabled,sn,W.id,V.rasterBoundsBuffer,V.quadTriangleIndexBuffer,V.rasterBoundsSegments)}},background:function(V,Y,W){var te=W.paint.get("background-color"),ye=W.paint.get("background-opacity");if(0!==ye){var Le=V.context,U=Le.gl,ie=V.transform,de=ie.tileSize,be=W.paint.get("background-pattern");if(!V.isPatternMissing(be)){var Ae=!be&&1===te.a&&1===ye&&V.opaquePassEnabledForLayer()?"opaque":"translucent";if(V.renderPass===Ae){var Fe=nt.disabled,We=V.depthModeForSublayer(0,"opaque"===Ae?Ht.ReadWrite:Ht.ReadOnly),$e=V.colorModeForRenderPass(),Qe=V.useProgram(be?"backgroundPattern":"background"),tt=ie.coveringTiles({tileSize:de});be&&(Le.activeTexture.set(U.TEXTURE0),V.imageManager.bind(V.context));for(var lt=W.getCrossfadeParameters(),yt=0,Mt=tt;yt<Mt.length;yt+=1){var Bt=Mt[yt],Ut=V.transform.calculatePosMatrix(Bt.toUnwrapped()),jt=be?Go(Ut,ye,V,be,{tileID:Bt,tileSize:de},lt):Si(Ut,ye,te);Qe.draw(Le,U.TRIANGLES,We,Fe,$e,Ke.disabled,jt,W.id,V.tileExtentBuffer,V.quadTriangleIndexBuffer,V.tileExtentSegments)}}}}},debug:function(V,Y,W){for(var te=0;te<W.length;te++)Jo(V,Y,W[te])},custom:function(V,Y,W){var te=V.context,ye=W.implementation;if("offscreen"===V.renderPass){var Le=ye.prerender;Le&&(V.setCustomLayerDefaults(),te.setColorMode(V.colorModeForRenderPass()),Le.call(ye,te.gl,V.transform.customLayerMatrix()),te.setDirty(),V.setBaseState())}else if("translucent"===V.renderPass){V.setCustomLayerDefaults(),te.setColorMode(V.colorModeForRenderPass()),te.setStencilMode(nt.disabled);var U="3d"===ye.renderingMode?new Ht(V.context.gl.LEQUAL,Ht.ReadWrite,V.depthRangeFor3D):V.depthModeForSublayer(0,Ht.ReadOnly);te.setDepthMode(U),ye.render(te.gl,V.transform.customLayerMatrix()),te.setDirty(),V.setBaseState(),te.bindFramebuffer.set(null)}}},Pi=function(V,Y){this.context=new rt(V),this.transform=Y,this._tileTextures={},this.setup(),this.numSublayers=ft.maxUnderzooming+ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ar,this.gpuTimers={}};Pi.prototype.resize=function(V,Y){if(this.width=V*d.browser.devicePixelRatio,this.height=Y*d.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var W=0,te=this.style._order;W<te.length;W+=1)this.style._layers[te[W]].resize()},Pi.prototype.setup=function(){var V=this.context,Y=new d.StructArrayLayout2i4;Y.emplaceBack(0,0),Y.emplaceBack(d.EXTENT,0),Y.emplaceBack(0,d.EXTENT),Y.emplaceBack(d.EXTENT,d.EXTENT),this.tileExtentBuffer=V.createVertexBuffer(Y,_r.members),this.tileExtentSegments=d.SegmentVector.simpleSegment(0,0,4,2);var W=new d.StructArrayLayout2i4;W.emplaceBack(0,0),W.emplaceBack(d.EXTENT,0),W.emplaceBack(0,d.EXTENT),W.emplaceBack(d.EXTENT,d.EXTENT),this.debugBuffer=V.createVertexBuffer(W,_r.members),this.debugSegments=d.SegmentVector.simpleSegment(0,0,4,5);var te=new d.StructArrayLayout4i8;te.emplaceBack(0,0,0,0),te.emplaceBack(d.EXTENT,0,d.EXTENT,0),te.emplaceBack(0,d.EXTENT,0,d.EXTENT),te.emplaceBack(d.EXTENT,d.EXTENT,d.EXTENT,d.EXTENT),this.rasterBoundsBuffer=V.createVertexBuffer(te,G.members),this.rasterBoundsSegments=d.SegmentVector.simpleSegment(0,0,4,2);var ye=new d.StructArrayLayout2i4;ye.emplaceBack(0,0),ye.emplaceBack(1,0),ye.emplaceBack(0,1),ye.emplaceBack(1,1),this.viewportBuffer=V.createVertexBuffer(ye,_r.members),this.viewportSegments=d.SegmentVector.simpleSegment(0,0,4,2);var Le=new d.StructArrayLayout1ui2;Le.emplaceBack(0),Le.emplaceBack(1),Le.emplaceBack(3),Le.emplaceBack(2),Le.emplaceBack(0),this.tileBorderIndexBuffer=V.createIndexBuffer(Le);var U=new d.StructArrayLayout3ui6;U.emplaceBack(0,1,2),U.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=V.createIndexBuffer(U),this.emptyTexture=new d.Texture(V,{width:1,height:1,data:new Uint8Array([0,0,0,0])},V.gl.RGBA);var ie=this.context.gl;this.stencilClearMode=new nt({func:ie.ALWAYS,mask:0},0,255,ie.ZERO,ie.ZERO,ie.ZERO)},Pi.prototype.clearStencil=function(){var V=this.context,Y=V.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var W=d.create();d.ortho(W,0,this.width,this.height,0,0,1),d.scale(W,W,[Y.drawingBufferWidth,Y.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(V,Y.TRIANGLES,Ht.disabled,this.stencilClearMode,it.disabled,Ke.disabled,Gi(W),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Pi.prototype._renderTileClippingMasks=function(V,Y){if(this.currentStencilSource!==V.source&&V.isTileClipped()&&Y&&Y.length){this.currentStencilSource=V.source;var W=this.context,te=W.gl;this.nextStencilID+Y.length>256&&this.clearStencil(),W.setColorMode(it.disabled),W.setDepthMode(Ht.disabled);var ye=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Le=0,U=Y;Le<U.length;Le+=1){var ie=U[Le],de=this._tileClippingMaskIDs[ie.key]=this.nextStencilID++;ye.draw(W,te.TRIANGLES,Ht.disabled,new nt({func:te.ALWAYS,mask:0},de,255,te.KEEP,te.KEEP,te.REPLACE),it.disabled,Ke.disabled,Gi(ie.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Pi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var V=this.nextStencilID++,Y=this.context.gl;return new nt({func:Y.NOTEQUAL,mask:255},V,255,Y.KEEP,Y.KEEP,Y.REPLACE)},Pi.prototype.stencilModeForClipping=function(V){var Y=this.context.gl;return new nt({func:Y.EQUAL,mask:255},this._tileClippingMaskIDs[V.key],0,Y.KEEP,Y.KEEP,Y.REPLACE)},Pi.prototype.stencilConfigForOverlap=function(V){var Y,W=this.context.gl,te=V.sort(function(de,be){return be.overscaledZ-de.overscaledZ}),ye=te[te.length-1].overscaledZ,Le=te[0].overscaledZ-ye+1;if(Le>1){this.currentStencilSource=void 0,this.nextStencilID+Le>256&&this.clearStencil();for(var U={},ie=0;ie<Le;ie++)U[ie+ye]=new nt({func:W.GEQUAL,mask:255},ie+this.nextStencilID,255,W.KEEP,W.KEEP,W.REPLACE);return this.nextStencilID+=Le,[U,te]}return[(Y={},Y[ye]=nt.disabled,Y),te]},Pi.prototype.colorModeForRenderPass=function(){var V=this.context.gl;if(this._showOverdrawInspector){var Y=.125;return new it([V.CONSTANT_COLOR,V.ONE],new d.Color(Y,Y,Y,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?it.unblended:it.alphaBlended},Pi.prototype.depthModeForSublayer=function(V,Y,W){if(!this.opaquePassEnabledForLayer())return Ht.disabled;var te=1-((1+this.currentLayer)*this.numSublayers+V)*this.depthEpsilon;return new Ht(W||this.context.gl.LEQUAL,Y,[te,te])},Pi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Pi.prototype.render=function(V,Y){var W=this;this.style=V,this.options=Y,this.lineAtlas=V.lineAtlas,this.imageManager=V.imageManager,this.glyphManager=V.glyphManager,this.symbolFadeChange=V.placement.symbolFadeChange(d.browser.now()),this.imageManager.beginFrame();var te=this.style._order,ye=this.style.sourceCaches;for(var Le in ye){var U=ye[Le];U.used&&U.prepare(this.context)}var ie,de,be={},Ae={},Fe={};for(var We in ye){var $e=ye[We];be[We]=$e.getVisibleCoordinates(),Ae[We]=be[We].slice().reverse(),Fe[We]=$e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Qe=0;Qe<te.length;Qe++)if(this.style._layers[te[Qe]].is3D()){this.opaquePassCutoff=Qe;break}this.renderPass="offscreen";for(var lt=0,yt=te;lt<yt.length;lt+=1){var Bt=this.style._layers[yt[lt]];if(Bt.hasOffscreenPass()&&!Bt.isHidden(this.transform.zoom)){var Ut=Ae[Bt.source];("custom"===Bt.type||Ut.length)&&this.renderLayer(this,ye[Bt.source],Bt,Ut)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:Y.showOverdrawInspector?d.Color.black:d.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=Y.showOverdrawInspector,this.depthRangeFor3D=[0,1-(V._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=te.length-1;this.currentLayer>=0;this.currentLayer--){var jt=this.style._layers[te[this.currentLayer]],Xt=ye[jt.source],Vt=be[jt.source];this._renderTileClippingMasks(jt,Vt),this.renderLayer(this,Xt,jt,Vt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<te.length;this.currentLayer++){var pn=this.style._layers[te[this.currentLayer]],sn=ye[pn.source],tn=("symbol"===pn.type?Fe:Ae)[pn.source];this._renderTileClippingMasks(pn,be[pn.source]),this.renderLayer(this,sn,pn,tn)}this.options.showTileBoundaries&&(d.values(this.style._layers).forEach(function(Sn){Sn.source&&!Sn.isHidden(W.transform.zoom)&&(Sn.source!==(de&&de.id)&&(de=W.style.sourceCaches[Sn.source]),(!ie||ie.getSource().maxzoom<de.getSource().maxzoom)&&(ie=de))}),ie&&ll.debug(this,ie,ie.getVisibleCoordinates())),this.options.showPadding&&function Sl(V){var Y=V.transform.padding;dc(V,V.transform.height-(Y.top||0),3,cc),dc(V,Y.bottom||0,3,qo),fc(V,Y.left||0,3,uc),fc(V,V.transform.width-(Y.right||0),3,zs);var te,ye,Le,U,W=V.transform.centerPoint;bs(te=V,(ye=W.x)-1,(Le=V.transform.height-W.y)-10,2,20,U=Mi),bs(te,ye-10,Le-1,20,2,U)}(this),this.context.setDefault()},Pi.prototype.renderLayer=function(V,Y,W,te){W.isHidden(this.transform.zoom)||("background"===W.type||"custom"===W.type||te.length)&&(this.id=W.id,this.gpuTimingStart(W),ll[W.type](V,Y,W,te,this.style.placement.variableOffsets),this.gpuTimingEnd())},Pi.prototype.gpuTimingStart=function(V){if(this.options.gpuTiming){var Y=this.context.extTimerQuery,W=this.gpuTimers[V.id];W||(W=this.gpuTimers[V.id]={calls:0,cpuTime:0,query:Y.createQueryEXT()}),W.calls++,Y.beginQueryEXT(Y.TIME_ELAPSED_EXT,W.query)}},Pi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var V=this.context.extTimerQuery;V.endQueryEXT(V.TIME_ELAPSED_EXT)}},Pi.prototype.collectGpuTimers=function(){var V=this.gpuTimers;return this.gpuTimers={},V},Pi.prototype.queryGpuTimers=function(V){var Y={};for(var W in V){var te=V[W],ye=this.context.extTimerQuery,Le=ye.getQueryObjectEXT(te.query,ye.QUERY_RESULT_EXT)/1e6;ye.deleteQueryEXT(te.query),Y[W]=Le}return Y},Pi.prototype.translatePosMatrix=function(V,Y,W,te,ye){if(!W[0]&&!W[1])return V;var Le=ye?"map"===te?this.transform.angle:0:"viewport"===te?-this.transform.angle:0;if(Le){var U=Math.sin(Le),ie=Math.cos(Le);W=[W[0]*ie-W[1]*U,W[0]*U+W[1]*ie]}var de=[ye?W[0]:dr(Y,W[0],this.transform.zoom),ye?W[1]:dr(Y,W[1],this.transform.zoom),0],be=new Float32Array(16);return d.translate(be,V,de),be},Pi.prototype.saveTileTexture=function(V){var Y=this._tileTextures[V.size[0]];Y?Y.push(V):this._tileTextures[V.size[0]]=[V]},Pi.prototype.getTileTexture=function(V){var Y=this._tileTextures[V];return Y&&Y.length>0?Y.pop():null},Pi.prototype.isPatternMissing=function(V){if(!V)return!1;if(!V.from||!V.to)return!0;var Y=this.imageManager.getPattern(V.from.toString()),W=this.imageManager.getPattern(V.to.toString());return!Y||!W},Pi.prototype.useProgram=function(V,Y){this.cache=this.cache||{};var W=""+V+(Y?Y.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[W]||(this.cache[W]=new rl(this.context,nl[V],Y,Xa[V],this._showOverdrawInspector)),this.cache[W]},Pi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Pi.prototype.setBaseState=function(){var V=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(V.FUNC_ADD)},Pi.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=d.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new d.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},Pi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var ka=function(V,Y){this.points=V,this.planes=Y};ka.fromInvProjectionMatrix=function(V,Y,W){var te=Math.pow(2,W),ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(U){return d.transformMat4([],U,V)}).map(function(U){return d.scale$1([],U,1/U[3]/Y*te)}),Le=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(U){var ie=d.sub([],ye[U[0]],ye[U[1]]),de=d.sub([],ye[U[2]],ye[U[1]]),be=d.normalize([],d.cross([],ie,de)),Ae=-d.dot(be,ye[U[1]]);return be.concat(Ae)});return new ka(ye,Le)};var us=function(V,Y){this.min=V,this.max=Y,this.center=d.scale$2([],d.add([],this.min,this.max),.5)};us.prototype.quadrant=function(V){for(var Y=[V%2==0,V<2],W=d.clone$2(this.min),te=d.clone$2(this.max),ye=0;ye<Y.length;ye++)W[ye]=Y[ye]?this.min[ye]:this.center[ye],te[ye]=Y[ye]?this.center[ye]:this.max[ye];return te[2]=this.max[2],new us(W,te)},us.prototype.distanceX=function(V){return Math.max(Math.min(this.max[0],V[0]),this.min[0])-V[0]},us.prototype.distanceY=function(V){return Math.max(Math.min(this.max[1],V[1]),this.min[1])-V[1]},us.prototype.intersects=function(V){for(var Y=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],W=!0,te=0;te<V.planes.length;te++){for(var ye=V.planes[te],Le=0,U=0;U<Y.length;U++)Le+=d.dot$1(ye,Y[U])>=0;if(0===Le)return 0;Le!==Y.length&&(W=!1)}if(W)return 2;for(var ie=0;ie<3;ie++){for(var de=Number.MAX_VALUE,be=-Number.MAX_VALUE,Ae=0;Ae<V.points.length;Ae++){var Fe=V.points[Ae][ie]-this.min[ie];de=Math.min(de,Fe),be=Math.max(be,Fe)}if(be<0||de>this.max[ie]-this.min[ie])return 0}return 1};var Qo=function(V,Y,W,te){if(void 0===V&&(V=0),void 0===Y&&(Y=0),void 0===W&&(W=0),void 0===te&&(te=0),isNaN(V)||V<0||isNaN(Y)||Y<0||isNaN(W)||W<0||isNaN(te)||te<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=V,this.bottom=Y,this.left=W,this.right=te};Qo.prototype.interpolate=function(V,Y,W){return null!=Y.top&&null!=V.top&&(this.top=d.number(V.top,Y.top,W)),null!=Y.bottom&&null!=V.bottom&&(this.bottom=d.number(V.bottom,Y.bottom,W)),null!=Y.left&&null!=V.left&&(this.left=d.number(V.left,Y.left,W)),null!=Y.right&&null!=V.right&&(this.right=d.number(V.right,Y.right,W)),this},Qo.prototype.getCenter=function(V,Y){var W=d.clamp((this.left+V-this.right)/2,0,V),te=d.clamp((this.top+Y-this.bottom)/2,0,Y);return new d.Point(W,te)},Qo.prototype.equals=function(V){return this.top===V.top&&this.bottom===V.bottom&&this.left===V.left&&this.right===V.right},Qo.prototype.clone=function(){return new Qo(this.top,this.bottom,this.left,this.right)},Qo.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var si=function(V,Y,W,te,ye){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===ye||ye,this._minZoom=V||0,this._maxZoom=Y||22,this._minPitch=W??0,this._maxPitch=te??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new d.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Qo,this._posMatrixCache={},this._alignedPosMatrixCache={}},qi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};si.prototype.clone=function(){var V=new si(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return V.tileSize=this.tileSize,V.latRange=this.latRange,V.width=this.width,V.height=this.height,V._center=this._center,V.zoom=this.zoom,V.angle=this.angle,V._fov=this._fov,V._pitch=this._pitch,V._unmodified=this._unmodified,V._edgeInsets=this._edgeInsets.clone(),V._calcMatrices(),V},qi.minZoom.get=function(){return this._minZoom},qi.minZoom.set=function(V){this._minZoom!==V&&(this._minZoom=V,this.zoom=Math.max(this.zoom,V))},qi.maxZoom.get=function(){return this._maxZoom},qi.maxZoom.set=function(V){this._maxZoom!==V&&(this._maxZoom=V,this.zoom=Math.min(this.zoom,V))},qi.minPitch.get=function(){return this._minPitch},qi.minPitch.set=function(V){this._minPitch!==V&&(this._minPitch=V,this.pitch=Math.max(this.pitch,V))},qi.maxPitch.get=function(){return this._maxPitch},qi.maxPitch.set=function(V){this._maxPitch!==V&&(this._maxPitch=V,this.pitch=Math.min(this.pitch,V))},qi.renderWorldCopies.get=function(){return this._renderWorldCopies},qi.renderWorldCopies.set=function(V){void 0===V?V=!0:null===V&&(V=!1),this._renderWorldCopies=V},qi.worldSize.get=function(){return this.tileSize*this.scale},qi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},qi.size.get=function(){return new d.Point(this.width,this.height)},qi.bearing.get=function(){return-this.angle/Math.PI*180},qi.bearing.set=function(V){var Y=-d.wrap(V,-180,180)*Math.PI/180;this.angle!==Y&&(this._unmodified=!1,this.angle=Y,this._calcMatrices(),this.rotationMatrix=d.create$2(),d.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},qi.pitch.get=function(){return this._pitch/Math.PI*180},qi.pitch.set=function(V){var Y=d.clamp(V,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Y&&(this._unmodified=!1,this._pitch=Y,this._calcMatrices())},qi.fov.get=function(){return this._fov/Math.PI*180},qi.fov.set=function(V){V=Math.max(.01,Math.min(60,V)),this._fov!==V&&(this._unmodified=!1,this._fov=V/180*Math.PI,this._calcMatrices())},qi.zoom.get=function(){return this._zoom},qi.zoom.set=function(V){var Y=Math.min(Math.max(V,this.minZoom),this.maxZoom);this._zoom!==Y&&(this._unmodified=!1,this._zoom=Y,this.scale=this.zoomScale(Y),this.tileZoom=Math.floor(Y),this.zoomFraction=Y-this.tileZoom,this._constrain(),this._calcMatrices())},qi.center.get=function(){return this._center},qi.center.set=function(V){V.lat===this._center.lat&&V.lng===this._center.lng||(this._unmodified=!1,this._center=V,this._constrain(),this._calcMatrices())},qi.padding.get=function(){return this._edgeInsets.toJSON()},qi.padding.set=function(V){this._edgeInsets.equals(V)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,V,1),this._calcMatrices())},qi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},si.prototype.isPaddingEqual=function(V){return this._edgeInsets.equals(V)},si.prototype.interpolatePadding=function(V,Y,W){this._unmodified=!1,this._edgeInsets.interpolate(V,Y,W),this._constrain(),this._calcMatrices()},si.prototype.coveringZoomLevel=function(V){var Y=(V.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/V.tileSize));return Math.max(0,Y)},si.prototype.getVisibleUnwrappedCoordinates=function(V){var Y=[new d.UnwrappedTileID(0,V)];if(this._renderWorldCopies)for(var W=this.pointCoordinate(new d.Point(0,0)),te=this.pointCoordinate(new d.Point(this.width,0)),ye=this.pointCoordinate(new d.Point(this.width,this.height)),Le=this.pointCoordinate(new d.Point(0,this.height)),U=Math.floor(Math.min(W.x,te.x,ye.x,Le.x)),ie=Math.floor(Math.max(W.x,te.x,ye.x,Le.x)),de=U-1;de<=ie+1;de++)0!==de&&Y.push(new d.UnwrappedTileID(de,V));return Y},si.prototype.coveringTiles=function(V){var Y=this.coveringZoomLevel(V),W=Y;if(void 0!==V.minzoom&&Y<V.minzoom)return[];void 0!==V.maxzoom&&Y>V.maxzoom&&(Y=V.maxzoom);var te=d.MercatorCoordinate.fromLngLat(this.center),ye=Math.pow(2,Y),Le=[ye*te.x,ye*te.y,0],U=ka.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,Y),ie=V.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(ie=Y);var de=function(tn){return{aabb:new us([tn*ye,0,0],[(tn+1)*ye,ye,0]),zoom:0,x:0,y:0,wrap:tn,fullyVisible:!1}},be=[],Ae=[],Fe=Y,We=V.reparseOverscaled?W:Y;if(this._renderWorldCopies)for(var $e=1;$e<=3;$e++)be.push(de(-$e)),be.push(de($e));for(be.push(de(0));be.length>0;){var Qe=be.pop(),tt=Qe.x,lt=Qe.y,yt=Qe.fullyVisible;if(!yt){var Mt=Qe.aabb.intersects(U);if(0===Mt)continue;yt=2===Mt}var Bt=Qe.aabb.distanceX(Le),Ut=Qe.aabb.distanceY(Le),jt=Math.max(Math.abs(Bt),Math.abs(Ut));if(Qe.zoom===Fe||jt>3+(1<<Fe-Qe.zoom)-2&&Qe.zoom>=ie)Ae.push({tileID:new d.OverscaledTileID(Qe.zoom===Fe?We:Qe.zoom,Qe.wrap,Qe.zoom,tt,lt),distanceSq:d.sqrLen([Le[0]-.5-tt,Le[1]-.5-lt])});else for(var Vt=0;Vt<4;Vt++){var pn=(tt<<1)+Vt%2,sn=(lt<<1)+(Vt>>1);be.push({aabb:Qe.aabb.quadrant(Vt),zoom:Qe.zoom+1,x:pn,y:sn,wrap:Qe.wrap,fullyVisible:yt})}}return Ae.sort(function(tn,Sn){return tn.distanceSq-Sn.distanceSq}).map(function(tn){return tn.tileID})},si.prototype.resize=function(V,Y){this.width=V,this.height=Y,this.pixelsToGLUnits=[2/V,-2/Y],this._constrain(),this._calcMatrices()},qi.unmodified.get=function(){return this._unmodified},si.prototype.zoomScale=function(V){return Math.pow(2,V)},si.prototype.scaleZoom=function(V){return Math.log(V)/Math.LN2},si.prototype.project=function(V){var Y=d.clamp(V.lat,-this.maxValidLatitude,this.maxValidLatitude);return new d.Point(d.mercatorXfromLng(V.lng)*this.worldSize,d.mercatorYfromLat(Y)*this.worldSize)},si.prototype.unproject=function(V){return new d.MercatorCoordinate(V.x/this.worldSize,V.y/this.worldSize).toLngLat()},qi.point.get=function(){return this.project(this.center)},si.prototype.setLocationAtPoint=function(V,Y){var W=this.pointCoordinate(Y),te=this.pointCoordinate(this.centerPoint),ye=this.locationCoordinate(V),Le=new d.MercatorCoordinate(ye.x-(W.x-te.x),ye.y-(W.y-te.y));this.center=this.coordinateLocation(Le),this._renderWorldCopies&&(this.center=this.center.wrap())},si.prototype.locationPoint=function(V){return this.coordinatePoint(this.locationCoordinate(V))},si.prototype.pointLocation=function(V){return this.coordinateLocation(this.pointCoordinate(V))},si.prototype.locationCoordinate=function(V){return d.MercatorCoordinate.fromLngLat(V)},si.prototype.coordinateLocation=function(V){return V.toLngLat()},si.prototype.pointCoordinate=function(V){var Y=[V.x,V.y,0,1],W=[V.x,V.y,1,1];d.transformMat4(Y,Y,this.pixelMatrixInverse),d.transformMat4(W,W,this.pixelMatrixInverse);var te=Y[3],ye=W[3],ie=Y[1]/te,de=W[1]/ye,be=Y[2]/te,Ae=W[2]/ye,Fe=be===Ae?0:(0-be)/(Ae-be);return new d.MercatorCoordinate(d.number(Y[0]/te,W[0]/ye,Fe)/this.worldSize,d.number(ie,de,Fe)/this.worldSize)},si.prototype.coordinatePoint=function(V){var Y=[V.x*this.worldSize,V.y*this.worldSize,0,1];return d.transformMat4(Y,Y,this.pixelMatrix),new d.Point(Y[0]/Y[3],Y[1]/Y[3])},si.prototype.getBounds=function(){return(new d.LngLatBounds).extend(this.pointLocation(new d.Point(0,0))).extend(this.pointLocation(new d.Point(this.width,0))).extend(this.pointLocation(new d.Point(this.width,this.height))).extend(this.pointLocation(new d.Point(0,this.height)))},si.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new d.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},si.prototype.setMaxBounds=function(V){V?(this.lngRange=[V.getWest(),V.getEast()],this.latRange=[V.getSouth(),V.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},si.prototype.calculatePosMatrix=function(V,Y){void 0===Y&&(Y=!1);var W=V.key,te=Y?this._alignedPosMatrixCache:this._posMatrixCache;if(te[W])return te[W];var ye=V.canonical,Le=this.worldSize/this.zoomScale(ye.z),U=ye.x+Math.pow(2,ye.z)*V.wrap,ie=d.identity(new Float64Array(16));return d.translate(ie,ie,[U*Le,ye.y*Le,0]),d.scale(ie,ie,[Le/d.EXTENT,Le/d.EXTENT,1]),d.multiply(ie,Y?this.alignedProjMatrix:this.projMatrix,ie),te[W]=new Float32Array(ie),te[W]},si.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},si.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var V,Y,W,te,ye=-90,Le=90,U=-180,ie=180,de=this.size,be=this._unmodified;if(this.latRange){var Ae=this.latRange;ye=d.mercatorYfromLat(Ae[1])*this.worldSize,V=(Le=d.mercatorYfromLat(Ae[0])*this.worldSize)-ye<de.y?de.y/(Le-ye):0}if(this.lngRange){var Fe=this.lngRange;U=d.mercatorXfromLng(Fe[0])*this.worldSize,Y=(ie=d.mercatorXfromLng(Fe[1])*this.worldSize)-U<de.x?de.x/(ie-U):0}var We=this.point,$e=Math.max(Y||0,V||0);if($e)return this.center=this.unproject(new d.Point(Y?(ie+U)/2:We.x,V?(Le+ye)/2:We.y)),this.zoom+=this.scaleZoom($e),this._unmodified=be,void(this._constraining=!1);if(this.latRange){var Qe=We.y,tt=de.y/2;Qe-tt<ye&&(te=ye+tt),Qe+tt>Le&&(te=Le-tt)}if(this.lngRange){var lt=We.x,yt=de.x/2;lt-yt<U&&(W=U+yt),lt+yt>ie&&(W=ie-yt)}void 0===W&&void 0===te||(this.center=this.unproject(new d.Point(void 0!==W?W:We.x,void 0!==te?te:We.y))),this._unmodified=be,this._constraining=!1}},si.prototype._calcMatrices=function(){if(this.height){var Y=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var W=Math.PI/2+this._pitch,te=this._fov*(.5+Y.y/this.height),ye=Math.sin(te)*this.cameraToCenterDistance/Math.sin(d.clamp(Math.PI-W-te,.01,Math.PI-.01)),Le=this.point,U=Le.x,ie=Le.y,de=1.01*(Math.cos(Math.PI/2-this._pitch)*ye+this.cameraToCenterDistance),be=this.height/50,Ae=new Float64Array(16);d.perspective(Ae,this._fov,this.width/this.height,be,de),Ae[8]=2*-Y.x/this.width,Ae[9]=2*Y.y/this.height,d.scale(Ae,Ae,[1,-1,1]),d.translate(Ae,Ae,[0,0,-this.cameraToCenterDistance]),d.rotateX(Ae,Ae,this._pitch),d.rotateZ(Ae,Ae,this.angle),d.translate(Ae,Ae,[-U,-ie,0]),this.mercatorMatrix=d.scale([],Ae,[this.worldSize,this.worldSize,this.worldSize]),d.scale(Ae,Ae,[1,1,d.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=Ae,this.invProjMatrix=d.invert([],this.projMatrix);var Fe=this.width%2/2,We=this.height%2/2,$e=Math.cos(this.angle),Qe=Math.sin(this.angle),tt=U-Math.round(U)+$e*Fe+Qe*We,lt=ie-Math.round(ie)+$e*We+Qe*Fe,yt=new Float64Array(Ae);if(d.translate(yt,yt,[tt>.5?tt-1:tt,lt>.5?lt-1:lt,0]),this.alignedProjMatrix=yt,Ae=d.create(),d.scale(Ae,Ae,[this.width/2,-this.height/2,1]),d.translate(Ae,Ae,[1,-1,0]),this.labelPlaneMatrix=Ae,Ae=d.create(),d.scale(Ae,Ae,[1,-1,1]),d.translate(Ae,Ae,[-1,-1,0]),d.scale(Ae,Ae,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ae,this.pixelMatrix=d.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(Ae=d.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ae,this._posMatrixCache={},this._alignedPosMatrixCache={}}},si.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var V=this.pointCoordinate(new d.Point(0,0)),Y=[V.x*this.worldSize,V.y*this.worldSize,0,1];return d.transformMat4(Y,Y,this.pixelMatrix)[3]/this.cameraToCenterDistance},si.prototype.getCameraPoint=function(){var Y=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new d.Point(0,Y))},si.prototype.getCameraQueryGeometry=function(V){var Y=this.getCameraPoint();if(1===V.length)return[V[0],Y];for(var W=Y.x,te=Y.y,ye=Y.x,Le=Y.y,U=0,ie=V;U<ie.length;U+=1){var de=ie[U];W=Math.min(W,de.x),te=Math.min(te,de.y),ye=Math.max(ye,de.x),Le=Math.max(Le,de.y)}return[new d.Point(W,te),new d.Point(ye,te),new d.Point(ye,Le),new d.Point(W,Le),new d.Point(W,te)]},Object.defineProperties(si.prototype,qi);var cl=function(V){var Y,te,ye,Le;this._hashName=V&&encodeURIComponent(V),d.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(Y=this._updateHashUnthrottled.bind(this),300,te=!1,ye=null,Le=function(){ye=null,te&&(Y(),ye=setTimeout(Le,300),te=!1)},function(){return te=!0,ye||Le(),ye})};cl.prototype.addTo=function(V){return this._map=V,d.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},cl.prototype.remove=function(){return d.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},cl.prototype.getHashString=function(V){var Y=this._map.getCenter(),W=Math.round(100*this._map.getZoom())/100,te=Math.ceil((W*Math.LN2+Math.log(512/360/.5))/Math.LN10),ye=Math.pow(10,te),Le=Math.round(Y.lng*ye)/ye,U=Math.round(Y.lat*ye)/ye,ie=this._map.getBearing(),de=this._map.getPitch(),be="";if(be+=V?"/"+Le+"/"+U+"/"+W:W+"/"+U+"/"+Le,(ie||de)&&(be+="/"+Math.round(10*ie)/10),de&&(be+="/"+Math.round(de)),this._hashName){var Ae=this._hashName,Fe=!1,We=d.window.location.hash.slice(1).split("&").map(function($e){var Qe=$e.split("=")[0];return Qe===Ae?(Fe=!0,Qe+"="+be):$e}).filter(function($e){return $e});return Fe||We.push(Ae+"="+be),"#"+We.join("&")}return"#"+be},cl.prototype._getCurrentHash=function(){var V,Y=this,W=d.window.location.hash.replace("#","");return this._hashName?(W.split("&").map(function(te){return te.split("=")}).forEach(function(te){te[0]===Y._hashName&&(V=te)}),(V&&V[1]||"").split("/")):W.split("/")},cl.prototype._onHashChange=function(){var V=this._getCurrentHash();if(V.length>=3&&!V.some(function(W){return isNaN(W)})){var Y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(V[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+V[2],+V[1]],zoom:+V[0],bearing:Y,pitch:+(V[4]||0)}),!0}return!1},cl.prototype._updateHashUnthrottled=function(){var V=this.getHashString();try{d.window.history.replaceState(d.window.history.state,"",V)}catch{}};var ul={linearity:.3,easing:d.bezier(0,0,.3,1)},Sc=d.extend({deceleration:2500,maxSpeed:1400},ul),zl=d.extend({deceleration:20,maxSpeed:1400},ul),ds=d.extend({deceleration:1e3,maxSpeed:360},ul),ua=d.extend({deceleration:1e3,maxSpeed:90},ul),Bl=function(V){this._map=V,this.clear()};function da(V,Y){(!V.duration||V.duration<Y.duration)&&(V.duration=Y.duration,V.easing=Y.easing)}function ma(V,Y,W){var te=W.maxSpeed,ye=W.linearity,Le=W.deceleration,U=d.clamp(V*ye/(Y/1e3),-te,te),ie=Math.abs(U)/(Le*ye);return{easing:W.easing,duration:1e3*ie,amount:U*(ie/2)}}Bl.prototype.clear=function(){this._inertiaBuffer=[]},Bl.prototype.record=function(V){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:d.browser.now(),settings:V})},Bl.prototype._drainInertiaBuffer=function(){for(var V=this._inertiaBuffer,Y=d.browser.now();V.length>0&&Y-V[0].time>160;)V.shift()},Bl.prototype._onMoveEnd=function(V){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var Y={zoom:0,bearing:0,pitch:0,pan:new d.Point(0,0),pinchAround:void 0,around:void 0},W=0,te=this._inertiaBuffer;W<te.length;W+=1){var ye=te[W].settings;Y.zoom+=ye.zoomDelta||0,Y.bearing+=ye.bearingDelta||0,Y.pitch+=ye.pitchDelta||0,ye.panDelta&&Y.pan._add(ye.panDelta),ye.around&&(Y.around=ye.around),ye.pinchAround&&(Y.pinchAround=ye.pinchAround)}var Le=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,U={};if(Y.pan.mag()){var ie=ma(Y.pan.mag(),Le,d.extend({},Sc,V||{}));U.offset=Y.pan.mult(ie.amount/Y.pan.mag()),U.center=this._map.transform.center,da(U,ie)}if(Y.zoom){var de=ma(Y.zoom,Le,zl);U.zoom=this._map.transform.zoom+de.amount,da(U,de)}if(Y.bearing){var be=ma(Y.bearing,Le,ds);U.bearing=this._map.transform.bearing+d.clamp(be.amount,-179,179),da(U,be)}if(Y.pitch){var Ae=ma(Y.pitch,Le,ua);U.pitch=this._map.transform.pitch+Ae.amount,da(U,Ae)}if(U.zoom||U.bearing){var Fe=void 0===Y.pinchAround?Y.around:Y.pinchAround;U.around=Fe?this._map.unproject(Fe):this._map.getCenter()}return this.clear(),d.extend(U,{noMoveStart:!0})}};var So=function(V){function Y(te,ye,Le,U){void 0===U&&(U={});var ie=M.mousePos(ye.getCanvasContainer(),Le),de=ye.unproject(ie);V.call(this,te,d.extend({point:ie,lngLat:de,originalEvent:Le},U)),this._defaultPrevented=!1,this.target=ye}V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y;var W={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,W),Y}(d.Event),Bs=function(V){function Y(te,ye,Le){var U="touchend"===te?Le.changedTouches:Le.touches,ie=M.touchPos(ye.getCanvasContainer(),U),de=ie.map(function(Fe){return ye.unproject(Fe)}),be=ie.reduce(function(Fe,We,$e,Qe){return Fe.add(We.div(Qe.length))},new d.Point(0,0)),Ae=ye.unproject(be);V.call(this,te,{points:ie,point:be,lngLats:de,lngLat:Ae,originalEvent:Le}),this._defaultPrevented=!1}V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y;var W={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,W),Y}(d.Event),dl=function(V){function Y(te,ye,Le){V.call(this,te,{originalEvent:Le}),this._defaultPrevented=!1}V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y;var W={defaultPrevented:{configurable:!0}};return Y.prototype.preventDefault=function(){this._defaultPrevented=!0},W.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Y.prototype,W),Y}(d.Event),so=function(V,Y){this._map=V,this._clickTolerance=Y.clickTolerance};so.prototype.reset=function(){delete this._mousedownPos},so.prototype.wheel=function(V){return this._firePreventable(new dl(V.type,this._map,V))},so.prototype.mousedown=function(V,Y){return this._mousedownPos=Y,this._firePreventable(new So(V.type,this._map,V))},so.prototype.mouseup=function(V){this._map.fire(new So(V.type,this._map,V))},so.prototype.click=function(V,Y){this._mousedownPos&&this._mousedownPos.dist(Y)>=this._clickTolerance||this._map.fire(new So(V.type,this._map,V))},so.prototype.dblclick=function(V){return this._firePreventable(new So(V.type,this._map,V))},so.prototype.mouseover=function(V){this._map.fire(new So(V.type,this._map,V))},so.prototype.mouseout=function(V){this._map.fire(new So(V.type,this._map,V))},so.prototype.touchstart=function(V){return this._firePreventable(new Bs(V.type,this._map,V))},so.prototype.touchmove=function(V){this._map.fire(new Bs(V.type,this._map,V))},so.prototype.touchend=function(V){this._map.fire(new Bs(V.type,this._map,V))},so.prototype.touchcancel=function(V){this._map.fire(new Bs(V.type,this._map,V))},so.prototype._firePreventable=function(V){if(this._map.fire(V),V.defaultPrevented)return{}},so.prototype.isEnabled=function(){return!0},so.prototype.isActive=function(){return!1},so.prototype.enable=function(){},so.prototype.disable=function(){};var Sa=function(V){this._map=V};Sa.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Sa.prototype.mousemove=function(V){this._map.fire(new So(V.type,this._map,V))},Sa.prototype.mousedown=function(){this._delayContextMenu=!0},Sa.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new So("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Sa.prototype.contextmenu=function(V){this._delayContextMenu?this._contextMenuEvent=V:this._map.fire(new So(V.type,this._map,V)),this._map.listens("contextmenu")&&V.preventDefault()},Sa.prototype.isEnabled=function(){return!0},Sa.prototype.isActive=function(){return!1},Sa.prototype.enable=function(){},Sa.prototype.disable=function(){};var Ea=function(V,Y){this._map=V,this._el=V.getCanvasContainer(),this._container=V.getContainer(),this._clickTolerance=Y.clickTolerance||1};function ea(V,Y){for(var W={},te=0;te<V.length;te++)W[V[te].identifier]=Y[te];return W}Ea.prototype.isEnabled=function(){return!!this._enabled},Ea.prototype.isActive=function(){return!!this._active},Ea.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ea.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ea.prototype.mousedown=function(V,Y){this.isEnabled()&&V.shiftKey&&0===V.button&&(M.disableDrag(),this._startPos=this._lastPos=Y,this._active=!0)},Ea.prototype.mousemoveWindow=function(V,Y){if(this._active){var W=Y;if(!(this._lastPos.equals(W)||!this._box&&W.dist(this._startPos)<this._clickTolerance)){var te=this._startPos;this._lastPos=W,this._box||(this._box=M.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",V));var ye=Math.min(te.x,W.x),Le=Math.max(te.x,W.x),U=Math.min(te.y,W.y),ie=Math.max(te.y,W.y);M.setTransform(this._box,"translate("+ye+"px,"+U+"px)"),this._box.style.width=Le-ye+"px",this._box.style.height=ie-U+"px"}}},Ea.prototype.mouseupWindow=function(V,Y){var W=this;if(this._active&&0===V.button){var te=this._startPos,ye=Y;if(this.reset(),M.suppressClick(),te.x!==ye.x||te.y!==ye.y)return this._map.fire(new d.Event("boxzoomend",{originalEvent:V})),{cameraAnimation:function(Le){return Le.fitScreenCoordinates(te,ye,W._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",V)}},Ea.prototype.keydown=function(V){this._active&&27===V.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",V))},Ea.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(M.remove(this._box),this._box=null),M.enableDrag(),delete this._startPos,delete this._lastPos},Ea.prototype._fireEvent=function(V,Y){return this._map.fire(new d.Event(V,{originalEvent:Y}))};var Oa=function(V){this.reset(),this.numTouches=V.numTouches};Oa.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Oa.prototype.touchstart=function(V,Y,W){(this.centroid||W.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=V.timeStamp),W.length===this.numTouches&&(this.centroid=function(te){for(var ye=new d.Point(0,0),Le=0,U=te;Le<U.length;Le+=1)ye._add(U[Le]);return ye.div(te.length)}(Y),this.touches=ea(W,Y)))},Oa.prototype.touchmove=function(V,Y,W){if(!this.aborted&&this.centroid){var te=ea(W,Y);for(var ye in this.touches){var U=te[ye];(!U||U.dist(this.touches[ye])>30)&&(this.aborted=!0)}}},Oa.prototype.touchend=function(V,Y,W){if((!this.centroid||V.timeStamp-this.startTime>500)&&(this.aborted=!0),0===W.length){var te=!this.aborted&&this.centroid;if(this.reset(),te)return te}};var hc=function(V){this.singleTap=new Oa(V),this.numTaps=V.numTaps,this.reset()};hc.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},hc.prototype.touchstart=function(V,Y,W){this.singleTap.touchstart(V,Y,W)},hc.prototype.touchmove=function(V,Y,W){this.singleTap.touchmove(V,Y,W)},hc.prototype.touchend=function(V,Y,W){var te=this.singleTap.touchend(V,Y,W);if(te){var ye=V.timeStamp-this.lastTime<500,Le=!this.lastTap||this.lastTap.dist(te)<30;if(ye&&Le||this.reset(),this.count++,this.lastTime=V.timeStamp,this.lastTap=te,this.count===this.numTaps)return this.reset(),te}};var fl=function(){this._zoomIn=new hc({numTouches:1,numTaps:2}),this._zoomOut=new hc({numTouches:2,numTaps:1}),this.reset()};fl.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},fl.prototype.touchstart=function(V,Y,W){this._zoomIn.touchstart(V,Y,W),this._zoomOut.touchstart(V,Y,W)},fl.prototype.touchmove=function(V,Y,W){this._zoomIn.touchmove(V,Y,W),this._zoomOut.touchmove(V,Y,W)},fl.prototype.touchend=function(V,Y,W){var te=this,ye=this._zoomIn.touchend(V,Y,W),Le=this._zoomOut.touchend(V,Y,W);return ye?(this._active=!0,V.preventDefault(),setTimeout(function(){return te.reset()},0),{cameraAnimation:function(U){return U.easeTo({duration:300,zoom:U.getZoom()+1,around:U.unproject(ye)},{originalEvent:V})}}):Le?(this._active=!0,V.preventDefault(),setTimeout(function(){return te.reset()},0),{cameraAnimation:function(U){return U.easeTo({duration:300,zoom:U.getZoom()-1,around:U.unproject(Le)},{originalEvent:V})}}):void 0},fl.prototype.touchcancel=function(){this.reset()},fl.prototype.enable=function(){this._enabled=!0},fl.prototype.disable=function(){this._enabled=!1,this.reset()},fl.prototype.isEnabled=function(){return this._enabled},fl.prototype.isActive=function(){return this._active};var ga=function(V){this.reset(),this._clickTolerance=V.clickTolerance||1};ga.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},ga.prototype._correctButton=function(V,Y){return!1},ga.prototype._move=function(V,Y){return{}},ga.prototype.mousedown=function(V,Y){if(!this._lastPoint){var W=M.mouseButton(V);this._correctButton(V,W)&&(this._lastPoint=Y,this._eventButton=W)}},ga.prototype.mousemoveWindow=function(V,Y){var W=this._lastPoint;if(W&&(V.preventDefault(),this._moved||!(Y.dist(W)<this._clickTolerance)))return this._moved=!0,this._lastPoint=Y,this._move(W,Y)},ga.prototype.mouseupWindow=function(V){M.mouseButton(V)===this._eventButton&&(this._moved&&M.suppressClick(),this.reset())},ga.prototype.enable=function(){this._enabled=!0},ga.prototype.disable=function(){this._enabled=!1,this.reset()},ga.prototype.isEnabled=function(){return this._enabled},ga.prototype.isActive=function(){return this._active};var ws=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.mousedown=function(W,te){V.prototype.mousedown.call(this,W,te),this._lastPoint&&(this._active=!0)},Y.prototype._correctButton=function(W,te){return 0===te&&!W.ctrlKey},Y.prototype._move=function(W,te){return{around:te,panDelta:te.sub(W)}},Y}(ga),js=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype._correctButton=function(W,te){return 0===te&&W.ctrlKey||2===te},Y.prototype._move=function(W,te){var ye=.8*(te.x-W.x);if(ye)return this._active=!0,{bearingDelta:ye}},Y.prototype.contextmenu=function(W){W.preventDefault()},Y}(ga),xu=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype._correctButton=function(W,te){return 0===te&&W.ctrlKey||2===te},Y.prototype._move=function(W,te){var ye=-.5*(te.y-W.y);if(ye)return this._active=!0,{pitchDelta:ye}},Y.prototype.contextmenu=function(W){W.preventDefault()},Y}(ga),Vs=function(V){this._minTouches=1,this._clickTolerance=V.clickTolerance||1,this.reset()};Vs.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new d.Point(0,0)},Vs.prototype.touchstart=function(V,Y,W){return this._calculateTransform(V,Y,W)},Vs.prototype.touchmove=function(V,Y,W){if(this._active)return V.preventDefault(),this._calculateTransform(V,Y,W)},Vs.prototype.touchend=function(V,Y,W){this._calculateTransform(V,Y,W),this._active&&W.length<this._minTouches&&this.reset()},Vs.prototype.touchcancel=function(){this.reset()},Vs.prototype._calculateTransform=function(V,Y,W){W.length>0&&(this._active=!0);var te=ea(W,Y),ye=new d.Point(0,0),Le=new d.Point(0,0),U=0;for(var ie in te){var de=te[ie],be=this._touches[ie];be&&(ye._add(de),Le._add(de.sub(be)),U++,te[ie]=de)}if(this._touches=te,!(U<this._minTouches)&&Le.mag()){var Ae=Le.div(U);if(this._sum._add(Ae),!(this._sum.mag()<this._clickTolerance))return{around:ye.div(U),panDelta:Ae}}},Vs.prototype.enable=function(){this._enabled=!0},Vs.prototype.disable=function(){this._enabled=!1,this.reset()},Vs.prototype.isEnabled=function(){return this._enabled},Vs.prototype.isActive=function(){return this._active};var va=function(){this.reset()};function Xr(V,Y,W){for(var te=0;te<V.length;te++)if(V[te].identifier===W)return Y[te]}function Pa(V,Y){return Math.log(V/Y)/Math.LN2}va.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},va.prototype._start=function(V){},va.prototype._move=function(V,Y,W){return{}},va.prototype.touchstart=function(V,Y,W){this._firstTwoTouches||W.length<2||(this._firstTwoTouches=[W[0].identifier,W[1].identifier],this._start([Y[0],Y[1]]))},va.prototype.touchmove=function(V,Y,W){if(this._firstTwoTouches){V.preventDefault();var te=this._firstTwoTouches,Le=te[1],U=Xr(W,Y,te[0]),ie=Xr(W,Y,Le);if(U&&ie){var de=this._aroundCenter?null:U.add(ie).div(2);return this._move([U,ie],de,V)}}},va.prototype.touchend=function(V,Y,W){if(this._firstTwoTouches){var te=this._firstTwoTouches,Le=te[1],U=Xr(W,Y,te[0]),ie=Xr(W,Y,Le);U&&ie||(this._active&&M.suppressClick(),this.reset())}},va.prototype.touchcancel=function(){this.reset()},va.prototype.enable=function(V){this._enabled=!0,this._aroundCenter=!!V&&"center"===V.around},va.prototype.disable=function(){this._enabled=!1,this.reset()},va.prototype.isEnabled=function(){return this._enabled},va.prototype.isActive=function(){return this._active};var eu=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.reset=function(){V.prototype.reset.call(this),delete this._distance,delete this._startDistance},Y.prototype._start=function(W){this._startDistance=this._distance=W[0].dist(W[1])},Y.prototype._move=function(W,te){var ye=this._distance;if(this._distance=W[0].dist(W[1]),this._active||!(Math.abs(Pa(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Pa(this._distance,ye),pinchAround:te}},Y}(va);function _u(V,Y){return 180*V.angleWith(Y)/Math.PI}var jl=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.reset=function(){V.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Y.prototype._start=function(W){this._startVector=this._vector=W[0].sub(W[1]),this._minDiameter=W[0].dist(W[1])},Y.prototype._move=function(W,te){var ye=this._vector;if(this._vector=W[0].sub(W[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:_u(this._vector,ye),pinchAround:te}},Y.prototype._isBelowThreshold=function(W){this._minDiameter=Math.min(this._minDiameter,W.mag());var te=25/(Math.PI*this._minDiameter)*360,ye=_u(W,this._startVector);return Math.abs(ye)<te},Y}(va);function Vl(V){return Math.abs(V.y)>Math.abs(V.x)}var Ul=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.reset=function(){V.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Y.prototype._start=function(W){this._lastPoints=W,Vl(W[0].sub(W[1]))&&(this._valid=!1)},Y.prototype._move=function(W,te,ye){var Le=W[0].sub(this._lastPoints[0]),U=W[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Le,U,ye.timeStamp),this._valid)return this._lastPoints=W,this._active=!0,{pitchDelta:(Le.y+U.y)/2*-.5}},Y.prototype.gestureBeginsVertically=function(W,te,ye){if(void 0!==this._valid)return this._valid;var Le=W.mag()>=2,U=te.mag()>=2;if(Le||U){if(!Le||!U)return void 0===this._firstMove&&(this._firstMove=ye),ye-this._firstMove<100&&void 0;var ie=W.y>0==te.y>0;return Vl(W)&&Vl(te)&&ie}},Y}(va),qr={panStep:100,bearingStep:15,pitchStep:10},hl=function(){var V=qr;this._panStep=V.panStep,this._bearingStep=V.bearingStep,this._pitchStep=V.pitchStep};function Ts(V){return V*(2-V)}hl.prototype.reset=function(){this._active=!1},hl.prototype.keydown=function(V){var Y=this;if(!(V.altKey||V.ctrlKey||V.metaKey)){var W=0,te=0,ye=0,Le=0,U=0;switch(V.keyCode){case 61:case 107:case 171:case 187:W=1;break;case 189:case 109:case 173:W=-1;break;case 37:V.shiftKey?te=-1:(V.preventDefault(),Le=-1);break;case 39:V.shiftKey?te=1:(V.preventDefault(),Le=1);break;case 38:V.shiftKey?ye=1:(V.preventDefault(),U=-1);break;case 40:V.shiftKey?ye=-1:(V.preventDefault(),U=1);break;default:return}return{cameraAnimation:function(ie){var de=ie.getZoom();ie.easeTo({duration:300,easeId:"keyboardHandler",easing:Ts,zoom:W?Math.round(de)+W*(V.shiftKey?2:1):de,bearing:ie.getBearing()+te*Y._bearingStep,pitch:ie.getPitch()+ye*Y._pitchStep,offset:[-Le*Y._panStep,-U*Y._panStep],center:ie.getCenter()},{originalEvent:V})}}}},hl.prototype.enable=function(){this._enabled=!0},hl.prototype.disable=function(){this._enabled=!1,this.reset()},hl.prototype.isEnabled=function(){return this._enabled},hl.prototype.isActive=function(){return this._active};var Fc=4.000244140625,Qi=function(V,Y){this._map=V,this._el=V.getCanvasContainer(),this._handler=Y,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,d.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Qi.prototype.setZoomRate=function(V){this._defaultZoomRate=V},Qi.prototype.setWheelZoomRate=function(V){this._wheelZoomRate=V},Qi.prototype.isEnabled=function(){return!!this._enabled},Qi.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},Qi.prototype.isZooming=function(){return!!this._zooming},Qi.prototype.enable=function(V){this.isEnabled()||(this._enabled=!0,this._aroundCenter=V&&"center"===V.around)},Qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qi.prototype.wheel=function(V){if(this.isEnabled()){var Y=V.deltaMode===d.window.WheelEvent.DOM_DELTA_LINE?40*V.deltaY:V.deltaY,W=d.browser.now(),te=W-(this._lastWheelEventTime||0);this._lastWheelEventTime=W,0!==Y&&Y%Fc==0?this._type="wheel":0!==Y&&Math.abs(Y)<4?this._type="trackpad":te>400?(this._type=null,this._lastValue=Y,this._timeout=setTimeout(this._onTimeout,40,V)):this._type||(this._type=Math.abs(te*Y)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,Y+=this._lastValue)),V.shiftKey&&Y&&(Y/=4),this._type&&(this._lastWheelEvent=V,this._delta-=Y,this._active||this._start(V)),V.preventDefault()}},Qi.prototype._onTimeout=function(V){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(V)},Qi.prototype._start=function(V){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var Y=M.mousePos(this._el,V);this._around=d.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(Y)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Qi.prototype.renderFrame=function(){return this._onScrollFrame()},Qi.prototype._onScrollFrame=function(){var V=this;if(this._frameId&&(this._frameId=null,this.isActive())){var Y=this._map.transform;if(0!==this._delta){var W="wheel"===this._type&&Math.abs(this._delta)>Fc?this._wheelZoomRate:this._defaultZoomRate,te=2/(1+Math.exp(-Math.abs(this._delta*W)));this._delta<0&&0!==te&&(te=1/te);var ye="number"==typeof this._targetZoom?Y.zoomScale(this._targetZoom):Y.scale;this._targetZoom=Math.min(Y.maxZoom,Math.max(Y.minZoom,Y.scaleZoom(ye*te))),"wheel"===this._type&&(this._startZoom=Y.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Le,U="number"==typeof this._targetZoom?this._targetZoom:Y.zoom,ie=this._startZoom,de=this._easing,be=!1;if("wheel"===this._type&&ie&&de){var Ae=Math.min((d.browser.now()-this._lastWheelEventTime)/200,1),Fe=de(Ae);Le=d.number(ie,U,Fe),Ae<1?this._frameId||(this._frameId=!0):be=!0}else Le=U,be=!0;return this._active=!0,be&&(this._active=!1,this._finishTimeout=setTimeout(function(){V._zooming=!1,V._handler._triggerRenderFrame(),delete V._targetZoom,delete V._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!be,zoomDelta:Le-Y.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Qi.prototype._smoothOutEasing=function(V){var Y=d.ease;if(this._prevEase){var W=this._prevEase,te=(d.browser.now()-W.start)/W.duration,ye=W.easing(te+.01)-W.easing(te),Le=.27/Math.sqrt(ye*ye+1e-4)*.01,U=Math.sqrt(.0729-Le*Le);Y=d.bezier(Le,U,.25,1)}return this._prevEase={start:d.browser.now(),duration:V,easing:Y},Y},Qi.prototype.reset=function(){this._active=!1};var Ms=function(V,Y){this._clickZoom=V,this._tapZoom=Y};Ms.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ms.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ms.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ms.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var As=function(){this.reset()};As.prototype.reset=function(){this._active=!1},As.prototype.dblclick=function(V,Y){return V.preventDefault(),{cameraAnimation:function(W){W.easeTo({duration:300,zoom:W.getZoom()+(V.shiftKey?-1:1),around:W.unproject(Y)},{originalEvent:V})}}},As.prototype.enable=function(){this._enabled=!0},As.prototype.disable=function(){this._enabled=!1,this.reset()},As.prototype.isEnabled=function(){return this._enabled},As.prototype.isActive=function(){return this._active};var fs=function(){this._tap=new hc({numTouches:1,numTaps:1}),this.reset()};fs.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},fs.prototype.touchstart=function(V,Y,W){this._swipePoint||(this._tapTime&&V.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?W.length>0&&(this._swipePoint=Y[0],this._swipeTouch=W[0].identifier):this._tap.touchstart(V,Y,W))},fs.prototype.touchmove=function(V,Y,W){if(this._tapTime){if(this._swipePoint){if(W[0].identifier!==this._swipeTouch)return;var te=Y[0],ye=te.y-this._swipePoint.y;return this._swipePoint=te,V.preventDefault(),this._active=!0,{zoomDelta:ye/128}}}else this._tap.touchmove(V,Y,W)},fs.prototype.touchend=function(V,Y,W){this._tapTime?this._swipePoint&&0===W.length&&this.reset():this._tap.touchend(V,Y,W)&&(this._tapTime=V.timeStamp)},fs.prototype.touchcancel=function(){this.reset()},fs.prototype.enable=function(){this._enabled=!0},fs.prototype.disable=function(){this._enabled=!1,this.reset()},fs.prototype.isEnabled=function(){return this._enabled},fs.prototype.isActive=function(){return this._active};var Us=function(V,Y,W){this._el=V,this._mousePan=Y,this._touchPan=W};Us.prototype.enable=function(V){this._inertiaOptions=V||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Us.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Us.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Us.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pl=function(V,Y,W){this._pitchWithRotate=V.pitchWithRotate,this._mouseRotate=Y,this._mousePitch=W};pl.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pl.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pl.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pl.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ta=function(V,Y,W,te){this._el=V,this._touchZoom=Y,this._touchRotate=W,this._tapDragZoom=te,this._rotationDisabled=!1,this._enabled=!0};ta.prototype.enable=function(V){this._touchZoom.enable(V),this._rotationDisabled||this._touchRotate.enable(V),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ta.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ta.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ta.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ta.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ta.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var El=function(V){return V.zoom||V.drag||V.pitch||V.rotate},Ec=function(V){function Y(){V.apply(this,arguments)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y}(d.Event);function lo(V){return V.panDelta&&V.panDelta.mag()||V.zoomDelta||V.bearingDelta||V.pitchDelta}var eo=function(V,Y){this._map=V,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Bl(V),this._bearingSnap=Y.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(Y),d.bindAll(["handleEvent","handleWindowEvent"],this);var W=this._el;this._listeners=[[W,"touchstart",{passive:!1}],[W,"touchmove",{passive:!1}],[W,"touchend",void 0],[W,"touchcancel",void 0],[W,"mousedown",void 0],[W,"mousemove",void 0],[W,"mouseup",void 0],[d.window.document,"mousemove",{capture:!0}],[d.window.document,"mouseup",void 0],[W,"mouseover",void 0],[W,"mouseout",void 0],[W,"dblclick",void 0],[W,"click",void 0],[W,"keydown",{capture:!1}],[W,"keyup",void 0],[W,"wheel",{passive:!1}],[W,"contextmenu",void 0],[d.window,"blur",void 0]];for(var te=0,ye=this._listeners;te<ye.length;te+=1){var Le=ye[te],U=Le[0];M.addEventListener(U,Le[1],U===d.window.document?this.handleWindowEvent:this.handleEvent,Le[2])}};eo.prototype.destroy=function(){for(var V=0,Y=this._listeners;V<Y.length;V+=1){var W=Y[V],te=W[0];M.removeEventListener(te,W[1],te===d.window.document?this.handleWindowEvent:this.handleEvent,W[2])}},eo.prototype._addDefaultHandlers=function(V){var Y=this._map,W=Y.getCanvasContainer();this._add("mapEvent",new so(Y,V));var te=Y.boxZoom=new Ea(Y,V);this._add("boxZoom",te);var ye=new fl,Le=new As;Y.doubleClickZoom=new Ms(Le,ye),this._add("tapZoom",ye),this._add("clickZoom",Le);var U=new fs;this._add("tapDragZoom",U);var ie=Y.touchPitch=new Ul;this._add("touchPitch",ie);var de=new js(V),be=new xu(V);Y.dragRotate=new pl(V,de,be),this._add("mouseRotate",de,["mousePitch"]),this._add("mousePitch",be,["mouseRotate"]);var Ae=new ws(V),Fe=new Vs(V);Y.dragPan=new Us(W,Ae,Fe),this._add("mousePan",Ae),this._add("touchPan",Fe,["touchZoom","touchRotate"]);var We=new jl,$e=new eu;Y.touchZoomRotate=new ta(W,$e,We,U),this._add("touchRotate",We,["touchPan","touchZoom"]),this._add("touchZoom",$e,["touchPan","touchRotate"]);var Qe=Y.scrollZoom=new Qi(Y,this);this._add("scrollZoom",Qe,["mousePan"]);var tt=Y.keyboard=new hl;this._add("keyboard",tt),this._add("blockableMapEvent",new Sa(Y));for(var lt=0,yt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];lt<yt.length;lt+=1){var Mt=yt[lt];V.interactive&&V[Mt]&&Y[Mt].enable(V[Mt])}},eo.prototype._add=function(V,Y,W){this._handlers.push({handlerName:V,handler:Y,allowed:W}),this._handlersById[V]=Y},eo.prototype.stop=function(){if(!this._updatingCamera){for(var V=0,Y=this._handlers;V<Y.length;V+=1)Y[V].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},eo.prototype.isActive=function(){for(var V=0,Y=this._handlers;V<Y.length;V+=1)if(Y[V].handler.isActive())return!0;return!1},eo.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},eo.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},eo.prototype.isMoving=function(){return Boolean(El(this._eventsInProgress))||this.isZooming()},eo.prototype._blockedByActive=function(V,Y,W){for(var te in V)if(te!==W&&(!Y||Y.indexOf(te)<0))return!0;return!1},eo.prototype.handleWindowEvent=function(V){this.handleEvent(V,V.type+"Window")},eo.prototype._getMapTouches=function(V){for(var Y=[],W=0,te=V;W<te.length;W+=1){var ye=te[W];this._el.contains(ye.target)&&Y.push(ye)}return Y},eo.prototype.handleEvent=function(V,Y){if("blur"!==V.type){this._updatingCamera=!0;for(var W="renderFrame"===V.type?void 0:V,te={needsRenderFrame:!1},ye={},Le={},U=V.touches?this._getMapTouches(V.touches):void 0,ie=U?M.touchPos(this._el,U):M.mousePos(this._el,V),de=0,be=this._handlers;de<be.length;de+=1){var Ae=be[de],Fe=Ae.handlerName,We=Ae.handler,$e=Ae.allowed;if(We.isEnabled()){var Qe=void 0;this._blockedByActive(Le,$e,Fe)?We.reset():We[Y||V.type]&&(Qe=We[Y||V.type](V,ie,U),this.mergeHandlerResult(te,ye,Qe,Fe,W),Qe&&Qe.needsRenderFrame&&this._triggerRenderFrame()),(Qe||We.isActive())&&(Le[Fe]=We)}}var tt={};for(var lt in this._previousActiveHandlers)Le[lt]||(tt[lt]=W);this._previousActiveHandlers=Le,(Object.keys(tt).length||lo(te))&&(this._changes.push([te,ye,tt]),this._triggerRenderFrame()),(Object.keys(Le).length||lo(te))&&this._map._stop(!0),this._updatingCamera=!1;var yt=te.cameraAnimation;yt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],yt(this._map))}else this.stop()},eo.prototype.mergeHandlerResult=function(V,Y,W,te,ye){if(W){d.extend(V,W);var Le={handlerName:te,originalEvent:W.originalEvent||ye};void 0!==W.zoomDelta&&(Y.zoom=Le),void 0!==W.panDelta&&(Y.drag=Le),void 0!==W.pitchDelta&&(Y.pitch=Le),void 0!==W.bearingDelta&&(Y.rotate=Le)}},eo.prototype._applyChanges=function(){for(var V={},Y={},W={},te=0,ye=this._changes;te<ye.length;te+=1){var Le=ye[te],U=Le[0],ie=Le[1],de=Le[2];U.panDelta&&(V.panDelta=(V.panDelta||new d.Point(0,0))._add(U.panDelta)),U.zoomDelta&&(V.zoomDelta=(V.zoomDelta||0)+U.zoomDelta),U.bearingDelta&&(V.bearingDelta=(V.bearingDelta||0)+U.bearingDelta),U.pitchDelta&&(V.pitchDelta=(V.pitchDelta||0)+U.pitchDelta),void 0!==U.around&&(V.around=U.around),void 0!==U.pinchAround&&(V.pinchAround=U.pinchAround),U.noInertia&&(V.noInertia=U.noInertia),d.extend(Y,ie),d.extend(W,de)}this._updateMapTransform(V,Y,W),this._changes=[]},eo.prototype._updateMapTransform=function(V,Y,W){var te=this._map,ye=te.transform;if(!lo(V))return this._fireEvents(Y,W);var Le=V.panDelta,U=V.zoomDelta,ie=V.bearingDelta,de=V.pitchDelta,be=V.around,Ae=V.pinchAround;void 0!==Ae&&(be=Ae),te._stop(!0),be=be||te.transform.centerPoint;var Fe=ye.pointLocation(Le?be.sub(Le):be);ie&&(ye.bearing+=ie),de&&(ye.pitch+=de),U&&(ye.zoom+=U),ye.setLocationAtPoint(Fe,be),this._map._update(),V.noInertia||this._inertia.record(V),this._fireEvents(Y,W)},eo.prototype._fireEvents=function(V,Y){var W=this,te=El(this._eventsInProgress),ye=El(V),Le={};for(var U in V)this._eventsInProgress[U]||(Le[U+"start"]=V[U].originalEvent),this._eventsInProgress[U]=V[U];for(var de in!te&&ye&&this._fireEvent("movestart",ye.originalEvent),Le)this._fireEvent(de,Le[de]);for(var be in V.rotate&&(this._bearingChanged=!0),ye&&this._fireEvent("move",ye.originalEvent),V)this._fireEvent(be,V[be].originalEvent);var Fe,We={};for(var $e in this._eventsInProgress){var Qe=this._eventsInProgress[$e],tt=Qe.handlerName,lt=Qe.originalEvent;this._handlersById[tt].isActive()||(delete this._eventsInProgress[$e],We[$e+"end"]=Fe=Y[tt]||lt)}for(var yt in We)this._fireEvent(yt,We[yt]);var Mt=El(this._eventsInProgress);if((te||ye)&&!Mt){this._updatingCamera=!0;var Bt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ut=function(jt){return 0!==jt&&-W._bearingSnap<jt&&jt<W._bearingSnap};Bt?(Ut(Bt.bearing||this._map.getBearing())&&(Bt.bearing=0),this._map.easeTo(Bt,{originalEvent:Fe})):(this._map.fire(new d.Event("moveend",{originalEvent:Fe})),Ut(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},eo.prototype._fireEvent=function(V,Y){this._map.fire(new d.Event(V,Y?{originalEvent:Y}:{}))},eo.prototype._triggerRenderFrame=function(){var V=this;void 0===this._frameId&&(this._frameId=this._map._requestRenderFrame(function(Y){delete V._frameId,V.handleEvent(new Ec("renderFrame",{timeStamp:Y})),V._applyChanges()}))};var Cc=function(V){function Y(W,te){V.call(this),this._moving=!1,this._zooming=!1,this.transform=W,this._bearingSnap=te.bearingSnap,d.bindAll(["_renderFrameCallback"],this)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.getCenter=function(){return new d.LngLat(this.transform.center.lng,this.transform.center.lat)},Y.prototype.setCenter=function(W,te){return this.jumpTo({center:W},te)},Y.prototype.panBy=function(W,te,ye){return W=d.Point.convert(W).mult(-1),this.panTo(this.transform.center,d.extend({offset:W},te),ye)},Y.prototype.panTo=function(W,te,ye){return this.easeTo(d.extend({center:W},te),ye)},Y.prototype.getZoom=function(){return this.transform.zoom},Y.prototype.setZoom=function(W,te){return this.jumpTo({zoom:W},te),this},Y.prototype.zoomTo=function(W,te,ye){return this.easeTo(d.extend({zoom:W},te),ye)},Y.prototype.zoomIn=function(W,te){return this.zoomTo(this.getZoom()+1,W,te),this},Y.prototype.zoomOut=function(W,te){return this.zoomTo(this.getZoom()-1,W,te),this},Y.prototype.getBearing=function(){return this.transform.bearing},Y.prototype.setBearing=function(W,te){return this.jumpTo({bearing:W},te),this},Y.prototype.getPadding=function(){return this.transform.padding},Y.prototype.setPadding=function(W,te){return this.jumpTo({padding:W},te),this},Y.prototype.rotateTo=function(W,te,ye){return this.easeTo(d.extend({bearing:W},te),ye)},Y.prototype.resetNorth=function(W,te){return this.rotateTo(0,d.extend({duration:1e3},W),te),this},Y.prototype.resetNorthPitch=function(W,te){return this.easeTo(d.extend({bearing:0,pitch:0,duration:1e3},W),te),this},Y.prototype.snapToNorth=function(W,te){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(W,te):this},Y.prototype.getPitch=function(){return this.transform.pitch},Y.prototype.setPitch=function(W,te){return this.jumpTo({pitch:W},te),this},Y.prototype.cameraForBounds=function(W,te){return W=d.LngLatBounds.convert(W),this._cameraForBoxAndBearing(W.getNorthWest(),W.getSouthEast(),0,te)},Y.prototype._cameraForBoxAndBearing=function(W,te,ye,Le){var U={top:0,bottom:0,right:0,left:0};if("number"==typeof(Le=d.extend({padding:U,offset:[0,0],maxZoom:this.transform.maxZoom},Le)).padding){var ie=Le.padding;Le.padding={top:ie,bottom:ie,right:ie,left:ie}}Le.padding=d.extend(U,Le.padding);var de=this.transform,be=de.padding,Ae=de.project(d.LngLat.convert(W)),Fe=de.project(d.LngLat.convert(te)),We=Ae.rotate(-ye*Math.PI/180),$e=Fe.rotate(-ye*Math.PI/180),Qe=new d.Point(Math.max(We.x,$e.x),Math.max(We.y,$e.y)),tt=new d.Point(Math.min(We.x,$e.x),Math.min(We.y,$e.y)),lt=Qe.sub(tt),yt=(de.width-(be.left+be.right+Le.padding.left+Le.padding.right))/lt.x,Mt=(de.height-(be.top+be.bottom+Le.padding.top+Le.padding.bottom))/lt.y;if(!(Mt<0||yt<0)){var Bt=Math.min(de.scaleZoom(de.scale*Math.min(yt,Mt)),Le.maxZoom),Ut=d.Point.convert(Le.offset),Vt=new d.Point(Ut.x+(Le.padding.left-Le.padding.right)/2,Ut.y+(Le.padding.top-Le.padding.bottom)/2).mult(de.scale/de.zoomScale(Bt));return{center:de.unproject(Ae.add(Fe).div(2).sub(Vt)),zoom:Bt,bearing:ye}}d.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},Y.prototype.fitBounds=function(W,te,ye){return this._fitInternal(this.cameraForBounds(W,te),te,ye)},Y.prototype.fitScreenCoordinates=function(W,te,ye,Le,U){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(d.Point.convert(W)),this.transform.pointLocation(d.Point.convert(te)),ye,Le),Le,U)},Y.prototype._fitInternal=function(W,te,ye){return W?(delete(te=d.extend(W,te)).padding,te.linear?this.easeTo(te,ye):this.flyTo(te,ye)):this},Y.prototype.jumpTo=function(W,te){this.stop();var ye=this.transform,Le=!1,U=!1,ie=!1;return"zoom"in W&&ye.zoom!==+W.zoom&&(Le=!0,ye.zoom=+W.zoom),void 0!==W.center&&(ye.center=d.LngLat.convert(W.center)),"bearing"in W&&ye.bearing!==+W.bearing&&(U=!0,ye.bearing=+W.bearing),"pitch"in W&&ye.pitch!==+W.pitch&&(ie=!0,ye.pitch=+W.pitch),null==W.padding||ye.isPaddingEqual(W.padding)||(ye.padding=W.padding),this.fire(new d.Event("movestart",te)).fire(new d.Event("move",te)),Le&&this.fire(new d.Event("zoomstart",te)).fire(new d.Event("zoom",te)).fire(new d.Event("zoomend",te)),U&&this.fire(new d.Event("rotatestart",te)).fire(new d.Event("rotate",te)).fire(new d.Event("rotateend",te)),ie&&this.fire(new d.Event("pitchstart",te)).fire(new d.Event("pitch",te)).fire(new d.Event("pitchend",te)),this.fire(new d.Event("moveend",te))},Y.prototype.easeTo=function(W,te){var ye=this;this._stop(!1,W.easeId),(!1===(W=d.extend({offset:[0,0],duration:500,easing:d.ease},W)).animate||!W.essential&&d.browser.prefersReducedMotion)&&(W.duration=0);var Le=this.transform,U=this.getZoom(),ie=this.getBearing(),de=this.getPitch(),be=this.getPadding(),Ae="zoom"in W?+W.zoom:U,Fe="bearing"in W?this._normalizeBearing(W.bearing,ie):ie,We="pitch"in W?+W.pitch:de,$e="padding"in W?W.padding:Le.padding,Qe=d.Point.convert(W.offset),tt=Le.centerPoint.add(Qe),lt=Le.pointLocation(tt),yt=d.LngLat.convert(W.center||lt);this._normalizeCenter(yt);var Mt,Bt,Ut=Le.project(lt),jt=Le.project(yt).sub(Ut),Xt=Le.zoomScale(Ae-U);W.around&&(Mt=d.LngLat.convert(W.around),Bt=Le.locationPoint(Mt));var Vt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Ae!==U,this._rotating=this._rotating||ie!==Fe,this._pitching=this._pitching||We!==de,this._padding=!Le.isPaddingEqual($e),this._easeId=W.easeId,this._prepareEase(te,W.noMoveStart,Vt),clearTimeout(this._easeEndTimeoutID),this._ease(function(pn){if(ye._zooming&&(Le.zoom=d.number(U,Ae,pn)),ye._rotating&&(Le.bearing=d.number(ie,Fe,pn)),ye._pitching&&(Le.pitch=d.number(de,We,pn)),ye._padding&&(Le.interpolatePadding(be,$e,pn),tt=Le.centerPoint.add(Qe)),Mt)Le.setLocationAtPoint(Mt,Bt);else{var sn=Le.zoomScale(Le.zoom-U),tn=Ae>U?Math.min(2,Xt):Math.max(.5,Xt),Sn=Math.pow(tn,1-pn),Dn=Le.unproject(Ut.add(jt.mult(pn*Sn)).mult(sn));Le.setLocationAtPoint(Le.renderWorldCopies?Dn.wrap():Dn,tt)}ye._fireMoveEvents(te)},function(pn){ye._afterEase(te,pn)},W),this},Y.prototype._prepareEase=function(W,te,ye){void 0===ye&&(ye={}),this._moving=!0,te||ye.moving||this.fire(new d.Event("movestart",W)),this._zooming&&!ye.zooming&&this.fire(new d.Event("zoomstart",W)),this._rotating&&!ye.rotating&&this.fire(new d.Event("rotatestart",W)),this._pitching&&!ye.pitching&&this.fire(new d.Event("pitchstart",W))},Y.prototype._fireMoveEvents=function(W){this.fire(new d.Event("move",W)),this._zooming&&this.fire(new d.Event("zoom",W)),this._rotating&&this.fire(new d.Event("rotate",W)),this._pitching&&this.fire(new d.Event("pitch",W))},Y.prototype._afterEase=function(W,te){if(!this._easeId||!te||this._easeId!==te){delete this._easeId;var ye=this._zooming,Le=this._rotating,U=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ye&&this.fire(new d.Event("zoomend",W)),Le&&this.fire(new d.Event("rotateend",W)),U&&this.fire(new d.Event("pitchend",W)),this.fire(new d.Event("moveend",W))}},Y.prototype.flyTo=function(W,te){var ye=this;if(!W.essential&&d.browser.prefersReducedMotion){var Le=d.pick(W,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Le,te)}this.stop(),W=d.extend({offset:[0,0],speed:1.2,curve:1.42,easing:d.ease},W);var U=this.transform,ie=this.getZoom(),de=this.getBearing(),be=this.getPitch(),Ae=this.getPadding(),Fe="zoom"in W?d.clamp(+W.zoom,U.minZoom,U.maxZoom):ie,We="bearing"in W?this._normalizeBearing(W.bearing,de):de,$e="pitch"in W?+W.pitch:be,Qe="padding"in W?W.padding:U.padding,tt=U.zoomScale(Fe-ie),lt=d.Point.convert(W.offset),yt=U.centerPoint.add(lt),Mt=U.pointLocation(yt),Bt=d.LngLat.convert(W.center||Mt);this._normalizeCenter(Bt);var Ut=U.project(Mt),jt=U.project(Bt).sub(Ut),Xt=W.curve,Vt=Math.max(U.width,U.height),pn=Vt/tt,sn=jt.mag();if("minZoom"in W){var tn=d.clamp(Math.min(W.minZoom,ie,Fe),U.minZoom,U.maxZoom),Sn=Vt/U.zoomScale(tn-ie);Xt=Math.sqrt(Sn/sn*2)}var Dn=Xt*Xt;function qn(nr){var wr=(pn*pn-Vt*Vt+(nr?-1:1)*Dn*Dn*sn*sn)/(2*(nr?pn:Vt)*Dn*sn);return Math.log(Math.sqrt(wr*wr+1)-wr)}function Qn(nr){return(Math.exp(nr)-Math.exp(-nr))/2}function sr(nr){return(Math.exp(nr)+Math.exp(-nr))/2}var pr=qn(0),Cr=function(nr){return sr(pr)/sr(pr+Xt*nr)},Mr=function(nr){return Vt*((sr(pr)*(Qn(wr=pr+Xt*nr)/sr(wr))-Qn(pr))/Dn)/sn;var wr},Or=(qn(1)-pr)/Xt;if(Math.abs(sn)<1e-6||!isFinite(Or)){if(Math.abs(Vt-pn)<1e-6)return this.easeTo(W,te);var Ur=pn<Vt?-1:1;Or=Math.abs(Math.log(pn/Vt))/Xt,Mr=function(){return 0},Cr=function(nr){return Math.exp(Ur*Xt*nr)}}return W.duration="duration"in W?+W.duration:1e3*Or/("screenSpeed"in W?+W.screenSpeed/Xt:+W.speed),W.maxDuration&&W.duration>W.maxDuration&&(W.duration=0),this._zooming=!0,this._rotating=de!==We,this._pitching=$e!==be,this._padding=!U.isPaddingEqual(Qe),this._prepareEase(te,!1),this._ease(function(nr){var wr=nr*Or,Pr=1/Cr(wr);U.zoom=1===nr?Fe:ie+U.scaleZoom(Pr),ye._rotating&&(U.bearing=d.number(de,We,nr)),ye._pitching&&(U.pitch=d.number(be,$e,nr)),ye._padding&&(U.interpolatePadding(Ae,Qe,nr),yt=U.centerPoint.add(lt));var Wr=1===nr?Bt:U.unproject(Ut.add(jt.mult(Mr(wr))).mult(Pr));U.setLocationAtPoint(U.renderWorldCopies?Wr.wrap():Wr,yt),ye._fireMoveEvents(te)},function(){return ye._afterEase(te)},W),this},Y.prototype.isEasing=function(){return!!this._easeFrameId},Y.prototype.stop=function(){return this._stop()},Y.prototype._stop=function(W,te){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ye=this._onEaseEnd;delete this._onEaseEnd,ye.call(this,te)}if(!W){var Le=this.handlers;Le&&Le.stop()}return this},Y.prototype._ease=function(W,te,ye){!1===ye.animate||0===ye.duration?(W(1),te()):(this._easeStart=d.browser.now(),this._easeOptions=ye,this._onEaseFrame=W,this._onEaseEnd=te,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Y.prototype._renderFrameCallback=function(){var W=Math.min((d.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(W)),W<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Y.prototype._normalizeBearing=function(W,te){W=d.wrap(W,-180,180);var ye=Math.abs(W-te);return Math.abs(W-360-te)<ye&&(W-=360),Math.abs(W+360-te)<ye&&(W+=360),W},Y.prototype._normalizeCenter=function(W){var te=this.transform;if(te.renderWorldCopies&&!te.lngRange){var ye=W.lng-te.center.lng;W.lng+=ye>180?-360:ye<-180?360:0}},Y}(d.Evented),co=function(V){void 0===V&&(V={}),this.options=V,d.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};co.prototype.getDefaultPosition=function(){return"bottom-right"},co.prototype.onAdd=function(V){var Y=this.options&&this.options.compact;return this._map=V,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=M.create("div","mapboxgl-ctrl-attrib-inner",this._container),Y&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===Y&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},co.prototype.onRemove=function(){M.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},co.prototype._updateEditLink=function(){var V=this._editLink;V||(V=this._editLink=this._container.querySelector(".mapbox-improve-map"));var Y=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||d.config.ACCESS_TOKEN}];if(V){var W=Y.reduce(function(te,ye,Le){return ye.value&&(te+=ye.key+"="+ye.value+(Le<Y.length-1?"&":"")),te},"?");V.href=d.config.FEEDBACK_URL+"/"+W+(this._map._hash?this._map._hash.getHashString(!0):""),V.rel="noopener nofollow"}},co.prototype._updateData=function(V){!V||"metadata"!==V.sourceDataType&&"style"!==V.dataType||(this._updateAttributions(),this._updateEditLink())},co.prototype._updateAttributions=function(){if(this._map.style){var V=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?V=V.concat(this.options.customAttribution.map(function(ie){return"string"!=typeof ie?"":ie})):"string"==typeof this.options.customAttribution&&V.push(this.options.customAttribution)),this._map.style.stylesheet){var Y=this._map.style.stylesheet;this.styleOwner=Y.owner,this.styleId=Y.id}var W=this._map.style.sourceCaches;for(var te in W){var ye=W[te];if(ye.used){var Le=ye.getSource();Le.attribution&&V.indexOf(Le.attribution)<0&&V.push(Le.attribution)}}V.sort(function(ie,de){return ie.length-de.length});var U=(V=V.filter(function(ie,de){for(var be=de+1;be<V.length;be++)if(V[be].indexOf(ie)>=0)return!1;return!0})).join(" | ");U!==this._attribHTML&&(this._attribHTML=U,V.length?(this._innerContainer.innerHTML=U,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},co.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var na=function(){d.bindAll(["_updateLogo"],this),d.bindAll(["_updateCompact"],this)};na.prototype.onAdd=function(V){this._map=V,this._container=M.create("div","mapboxgl-ctrl");var Y=M.create("a","mapboxgl-ctrl-logo");return Y.target="_blank",Y.rel="noopener nofollow",Y.href="https://www.mapbox.com/",Y.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),Y.setAttribute("rel","noopener nofollow"),this._container.appendChild(Y),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},na.prototype.onRemove=function(){M.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},na.prototype.getDefaultPosition=function(){return"bottom-left"},na.prototype._updateLogo=function(V){V&&"metadata"!==V.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},na.prototype._logoRequired=function(){if(this._map.style){var V=this._map.style.sourceCaches;for(var Y in V)if(V[Y].getSource().mapbox_logo)return!0;return!1}},na.prototype._updateCompact=function(){var V=this._container.children;if(V.length){var Y=V[0];this._map.getCanvasContainer().offsetWidth<250?Y.classList.add("mapboxgl-compact"):Y.classList.remove("mapboxgl-compact")}};var hs=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};hs.prototype.add=function(V){var Y=++this._id;return this._queue.push({callback:V,id:Y,cancelled:!1}),Y},hs.prototype.remove=function(V){for(var Y=this._currentlyRunning,W=0,te=Y?this._queue.concat(Y):this._queue;W<te.length;W+=1){var ye=te[W];if(ye.id===V)return void(ye.cancelled=!0)}},hs.prototype.run=function(V){void 0===V&&(V=0);var Y=this._currentlyRunning=this._queue;this._queue=[];for(var W=0,te=Y;W<te.length;W+=1){var ye=te[W];if(!ye.cancelled&&(ye.callback(V),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},hs.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ua={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},No=d.window.HTMLImageElement,Wi=d.window.HTMLElement,ya=d.window.ImageBitmap,zo=60,Hs={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:zo,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},pc=function(V){function Y(te){var ye=this;if(null!=(te=d.extend({},Hs,te)).minZoom&&null!=te.maxZoom&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=te.minPitch&&null!=te.maxPitch&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=te.minPitch&&te.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=te.maxPitch&&te.maxPitch>zo)throw new Error("maxPitch must be less than or equal to 60");var Le=new si(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(V.call(this,Le,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new hs,this._controls=[],this._mapId=d.uniqueId(),this._locale=d.extend({},Ua,te.locale),this._requestManager=new d.RequestManager(te.transformRequest,te.accessToken),"string"==typeof te.container){if(this._container=d.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else{if(!(te.container instanceof Wi))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=te.container}if(te.maxBounds&&this.setMaxBounds(te.maxBounds),d.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),void 0!==d.window&&(d.window.addEventListener("online",this._onWindowOnline,!1),d.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new eo(this,te),this._hash=te.hash&&new cl("string"==typeof te.hash&&te.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,d.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new co({customAttribution:te.customAttribution})),this.addControl(new na,te.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(ie){ye._update("style"===ie.dataType),ye.fire(new d.Event(ie.dataType+"data",ie))}),this.on("dataloading",function(ie){ye.fire(new d.Event(ie.dataType+"dataloading",ie))})}V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y;var W={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Y.prototype._getMapId=function(){return this._mapId},Y.prototype.addControl=function(te,ye){if(void 0===ye&&te.getDefaultPosition&&(ye=te.getDefaultPosition()),void 0===ye&&(ye="top-right"),!te||!te.onAdd)return this.fire(new d.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Le=te.onAdd(this);this._controls.push(te);var U=this._controlPositions[ye];return-1!==ye.indexOf("bottom")?U.insertBefore(Le,U.firstChild):U.appendChild(Le),this},Y.prototype.removeControl=function(te){if(!te||!te.onRemove)return this.fire(new d.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ye=this._controls.indexOf(te);return ye>-1&&this._controls.splice(ye,1),te.onRemove(this),this},Y.prototype.resize=function(te){var ye=this._containerDimensions(),Le=ye[0],U=ye[1];this._resizeCanvas(Le,U),this.transform.resize(Le,U),this.painter.resize(Le,U);var ie=!this._moving;return ie&&(this.stop(),this.fire(new d.Event("movestart",te)).fire(new d.Event("move",te))),this.fire(new d.Event("resize",te)),ie&&this.fire(new d.Event("moveend",te)),this},Y.prototype.getBounds=function(){return this.transform.getBounds()},Y.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Y.prototype.setMaxBounds=function(te){return this.transform.setMaxBounds(d.LngLatBounds.convert(te)),this._update()},Y.prototype.setMinZoom=function(te){if((te=te??-2)>=-2&&te<=this.transform.maxZoom)return this.transform.minZoom=te,this._update(),this.getZoom()<te&&this.setZoom(te),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},Y.prototype.getMinZoom=function(){return this.transform.minZoom},Y.prototype.setMaxZoom=function(te){if((te=te??22)>=this.transform.minZoom)return this.transform.maxZoom=te,this._update(),this.getZoom()>te&&this.setZoom(te),this;throw new Error("maxZoom must be greater than the current minZoom")},Y.prototype.getMaxZoom=function(){return this.transform.maxZoom},Y.prototype.setMinPitch=function(te){if((te=te??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(te>=0&&te<=this.transform.maxPitch)return this.transform.minPitch=te,this._update(),this.getPitch()<te&&this.setPitch(te),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},Y.prototype.getMinPitch=function(){return this.transform.minPitch},Y.prototype.setMaxPitch=function(te){if((te=te??zo)>zo)throw new Error("maxPitch must be less than or equal to 60");if(te>=this.transform.minPitch)return this.transform.maxPitch=te,this._update(),this.getPitch()>te&&this.setPitch(te),this;throw new Error("maxPitch must be greater than the current minPitch")},Y.prototype.getMaxPitch=function(){return this.transform.maxPitch},Y.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Y.prototype.setRenderWorldCopies=function(te){return this.transform.renderWorldCopies=te,this._update()},Y.prototype.project=function(te){return this.transform.locationPoint(d.LngLat.convert(te))},Y.prototype.unproject=function(te){return this.transform.pointLocation(d.Point.convert(te))},Y.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Y.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Y.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Y.prototype._createDelegatedListener=function(te,ye,Le){var U,ie=this;if("mouseenter"===te||"mouseover"===te){var de=!1;return{layer:ye,listener:Le,delegates:{mousemove:function(Ae){var Fe=ie.getLayer(ye)?ie.queryRenderedFeatures(Ae.point,{layers:[ye]}):[];Fe.length?de||(de=!0,Le.call(ie,new So(te,ie,Ae.originalEvent,{features:Fe}))):de=!1},mouseout:function(){de=!1}}}}if("mouseleave"===te||"mouseout"===te){var be=!1;return{layer:ye,listener:Le,delegates:{mousemove:function(Ae){(ie.getLayer(ye)?ie.queryRenderedFeatures(Ae.point,{layers:[ye]}):[]).length?be=!0:be&&(be=!1,Le.call(ie,new So(te,ie,Ae.originalEvent)))},mouseout:function(Ae){be&&(be=!1,Le.call(ie,new So(te,ie,Ae.originalEvent)))}}}}return{layer:ye,listener:Le,delegates:(U={},U[te]=function(Ae){var Fe=ie.getLayer(ye)?ie.queryRenderedFeatures(Ae.point,{layers:[ye]}):[];Fe.length&&(Ae.features=Fe,Le.call(ie,Ae),delete Ae.features)},U)}},Y.prototype.on=function(te,ye,Le){if(void 0===Le)return V.prototype.on.call(this,te,ye);var U=this._createDelegatedListener(te,ye,Le);for(var ie in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[te]=this._delegatedListeners[te]||[],this._delegatedListeners[te].push(U),U.delegates)this.on(ie,U.delegates[ie]);return this},Y.prototype.once=function(te,ye,Le){if(void 0===Le)return V.prototype.once.call(this,te,ye);var U=this._createDelegatedListener(te,ye,Le);for(var ie in U.delegates)this.once(ie,U.delegates[ie]);return this},Y.prototype.off=function(te,ye,Le){var U=this;return void 0===Le?V.prototype.off.call(this,te,ye):(this._delegatedListeners&&this._delegatedListeners[te]&&function(ie){for(var de=ie[te],be=0;be<de.length;be++){var Ae=de[be];if(Ae.layer===ye&&Ae.listener===Le){for(var Fe in Ae.delegates)U.off(Fe,Ae.delegates[Fe]);return de.splice(be,1),U}}}(this._delegatedListeners),this)},Y.prototype.queryRenderedFeatures=function(te,ye){if(!this.style)return[];var Le;if(void 0!==ye||void 0===te||te instanceof d.Point||Array.isArray(te)||(ye=te,te=void 0),ye=ye||{},(te=te||[[0,0],[this.transform.width,this.transform.height]])instanceof d.Point||"number"==typeof te[0])Le=[d.Point.convert(te)];else{var U=d.Point.convert(te[0]),ie=d.Point.convert(te[1]);Le=[U,new d.Point(ie.x,U.y),ie,new d.Point(U.x,ie.y),U]}return this.style.queryRenderedFeatures(Le,ye,this.transform)},Y.prototype.querySourceFeatures=function(te,ye){return this.style.querySourceFeatures(te,ye)},Y.prototype.setStyle=function(te,ye){return!1!==(ye=d.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ye)).diff&&ye.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&te?(this._diffStyle(te,ye),this):(this._localIdeographFontFamily=ye.localIdeographFontFamily,this._updateStyle(te,ye))},Y.prototype._getUIString=function(te){var ye=this._locale[te];if(null==ye)throw new Error("Missing UI string '"+te+"'");return ye},Y.prototype._updateStyle=function(te,ye){return this.style&&(this.style.setEventedParent(null),this.style._remove()),te?(this.style=new rr(this,ye||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof te?this.style.loadURL(te):this.style.loadJSON(te),this):(delete this.style,this)},Y.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new rr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Y.prototype._diffStyle=function(te,ye){var Le=this;if("string"==typeof te){var U=this._requestManager.normalizeStyleURL(te),ie=this._requestManager.transformRequest(U,d.ResourceType.Style);d.getJSON(ie,function(de,be){de?Le.fire(new d.ErrorEvent(de)):be&&Le._updateDiff(be,ye)})}else"object"==typeof te&&this._updateDiff(te,ye)},Y.prototype._updateDiff=function(te,ye){try{this.style.setState(te)&&this._update(!0)}catch(Le){d.warnOnce("Unable to perform style diff: "+(Le.message||Le.error||Le)+".  Rebuilding the style from scratch."),this._updateStyle(te,ye)}},Y.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Y.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():d.warnOnce("There is no style added to the map.")},Y.prototype.addSource=function(te,ye){return this._lazyInitEmptyStyle(),this.style.addSource(te,ye),this._update(!0)},Y.prototype.isSourceLoaded=function(te){var ye=this.style&&this.style.sourceCaches[te];if(void 0!==ye)return ye.loaded();this.fire(new d.ErrorEvent(new Error("There is no source with ID '"+te+"'")))},Y.prototype.areTilesLoaded=function(){var te=this.style&&this.style.sourceCaches;for(var ye in te){var Le=te[ye]._tiles;for(var U in Le){var ie=Le[U];if("loaded"!==ie.state&&"errored"!==ie.state)return!1}}return!0},Y.prototype.addSourceType=function(te,ye,Le){return this._lazyInitEmptyStyle(),this.style.addSourceType(te,ye,Le)},Y.prototype.removeSource=function(te){return this.style.removeSource(te),this._update(!0)},Y.prototype.getSource=function(te){return this.style.getSource(te)},Y.prototype.addImage=function(te,ye,Le){void 0===Le&&(Le={});var U=Le.pixelRatio;void 0===U&&(U=1);var ie=Le.sdf;void 0===ie&&(ie=!1);var de=Le.stretchX,be=Le.stretchY,Ae=Le.content;if(this._lazyInitEmptyStyle(),ye instanceof No||ya&&ye instanceof ya){var Fe=d.browser.getImageData(ye);this.style.addImage(te,{data:new d.RGBAImage({width:Fe.width,height:Fe.height},Fe.data),pixelRatio:U,stretchX:de,stretchY:be,content:Ae,sdf:ie,version:0})}else{if(void 0===ye.width||void 0===ye.height)return this.fire(new d.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Mt=ye;this.style.addImage(te,{data:new d.RGBAImage({width:ye.width,height:ye.height},new Uint8Array(ye.data)),pixelRatio:U,stretchX:de,stretchY:be,content:Ae,sdf:ie,version:0,userImage:Mt}),Mt.onAdd&&Mt.onAdd(this,te)}},Y.prototype.updateImage=function(te,ye){var Le=this.style.getImage(te);if(!Le)return this.fire(new d.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var U=ye instanceof No||ya&&ye instanceof ya?d.browser.getImageData(ye):ye,ie=U.width,de=U.height,be=U.data;return void 0===ie||void 0===de?this.fire(new d.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):ie!==Le.data.width||de!==Le.data.height?this.fire(new d.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(Le.data.replace(be,!(ye instanceof No||ya&&ye instanceof ya)),void this.style.updateImage(te,Le))},Y.prototype.hasImage=function(te){return te?!!this.style.getImage(te):(this.fire(new d.ErrorEvent(new Error("Missing required image id"))),!1)},Y.prototype.removeImage=function(te){this.style.removeImage(te)},Y.prototype.loadImage=function(te,ye){d.getImage(this._requestManager.transformRequest(te,d.ResourceType.Image),ye)},Y.prototype.listImages=function(){return this.style.listImages()},Y.prototype.addLayer=function(te,ye){return this._lazyInitEmptyStyle(),this.style.addLayer(te,ye),this._update(!0)},Y.prototype.moveLayer=function(te,ye){return this.style.moveLayer(te,ye),this._update(!0)},Y.prototype.removeLayer=function(te){return this.style.removeLayer(te),this._update(!0)},Y.prototype.getLayer=function(te){return this.style.getLayer(te)},Y.prototype.setLayerZoomRange=function(te,ye,Le){return this.style.setLayerZoomRange(te,ye,Le),this._update(!0)},Y.prototype.setFilter=function(te,ye,Le){return void 0===Le&&(Le={}),this.style.setFilter(te,ye,Le),this._update(!0)},Y.prototype.getFilter=function(te){return this.style.getFilter(te)},Y.prototype.setPaintProperty=function(te,ye,Le,U){return void 0===U&&(U={}),this.style.setPaintProperty(te,ye,Le,U),this._update(!0)},Y.prototype.getPaintProperty=function(te,ye){return this.style.getPaintProperty(te,ye)},Y.prototype.setLayoutProperty=function(te,ye,Le,U){return void 0===U&&(U={}),this.style.setLayoutProperty(te,ye,Le,U),this._update(!0)},Y.prototype.getLayoutProperty=function(te,ye){return this.style.getLayoutProperty(te,ye)},Y.prototype.setLight=function(te,ye){return void 0===ye&&(ye={}),this._lazyInitEmptyStyle(),this.style.setLight(te,ye),this._update(!0)},Y.prototype.getLight=function(){return this.style.getLight()},Y.prototype.setFeatureState=function(te,ye){return this.style.setFeatureState(te,ye),this._update()},Y.prototype.removeFeatureState=function(te,ye){return this.style.removeFeatureState(te,ye),this._update()},Y.prototype.getFeatureState=function(te){return this.style.getFeatureState(te)},Y.prototype.getContainer=function(){return this._container},Y.prototype.getCanvasContainer=function(){return this._canvasContainer},Y.prototype.getCanvas=function(){return this._canvas},Y.prototype._containerDimensions=function(){var te=0,ye=0;return this._container&&(te=this._container.clientWidth||400,ye=this._container.clientHeight||300),[te,ye]},Y.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==d.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&d.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Y.prototype._setupContainer=function(){var te=this._container;te.classList.add("mapboxgl-map"),(this._missingCSSCanary=M.create("div","mapboxgl-canary",te)).style.visibility="hidden",this._detectMissingCSS();var ye=this._canvasContainer=M.create("div","mapboxgl-canvas-container",te);this._interactive&&ye.classList.add("mapboxgl-interactive"),this._canvas=M.create("canvas","mapboxgl-canvas",ye),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Le=this._containerDimensions();this._resizeCanvas(Le[0],Le[1]);var U=this._controlContainer=M.create("div","mapboxgl-control-container",te),ie=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(de){ie[de]=M.create("div","mapboxgl-ctrl-"+de,U)})},Y.prototype._resizeCanvas=function(te,ye){var Le=d.browser.devicePixelRatio||1;this._canvas.width=Le*te,this._canvas.height=Le*ye,this._canvas.style.width=te+"px",this._canvas.style.height=ye+"px"},Y.prototype._setupPainter=function(){var te=d.extend({},S.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ye=this._canvas.getContext("webgl",te)||this._canvas.getContext("experimental-webgl",te);ye?(this.painter=new Pi(ye,this.transform),d.webpSupported.testSupport(ye)):this.fire(new d.ErrorEvent(new Error("Failed to initialize WebGL")))},Y.prototype._contextLost=function(te){te.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new d.Event("webglcontextlost",{originalEvent:te}))},Y.prototype._contextRestored=function(te){this._setupPainter(),this.resize(),this._update(),this.fire(new d.Event("webglcontextrestored",{originalEvent:te}))},Y.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Y.prototype._update=function(te){return this.style?(this._styleDirty=this._styleDirty||te,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Y.prototype._requestRenderFrame=function(te){return this._update(),this._renderTaskQueue.add(te)},Y.prototype._cancelRenderFrame=function(te){this._renderTaskQueue.remove(te)},Y.prototype._render=function(te){var ye,Le=this,U=0,ie=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(ye=ie.createQueryEXT(),ie.beginQueryEXT(ie.TIME_ELAPSED_EXT,ye),U=d.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(te),!this._removed){var de=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var be=this.transform.zoom,Ae=d.browser.now();this.style.zoomHistory.update(be,Ae);var Fe=new d.EvaluationParameters(be,{now:Ae,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),We=Fe.crossFadingFactor();1===We&&We===this._crossFadingFactor||(de=!0,this._crossFadingFactor=We),this.style.update(Fe)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new d.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new d.Event("load"))),this.style&&(this.style.hasTransitions()||de)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var $e=d.browser.now()-U;ie.endQueryEXT(ie.TIME_ELAPSED_EXT,ye),setTimeout(function(){var tt=ie.getQueryObjectEXT(ye,ie.QUERY_RESULT_EXT)/1e6;ie.deleteQueryEXT(ye),Le.fire(new d.Event("gpu-timing-frame",{cpuTime:$e,gpuTime:tt}))},50)}if(this.listens("gpu-timing-layer")){var Qe=this.painter.collectGpuTimers();setTimeout(function(){var tt=Le.painter.queryGpuTimers(Qe);Le.fire(new d.Event("gpu-timing-layer",{layerTimes:tt}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new d.Event("idle"))),this}},Y.prototype.remove=function(){this._hash&&this._hash.remove();for(var te=0,ye=this._controls;te<ye.length;te+=1)ye[te].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==d.window&&(d.window.removeEventListener("resize",this._onWindowResize,!1),d.window.removeEventListener("online",this._onWindowOnline,!1));var Le=this.painter.context.gl.getExtension("WEBGL_lose_context");Le&&Le.loseContext(),Hl(this._canvasContainer),Hl(this._controlContainer),Hl(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new d.Event("remove"))},Y.prototype.triggerRepaint=function(){var te=this;this.style&&!this._frame&&(this._frame=d.browser.frame(function(ye){te._frame=null,te._render(ye)}))},Y.prototype._onWindowOnline=function(){this._update()},Y.prototype._onWindowResize=function(te){this._trackResize&&this.resize({originalEvent:te})._update()},W.showTileBoundaries.get=function(){return!!this._showTileBoundaries},W.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},W.showPadding.get=function(){return!!this._showPadding},W.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},W.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},W.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},W.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},W.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},W.repaint.get=function(){return!!this._repaint},W.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},W.vertices.get=function(){return!!this._vertices},W.vertices.set=function(te){this._vertices=te,this._update()},Y.prototype._setCacheLimits=function(te,ye){d.setCacheLimits(te,ye)},W.version.get=function(){return d.version},Object.defineProperties(Y.prototype,W),Y}(Cc);function Hl(V){V.parentNode&&V.parentNode.removeChild(V)}var Ja={showCompass:!0,showZoom:!0,visualizePitch:!1},Wo=function(V){var Y=this;this.options=d.extend({},Ja,V),this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(W){return W.preventDefault()}),this.options.showZoom&&(d.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(W){return Y._map.zoomIn({},{originalEvent:W})}),M.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(W){return Y._map.zoomOut({},{originalEvent:W})}),M.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(d.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(W){Y.options.visualizePitch?Y._map.resetNorthPitch({},{originalEvent:W}):Y._map.resetNorth({},{originalEvent:W})}),this._compassIcon=M.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Wo.prototype._updateZoomButtons=function(){var V=this._map.getZoom();this._zoomInButton.disabled=V===this._map.getMaxZoom(),this._zoomOutButton.disabled=V===this._map.getMinZoom()},Wo.prototype._rotateCompassArrow=function(){var V=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=V},Wo.prototype.onAdd=function(V){return this._map=V,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ra(this._map,this._compass,this.options.visualizePitch)),this._container},Wo.prototype.onRemove=function(){M.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Wo.prototype._createButton=function(V,Y){var W=M.create("button",V,this._container);return W.type="button",W.addEventListener("click",Y),W},Wo.prototype._setButtonTitle=function(V,Y){var W=this._map._getUIString("NavigationControl."+Y);V.title=W,V.setAttribute("aria-label",W)};var ra=function(V,Y,W){void 0===W&&(W=!1),this._clickTolerance=10,this.element=Y,this.mouseRotate=new js({clickTolerance:V.dragRotate._mouseRotate._clickTolerance}),this.map=V,W&&(this.mousePitch=new xu({clickTolerance:V.dragRotate._mousePitch._clickTolerance})),d.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),M.addEventListener(Y,"mousedown",this.mousedown),M.addEventListener(Y,"touchstart",this.touchstart,{passive:!1}),M.addEventListener(Y,"touchmove",this.touchmove),M.addEventListener(Y,"touchend",this.touchend),M.addEventListener(Y,"touchcancel",this.reset)};function Sr(V,Y,W){if(V=new d.LngLat(V.lng,V.lat),Y){var te=new d.LngLat(V.lng-360,V.lat),ye=new d.LngLat(V.lng+360,V.lat),Le=W.locationPoint(V).distSqr(Y);W.locationPoint(te).distSqr(Y)<Le?V=te:W.locationPoint(ye).distSqr(Y)<Le&&(V=ye)}for(;Math.abs(V.lng-W.center.lng)>180;){var U=W.locationPoint(V);if(U.x>=0&&U.y>=0&&U.x<=W.width&&U.y<=W.height)break;V.lng>W.center.lng?V.lng-=360:V.lng+=360}return V}ra.prototype.down=function(V,Y){this.mouseRotate.mousedown(V,Y),this.mousePitch&&this.mousePitch.mousedown(V,Y),M.disableDrag()},ra.prototype.move=function(V,Y){var W=this.map,te=this.mouseRotate.mousemoveWindow(V,Y);if(te&&te.bearingDelta&&W.setBearing(W.getBearing()+te.bearingDelta),this.mousePitch){var ye=this.mousePitch.mousemoveWindow(V,Y);ye&&ye.pitchDelta&&W.setPitch(W.getPitch()+ye.pitchDelta)}},ra.prototype.off=function(){var V=this.element;M.removeEventListener(V,"mousedown",this.mousedown),M.removeEventListener(V,"touchstart",this.touchstart,{passive:!1}),M.removeEventListener(V,"touchmove",this.touchmove),M.removeEventListener(V,"touchend",this.touchend),M.removeEventListener(V,"touchcancel",this.reset),this.offTemp()},ra.prototype.offTemp=function(){M.enableDrag(),M.removeEventListener(d.window,"mousemove",this.mousemove),M.removeEventListener(d.window,"mouseup",this.mouseup)},ra.prototype.mousedown=function(V){this.down(d.extend({},V,{ctrlKey:!0,preventDefault:function(){return V.preventDefault()}}),M.mousePos(this.element,V)),M.addEventListener(d.window,"mousemove",this.mousemove),M.addEventListener(d.window,"mouseup",this.mouseup)},ra.prototype.mousemove=function(V){this.move(V,M.mousePos(this.element,V))},ra.prototype.mouseup=function(V){this.mouseRotate.mouseupWindow(V),this.mousePitch&&this.mousePitch.mouseupWindow(V),this.offTemp()},ra.prototype.touchstart=function(V){1!==V.targetTouches.length?this.reset():(this._startPos=this._lastPos=M.touchPos(this.element,V.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return V.preventDefault()}},this._startPos))},ra.prototype.touchmove=function(V){1!==V.targetTouches.length?this.reset():(this._lastPos=M.touchPos(this.element,V.targetTouches)[0],this.move({preventDefault:function(){return V.preventDefault()}},this._lastPos))},ra.prototype.touchend=function(V){0===V.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},ra.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var ni={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Nc(V,Y,W){var te=V.classList;for(var ye in ni)te.remove("mapboxgl-"+W+"-anchor-"+ye);te.add("mapboxgl-"+W+"-anchor-"+Y)}var Ra,Gl=function(V){function Y(W,te){var ye=this;if(V.call(this),(W instanceof d.window.HTMLElement||te)&&(W=d.extend({element:W},te)),d.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=W&&W.anchor||"center",this._color=W&&W.color||"#3FB1CE",this._draggable=W&&W.draggable||!1,this._state="inactive",this._rotation=W&&W.rotation||0,this._rotationAlignment=W&&W.rotationAlignment||"auto",this._pitchAlignment=W&&W.pitchAlignment&&"auto"!==W.pitchAlignment?W.pitchAlignment:this._rotationAlignment,W&&W.element)this._element=W.element,this._offset=d.Point.convert(W&&W.offset||[0,0]);else{this._defaultMarker=!0,this._element=M.create("div"),this._element.setAttribute("aria-label","Map marker");var Le=M.createNS("http://www.w3.org/2000/svg","svg");Le.setAttributeNS(null,"display","block"),Le.setAttributeNS(null,"height","41px"),Le.setAttributeNS(null,"width","27px"),Le.setAttributeNS(null,"viewBox","0 0 27 41");var U=M.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"stroke","none"),U.setAttributeNS(null,"stroke-width","1"),U.setAttributeNS(null,"fill","none"),U.setAttributeNS(null,"fill-rule","evenodd");var ie=M.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill-rule","nonzero");var de=M.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(3.0, 29.0)"),de.setAttributeNS(null,"fill","#000000");for(var be=0,Ae=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];be<Ae.length;be+=1){var Fe=Ae[be],We=M.createNS("http://www.w3.org/2000/svg","ellipse");We.setAttributeNS(null,"opacity","0.04"),We.setAttributeNS(null,"cx","10.5"),We.setAttributeNS(null,"cy","5.80029008"),We.setAttributeNS(null,"rx",Fe.rx),We.setAttributeNS(null,"ry",Fe.ry),de.appendChild(We)}var $e=M.createNS("http://www.w3.org/2000/svg","g");$e.setAttributeNS(null,"fill",this._color);var Qe=M.createNS("http://www.w3.org/2000/svg","path");Qe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$e.appendChild(Qe);var tt=M.createNS("http://www.w3.org/2000/svg","g");tt.setAttributeNS(null,"opacity","0.25"),tt.setAttributeNS(null,"fill","#000000");var lt=M.createNS("http://www.w3.org/2000/svg","path");lt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),tt.appendChild(lt);var yt=M.createNS("http://www.w3.org/2000/svg","g");yt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),yt.setAttributeNS(null,"fill","#FFFFFF");var Mt=M.createNS("http://www.w3.org/2000/svg","g");Mt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Bt=M.createNS("http://www.w3.org/2000/svg","circle");Bt.setAttributeNS(null,"fill","#000000"),Bt.setAttributeNS(null,"opacity","0.25"),Bt.setAttributeNS(null,"cx","5.5"),Bt.setAttributeNS(null,"cy","5.5"),Bt.setAttributeNS(null,"r","5.4999962");var Ut=M.createNS("http://www.w3.org/2000/svg","circle");Ut.setAttributeNS(null,"fill","#FFFFFF"),Ut.setAttributeNS(null,"cx","5.5"),Ut.setAttributeNS(null,"cy","5.5"),Ut.setAttributeNS(null,"r","5.4999962"),Mt.appendChild(Bt),Mt.appendChild(Ut),ie.appendChild(de),ie.appendChild($e),ie.appendChild(tt),ie.appendChild(yt),ie.appendChild(Mt),Le.appendChild(ie),this._element.appendChild(Le),this._offset=d.Point.convert(W&&W.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(jt){jt.preventDefault()}),this._element.addEventListener("mousedown",function(jt){jt.preventDefault()}),this._element.addEventListener("focus",function(){var jt=ye._map.getContainer();jt.scrollTop=0,jt.scrollLeft=0}),Nc(this._element,this._anchor,"marker"),this._popup=null}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.addTo=function(W){return this.remove(),this._map=W,W.getCanvasContainer().appendChild(this._element),W.on("move",this._update),W.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Y.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),M.remove(this._element),this._popup&&this._popup.remove(),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(W){return this._lngLat=d.LngLat.convert(W),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Y.prototype.getElement=function(){return this._element},Y.prototype.setPopup=function(W){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),W){if(!("offset"in W.options)){var ye=Math.sqrt(Math.pow(13.5,2)/2);W.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[ye,-1*(24.6+ye)],"bottom-right":[-ye,-1*(24.6+ye)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=W,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Y.prototype._onKeyPress=function(W){var te=W.code,ye=W.charCode||W.keyCode;"Space"!==te&&"Enter"!==te&&32!==ye&&13!==ye||this.togglePopup()},Y.prototype._onMapClick=function(W){var te=W.originalEvent.target,ye=this._element;this._popup&&(te===ye||ye.contains(te))&&this.togglePopup()},Y.prototype.getPopup=function(){return this._popup},Y.prototype.togglePopup=function(){var W=this._popup;return W?(W.isOpen()?W.remove():W.addTo(this._map),this):this},Y.prototype._update=function(W){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var te="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?te="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(te="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ye="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?ye="rotateX(0deg)":"map"===this._pitchAlignment&&(ye="rotateX("+this._map.getPitch()+"deg)"),W&&"moveend"!==W.type||(this._pos=this._pos.round()),M.setTransform(this._element,ni[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ye+" "+te)}},Y.prototype.getOffset=function(){return this._offset},Y.prototype.setOffset=function(W){return this._offset=d.Point.convert(W),this._update(),this},Y.prototype._onMove=function(W){this._pos=W.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new d.Event("dragstart"))),this.fire(new d.Event("drag"))},Y.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new d.Event("dragend")),this._state="inactive"},Y.prototype._addDragHandler=function(W){this._element.contains(W.originalEvent.target)&&(W.preventDefault(),this._positionDelta=W.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Y.prototype.setDraggable=function(W){return this._draggable=!!W,this._map&&(W?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Y.prototype.isDraggable=function(){return this._draggable},Y.prototype.setRotation=function(W){return this._rotation=W||0,this._update(),this},Y.prototype.getRotation=function(){return this._rotation},Y.prototype.setRotationAlignment=function(W){return this._rotationAlignment=W||"auto",this._update(),this},Y.prototype.getRotationAlignment=function(){return this._rotationAlignment},Y.prototype.setPitchAlignment=function(W){return this._pitchAlignment=W&&"auto"!==W?W:this._rotationAlignment,this._update(),this},Y.prototype.getPitchAlignment=function(){return this._pitchAlignment},Y}(d.Evented),xa={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},mc=0,_a=!1,ql=function(V){function Y(W){V.call(this),this.options=d.extend({},xa,W),d.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.onAdd=function(W){return this._map=W,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),te=this._setupUI,void 0!==Ra?te(Ra):void 0!==d.window.navigator.permissions?d.window.navigator.permissions.query({name:"geolocation"}).then(function(ye){te(Ra="denied"!==ye.state)}):te(Ra=!!d.window.navigator.geolocation),this._container;var te},Y.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(d.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),M.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,mc=0,_a=!1},Y.prototype._isOutOfMapMaxBounds=function(W){var te=this._map.getMaxBounds(),ye=W.coords;return te&&(ye.longitude<te.getWest()||ye.longitude>te.getEast()||ye.latitude<te.getSouth()||ye.latitude>te.getNorth())},Y.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},Y.prototype._onSuccess=function(W){if(this._map){if(this._isOutOfMapMaxBounds(W))return this._setErrorState(),this.fire(new d.Event("outofmaxbounds",W)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=W,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(W),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(W),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new d.Event("geolocate",W)),this._finish()}},Y.prototype._updateCamera=function(W){var te=new d.LngLat(W.coords.longitude,W.coords.latitude),ye=W.coords.accuracy,Le=this._map.getBearing(),U=d.extend({bearing:Le},this.options.fitBoundsOptions);this._map.fitBounds(te.toBounds(ye),U,{geolocateSource:!0})},Y.prototype._updateMarker=function(W){if(W){var te=new d.LngLat(W.coords.longitude,W.coords.latitude);this._accuracyCircleMarker.setLngLat(te).addTo(this._map),this._userLocationDotMarker.setLngLat(te).addTo(this._map),this._accuracy=W.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Y.prototype._updateCircleRadius=function(){var W=this._map._container.clientHeight/2,te=this._map.unproject([0,W]),ye=this._map.unproject([1,W]),Le=te.distanceTo(ye),U=Math.ceil(2*this._accuracy/Le);this._circleElement.style.width=U+"px",this._circleElement.style.height=U+"px"},Y.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Y.prototype._onError=function(W){if(this._map){if(this.options.trackUserLocation)if(1===W.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var te=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=te,this._geolocateButton.setAttribute("aria-label",te),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===W.code&&_a)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new d.Event("error",W)),this._finish()}},Y.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Y.prototype._setupUI=function(W){var te=this;if(this._container.addEventListener("contextmenu",function(U){return U.preventDefault()}),this._geolocateButton=M.create("button","mapboxgl-ctrl-geolocate",this._container),M.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===W){d.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye)}else{var Le=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Le,this._geolocateButton.setAttribute("aria-label",Le)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=M.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Gl(this._dotElement),this._circleElement=M.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Gl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(U){U.geolocateSource||"ACTIVE_LOCK"!==te._watchState||U.originalEvent&&"resize"===U.originalEvent.type||(te._watchState="BACKGROUND",te._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),te._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),te.fire(new d.Event("trackuserlocationend")))})},Y.prototype.trigger=function(){if(!this._setup)return d.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new d.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":mc--,_a=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new d.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new d.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var W;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++mc>1?(W={maximumAge:6e5,timeout:0},_a=!0):(W=this.options.positionOptions,_a=!1),this._geolocationWatchID=d.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,W)}}else d.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Y.prototype._clearWatch=function(){d.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Y}(d.Evented),kr={maxWidth:100,unit:"metric"},Nr=function(V){this.options=d.extend({},kr,V),d.bindAll(["_onMove","setUnit"],this)};function Po(V,Y,W){var te=W&&W.maxWidth||100,ye=V._container.clientHeight/2,Le=V.unproject([0,ye]),U=V.unproject([te,ye]),ie=Le.distanceTo(U);if(W&&"imperial"===W.unit){var de=3.2808*ie;de>5280?Qa(Y,te,de/5280,V._getUIString("ScaleControl.Miles")):Qa(Y,te,de,V._getUIString("ScaleControl.Feet"))}else W&&"nautical"===W.unit?Qa(Y,te,ie/1852,V._getUIString("ScaleControl.NauticalMiles")):ie>=1e3?Qa(Y,te,ie/1e3,V._getUIString("ScaleControl.Kilometers")):Qa(Y,te,ie,V._getUIString("ScaleControl.Meters"))}function Qa(V,Y,W,te){var ye,Le,U,be,Ae,ie=(ye=W,(Le=Math.pow(10,(""+Math.floor(ye)).length-1))*((U=ye/Le)>=10?10:U>=5?5:U>=3?3:U>=2?2:U>=1?1:(be=U,Ae=Math.pow(10,Math.ceil(-Math.log(be)/Math.LN10)),Math.round(be*Ae)/Ae)));V.style.width=Y*(ie/W)+"px",V.innerHTML=ie+"&nbsp;"+te}Nr.prototype.getDefaultPosition=function(){return"bottom-left"},Nr.prototype._onMove=function(){Po(this._map,this._container,this.options)},Nr.prototype.onAdd=function(V){return this._map=V,this._container=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",V.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Nr.prototype.onRemove=function(){M.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Nr.prototype.setUnit=function(V){this.options.unit=V,Po(this._map,this._container,this.options)};var uo=function(V){this._fullscreen=!1,V&&V.container&&(V.container instanceof d.window.HTMLElement?this._container=V.container:d.warnOnce("Full screen control 'container' must be a DOM element.")),d.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in d.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in d.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in d.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in d.window.document&&(this._fullscreenchange="MSFullscreenChange")};uo.prototype.onAdd=function(V){return this._map=V,this._container||(this._container=this._map.getContainer()),this._controlContainer=M.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",d.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},uo.prototype.onRemove=function(){M.remove(this._controlContainer),this._map=null,d.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},uo.prototype._checkFullscreenSupport=function(){return!!(d.window.document.fullscreenEnabled||d.window.document.mozFullScreenEnabled||d.window.document.msFullscreenEnabled||d.window.document.webkitFullscreenEnabled)},uo.prototype._setupUI=function(){var V=this._fullscreenButton=M.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);M.create("span","mapboxgl-ctrl-icon",V).setAttribute("aria-hidden",!0),V.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),d.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},uo.prototype._updateTitle=function(){var V=this._getTitle();this._fullscreenButton.setAttribute("aria-label",V),this._fullscreenButton.title=V},uo.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},uo.prototype._isFullscreen=function(){return this._fullscreen},uo.prototype._changeIcon=function(){(d.window.document.fullscreenElement||d.window.document.mozFullScreenElement||d.window.document.webkitFullscreenElement||d.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},uo.prototype._onClickFullscreen=function(){this._isFullscreen()?d.window.document.exitFullscreen?d.window.document.exitFullscreen():d.window.document.mozCancelFullScreen?d.window.document.mozCancelFullScreen():d.window.document.msExitFullscreen?d.window.document.msExitFullscreen():d.window.document.webkitCancelFullScreen&&d.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Wl={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},ml=function(V){function Y(W){V.call(this),this.options=d.extend(Object.create(Wl),W),d.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return V&&(Y.__proto__=V),(Y.prototype=Object.create(V&&V.prototype)).constructor=Y,Y.prototype.addTo=function(W){return this._map&&this.remove(),this._map=W,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new d.Event("open")),this},Y.prototype.isOpen=function(){return!!this._map},Y.prototype.remove=function(){return this._content&&M.remove(this._content),this._container&&(M.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new d.Event("close")),this},Y.prototype.getLngLat=function(){return this._lngLat},Y.prototype.setLngLat=function(W){return this._lngLat=d.LngLat.convert(W),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Y.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Y.prototype.getElement=function(){return this._container},Y.prototype.setText=function(W){return this.setDOMContent(d.window.document.createTextNode(W))},Y.prototype.setHTML=function(W){var te,ye=d.window.document.createDocumentFragment(),Le=d.window.document.createElement("body");for(Le.innerHTML=W;te=Le.firstChild;)ye.appendChild(te);return this.setDOMContent(ye)},Y.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Y.prototype.setMaxWidth=function(W){return this.options.maxWidth=W,this._update(),this},Y.prototype.setDOMContent=function(W){return this._createContent(),this._content.appendChild(W),this._update(),this},Y.prototype.addClassName=function(W){this._container&&this._container.classList.add(W)},Y.prototype.removeClassName=function(W){this._container&&this._container.classList.remove(W)},Y.prototype.toggleClassName=function(W){if(this._container)return this._container.classList.toggle(W)},Y.prototype._createContent=function(){this._content&&M.remove(this._content),this._content=M.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=M.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Y.prototype._onMouseUp=function(W){this._update(W.point)},Y.prototype._onMouseMove=function(W){this._update(W.point)},Y.prototype._onDrag=function(W){this._update(W.point)},Y.prototype._update=function(W){var te=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=M.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=M.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(We){return te._container.classList.add(We)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||W)){var Le=this._pos=this._trackPointer&&W?W:this._map.project(this._lngLat),U=this.options.anchor,ie=Fa(this.options.offset);if(!U){var de,be=this._container.offsetWidth,Ae=this._container.offsetHeight;de=Le.y+ie.bottom.y<Ae?["top"]:Le.y>this._map.transform.height-Ae?["bottom"]:[],Le.x<be/2?de.push("left"):Le.x>this._map.transform.width-be/2&&de.push("right"),U=0===de.length?"bottom":de.join("-")}var Fe=Le.add(ie[U]).round();M.setTransform(this._container,ni[U]+" translate("+Fe.x+"px,"+Fe.y+"px)"),Nc(this._container,U,"popup")}},Y.prototype._onClose=function(){this.remove()},Y}(d.Evented);function Fa(V){if(V){if("number"==typeof V){var Y=Math.round(Math.sqrt(.5*Math.pow(V,2)));return{center:new d.Point(0,0),top:new d.Point(0,V),"top-left":new d.Point(Y,Y),"top-right":new d.Point(-Y,Y),bottom:new d.Point(0,-V),"bottom-left":new d.Point(Y,-Y),"bottom-right":new d.Point(-Y,-Y),left:new d.Point(V,0),right:new d.Point(-V,0)}}if(V instanceof d.Point||Array.isArray(V)){var W=d.Point.convert(V);return{center:W,top:W,"top-left":W,"top-right":W,bottom:W,"bottom-left":W,"bottom-right":W,left:W,right:W}}return{center:d.Point.convert(V.center||[0,0]),top:d.Point.convert(V.top||[0,0]),"top-left":d.Point.convert(V["top-left"]||[0,0]),"top-right":d.Point.convert(V["top-right"]||[0,0]),bottom:d.Point.convert(V.bottom||[0,0]),"bottom-left":d.Point.convert(V["bottom-left"]||[0,0]),"bottom-right":d.Point.convert(V["bottom-right"]||[0,0]),left:d.Point.convert(V.left||[0,0]),right:d.Point.convert(V.right||[0,0])}}return Fa(new d.Point(0,0))}var Gs={version:d.version,supported:S,setRTLTextPlugin:d.setRTLTextPlugin,getRTLTextPluginStatus:d.getRTLTextPluginStatus,Map:pc,NavigationControl:Wo,GeolocateControl:ql,AttributionControl:co,ScaleControl:Nr,FullscreenControl:uo,Popup:ml,Marker:Gl,Style:rr,LngLat:d.LngLat,LngLatBounds:d.LngLatBounds,Point:d.Point,MercatorCoordinate:d.MercatorCoordinate,Evented:d.Evented,config:d.config,prewarm:function(){At().acquire(ut)},clearPrewarmedResources:function(){var V=kt;V&&(V.isPreloaded()&&1===V.numActive()?(V.release(ut),kt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return d.config.ACCESS_TOKEN},set accessToken(V){d.config.ACCESS_TOKEN=V},get baseApiUrl(){return d.config.API_URL},set baseApiUrl(V){d.config.API_URL=V},get workerCount(){return dt.workerCount},set workerCount(V){dt.workerCount=V},get maxParallelImageRequests(){return d.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(V){d.config.MAX_PARALLEL_IMAGE_REQUESTS=V},clearStorage:function(V){d.clearTileCache(V)},workerUrl:""};return Gs}),D}()},27084:function(ae){"use strict";ae.exports=Math.log2||function(B){return Math.log(B)*Math.LOG2E}},16825:function(ae,B,r){"use strict";ae.exports=function(E,d){d||(d=E,E=window);var S=0,M=0,v=0,u={shift:!1,alt:!1,control:!1,meta:!1},i=!1;function s(m){var b=!1;return"altKey"in m&&(b=b||m.altKey!==u.alt,u.alt=!!m.altKey),"shiftKey"in m&&(b=b||m.shiftKey!==u.shift,u.shift=!!m.shiftKey),"ctrlKey"in m&&(b=b||m.ctrlKey!==u.control,u.control=!!m.ctrlKey),"metaKey"in m&&(b=b||m.metaKey!==u.meta,u.meta=!!m.metaKey),b}function a(m,b){var _=D.x(b),w=D.y(b);"buttons"in b&&(m=0|b.buttons),(m!==S||_!==M||w!==v||s(b))&&(S=0|m,M=_||0,v=w||0,d&&d(S,M,v,u))}function o(m){a(0,m)}function l(){(S||M||v||u.shift||u.alt||u.meta||u.control)&&(M=v=0,S=0,u.shift=u.alt=u.control=u.meta=!1,d&&d(0,0,0,u))}function c(m){s(m)&&d&&d(S,M,v,u)}function f(m){0===D.buttons(m)?a(0,m):a(S,m)}function g(m){a(S|D.buttons(m),m)}function h(m){a(S&~D.buttons(m),m)}function T(){i||(i=!0,E.addEventListener("mousemove",f),E.addEventListener("mousedown",g),E.addEventListener("mouseup",h),E.addEventListener("mouseleave",o),E.addEventListener("mouseenter",o),E.addEventListener("mouseout",o),E.addEventListener("mouseover",o),E.addEventListener("blur",l),E.addEventListener("keyup",c),E.addEventListener("keydown",c),E.addEventListener("keypress",c),E!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",c),window.addEventListener("keydown",c),window.addEventListener("keypress",c)))}T();var x={element:E};return Object.defineProperties(x,{enabled:{get:function(){return i},set:function(m){m?T():i&&(i=!1,E.removeEventListener("mousemove",f),E.removeEventListener("mousedown",g),E.removeEventListener("mouseup",h),E.removeEventListener("mouseleave",o),E.removeEventListener("mouseenter",o),E.removeEventListener("mouseout",o),E.removeEventListener("mouseover",o),E.removeEventListener("blur",l),E.removeEventListener("keyup",c),E.removeEventListener("keydown",c),E.removeEventListener("keypress",c),E!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",c),window.removeEventListener("keydown",c),window.removeEventListener("keypress",c)))},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return M},enumerable:!0},y:{get:function(){return v},enumerable:!0},mods:{get:function(){return u},enumerable:!0}}),x};var D=r(74311)},48956:function(ae){var B={left:0,top:0};ae.exports=function(r,D,E){D=D||r.currentTarget||r.srcElement,Array.isArray(E)||(E=[0,0]);var d,S=r.clientX||0,M=r.clientY||0,v=(d=D)===window||d===document||d===document.body?B:d.getBoundingClientRect();return E[0]=S-v.left,E[1]=M-v.top,E}},74311:function(ae,B){"use strict";function r(D){return D.target||D.srcElement||window}B.buttons=function(D){if("object"==typeof D){if("buttons"in D)return D.buttons;if("which"in D){if(2===(E=D.which))return 4;if(3===E)return 2;if(E>0)return 1<<E-1}else if("button"in D){var E;if(1===(E=D.button))return 4;if(2===E)return 2;if(E>=0)return 1<<E}}return 0},B.element=r,B.x=function(D){if("object"==typeof D){if("offsetX"in D)return D.offsetX;var E=r(D).getBoundingClientRect();return D.clientX-E.left}return 0},B.y=function(D){if("object"==typeof D){if("offsetY"in D)return D.offsetY;var E=r(D).getBoundingClientRect();return D.clientY-E.top}return 0}},1195:function(ae,B,r){"use strict";var D=r(75686);ae.exports=function(E,d,S){"function"==typeof E&&(S=!!d,d=E,E=window);var M=D("ex",E),v=function(u){S&&u.preventDefault();var i=u.deltaX||0,s=u.deltaY||0,a=u.deltaZ||0,o=1;switch(u.deltaMode){case 1:o=M;break;case 2:o=window.innerHeight}if(s*=o,a*=o,(i*=o)||s||a)return d(i,s,a,u)};return E.addEventListener("wheel",v),v}},7417:function(ae,B,r){var D,E,d;(d=void 0!==r.g?r.g:this)[E="Promise"]=d[E]||function(){"use strict";var M,v,u,i=Object.prototype.toString,s=typeof setImmediate<"u"?function(_){return setImmediate(_)}:setTimeout;try{Object.defineProperty({},"x",{}),M=function(_,w,A,p){return Object.defineProperty(_,w,{value:A,writable:!0,configurable:!1!==p})}}catch{M=function(w,A,p){return w[A]=p,w}}function a(_,w){u.add(_,w),v||(v=s(u.drain))}function o(_){var w,A=typeof _;return null==_||"object"!=A&&"function"!=A||(w=_.then),"function"==typeof w&&w}function l(){for(var _=0;_<this.chain.length;_++)c(this,1===this.state?this.chain[_].success:this.chain[_].failure,this.chain[_]);this.chain.length=0}function c(_,w,A){var p,I;try{!1===w?A.reject(_.msg):(p=!0===w?_.msg:w.call(void 0,_.msg))===A.promise?A.reject(TypeError("Promise-chain cycle")):(I=o(p))?I.call(p,A.resolve,A.reject):A.resolve(p)}catch(k){A.reject(k)}}function f(_){var w,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(w=o(_))?a(function(){var p=new T(A);try{w.call(_,function(){f.apply(p,arguments)},function(){g.apply(p,arguments)})}catch(I){g.call(p,I)}}):(A.msg=_,A.state=1,A.chain.length>0&&a(l,A))}catch(p){g.call(new T(A),p)}}}function g(_){var w=this;w.triggered||(w.triggered=!0,w.def&&(w=w.def),w.msg=_,w.state=2,w.chain.length>0&&a(l,w))}function h(_,w,A,p){for(var I=0;I<w.length;I++)!function(k){_.resolve(w[k]).then(function(L){A(k,L)},p)}(I)}function T(_){this.def=_,this.triggered=!1}function x(_){this.promise=_,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(_){if("function"!=typeof _)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var w=new x(this);this.then=function(A,p){var I={success:"function"!=typeof A||A,failure:"function"==typeof p&&p};return I.promise=new this.constructor(function(k,L){if("function"!=typeof k||"function"!=typeof L)throw TypeError("Not a function");I.resolve=k,I.reject=L}),w.chain.push(I),0!==w.state&&a(l,w),I.promise},this.catch=function(A){return this.then(void 0,A)};try{_.call(void 0,function(A){f.call(w,A)},function(A){g.call(w,A)})}catch(A){g.call(w,A)}}u=function(){var _,w,A;function p(I,k){this.fn=I,this.self=k,this.next=void 0}return{add:function(I,k){A=new p(I,k),w?w.next=A:_=A,w=A,A=void 0},drain:function(){var I=_;for(_=w=v=void 0;I;)I.fn.call(I.self),I=I.next}}}();var b=M({},"constructor",m,!1);return m.prototype=b,M(b,"__NPO__",0,!1),M(m,"resolve",function(_){return _&&"object"==typeof _&&1===_.__NPO__?_:new this(function(w,A){if("function"!=typeof w||"function"!=typeof A)throw TypeError("Not a function");w(_)})}),M(m,"reject",function(_){return new this(function(w,A){if("function"!=typeof w||"function"!=typeof A)throw TypeError("Not a function");A(_)})}),M(m,"all",function(_){var w=this;return"[object Array]"!=i.call(_)?w.reject(TypeError("Not an array")):0===_.length?w.resolve([]):new w(function(A,p){if("function"!=typeof A||"function"!=typeof p)throw TypeError("Not a function");var I=_.length,k=Array(I),L=0;h(w,_,function(O,P){k[O]=P,++L===I&&A(k)},p)})}),M(m,"race",function(_){var w=this;return"[object Array]"!=i.call(_)?w.reject(TypeError("Not an array")):new w(function(A,p){if("function"!=typeof A||"function"!=typeof p)throw TypeError("Not a function");h(w,_,function(I,k){A(k)},p)})}),m}(),ae.exports?ae.exports=d[E]:void 0===(D=function(){return d[E]}.call(B,r,B,ae))||(ae.exports=D)},18625:function(ae){var B=Math.PI,r=M(120);function D(v,u,i,s){return["C",v,u,i,s,i,s]}function E(v,u,i,s,a,o){return["C",v/3+.6666666666666666*i,u/3+.6666666666666666*s,a/3+.6666666666666666*i,o/3+.6666666666666666*s,a,o]}function d(v,u,i,s,a,o,l,c,f,g){if(g)I=g[0],k=g[1],A=g[2],p=g[3];else{var h=S(v,u,-a);u=h.y;var T=((v=h.x)-(c=(h=S(c,f,-a)).x))/2,x=(u-(f=h.y))/2,m=T*T/(i*i)+x*x/(s*s);m>1&&(i*=m=Math.sqrt(m),s*=m);var b=i*i,_=s*s,w=(o==l?-1:1)*Math.sqrt(Math.abs((b*_-b*x*x-_*T*T)/(b*x*x+_*T*T)));w==1/0&&(w=1);var A=w*i*x/s+(v+c)/2,p=w*-s*T/i+(u+f)/2,I=Math.asin(((u-p)/s).toFixed(9)),k=Math.asin(((f-p)/s).toFixed(9));(I=v<A?B-I:I)<0&&(I=2*B+I),(k=c<A?B-k:k)<0&&(k=2*B+k),l&&I>k&&(I-=2*B),!l&&k>I&&(k-=2*B)}if(Math.abs(k-I)>r){var L=k,O=c,P=f;k=I+r*(l&&k>I?1:-1);var F=d(c=A+i*Math.cos(k),f=p+s*Math.sin(k),i,s,a,0,l,O,P,[k,L,A,p])}var j=Math.tan((k-I)/4),X=4/3*i*j,N=4/3*s*j,q=[2*v-(v+X*Math.sin(I)),2*u-(u-N*Math.cos(I)),c+X*Math.sin(k),f-N*Math.cos(k),c,f];if(g)return q;F&&(q=q.concat(F));for(var G=0;G<q.length;){var H=S(q[G],q[G+1],a);q[G++]=H.x,q[G++]=H.y}return q}function S(v,u,i){return{x:v*Math.cos(i)-u*Math.sin(i),y:v*Math.sin(i)+u*Math.cos(i)}}function M(v){return v*(B/180)}ae.exports=function(v){for(var u,i=[],s=0,a=0,o=0,l=0,c=null,f=null,g=0,h=0,T=0,x=v.length;T<x;T++){var m=v[T],b=m[0];switch(b){case"M":o=m[1],l=m[2];break;case"A":(m=d(g,h,m[1],m[2],M(m[3]),m[4],m[5],m[6],m[7])).unshift("C"),m.length>7&&(i.push(m.splice(0,7)),m.unshift("C"));break;case"S":var _=g,w=h;"C"!=u&&"S"!=u||(_+=_-s,w+=w-a),m=["C",_,w,m[1],m[2],m[3],m[4]];break;case"T":"Q"==u||"T"==u?(c=2*g-c,f=2*h-f):(c=g,f=h),m=E(g,h,c,f,m[1],m[2]);break;case"Q":c=m[1],f=m[2],m=E(g,h,m[1],m[2],m[3],m[4]);break;case"L":m=D(g,h,m[1],m[2]);break;case"H":m=D(g,h,m[1],h);break;case"V":m=D(g,h,g,m[1]);break;case"Z":m=D(g,h,o,l)}u=b,g=m[m.length-2],h=m[m.length-1],m.length>4?(s=m[m.length-4],a=m[m.length-3]):(s=g,a=h),i.push(m)}return i}},56131:function(ae){"use strict";var B=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;ae.exports=function(){try{if(!Object.assign)return!1;var E=new String("abc");if(E[5]="de","5"===Object.getOwnPropertyNames(E)[0])return!1;for(var d={},S=0;S<10;S++)d["_"+String.fromCharCode(S)]=S;if("0123456789"!==Object.getOwnPropertyNames(d).map(function(v){return d[v]}).join(""))return!1;var M={};return"abcdefghijklmnopqrst".split("").forEach(function(v){M[v]=v}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},M)).join("")}catch{return!1}}()?Object.assign:function(E,d){for(var S,M,v=function(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(E),u=1;u<arguments.length;u++){for(var i in S=Object(arguments[u]))r.call(S,i)&&(v[i]=S[i]);if(B){M=B(S);for(var s=0;s<M.length;s++)D.call(S,M[s])&&(v[M[s]]=S[M[s]])}}return v}},65848:function(ae){"use strict";var B=function(r){return r!=r};ae.exports=function(r,D){return 0===r&&0===D?1/r==1/D:r===D||!(!B(r)||!B(D))}},64003:function(ae,B,r){"use strict";var D=r(17045),E=r(68222),d=r(65848),S=r(27015),M=r(55572),v=E(S(),Object);D(v,{getPolyfill:S,implementation:d,shim:M}),ae.exports=v},27015:function(ae,B,r){"use strict";var D=r(65848);ae.exports=function(){return"function"==typeof Object.is?Object.is:D}},55572:function(ae,B,r){"use strict";var D=r(27015),E=r(17045);ae.exports=function(){var d=D();return E(Object,{is:d},{is:function(){return Object.is!==d}}),d}},99019:function(ae,B,r){"use strict";var D;if(!Object.keys){var E=Object.prototype.hasOwnProperty,d=Object.prototype.toString,S=r(64178),M=Object.prototype.propertyIsEnumerable,v=!M.call({toString:null},"toString"),u=M.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(l){var c=l.constructor;return c&&c.prototype===l},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!a["$"+l]&&E.call(window,l)&&null!==window[l]&&"object"==typeof window[l])try{s(window[l])}catch{return!0}}catch{return!0}return!1}();D=function(l){var c=null!==l&&"object"==typeof l,f="[object Function]"===d.call(l),g=S(l),h=c&&"[object String]"===d.call(l),T=[];if(!c&&!f&&!g)throw new TypeError("Object.keys called on a non-object");var x=u&&f;if(h&&l.length>0&&!E.call(l,0))for(var m=0;m<l.length;++m)T.push(String(m));if(g&&l.length>0)for(var b=0;b<l.length;++b)T.push(String(b));else for(var _ in l)x&&"prototype"===_||!E.call(l,_)||T.push(String(_));if(v)for(var w=function(p){if(typeof window>"u"||!o)return s(p);try{return s(p)}catch{return!1}}(l),A=0;A<i.length;++A)w&&"constructor"===i[A]||!E.call(l,i[A])||T.push(i[A]);return T}}ae.exports=D},8709:function(ae,B,r){"use strict";var D=Array.prototype.slice,E=r(64178),d=Object.keys,S=d?function(v){return d(v)}:r(99019),M=Object.keys;S.shim=function(){if(Object.keys){var v=function(){var u=Object.keys(arguments);return u&&u.length===arguments.length}(1,2);v||(Object.keys=function(u){return E(u)?M(D.call(u)):M(u)})}else Object.keys=S;return Object.keys||S},ae.exports=S},64178:function(ae){"use strict";var B=Object.prototype.toString;ae.exports=function(r){var D=B.call(r),E="[object Arguments]"===D;return E||(E="[object Array]"!==D&&null!==r&&"object"==typeof r&&"number"==typeof r.length&&r.length>=0&&"[object Function]"===B.call(r.callee)),E}},88641:function(ae){"use strict";function B(E,d){if("string"!=typeof E)return[E];var S=[E];"string"==typeof d||Array.isArray(d)?d={brackets:d}:d||(d={});var M=d.brackets?Array.isArray(d.brackets)?d.brackets:[d.brackets]:["{}","[]","()"],v=d.escape||"___",u=!!d.flat;M.forEach(function(s){var a=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),o=[];function l(c,f,g){var h=S.push(c.slice(s[0].length,-s[1].length))-1;return o.push(h),v+h+v}S.forEach(function(c,f){for(var g,h=0;c!=g;)if(g=c,c=c.replace(a,l),h++>1e4)throw Error("References have circular dependency. Please, check them.");S[f]=c}),o=o.reverse(),S=S.map(function(c){return o.forEach(function(f){c=c.replace(new RegExp("(\\"+v+f+"\\"+v+")","g"),s[0]+"$1"+s[1])}),c})});var i=new RegExp("\\"+v+"([0-9]+)\\"+v);return u?S:function s(a,o,l){for(var c,f=[],g=0;c=i.exec(a);){if(g++>1e4)throw Error("Circular references in parenthesis");f.push(a.slice(0,c.index)),f.push(s(o[c[1]],o)),a=a.slice(c.index+c[0].length)}return f.push(a),f}(S[0],S)}function r(E,d){if(d&&d.flat){var S,M=d&&d.escape||"___",v=E[0];if(!v)return"";for(var u=new RegExp("\\"+M+"([0-9]+)\\"+M),i=0;v!=S;){if(i++>1e4)throw Error("Circular references in "+E);S=v,v=v.replace(u,s)}return v}return E.reduce(function a(o,l){return Array.isArray(l)&&(l=l.reduce(a,"")),o+l},"");function s(a,o){if(null==E[o])throw Error("Reference "+o+"is undefined");return E[o]}}function D(E,d){return Array.isArray(E)?r(E,d):B(E,d)}D.parse=B,D.stringify=r,ae.exports=D},18863:function(ae,B,r){"use strict";var D=r(71299);ae.exports=function(E){var d;return arguments.length>1&&(E=arguments),"string"==typeof E?E=E.split(/\s/).map(parseFloat):"number"==typeof E&&(E=[E]),E.length&&"number"==typeof E[0]?d=1===E.length?{width:E[0],height:E[0],x:0,y:0}:2===E.length?{width:E[0],height:E[1],x:0,y:0}:{x:E[0],y:E[1],width:E[2]-E[0]||0,height:E[3]-E[1]||0}:E&&((d={x:(E=D(E,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:E.top||0}).width=null==E.width?E.right?E.right-d.x:0:E.width,d.height=null==E.height?E.bottom?E.bottom-d.y:0:E.height),d}},95616:function(ae){ae.exports=function(E){var d=[];return E.replace(r,function(S,M,v){var s,u=M.toLowerCase();for(s=void 0,v=(s=v.match(D))?s.map(Number):[],"m"==u&&v.length>2&&(d.push([M].concat(v.splice(0,2))),u="l",M="m"==M?"l":"L");;){if(v.length==B[u])return v.unshift(M),d.push(v);if(v.length<B[u])throw new Error("malformed path data");d.push([M].concat(v.splice(0,B[u])))}}),d};var B={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,D=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(ae){ae.exports=function(B,r){r||(r=[0,""]),B=String(B);var D=parseFloat(B,10);return r[0]=D,r[1]=B.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},9748:function(ae,B,r){var D=r(90386);(function(){var E,d,S,M,v,u;typeof performance<"u"&&null!==performance&&performance.now?ae.exports=function(){return performance.now()}:null!=D&&D.hrtime?(ae.exports=function(){return(E()-v)/1e6},d=D.hrtime,M=(E=function(){var i;return 1e9*(i=d())[0]+i[1]})(),u=1e9*D.uptime(),v=M-u):Date.now?(ae.exports=function(){return Date.now()-S},S=Date.now()):(ae.exports=function(){return(new Date).getTime()-S},S=(new Date).getTime())}).call(this)},71299:function(ae){"use strict";ae.exports=function(D,E,d){var S,M,v={};if("string"==typeof E&&(E=r(E)),Array.isArray(E)){var u={};for(M=0;M<E.length;M++)u[E[M]]=!0;E=u}for(S in E)E[S]=r(E[S]);var i={};for(S in E){var s=E[S];if(Array.isArray(s))for(M=0;M<s.length;M++){var a=s[M];if(d&&(i[a]=!0),a in D){if(v[S]=D[a],d)for(var o=M;o<s.length;o++)i[s[o]]=!0;break}}else S in D&&(E[S]&&(v[S]=D[S]),d&&(i[S]=!0))}if(d)for(S in D)i[S]||(v[S]=D[S]);return v};var B={};function r(D){return B[D]?B[D]:("string"==typeof D&&(D=B[D]=D.split(/\s*,\s*|\s+/)),D)}},38258:function(ae){ae.exports=function(B,r,D,E){var d=B[0],S=B[1],M=!1;void 0===D&&(D=0),void 0===E&&(E=r.length);for(var v=E-D,u=0,i=v-1;u<v;i=u++){var s=r[u+D][0],a=r[u+D][1],l=r[i+D][1];a>S!=l>S&&d<(r[i+D][0]-s)*(S-a)/(l-a)+s&&(M=!M)}return M}},52142:function(ae,B,r){var D,E=r(69444),d=r(29023),S=r(87263),M=r(11328),v=r(55968),u=r(10670),i=!1,s=d();function a(o,l,c){var f=D.segments(o),g=D.segments(l),h=c(D.combine(f,g));return D.polygon(h)}D={buildLog:function(o){return!0===o?i=E():!1===o&&(i=!1),!1!==i&&i.list},epsilon:function(o){return s.epsilon(o)},segments:function(o){var l=S(!0,s,i);return o.regions.forEach(l.addRegion),{segments:l.calculate(o.inverted),inverted:o.inverted}},combine:function(o,l){return{combined:S(!1,s,i).calculate(o.segments,o.inverted,l.segments,l.inverted),inverted1:o.inverted,inverted2:l.inverted}},selectUnion:function(o){return{segments:v.union(o.combined,i),inverted:o.inverted1||o.inverted2}},selectIntersect:function(o){return{segments:v.intersect(o.combined,i),inverted:o.inverted1&&o.inverted2}},selectDifference:function(o){return{segments:v.difference(o.combined,i),inverted:o.inverted1&&!o.inverted2}},selectDifferenceRev:function(o){return{segments:v.differenceRev(o.combined,i),inverted:!o.inverted1&&o.inverted2}},selectXor:function(o){return{segments:v.xor(o.combined,i),inverted:o.inverted1!==o.inverted2}},polygon:function(o){return{regions:M(o.segments,s,i),inverted:o.inverted}},polygonFromGeoJSON:function(o){return u.toPolygon(D,o)},polygonToGeoJSON:function(o){return u.fromPolygon(D,s,o)},union:function(o,l){return a(o,l,D.selectUnion)},intersect:function(o,l){return a(o,l,D.selectIntersect)},difference:function(o,l){return a(o,l,D.selectDifference)},differenceRev:function(o,l){return a(o,l,D.selectDifferenceRev)},xor:function(o,l){return a(o,l,D.selectXor)}},"object"==typeof window&&(window.PolyBool=D),ae.exports=D},69444:function(ae){ae.exports=function(){var B,r=0,D=!1;function E(d,S){return B.list.push({type:d,data:S?JSON.parse(JSON.stringify(S)):void 0}),B}return B={list:[],segmentId:function(){return r++},checkIntersection:function(d,S){return E("check",{seg1:d,seg2:S})},segmentChop:function(d,S){return E("div_seg",{seg:d,pt:S}),E("chop",{seg:d,pt:S})},statusRemove:function(d){return E("pop_seg",{seg:d})},segmentUpdate:function(d){return E("seg_update",{seg:d})},segmentNew:function(d,S){return E("new_seg",{seg:d,primary:S})},segmentRemove:function(d){return E("rem_seg",{seg:d})},tempStatus:function(d,S,M){return E("temp_status",{seg:d,above:S,below:M})},rewind:function(d){return E("rewind",{seg:d})},status:function(d,S,M){return E("status",{seg:d,above:S,below:M})},vert:function(d){return d===D?B:(D=d,E("vert",{x:d}))},log:function(d){return"string"!=typeof d&&(d=JSON.stringify(d,!1,"  ")),E("log",{txt:d})},reset:function(){return E("reset")},selected:function(d){return E("selected",{segs:d})},chainStart:function(d){return E("chain_start",{seg:d})},chainRemoveHead:function(d,S){return E("chain_rem_head",{index:d,pt:S})},chainRemoveTail:function(d,S){return E("chain_rem_tail",{index:d,pt:S})},chainNew:function(d,S){return E("chain_new",{pt1:d,pt2:S})},chainMatch:function(d){return E("chain_match",{index:d})},chainClose:function(d){return E("chain_close",{index:d})},chainAddHead:function(d,S){return E("chain_add_head",{index:d,pt:S})},chainAddTail:function(d,S){return E("chain_add_tail",{index:d,pt:S})},chainConnect:function(d,S){return E("chain_con",{index1:d,index2:S})},chainReverse:function(d){return E("chain_rev",{index:d})},chainJoin:function(d,S){return E("chain_join",{index1:d,index2:S})},done:function(){return E("done")}}}},29023:function(ae){ae.exports=function(B){"number"!=typeof B&&(B=1e-10);var r={epsilon:function(D){return"number"==typeof D&&(B=D),B},pointAboveOrOnLine:function(D,E,d){var S=E[0],M=E[1];return(d[0]-S)*(D[1]-M)-(d[1]-M)*(D[0]-S)>=-B},pointBetween:function(D,E,d){var M=d[0]-E[0],u=d[1]-E[1],i=(D[0]-E[0])*M+(D[1]-E[1])*u;return!(i<B||i-(M*M+u*u)>-B)},pointsSameX:function(D,E){return Math.abs(D[0]-E[0])<B},pointsSameY:function(D,E){return Math.abs(D[1]-E[1])<B},pointsSame:function(D,E){return r.pointsSameX(D,E)&&r.pointsSameY(D,E)},pointsCompare:function(D,E){return r.pointsSameX(D,E)?r.pointsSameY(D,E)?0:D[1]<E[1]?-1:1:D[0]<E[0]?-1:1},pointsCollinear:function(D,E,d){return Math.abs((D[0]-E[0])*(E[1]-d[1])-(E[0]-d[0])*(D[1]-E[1]))<B},linesIntersect:function(D,E,d,S){var M=E[0]-D[0],v=E[1]-D[1],u=S[0]-d[0],i=S[1]-d[1],s=M*i-v*u;if(Math.abs(s)<B)return!1;var a=D[0]-d[0],o=D[1]-d[1],l=(u*o-i*a)/s,c=(M*o-v*a)/s,f={alongA:0,alongB:0,pt:[D[0]+l*M,D[1]+l*v]};return f.alongA=l<=-B?-2:l<B?-1:l-1<=-B?0:l-1<B?1:2,f.alongB=c<=-B?-2:c<B?-1:c-1<=-B?0:c-1<B?1:2,f},pointInsideRegion:function(D,E){for(var d=D[0],S=D[1],M=E[E.length-1][0],v=E[E.length-1][1],u=!1,i=0;i<E.length;i++){var s=E[i][0],a=E[i][1];a-S>B!=v-S>B&&(M-s)*(S-a)/(v-a)+s-d>B&&(u=!u),M=s,v=a}return u}};return r}},10670:function(ae){ae.exports={toPolygon:function(r,D){function E(M){if(M.length<=0)return r.segments({inverted:!1,regions:[]});function v(s){var a=s.slice(0,s.length-1);return r.segments({inverted:!1,regions:[a]})}for(var u=v(M[0]),i=1;i<M.length;i++)u=r.selectDifference(r.combine(u,v(M[i])));return u}if("Polygon"===D.type)return r.polygon(E(D.coordinates));if("MultiPolygon"===D.type){for(var d=r.segments({inverted:!1,regions:[]}),S=0;S<D.coordinates.length;S++)d=r.selectUnion(r.combine(d,E(D.coordinates[S])));return r.polygon(d)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(r,D,E){function d(c,f){return D.pointInsideRegion([.5*(c[0][0]+c[1][0]),.5*(c[0][1]+c[1][1])],f)}function S(c){return{region:c,children:[]}}E=r.polygon(r.segments(E));var M=S(null);function v(c,f){for(var g=0;g<c.children.length;g++)if(d(f,(T=c.children[g]).region))return void v(T,f);var h=S(f);for(g=0;g<c.children.length;g++){var T;d((T=c.children[g]).region,f)&&(h.children.push(T),c.children.splice(g,1),g--)}c.children.push(h)}for(var u=0;u<E.regions.length;u++){var i=E.regions[u];i.length<3||v(M,i)}function s(c,f){for(var g=0,h=c[c.length-1][0],T=c[c.length-1][1],x=[],m=0;m<c.length;m++){var b=c[m][0],_=c[m][1];x.push([b,_]),g+=_*h-b*T,h=b,T=_}return g<0!==f&&x.reverse(),x.push([x[0][0],x[0][1]]),x}var a=[];function o(c){var f=[s(c.region,!1)];a.push(f);for(var g=0;g<c.children.length;g++)f.push(l(c.children[g]))}function l(c){for(var f=0;f<c.children.length;f++)o(c.children[f]);return s(c.region,!0)}for(u=0;u<M.children.length;u++)o(M.children[u]);return a.length<=0?{type:"Polygon",coordinates:[]}:1==a.length?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}}},87263:function(ae,B,r){var D=r(26859);ae.exports=function(E,d,S){function M(o,l,c){return{id:S?S.segmentId():-1,start:o,end:l,myFill:{above:c.myFill.above,below:c.myFill.below},otherFill:null}}var v=D.create();function u(o,l){v.insertBefore(o,function(c){return f=o.isStart,h=l,T=c.isStart,m=c.other.pt,(0!==(b=d.pointsCompare(o.pt,x=c.pt))?b:d.pointsSame(h,m)?0:f!==T?f?1:-1:d.pointAboveOrOnLine(h,T?x:m,T?m:x)?1:-1)<0;var f,h,T,x,m,b})}function i(o,l){var f,h,c=(u(h=D.node({isStart:!0,pt:(f=o).start,seg:f,primary:l,other:null,status:null}),f.end),h);return function(f,g,h){var T=D.node({isStart:!1,pt:g.end,seg:g,primary:h,other:f,status:null});f.other=T,u(T,f.pt)}(c,o,l),c}function s(o,l){var f,g,c=M(l,o.seg.end,o.seg);return f=o,g=l,S&&S.segmentChop(f.seg,g),f.other.remove(),f.seg.end=g,f.other.pt=g,u(f.other,f.pt),i(c,o.primary)}function a(o,l){var c=D.create();function f(L){return c.findTransition(function(O){var P,F,j,X,N,q;return X=(P=L).seg.end,(d.pointsCollinear(j=P.seg.start,N=(F=O.ev).seg.start,q=F.seg.end)?d.pointsCollinear(X,N,q)||d.pointAboveOrOnLine(X,N,q)?1:-1:d.pointAboveOrOnLine(j,N,q)?1:-1)>0})}function g(L,O){var P=L.seg,F=O.seg,j=P.start,X=P.end,N=F.start,q=F.end;S&&S.checkIntersection(P,F);var G=d.linesIntersect(j,X,N,q);if(!1===G){if(!d.pointsCollinear(j,X,N)||d.pointsSame(j,q)||d.pointsSame(X,N))return!1;var H=d.pointsSame(j,N),Z=d.pointsSame(X,q);if(H&&Z)return O;var $=!H&&d.pointBetween(j,N,q),se=!Z&&d.pointBetween(X,N,q);if(H)return se?s(O,X):s(L,q),O;$&&(Z||(se?s(O,X):s(L,q)),s(O,j))}else 0===G.alongA&&(-1===G.alongB?s(L,N):0===G.alongB?s(L,G.pt):1===G.alongB&&s(L,q)),0===G.alongB&&(-1===G.alongA?s(O,j):0===G.alongA?s(O,G.pt):1===G.alongA&&s(O,X));return!1}for(var h=[];!v.isEmpty();){var T=v.getHead();if(S&&S.vert(T.pt[0]),T.isStart){let L=function(){if(m){var O=g(T,m);if(O)return O}return!!b&&g(T,b)};S&&S.segmentNew(T.seg,T.primary);var x=f(T),m=x.before?x.before.ev:null,b=x.after?x.after.ev:null;S&&S.tempStatus(T.seg,!!m&&m.seg,!!b&&b.seg);var _,w,A=L();if(A&&(E?(w=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below)&&(A.seg.myFill.above=!A.seg.myFill.above):A.seg.otherFill=T.seg.myFill,S&&S.segmentUpdate(A.seg),T.other.remove(),T.remove()),v.getHead()!==T){S&&S.rewind(T.seg);continue}E?(w=null===T.seg.myFill.below||T.seg.myFill.above!==T.seg.myFill.below,T.seg.myFill.below=b?b.seg.myFill.above:o,T.seg.myFill.above=w?!T.seg.myFill.below:T.seg.myFill.below):null===T.seg.otherFill&&(T.seg.otherFill={above:_=b?T.primary===b.primary?b.seg.otherFill.above:b.seg.myFill.above:T.primary?l:o,below:_}),S&&S.status(T.seg,!!m&&m.seg,!!b&&b.seg),T.other.status=x.insert(D.node({ev:T}))}else{var p=T.status;if(null===p)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(c.exists(p.prev)&&c.exists(p.next)&&g(p.prev.ev,p.next.ev),S&&S.statusRemove(p.ev.seg),p.remove(),!T.primary){var I=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=I}h.push(T.seg)}v.getHead().remove()}return S&&S.done(),h}return E?{addRegion:function(o){for(var l,c,f,g=o[o.length-1],h=0;h<o.length;h++){var T=d.pointsCompare(l=g,g=o[h]);0!==T&&i((c=T<0?l:g,f=T<0?g:l,{id:S?S.segmentId():-1,start:c,end:f,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(o){return a(o,!1)}}:{calculate:function(o,l,c,f){return o.forEach(function(g){i(M(g.start,g.end,g),!0)}),c.forEach(function(g){i(M(g.start,g.end,g),!1)}),a(l,f)}}}},26859:function(ae){ae.exports={create:function(){var B={root:{root:!0,next:null},exists:function(r){return null!==r&&r!==B.root},isEmpty:function(){return null===B.root.next},getHead:function(){return B.root.next},insertBefore:function(r,D){for(var E=B.root,d=B.root.next;null!==d;){if(D(d))return r.prev=d.prev,r.next=d,d.prev.next=r,void(d.prev=r);E=d,d=d.next}E.next=r,r.prev=E,r.next=null},findTransition:function(r){for(var D=B.root,E=B.root.next;null!==E&&!r(E);)D=E,E=E.next;return{before:D===B.root?null:D,after:E,insert:function(d){return d.prev=D,d.next=E,D.next=d,null!==E&&(E.prev=d),d}}}};return B},node:function(B){return B.prev=null,B.next=null,B.remove=function(){B.prev.next=B.next,B.next&&(B.next.prev=B.prev),B.prev=null,B.next=null},B}}},11328:function(ae){ae.exports=function(B,r,D){var E=[],d=[];return B.forEach(function(S){var M=S.start,v=S.end;if(r.pointsSame(M,v))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{D&&D.chainStart(S);for(var u={index:0,matches_head:!1,matches_pt1:!1},i={index:0,matches_head:!1,matches_pt1:!1},s=u,a=0;a<E.length;a++){var o=(h=E[a])[0],l=h[h.length-1];if(r.pointsSame(o,M)){if(p(a,!0,!0))break}else if(r.pointsSame(o,v)){if(p(a,!0,!1))break}else if(r.pointsSame(l,M)){if(p(a,!1,!0))break}else if(r.pointsSame(l,v)&&p(a,!1,!1))break}if(s===u)return E.push([M,v]),void(D&&D.chainNew(M,v));if(s===i){D&&D.chainMatch(u.index);var c=u.index,f=u.matches_pt1?v:M,g=u.matches_head,h=E[c],T=g?h[0]:h[h.length-1],x=g?h[1]:h[h.length-2],m=g?h[h.length-1]:h[0],b=g?h[h.length-2]:h[1];return r.pointsCollinear(x,T,f)&&(g?(D&&D.chainRemoveHead(u.index,f),h.shift()):(D&&D.chainRemoveTail(u.index,f),h.pop()),T=x),r.pointsSame(m,f)?(E.splice(c,1),r.pointsCollinear(b,m,T)&&(g?(D&&D.chainRemoveTail(u.index,T),h.pop()):(D&&D.chainRemoveHead(u.index,T),h.shift())),D&&D.chainClose(u.index),void d.push(h)):void(g?(D&&D.chainAddHead(u.index,f),h.unshift(f)):(D&&D.chainAddTail(u.index,f),h.push(f)))}var _=u.index,w=i.index;D&&D.chainConnect(_,w);var A=E[_].length<E[w].length;u.matches_head?i.matches_head?A?(I(_),k(_,w)):(I(w),k(w,_)):k(w,_):i.matches_head?k(_,w):A?(I(_),k(w,_)):(I(w),k(_,w))}function p(L,O,P){return s.index=L,s.matches_head=O,s.matches_pt1=P,s===u?(s=i,!1):(s=null,!0)}function I(L){D&&D.chainReverse(L),E[L].reverse()}function k(L,O){var P=E[L],F=E[O],j=P[P.length-1],X=P[P.length-2],N=F[0],q=F[1];r.pointsCollinear(X,j,N)&&(D&&D.chainRemoveTail(L,j),P.pop(),j=X),r.pointsCollinear(j,N,q)&&(D&&D.chainRemoveHead(O,N),F.shift()),D&&D.chainJoin(L,O),E[L]=P.concat(F),E.splice(O,1)}}),d}},55968:function(ae){function B(D,E,d){var S=[];return D.forEach(function(M){var v=(M.myFill.above?8:0)+(M.myFill.below?4:0)+(M.otherFill&&M.otherFill.above?2:0)+(M.otherFill&&M.otherFill.below?1:0);0!==E[v]&&S.push({id:d?d.segmentId():-1,start:M.start,end:M.end,myFill:{above:1===E[v],below:2===E[v]},otherFill:null})}),d&&d.selected(S),S}ae.exports={union:function(D,E){return B(D,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],E)},intersect:function(D,E){return B(D,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],E)},difference:function(D,E){return B(D,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],E)},differenceRev:function(D,E){return B(D,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],E)},xor:function(D,E){return B(D,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],E)}}},14847:function(ae,B,r){"use strict";var D=r(21630).Transform,E=r(90715);function d(){D.call(this,{readableObjectMode:!0})}function S(M,v,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||"",this.name=this.constructor.name,this.message=M,v&&(this.code=v),u&&(this.statusCode=u)}(d.prototype=Object.create(D.prototype)).constructor=d,E(d.prototype),B.OF=function(M,v,u){for(var i=v,s=0;s<u.length;)if(M[i++]!==u[s++])return!1;return!0},B.eG=function(M,v){var u=[],i=0;if(v&&"hex"===v)for(;i<M.length;)u.push(parseInt(M.slice(i,i+2),16)),i+=2;else for(;i<M.length;i++)u.push(255&M.charCodeAt(i));return u},B.mP=function(M,v){return M[v]|M[v+1]<<8},B.n8=function(M,v){return M[v+1]|M[v]<<8},B.nm=function(M,v){return M[v]|M[v+1]<<8|M[v+2]<<16|16777216*M[v+3]},B.Ag=function(M,v){return M[v+3]|M[v+2]<<8|M[v+1]<<16|16777216*M[v]},(S.prototype=Object.create(Error.prototype)).constructor=S},71371:function(ae){"use strict";function B(E,d){var S=new Error(E);return S.code=d,S}function r(E){try{return decodeURIComponent(escape(E))}catch{return E}}function D(E,d,S){this.input=E.subarray(d,S),this.start=d;var M=String.fromCharCode.apply(null,this.input.subarray(0,4));if("II*\0"!==M&&"MM\0*"!==M)throw B("invalid TIFF signature","EBADDATA");this.big_endian="M"===M[0]}D.prototype.each=function(E){this.aborted=!1;var d=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:d}];this.ifds_to_read.length>0&&!this.aborted;){var S=this.ifds_to_read.shift();S.offset&&this.scan_ifd(S.id,S.offset,E)}},D.prototype.read_uint16=function(E){var d=this.input;if(E+2>d.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?256*d[E]+d[E+1]:d[E]+256*d[E+1]},D.prototype.read_uint32=function(E){var d=this.input;if(E+4>d.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?16777216*d[E]+65536*d[E+1]+256*d[E+2]+d[E+3]:d[E]+256*d[E+1]+65536*d[E+2]+16777216*d[E+3]},D.prototype.is_subifd_link=function(E,d){return 0===E&&34665===d||0===E&&34853===d||34665===E&&40965===d},D.prototype.exif_format_length=function(E){switch(E){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},D.prototype.exif_format_read=function(E,d){var S;switch(E){case 1:case 2:return this.input[d];case 6:return(S=this.input[d])|33554430*(128&S);case 3:return this.read_uint16(d);case 8:return(S=this.read_uint16(d))|131070*(32768&S);case 4:return this.read_uint32(d);case 9:return 0|this.read_uint32(d);default:return null}},D.prototype.scan_ifd=function(E,d,S){var M=this.read_uint16(d);d+=2;for(var v=0;v<M;v++){var u=this.read_uint16(d),i=this.read_uint16(d+2),s=this.read_uint32(d+4),a=this.exif_format_length(i),o=s*a,l=o<=4?d+8:this.read_uint32(d+8),c=!1;if(l+o>this.input.length)throw B("unexpected EOF","EBADDATA");for(var f=[],g=l,h=0;h<s;h++,g+=a){var T=this.exif_format_read(i,g);if(null===T){f=null;break}f.push(T)}if(Array.isArray(f)&&2===i&&(f=r(String.fromCharCode.apply(null,f)))&&"\0"===f[f.length-1]&&(f=f.slice(0,-1)),this.is_subifd_link(E,u)&&Array.isArray(f)&&Number.isInteger(f[0])&&f[0]>0&&(this.ifds_to_read.push({id:u,offset:f[0]}),c=!0),!1===S({is_big_endian:this.big_endian,ifd:E,tag:u,format:i,count:s,entry_offset:d+this.start,data_length:o,data_offset:l+this.start,value:f,is_subifd_link:c}))return void(this.aborted=!0);d+=12}0===E&&this.ifds_to_read.push({id:1,offset:this.read_uint32(d)})},ae.exports.ExifParser=D,ae.exports.get_orientation=function(E){var d=0;try{return new D(E,0,E.length).each(function(S){if(0===S.ifd&&274===S.tag&&Array.isArray(S.value))return d=S.value[0],!1}),d}catch{return-1}}},76767:function(ae,B,r){"use strict";var D=r(14847).n8,E=r(14847).Ag;function d(s,a){if(s.length<4+a)return null;var o=E(s,a);return s.length<o+a||o<8?null:{boxtype:String.fromCharCode.apply(null,s.slice(a+4,a+8)),data:s.slice(a+8,a+o),end:a+o}}function S(s,a){for(var o=0;;){var l=d(s,o);if(!l)break;switch(l.boxtype){case"ispe":a.sizes.push({width:E(l.data,4),height:E(l.data,8)});break;case"irot":a.transforms.push({type:"irot",value:3&l.data[0]});break;case"imir":a.transforms.push({type:"imir",value:1&l.data[0]})}o=l.end}}function M(s,a,o){for(var l=0,c=0;c<o;c++)l=256*l+(s[a+c]||0);return l}function v(s,a){for(var o=s[4]>>4&15,l=15&s[4],c=s[5]>>4&15,f=D(s,6),g=8,h=0;h<f;h++){var T=D(s,g),x=D(s,g+=2),m=M(s,g+=2,c),b=D(s,g+=c);if(g+=2,0===x&&1===b){var _=M(s,g,o),w=M(s,g+o,l);a.item_loc[T]={length:w,offset:_+m}}g+=b*(o+l)}}function u(s,a){for(var o=D(s,4),l=6,c=0;c<o;c++){var f=d(s,l);if(!f)break;if("infe"===f.boxtype){for(var g=D(f.data,4),h="",T=8;T<f.data.length&&f.data[T];T++)h+=String.fromCharCode(f.data[T]);a.item_inf[h]=g}l=f.end}}function i(s,a){for(var o=0;;){var l=d(s,o);if(!l)break;"ipco"===l.boxtype&&S(l.data,a),o=l.end}}ae.exports.unbox=d,ae.exports.readSizeFromMeta=function(s){var a={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(T,x){for(var m=4;;){var b=d(T,m);if(!b)break;"iprp"===b.boxtype&&i(b.data,x),"iloc"===b.boxtype&&v(b.data,x),"iinf"===b.boxtype&&u(b.data,x),m=b.end}}(s,a),a.sizes.length){var o,l,c,f=(l=(o=a.sizes).reduce(function(T,x){return T.width>x.width||T.width===x.width&&T.height>x.height?T:x}),c=o.reduce(function(T,x){return T.height>x.height||T.height===x.height&&T.width>x.width?T:x}),l.width>c.height||l.width===c.height&&l.height>c.width?l:c),g=1;a.transforms.forEach(function(T){var x={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},m={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if("imir"===T.type&&(g=0===T.value?m[g]:x[g=x[g=m[g]]]),"irot"===T.type)for(var b=0;b<T.value;b++)g=x[g]});var h=null;return a.item_inf.Exif&&(h=a.item_loc[a.item_inf.Exif]),{width:f.width,height:f.height,orientation:a.transforms.length?g:null,variants:a.sizes,exif_location:h}}},ae.exports.getMimeType=function(s){var a=String.fromCharCode.apply(null,s.slice(0,4)),o={};o[a]=!0;for(var l=8;l<s.length;l+=4)o[String.fromCharCode.apply(null,s.slice(l,l+4))]=!0;if(o.mif1||o.msf1||o.miaf)return"avif"===a||"avis"===a||"avio"===a?{type:"avif",mime:"image/avif"}:"heic"===a||"heix"===a?{type:"heic",mime:"image/heic"}:"hevc"===a||"hevx"===a?{type:"heic",mime:"image/heic-sequence"}:o.avif||o.avis?{type:"avif",mime:"image/avif"}:o.heic||o.heix||o.hevc||o.hevx||o.heis?o.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,d=r(14847).Ag,S=r(76767),M=r(71371),v=D("ftyp");ae.exports=function(u){if(E(u,4,v)){var i=S.unbox(u,0);if(i){var s=S.getMimeType(i.data);if(s){for(var a,o=i.end;;){var l=S.unbox(u,o);if(!l)break;if(o=l.end,"mdat"===l.boxtype)return;if("meta"===l.boxtype){a=l.data;break}}if(a){var c=S.readSizeFromMeta(a);if(c){var f={width:c.width,height:c.height,type:s.type,mime:s.mime,wUnits:"px",hUnits:"px"};if(c.variants.length>1&&(f.variants=c.variants),c.orientation&&(f.orientation=c.orientation),c.exif_location&&c.exif_location.offset+c.exif_location.length<=u.length){var g=d(u,c.exif_location.offset),h=u.slice(c.exif_location.offset+g+4,c.exif_location.offset+c.exif_location.length),T=M.get_orientation(h);T>0&&(f.orientation=T)}return f}}}}}}},2504:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,d=r(14847).mP,S=D("BM");ae.exports=function(M){if(!(M.length<26)&&E(M,0,S))return{width:d(M,18),height:d(M,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,d=r(14847).mP,S=D("GIF87a"),M=D("GIF89a");ae.exports=function(v){if(!(v.length<10)&&(E(v,0,S)||E(v,0,M)))return{width:d(v,6),height:d(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(ae,B,r){"use strict";var D=r(14847).mP;ae.exports=function(E){var d=D(E,0),S=D(E,2),M=D(E,4);if(0===d&&1===S&&M){for(var v=[],u={width:0,height:0},i=0;i<M;i++){var s=E[6+16*i]||256,a=E[6+16*i+1]||256,o={width:s,height:a};v.push(o),(s>u.width||a>u.height)&&(u=o)}return{width:u.width,height:u.height,variants:v,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(ae,B,r){"use strict";var D=r(14847).n8,E=r(14847).eG,d=r(14847).OF,S=r(71371),M=E("Exif\0\0");ae.exports=function(v){if(!(v.length<2)&&255===v[0]&&216===v[1]&&255===v[2])for(var u=2;;){for(;;){if(v.length-u<2)return;if(255===v[u++])break}for(var i,s,a=v[u++];255===a;)a=v[u++];if(208<=a&&a<=217||1===a)i=0;else{if(!(192<=a&&a<=254)||v.length-u<2)return;i=D(v,u)-2,u+=2}if(217===a||218===a)return;if(225===a&&i>=10&&d(v,u,M)&&(s=S.get_orientation(v.slice(u+6,u+i))),i>=5&&192<=a&&a<=207&&196!==a&&200!==a&&204!==a){if(v.length-u<i)return;var o={width:D(v,u+3),height:D(v,u+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(o.orientation=s),o}u+=i}}},6303:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,d=r(14847).Ag,S=D("\x89PNG\r\n\x1a\n"),M=D("IHDR");ae.exports=function(v){if(!(v.length<24)&&E(v,0,S)&&E(v,12,M))return{width:d(v,16),height:d(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,d=r(14847).Ag,S=D("8BPS\0\x01");ae.exports=function(M){if(!(M.length<22)&&E(M,0,S))return{width:d(M,18),height:d(M,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(ae){"use strict";function B(u){return"number"==typeof u&&isFinite(u)&&u>0}var r=/<[-_.:a-zA-Z0-9][^>]*>/,D=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,E=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,d=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,S=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,M=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function v(u){return M.test(u)?u.match(M)[0]:"px"}ae.exports=function(u){if(function(m){var b,_=0,w=m.length;for(239===m[0]&&187===m[1]&&191===m[2]&&(_=3);_<w&&(32===(b=m[_])||9===b||13===b||10===b);)_++;return _!==w&&60===m[_]}(u)){for(var i="",s=0;s<u.length;s++)i+=String.fromCharCode(u[s]);var a=(i.match(r)||[""])[0];if(D.test(a)){var o=(b=(m=a).match(E),_=m.match(d),w=m.match(S),{width:b&&(b[1]||b[2]),height:_&&(_[1]||_[2]),viewbox:w&&(w[1]||w[2])}),l=parseFloat(o.width),c=parseFloat(o.height);if(o.width&&o.height)return B(l)&&B(c)?{width:l,height:c,type:"svg",mime:"image/svg+xml",wUnits:v(o.width),hUnits:v(o.height)}:void 0;var f=(o.viewbox||"").split(" "),g={width:f[2],height:f[3]},h=parseFloat(g.width),T=parseFloat(g.height);if(B(h)&&B(T)&&v(g.width)===v(g.height)){var x=h/T;return o.width?B(l)?{width:l,height:l/x,type:"svg",mime:"image/svg+xml",wUnits:v(o.width),hUnits:v(o.width)}:void 0:o.height?B(c)?{width:c*x,height:c,type:"svg",mime:"image/svg+xml",wUnits:v(o.height),hUnits:v(o.height)}:void 0:{width:h,height:T,type:"svg",mime:"image/svg+xml",wUnits:v(g.width),hUnits:v(g.height)}}}}var m,b,_,w}},66278:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,d=r(14847).mP,S=r(14847).n8,M=r(14847).nm,v=r(14847).Ag,u=D("II*\0"),i=D("MM\0*");function s(l,c,f){return f?S(l,c):d(l,c)}function a(l,c,f){return f?v(l,c):M(l,c)}function o(l,c,f){var g=s(l,c+2,f);return 1!==a(l,c+4,f)||3!==g&&4!==g?null:3===g?s(l,c+8,f):a(l,c+8,f)}ae.exports=function(l){if(!(l.length<8)&&(E(l,0,u)||E(l,0,i))){var c=77===l[0],f=a(l,4,c)-8;if(!(f<0)){var g=f+8;if(!(l.length-g<2)){var h=12*s(l,g+0,c);if(!(h<=0||(g+=2,l.length-g<h))){var T,x,m,b;for(T=0;T<h;T+=12)256===(b=s(l,g+T,c))?x=o(l,g+T,c):257===b&&(m=o(l,g+T,c));return x&&m?{width:x,height:m,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(ae,B,r){"use strict";var D=r(14847).eG,E=r(14847).OF,d=r(14847).mP,S=r(14847).nm,M=r(71371),v=D("RIFF"),u=D("WEBP");function i(o,l){if(157===o[l+3]&&1===o[l+4]&&42===o[l+5])return{width:16383&d(o,l+6),height:16383&d(o,l+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function s(o,l){if(47===o[l]){var c=S(o,l+1);return{width:1+(16383&c),height:1+(c>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(o,l){return{width:1+(o[l+6]<<16|o[l+5]<<8|o[l+4]),height:1+(o[l+9]<<l|o[l+8]<<8|o[l+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}ae.exports=function(o){if(!(o.length<16)&&(E(o,0,v)||E(o,8,u))){var l=12,c=null,f=0,g=S(o,4)+8;if(!(g>o.length)){for(;l+8<g;)if(0!==o[l]){var h=String.fromCharCode.apply(null,o.slice(l,l+4)),T=S(o,l+4);"VP8 "===h&&T>=10?c=c||i(o,l+8):"VP8L"===h&&T>=9?c=c||s(o,l+8):"VP8X"===h&&T>=10?c=c||a(o,l+8):"EXIF"===h&&(f=M.get_orientation(o.slice(l+8,l+8+T)),l=1/0),l+=8+T}else l++;if(c)return f>0&&(c.orientation=f),c}}}},91497:function(ae,B,r){"use strict";ae.exports={avif:r(24461),bmp:r(2504),gif:r(47342),ico:r(31355),jpeg:r(54261),png:r(6303),psd:r(38689),svg:r(6881),tiff:r(66278),webp:r(90784)}},33575:function(ae,B,r){"use strict";var D=r(91497);ae.exports=function(E){return function(d){for(var S=Object.keys(D),M=0;M<S.length;M++){var v=D[S[M]](d);if(v)return v}return null}(E)},ae.exports.parsers=D},90386:function(ae){var B,r,D=ae.exports={};function E(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function S(c){if(B===setTimeout)return setTimeout(c,0);if((B===E||!B)&&setTimeout)return B=setTimeout,setTimeout(c,0);try{return B(c,0)}catch{try{return B.call(null,c,0)}catch{return B.call(this,c,0)}}}!function(){try{B="function"==typeof setTimeout?setTimeout:E}catch{B=E}try{r="function"==typeof clearTimeout?clearTimeout:d}catch{r=d}}();var M,v=[],u=!1,i=-1;function s(){u&&M&&(u=!1,M.length?v=M.concat(v):i=-1,v.length&&a())}function a(){if(!u){var c=S(s);u=!0;for(var f=v.length;f;){for(M=v,v=[];++i<f;)M&&M[i].run();i=-1,f=v.length}M=null,u=!1,function(g){if(r===clearTimeout)return clearTimeout(g);if((r===d||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(g);try{r(g)}catch{try{return r.call(null,g)}catch{return r.call(this,g)}}}(c)}}function o(c,f){this.fun=c,this.array=f}function l(){}D.nextTick=function(c){var f=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)f[g-1]=arguments[g];v.push(new o(c,f)),1!==v.length||u||S(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={},D.on=l,D.addListener=l,D.once=l,D.off=l,D.removeListener=l,D.removeAllListeners=l,D.emit=l,D.prependListener=l,D.prependOnceListener=l,D.listeners=function(c){return[]},D.binding=function(c){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function(c){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}},5877:function(ae,B,r){for(var D=r(9748),E=typeof window>"u"?r.g:window,d=["moz","webkit"],S="AnimationFrame",M=E["request"+S],v=E["cancel"+S]||E["cancelRequest"+S],u=0;!M&&u<d.length;u++)M=E[d[u]+"Request"+S],v=E[d[u]+"Cancel"+S]||E[d[u]+"CancelRequest"+S];if(!M||!v){var i=0,s=0,a=[];M=function(o){if(0===a.length){var l=D(),c=Math.max(0,16.666666666666668-(l-i));i=c+l,setTimeout(function(){var f=a.slice(0);a.length=0;for(var g=0;g<f.length;g++)if(!f[g].cancelled)try{f[g].callback(i)}catch(h){setTimeout(function(){throw h},0)}},Math.round(c))}return a.push({handle:++s,callback:o,cancelled:!1}),s},v=function(o){for(var l=0;l<a.length;l++)a[l].handle===o&&(a[l].cancelled=!0)}}ae.exports=function(o){return M.call(E,o)},ae.exports.cancel=function(){v.apply(E,arguments)},ae.exports.polyfill=function(o){o||(o=E),o.requestAnimationFrame=M,o.cancelAnimationFrame=v}},3593:function(ae,B,r){"use strict";var D=r(21527),E=r(25075),d=r(93447),S=r(71299),M=r(56131),v=r(30120),u=r(57060),i=u.float32,s=u.fract32;ae.exports=function(o,l){if("function"==typeof o?(l||(l={}),l.regl=o):l=o,l.length&&(l.positions=l),!(o=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var c,f,g,h,T,x,m=o._gl,b={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},_=[];return h=o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),f=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),x=o.buffer({usage:"static",type:"float",data:a}),I(l),c=o({vert:"\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",frag:"\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",uniforms:{range:o.prop("range"),lineWidth:o.prop("lineWidth"),capSize:o.prop("capSize"),opacity:o.prop("opacity"),scale:o.prop("scale"),translate:o.prop("translate"),scaleFract:o.prop("scaleFract"),translateFract:o.prop("translateFract"),viewport:function(L,O){return[O.viewport.x,O.viewport.y,L.viewportWidth,L.viewportHeight]}},attributes:{color:{buffer:h,offset:function(L,O){return 4*O.offset},divisor:1},position:{buffer:f,offset:function(L,O){return 8*O.offset},divisor:1},positionFract:{buffer:g,offset:function(L,O){return 8*O.offset},divisor:1},error:{buffer:T,offset:function(L,O){return 16*O.offset},divisor:1},direction:{buffer:x,stride:24,offset:0},lineOffset:{buffer:x,stride:24,offset:8},capOffset:{buffer:x,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:!1,instances:o.prop("count"),count:a.length}),M(w,{update:I,draw:A,destroy:k,regl:o,gl:m,canvas:m.canvas,groups:_}),w;function w(L){L?I(L):null===L&&k(),A()}function A(L){if("number"==typeof L)return p(L);L&&!Array.isArray(L)&&(L=[L]),o._refresh(),_.forEach(function(O,P){O&&(L&&(O.draw=!!L[P]),O.draw?p(P):O.draw=!0)})}function p(L){"number"==typeof L&&(L=_[L]),null!=L&&L&&L.count&&L.color&&L.opacity&&L.positions&&L.positions.length>1&&(L.scaleRatio=[L.scale[0]*L.viewport.width,L.scale[1]*L.viewport.height],c(L),L.after&&L.after(L))}function I(L){if(L){null!=L.length?"number"==typeof L[0]&&(L=[{positions:L}]):Array.isArray(L)||(L=[L]);var O=0,P=0;if(w.groups=_=L.map(function(H,Z){var $=_[Z];return H&&("function"==typeof H?H={after:H}:"number"==typeof H[0]&&(H={positions:H}),H=S(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),$||(_[Z]=$={id:Z,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=M({},b,H)),d($,H,[{lineWidth:function(se){return.5*+se},capSize:function(se){return.5*+se},opacity:parseFloat,errors:function(se){return se=v(se),P+=se.length,se},positions:function(se,ne){return se=v(se,"float64"),ne.count=Math.floor(se.length/2),ne.bounds=D(se,2),ne.offset=O,O+=ne.count,se}},{color:function(se,ne){var re=ne.count;if(se||(se="transparent"),!Array.isArray(se)||"number"==typeof se[0]){var Q=se;se=Array(re);for(var ee=0;ee<re;ee++)se[ee]=Q}if(se.length<re)throw Error("Not enough colors");for(var oe=new Uint8Array(4*re),ce=0;ce<re;ce++){var ue=E(se[ce],"uint8");oe.set(ue,4*ce)}return oe},range:function(se,ne,re){return se||(se=ne.bounds),ne.scale=[1/(se[2]-se[0]),1/(se[3]-se[1])],ne.translate=[-se[0],-se[1]],ne.scaleFract=s(ne.scale),ne.translateFract=s(ne.translate),se},viewport:function(se){var ne;return Array.isArray(se)?ne={x:se[0],y:se[1],width:se[2]-se[0],height:se[3]-se[1]}:se?((ne={x:se.x||se.left||0,y:se.y||se.top||0}).width=se.right?se.right-ne.x:se.w||se.width||0,ne.height=se.bottom?se.bottom-ne.y:se.h||se.height||0):ne={x:0,y:0,width:m.drawingBufferWidth,height:m.drawingBufferHeight},ne}}])),$}),O||P){var F=_.reduce(function(H,Z,$){return H+(Z?Z.count:0)},0),j=new Float64Array(2*F),X=new Uint8Array(4*F),N=new Float32Array(4*F);_.forEach(function(H,Z){if(H){var $=H.positions,ne=H.offset,Q=H.errors;H.count&&(X.set(H.color,4*ne),N.set(Q,4*ne),j.set($,2*ne))}});var q=i(j);f(q);var G=s(j,q);g(G),h(X),T(N)}}}function k(){f.destroy(),g.destroy(),h.destroy(),T.destroy(),x.destroy()}};var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(ae,B,r){"use strict";var D=r(25075),E=r(21527),d=r(56131),S=r(56068),M=r(71299),v=r(30120),u=r(11474),i=r(54),s=r(57060),a=s.float32,o=s.fract32,l=r(83522),c=r(18863),f=r(6851);function g(h,T){if(!(this instanceof g))return new g(h,T);if("function"==typeof h?(T||(T={}),T.regl=h):T=h,T.length&&(T.positions=T),!(h=T.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=g.shaders.has(h)?g.shaders.get(h):g.shaders.set(h,g.createShaders(h)).get(h),this.update(T)}ae.exports=g,g.dashMult=2,g.maxPatternLength=256,g.precisionThreshold=3e6,g.maxPoints=1e4,g.maxLines=2048,g.shaders=new l,g.createShaders=function(h){var T,x=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),m={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(_,w){return"round"===w.join?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(_,w){return[w.viewport.x,w.viewport.y,_.viewportWidth,_.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(_,w){return!w.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},b=h(d({vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:x,divisor:0,stride:8,offset:0},lineTop:{buffer:x,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},m));try{T=h(d({cull:{enable:!0,face:"back"},vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nuniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;\nuniform sampler2D dashTexture;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;\n\tfloat dash = texture2D(dashTexture, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),attributes:{lineEnd:{buffer:x,divisor:0,stride:8,offset:0},lineTop:{buffer:x,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},m))}catch{T=b}return{fill:h({primitive:"triangle",elements:function(_,w){return w.triangles},offset:0,vert:S(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),frag:S(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(_,w){return[w.viewport.x,w.viewport.y,_.viewportWidth,_.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:m.blend,depth:{enable:!1},scissor:m.scissor,stencil:m.stencil,viewport:m.viewport}),rect:b,miter:T}},g.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},g.prototype.render=function(){for(var h,T=[],x=arguments.length;x--;)T[x]=arguments[x];T.length&&(h=this).update.apply(h,T),this.draw()},g.prototype.draw=function(){for(var h=this,T=[],x=arguments.length;x--;)T[x]=arguments[x];return(T.length?T:this.passes).forEach(function(m,b){var _;if(m&&Array.isArray(m))return(_=h).draw.apply(_,m);"number"==typeof m&&(m=h.passes[m]),m&&m.count>1&&m.opacity&&(h.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&h.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>g.precisionThreshold||m.scale[1]*m.viewport.height>g.precisionThreshold||"rect"===m.join||!m.join&&(m.thickness<=2||m.count>=g.maxPoints)?h.shaders.rect(m):h.shaders.miter(m)))}),this},g.prototype.update=function(h){var T=this;if(h){null!=h.length?"number"==typeof h[0]&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var x=this.regl,m=this.gl;if(h.forEach(function(p,I){var k=T.passes[I];if(void 0!==p)if(null!==p){if("number"==typeof p[0]&&(p={positions:p}),p=M(p,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),k||(T.passes[I]=k={id:I,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:x.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:x.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:x.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},p=d({},g.defaults,p)),null!=p.thickness&&(k.thickness=parseFloat(p.thickness)),null!=p.opacity&&(k.opacity=parseFloat(p.opacity)),null!=p.miterLimit&&(k.miterLimit=parseFloat(p.miterLimit)),null!=p.overlay&&(k.overlay=!!p.overlay,I<g.maxLines&&(k.depth=2*(g.maxLines-1-I%g.maxLines)/g.maxLines-1)),null!=p.join&&(k.join=p.join),null!=p.hole&&(k.hole=p.hole),null!=p.fill&&(k.fill=p.fill?D(p.fill,"uint8"):null),null!=p.viewport&&(k.viewport=c(p.viewport)),k.viewport||(k.viewport=c([m.drawingBufferWidth,m.drawingBufferHeight])),null!=p.close&&(k.close=p.close),null===p.positions&&(p.positions=[]),p.positions){var L,O;if(p.positions.x&&p.positions.y){var P=p.positions.x,F=p.positions.y;O=k.count=Math.max(P.length,F.length),L=new Float64Array(2*O);for(var j=0;j<O;j++)L[2*j]=P[j],L[2*j+1]=F[j]}else L=v(p.positions,"float64"),O=k.count=Math.floor(L.length/2);var X=k.bounds=E(L,2);if(k.fill){for(var N=[],q={},G=0,H=0,Z=0,$=k.count;H<$;H++){var se=L[2*H],ne=L[2*H+1];isNaN(se)||isNaN(ne)||null==se||null==ne?(se=L[2*G],ne=L[2*G+1],q[H]=G):G=H,N[Z++]=se,N[Z++]=ne}if(p.splitNull){k.count-1 in q||(q[k.count]=k.count-1);var re=Object.keys(q).map(Number).sort(function(vt,gt){return vt-gt}),Q=[],ee=0,oe=null!=k.hole?k.hole[0]:null;if(null!=oe){var ce=f(re,function(vt){return vt>=oe});(re=re.slice(0,ce)).push(oe)}for(var ue=function(vt){var gt=N.slice(2*ee,2*re[vt]).concat(oe?N.slice(2*oe):[]),Et=(k.hole||[]).map(function(Ot){return Ot-oe+(re[vt]-ee)}),Pt=u(gt,Et);Pt=Pt.map(function(Ot){return Ot+ee+(Ot+ee<re[vt]?0:oe-re[vt])}),Q.push.apply(Q,Pt),ee=re[vt]+1},he=0;he<re.length;he++)ue(he);for(var ve=0,ke=Q.length;ve<ke;ve++)null!=q[Q[ve]]&&(Q[ve]=q[Q[ve]]);k.triangles=Q}else{for(var Ie=u(N,k.hole||[]),Me=0,_e=Ie.length;Me<_e;Me++)null!=q[Ie[Me]]&&(Ie[Me]=q[Ie[Me]]);k.triangles=Ie}}var we=new Float64Array(L);i(we,2,X);var ze=new Float64Array(2*O+6);k.close?L[0]===L[2*O-2]&&L[1]===L[2*O-1]?(ze[0]=we[2*O-4],ze[1]=we[2*O-3]):(ze[0]=we[2*O-2],ze[1]=we[2*O-1]):(ze[0]=we[0],ze[1]=we[1]),ze.set(we,2),k.close?L[0]===L[2*O-2]&&L[1]===L[2*O-1]?(ze[2*O+2]=we[2],ze[2*O+3]=we[3],k.count-=1):(ze[2*O+2]=we[0],ze[2*O+3]=we[1],ze[2*O+4]=we[2],ze[2*O+5]=we[3]):(ze[2*O+2]=we[2*O-2],ze[2*O+3]=we[2*O-1],ze[2*O+4]=we[2*O-2],ze[2*O+5]=we[2*O-1]);var Ee=a(ze);k.positionBuffer(Ee);var Se=o(ze,Ee);k.positionFractBuffer(Se)}if(p.range?k.range=p.range:k.range||(k.range=k.bounds),(p.range||p.positions)&&k.count){var me=k.bounds,Te=k.range[2]-k.range[0],Re=k.range[3]-k.range[1];k.scale=[(me[2]-me[0])/Te,(me[3]-me[1])/Re],k.translate=[-k.range[0]/Te+me[0]/Te||0,-k.range[1]/Re+me[1]/Re||0],k.scaleFract=o(k.scale),k.translateFract=o(k.translate)}if(p.dashes){var De,Ue=0;if(!p.dashes||p.dashes.length<2)Ue=1,De=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ue=0;for(var Ze=0;Ze<p.dashes.length;++Ze)Ue+=p.dashes[Ze];De=new Uint8Array(Ue*g.dashMult);for(var xe=0,Oe=255,Ce=0;Ce<2;Ce++)for(var Be=0;Be<p.dashes.length;++Be){for(var qe=0,He=p.dashes[Be]*g.dashMult*.5;qe<He;++qe)De[xe++]=Oe;Oe^=255}}k.dashLength=Ue,k.dashTexture({channels:1,data:De,width:De.length,height:1,mag:"linear",min:"linear"},0,0)}if(p.color){var Je=k.count,et=p.color;et||(et="transparent");var st=new Uint8Array(4*Je+4);if(Array.isArray(et)&&"number"!=typeof et[0]){for(var pt=0;pt<Je;pt++){var ct=D(et[pt],"uint8");st.set(ct,4*pt)}st.set(D(et[0],"uint8"),4*Je)}else for(var St=D(et,"uint8"),Dt=0;Dt<Je+1;Dt++)st.set(St,4*Dt);k.colorBuffer({usage:"dynamic",type:"uint8",data:st})}}else T.passes[I]=null}),h.length<this.passes.length){for(var b=h.length;b<this.passes.length;b++){var _=this.passes[b];_&&(_.colorBuffer.destroy(),_.positionBuffer.destroy(),_.dashTexture.destroy())}this.passes.length=h.length}for(var w=[],A=0;A<this.passes.length;A++)null!==this.passes[A]&&w.push(this.passes[A]);return this.passes=w,this}},g.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(ae,B,r){"use strict";function D(m,b){return function(_){if(Array.isArray(_))return _}(m)||function(_,w){var A=null==_?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(null!=A){var p,I,k,L,O=[],P=!0,F=!1;try{if(k=(A=A.call(_)).next,0===w){if(Object(A)!==A)return;P=!1}else for(;!(P=(p=k.call(A)).done)&&(O.push(p.value),O.length!==w);P=!0);}catch(j){F=!0,I=j}finally{try{if(!P&&null!=A.return&&(L=A.return(),Object(L)!==L))return}finally{if(F)throw I}}return O}}(m,b)||E(m,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(m,b){if(m){if("string"==typeof m)return d(m,b);var _=Object.prototype.toString.call(m).slice(8,-1);return"Object"===_&&m.constructor&&(_=m.constructor.name),"Map"===_||"Set"===_?Array.from(m):"Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?d(m,b):void 0}}function d(m,b){(null==b||b>m.length)&&(b=m.length);for(var _=0,w=new Array(b);_<b;_++)w[_]=m[_];return w}var S=r(25075),M=r(21527),v=r(6475),u=r(88294),i=r(56131),s=r(56068),a=r(71299),o=r(93447),l=r(30120),c=r(62683),f=r(57060),g=r(18863),h=T;function T(m,b){var _=this;if(!(this instanceof T))return new T(m,b);"function"==typeof m?(b||(b={}),b.regl=m):(b=m,m=null),b&&b.length&&(b.positions=b);var w,A=(m=b.regl)._gl,p=[];this.tooManyColors=c,w=m.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),i(this,{regl:m,gl:A,groups:[],markerCache:[null],markerTextures:[null],palette:p,paletteIds:{},paletteTexture:w,maxColors:255,maxSize:100,canvas:A.canvas}),this.update(b);var I={uniforms:{constPointSize:!!b.constPointSize,opacity:m.prop("opacity"),paletteSize:function(O,P){return[_.tooManyColors?0:255,w.height]},pixelRatio:m.context("pixelRatio"),scale:m.prop("scale"),scaleFract:m.prop("scaleFract"),translate:m.prop("translate"),translateFract:m.prop("translateFract"),markerTexture:m.prop("markerTexture"),paletteTexture:w},attributes:{x:function(O,P){return P.xAttr||{buffer:P.positionBuffer,stride:8,offset:0}},y:function(O,P){return P.yAttr||{buffer:P.positionBuffer,stride:8,offset:4}},xFract:function(O,P){return P.xAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:0}},yFract:function(O,P){return P.yAttr?{constant:[0,0]}:{buffer:P.positionFractBuffer,stride:8,offset:4}},size:function(O,P){return P.size.length?{buffer:P.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*P.size/_.maxSize)]}},borderSize:function(O,P){return P.borderSize.length?{buffer:P.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*P.borderSize/_.maxSize)]}},colorId:function(O,P){return P.color.length?{buffer:P.colorBuffer,stride:_.tooManyColors?8:4,offset:0}:{constant:_.tooManyColors?p.slice(4*P.color,4*P.color+4):[P.color]}},borderColorId:function(O,P){return P.borderColor.length?{buffer:P.colorBuffer,stride:_.tooManyColors?8:4,offset:_.tooManyColors?4:2}:{constant:_.tooManyColors?p.slice(4*P.borderColor,4*P.borderColor+4):[P.borderColor]}},isActive:function(O,P){return!0===P.activation?{constant:[1]}:P.activation?P.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:m.prop("viewport")},viewport:m.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:m.prop("elements"),count:m.prop("count"),offset:m.prop("offset"),primitive:"points"},k=i({},I);k.frag=s(["precision highp float;\n#define GLSLIFY 1\n\nuniform float opacity;\nuniform sampler2D markerTexture;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),k.vert=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),this.drawMarker=m(k);var L=i({},I);L.frag=s(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nuniform float opacity;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),L.vert=s(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform bool constPointSize;\nuniform float pixelRatio;\nuniform vec2 paletteSize, scale, scaleFract, translate, translateFract;\nuniform sampler2D paletteTexture;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(paletteTexture,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),c&&(L.frag=L.frag.replace("smoothstep","smoothStep"),k.frag=k.frag.replace("smoothstep","smoothStep")),this.drawCircle=m(L)}T.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},T.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},T.prototype.draw=function(){for(var m=this,b=arguments.length,_=new Array(b),w=0;w<b;w++)_[w]=arguments[w];var A=this.groups;if(1===_.length&&Array.isArray(_[0])&&(null===_[0][0]||Array.isArray(_[0][0]))&&(_=_[0]),this.regl._refresh(),_.length)for(var p=0;p<_.length;p++)this.drawItem(p,_[p]);else A.forEach(function(I,k){m.drawItem(k)});return this},T.prototype.drawItem=function(m,b){var _,w=this.groups,A=w[m];if("number"==typeof b&&(m=b,A=w[b],b=null),A&&A.count&&A.opacity){A.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,A,b));for(var p=[],I=1;I<A.activation.length;I++)A.activation[I]&&(!0===A.activation[I]||A.activation[I].data.length)&&p.push.apply(p,function(k){if(Array.isArray(k))return d(k)}(_=this.getMarkerDrawOptions(I,A,b))||function(k){if(typeof Symbol<"u"&&null!=k[Symbol.iterator]||null!=k["@@iterator"])return Array.from(k)}(_)||E(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());p.length&&this.drawMarker(p)}},T.prototype.getMarkerDrawOptions=function(m,b,_){var w=b.range,A=b.tree,p=b.viewport,I=b.activation,k=b.selectionBuffer,L=b.count;if(!A)return _?[i({},b,{markerTexture:this.markerTextures[m],activation:I[m],count:_.length,elements:_,offset:0})]:[i({},b,{markerTexture:this.markerTextures[m],activation:I[m],offset:0})];var O=[],P=A.range(w,{lod:!0,px:[(w[2]-w[0])/p.width,(w[3]-w[1])/p.height]});if(_){for(var F=I[m].data,j=new Uint8Array(L),X=0;X<_.length;X++){var N=_[X];j[N]=F?F[N]:1}k.subdata(j)}for(var q=P.length;q--;){var G=D(P[q],2),H=G[0];O.push(i({},b,{markerTexture:this.markerTextures[m],activation:_?k:I[m],offset:H,count:G[1]-H}))}return O},T.prototype.update=function(){for(var m=this,b=arguments.length,_=new Array(b),w=0;w<b;w++)_[w]=arguments[w];if(_.length){1===_.length&&Array.isArray(_[0])&&(_=_[0]);var A=this.groups,p=this.gl,I=this.regl,k=this.maxSize,L=this.maxColors,O=this.palette;this.groups=A=_.map(function(P,F){var j=A[F];if(void 0===P)return j;null===P?P={positions:null}:"function"==typeof P?P={ondraw:P}:"number"==typeof P[0]&&(P={positions:P}),null===(P=a(P,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions&&(P.positions=[]),null!=P.tooManyColors&&(m.tooManyColors=P.tooManyColors),j||(A[F]=j={id:F,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:I.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:I.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},P=i({},T.defaults,P)),P.positions&&!("marker"in P)&&(P.marker=j.marker,delete j.marker),P.marker&&!("positions"in P)&&(P.positions=j.positions,delete j.positions);var X=0,N=0;if(o(j,P,[{snap:!0,size:function(Me,_e){return null==Me&&(Me=T.defaults.size),X+=Me&&Me.length?1:0,Me},borderSize:function(Me,_e){return null==Me&&(Me=T.defaults.borderSize),X+=Me&&Me.length?1:0,Me},opacity:parseFloat,color:function(Me,_e){return null==Me&&(Me=T.defaults.color),Me=m.updateColor(Me),N++,Me},borderColor:function(Me,_e){return null==Me&&(Me=T.defaults.borderColor),Me=m.updateColor(Me),N++,Me},bounds:function(Me,_e,we){return"range"in we||(we.range=null),Me},positions:function(Me,_e,we){var ze=_e.snap,Ee=_e.positionBuffer,Se=_e.positionFractBuffer,me=_e.selectionBuffer;if(Me.x||Me.y)return _e.xAttr=Me.x.length?{buffer:I.buffer(Me.x),offset:0,stride:4,count:Me.x.length}:{buffer:Me.x.buffer,offset:4*Me.x.offset||0,stride:4*(Me.x.stride||1),count:Me.x.count},_e.yAttr=Me.y.length?{buffer:I.buffer(Me.y),offset:0,stride:4,count:Me.y.length}:{buffer:Me.y.buffer,offset:4*Me.y.offset||0,stride:4*(Me.y.stride||1),count:Me.y.count},_e.count=Math.max(_e.xAttr.count,_e.yAttr.count),Me;Me=l(Me,"float64");var fe=_e.count=Math.floor(Me.length/2),le=_e.bounds=fe?M(Me,2):null;if(we.range||_e.range||(delete _e.range,we.range=le),we.marker||_e.marker||(delete _e.marker,we.marker=null),ze&&(!0===ze||fe>ze)?_e.tree=u(Me,{bounds:le}):ze&&ze.length&&(_e.tree=ze),_e.tree){var Te={primitive:"points",usage:"static",data:_e.tree,type:"uint32"};_e.elements?_e.elements(Te):_e.elements=I.elements(Te)}var Re=f.float32(Me);return Ee({data:Re,usage:"dynamic"}),Se({data:f.fract32(Me,Re),usage:"dynamic"}),me({data:new Uint8Array(fe),type:"uint8",usage:"stream"}),Me}},{marker:function(Me,_e,we){var ze=_e.activation;if(ze.forEach(function(Re){return Re&&Re.destroy&&Re.destroy()}),ze.length=0,Me&&"number"!=typeof Me[0]){for(var Ee=[],Se=0,me=Math.min(Me.length,_e.count);Se<me;Se++){var fe=m.addMarker(Me[Se]);Ee[fe]||(Ee[fe]=new Uint8Array(_e.count)),Ee[fe][Se]=1}for(var le=0;le<Ee.length;le++)if(Ee[le]){var Te={data:Ee[le],type:"uint8",usage:"static"};ze[le]?ze[le](Te):ze[le]=I.buffer(Te),ze[le].data=Ee[le]}}else ze[m.addMarker(Me)]=!0;return Me},range:function(Me,_e,we){var ze=_e.bounds;if(ze)return Me||(Me=ze),_e.scale=[1/(Me[2]-Me[0]),1/(Me[3]-Me[1])],_e.translate=[-Me[0],-Me[1]],_e.scaleFract=f.fract(_e.scale),_e.translateFract=f.fract(_e.translate),Me},viewport:function(Me){return g(Me||[p.drawingBufferWidth,p.drawingBufferHeight])}}]),X){var G=j.count,H=j.size,Z=j.borderSize,$=j.sizeBuffer,se=new Uint8Array(2*G);if(H.length||Z.length)for(var ne=0;ne<G;ne++)se[2*ne]=Math.round(255*(null==H[ne]?H:H[ne])/k),se[2*ne+1]=Math.round(255*(null==Z[ne]?Z:Z[ne])/k);$({data:se,usage:"dynamic"})}if(N){var re,ee=j.count,oe=j.color,ce=j.borderColor,ue=j.colorBuffer;if(m.tooManyColors){if(oe.length||ce.length){re=new Uint8Array(8*ee);for(var he=0;he<ee;he++){var ve=oe[he];re[8*he]=O[4*ve],re[8*he+1]=O[4*ve+1],re[8*he+2]=O[4*ve+2],re[8*he+3]=O[4*ve+3];var ke=ce[he];re[8*he+4]=O[4*ke],re[8*he+5]=O[4*ke+1],re[8*he+6]=O[4*ke+2],re[8*he+7]=O[4*ke+3]}}}else if(oe.length||ce.length){re=new Uint8Array(4*ee+2);for(var Ie=0;Ie<ee;Ie++)null!=oe[Ie]&&(re[4*Ie]=oe[Ie]%L,re[4*Ie+1]=Math.floor(oe[Ie]/L)),null!=ce[Ie]&&(re[4*Ie+2]=ce[Ie]%L,re[4*Ie+3]=Math.floor(ce[Ie]/L))}ue({data:re||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return j})}},T.prototype.addMarker=function(m){var b,_=this.markerTextures,w=this.regl,A=this.markerCache,p=null==m?0:A.indexOf(m);if(p>=0)return p;if(m instanceof Uint8Array||m instanceof Uint8ClampedArray)b=m;else{b=new Uint8Array(m.length);for(var I=0,k=m.length;I<k;I++)b[I]=255*m[I]}var L=Math.floor(Math.sqrt(b.length));return p=_.length,A.push(m),_.push(w.texture({channels:1,data:b,radius:L,mag:"linear",min:"linear"})),p},T.prototype.updateColor=function(m){var b=this.paletteIds,_=this.palette,w=this.maxColors;Array.isArray(m)||(m=[m]);var A=[];if("number"==typeof m[0]){var p=[];if(Array.isArray(m))for(var I=0;I<m.length;I+=4)p.push(m.slice(I,I+4));else for(var k=0;k<m.length;k+=4)p.push(m.subarray(k,k+4));m=p}for(var L=0;L<m.length;L++){var O=m[L];O=S(O,"uint8");var P=v(O,!1);if(null==b[P]){var F=_.length;b[P]=Math.floor(F/4),_[F]=O[0],_[F+1]=O[1],_[F+2]=O[2],_[F+3]=O[3]}A[L]=b[P]}return!this.tooManyColors&&_.length>4*w&&(this.tooManyColors=!0),this.updatePalette(_),1===A.length?A[0]:A},T.prototype.updatePalette=function(m){if(!this.tooManyColors){var b=this.maxColors,_=this.paletteTexture,w=Math.ceil(.25*m.length/b);if(w>1)for(var A=.25*(m=m.slice()).length%b;A<w*b;A++)m.push(0,0,0,0);_.height<w&&_.resize(b,w),_.subimage({width:Math.min(.25*m.length,b),height:w,data:m},0,0)}},T.prototype.destroy=function(){return this.groups.forEach(function(m){m.sizeBuffer.destroy(),m.positionBuffer.destroy(),m.positionFractBuffer.destroy(),m.colorBuffer.destroy(),m.activation.forEach(function(b){return b&&b.destroy&&b.destroy()}),m.selectionBuffer.destroy(),m.elements&&m.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(m){return m&&m.destroy&&m.destroy()}),this};var x=r(56131);ae.exports=function(m,b){var _=new h(m,b),w=_.render.bind(_);return x(w,{render:w,update:_.update.bind(_),draw:_.draw.bind(_),destroy:_.destroy.bind(_),regl:_.regl,gl:_.gl,canvas:_.gl.canvas,groups:_.groups,markers:_.markerCache,palette:_.palette}),w}},60487:function(ae,B,r){"use strict";var D=r(11870),E=r(71299),d=r(21527),S=r(5877),M=r(57471),v=r(18863),u=r(30120);function i(l,c){if(!(this instanceof i))return new i(l,c);this.traces=[],this.passes={},this.regl=l,this.scatter=D(l),this.canvas=this.scatter.canvas}function s(l,c,f){return(null!=l.id?l.id:l)<<16|(255&c)<<8|255&f}function a(l,c,f){var g,h,T,x,m=l[c],b=l[f];return m.length>2?(g=m[1],h=m[3]):m.length?(g=m[0],h=m[1]):(g=m.y,h=m.y+m.height),b.length>2?(T=b[0],x=b[2]):b.length?(T=b[0],x=b[1]):(T=b.x,x=b.x+b.width),[T,g,x,h]}function o(l){if("number"==typeof l)return[l,l,l,l];if(2===l.length)return[l[0],l[1],l[0],l[1]];var c=v(l);return[c.x,c.y,c.x+c.width,c.y+c.height]}ae.exports=i,i.prototype.render=function(){for(var l,c=this,f=[],g=arguments.length;g--;)f[g]=arguments[g];return f.length&&(l=this).update.apply(l,f),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?null==this.planned&&(this.planned=S(function(){c.draw(),c.dirty=!0,c.planned=null})):(this.draw(),this.dirty=!0,S(function(){c.dirty=!1})),this)},i.prototype.update=function(){for(var l,c=[],f=arguments.length;f--;)c[f]=arguments[f];if(c.length){for(var g=0;g<c.length;g++)this.updateItem(g,c[g]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,x=0;x<this.traces.length;x++){for(var m=this.traces[x],b=this.traces[x].passes,_=0;_<b.length;_++)h.push(this.passes[b[_]]);m.passOffset=T,T+=m.passes.length}return(l=this.scatter).update.apply(l,h),this}},i.prototype.updateItem=function(l,c){var f=this.regl;if(null===c)return this.traces[l]=null,this;if(!c)return this;var g,h=E(c,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[l]||(this.traces[l]={id:l,buffer:f.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([f._gl.drawingBufferWidth,f._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(null!=h.color&&(T.color=h.color),null!=h.size&&(T.size=h.size),null!=h.marker&&(T.marker=h.marker),null!=h.borderColor&&(T.borderColor=h.borderColor),null!=h.borderSize&&(T.borderSize=h.borderSize),null!=h.opacity&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),null!=h.diagonal&&(T.diagonal=h.diagonal),null!=h.upper&&(T.upper=h.upper),null!=h.lower&&(T.lower=h.lower),h.data){T.buffer(u(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var x=0;x<T.columns;x++)T.bounds[x]=d(h.data[x],1)}h.range&&(T.range=h.range,g=T.range&&"number"!=typeof T.range[0]),h.domain&&(T.domain=h.domain);var m=!1;null!=h.padding&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&"number"==typeof h.padding[h.padding.length-1]?(T.padding=h.padding.map(o),m=!0):T.padding=o(h.padding));var b=T.columns,_=T.count,w=T.viewport.width,A=T.viewport.height,p=T.viewport.x,I=T.viewport.y,k=w/b,L=A/b;T.passes=[];for(var O=0;O<b;O++)for(var P=0;P<b;P++)if((T.diagonal||P!==O)&&(T.upper||!(O>P))&&(T.lower||!(O<P))){var F=s(T.id,O,P),j=this.passes[F]||(this.passes[F]={});if(h.data&&(j.positions=h.transpose?{x:{buffer:T.buffer,offset:P,count:_,stride:b},y:{buffer:T.buffer,offset:O,count:_,stride:b}}:{x:{buffer:T.buffer,offset:P*_,count:_},y:{buffer:T.buffer,offset:O*_,count:_}},j.bounds=a(T.bounds,O,P)),h.domain||h.viewport||h.data){var X=m?a(T.padding,O,P):T.padding;if(T.domain){var N=a(T.domain,O,P);j.viewport=[p+N[0]*w+X[0],I+N[1]*A+X[1],p+N[2]*w-X[2],I+N[3]*A-X[3]]}else j.viewport=[p+P*k+k*X[0],I+O*L+L*X[1],p+(P+1)*k-k*X[2],I+(O+1)*L-L*X[3]]}h.color&&(j.color=T.color),h.size&&(j.size=T.size),h.marker&&(j.marker=T.marker),h.borderSize&&(j.borderSize=T.borderSize),h.borderColor&&(j.borderColor=T.borderColor),h.opacity&&(j.opacity=T.opacity),h.range&&(j.range=g?a(T.range,O,P):T.range||j.bounds),T.passes.push(F)}return this},i.prototype.draw=function(){for(var l,c=[],f=arguments.length;f--;)c[f]=arguments[f];if(c.length){for(var g=[],h=0;h<c.length;h++)if("number"==typeof c[h]){var T=this.traces[c[h]],m=T.passOffset;g.push.apply(g,M(m,m+T.passes.length))}else if(c[h].length){var b=c[h],_=this.traces[h],w=_.passes,A=_.passOffset;w=w.map(function(p,I){g[A+I]=b})}(l=this.scatter).draw.apply(l,g)}else this.scatter.draw();return this},i.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(ae){ae.exports=function(){function B(Ke,rt){this.id=ce++,this.type=Ke,this.data=rt}function r(Ke){if(0===Ke.length)return[];var rt=Ke.charAt(0),ft=Ke.charAt(Ke.length-1);if(1<Ke.length&&rt===ft&&('"'===rt||"'"===rt))return['"'+Ke.substr(1,Ke.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(rt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ke))return r(Ke.substr(0,rt.index)).concat(r(rt[1])).concat(r(Ke.substr(rt.index+rt[0].length)));if(1===(rt=Ke.split(".")).length)return['"'+Ke.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ke=[],ft=0;ft<rt.length;++ft)Ke=Ke.concat(r(rt[ft]));return Ke}function D(Ke){return"["+r(Ke).join("][")+"]"}function E(Ke){return"string"==typeof Ke?Ke.split():Ke}function d(Ke){return"string"==typeof Ke?document.querySelector(Ke):Ke}function M(Ke,rt){for(var ft=Array(Ke),ht=0;ht<Ke;++ht)ft[ht]=rt(ht);return ft}function v(Ke){var rt,ft;return rt=(65535<Ke)<<4,rt|=ft=(255<(Ke>>>=rt))<<3,(rt|=ft=(15<(Ke>>>=ft))<<2)|(ft=(3<(Ke>>>=ft))<<1)|Ke>>>ft>>1}function u(){function Ke(ht){e:{for(var Ve=16;268435456>=Ve;Ve*=16)if(ht<=Ve){ht=Ve;break e}ht=0}return 0<(Ve=ft[v(ht)>>2]).length?Ve.pop():new ArrayBuffer(ht)}function rt(ht){ft[v(ht.byteLength)>>2].push(ht)}var ft=M(8,function(){return[]});return{alloc:Ke,free:rt,allocType:function(ht,Ve){var Ge=null;switch(ht){case 5120:Ge=new Int8Array(Ke(Ve),0,Ve);break;case 5121:Ge=new Uint8Array(Ke(Ve),0,Ve);break;case 5122:Ge=new Int16Array(Ke(2*Ve),0,Ve);break;case 5123:Ge=new Uint16Array(Ke(2*Ve),0,Ve);break;case 5124:Ge=new Int32Array(Ke(4*Ve),0,Ve);break;case 5125:Ge=new Uint32Array(Ke(4*Ve),0,Ve);break;case 5126:Ge=new Float32Array(Ke(4*Ve),0,Ve);break;default:return null}return Ge.length!==Ve?Ge.subarray(0,Ve):Ge},freeType:function(ht){rt(ht.buffer)}}}function i(Ke){return!!Ke&&"object"==typeof Ke&&Array.isArray(Ke.shape)&&Array.isArray(Ke.stride)&&"number"==typeof Ke.offset&&Ke.shape.length===Ke.stride.length&&(Array.isArray(Ke.data)||Me(Ke.data))}function s(Ke,rt,ft,ht,Ve,Ge){for(var ut=0;ut<rt;++ut)for(var dt=Ke[ut],kt=0;kt<ft;++kt)for(var bt=dt[kt],At=0;At<ht;++At)Ve[Ge++]=bt[At]}function a(Ke,rt,ft,ht,Ve){for(var Ge=1,ut=ft+1;ut<rt.length;++ut)Ge*=rt[ut];var dt=rt[ft];if(rt.length-ft==4){var kt=rt[ft+1],bt=rt[ft+2];for(rt=rt[ft+3],ut=0;ut<dt;++ut)s(Ke[ut],kt,bt,rt,ht,Ve),Ve+=Ge}else for(ut=0;ut<dt;++ut)a(Ke[ut],rt,ft+1,ht,Ve),Ve+=Ge}function o(Ke){return 0|ze[Object.prototype.toString.call(Ke)]}function l(Ke,rt){for(var ft=0;ft<rt.length;++ft)Ke[ft]=rt[ft]}function c(Ke,rt,ft,ht,Ve,Ge,ut){for(var dt=0,kt=0;kt<ft;++kt)for(var bt=0;bt<ht;++bt)Ke[dt++]=rt[Ve*kt+Ge*bt+ut]}function h(Ke){for(var rt=ke.allocType(5123,Ke.length),ft=0;ft<Ke.length;++ft)if(isNaN(Ke[ft]))rt[ft]=65535;else if(Ke[ft]===1/0)rt[ft]=31744;else if(Ke[ft]===-1/0)rt[ft]=64512;else{Re[0]=Ke[ft];var ht=(Ge=De[0])>>>31<<15,Ve=(Ge<<1>>>24)-127,Ge=Ge>>13&1023;rt[ft]=-24>Ve?ht:-14>Ve?ht+(Ge+1024>>-14-Ve):15<Ve?ht+31744:ht+(Ve+15<<10)+Ge}return rt}function T(Ke){return Array.isArray(Ke)||Me(Ke)}function x(Ke){return"[object "+Ke+"]"}function m(Ke){return Array.isArray(Ke)&&(0===Ke.length||"number"==typeof Ke[0])}function b(Ke){return!(!Array.isArray(Ke)||0===Ke.length||!T(Ke[0]))}function _(Ke){return Object.prototype.toString.call(Ke)}function w(Ke){if(!Ke)return!1;var rt=_(Ke);return 0<=et.indexOf(rt)||m(Ke)||b(Ke)||i(Ke)}function A(Ke,rt){36193===Ke.type?(Ke.data=h(rt),ke.freeType(rt)):Ke.data=rt}function p(Ke,rt,ft,ht,Ve,Ge){if(Ke=void 0!==pt[Ke]?pt[Ke]:xe[Ke]*st[rt],Ge&&(Ke*=6),Ve){for(ht=0;1<=ft;)ht+=Ke*ft*ft,ft/=2;return ht}return Ke*ft*ht}function L(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function j(Ke,rt){return Ke>>>rt|Ke<<32-rt}function X(Ke,rt){var ft=(65535&Ke)+(65535&rt);return(Ke>>16)+(rt>>16)+(ft>>16)<<16|65535&ft}function N(Ke){return Array.prototype.slice.call(Ke)}function q(Ke){return N(Ke).join("")}function H(Ke){return Array.isArray(Ke)||Me(Ke)||i(Ke)}function Z(Ke){return Ke.sort(function(rt,ft){return"viewport"===rt?-1:"viewport"===ft?1:rt<ft?-1:1})}function $(Ke,rt,ft,ht){this.thisDep=Ke,this.contextDep=rt,this.propDep=ft,this.append=ht}function se(Ke){return Ke&&!(Ke.thisDep||Ke.contextDep||Ke.propDep)}function ne(Ke){return new $(!1,!1,!1,Ke)}function re(Ke,rt){var ft=Ke.type;if(0===ft)return new $(!0,1<=(ft=Ke.data.length),2<=ft,rt);if(4===ft)return new $((ft=Ke.data).thisDep,ft.contextDep,ft.propDep,rt);if(5===ft)return new $(!1,!1,!1,rt);if(6===ft){for(var ht=ft=!1,Ve=!1,Ge=0;Ge<Ke.data.length;++Ge){var ut=Ke.data[Ge];1===ut.type?Ve=!0:2===ut.type?ht=!0:3===ut.type?ft=!0:0===ut.type?(ft=!0,1<=(ut=ut.data)&&(ht=!0),2<=ut&&(Ve=!0)):4===ut.type&&(ft=ft||ut.data.thisDep,ht=ht||ut.data.contextDep,Ve=Ve||ut.data.propDep)}return new $(ft,ht,Ve,rt)}return new $(3===ft,2===ft,1===ft,rt)}function Q(Ke,rt,ft,ht,Ve,Ge,ut,dt,kt,bt,At,xt,Rt,_t,Tt,It){function Wt(Ft){return Ft.replace(".","_")}function Zt(Ft,on,un){var On=Wt(Ft);cr.push(Ft),In[On]=xn[On]=!!un,Kn[On]=on}function $t(Ft,on,un){var On=Wt(Ft);cr.push(Ft),Array.isArray(un)?(xn[On]=un.slice(),In[On]=un.slice()):xn[On]=In[On]=un,Jn[On]=on}function dn(){var Ft=function G(Ke){function rt(){var At=[],xt=[];return oe(function(){At.push.apply(At,N(arguments))},{def:function(){var Rt="v"+Ve++;return xt.push(Rt),0<arguments.length&&(At.push(Rt,"="),At.push.apply(At,N(arguments)),At.push(";")),Rt},toString:function(){return q([0<xt.length?"var "+xt.join(",")+";":"",q(At)])}})}function ft(){function At(It,Wt){Rt(It,Wt,"=",xt.def(It,Wt),";")}var xt=rt(),Rt=rt(),_t=xt.toString,Tt=Rt.toString;return oe(function(){xt.apply(xt,N(arguments))},{def:xt.def,entry:xt,exit:Rt,save:At,set:function(It,Wt,Zt){At(It,Wt),xt(It,Wt,"=",Zt,";")},toString:function(){return _t()+Tt()}})}var ht=Ke&&Ke.cache,Ve=0,Ge=[],ut=[],dt=[],kt=rt(),bt={};return{global:kt,link:function(At,xt){var Rt=xt&&xt.stable;if(!Rt)for(var _t=0;_t<ut.length;++_t)if(ut[_t]===At&&!dt[_t])return Ge[_t];return _t="g"+Ve++,Ge.push(_t),ut.push(At),dt.push(Rt),_t},block:rt,proc:function(At,xt){function Rt(){var Wt="a"+_t.length;return _t.push(Wt),Wt}var _t=[];xt=xt||0;for(var Tt=0;Tt<xt;++Tt)Rt();var It=(Tt=ft()).toString;return bt[At]=oe(Tt,{arg:Rt,toString:function(){return q(["function(",_t.join(),"){",It(),"}"])}})},scope:ft,cond:function(){var At=q(arguments),xt=ft(),Rt=ft(),_t=xt.toString,Tt=Rt.toString;return oe(xt,{then:function(){return xt.apply(xt,N(arguments)),this},else:function(){return Rt.apply(Rt,N(arguments)),this},toString:function(){var It=Tt();return It&&(It="else{"+It+"}"),q(["if(",At,"){",_t(),"}",It])}})},compile:function(){var At=['"use strict";',kt,"return {"];Object.keys(bt).forEach(function(_t){At.push('"',_t,'":',bt[_t].toString(),",")}),At.push("}");var xt,Rt=q(At).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return ht&&(xt=function(_t){for(var Tt,It="",Wt=0;Wt<_t.length;Wt++)Tt=_t.charCodeAt(Wt),It+="0123456789abcdef".charAt(Tt>>>4&15)+"0123456789abcdef".charAt(15&Tt);return It}(function(_t){for(var Tt=Array(_t.length>>2),It=0;It<Tt.length;It++)Tt[It]=0;for(It=0;It<8*_t.length;It+=8)Tt[It>>5]|=(255&_t.charCodeAt(It/8))<<24-It%32;var Wt,Zt,$t,dn,nn,cn,rn,En,Pn,Mn,en,gn=8*_t.length;for(_t=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],It=Array(64),Tt[gn>>5]|=128<<24-gn%32,Tt[15+(gn+64>>9<<4)]=gn,En=0;En<Tt.length;En+=16){for(gn=_t[0],Wt=_t[1],Zt=_t[2],$t=_t[3],dn=_t[4],nn=_t[5],cn=_t[6],rn=_t[7],Pn=0;64>Pn;Pn++){var an;16>Pn?It[Pn]=Tt[Pn+En]:(Mn=Pn,en=X(en=j(en=It[Pn-2],17)^j(en,19)^en>>>10,It[Pn-7]),an=j(an=It[Pn-15],7)^j(an,18)^an>>>3,It[Mn]=X(X(en,an),It[Pn-16])),Mn=X(X(X(X(rn,Mn=j(Mn=dn,6)^j(Mn,11)^j(Mn,25)),dn&nn^~dn&cn),gt[Pn]),It[Pn]),en=X(rn=j(rn=gn,2)^j(rn,13)^j(rn,22),gn&Wt^gn&Zt^Wt&Zt),rn=cn,cn=nn,nn=dn,dn=X($t,Mn),$t=Zt,Zt=Wt,Wt=gn,gn=X(Mn,en)}_t[0]=X(gn,_t[0]),_t[1]=X(Wt,_t[1]),_t[2]=X(Zt,_t[2]),_t[3]=X($t,_t[3]),_t[4]=X(dn,_t[4]),_t[5]=X(nn,_t[5]),_t[6]=X(cn,_t[6]),_t[7]=X(rn,_t[7])}for(Tt="",It=0;It<32*_t.length;It+=8)Tt+=String.fromCharCode(_t[It>>5]>>>24-It%32&255);return Tt}(function(_t){for(var Tt,It,Wt="",Zt=-1;++Zt<_t.length;)Tt=_t.charCodeAt(Zt),It=Zt+1<_t.length?_t.charCodeAt(Zt+1):0,55296<=Tt&&56319>=Tt&&56320<=It&&57343>=It&&(Tt=65536+((1023&Tt)<<10)+(1023&It),Zt++),127>=Tt?Wt+=String.fromCharCode(Tt):2047>=Tt?Wt+=String.fromCharCode(192|Tt>>>6&31,128|63&Tt):65535>=Tt?Wt+=String.fromCharCode(224|Tt>>>12&15,128|Tt>>>6&63,128|63&Tt):2097151>=Tt&&(Wt+=String.fromCharCode(240|Tt>>>18&7,128|Tt>>>12&63,128|Tt>>>6&63,128|63&Tt));return Wt}(Rt))),ht[xt])?ht[xt].apply(null,ut):(Rt=Function.apply(null,Ge.concat(Rt)),ht&&(ht[xt]=Rt),Rt.apply(null,ut))}}}({cache:Tt}),on=Ft.link,un=Ft.global;Ft.id=zn++,Ft.batchId="0";var On=on(vr),Fn=Ft.shared={props:"a0"};Object.keys(vr).forEach(function(_n){Fn[_n]=un.def(On,".",_n)});var Gn=Ft.next={},bn=Ft.current={};Object.keys(Jn).forEach(function(_n){Array.isArray(xn[_n])&&(Gn[_n]=un.def(Fn.next,".",_n),bn[_n]=un.def(Fn.current,".",_n))});var ln=Ft.constants={};Object.keys(Qt).forEach(function(_n){ln[_n]=un.def(JSON.stringify(Qt[_n]))}),Ft.invoke=function(_n,wn){switch(wn.type){case 0:var Un=["this",Fn.context,Fn.props,Ft.batchId];return _n.def(on(wn.data),".call(",Un.slice(0,Math.max(wn.data.length+1,4)),")");case 1:return _n.def(Fn.props,wn.data);case 2:return _n.def(Fn.context,wn.data);case 3:return _n.def("this",wn.data);case 4:return wn.data.append(Ft,_n),wn.data.ref;case 5:return wn.data.toString();case 6:return wn.data.map(function(Hn){return Ft.invoke(_n,Hn)})}},Ft.attribCache={};var fn={};return Ft.scopeAttrib=function(_n){if((_n=rt.id(_n))in fn)return fn[_n];var wn=bt.scope[_n];return wn||(wn=bt.scope[_n]=new dr),fn[_n]=on(wn)},Ft}function Pn(Ft,on,un,On,Fn){function Gn(gr){var Vn=ln[gr];Vn&&(_n[gr]=Vn)}var gr,Tr,rr,_r,bn=function(gr,Vn){if("string"==typeof(Tr=gr.static).frag&&"string"==typeof Tr.vert){if(0<Object.keys(Vn.dynamic).length)return null;var Tr=Vn.static,rr=Object.keys(Tr);if(0<rr.length&&"number"==typeof Tr[rr[0]]){for(var _r=[],Ir=0;Ir<rr.length;++Ir)_r.push([0|Tr[rr[Ir]],rr[Ir]]);return _r}}return null}(Ft,on),ln=function(gr,Vn,Tr){function rr(Jr){if(Jr in _r){var fr=_r[Jr];Jr=!0;var Rr,oi,ji=0|fr.x,ko=0|fr.y;return"width"in fr?Rr=0|fr.width:Jr=!1,"height"in fr?oi=0|fr.height:Jr=!1,new $(!Jr&&Vn&&Vn.thisDep,!Jr&&Vn&&Vn.contextDep,!Jr&&Vn&&Vn.propDep,function(_o,ao){var Bi=_o.shared.context,Ps=Rr;"width"in fr||(Ps=ao.def(Bi,".","framebufferWidth","-",ji));var ss=oi;return"height"in fr||(ss=ao.def(Bi,".","framebufferHeight","-",ko)),[ji,ko,Ps,ss]})}if(Jr in Ir){var Zr=Ir[Jr];return Jr=re(Zr,function(_o,ao){var Bi=_o.invoke(ao,Zr),Ps=_o.shared.context,ss=ao.def(Bi,".x|0"),Vi=ao.def(Bi,".y|0");return[ss,Vi,ao.def('"width" in ',Bi,"?",Bi,".width|0:","(",Ps,".","framebufferWidth","-",ss,")"),Bi=ao.def('"height" in ',Bi,"?",Bi,".height|0:","(",Ps,".","framebufferHeight","-",Vi,")")]}),Vn&&(Jr.thisDep=Jr.thisDep||Vn.thisDep,Jr.contextDep=Jr.contextDep||Vn.contextDep,Jr.propDep=Jr.propDep||Vn.propDep),Jr}return Vn?new $(Vn.thisDep,Vn.contextDep,Vn.propDep,function(_o,ao){var Bi=_o.shared.context;return[0,0,ao.def(Bi,".","framebufferWidth"),ao.def(Bi,".","framebufferHeight")]}):null}var _r=gr.static,Ir=gr.dynamic;if(gr=rr("viewport")){var Lr=gr;gr=new $(gr.thisDep,gr.contextDep,gr.propDep,function(Jr,fr){var Rr=Lr.append(Jr,fr),oi=Jr.shared.context;return fr.set(oi,".viewportWidth",Rr[2]),fr.set(oi,".viewportHeight",Rr[3]),Rr})}return{viewport:gr,scissor_box:rr("scissor.box")}}(Ft,Un=function nn(Ft,on){var un=Ft.static,On=Ft.dynamic;if("framebuffer"in un){var Fn=un.framebuffer;return Fn?(Fn=dt.getFramebuffer(Fn),ne(function(bn,ln){var fn=bn.link(Fn),_n=bn.shared;return ln.set(_n.framebuffer,".next",fn),ln.set(_n=_n.context,".framebufferWidth",fn+".width"),ln.set(_n,".framebufferHeight",fn+".height"),fn})):ne(function(bn,ln){var fn=bn.shared;return ln.set(fn.framebuffer,".next","null"),ln.set(fn=fn.context,".framebufferWidth",fn+".drawingBufferWidth"),ln.set(fn,".framebufferHeight",fn+".drawingBufferHeight"),"null"})}if("framebuffer"in On){var Gn=On.framebuffer;return re(Gn,function(bn,ln){var fn=bn.invoke(ln,Gn),_n=bn.shared,wn=_n.framebuffer;return fn=ln.def(wn,".getFramebuffer(",fn,")"),ln.set(wn,".next",fn),ln.set(_n=_n.context,".framebufferWidth",fn+"?"+fn+".width:"+_n+".drawingBufferWidth"),ln.set(_n,".framebufferHeight",fn+"?"+fn+".height:"+_n+".drawingBufferHeight"),fn})}return null}(Ft)),fn=function rn(Ft,on){function un(tr,gr){if(tr in On){var Vn=0|On[tr];return gr?Gn.offset=Vn:Gn.instances=Vn,ne(function(rr,_r){return gr&&(rr.OFFSET=Vn),Vn})}if(tr in Fn){var Tr=Fn[tr];return re(Tr,function(rr,_r){var Ir=rr.invoke(_r,Tr);return gr&&(rr.OFFSET=Ir),Ir})}if(gr){if(fn)return ne(function(rr,_r){return rr.OFFSET=0});if(bn)return new $(ln.thisDep,ln.contextDep,ln.propDep,function(rr,_r){return _r.def(rr.shared.vao+".currentVAO?"+rr.shared.vao+".currentVAO.offset:0")})}else if(bn)return new $(ln.thisDep,ln.contextDep,ln.propDep,function(rr,_r){return _r.def(rr.shared.vao+".currentVAO?"+rr.shared.vao+".currentVAO.instances:-1")});return null}var On=Ft.static,Fn=Ft.dynamic,Gn={},bn=!1,ln=function(){if("vao"in On){var tr=On.vao;return null!==tr&&null===bt.getVAO(tr)&&(tr=bt.createVAO(tr)),bn=!0,Gn.vao=tr,ne(function(Vn){var Tr=bt.getVAO(tr);return Tr?Vn.link(Tr):"null"})}if("vao"in Fn){bn=!0;var gr=Fn.vao;return re(gr,function(Vn,Tr){var rr=Vn.invoke(Tr,gr);return Tr.def(Vn.shared.vao+".getVAO("+rr+")")})}return null}(),fn=!1,_n=function(){if("elements"in On){var tr=On.elements;if(Gn.elements=tr,H(tr)){var gr=Gn.elements=Ge.create(tr,!0);tr=Ge.getElements(gr),fn=!0}else tr&&(tr=Ge.getElements(tr),fn=!0);return(gr=ne(function(Tr,rr){if(tr){var _r=Tr.link(tr);return Tr.ELEMENTS=_r}return Tr.ELEMENTS=null})).value=tr,gr}if("elements"in Fn){fn=!0;var Vn=Fn.elements;return re(Vn,function(Tr,rr){var _r=(Ir=Tr.shared).isBufferArgs,Ir=Ir.elements,Lr=Tr.invoke(rr,Vn),Jr=rr.def("null");return _r=rr.def(_r,"(",Lr,")"),Lr=Tr.cond(_r).then(Jr,"=",Ir,".createStream(",Lr,");").else(Jr,"=",Ir,".getElements(",Lr,");"),rr.entry(Lr),rr.exit(Tr.cond(_r).then(Ir,".destroyStream(",Jr,");")),Tr.ELEMENTS=Jr})}return bn?new $(ln.thisDep,ln.contextDep,ln.propDep,function(Tr,rr){return rr.def(Tr.shared.vao+".currentVAO?"+Tr.shared.elements+".getElements("+Tr.shared.vao+".currentVAO.elements):null")}):null}(),wn=un("offset",!0),Un=function(){if("primitive"in On){var tr=On.primitive;return Gn.primitive=tr,ne(function(Vn,Tr){return Te[tr]})}if("primitive"in Fn){var gr=Fn.primitive;return re(gr,function(Vn,Tr){var rr=Vn.constants.primTypes,_r=Vn.invoke(Tr,gr);return Tr.def(rr,"[",_r,"]")})}return fn?se(_n)?ne(_n.value?function(Vn,Tr){return Tr.def(Vn.ELEMENTS,".primType")}:function(){return 4}):new $(_n.thisDep,_n.contextDep,_n.propDep,function(Vn,Tr){var rr=Vn.ELEMENTS;return Tr.def(rr,"?",rr,".primType:",4)}):bn?new $(ln.thisDep,ln.contextDep,ln.propDep,function(Vn,Tr){return Tr.def(Vn.shared.vao+".currentVAO?"+Vn.shared.vao+".currentVAO.primitive:4")}):null}(),Hn=function(){if("count"in On){var tr=0|On.count;return Gn.count=tr,ne(function(){return tr})}if("count"in Fn){var gr=Fn.count;return re(gr,function(Vn,Tr){return Vn.invoke(Tr,gr)})}return fn?se(_n)?_n?wn?new $(wn.thisDep,wn.contextDep,wn.propDep,function(Vn,Tr){return Tr.def(Vn.ELEMENTS,".vertCount-",Vn.OFFSET)}):ne(function(Vn,Tr){return Tr.def(Vn.ELEMENTS,".vertCount")}):ne(function(){return-1}):new $(_n.thisDep||wn.thisDep,_n.contextDep||wn.contextDep,_n.propDep||wn.propDep,function(Vn,Tr){var rr=Vn.ELEMENTS;return Vn.OFFSET?Tr.def(rr,"?",rr,".vertCount-",Vn.OFFSET,":-1"):Tr.def(rr,"?",rr,".vertCount:-1")}):bn?new $(ln.thisDep,ln.contextDep,ln.propDep,function(Vn,Tr){return Tr.def(Vn.shared.vao,".currentVAO?",Vn.shared.vao,".currentVAO.count:-1")}):null}(),ar=un("instances",!1);return{elements:_n,primitive:Un,count:Hn,instances:ar,offset:wn,vao:ln,vaoActive:bn,elementsActive:fn,static:Gn}}(Ft),_n=(Tr=(gr=Ft).static,rr=gr.dynamic,_r={},cr.forEach(function(Ir){function Lr(fr,Rr){if(Ir in Tr){var oi=fr(Tr[Ir]);_r[Jr]=ne(function(){return oi})}else if(Ir in rr){var ji=rr[Ir];_r[Jr]=re(ji,function(ko,Zr){return Rr(ko,Zr,ko.invoke(Zr,ji))})}}var Jr=Wt(Ir);switch(Ir){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return Lr(function(fr){return fr},function(fr,Rr,oi){return oi});case"depth.func":return Lr(function(fr){return Ht[fr]},function(fr,Rr,oi){return Rr.def(fr.constants.compareFuncs,"[",oi,"]")});case"depth.range":return Lr(function(fr){return fr},function(fr,Rr,oi){return[Rr.def("+",oi,"[0]"),Rr=Rr.def("+",oi,"[1]")]});case"blend.func":return Lr(function(fr){return[Ot["srcRGB"in fr?fr.srcRGB:fr.src],Ot["dstRGB"in fr?fr.dstRGB:fr.dst],Ot["srcAlpha"in fr?fr.srcAlpha:fr.src],Ot["dstAlpha"in fr?fr.dstAlpha:fr.dst]]},function(fr,Rr,oi){function ji(ao,Bi){return Rr.def('"',ao,Bi,'" in ',oi,"?",oi,".",ao,Bi,":",oi,".",ao)}fr=fr.constants.blendFuncs;var ko=ji("src","RGB"),Zr=ji("dst","RGB"),_o=(ko=Rr.def(fr,"[",ko,"]"),Rr.def(fr,"[",ji("src","Alpha"),"]"));return[ko,Zr=Rr.def(fr,"[",Zr,"]"),_o,fr=Rr.def(fr,"[",ji("dst","Alpha"),"]")]});case"blend.equation":return Lr(function(fr){return"string"==typeof fr?[jr[fr],jr[fr]]:"object"==typeof fr?[jr[fr.rgb],jr[fr.alpha]]:void 0},function(fr,Rr,oi){var ji=fr.constants.blendEquations,ko=Rr.def(),Zr=Rr.def();return(fr=fr.cond("typeof ",oi,'==="string"')).then(ko,"=",Zr,"=",ji,"[",oi,"];"),fr.else(ko,"=",ji,"[",oi,".rgb];",Zr,"=",ji,"[",oi,".alpha];"),Rr(fr),[ko,Zr]});case"blend.color":return Lr(function(fr){return M(4,function(Rr){return+fr[Rr]})},function(fr,Rr,oi){return M(4,function(ji){return Rr.def("+",oi,"[",ji,"]")})});case"stencil.mask":return Lr(function(fr){return 0|fr},function(fr,Rr,oi){return Rr.def(oi,"|0")});case"stencil.func":return Lr(function(fr){return[Ht[fr.cmp||"keep"],fr.ref||0,"mask"in fr?fr.mask:-1]},function(fr,Rr,oi){return[fr=Rr.def('"cmp" in ',oi,"?",fr.constants.compareFuncs,"[",oi,".cmp]",":",7680),Rr.def(oi,".ref|0"),Rr=Rr.def('"mask" in ',oi,"?",oi,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return Lr(function(fr){return["stencil.opBack"===Ir?1029:1028,zt[fr.fail||"keep"],zt[fr.zfail||"keep"],zt[fr.zpass||"keep"]]},function(fr,Rr,oi){function ji(Zr){return Rr.def('"',Zr,'" in ',oi,"?",ko,"[",oi,".",Zr,"]:",7680)}var ko=fr.constants.stencilOps;return["stencil.opBack"===Ir?1029:1028,ji("fail"),ji("zfail"),ji("zpass")]});case"polygonOffset.offset":return Lr(function(fr){return[0|fr.factor,0|fr.units]},function(fr,Rr,oi){return[Rr.def(oi,".factor|0"),Rr=Rr.def(oi,".units|0")]});case"cull.face":return Lr(function(fr){var Rr=0;return"front"===fr?Rr=1028:"back"===fr&&(Rr=1029),Rr},function(fr,Rr,oi){return Rr.def(oi,'==="front"?',1028,":",1029)});case"frontFace":return Lr(function(fr){return nt[fr]},function(fr,Rr,oi){return Rr.def(oi+'==="cw"?2304:2305')});case"colorMask":return Lr(function(fr){return fr.map(function(Rr){return!!Rr})},function(fr,Rr,oi){return M(4,function(ji){return"!!"+oi+"["+ji+"]"})});case"sample.coverage":return Lr(function(fr){return["value"in fr?fr.value:1,!!fr.invert]},function(fr,Rr,oi){return[Rr.def('"value" in ',oi,"?+",oi,".value:1"),Rr=Rr.def("!!",oi,".invert")]})}}),_r),wn=function cn(Ft,on,un){function On(_n){if(_n in Fn){var wn=rt.id(Fn[_n]);return(_n=ne(function(){return wn})).id=wn,_n}if(_n in Gn){var Un=Gn[_n];return re(Un,function(Hn,ar){var tr=Hn.invoke(ar,Un);return ar.def(Hn.shared.strings,".id(",tr,")")})}return null}var Fn=Ft.static,Gn=Ft.dynamic,bn=On("frag"),ln=On("vert"),fn=null;return se(bn)&&se(ln)?(fn=At.program(ln.id,bn.id,null,un),Ft=ne(function(_n,wn){return _n.link(fn)})):Ft=new $(bn&&bn.thisDep||ln&&ln.thisDep,bn&&bn.contextDep||ln&&ln.contextDep,bn&&bn.propDep||ln&&ln.propDep,function(_n,wn){var Un,Hn,ar=_n.shared.shader;return Un=bn?bn.append(_n,wn):wn.def(ar,".","frag"),Hn=ln?ln.append(_n,wn):wn.def(ar,".","vert"),wn.def(ar+".program("+Hn+","+Un+")")}),{frag:bn,vert:ln,progVar:Ft,program:fn}}(Ft,0,bn);Gn("viewport"),Gn(Wt("scissor.box"));var Un,Hn=0<Object.keys(_n).length;if((Un={framebuffer:Un,draw:fn,shader:wn,state:_n,dirty:Hn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(gr){var Vn,Tr=gr.static;if(gr=gr.dynamic,"profile"in Tr){var rr=!!Tr.profile;(Vn=ne(function(Ir,Lr){return rr})).enable=rr}else if("profile"in gr){var _r=gr.profile;Vn=re(_r,function(Ir,Lr){return Ir.invoke(Lr,_r)})}return Vn}(Ft),Un.uniforms=function(gr,Vn){var Tr=gr.static,rr=gr.dynamic,_r={};return Object.keys(Tr).forEach(function(Ir){var Lr,Jr=Tr[Ir];if("number"==typeof Jr||"boolean"==typeof Jr)Lr=ne(function(){return Jr});else if("function"==typeof Jr){var fr=Jr._reglType;"texture2d"===fr||"textureCube"===fr?Lr=ne(function(Rr){return Rr.link(Jr)}):"framebuffer"!==fr&&"framebufferCube"!==fr||(Lr=ne(function(Rr){return Rr.link(Jr.color[0])}))}else T(Jr)&&(Lr=ne(function(Rr){return Rr.global.def("[",M(Jr.length,function(oi){return Jr[oi]}),"]")}));Lr.value=Jr,_r[Ir]=Lr}),Object.keys(rr).forEach(function(Ir){var Lr=rr[Ir];_r[Ir]=re(Lr,function(Jr,fr){return Jr.invoke(fr,Lr)})}),_r}(un),Un.drawVAO=Un.scopeVAO=fn.vao,!Un.drawVAO&&wn.program&&!bn&&ft.angle_instanced_arrays&&fn.static.elements){var ar=!0;if(Ft=wn.program.attributes.map(function(gr){return gr=on.static[gr],ar=ar&&!!gr,gr}),ar&&0<Ft.length){var tr=bt.getVAO(bt.createVAO({attributes:Ft,elements:fn.static.elements}));Un.drawVAO=new $(null,null,null,function(gr,Vn){return gr.link(tr)}),Un.useVAO=!0}}return bn?Un.useVAO=!0:Un.attributes=function En(Ft,on){var un=Ft.static,On=Ft.dynamic,Fn={};return Object.keys(un).forEach(function(Gn){var bn=un[Gn],ln=rt.id(Gn),fn=new dr;if(H(bn))fn.state=1,fn.buffer=Ve.getBuffer(Ve.create(bn,34962,!1,!0)),fn.type=0;else if(wn=Ve.getBuffer(bn))fn.state=1,fn.buffer=wn,fn.type=0;else if("constant"in bn){var _n=bn.constant;fn.buffer="null",fn.state=2,"number"==typeof _n?fn.x=_n:Et.forEach(function(Vn,Tr){Tr<_n.length&&(fn[Vn]=_n[Tr])})}else{var wn=H(bn.buffer)?Ve.getBuffer(Ve.create(bn.buffer,34962,!1,!0)):Ve.getBuffer(bn.buffer),Un=0|bn.offset,Hn=0|bn.stride,ar=0|bn.size,tr=!!bn.normalized,gr=0;"type"in bn&&(gr=Ee[bn.type]),bn=0|bn.divisor,fn.buffer=wn,fn.state=1,fn.size=ar,fn.normalized=tr,fn.type=gr||wn.dtype,fn.offset=Un,fn.stride=Hn,fn.divisor=bn}Fn[Gn]=ne(function(Vn,Tr){var rr=Vn.attribCache;if(ln in rr)return rr[ln];var _r={isStream:!1};return Object.keys(fn).forEach(function(Ir){_r[Ir]=fn[Ir]}),fn.buffer&&(_r.buffer=Vn.link(fn.buffer),_r.type=_r.type||_r.buffer+".dtype"),rr[ln]=_r})}),Object.keys(On).forEach(function(Gn){var bn=On[Gn];Fn[Gn]=re(bn,function(ln,fn){function _n(rr){fn(tr[rr],"=",wn,".",rr,"|0;")}var wn=ln.invoke(fn,bn),Un=ln.shared,Hn=ln.constants,ar=Un.isBufferArgs,tr=(Un=Un.buffer,{isStream:fn.def(!1)}),gr=new dr;gr.state=1,Object.keys(gr).forEach(function(rr){tr[rr]=fn.def(""+gr[rr])});var Vn=tr.buffer,Tr=tr.type;return fn("if(",ar,"(",wn,")){",tr.isStream,"=true;",Vn,"=",Un,".createStream(",34962,",",wn,");",Tr,"=",Vn,".dtype;","}else{",Vn,"=",Un,".getBuffer(",wn,");","if(",Vn,"){",Tr,"=",Vn,".dtype;",'}else if("constant" in ',wn,"){",tr.state,"=",2,";","if(typeof "+wn+'.constant === "number"){',tr[Et[0]],"=",wn,".constant;",Et.slice(1).map(function(rr){return tr[rr]}).join("="),"=0;","}else{",Et.map(function(rr,_r){return tr[rr]+"="+wn+".constant.length>"+_r+"?"+wn+".constant["+_r+"]:0;"}).join(""),"}}else{","if(",ar,"(",wn,".buffer)){",Vn,"=",Un,".createStream(",34962,",",wn,".buffer);","}else{",Vn,"=",Un,".getBuffer(",wn,".buffer);","}",Tr,'="type" in ',wn,"?",Hn.glTypes,"[",wn,".type]:",Vn,".dtype;",tr.normalized,"=!!",wn,".normalized;"),_n("size"),_n("offset"),_n("stride"),_n("divisor"),fn("}}"),fn.exit("if(",tr.isStream,"){",Un,".destroyStream(",Vn,");","}"),tr})}),Fn}(on),Un.context=function(gr){var Vn=gr.static,Tr=gr.dynamic,rr={};return Object.keys(Vn).forEach(function(_r){var Ir=Vn[_r];rr[_r]=ne(function(Lr,Jr){return"number"==typeof Ir||"boolean"==typeof Ir?""+Ir:Lr.link(Ir)})}),Object.keys(Tr).forEach(function(_r){var Ir=Tr[_r];rr[_r]=re(Ir,function(Lr,Jr){return Lr.invoke(Jr,Ir)})}),rr}(On),Un}function Mn(Ft,on,un){var On=Ft.shared.context,Fn=Ft.scope();Object.keys(un).forEach(function(Gn){on.save(On,"."+Gn);var bn=un[Gn].append(Ft,on);Array.isArray(bn)?Fn(On,".",Gn,"=[",bn.join(),"];"):Fn(On,".",Gn,"=",bn,";")}),on(Fn)}function en(Ft,on,un,On){var Fn,Gn=(ln=Ft.shared).gl,bn=ln.framebuffer;qt&&(Fn=on.def(ln.extensions,".webgl_draw_buffers"));var ln=(fn=Ft.constants).drawBuffer,fn=fn.backBuffer;Ft=un?un.append(Ft,on):on.def(bn,".next"),On||on("if(",Ft,"!==",bn,".cur){"),on("if(",Ft,"){",Gn,".bindFramebuffer(",36160,",",Ft,".framebuffer);"),qt&&on(Fn,".drawBuffersWEBGL(",ln,"[",Ft,".colorAttachments.length]);"),on("}else{",Gn,".bindFramebuffer(",36160,",null);"),qt&&on(Fn,".drawBuffersWEBGL(",fn,");"),on("}",bn,".cur=",Ft,";"),On||on("}")}function gn(Ft,on,un){var On=Ft.shared,Fn=On.gl,Gn=Ft.current,bn=Ft.next,ln=On.current,fn=On.next,_n=Ft.cond(ln,".dirty");cr.forEach(function(wn){var Un,Hn;if(!((wn=Wt(wn))in un.state))if(wn in bn){Un=bn[wn],Hn=Gn[wn];var ar=M(xn[wn].length,function(tr){return _n.def(Un,"[",tr,"]")});_n(Ft.cond(ar.map(function(tr,gr){return tr+"!=="+Hn+"["+gr+"]"}).join("||")).then(Fn,".",Jn[wn],"(",ar,");",ar.map(function(tr,gr){return Hn+"["+gr+"]="+tr}).join(";"),";"))}else Un=_n.def(fn,".",wn),ar=Ft.cond(Un,"!==",ln,".",wn),_n(ar),wn in Kn?ar(Ft.cond(Un).then(Fn,".enable(",Kn[wn],");").else(Fn,".disable(",Kn[wn],");"),ln,".",wn,"=",Un,";"):ar(Fn,".",Jn[wn],"(",Un,");",ln,".",wn,"=",Un,";")}),0===Object.keys(un.state).length&&_n(ln,".dirty=false;"),on(_n)}function an(Ft,on,un,On){var Fn,Gn=Ft.shared,bn=Ft.current,ln=Gn.current,fn=Gn.gl;Z(Object.keys(un)).forEach(function(_n){var wn=un[_n];if(!On||On(wn)){var Un=wn.append(Ft,on);if(Kn[_n]){var Hn=Kn[_n];se(wn)?(Fn=Ft.link(Un,{stable:!0}),on(Ft.cond(Fn).then(fn,".enable(",Hn,");").else(fn,".disable(",Hn,");")),on(ln,".",_n,"=",Fn,";")):(on(Ft.cond(Un).then(fn,".enable(",Hn,");").else(fn,".disable(",Hn,");")),on(ln,".",_n,"=",Un,";"))}else if(T(Un)){var ar=bn[_n];on(fn,".",Jn[_n],"(",Un,");",Un.map(function(tr,gr){return ar+"["+gr+"]="+tr}).join(";"),";")}else se(wn)?(Fn=Ft.link(Un,{stable:!0}),on(fn,".",Jn[_n],"(",Fn,");",ln,".",_n,"=",Fn,";")):on(fn,".",Jn[_n],"(",Un,");",ln,".",_n,"=",Un,";")}})}function yn(Ft,on){Kt&&(Ft.instancing=on.def(Ft.shared.extensions,".angle_instanced_arrays"))}function kn(Ft,on,un,On,Fn){function Gn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function bn(gr){gr(_n=on.def(),"=",Gn(),";"),"string"==typeof Fn?gr(Hn,".count+=",Fn,";"):gr(Hn,".count++;"),_t&&(On?gr(wn=on.def(),"=",tr,".getNumPendingQueries();"):gr(tr,".beginQuery(",Hn,");"))}function ln(gr){gr(Hn,".cpuTime+=",Gn(),"-",_n,";"),_t&&(On?gr(tr,".pushScopeStats(",wn,",",tr,".getNumPendingQueries(),",Hn,");"):gr(tr,".endQuery();"))}function fn(gr){var Vn=on.def(ar,".profile");on(ar,".profile=",gr,";"),on.exit(ar,".profile=",Vn,";")}var _n,wn,Un=Ft.shared,Hn=Ft.stats,ar=Un.current,tr=Un.timer;if(un=un.profile){if(se(un))return void(un.enable?(bn(on),ln(on.exit),fn("true")):fn("false"));fn(un=un.append(Ft,on))}else un=on.def(ar,".profile");bn(Un=Ft.block()),on("if(",un,"){",Un,"}"),ln(Ft=Ft.block()),on.exit("if(",un,"){",Ft,"}")}function Ln(Ft,on,un,On,Fn){var bn=Ft.shared;On.forEach(function(ln){var fn,_n=ln.name,wn=un.attributes[_n];if(wn){if(!Fn(wn))return;fn=wn.append(Ft,on)}else{if(!Fn(it))return;var Un=Ft.scopeAttrib(_n);fn={},Object.keys(new dr).forEach(function(Hn){fn[Hn]=on.def(Un,".",Hn)})}!function Gn(ln,fn,_n){function wn(){on("if(!",tr,".buffer){",Hn,".enableVertexAttribArray(",ar,");}");var rr,_r=_n.type;rr=_n.size?on.def(_n.size,"||",fn):fn,on("if(",tr,".type!==",_r,"||",tr,".size!==",rr,"||",Tr.map(function(Ir){return tr+"."+Ir+"!=="+_n[Ir]}).join("||"),"){",Hn,".bindBuffer(",34962,",",gr,".buffer);",Hn,".vertexAttribPointer(",[ar,rr,_r,_n.normalized,_n.stride,_n.offset],");",tr,".type=",_r,";",tr,".size=",rr,";",Tr.map(function(Ir){return tr+"."+Ir+"="+_n[Ir]+";"}).join(""),"}"),Kt&&on("if(",tr,".divisor!==",_r=_n.divisor,"){",Ft.instancing,".vertexAttribDivisorANGLE(",[ar,_r],");",tr,".divisor=",_r,";}")}function Un(){on("if(",tr,".buffer){",Hn,".disableVertexAttribArray(",ar,");",tr,".buffer=null;","}if(",Et.map(function(rr,_r){return tr+"."+rr+"!=="+Vn[_r]}).join("||"),"){",Hn,".vertexAttrib4f(",ar,",",Vn,");",Et.map(function(rr,_r){return tr+"."+rr+"="+Vn[_r]+";"}).join(""),"}")}var Hn=bn.gl,ar=on.def(ln,".location"),tr=on.def(bn.attributes,"[",ar,"]"),gr=_n.buffer,Vn=[_n.x,_n.y,_n.z,_n.w],Tr=["buffer","normalized","offset","stride"];1===(ln=_n.state)?wn():2===ln?Un():(on("if(",ln,"===",1,"){"),wn(),on("}else{"),Un(),on("}"))}(Ft.link(ln),function(Hn){switch(Hn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(ln.info.type),fn)})}function Rn(Ft,on,un,On,Fn,Gn){for(var bn,ln=Ft.shared,fn=ln.gl,_n=0;_n<On.length;++_n){var wn,Un=(tr=On[_n]).name,Hn=tr.info.type,ar=un.uniforms[Un],tr=Ft.link(tr)+".location";if(ar){if(!Fn(ar))continue;if(se(ar)){if(Un=ar.value,35678===Hn||35680===Hn)on(fn,".uniform1i(",tr,",",(Hn=Ft.link(Un._texture||Un.color[0]._texture))+".bind());"),on.exit(Hn,".unbind();");else if(35674===Hn||35675===Hn||35676===Hn)ar=2,35675===Hn?ar=3:35676===Hn&&(ar=4),on(fn,".uniformMatrix",ar,"fv(",tr,",false,",Un=Ft.global.def("new Float32Array(["+Array.prototype.slice.call(Un)+"])"),");");else{switch(Hn){case 5126:bn="1f";break;case 35664:bn="2f";break;case 35665:bn="3f";break;case 35666:bn="4f";break;case 35670:case 5124:bn="1i";break;case 35671:case 35667:bn="2i";break;case 35672:case 35668:bn="3i";break;case 35673:case 35669:bn="4i"}on(fn,".uniform",bn,"(",tr,",",T(Un)?Array.prototype.slice.call(Un):Un,");")}continue}wn=ar.append(Ft,on)}else{if(!Fn(it))continue;wn=on.def(ln.uniforms,"[",rt.id(Un),"]")}switch(35678===Hn?on("if(",wn,"&&",wn,'._reglType==="framebuffer"){',wn,"=",wn,".color[0];","}"):35680===Hn&&on("if(",wn,"&&",wn,'._reglType==="framebufferCube"){',wn,"=",wn,".color[0];","}"),Un=1,Hn){case 35678:case 35680:Hn=on.def(wn,"._texture"),on(fn,".uniform1i(",tr,",",Hn,".bind());"),on.exit(Hn,".unbind();");continue;case 5124:case 35670:bn="1i";break;case 35667:case 35671:bn="2i",Un=2;break;case 35668:case 35672:bn="3i",Un=3;break;case 35669:case 35673:bn="4i",Un=4;break;case 5126:bn="1f";break;case 35664:bn="2f",Un=2;break;case 35665:bn="3f",Un=3;break;case 35666:bn="4f",Un=4;break;case 35674:bn="Matrix2fv";break;case 35675:bn="Matrix3fv";break;case 35676:bn="Matrix4fv"}if("M"===bn.charAt(0)){on(fn,".uniform",bn,"(",tr,","),tr=Math.pow(Hn-35674+2,2);var gr=Ft.global.def("new Float32Array(",tr,")");Array.isArray(wn)?on("false,(",M(tr,function(Tr){return gr+"["+Tr+"]="+wn[Tr]}),",",gr,")"):on("false,(Array.isArray(",wn,")||",wn," instanceof Float32Array)?",wn,":(",M(tr,function(Tr){return gr+"["+Tr+"]="+wn+"["+Tr+"]"}),",",gr,")"),on(");")}else{if(1<Un){Hn=[];var Vn=[];for(ar=0;ar<Un;++ar)Array.isArray(wn)?Vn.push(wn[ar]):Vn.push(on.def(wn+"["+ar+"]")),Gn&&Hn.push(on.def());Gn&&on("if(!",Ft.batchId,"||",Hn.map(function(Tr,rr){return Tr+"!=="+Vn[rr]}).join("||"),"){",Hn.map(function(Tr,rr){return Tr+"="+Vn[rr]+";"}).join("")),on(fn,".uniform",bn,"(",tr,",",Vn.join(","),");")}else Gn&&(Hn=on.def(),on("if(!",Ft.batchId,"||",Hn,"!==",wn,"){",Hn,"=",wn,";")),on(fn,".uniform",bn,"(",tr,",",wn,");");Gn&&on("}")}}}function Wn(Ft,on,un,On){function Fn(_r){var Ir=Hn[_r];return Ir?Ir.append(Ft,Ir.contextDep&&On.contextDynamic||Ir.propDep?un:on):on.def(Un,".",_r)}function Gn(){function _r(){un(fn,".drawElementsInstancedANGLE(",[tr,Vn,Tr,gr+"<<(("+Tr+"-5121)>>1)",ln],");")}function Ir(){un(fn,".drawArraysInstancedANGLE(",[tr,gr,Vn,ln],");")}ar&&"null"!==ar?rr?_r():(un("if(",ar,"){"),_r(),un("}else{"),Ir(),un("}")):Ir()}function bn(){function _r(){un(wn+".drawElements("+[tr,Vn,Tr,gr+"<<(("+Tr+"-5121)>>1)"]+");")}function Ir(){un(wn+".drawArrays("+[tr,gr,Vn]+");")}ar&&"null"!==ar?rr?_r():(un("if(",ar,"){"),_r(),un("}else{"),Ir(),un("}")):Ir()}var ln,fn,_r,Ir,_n=Ft.shared,wn=_n.gl,Un=_n.draw,Hn=On.draw,ar=(Ir=on,(_r=Hn.elements)?((_r.contextDep&&On.contextDynamic||_r.propDep)&&(Ir=un),_r=_r.append(Ft,Ir),Hn.elementsActive&&Ir("if("+_r+")"+wn+".bindBuffer(34963,"+_r+".buffer.buffer);")):(_r=Ir.def(),Ir(_r,"=",Un,".","elements",";","if(",_r,"){",wn,".bindBuffer(",34963,",",_r,".buffer.buffer);}","else if(",_n.vao,".currentVAO){",_r,"=",Ft.shared.elements+".getElements("+_n.vao,".currentVAO.elements);",Tn?"":"if("+_r+")"+wn+".bindBuffer(34963,"+_r+".buffer.buffer);","}")),_r),tr=Fn("primitive"),gr=Fn("offset"),Vn=function(){var _r=Hn.count,Ir=on;return _r?((_r.contextDep&&On.contextDynamic||_r.propDep)&&(Ir=un),_r=_r.append(Ft,Ir)):_r=Ir.def(Un,".","count"),_r}();if("number"==typeof Vn){if(0===Vn)return}else un("if(",Vn,"){"),un.exit("}");Kt&&(ln=Fn("instances"),fn=Ft.instancing);var Tr=ar+".type",rr=Hn.elements&&se(Hn.elements)&&!Hn.vaoActive;Kt&&("number"!=typeof ln||0<=ln)?"string"==typeof ln?(un("if(",ln,">0){"),Gn(),un("}else if(",ln,"<0){"),bn(),un("}")):Gn():bn()}function Cn(Ft,on,un,On,Fn){return Fn=(on=dn()).proc("body",Fn),Kt&&(on.instancing=Fn.def(on.shared.extensions,".angle_instanced_arrays")),Ft(on,Fn,un,On),on.compile().body}function Zn(Ft,on,un,On){yn(Ft,on),un.useVAO?un.drawVAO?on(Ft.shared.vao,".setVAO(",un.drawVAO.append(Ft,on),");"):on(Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"):(on(Ft.shared.vao,".setVAO(null);"),Ln(Ft,on,un,On.attributes,function(){return!0})),Rn(Ft,on,un,On.uniforms,function(){return!0},!1),Wn(Ft,on,on,un)}function mr(Ft,on,un,On){function Fn(){return!0}Ft.batchId="a1",yn(Ft,on),Ln(Ft,on,un,On.attributes,Fn),Rn(Ft,on,un,On.uniforms,Fn,!1),Wn(Ft,on,on,un)}function lr(Ft,on,un,On){function Fn(Un){return Un.contextDep&&bn||Un.propDep}function Gn(Un){return!Fn(Un)}yn(Ft,on);var bn=un.contextDep,ln=on.def(),fn=on.def();Ft.shared.props=fn,Ft.batchId=ln;var _n=Ft.scope(),wn=Ft.scope();on(_n.entry,"for(",ln,"=0;",ln,"<","a1",";++",ln,"){",fn,"=","a0","[",ln,"];",wn,"}",_n.exit),un.needsContext&&Mn(Ft,wn,un.context),un.needsFramebuffer&&en(Ft,wn,un.framebuffer),an(Ft,wn,un.state,Fn),un.profile&&Fn(un.profile)&&kn(Ft,wn,un,!1,!0),On?(un.useVAO?un.drawVAO?Fn(un.drawVAO)?wn(Ft.shared.vao,".setVAO(",un.drawVAO.append(Ft,wn),");"):_n(Ft.shared.vao,".setVAO(",un.drawVAO.append(Ft,_n),");"):_n(Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"):(_n(Ft.shared.vao,".setVAO(null);"),Ln(Ft,_n,un,On.attributes,Gn),Ln(Ft,wn,un,On.attributes,Fn)),Rn(Ft,_n,un,On.uniforms,Gn,!1),Rn(Ft,wn,un,On.uniforms,Fn,!0),Wn(Ft,_n,wn,un)):(on=Ft.global.def("{}"),On=un.shader.progVar.append(Ft,wn),fn=wn.def(On,".id"),_n=wn.def(on,"[",fn,"]"),wn(Ft.shared.gl,".useProgram(",On,".program);","if(!",_n,"){",_n,"=",on,"[",fn,"]=",Ft.link(function(Un){return Cn(mr,Ft,un,Un,2)}),"(",On,");}",_n,".call(this,a0[",ln,"],",ln,");"))}function xr(Ft,on,un){var On=on.static[un];if(On&&function(wn){if("object"==typeof wn&&!T(wn)){for(var Un=Object.keys(wn),Hn=0;Hn<Un.length;++Hn)if(ue.isDynamic(wn[Un[Hn]]))return!0;return!1}}(On)){var Fn=Ft.global,Gn=Object.keys(On),bn=!1,ln=!1,fn=!1,_n=Ft.global.def("{}");Gn.forEach(function(wn){var Un=On[wn];if(ue.isDynamic(Un))"function"==typeof Un&&(Un=On[wn]=ue.unbox(Un)),wn=re(Un,null),bn=bn||wn.thisDep,fn=fn||wn.propDep,ln=ln||wn.contextDep;else{switch(Fn(_n,".",wn,"="),typeof Un){case"number":Fn(Un);break;case"string":Fn('"',Un,'"');break;case"object":Array.isArray(Un)&&Fn("[",Un.join(),"]");break;default:Fn(Ft.link(Un))}Fn(";")}}),on.dynamic[un]=new ue.DynamicVariable(4,{thisDep:bn,contextDep:ln,propDep:fn,ref:_n,append:function(wn,Un){Gn.forEach(function(Hn){var ar=On[Hn];ue.isDynamic(ar)&&(ar=wn.invoke(Un,ar),Un(_n,".",Hn,"=",ar,";"))})}}),delete on.static[un]}}var dr=bt.Record,jr={add:32774,subtract:32778,"reverse subtract":32779};ft.ext_blend_minmax&&(jr.min=32775,jr.max=32776);var Kt=ft.angle_instanced_arrays,qt=ft.webgl_draw_buffers,Tn=ft.oes_vertex_array_object,xn={dirty:!0,profile:It.profile},In={},cr=[],Kn={},Jn={};Zt("dither",3024),Zt("blend.enable",3042),$t("blend.color","blendColor",[0,0,0,0]),$t("blend.equation","blendEquationSeparate",[32774,32774]),$t("blend.func","blendFuncSeparate",[1,0,1,0]),Zt("depth.enable",2929,!0),$t("depth.func","depthFunc",513),$t("depth.range","depthRange",[0,1]),$t("depth.mask","depthMask",!0),$t("colorMask","colorMask",[!0,!0,!0,!0]),Zt("cull.enable",2884),$t("cull.face","cullFace",1029),$t("frontFace","frontFace",2305),$t("lineWidth","lineWidth",1),Zt("polygonOffset.enable",32823),$t("polygonOffset.offset","polygonOffset",[0,0]),Zt("sample.alpha",32926),Zt("sample.enable",32928),$t("sample.coverage","sampleCoverage",[1,!1]),Zt("stencil.enable",2960),$t("stencil.mask","stencilMask",-1),$t("stencil.func","stencilFunc",[519,0,-1]),$t("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),$t("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Zt("scissor.enable",3089),$t("scissor.box","scissor",[0,0,Ke.drawingBufferWidth,Ke.drawingBufferHeight]),$t("viewport","viewport",[0,0,Ke.drawingBufferWidth,Ke.drawingBufferHeight]);var vr={gl:Ke,context:Rt,strings:rt,next:In,current:xn,draw:xt,elements:Ge,buffer:Ve,shader:At,attributes:bt.state,vao:bt,uniforms:kt,framebuffer:dt,extensions:ft,timer:_t,isBufferArgs:H},Qt={primTypes:Te,compareFuncs:Ht,blendFuncs:Ot,blendEquations:jr,stencilOps:zt,glTypes:Ee,orientationType:nt};qt&&(Qt.backBuffer=[1029],Qt.drawBuffer=M(ht.maxDrawbuffers,function(Ft){return 0===Ft?[0]:M(Ft,function(on){return 36064+on})}));var zn=0;return{next:In,current:xn,procs:function(){var Ft=dn(),on=Ft.proc("poll"),un=Ft.proc("refresh"),On=Ft.block();on(On),un(On);var Fn,Gn=(fn=Ft.shared).gl,bn=fn.next,ln=fn.current;On(ln,".dirty=false;"),en(Ft,on),en(Ft,un,null,!0),Kt&&(Fn=Ft.link(Kt)),ft.oes_vertex_array_object&&un(Ft.link(ft.oes_vertex_array_object),".bindVertexArrayOES(null);");var fn=un.def(fn.attributes),_n=un.def(0),wn=Ft.cond(_n,".buffer");wn.then(Gn,".enableVertexAttribArray(i);",Gn,".bindBuffer(",34962,",",_n,".buffer.buffer);",Gn,".vertexAttribPointer(i,",_n,".size,",_n,".type,",_n,".normalized,",_n,".stride,",_n,".offset);").else(Gn,".disableVertexAttribArray(i);",Gn,".vertexAttrib4f(i,",_n,".x,",_n,".y,",_n,".z,",_n,".w);",_n,".buffer=null;");var Un=Ft.link(ht.maxAttributes,{stable:!0});return un("for(var i=0;i<",Un,";++i){",_n,"=",fn,"[i];",wn,"}"),Kt&&un("for(var i=0;i<",Un,";++i){",Fn,".vertexAttribDivisorANGLE(i,",fn,"[i].divisor);","}"),un(Ft.shared.vao,".currentVAO=null;",Ft.shared.vao,".setVAO(",Ft.shared.vao,".targetVAO);"),Object.keys(Kn).forEach(function(Hn){var ar=Kn[Hn],tr=On.def(bn,".",Hn),gr=Ft.block();gr("if(",tr,"){",Gn,".enable(",ar,")}else{",Gn,".disable(",ar,")}",ln,".",Hn,"=",tr,";"),un(gr),on("if(",tr,"!==",ln,".",Hn,"){",gr,"}")}),Object.keys(Jn).forEach(function(Hn){var ar,tr,gr=Jn[Hn],Vn=xn[Hn],Tr=Ft.block();Tr(Gn,".",gr,"("),T(Vn)?(gr=Vn.length,ar=Ft.global.def(bn,".",Hn),tr=Ft.global.def(ln,".",Hn),Tr(M(gr,function(rr){return ar+"["+rr+"]"}),");",M(gr,function(rr){return tr+"["+rr+"]="+ar+"["+rr+"];"}).join("")),on("if(",M(gr,function(rr){return ar+"["+rr+"]!=="+tr+"["+rr+"]"}).join("||"),"){",Tr,"}")):(ar=On.def(bn,".",Hn),tr=On.def(ln,".",Hn),Tr(ar,");",ln,".",Hn,"=",ar,";"),on("if(",ar,"!==",tr,"){",Tr,"}")),un(Tr)}),Ft.compile()}(),compile:function(Ft,on,un,On,Fn){var Gn=dn();Gn.stats=Gn.link(Fn),Object.keys(on.static).forEach(function(ln){xr(Gn,on,ln)}),Pt.forEach(function(ln){xr(Gn,Ft,ln)});var bn=Pn(Ft,on,un,On);return bn.shader.program&&(bn.shader.program.attributes.sort(function(ln,fn){return ln.name<fn.name?-1:1}),bn.shader.program.uniforms.sort(function(ln,fn){return ln.name<fn.name?-1:1})),function(ln,fn){var _n=ln.proc("draw",1);yn(ln,_n),Mn(ln,_n,fn.context),en(ln,_n,fn.framebuffer),gn(ln,_n,fn),an(ln,_n,fn.state),kn(ln,_n,fn,!1,!0);var wn=fn.shader.progVar.append(ln,_n);if(_n(ln.shared.gl,".useProgram(",wn,".program);"),fn.shader.program)Zn(ln,_n,fn,fn.shader.program);else{_n(ln.shared.vao,".setVAO(null);");var Un=ln.global.def("{}"),Hn=_n.def(wn,".id"),ar=_n.def(Un,"[",Hn,"]");_n(ln.cond(ar).then(ar,".call(this,a0);").else(ar,"=",Un,"[",Hn,"]=",ln.link(function(tr){return Cn(Zn,ln,fn,tr,1)}),"(",wn,");",ar,".call(this,a0);"))}0<Object.keys(fn.state).length&&_n(ln.shared.current,".dirty=true;"),ln.shared.vao&&_n(ln.shared.vao,".setVAO(null);")}(Gn,bn),function er(Ft,on){function un(ln){var fn=on.shader[ln];fn&&(fn=fn.append(Ft,On),isNaN(fn)?On.set(Fn.shader,"."+ln,fn):On.set(Fn.shader,"."+ln,Ft.link(fn,{stable:!0})))}var On=Ft.proc("scope",3);Ft.batchId="a2";var Fn=Ft.shared,Gn=Fn.current;if(Mn(Ft,On,on.context),on.framebuffer&&on.framebuffer.append(Ft,On),Z(Object.keys(on.state)).forEach(function(ln){var fn=on.state[ln],_n=fn.append(Ft,On);T(_n)?_n.forEach(function(wn,Un){isNaN(wn)?On.set(Ft.next[ln],"["+Un+"]",wn):On.set(Ft.next[ln],"["+Un+"]",Ft.link(wn,{stable:!0}))}):se(fn)?On.set(Fn.next,"."+ln,Ft.link(_n,{stable:!0})):On.set(Fn.next,"."+ln,_n)}),kn(Ft,On,on,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(ln){var fn=on.draw[ln];fn&&(fn=fn.append(Ft,On),isNaN(fn)?On.set(Fn.draw,"."+ln,fn):On.set(Fn.draw,"."+ln,Ft.link(fn),{stable:!0}))}),Object.keys(on.uniforms).forEach(function(ln){var fn=on.uniforms[ln].append(Ft,On);Array.isArray(fn)&&(fn="["+fn.map(function(_n){return isNaN(_n)?_n:Ft.link(_n,{stable:!0})})+"]"),On.set(Fn.uniforms,"["+Ft.link(rt.id(ln),{stable:!0})+"]",fn)}),Object.keys(on.attributes).forEach(function(ln){var fn=on.attributes[ln].append(Ft,On),_n=Ft.scopeAttrib(ln);Object.keys(new dr).forEach(function(wn){On.set(_n,"."+wn,fn[wn])})}),on.scopeVAO){var bn=on.scopeVAO.append(Ft,On);isNaN(bn)?On.set(Fn.vao,".targetVAO",bn):On.set(Fn.vao,".targetVAO",Ft.link(bn,{stable:!0}))}un("vert"),un("frag"),0<Object.keys(on.state).length&&(On(Gn,".dirty=true;"),On.exit(Gn,".dirty=true;")),On("a1(",Ft.shared.context,",a0,",Ft.batchId,");")}(Gn,bn),function(ln,fn){function _n(Vn){return Vn.contextDep&&Un||Vn.propDep}var wn=ln.proc("batch",2);ln.batchId="0",yn(ln,wn);var Un=!1,Hn=!0;Object.keys(fn.context).forEach(function(Vn){Un=Un||fn.context[Vn].propDep}),Un||(Mn(ln,wn,fn.context),Hn=!1);var ar=!1;if((tr=fn.framebuffer)?(tr.propDep?Un=ar=!0:tr.contextDep&&Un&&(ar=!0),ar||en(ln,wn,tr)):en(ln,wn,null),fn.state.viewport&&fn.state.viewport.propDep&&(Un=!0),gn(ln,wn,fn),an(ln,wn,fn.state,function(Vn){return!_n(Vn)}),fn.profile&&_n(fn.profile)||kn(ln,wn,fn,!1,"a1"),fn.contextDep=Un,fn.needsContext=Hn,fn.needsFramebuffer=ar,(Hn=fn.shader.progVar).contextDep&&Un||Hn.propDep)lr(ln,wn,fn,null);else if(Hn=Hn.append(ln,wn),wn(ln.shared.gl,".useProgram(",Hn,".program);"),fn.shader.program)lr(ln,wn,fn,fn.shader.program);else{wn(ln.shared.vao,".setVAO(null);");var tr=ln.global.def("{}"),gr=(ar=wn.def(Hn,".id"),wn.def(tr,"[",ar,"]"));wn(ln.cond(gr).then(gr,".call(this,a0,a1);").else(gr,"=",tr,"[",ar,"]=",ln.link(function(Vn){return Cn(lr,ln,fn,Vn,2)}),"(",Hn,");",gr,".call(this,a0,a1);"))}0<Object.keys(fn.state).length&&wn(ln.shared.current,".dirty=true;"),ln.shared.vao&&wn(ln.shared.vao,".setVAO(null);")}(Gn,bn),oe(Gn.compile(),{destroy:function(){bn.shader.program.destroy()}})}}}function ee(Ke,rt){for(var ft=0;ft<Ke.length;++ft)if(Ke[ft]===rt)return ft;return-1}var oe=function(Ke,rt){for(var ft=Object.keys(rt),ht=0;ht<ft.length;++ht)Ke[ft[ht]]=rt[ft[ht]];return Ke},ce=0,ue={DynamicVariable:B,define:function(Ke,rt){return new B(Ke,D(rt+""))},isDynamic:function(Ke){return"function"==typeof Ke&&!Ke._reglType||Ke instanceof B},unbox:function Ke(rt,ft){return"function"==typeof rt?new B(0,rt):"number"==typeof rt||"boolean"==typeof rt?new B(5,rt):Array.isArray(rt)?new B(6,rt.map(function(ht,Ve){return Ke(ht,ft+"["+Ve+"]")})):rt instanceof B?rt:void 0},accessor:D},he={next:"function"==typeof requestAnimationFrame?function(Ke){return requestAnimationFrame(Ke)}:function(Ke){return setTimeout(Ke,16)},cancel:"function"==typeof cancelAnimationFrame?function(Ke){return cancelAnimationFrame(Ke)}:clearTimeout},ve=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ke=u();ke.zero=u();var Me=function(Ke){return Ke instanceof Uint8Array||Ke instanceof Uint16Array||Ke instanceof Uint32Array||Ke instanceof Int8Array||Ke instanceof Int16Array||Ke instanceof Int32Array||Ke instanceof Float32Array||Ke instanceof Float64Array||Ke instanceof Uint8ClampedArray},_e=function(Ke){return Object.keys(Ke).map(function(rt){return Ke[rt]})},we={shape:function(Ke){for(var rt=[];Ke.length;Ke=Ke[0])rt.push(Ke.length);return rt},flatten:function(Ke,rt,ft,ht){var Ve=1;if(rt.length)for(var Ge=0;Ge<rt.length;++Ge)Ve*=rt[Ge];else Ve=0;switch(ft=ht||ke.allocType(ft,Ve),rt.length){case 0:break;case 1:for(ht=rt[0],rt=0;rt<ht;++rt)ft[rt]=Ke[rt];break;case 2:for(ht=rt[0],rt=rt[1],Ge=Ve=0;Ge<ht;++Ge)for(var ut=Ke[Ge],dt=0;dt<rt;++dt)ft[Ve++]=ut[dt];break;case 3:s(Ke,rt[0],rt[1],rt[2],ft,0);break;default:a(Ke,rt,0,ft,0)}return ft}},ze={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ee={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Se={dynamic:35048,stream:35040,static:35044},me=we.flatten,fe=we.shape,le=[];le[5120]=1,le[5122]=2,le[5124]=4,le[5121]=1,le[5123]=2,le[5125]=4,le[5126]=4;var Te={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Re=new Float32Array(1),De=new Uint32Array(Re.buffer),Ue=[9984,9986,9985,9987],Ze=[0,6409,6410,6407,6408],xe={};xe[6409]=xe[6406]=xe[6402]=1,xe[34041]=xe[6410]=2,xe[6407]=xe[35904]=3,xe[6408]=xe[35906]=4;var Oe=x("HTMLCanvasElement"),Ce=x("OffscreenCanvas"),Be=x("CanvasRenderingContext2D"),qe=x("ImageBitmap"),He=x("HTMLImageElement"),Je=x("HTMLVideoElement"),et=Object.keys(ze).concat([Oe,Ce,Be,qe,He,Je]),st=[];st[5121]=1,st[5126]=4,st[36193]=2,st[5123]=2,st[5125]=4;var pt=[];pt[32854]=2,pt[32855]=2,pt[36194]=2,pt[34041]=4,pt[33776]=.5,pt[33777]=.5,pt[33778]=1,pt[33779]=1,pt[35986]=.5,pt[35987]=1,pt[34798]=1,pt[35840]=.5,pt[35841]=.25,pt[35842]=.5,pt[35843]=.25,pt[36196]=.5;var ct=[];ct[32854]=2,ct[32855]=2,ct[36194]=2,ct[33189]=2,ct[36168]=1,ct[34041]=4,ct[35907]=4,ct[34836]=16,ct[34842]=8,ct[34843]=6;var Dt=[];Dt[6408]=4,Dt[6407]=3;var vt=[];vt[5121]=1,vt[5126]=4,vt[36193]=2;var gt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Et=["x","y","z","w"],Pt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ot={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ht={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},zt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},nt={cw:2304,ccw:2305},it=new $(!1,!1,!1,function(){});return function(Ke){function rt(){if(0===mr.length)nn&&nn.update(),dr=null;else{dr=he.next(rt),At();for(var Kt=mr.length-1;0<=Kt;--Kt){var qt=mr[Kt];qt&&qt(Pn,null,0)}_t.flush(),nn&&nn.update()}}function ft(){!dr&&0<mr.length&&(dr=he.next(rt))}function ht(){dr&&(he.cancel(rt),dr=null)}function Ve(Kt){Kt.preventDefault(),ht(),lr.forEach(function(qt){qt()})}function Ge(Kt){_t.getError(),It.restore(),yn.restore(),en.restore(),kn.restore(),Ln.restore(),Rn.restore(),an.restore(),nn&&nn.restore(),Wn.procs.refresh(),ft(),er.forEach(function(qt){qt()})}function ut(Kt){function qt(Ft,on){var un={},On={};return Object.keys(Ft).forEach(function(Fn){var Gn=Ft[Fn];if(ue.isDynamic(Gn))On[Fn]=ue.unbox(Gn,Fn);else{if(on&&Array.isArray(Gn))for(var bn=0;bn<Gn.length;++bn)if(ue.isDynamic(Gn[bn]))return void(On[Fn]=ue.unbox(Gn,Fn));un[Fn]=Gn}}),{dynamic:On,static:un}}var Tn=qt(Kt.context||{},!0),xn=qt(Kt.uniforms||{},!0),In=qt(Kt.attributes||{},!1);Kt=qt(function(Ft){function on(On){if(On in un){var Fn=un[On];delete un[On],Object.keys(Fn).forEach(function(Gn){un[On+"."+Gn]=Fn[Gn]})}}var un=oe({},Ft);return delete un.uniforms,delete un.attributes,delete un.context,delete un.vao,"stencil"in un&&un.stencil.op&&(un.stencil.opBack=un.stencil.opFront=un.stencil.op,delete un.stencil.op),on("blend"),on("depth"),on("cull"),on("stencil"),on("polygonOffset"),on("scissor"),on("sample"),"vao"in Ft&&(un.vao=Ft.vao),un}(Kt),!1);var cr={gpuTime:0,cpuTime:0,count:0},Kn=Wn.compile(Kt,In,xn,Tn,cr),Jn=Kn.draw,vr=Kn.batch,Qt=Kn.scope,zn=[];return oe(function(Ft,on){var un;if("function"==typeof Ft)return Qt.call(this,null,Ft,0);if("function"==typeof on)if("number"==typeof Ft)for(un=0;un<Ft;++un)Qt.call(this,null,on,un);else{if(!Array.isArray(Ft))return Qt.call(this,Ft,on,0);for(un=0;un<Ft.length;++un)Qt.call(this,Ft[un],on,un)}else if("number"==typeof Ft){if(0<Ft)return vr.call(this,function(On){for(;zn.length<On;)zn.push(null);return zn}(0|Ft),0|Ft)}else{if(!Array.isArray(Ft))return Jn.call(this,Ft);if(Ft.length)return vr.call(this,Ft,Ft.length)}},{stats:cr,destroy:function(){Kn.destroy()}})}function dt(Kt,qt){var Tn=0;Wn.procs.poll();var xn=qt.color;xn&&(_t.clearColor(+xn[0]||0,+xn[1]||0,+xn[2]||0,+xn[3]||0),Tn|=16384),"depth"in qt&&(_t.clearDepth(+qt.depth),Tn|=256),"stencil"in qt&&(_t.clearStencil(0|qt.stencil),Tn|=1024),_t.clear(Tn)}function kt(Kt){return mr.push(Kt),ft(),{cancel:function(){var qt=ee(mr,Kt);mr[qt]=function Tn(){var xn=ee(mr,Tn);mr[xn]=mr[mr.length-1],--mr.length,0>=mr.length&&ht()}}}}function bt(){var Kt=Cn.viewport,qt=Cn.scissor_box;Kt[0]=Kt[1]=qt[0]=qt[1]=0,Pn.viewportWidth=Pn.framebufferWidth=Pn.drawingBufferWidth=Kt[2]=qt[2]=_t.drawingBufferWidth,Pn.viewportHeight=Pn.framebufferHeight=Pn.drawingBufferHeight=Kt[3]=qt[3]=_t.drawingBufferHeight}function At(){Pn.tick+=1,Pn.time=Rt(),bt(),Wn.procs.poll()}function xt(){kn.refresh(),bt(),Wn.procs.refresh(),nn&&nn.update()}function Rt(){return(ve()-cn)/1e3}if(!(Ke=function S(Ke){var rt,ft,ht,Ve,Ge=Ke||{};Ke={};var ut=[],dt=[],kt=typeof window>"u"?1:window.devicePixelRatio,bt=!1,At={},xt=function(_t){},Rt=function(){};if("string"==typeof Ge?rt=document.querySelector(Ge):"object"==typeof Ge&&("string"==typeof Ge.nodeName&&"function"==typeof Ge.appendChild&&"function"==typeof Ge.getBoundingClientRect?rt=Ge:"function"==typeof Ge.drawArrays||"function"==typeof Ge.drawElements?ht=(Ve=Ge).canvas:("gl"in Ge?Ve=Ge.gl:"canvas"in Ge?ht=d(Ge.canvas):"container"in Ge&&(ft=d(Ge.container)),"attributes"in Ge&&(Ke=Ge.attributes),"extensions"in Ge&&(ut=E(Ge.extensions)),"optionalExtensions"in Ge&&(dt=E(Ge.optionalExtensions)),"onDone"in Ge&&(xt=Ge.onDone),"profile"in Ge&&(bt=!!Ge.profile),"pixelRatio"in Ge&&(kt=+Ge.pixelRatio),"cachedCode"in Ge&&(At=Ge.cachedCode))),rt&&("canvas"===rt.nodeName.toLowerCase()?ht=rt:ft=rt),!Ve){if(!ht){if(!(rt=function(_t,Tt,It){function Wt(){var dn=window.innerWidth,nn=window.innerHeight;_t!==document.body&&(dn=(nn=$t.getBoundingClientRect()).right-nn.left,nn=nn.bottom-nn.top),$t.width=It*dn,$t.height=It*nn}var Zt,$t=document.createElement("canvas");return oe($t.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),_t.appendChild($t),_t===document.body&&($t.style.position="absolute",oe(_t.style,{margin:0,padding:0})),_t!==document.body&&"function"==typeof ResizeObserver?(Zt=new ResizeObserver(function(){setTimeout(Wt)})).observe(_t):window.addEventListener("resize",Wt,!1),Wt(),{canvas:$t,onDestroy:function(){Zt?Zt.disconnect():window.removeEventListener("resize",Wt),_t.removeChild($t)}}}(ft||document.body,0,kt)))return null;ht=rt.canvas,Rt=rt.onDestroy}void 0===Ke.premultipliedAlpha&&(Ke.premultipliedAlpha=!0),Ve=function(_t,Tt){function It(Wt){try{return _t.getContext(Wt,Tt)}catch{return null}}return It("webgl")||It("experimental-webgl")||It("webgl-experimental")}(ht,Ke)}return Ve?{gl:Ve,canvas:ht,container:ft,extensions:ut,optionalExtensions:dt,pixelRatio:kt,profile:bt,cachedCode:At,onDone:xt,onDestroy:Rt}:(Rt(),xt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}(Ke)))return null;var _t=Ke.gl,Tt=_t.getContextAttributes();_t.isContextLost();var It=function(Kt,qt){function Tn(Kn){var Jn;Kn=Kn.toLowerCase();try{Jn=xn[Kn]=Kt.getExtension(Kn)}catch{}return!!Jn}for(var xn={},In=0;In<qt.extensions.length;++In){var cr=qt.extensions[In];if(!Tn(cr))return qt.onDestroy(),qt.onDone('"'+cr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return qt.optionalExtensions.forEach(Tn),{extensions:xn,restore:function(){Object.keys(xn).forEach(function(Kn){if(xn[Kn]&&!Tn(Kn))throw Error("(regl): error restoring extension "+Kn)})}}}(_t,Ke);if(!It)return null;var Kt,qt,Wt=(Kt={"":0},qt=[""],{id:function(Tn){var xn=Kt[Tn];return xn||(xn=Kt[Tn]=qt.length,qt.push(Tn),xn)},str:function(Tn){return qt[Tn]}}),Zt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},$t=Ke.cachedCode||{},dn=It.extensions,nn=function(Kt,qt){function Tn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function xn(zn,Ft,on){var un=Kn.pop()||new Tn;un.startQueryIndex=zn,un.endQueryIndex=Ft,un.sum=0,un.stats=on,Jn.push(un)}if(!qt.ext_disjoint_timer_query)return null;var In=[],cr=[],Kn=[],Jn=[],vr=[],Qt=[];return{beginQuery:function(zn){var Ft=In.pop()||qt.ext_disjoint_timer_query.createQueryEXT();qt.ext_disjoint_timer_query.beginQueryEXT(35007,Ft),cr.push(Ft),xn(cr.length-1,cr.length,zn)},endQuery:function(){qt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:xn,update:function(){var zn,Ft;if(0!==(zn=cr.length)){Qt.length=Math.max(Qt.length,zn+1),vr.length=Math.max(vr.length,zn+1),vr[0]=0;var on=Qt[0]=0;for(Ft=zn=0;Ft<cr.length;++Ft){var un=cr[Ft];qt.ext_disjoint_timer_query.getQueryObjectEXT(un,34919)?(on+=qt.ext_disjoint_timer_query.getQueryObjectEXT(un,34918),In.push(un)):cr[zn++]=un,vr[Ft+1]=on,Qt[Ft+1]=zn}for(cr.length=zn,Ft=zn=0;Ft<Jn.length;++Ft){var On=(on=Jn[Ft]).startQueryIndex;on.sum+=vr[un=on.endQueryIndex]-vr[On],(un=Qt[un])===(On=Qt[On])?(on.stats.gpuTime+=on.sum/1e6,Kn.push(on)):(on.startQueryIndex=On,on.endQueryIndex=un,Jn[zn++]=on)}Jn.length=zn}},getNumPendingQueries:function(){return cr.length},clear:function(){In.push.apply(In,cr);for(var zn=0;zn<In.length;zn++)qt.ext_disjoint_timer_query.deleteQueryEXT(In[zn]);cr.length=0,In.length=0},restore:function(){cr.length=0,In.length=0}}}(0,dn),cn=ve(),rn=_t.drawingBufferWidth,En=_t.drawingBufferHeight,Pn={tick:0,time:0,viewportWidth:rn,viewportHeight:En,framebufferWidth:rn,framebufferHeight:En,drawingBufferWidth:rn,drawingBufferHeight:En,pixelRatio:Ke.pixelRatio},Mn=(rn={elements:null,primitive:4,count:-1,offset:0,instances:-1},function(Ke,rt){var ft=1;rt.ext_texture_filter_anisotropic&&(ft=Ke.getParameter(34047));var ht=1,Ve=1;rt.webgl_draw_buffers&&(ht=Ke.getParameter(34852),Ve=Ke.getParameter(36063));var Ge=!!rt.oes_texture_float;if(Ge){Ge=Ke.createTexture(),Ke.bindTexture(3553,Ge),Ke.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=Ke.createFramebuffer();if(Ke.bindFramebuffer(36160,ut),Ke.framebufferTexture2D(36160,36064,3553,Ge,0),Ke.bindTexture(3553,null),36053!==Ke.checkFramebufferStatus(36160))Ge=!1;else{Ke.viewport(0,0,1,1),Ke.clearColor(1,0,0,1),Ke.clear(16384);var dt=ke.allocType(5126,4);Ke.readPixels(0,0,1,1,6408,5126,dt),Ke.getError()?Ge=!1:(Ke.deleteFramebuffer(ut),Ke.deleteTexture(Ge),Ge=1===dt[0]),ke.freeType(dt)}}return dt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(dt=Ke.createTexture(),ut=ke.allocType(5121,36),Ke.activeTexture(33984),Ke.bindTexture(34067,dt),Ke.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),ke.freeType(ut),Ke.bindTexture(34067,null),Ke.deleteTexture(dt),dt=!Ke.getError()),{colorBits:[Ke.getParameter(3410),Ke.getParameter(3411),Ke.getParameter(3412),Ke.getParameter(3413)],depthBits:Ke.getParameter(3414),stencilBits:Ke.getParameter(3415),subpixelBits:Ke.getParameter(3408),extensions:Object.keys(rt).filter(function(kt){return!!rt[kt]}),maxAnisotropic:ft,maxDrawbuffers:ht,maxColorAttachments:Ve,pointSizeDims:Ke.getParameter(33901),lineWidthDims:Ke.getParameter(33902),maxViewportDims:Ke.getParameter(3386),maxCombinedTextureUnits:Ke.getParameter(35661),maxCubeMapSize:Ke.getParameter(34076),maxRenderbufferSize:Ke.getParameter(34024),maxTextureUnits:Ke.getParameter(34930),maxTextureSize:Ke.getParameter(3379),maxAttributes:Ke.getParameter(34921),maxVertexUniforms:Ke.getParameter(36347),maxVertexTextureUnits:Ke.getParameter(35660),maxVaryingVectors:Ke.getParameter(36348),maxFragmentUniforms:Ke.getParameter(36349),glsl:Ke.getParameter(35724),renderer:Ke.getParameter(7937),vendor:Ke.getParameter(7936),version:Ke.getParameter(7938),readFloat:Ge,npotTextureCube:dt}}(_t,dn)),en=function f(Ke,rt,ft,ht){function Ve(xt){this.id=kt++,this.buffer=Ke.createBuffer(),this.type=xt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,ft.profile&&(this.stats={size:0})}function Ge(xt,Rt,_t){xt.byteLength=Rt.byteLength,Ke.bufferData(xt.type,Rt,_t)}function ut(xt,Rt,_t,Tt,It,Wt){if(xt.usage=_t,Array.isArray(Rt)){if(xt.dtype=Tt||5126,0<Rt.length)if(Array.isArray(Rt[0])){It=fe(Rt);for(var Zt=Tt=1;Zt<It.length;++Zt)Tt*=It[Zt];xt.dimension=Tt,Ge(xt,Rt=me(Rt,It,xt.dtype),_t),Wt?xt.persistentData=Rt:ke.freeType(Rt)}else"number"==typeof Rt[0]?(xt.dimension=It,l(It=ke.allocType(xt.dtype,Rt.length),Rt),Ge(xt,It,_t),Wt?xt.persistentData=It:ke.freeType(It)):Me(Rt[0])&&(xt.dimension=Rt[0].length,xt.dtype=Tt||o(Rt[0])||5126,Ge(xt,Rt=me(Rt,[Rt.length,Rt[0].length],xt.dtype),_t),Wt?xt.persistentData=Rt:ke.freeType(Rt))}else if(Me(Rt))xt.dtype=Tt||o(Rt),xt.dimension=It,Ge(xt,Rt,_t),Wt&&(xt.persistentData=new Uint8Array(new Uint8Array(Rt.buffer)));else if(i(Rt)){var $t=Rt.stride,dn=(Zt=Rt.offset,0),nn=0,cn=0,rn=0;1===(It=Rt.shape).length?(dn=It[0],nn=1,cn=$t[0],rn=0):2===It.length&&(dn=It[0],nn=It[1],cn=$t[0],rn=$t[1]),xt.dtype=Tt||o(Rt.data)||5126,xt.dimension=nn,c(It=ke.allocType(xt.dtype,dn*nn),Rt.data,dn,nn,cn,rn,Zt),Ge(xt,It,_t),Wt?xt.persistentData=It:ke.freeType(It)}else Rt instanceof ArrayBuffer&&(xt.dtype=5121,xt.dimension=It,Ge(xt,Rt,_t),Wt&&(xt.persistentData=new Uint8Array(new Uint8Array(Rt))))}function dt(xt){rt.bufferCount--,ht(xt),Ke.deleteBuffer(xt.buffer),xt.buffer=null,delete bt[xt.id]}var kt=0,bt={};Ve.prototype.bind=function(){Ke.bindBuffer(this.type,this.buffer)},Ve.prototype.destroy=function(){dt(this)};var At=[];return ft.profile&&(rt.getTotalBufferSize=function(){var xt=0;return Object.keys(bt).forEach(function(Rt){xt+=bt[Rt].stats.size}),xt}),{create:function(xt,Rt,_t,Tt){function It(Zt){var $t=35044,dn=null,nn=0,cn=0,rn=1;return Array.isArray(Zt)||Me(Zt)||i(Zt)||Zt instanceof ArrayBuffer?dn=Zt:"number"==typeof Zt?nn=0|Zt:Zt&&("data"in Zt&&(dn=Zt.data),"usage"in Zt&&($t=Se[Zt.usage]),"type"in Zt&&(cn=Ee[Zt.type]),"dimension"in Zt&&(rn=0|Zt.dimension),"length"in Zt&&(nn=0|Zt.length)),Wt.bind(),dn?ut(Wt,dn,$t,cn,rn,Tt):(nn&&Ke.bufferData(Wt.type,nn,$t),Wt.dtype=cn||5121,Wt.usage=$t,Wt.dimension=rn,Wt.byteLength=nn),ft.profile&&(Wt.stats.size=Wt.byteLength*le[Wt.dtype]),It}rt.bufferCount++;var Wt=new Ve(Rt);return bt[Wt.id]=Wt,_t||It(xt),It._reglType="buffer",It._buffer=Wt,It.subdata=function(Zt,$t){var dn,nn=0|($t||0);if(Wt.bind(),Me(Zt)||Zt instanceof ArrayBuffer)Ke.bufferSubData(Wt.type,nn,Zt);else if(Array.isArray(Zt)){if(0<Zt.length)if("number"==typeof Zt[0]){var cn=ke.allocType(Wt.dtype,Zt.length);l(cn,Zt),Ke.bufferSubData(Wt.type,nn,cn),ke.freeType(cn)}else(Array.isArray(Zt[0])||Me(Zt[0]))&&(dn=fe(Zt),cn=me(Zt,dn,Wt.dtype),Ke.bufferSubData(Wt.type,nn,cn),ke.freeType(cn))}else if(i(Zt)){var rn=Zt.stride,En=cn=0,Pn=0,Mn=0;1===(dn=Zt.shape).length?(cn=dn[0],En=1,Pn=rn[0],Mn=0):2===dn.length&&(cn=dn[0],En=dn[1],Pn=rn[0],Mn=rn[1]),dn=Array.isArray(Zt.data)?Wt.dtype:o(Zt.data),c(dn=ke.allocType(dn,cn*En),Zt.data,cn,En,Pn,Mn,Zt.offset),Ke.bufferSubData(Wt.type,nn,dn),ke.freeType(dn)}return It},ft.profile&&(It.stats=Wt.stats),It.destroy=function(){dt(Wt)},It},createStream:function(xt,Rt){var _t=At.pop();return _t||(_t=new Ve(xt)),_t.bind(),ut(_t,Rt,35040,0,1,!1),_t},destroyStream:function(xt){At.push(xt)},clear:function(){_e(bt).forEach(dt),At.forEach(dt)},getBuffer:function(xt){return xt&&xt._buffer instanceof Ve?xt._buffer:null},restore:function(){_e(bt).forEach(function(xt){xt.buffer=Ke.createBuffer(),Ke.bindBuffer(xt.type,xt.buffer),Ke.bufferData(xt.type,xt.persistentData||xt.byteLength,xt.usage)})},_initBuffer:ut}}(_t,Zt,Ke,function(Kt){return an.destroyBuffer(Kt)}),gn=function g(Ke,rt,ft,ht){function Ve(xt){this.id=kt++,dt[this.id]=this,this.buffer=xt,this.primType=4,this.type=this.vertCount=0}function Ge(xt,Rt,_t,Tt,It,Wt,Zt){var $t;if(xt.buffer.bind(),Rt?(($t=Zt)||Me(Rt)&&(!i(Rt)||Me(Rt.data))||($t=rt.oes_element_index_uint?5125:5123),ft._initBuffer(xt.buffer,Rt,_t,$t,3)):(Ke.bufferData(34963,Wt,_t),xt.buffer.dtype=$t||5121,xt.buffer.usage=_t,xt.buffer.dimension=3,xt.buffer.byteLength=Wt),$t=Zt,!Zt){switch(xt.buffer.dtype){case 5121:case 5120:$t=5121;break;case 5123:case 5122:$t=5123;break;case 5125:case 5124:$t=5125}xt.buffer.dtype=$t}xt.type=$t,0>(Rt=It)&&(Rt=xt.buffer.byteLength,5123===$t?Rt>>=1:5125===$t&&(Rt>>=2)),xt.vertCount=Rt,Rt=Tt,0>Tt&&(Rt=4,1===(Tt=xt.buffer.dimension)&&(Rt=0),2===Tt&&(Rt=1),3===Tt&&(Rt=4)),xt.primType=Rt}function ut(xt){ht.elementsCount--,delete dt[xt.id],xt.buffer.destroy(),xt.buffer=null}var dt={},kt=0,bt={uint8:5121,uint16:5123};rt.oes_element_index_uint&&(bt.uint32=5125),Ve.prototype.bind=function(){this.buffer.bind()};var At=[];return{create:function(xt,Rt){function _t(Wt){if(Wt)if("number"==typeof Wt)Tt(Wt),It.primType=4,It.vertCount=0|Wt,It.type=5121;else{var Zt=null,$t=35044,dn=-1,nn=-1,cn=0,rn=0;Array.isArray(Wt)||Me(Wt)||i(Wt)?Zt=Wt:("data"in Wt&&(Zt=Wt.data),"usage"in Wt&&($t=Se[Wt.usage]),"primitive"in Wt&&(dn=Te[Wt.primitive]),"count"in Wt&&(nn=0|Wt.count),"type"in Wt&&(rn=bt[Wt.type]),"length"in Wt?cn=0|Wt.length:(cn=nn,5123===rn||5122===rn?cn*=2:5125!==rn&&5124!==rn||(cn*=4))),Ge(It,Zt,$t,dn,nn,cn,rn)}else Tt(),It.primType=4,It.vertCount=0,It.type=5121;return _t}var Tt=ft.create(null,34963,!0),It=new Ve(Tt._buffer);return ht.elementsCount++,_t(xt),_t._reglType="elements",_t._elements=It,_t.subdata=function(Wt,Zt){return Tt.subdata(Wt,Zt),_t},_t.destroy=function(){ut(It)},_t},createStream:function(xt){var Rt=At.pop();return Rt||(Rt=new Ve(ft.create(null,34963,!0,!1)._buffer)),Ge(Rt,xt,35040,-1,-1,0,0),Rt},destroyStream:function(xt){At.push(xt)},getElements:function(xt){return"function"==typeof xt&&xt._elements instanceof Ve?xt._elements:null},clear:function(){_e(dt).forEach(ut)}}}(_t,dn,en,Zt),an=function O(Ke,rt,ft,ht,Ve,Ge,ut){function dt(){this.id=++At,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var _t=rt.oes_vertex_array_object;this.vao=_t?_t.createVertexArrayOES():null,xt[this.id]=this,this.buffers=[]}var kt=ft.maxAttributes,bt=Array(kt);for(ft=0;ft<kt;++ft)bt[ft]=new L;var At=0,xt={},Rt={Record:L,scope:{},state:bt,currentVAO:null,targetVAO:null,restore:rt.oes_vertex_array_object?function(){rt.oes_vertex_array_object&&_e(xt).forEach(function(_t){_t.refresh()})}:function(){},createVAO:function(_t){function Tt(Wt){var Zt;Array.isArray(Wt)?(Zt=Wt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(Wt.elements?(Zt=Wt.elements,It.ownsElements?("function"==typeof Zt&&"elements"===Zt._reglType?It.elements.destroy():It.elements(Zt),It.ownsElements=!1):Ge.getElements(Wt.elements)?(It.elements=Wt.elements,It.ownsElements=!1):(It.elements=Ge.create(Wt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),Zt=Wt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in Wt&&(It.offset=0|Wt.offset),"count"in Wt&&(It.count=0|Wt.count),"instances"in Wt&&(It.instances=0|Wt.instances),"primitive"in Wt&&(It.primitive=Te[Wt.primitive])),Wt={};var $t=It.attributes;$t.length=Zt.length;for(var dn=0;dn<Zt.length;++dn){var nn,cn=Zt[dn],rn=$t[dn]=new L,En=cn.data||cn;Array.isArray(En)||Me(En)||i(En)?(It.buffers[dn]&&(nn=It.buffers[dn],Me(En)&&nn._buffer.byteLength>=En.byteLength?nn.subdata(En):(nn.destroy(),It.buffers[dn]=null)),It.buffers[dn]||(nn=It.buffers[dn]=Ve.create(cn,34962,!1,!0)),rn.buffer=Ve.getBuffer(nn),rn.size=0|rn.buffer.dimension,rn.normalized=!1,rn.type=rn.buffer.dtype,rn.offset=0,rn.stride=0,rn.divisor=0,rn.state=1,Wt[dn]=1):Ve.getBuffer(cn)?(rn.buffer=Ve.getBuffer(cn),rn.size=0|rn.buffer.dimension,rn.normalized=!1,rn.type=rn.buffer.dtype,rn.offset=0,rn.stride=0,rn.divisor=0,rn.state=1):Ve.getBuffer(cn.buffer)?(rn.buffer=Ve.getBuffer(cn.buffer),rn.size=0|(+cn.size||rn.buffer.dimension),rn.normalized=!!cn.normalized||!1,rn.type="type"in cn?Ee[cn.type]:rn.buffer.dtype,rn.offset=0|(cn.offset||0),rn.stride=0|(cn.stride||0),rn.divisor=0|(cn.divisor||0),rn.state=1):"x"in cn&&(rn.x=+cn.x||0,rn.y=+cn.y||0,rn.z=+cn.z||0,rn.w=+cn.w||0,rn.state=2)}for(nn=0;nn<It.buffers.length;++nn)!Wt[nn]&&It.buffers[nn]&&(It.buffers[nn].destroy(),It.buffers[nn]=null);return It.refresh(),Tt}var It=new dt;return ht.vaoCount+=1,Tt.destroy=function(){for(var Wt=0;Wt<It.buffers.length;++Wt)It.buffers[Wt]&&It.buffers[Wt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},Tt._vao=It,Tt._reglType="vao",Tt(_t)},getVAO:function(_t){return"function"==typeof _t&&_t._vao?_t._vao:null},destroyBuffer:function(_t){for(var Tt=0;Tt<bt.length;++Tt){var It=bt[Tt];It.buffer===_t&&(Ke.disableVertexAttribArray(Tt),It.buffer=null)}},setVAO:rt.oes_vertex_array_object?function(_t){_t!==Rt.currentVAO&&(rt.oes_vertex_array_object.bindVertexArrayOES(_t?_t.vao:null),Rt.currentVAO=_t)}:function(_t){if(_t!==Rt.currentVAO){if(_t)_t.bindAttrs();else{for(var Tt=rt.angle_instanced_arrays,It=0;It<bt.length;++It){var Wt=bt[It];Wt.buffer?(Ke.enableVertexAttribArray(It),Wt.buffer.bind(),Ke.vertexAttribPointer(It,Wt.size,Wt.type,Wt.normalized,Wt.stride,Wt.offfset),Tt&&Wt.divisor&&Tt.vertexAttribDivisorANGLE(It,Wt.divisor)):(Ke.disableVertexAttribArray(It),Ke.vertexAttrib4f(It,Wt.x,Wt.y,Wt.z,Wt.w))}Ke.bindBuffer(34963,ut.elements?ut.elements.buffer.buffer:null)}Rt.currentVAO=_t}},clear:rt.oes_vertex_array_object?function(){_e(xt).forEach(function(_t){_t.destroy()})}:function(){}};return dt.prototype.bindAttrs=function(){for(var _t=rt.angle_instanced_arrays,Tt=this.attributes,It=0;It<Tt.length;++It){var Wt=Tt[It];Wt.buffer?(Ke.enableVertexAttribArray(It),Ke.bindBuffer(34962,Wt.buffer.buffer),Ke.vertexAttribPointer(It,Wt.size,Wt.type,Wt.normalized,Wt.stride,Wt.offset),_t&&Wt.divisor&&_t.vertexAttribDivisorANGLE(It,Wt.divisor)):(Ke.disableVertexAttribArray(It),Ke.vertexAttrib4f(It,Wt.x,Wt.y,Wt.z,Wt.w))}for(_t=Tt.length;_t<kt;++_t)Ke.disableVertexAttribArray(_t);(_t=Ge.getElements(this.elements))?Ke.bindBuffer(34963,_t.buffer.buffer):Ke.bindBuffer(34963,null)},dt.prototype.refresh=function(){var _t=rt.oes_vertex_array_object;_t&&(_t.bindVertexArrayOES(this.vao),this.bindAttrs(),Rt.currentVAO=null,_t.bindVertexArrayOES(null))},dt.prototype.destroy=function(){if(this.vao){var _t=rt.oes_vertex_array_object;this===Rt.currentVAO&&(Rt.currentVAO=null,_t.bindVertexArrayOES(null)),_t.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),xt[this.id]&&(delete xt[this.id],--ht.vaoCount)},Rt}(_t,dn,Mn,Zt,en,gn,rn),yn=function P(Ke,rt,ft,ht){function Ve(Tt,It,Wt,Zt){this.name=Tt,this.id=It,this.location=Wt,this.info=Zt}function Ge(Tt,It){for(var Wt=0;Wt<Tt.length;++Wt)if(Tt[Wt].id===It.id)return void(Tt[Wt].location=It.location);Tt.push(It)}function ut(Tt,It,Wt){if(!($t=(Wt=35632===Tt?bt:At)[It])){var Zt=rt.str(It),$t=Ke.createShader(Tt);Ke.shaderSource($t,Zt),Ke.compileShader($t),Wt[It]=$t}return $t}function dt(Tt,It){this.id=_t++,this.fragId=Tt,this.vertId=It,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ht.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function kt(Tt,It,Wt){var Zt;Zt=ut(35632,Tt.fragId);var $t=ut(35633,Tt.vertId);if(It=Tt.program=Ke.createProgram(),Ke.attachShader(It,Zt),Ke.attachShader(It,$t),Wt)for(Zt=0;Zt<Wt.length;++Zt)Ke.bindAttribLocation(It,($t=Wt[Zt])[0],$t[1]);Ke.linkProgram(It),$t=Ke.getProgramParameter(It,35718),ht.profile&&(Tt.stats.uniformsCount=$t);var dn=Tt.uniforms;for(Zt=0;Zt<$t;++Zt)if(Wt=Ke.getActiveUniform(It,Zt))if(1<Wt.size)for(var nn=0;nn<Wt.size;++nn){var cn=Wt.name.replace("[0]","["+nn+"]");Ge(dn,new Ve(cn,rt.id(cn),Ke.getUniformLocation(It,cn),Wt))}else Ge(dn,new Ve(Wt.name,rt.id(Wt.name),Ke.getUniformLocation(It,Wt.name),Wt));for($t=Ke.getProgramParameter(It,35721),ht.profile&&(Tt.stats.attributesCount=$t),Tt=Tt.attributes,Zt=0;Zt<$t;++Zt)(Wt=Ke.getActiveAttrib(It,Zt))&&Ge(Tt,new Ve(Wt.name,rt.id(Wt.name),Ke.getAttribLocation(It,Wt.name),Wt))}var bt={},At={},xt={},Rt=[],_t=0;return ht.profile&&(ft.getMaxUniformsCount=function(){var Tt=0;return Rt.forEach(function(It){It.stats.uniformsCount>Tt&&(Tt=It.stats.uniformsCount)}),Tt},ft.getMaxAttributesCount=function(){var Tt=0;return Rt.forEach(function(It){It.stats.attributesCount>Tt&&(Tt=It.stats.attributesCount)}),Tt}),{clear:function(){var Tt=Ke.deleteShader.bind(Ke);_e(bt).forEach(Tt),bt={},_e(At).forEach(Tt),At={},Rt.forEach(function(It){Ke.deleteProgram(It.program)}),Rt.length=0,xt={},ft.shaderCount=0},program:function(Tt,It,Wt,Zt){var $t=xt[It];$t||($t=xt[It]={});var dn=$t[Tt];if(dn&&(dn.refCount++,!Zt))return dn;var nn=new dt(It,Tt);return ft.shaderCount++,kt(nn,Wt,Zt),dn||($t[Tt]=nn),Rt.push(nn),oe(nn,{destroy:function(){if(nn.refCount--,0>=nn.refCount){Ke.deleteProgram(nn.program);var cn=Rt.indexOf(nn);Rt.splice(cn,1),ft.shaderCount--}0>=$t[nn.vertId].refCount&&(Ke.deleteShader(At[nn.vertId]),delete At[nn.vertId],delete xt[nn.fragId][nn.vertId]),Object.keys(xt[nn.fragId]).length||(Ke.deleteShader(bt[nn.fragId]),delete bt[nn.fragId],delete xt[nn.fragId])}})},restore:function(){bt={},At={};for(var Tt=0;Tt<Rt.length;++Tt)kt(Rt[Tt],null,Rt[Tt].attributes.map(function(It){return[It.location,It.name]}))},shader:ut,frag:-1,vert:-1}}(_t,Wt,Zt,Ke),kn=function I(Ke,rt,ft,ht,Ve,Ge,ut){function dt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function kt(Qt,zn){Qt.internalformat=zn.internalformat,Qt.format=zn.format,Qt.type=zn.type,Qt.compressed=zn.compressed,Qt.premultiplyAlpha=zn.premultiplyAlpha,Qt.flipY=zn.flipY,Qt.unpackAlignment=zn.unpackAlignment,Qt.colorSpace=zn.colorSpace,Qt.width=zn.width,Qt.height=zn.height,Qt.channels=zn.channels}function bt(Qt,zn){if("object"==typeof zn&&zn){"premultiplyAlpha"in zn&&(Qt.premultiplyAlpha=zn.premultiplyAlpha),"flipY"in zn&&(Qt.flipY=zn.flipY),"alignment"in zn&&(Qt.unpackAlignment=zn.alignment),"colorSpace"in zn&&(Qt.colorSpace=Wn[zn.colorSpace]),"type"in zn&&(Qt.type=Cn[zn.type]);var Ft=Qt.width,on=Qt.height,un=Qt.channels,On=!1;"shape"in zn?(Ft=zn.shape[0],on=zn.shape[1],3===zn.shape.length&&(un=zn.shape[2],On=!0)):("radius"in zn&&(Ft=on=zn.radius),"width"in zn&&(Ft=zn.width),"height"in zn&&(on=zn.height),"channels"in zn&&(un=zn.channels,On=!0)),Qt.width=0|Ft,Qt.height=0|on,Qt.channels=0|un,Ft=!1,"format"in zn&&(on=Qt.internalformat=Zn[Ft=zn.format],Qt.format=Tn[on],Ft in Cn&&!("type"in zn)&&(Qt.type=Cn[Ft]),Ft in mr&&(Qt.compressed=!0),Ft=!0),!On&&Ft?Qt.channels=xe[Qt.format]:On&&!Ft&&Qt.channels!==Ze[Qt.format]&&(Qt.format=Qt.internalformat=Ze[Qt.channels])}}function At(Qt){Ke.pixelStorei(37440,Qt.flipY),Ke.pixelStorei(37441,Qt.premultiplyAlpha),Ke.pixelStorei(37443,Qt.colorSpace),Ke.pixelStorei(3317,Qt.unpackAlignment)}function xt(){dt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Rt(Qt,zn){var Ft=null;if(w(zn)?Ft=zn:zn&&(bt(Qt,zn),"x"in zn&&(Qt.xOffset=0|zn.x),"y"in zn&&(Qt.yOffset=0|zn.y),w(zn.data)&&(Ft=zn.data)),zn.copy){var on=Ve.viewportWidth,un=Ve.viewportHeight;Qt.width=Qt.width||on-Qt.xOffset,Qt.height=Qt.height||un-Qt.yOffset,Qt.needsCopy=!0}else if(Ft){if(Me(Ft))Qt.channels=Qt.channels||4,Qt.data=Ft,"type"in zn||5121!==Qt.type||(Qt.type=0|ze[Object.prototype.toString.call(Ft)]);else if(m(Ft)){switch(Qt.channels=Qt.channels||4,un=(on=Ft).length,Qt.type){case 5121:case 5123:case 5125:case 5126:(un=ke.allocType(Qt.type,un)).set(on),Qt.data=un;break;case 36193:Qt.data=h(on)}Qt.alignment=1,Qt.needsFree=!0}else if(i(Ft)){on=Ft.data,Array.isArray(on)||5121!==Qt.type||(Qt.type=0|ze[Object.prototype.toString.call(on)]);var On,Fn,Gn,bn,ln=Ft.stride;3===(un=Ft.shape).length?(Gn=un[2],bn=ln[2]):bn=Gn=1,On=un[0],Fn=un[1],un=ln[0],ln=ln[1],Qt.alignment=1,Qt.width=On,Qt.height=Fn,Qt.channels=Gn,Qt.format=Qt.internalformat=Ze[Gn],Qt.needsFree=!0,On=bn,Ft=Ft.offset;for(var fn=ke.allocType(36193===Qt.type?5126:Qt.type,(Gn=Qt.width)*(bn=Qt.height)*(Fn=Qt.channels)),_n=0,wn=0;wn<bn;++wn)for(var Un=0;Un<Gn;++Un)for(var Hn=0;Hn<Fn;++Hn)fn[_n++]=on[un*Un+ln*wn+On*Hn+Ft];A(Qt,fn)}else if(_(Ft)===Oe||_(Ft)===Ce||_(Ft)===Be)Qt.element=_(Ft)===Oe||_(Ft)===Ce?Ft:Ft.canvas,Qt.width=Qt.element.width,Qt.height=Qt.element.height,Qt.channels=4;else if(_(Ft)===qe)Qt.element=Ft,Qt.width=Ft.width,Qt.height=Ft.height,Qt.channels=4;else if(_(Ft)===He)Qt.element=Ft,Qt.width=Ft.naturalWidth,Qt.height=Ft.naturalHeight,Qt.channels=4;else if(_(Ft)===Je)Qt.element=Ft,Qt.width=Ft.videoWidth,Qt.height=Ft.videoHeight,Qt.channels=4;else if(b(Ft)){for(on=Qt.width||Ft[0].length,un=Qt.height||Ft.length,ln=Qt.channels,ln=T(Ft[0][0])?ln||Ft[0][0].length:ln||1,On=we.shape(Ft),Gn=1,bn=0;bn<On.length;++bn)Gn*=On[bn];Gn=ke.allocType(36193===Qt.type?5126:Qt.type,Gn),we.flatten(Ft,On,"",Gn),A(Qt,Gn),Qt.alignment=1,Qt.width=on,Qt.height=un,Qt.channels=ln,Qt.format=Qt.internalformat=Ze[ln],Qt.needsFree=!0}}else Qt.width=Qt.width||1,Qt.height=Qt.height||1,Qt.channels=Qt.channels||4}function _t(Qt,zn,Ft,on,un){var On=Qt.element,Fn=Qt.data,Gn=Qt.internalformat,bn=Qt.format,ln=Qt.type,fn=Qt.width,_n=Qt.height;At(Qt),On?Ke.texSubImage2D(zn,un,Ft,on,bn,ln,On):Qt.compressed?Ke.compressedTexSubImage2D(zn,un,Ft,on,Gn,fn,_n,Fn):Qt.needsCopy?(ht(),Ke.copyTexSubImage2D(zn,un,Ft,on,Qt.xOffset,Qt.yOffset,fn,_n)):Ke.texSubImage2D(zn,un,Ft,on,fn,_n,bn,ln,Fn)}function Tt(){return xn.pop()||new xt}function It(Qt){Qt.needsFree&&ke.freeType(Qt.data),xt.call(Qt),xn.push(Qt)}function Wt(){dt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Zt(Qt,zn,Ft){var on=Qt.images[0]=Tt();Qt.mipmask=1,on.width=Qt.width=zn,on.height=Qt.height=Ft,on.channels=Qt.channels=4}function $t(Qt,zn){var Ft=null;if(w(zn))kt(Ft=Qt.images[0]=Tt(),Qt),Rt(Ft,zn),Qt.mipmask=1;else if(bt(Qt,zn),Array.isArray(zn.mipmap))for(var on=zn.mipmap,un=0;un<on.length;++un)kt(Ft=Qt.images[un]=Tt(),Qt),Ft.width>>=un,Ft.height>>=un,Rt(Ft,on[un]),Qt.mipmask|=1<<un;else kt(Ft=Qt.images[0]=Tt(),Qt),Rt(Ft,zn),Qt.mipmask=1;kt(Qt,Qt.images[0])}function dn(Qt,zn){for(var Ft=Qt.images,on=0;on<Ft.length&&Ft[on];++on){var un=Ft[on],On=zn,Fn=on,Gn=un.element,bn=un.data,ln=un.internalformat,fn=un.format,_n=un.type,wn=un.width,Un=un.height;At(un),Gn?Ke.texImage2D(On,Fn,fn,fn,_n,Gn):un.compressed?Ke.compressedTexImage2D(On,Fn,ln,wn,Un,0,bn):un.needsCopy?(ht(),Ke.copyTexImage2D(On,Fn,fn,un.xOffset,un.yOffset,wn,Un,0)):Ke.texImage2D(On,Fn,fn,wn,Un,0,fn,_n,bn||null)}}function nn(){var Qt=In.pop()||new Wt;dt.call(Qt);for(var zn=Qt.mipmask=0;16>zn;++zn)Qt.images[zn]=null;return Qt}function cn(Qt){for(var zn=Qt.images,Ft=0;Ft<zn.length;++Ft)zn[Ft]&&It(zn[Ft]),zn[Ft]=null;In.push(Qt)}function rn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function En(Qt,zn){"min"in zn&&(Qt.minFilter=Rn[zn.min],0<=Ue.indexOf(Qt.minFilter)&&!("faces"in zn)&&(Qt.genMipmaps=!0)),"mag"in zn&&(Qt.magFilter=Ln[zn.mag]);var Ft=Qt.wrapS,on=Qt.wrapT;if("wrap"in zn){var un=zn.wrap;"string"==typeof un?Ft=on=kn[un]:Array.isArray(un)&&(Ft=kn[un[0]],on=kn[un[1]])}else"wrapS"in zn&&(Ft=kn[zn.wrapS]),"wrapT"in zn&&(on=kn[zn.wrapT]);if(Qt.wrapS=Ft,Qt.wrapT=on,"anisotropic"in zn&&(Qt.anisotropic=zn.anisotropic),"mipmap"in zn){switch(Ft=!1,typeof zn.mipmap){case"string":Qt.mipmapHint=yn[zn.mipmap],Ft=Qt.genMipmaps=!0;break;case"boolean":Ft=Qt.genMipmaps=zn.mipmap;break;case"object":Qt.genMipmaps=!1,Ft=!0}!Ft||"min"in zn||(Qt.minFilter=9984)}}function Pn(Qt,zn){Ke.texParameteri(zn,10241,Qt.minFilter),Ke.texParameteri(zn,10240,Qt.magFilter),Ke.texParameteri(zn,10242,Qt.wrapS),Ke.texParameteri(zn,10243,Qt.wrapT),rt.ext_texture_filter_anisotropic&&Ke.texParameteri(zn,34046,Qt.anisotropic),Qt.genMipmaps&&(Ke.hint(33170,Qt.mipmapHint),Ke.generateMipmap(zn))}function Mn(Qt){dt.call(this),this.mipmask=0,this.internalformat=6408,this.id=cr++,this.refCount=1,this.target=Qt,this.texture=Ke.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new rn,ut.profile&&(this.stats={size:0})}function en(Qt){Ke.activeTexture(33984),Ke.bindTexture(Qt.target,Qt.texture)}function gn(){var Qt=vr[0];Qt?Ke.bindTexture(Qt.target,Qt.texture):Ke.bindTexture(3553,null)}function an(Qt){var zn=Qt.texture,Ft=Qt.unit,on=Qt.target;0<=Ft&&(Ke.activeTexture(33984+Ft),Ke.bindTexture(on,null),vr[Ft]=null),Ke.deleteTexture(zn),Qt.texture=null,Qt.params=null,Qt.pixels=null,Qt.refCount=0,delete Kn[Qt.id],Ge.textureCount--}var yn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},kn={repeat:10497,clamp:33071,mirror:33648},Ln={nearest:9728,linear:9729},Rn=oe({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Ln),Wn={none:0,browser:37444},Cn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Zn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},mr={};rt.ext_srgb&&(Zn.srgb=35904,Zn.srgba=35906),rt.oes_texture_float&&(Cn.float32=Cn.float=5126),rt.oes_texture_half_float&&(Cn.float16=Cn["half float"]=36193),rt.webgl_depth_texture&&(oe(Zn,{depth:6402,"depth stencil":34041}),oe(Cn,{uint16:5123,uint32:5125,"depth stencil":34042})),rt.webgl_compressed_texture_s3tc&&oe(mr,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),rt.webgl_compressed_texture_atc&&oe(mr,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),rt.webgl_compressed_texture_pvrtc&&oe(mr,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),rt.webgl_compressed_texture_etc1&&(mr["rgb etc1"]=36196);var lr=Array.prototype.slice.call(Ke.getParameter(34467));Object.keys(mr).forEach(function(Qt){var zn=mr[Qt];0<=lr.indexOf(zn)&&(Zn[Qt]=zn)});var er=Object.keys(Zn);ft.textureFormats=er;var xr=[];Object.keys(Zn).forEach(function(Qt){xr[Zn[Qt]]=Qt});var dr=[];Object.keys(Cn).forEach(function(Qt){dr[Cn[Qt]]=Qt});var jr=[];Object.keys(Ln).forEach(function(Qt){jr[Ln[Qt]]=Qt});var Kt=[];Object.keys(Rn).forEach(function(Qt){Kt[Rn[Qt]]=Qt});var qt=[];Object.keys(kn).forEach(function(Qt){qt[kn[Qt]]=Qt});var Tn=er.reduce(function(Qt,zn){var Ft=Zn[zn];return Qt[Ft]=6409===Ft||6406===Ft||6409===Ft||6410===Ft||6402===Ft||34041===Ft||rt.ext_srgb&&(35904===Ft||35906===Ft)?Ft:32855===Ft||0<=zn.indexOf("rgba")?6408:6407,Qt},{}),xn=[],In=[],cr=0,Kn={},Jn=ft.maxTextureUnits,vr=Array(Jn).map(function(){return null});return oe(Mn.prototype,{bind:function(){this.bindCount+=1;var Qt=this.unit;if(0>Qt){for(var zn=0;zn<Jn;++zn){var Ft=vr[zn];if(Ft){if(0<Ft.bindCount)continue;Ft.unit=-1}vr[zn]=this,Qt=zn;break}ut.profile&&Ge.maxTextureUnits<Qt+1&&(Ge.maxTextureUnits=Qt+1),this.unit=Qt,Ke.activeTexture(33984+Qt),Ke.bindTexture(this.target,this.texture)}return Qt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&an(this)}}),ut.profile&&(Ge.getTotalTextureSize=function(){var Qt=0;return Object.keys(Kn).forEach(function(zn){Qt+=Kn[zn].stats.size}),Qt}),{create2D:function(Qt,zn){function Ft(un,On){var Fn=on.texInfo;rn.call(Fn);var Gn=nn();return"number"==typeof un?Zt(Gn,0|un,"number"==typeof On?0|On:0|un):un?(En(Fn,un),$t(Gn,un)):Zt(Gn,1,1),Fn.genMipmaps&&(Gn.mipmask=(Gn.width<<1)-1),on.mipmask=Gn.mipmask,kt(on,Gn),on.internalformat=Gn.internalformat,Ft.width=Gn.width,Ft.height=Gn.height,en(on),dn(Gn,3553),Pn(Fn,3553),gn(),cn(Gn),ut.profile&&(on.stats.size=p(on.internalformat,on.type,Gn.width,Gn.height,Fn.genMipmaps,!1)),Ft.format=xr[on.internalformat],Ft.type=dr[on.type],Ft.mag=jr[Fn.magFilter],Ft.min=Kt[Fn.minFilter],Ft.wrapS=qt[Fn.wrapS],Ft.wrapT=qt[Fn.wrapT],Ft}var on=new Mn(3553);return Kn[on.id]=on,Ge.textureCount++,Ft(Qt,zn),Ft.subimage=function(un,On,Fn,Gn){On|=0,Fn|=0,Gn|=0;var bn=Tt();return kt(bn,on),bn.width=0,bn.height=0,Rt(bn,un),bn.width=bn.width||(on.width>>Gn)-On,bn.height=bn.height||(on.height>>Gn)-Fn,en(on),_t(bn,3553,On,Fn,Gn),gn(),It(bn),Ft},Ft.resize=function(un,On){var Fn=0|un,Gn=0|On||Fn;if(Fn===on.width&&Gn===on.height)return Ft;Ft.width=on.width=Fn,Ft.height=on.height=Gn,en(on);for(var bn=0;on.mipmask>>bn;++bn){var ln=Fn>>bn,fn=Gn>>bn;if(!ln||!fn)break;Ke.texImage2D(3553,bn,on.format,ln,fn,0,on.format,on.type,null)}return gn(),ut.profile&&(on.stats.size=p(on.internalformat,on.type,Fn,Gn,!1,!1)),Ft},Ft._reglType="texture2d",Ft._texture=on,ut.profile&&(Ft.stats=on.stats),Ft.destroy=function(){on.decRef()},Ft},createCube:function(Qt,zn,Ft,on,un,On){function Fn(ln,fn,_n,wn,Un,Hn){var ar,tr=Gn.texInfo;for(rn.call(tr),ar=0;6>ar;++ar)bn[ar]=nn();if("number"!=typeof ln&&ln){if("object"==typeof ln)if(fn)$t(bn[0],ln),$t(bn[1],fn),$t(bn[2],_n),$t(bn[3],wn),$t(bn[4],Un),$t(bn[5],Hn);else if(En(tr,ln),bt(Gn,ln),"faces"in ln)for(ln=ln.faces,ar=0;6>ar;++ar)kt(bn[ar],Gn),$t(bn[ar],ln[ar]);else for(ar=0;6>ar;++ar)$t(bn[ar],ln)}else for(ln=0|ln||1,ar=0;6>ar;++ar)Zt(bn[ar],ln,ln);for(kt(Gn,bn[0]),Gn.mipmask=tr.genMipmaps?(bn[0].width<<1)-1:bn[0].mipmask,Gn.internalformat=bn[0].internalformat,Fn.width=bn[0].width,Fn.height=bn[0].height,en(Gn),ar=0;6>ar;++ar)dn(bn[ar],34069+ar);for(Pn(tr,34067),gn(),ut.profile&&(Gn.stats.size=p(Gn.internalformat,Gn.type,Fn.width,Fn.height,tr.genMipmaps,!0)),Fn.format=xr[Gn.internalformat],Fn.type=dr[Gn.type],Fn.mag=jr[tr.magFilter],Fn.min=Kt[tr.minFilter],Fn.wrapS=qt[tr.wrapS],Fn.wrapT=qt[tr.wrapT],ar=0;6>ar;++ar)cn(bn[ar]);return Fn}var Gn=new Mn(34067);Kn[Gn.id]=Gn,Ge.cubeCount++;var bn=Array(6);return Fn(Qt,zn,Ft,on,un,On),Fn.subimage=function(ln,fn,_n,wn,Un){_n|=0,wn|=0,Un|=0;var Hn=Tt();return kt(Hn,Gn),Hn.width=0,Hn.height=0,Rt(Hn,fn),Hn.width=Hn.width||(Gn.width>>Un)-_n,Hn.height=Hn.height||(Gn.height>>Un)-wn,en(Gn),_t(Hn,34069+ln,_n,wn,Un),gn(),It(Hn),Fn},Fn.resize=function(ln){if((ln|=0)!==Gn.width){Fn.width=Gn.width=ln,Fn.height=Gn.height=ln,en(Gn);for(var fn=0;6>fn;++fn)for(var _n=0;Gn.mipmask>>_n;++_n)Ke.texImage2D(34069+fn,_n,Gn.format,ln>>_n,ln>>_n,0,Gn.format,Gn.type,null);return gn(),ut.profile&&(Gn.stats.size=p(Gn.internalformat,Gn.type,Fn.width,Fn.height,!1,!0)),Fn}},Fn._reglType="textureCube",Fn._texture=Gn,ut.profile&&(Fn.stats=Gn.stats),Fn.destroy=function(){Gn.decRef()},Fn},clear:function(){for(var Qt=0;Qt<Jn;++Qt)Ke.activeTexture(33984+Qt),Ke.bindTexture(3553,null),vr[Qt]=null;_e(Kn).forEach(an),Ge.cubeCount=0,Ge.textureCount=0},getTexture:function(Qt){return null},restore:function(){for(var Qt=0;Qt<Jn;++Qt){var zn=vr[Qt];zn&&(zn.bindCount=0,zn.unit=-1,vr[Qt]=null)}_e(Kn).forEach(function(Ft){Ft.texture=Ke.createTexture(),Ke.bindTexture(Ft.target,Ft.texture);for(var on=0;32>on;++on)if(Ft.mipmask&1<<on)if(3553===Ft.target)Ke.texImage2D(3553,on,Ft.internalformat,Ft.width>>on,Ft.height>>on,0,Ft.internalformat,Ft.type,null);else for(var un=0;6>un;++un)Ke.texImage2D(34069+un,on,Ft.internalformat,Ft.width>>on,Ft.height>>on,0,Ft.internalformat,Ft.type,null);Pn(Ft.texInfo,Ft.target)})},refresh:function(){for(var Qt=0;Qt<Jn;++Qt){var zn=vr[Qt];zn&&(zn.bindCount=0,zn.unit=-1,vr[Qt]=null),Ke.activeTexture(33984+Qt),Ke.bindTexture(3553,null),Ke.bindTexture(34067,null)}}}}(_t,dn,Mn,function(){Wn.procs.poll()},Pn,Zt,Ke),Ln=function(Ke,rt,ft,ht,Ve){function Ge(xt){this.id=bt++,this.refCount=1,this.renderbuffer=xt,this.format=32854,this.height=this.width=0,Ve.profile&&(this.stats={size:0})}function ut(xt){var Rt=xt.renderbuffer;Ke.bindRenderbuffer(36161,null),Ke.deleteRenderbuffer(Rt),xt.renderbuffer=null,xt.refCount=0,delete At[xt.id],ht.renderbufferCount--}var dt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};rt.ext_srgb&&(dt.srgba=35907),rt.ext_color_buffer_half_float&&(dt.rgba16f=34842,dt.rgb16f=34843),rt.webgl_color_buffer_float&&(dt.rgba32f=34836);var kt=[];Object.keys(dt).forEach(function(xt){kt[dt[xt]]=xt});var bt=0,At={};return Ge.prototype.decRef=function(){0>=--this.refCount&&ut(this)},Ve.profile&&(ht.getTotalRenderbufferSize=function(){var xt=0;return Object.keys(At).forEach(function(Rt){xt+=At[Rt].stats.size}),xt}),{create:function(xt,Rt){function _t(It,Wt){var Zt=0,$t=0,dn=32854;if("object"==typeof It&&It?("shape"in It?(Zt=0|($t=It.shape)[0],$t=0|$t[1]):("radius"in It&&(Zt=$t=0|It.radius),"width"in It&&(Zt=0|It.width),"height"in It&&($t=0|It.height)),"format"in It&&(dn=dt[It.format])):"number"==typeof It?(Zt=0|It,$t="number"==typeof Wt?0|Wt:Zt):It||(Zt=$t=1),Zt!==Tt.width||$t!==Tt.height||dn!==Tt.format)return _t.width=Tt.width=Zt,_t.height=Tt.height=$t,Tt.format=dn,Ke.bindRenderbuffer(36161,Tt.renderbuffer),Ke.renderbufferStorage(36161,dn,Zt,$t),Ve.profile&&(Tt.stats.size=ct[Tt.format]*Tt.width*Tt.height),_t.format=kt[Tt.format],_t}var Tt=new Ge(Ke.createRenderbuffer());return At[Tt.id]=Tt,ht.renderbufferCount++,_t(xt,Rt),_t.resize=function(It,Wt){var Zt=0|It,$t=0|Wt||Zt;return Zt===Tt.width&&$t===Tt.height||(_t.width=Tt.width=Zt,_t.height=Tt.height=$t,Ke.bindRenderbuffer(36161,Tt.renderbuffer),Ke.renderbufferStorage(36161,Tt.format,Zt,$t),Ve.profile&&(Tt.stats.size=ct[Tt.format]*Tt.width*Tt.height)),_t},_t._reglType="renderbuffer",_t._renderbuffer=Tt,Ve.profile&&(_t.stats=Tt.stats),_t.destroy=function(){Tt.decRef()},_t},clear:function(){_e(At).forEach(ut)},restore:function(){_e(At).forEach(function(xt){xt.renderbuffer=Ke.createRenderbuffer(),Ke.bindRenderbuffer(36161,xt.renderbuffer),Ke.renderbufferStorage(36161,xt.format,xt.width,xt.height)}),Ke.bindRenderbuffer(36161,null)}}}(_t,dn,0,Zt,Ke),Rn=function k(Ke,rt,ft,ht,Ve,Ge){function ut(Mn,en,gn){this.target=Mn,this.texture=en,this.renderbuffer=gn;var an=Mn=0;en?(Mn=en.width,an=en.height):gn&&(Mn=gn.width,an=gn.height),this.width=Mn,this.height=an}function dt(Mn){Mn&&(Mn.texture&&Mn.texture._texture.decRef(),Mn.renderbuffer&&Mn.renderbuffer._renderbuffer.decRef())}function kt(Mn,en,gn){Mn&&(Mn.texture?Mn.texture._texture.refCount+=1:Mn.renderbuffer._renderbuffer.refCount+=1)}function bt(Mn,en){en&&(en.texture?Ke.framebufferTexture2D(36160,Mn,en.target,en.texture._texture.texture,0):Ke.framebufferRenderbuffer(36160,Mn,36161,en.renderbuffer._renderbuffer.renderbuffer))}function At(Mn){var en=3553,gn=null,an=null,yn=Mn;return"object"==typeof Mn&&(yn=Mn.data,"target"in Mn&&(en=0|Mn.target)),"texture2d"===(Mn=yn._reglType)||"textureCube"===Mn?gn=yn:"renderbuffer"===Mn&&(an=yn,en=36161),new ut(en,gn,an)}function xt(Mn,en,gn,an,yn){return gn?((Mn=ht.create2D({width:Mn,height:en,format:an,type:yn}))._texture.refCount=0,new ut(3553,Mn,null)):((Mn=Ve.create({width:Mn,height:en,format:an}))._renderbuffer.refCount=0,new ut(36161,null,Mn))}function Rt(Mn){return Mn&&(Mn.texture||Mn.renderbuffer)}function _t(Mn,en,gn){Mn&&(Mn.texture?Mn.texture.resize(en,gn):Mn.renderbuffer&&Mn.renderbuffer.resize(en,gn),Mn.width=en,Mn.height=gn)}function Tt(){this.id=En++,Pn[this.id]=this,this.framebuffer=Ke.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function It(Mn){Mn.colorAttachments.forEach(dt),dt(Mn.depthAttachment),dt(Mn.stencilAttachment),dt(Mn.depthStencilAttachment)}function Wt(Mn){Ke.deleteFramebuffer(Mn.framebuffer),Mn.framebuffer=null,Ge.framebufferCount--,delete Pn[Mn.id]}function Zt(Mn){var en;Ke.bindFramebuffer(36160,Mn.framebuffer);var gn=Mn.colorAttachments;for(en=0;en<gn.length;++en)bt(36064+en,gn[en]);for(en=gn.length;en<ft.maxColorAttachments;++en)Ke.framebufferTexture2D(36160,36064+en,3553,null,0);Ke.framebufferTexture2D(36160,33306,3553,null,0),Ke.framebufferTexture2D(36160,36096,3553,null,0),Ke.framebufferTexture2D(36160,36128,3553,null,0),bt(36096,Mn.depthAttachment),bt(36128,Mn.stencilAttachment),bt(33306,Mn.depthStencilAttachment),Ke.checkFramebufferStatus(36160),Ke.isContextLost(),Ke.bindFramebuffer(36160,dn.next?dn.next.framebuffer:null),dn.cur=dn.next,Ke.getError()}function $t(Mn,en){function gn(yn,kn){var Ln,Rn=0,Wn=0,Cn=!0,Zn=!0;Ln=null;var mr=!0,lr="rgba",er="uint8",xr=1,dr=null,jr=null,Kt=null,qt=!1;"number"==typeof yn?(Rn=0|yn,Wn=0|kn||Rn):yn?("shape"in yn?(Rn=(Wn=yn.shape)[0],Wn=Wn[1]):("radius"in yn&&(Rn=Wn=yn.radius),"width"in yn&&(Rn=yn.width),"height"in yn&&(Wn=yn.height)),("color"in yn||"colors"in yn)&&(Ln=yn.color||yn.colors,Array.isArray(Ln)),Ln||("colorCount"in yn&&(xr=0|yn.colorCount),"colorTexture"in yn&&(mr=!!yn.colorTexture,lr="rgba4"),"colorType"in yn&&(er=yn.colorType,!mr)&&("half float"===er||"float16"===er?lr="rgba16f":"float"!==er&&"float32"!==er||(lr="rgba32f")),"colorFormat"in yn&&(0<=nn.indexOf(lr=yn.colorFormat)?mr=!0:0<=cn.indexOf(lr)&&(mr=!1))),("depthTexture"in yn||"depthStencilTexture"in yn)&&(qt=!(!yn.depthTexture&&!yn.depthStencilTexture)),"depth"in yn&&("boolean"==typeof yn.depth?Cn=yn.depth:(dr=yn.depth,Zn=!1)),"stencil"in yn&&("boolean"==typeof yn.stencil?Zn=yn.stencil:(jr=yn.stencil,Cn=!1)),"depthStencil"in yn&&("boolean"==typeof yn.depthStencil?Cn=Zn=yn.depthStencil:(Kt=yn.depthStencil,Zn=Cn=!1))):Rn=Wn=1;var Tn=null,xn=null,In=null,cr=null;if(Array.isArray(Ln))Tn=Ln.map(At);else if(Ln)Tn=[At(Ln)];else for(Tn=Array(xr),Ln=0;Ln<xr;++Ln)Tn[Ln]=xt(Rn,Wn,mr,lr,er);for(Rn=Rn||Tn[0].width,Wn=Wn||Tn[0].height,dr?xn=At(dr):Cn&&!Zn&&(xn=xt(Rn,Wn,qt,"depth","uint32")),jr?In=At(jr):Zn&&!Cn&&(In=xt(Rn,Wn,!1,"stencil","uint8")),Kt?cr=At(Kt):!dr&&!jr&&Zn&&Cn&&(cr=xt(Rn,Wn,qt,"depth stencil","depth stencil")),Cn=null,Ln=0;Ln<Tn.length;++Ln)kt(Tn[Ln]),Tn[Ln]&&Tn[Ln].texture&&(Zn=Dt[Tn[Ln].texture._texture.format]*vt[Tn[Ln].texture._texture.type],null===Cn&&(Cn=Zn));return kt(xn),kt(In),kt(cr),It(an),an.width=Rn,an.height=Wn,an.colorAttachments=Tn,an.depthAttachment=xn,an.stencilAttachment=In,an.depthStencilAttachment=cr,gn.color=Tn.map(Rt),gn.depth=Rt(xn),gn.stencil=Rt(In),gn.depthStencil=Rt(cr),gn.width=an.width,gn.height=an.height,Zt(an),gn}var an=new Tt;return Ge.framebufferCount++,gn(Mn,en),oe(gn,{resize:function(yn,kn){var Ln=Math.max(0|yn,1),Rn=Math.max(0|kn||Ln,1);if(Ln===an.width&&Rn===an.height)return gn;for(var Wn=an.colorAttachments,Cn=0;Cn<Wn.length;++Cn)_t(Wn[Cn],Ln,Rn);return _t(an.depthAttachment,Ln,Rn),_t(an.stencilAttachment,Ln,Rn),_t(an.depthStencilAttachment,Ln,Rn),an.width=gn.width=Ln,an.height=gn.height=Rn,Zt(an),gn},_reglType:"framebuffer",_framebuffer:an,destroy:function(){Wt(an),It(an)},use:function(yn){dn.setFBO({framebuffer:gn},yn)}})}var dn={cur:null,next:null,dirty:!1,setFBO:null},nn=["rgba"],cn=["rgba4","rgb565","rgb5 a1"];rt.ext_srgb&&cn.push("srgba"),rt.ext_color_buffer_half_float&&cn.push("rgba16f","rgb16f"),rt.webgl_color_buffer_float&&cn.push("rgba32f");var rn=["uint8"];rt.oes_texture_half_float&&rn.push("half float","float16"),rt.oes_texture_float&&rn.push("float","float32");var En=0,Pn={};return oe(dn,{getFramebuffer:function(Mn){return"function"==typeof Mn&&"framebuffer"===Mn._reglType&&(Mn=Mn._framebuffer)instanceof Tt?Mn:null},create:$t,createCube:function(Mn){function en(an){var yn,kn={color:null},Ln=0,Rn=null;yn="rgba";var Wn="uint8",Cn=1;if("number"==typeof an?Ln=0|an:an?("shape"in an?Ln=an.shape[0]:("radius"in an&&(Ln=0|an.radius),"width"in an?Ln=0|an.width:"height"in an&&(Ln=0|an.height)),("color"in an||"colors"in an)&&(Rn=an.color||an.colors,Array.isArray(Rn)),Rn||("colorCount"in an&&(Cn=0|an.colorCount),"colorType"in an&&(Wn=an.colorType),"colorFormat"in an&&(yn=an.colorFormat)),"depth"in an&&(kn.depth=an.depth),"stencil"in an&&(kn.stencil=an.stencil),"depthStencil"in an&&(kn.depthStencil=an.depthStencil)):Ln=1,Rn)if(Array.isArray(Rn))for(an=[],yn=0;yn<Rn.length;++yn)an[yn]=Rn[yn];else an=[Rn];else for(an=Array(Cn),Rn={radius:Ln,format:yn,type:Wn},yn=0;yn<Cn;++yn)an[yn]=ht.createCube(Rn);for(kn.color=Array(an.length),yn=0;yn<an.length;++yn)Cn=an[yn],Ln=Ln||Cn.width,kn.color[yn]={target:34069,data:an[yn]};for(yn=0;6>yn;++yn){for(Cn=0;Cn<an.length;++Cn)kn.color[Cn].target=34069+yn;0<yn&&(kn.depth=gn[0].depth,kn.stencil=gn[0].stencil,kn.depthStencil=gn[0].depthStencil),gn[yn]?gn[yn](kn):gn[yn]=$t(kn)}return oe(en,{width:Ln,height:Ln,color:an})}var gn=Array(6);return en(Mn),oe(en,{faces:gn,resize:function(an){var yn=0|an;if(yn===en.width)return en;var kn=en.color;for(an=0;an<kn.length;++an)kn[an].resize(yn);for(an=0;6>an;++an)gn[an].resize(yn);return en.width=en.height=yn,en},_reglType:"framebufferCube",destroy:function(){gn.forEach(function(an){an.destroy()})}})},clear:function(){_e(Pn).forEach(Wt)},restore:function(){dn.cur=null,dn.next=null,dn.dirty=!0,_e(Pn).forEach(function(Mn){Mn.framebuffer=Ke.createFramebuffer(),Zt(Mn)})}})}(_t,dn,Mn,kn,Ln,Zt),Wn=Q(_t,Wt,dn,Mn,en,gn,0,Rn,{},an,yn,rn,Pn,nn,$t,Ke),Cn=(Wt=function F(Ke,rt,ft,ht,Ve,Ge,ut){function dt(kt){var bt;bt=null===rt.next?5121:rt.next.colorAttachments[0].texture._texture.type;var At=0,xt=0,Rt=ht.framebufferWidth,_t=ht.framebufferHeight,Tt=null;return Me(kt)?Tt=kt:kt&&(At=0|kt.x,xt=0|kt.y,Rt=0|(kt.width||ht.framebufferWidth-At),_t=0|(kt.height||ht.framebufferHeight-xt),Tt=kt.data||null),ft(),kt=Rt*_t*4,Tt||(5121===bt?Tt=new Uint8Array(kt):5126===bt&&(Tt=Tt||new Float32Array(kt))),Ke.pixelStorei(3333,4),Ke.readPixels(At,xt,Rt,_t,6408,bt,Tt),Tt}return function(kt){return kt&&"framebuffer"in kt?(rt.setFBO({framebuffer:(bt=kt).framebuffer},function(){At=dt(bt)}),At):dt(kt);var bt,At}}(_t,Rn,Wn.procs.poll,Pn),Wn.next),Zn=_t.canvas,mr=[],lr=[],er=[],xr=[Ke.onDestroy],dr=null;Zn&&(Zn.addEventListener("webglcontextlost",Ve,!1),Zn.addEventListener("webglcontextrestored",Ge,!1));var jr=Rn.setFBO=ut({framebuffer:ue.define.call(null,1,"framebuffer")});return xt(),Tt=oe(ut,{clear:function(Kt){if("framebuffer"in Kt)if(Kt.framebuffer&&"framebufferCube"===Kt.framebuffer_reglType)for(var qt=0;6>qt;++qt)jr(oe({framebuffer:Kt.framebuffer.faces[qt]},Kt),dt);else jr(Kt,dt);else dt(0,Kt)},prop:ue.define.bind(null,1),context:ue.define.bind(null,2),this:ue.define.bind(null,3),draw:ut({}),buffer:function(Kt){return en.create(Kt,34962,!1,!1)},elements:function(Kt){return gn.create(Kt,!1)},texture:kn.create2D,cube:kn.createCube,renderbuffer:Ln.create,framebuffer:Rn.create,framebufferCube:Rn.createCube,vao:an.createVAO,attributes:Tt,frame:kt,on:function(Kt,qt){var Tn;switch(Kt){case"frame":return kt(qt);case"lost":Tn=lr;break;case"restore":Tn=er;break;case"destroy":Tn=xr}return Tn.push(qt),{cancel:function(){for(var xn=0;xn<Tn.length;++xn)if(Tn[xn]===qt){Tn[xn]=Tn[Tn.length-1],Tn.pop();break}}}},limits:Mn,hasExtension:function(Kt){return 0<=Mn.extensions.indexOf(Kt.toLowerCase())},read:Wt,destroy:function(){mr.length=0,ht(),Zn&&(Zn.removeEventListener("webglcontextlost",Ve),Zn.removeEventListener("webglcontextrestored",Ge)),yn.clear(),Rn.clear(),Ln.clear(),an.clear(),kn.clear(),gn.clear(),en.clear(),nn&&nn.clear(),xr.forEach(function(Kt){Kt()})},_gl:_t,_refresh:xt,poll:function(){At(),nn&&nn.update()},now:Rt,stats:Zt,getCachedCode:function(){return $t},preloadCachedCode:function(Kt){Object.entries(Kt).forEach(function(qt){$t[qt[0]]=qt[1]})}}),Ke.onDone(null,Tt),Tt}}()},71665:function(ae,B,r){var D=r(12856),E=D.Buffer;function d(M,v){for(var u in M)v[u]=M[u]}function S(M,v,u){return E(M,v,u)}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?ae.exports=D:(d(D,B),B.Buffer=S),S.prototype=Object.create(E.prototype),d(E,S),S.from=function(M,v,u){if("number"==typeof M)throw new TypeError("Argument must not be a number");return E(M,v,u)},S.alloc=function(M,v,u){if("number"!=typeof M)throw new TypeError("Argument must be a number");var i=E(M);return void 0!==v?"string"==typeof u?i.fill(v,u):i.fill(v):i.fill(0),i},S.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return E(M)},S.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return D.SlowBuffer(M)}},21630:function(ae,B,r){ae.exports=E;var D=r(15398).EventEmitter;function E(){D.call(this)}r(42018)(E,D),E.Readable=r(40410),E.Writable=r(37493),E.Duplex=r(37865),E.Transform=r(74308),E.PassThrough=r(66897),E.finished=r(12726),E.pipeline=r(10168),E.Stream=E,E.prototype.pipe=function(d,S){var M=this;function v(c){d.writable&&!1===d.write(c)&&M.pause&&M.pause()}function u(){M.readable&&M.resume&&M.resume()}M.on("data",v),d.on("drain",u),d._isStdio||S&&!1===S.end||(M.on("end",s),M.on("close",a));var i=!1;function s(){i||(i=!0,d.end())}function a(){i||(i=!0,"function"==typeof d.destroy&&d.destroy())}function o(c){if(l(),0===D.listenerCount(this,"error"))throw c}function l(){M.removeListener("data",v),d.removeListener("drain",u),M.removeListener("end",s),M.removeListener("close",a),M.removeListener("error",o),d.removeListener("error",o),M.removeListener("end",l),M.removeListener("close",l),d.removeListener("close",l)}return M.on("error",o),d.on("error",o),M.on("end",l),M.on("close",l),d.on("close",l),d.emit("pipe",M),d}},74322:function(ae){"use strict";var B={};function r(E,d,S){S||(S=Error);var M=function(v){var u,i;function s(a,o,l){return v.call(this,"string"==typeof d?d:d(a,o,l))||this}return i=v,(u=s).prototype=Object.create(i.prototype),u.prototype.constructor=u,u.__proto__=i,s}(S);M.prototype.name=S.name,M.prototype.code=E,B[E]=M}function D(E,d){if(Array.isArray(E)){var S=E.length;return E=E.map(function(M){return String(M)}),S>2?"one of ".concat(d," ").concat(E.slice(0,S-1).join(", "),", or ")+E[S-1]:2===S?"one of ".concat(d," ").concat(E[0]," or ").concat(E[1]):"of ".concat(d," ").concat(E[0])}return"of ".concat(d," ").concat(String(E))}r("ERR_INVALID_OPT_VALUE",function(E,d){return'The value "'+d+'" is invalid for option "'+E+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(E,d,S){var M,u,i,s,o,c;if("string"==typeof d&&("not ","not "===d.substr(0,4))?(M="must not be",d=d.replace(/^not /,"")):M="must be",o=E," argument",(void 0===c||c>o.length)&&(c=o.length)," argument"===o.substring(c-9,c))u="The ".concat(E," ").concat(M," ").concat(D(d,"type"));else{var a=("number"!=typeof s&&(s=0),s+1>(i=E).length||-1===i.indexOf(".",s)?"argument":"property");u='The "'.concat(E,'" ').concat(a," ").concat(M," ").concat(D(d,"type"))}return u+". Received type ".concat(typeof S)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(E){return"The "+E+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(E){return"Cannot call "+E+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(E){return"Unknown encoding: "+E},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ae.exports.q=B},37865:function(ae,B,r){"use strict";var D=r(90386),E=Object.keys||function(o){var l=[];for(var c in o)l.push(c);return l};ae.exports=i;var d=r(40410),S=r(37493);r(42018)(i,d);for(var M=E(S.prototype),v=0;v<M.length;v++){var u=M[v];i.prototype[u]||(i.prototype[u]=S.prototype[u])}function i(o){if(!(this instanceof i))return new i(o);d.call(this,o),S.call(this,o),this.allowHalfOpen=!0,o&&(!1===o.readable&&(this.readable=!1),!1===o.writable&&(this.writable=!1),!1===o.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||D.nextTick(a,this)}function a(o){o.end()}Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(o){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=o,this._writableState.destroyed=o)}})},66897:function(ae,B,r){"use strict";ae.exports=E;var D=r(74308);function E(d){if(!(this instanceof E))return new E(d);D.call(this,d)}r(42018)(E,D),E.prototype._transform=function(d,S,M){M(null,d)}},40410:function(ae,B,r){"use strict";var D,E=r(90386);ae.exports=A,A.ReadableState=w,r(15398);var d,S=function(ne,re){return ne.listeners(re).length},M=r(71405),v=r(12856).Buffer,u=r.g.Uint8Array||function(){},i=r(40964);d=i&&i.debuglog?i.debuglog("stream"):function(){};var s,a,o,l=r(31125),c=r(65756),f=r(56306).getHighWaterMark,g=r(74322).q,h=g.ERR_INVALID_ARG_TYPE,T=g.ERR_STREAM_PUSH_AFTER_EOF,x=g.ERR_METHOD_NOT_IMPLEMENTED,m=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(42018)(A,M);var b=c.errorOrDestroy,_=["error","close","destroy","pause","resume"];function w(ne,re,Q){D=D||r(37865),"boolean"!=typeof Q&&(Q=re instanceof D),this.objectMode=!!(ne=ne||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!ne.readableObjectMode),this.highWaterMark=f(this,ne,"readableHighWaterMark",Q),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==ne.emitClose,this.autoDestroy=!!ne.autoDestroy,this.destroyed=!1,this.defaultEncoding=ne.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ne.encoding&&(s||(s=r(68019).s),this.decoder=new s(ne.encoding),this.encoding=ne.encoding)}function A(ne){if(D=D||r(37865),!(this instanceof A))return new A(ne);this._readableState=new w(ne,this,this instanceof D),this.readable=!0,ne&&("function"==typeof ne.read&&(this._read=ne.read),"function"==typeof ne.destroy&&(this._destroy=ne.destroy)),M.call(this)}function p(ne,re,Q,ee,oe){d("readableAddChunk",re);var ce,he,ve,ke,Ie,ue=ne._readableState;if(null===re)ue.reading=!1,function(he,ve){if(d("onEofChunk"),!ve.ended){if(ve.decoder){var ke=ve.decoder.end();ke&&ke.length&&(ve.buffer.push(ke),ve.length+=ve.objectMode?1:ke.length)}ve.ended=!0,ve.sync?O(he):(ve.needReadable=!1,ve.emittedReadable||(ve.emittedReadable=!0,P(he)))}}(ne,ue);else if(oe||(he=ue,v.isBuffer(Ie=ve=re)||Ie instanceof u||"string"==typeof ve||void 0===ve||he.objectMode||(ke=new h("chunk",["string","Buffer","Uint8Array"],ve)),ce=ke),ce)b(ne,ce);else if(ue.objectMode||re&&re.length>0)if("string"==typeof re||ue.objectMode||Object.getPrototypeOf(re)===v.prototype||(re=function(he){return v.from(he)}(re)),ee)ue.endEmitted?b(ne,new m):I(ne,ue,re,!0);else if(ue.ended)b(ne,new T);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!Q?(re=ue.decoder.write(re),ue.objectMode||0!==re.length?I(ne,ue,re,!1):F(ne,ue)):I(ne,ue,re,!1)}else ee||(ue.reading=!1,F(ne,ue));return!ue.ended&&(ue.length<ue.highWaterMark||0===ue.length)}function I(ne,re,Q,ee){re.flowing&&0===re.length&&!re.sync?(re.awaitDrain=0,ne.emit("data",Q)):(re.length+=re.objectMode?1:Q.length,ee?re.buffer.unshift(Q):re.buffer.push(Q),re.needReadable&&O(ne)),F(ne,re)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ne){this._readableState&&(this._readableState.destroyed=ne)}}),A.prototype.destroy=c.destroy,A.prototype._undestroy=c.undestroy,A.prototype._destroy=function(ne,re){re(ne)},A.prototype.push=function(ne,re){var Q,ee=this._readableState;return ee.objectMode?Q=!0:"string"==typeof ne&&((re=re||ee.defaultEncoding)!==ee.encoding&&(ne=v.from(ne,re),re=""),Q=!0),p(this,ne,re,!1,Q)},A.prototype.unshift=function(ne){return p(this,ne,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(ne){s||(s=r(68019).s);var re=new s(ne);this._readableState.decoder=re,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,ee="";null!==Q;)ee+=re.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),""!==ee&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var k=1073741824;function L(ne,re){return ne<=0||0===re.length&&re.ended?0:re.objectMode?1:ne!=ne?re.flowing&&re.length?re.buffer.head.data.length:re.length:(ne>re.highWaterMark&&(re.highWaterMark=((Q=ne)>=k?Q=k:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q)),ne<=re.length?ne:re.ended?re.length:(re.needReadable=!0,0));var Q}function O(ne){var re=ne._readableState;d("emitReadable",re.needReadable,re.emittedReadable),re.needReadable=!1,re.emittedReadable||(d("emitReadable",re.flowing),re.emittedReadable=!0,E.nextTick(P,ne))}function P(ne){var re=ne._readableState;d("emitReadable_",re.destroyed,re.length,re.ended),re.destroyed||!re.length&&!re.ended||(ne.emit("readable"),re.emittedReadable=!1),re.needReadable=!re.flowing&&!re.ended&&re.length<=re.highWaterMark,G(ne)}function F(ne,re){re.readingMore||(re.readingMore=!0,E.nextTick(j,ne,re))}function j(ne,re){for(;!re.reading&&!re.ended&&(re.length<re.highWaterMark||re.flowing&&0===re.length);){var Q=re.length;if(d("maybeReadMore read 0"),ne.read(0),Q===re.length)break}re.readingMore=!1}function X(ne){var re=ne._readableState;re.readableListening=ne.listenerCount("readable")>0,re.resumeScheduled&&!re.paused?re.flowing=!0:ne.listenerCount("data")>0&&ne.resume()}function N(ne){d("readable nexttick read 0"),ne.read(0)}function q(ne,re){d("resume",re.reading),re.reading||ne.read(0),re.resumeScheduled=!1,ne.emit("resume"),G(ne),re.flowing&&!re.reading&&ne.read(0)}function G(ne){var re=ne._readableState;for(d("flow",re.flowing);re.flowing&&null!==ne.read(););}function H(ne,re){return 0===re.length?null:(re.objectMode?Q=re.buffer.shift():!ne||ne>=re.length?(Q=re.decoder?re.buffer.join(""):1===re.buffer.length?re.buffer.first():re.buffer.concat(re.length),re.buffer.clear()):Q=re.buffer.consume(ne,re.decoder),Q);var Q}function Z(ne){var re=ne._readableState;d("endReadable",re.endEmitted),re.endEmitted||(re.ended=!0,E.nextTick($,re,ne))}function $(ne,re){if(d("endReadableNT",ne.endEmitted,ne.length),!ne.endEmitted&&0===ne.length&&(ne.endEmitted=!0,re.readable=!1,re.emit("end"),ne.autoDestroy)){var Q=re._writableState;(!Q||Q.autoDestroy&&Q.finished)&&re.destroy()}}function se(ne,re){for(var Q=0,ee=ne.length;Q<ee;Q++)if(ne[Q]===re)return Q;return-1}A.prototype.read=function(ne){d("read",ne),ne=parseInt(ne,10);var re=this._readableState,Q=ne;if(0!==ne&&(re.emittedReadable=!1),0===ne&&re.needReadable&&((0!==re.highWaterMark?re.length>=re.highWaterMark:re.length>0)||re.ended))return d("read: emitReadable",re.length,re.ended),0===re.length&&re.ended?Z(this):O(this),null;if(0===(ne=L(ne,re))&&re.ended)return 0===re.length&&Z(this),null;var ee,oe=re.needReadable;return d("need readable",oe),(0===re.length||re.length-ne<re.highWaterMark)&&d("length less than watermark",oe=!0),re.ended||re.reading?d("reading or ended",oe=!1):oe&&(d("do read"),re.reading=!0,re.sync=!0,0===re.length&&(re.needReadable=!0),this._read(re.highWaterMark),re.sync=!1,re.reading||(ne=L(Q,re))),null===(ee=ne>0?H(ne,re):null)?(re.needReadable=re.length<=re.highWaterMark,ne=0):(re.length-=ne,re.awaitDrain=0),0===re.length&&(re.ended||(re.needReadable=!0),Q!==ne&&re.ended&&Z(this)),null!==ee&&this.emit("data",ee),ee},A.prototype._read=function(ne){b(this,new x("_read()"))},A.prototype.pipe=function(ne,re){var Q=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=ne;break;case 1:ee.pipes=[ee.pipes,ne];break;default:ee.pipes.push(ne)}ee.pipesCount+=1,d("pipe count=%d opts=%j",ee.pipesCount,re);var oe=re&&!1===re.end||ne===E.stdout||ne===E.stderr?_e:ce;function ce(){d("onend"),ne.end()}ee.endEmitted?E.nextTick(oe):Q.once("end",oe),ne.on("unpipe",function we(ze,Ee){d("onunpipe"),ze===Q&&Ee&&!1===Ee.hasUnpiped&&(Ee.hasUnpiped=!0,d("cleanup"),ne.removeListener("close",Ie),ne.removeListener("finish",Me),ne.removeListener("drain",ue),ne.removeListener("error",ke),ne.removeListener("unpipe",we),Q.removeListener("end",ce),Q.removeListener("end",_e),Q.removeListener("data",ve),he=!0,!ee.awaitDrain||ne._writableState&&!ne._writableState.needDrain||ue())});var we,ue=(we=Q,function(){var ze=we._readableState;d("pipeOnDrain",ze.awaitDrain),ze.awaitDrain&&ze.awaitDrain--,0===ze.awaitDrain&&S(we,"data")&&(ze.flowing=!0,G(we))});ne.on("drain",ue);var he=!1;function ve(we){d("ondata");var ze=ne.write(we);d("dest.write",ze),!1===ze&&((1===ee.pipesCount&&ee.pipes===ne||ee.pipesCount>1&&-1!==se(ee.pipes,ne))&&!he&&(d("false write response, pause",ee.awaitDrain),ee.awaitDrain++),Q.pause())}function ke(we){d("onerror",we),_e(),ne.removeListener("error",ke),0===S(ne,"error")&&b(ne,we)}function Ie(){ne.removeListener("finish",Me),_e()}function Me(){d("onfinish"),ne.removeListener("close",Ie),_e()}function _e(){d("unpipe"),Q.unpipe(ne)}return Q.on("data",ve),function(we,ze,Ee){if("function"==typeof we.prependListener)return we.prependListener(ze,Ee);we._events&&we._events[ze]?Array.isArray(we._events[ze])?we._events[ze].unshift(Ee):we._events[ze]=[Ee,we._events[ze]]:we.on(ze,Ee)}(ne,"error",ke),ne.once("close",Ie),ne.once("finish",Me),ne.emit("pipe",Q),ee.flowing||(d("pipe resume"),Q.resume()),ne},A.prototype.unpipe=function(ne){var re=this._readableState,Q={hasUnpiped:!1};if(0===re.pipesCount)return this;if(1===re.pipesCount)return ne&&ne!==re.pipes||(ne||(ne=re.pipes),re.pipes=null,re.pipesCount=0,re.flowing=!1,ne&&ne.emit("unpipe",this,Q)),this;if(!ne){var ee=re.pipes,oe=re.pipesCount;re.pipes=null,re.pipesCount=0,re.flowing=!1;for(var ce=0;ce<oe;ce++)ee[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=se(re.pipes,ne);return-1===ue||(re.pipes.splice(ue,1),re.pipesCount-=1,1===re.pipesCount&&(re.pipes=re.pipes[0]),ne.emit("unpipe",this,Q)),this},A.prototype.addListener=A.prototype.on=function(ne,re){var Q=M.prototype.on.call(this,ne,re),ee=this._readableState;return"data"===ne?(ee.readableListening=this.listenerCount("readable")>0,!1!==ee.flowing&&this.resume()):"readable"===ne&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,d("on readable",ee.length,ee.reading),ee.length?O(this):ee.reading||E.nextTick(N,this))),Q},A.prototype.removeListener=function(ne,re){var Q=M.prototype.removeListener.call(this,ne,re);return"readable"===ne&&E.nextTick(X,this),Q},A.prototype.removeAllListeners=function(ne){var re=M.prototype.removeAllListeners.apply(this,arguments);return"readable"!==ne&&void 0!==ne||E.nextTick(X,this),re},A.prototype.resume=function(){var Q,ne=this._readableState;return ne.flowing||(d("resume"),ne.flowing=!ne.readableListening,this,(Q=ne).resumeScheduled||(Q.resumeScheduled=!0,E.nextTick(q,this,Q))),ne.paused=!1,this},A.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(ne){var re=this,Q=this._readableState,ee=!1;for(var oe in ne.on("end",function(){if(d("wrapped end"),Q.decoder&&!Q.ended){var ue=Q.decoder.end();ue&&ue.length&&re.push(ue)}re.push(null)}),ne.on("data",function(ue){d("wrapped data"),Q.decoder&&(ue=Q.decoder.write(ue)),Q.objectMode&&null==ue||(Q.objectMode||ue&&ue.length)&&(re.push(ue)||(ee=!0,ne.pause()))}),ne)void 0===this[oe]&&"function"==typeof ne[oe]&&(this[oe]=function(ue){return function(){return ne[ue].apply(ne,arguments)}}(oe));for(var ce=0;ce<_.length;ce++)ne.on(_[ce],this.emit.bind(this,_[ce]));return this._read=function(ue){d("wrapped _read",ue),ee&&(ee=!1,ne.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===a&&(a=r(68221)),a(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ne){this._readableState&&(this._readableState.flowing=ne)}}),A._fromList=H,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(ne,re){return void 0===o&&(o=r(31748)),o(A,ne,re)})},74308:function(ae,B,r){"use strict";ae.exports=i;var D=r(74322).q,E=D.ERR_METHOD_NOT_IMPLEMENTED,d=D.ERR_MULTIPLE_CALLBACK,S=D.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=D.ERR_TRANSFORM_WITH_LENGTH_0,v=r(37865);function u(o,l){var c=this._transformState;c.transforming=!1;var f=c.writecb;if(null===f)return this.emit("error",new d);c.writechunk=null,c.writecb=null,null!=l&&this.push(l),f(o);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function i(o){if(!(this instanceof i))return new i(o);v.call(this,o),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&("function"==typeof o.transform&&(this._transform=o.transform),"function"==typeof o.flush&&(this._flush=o.flush)),this.on("prefinish",s)}function s(){var o=this;"function"!=typeof this._flush||this._readableState.destroyed?a(this,null,null):this._flush(function(l,c){a(o,l,c)})}function a(o,l,c){if(l)return o.emit("error",l);if(null!=c&&o.push(c),o._writableState.length)throw new M;if(o._transformState.transforming)throw new S;return o.push(null)}r(42018)(i,v),i.prototype.push=function(o,l){return this._transformState.needTransform=!1,v.prototype.push.call(this,o,l)},i.prototype._transform=function(o,l,c){c(new E("_transform()"))},i.prototype._write=function(o,l,c){var f=this._transformState;if(f.writecb=c,f.writechunk=o,f.writeencoding=l,!f.transforming){var g=this._readableState;(f.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},i.prototype._read=function(o){var l=this._transformState;null===l.writechunk||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},i.prototype._destroy=function(o,l){v.prototype._destroy.call(this,o,function(c){l(c)})}},37493:function(ae,B,r){"use strict";var D,E=r(90386);function d(F){var j=this;this.next=null,this.entry=null,this.finish=function(){!function(X,N,q){var G=X.entry;for(X.entry=null;G;){var H=G.callback;N.pendingcb--,H(void 0),G=G.next}N.corkedRequestsFree.next=X}(j,F)}}ae.exports=A,A.WritableState=w;var S,M={deprecate:r(20588)},v=r(71405),u=r(12856).Buffer,i=r.g.Uint8Array||function(){},s=r(65756),a=r(56306).getHighWaterMark,o=r(74322).q,l=o.ERR_INVALID_ARG_TYPE,c=o.ERR_METHOD_NOT_IMPLEMENTED,f=o.ERR_MULTIPLE_CALLBACK,g=o.ERR_STREAM_CANNOT_PIPE,h=o.ERR_STREAM_DESTROYED,T=o.ERR_STREAM_NULL_VALUES,x=o.ERR_STREAM_WRITE_AFTER_END,m=o.ERR_UNKNOWN_ENCODING,b=s.errorOrDestroy;function _(){}function w(F,j,X){D=D||r(37865),"boolean"!=typeof X&&(X=j instanceof D),this.objectMode=!!(F=F||{}).objectMode,X&&(this.objectMode=this.objectMode||!!F.writableObjectMode),this.highWaterMark=a(this,F,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===F.decodeStrings),this.defaultEncoding=F.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){!function(G,H){var re,Z=G._writableState,$=Z.sync,se=Z.writecb;if("function"!=typeof se)throw new f;if((re=Z).writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0,H)!function(re,Q,ee,oe,ce){--Q.pendingcb,ee?(E.nextTick(ce,oe),E.nextTick(P,re,Q),re._writableState.errorEmitted=!0,b(re,oe)):(ce(oe),re._writableState.errorEmitted=!0,b(re,oe),P(re,Q))}(G,Z,$,H,se);else{var ne=L(Z)||G.destroyed;ne||Z.corked||Z.bufferProcessing||!Z.bufferedRequest||k(G,Z),$?E.nextTick(I,G,Z,ne,se):I(G,Z,ne,se)}}(j,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==F.emitClose,this.autoDestroy=!!F.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function A(F){var j=this instanceof(D=D||r(37865));if(!j&&!S.call(A,this))return new A(F);this._writableState=new w(F,this,j),this.writable=!0,F&&("function"==typeof F.write&&(this._write=F.write),"function"==typeof F.writev&&(this._writev=F.writev),"function"==typeof F.destroy&&(this._destroy=F.destroy),"function"==typeof F.final&&(this._final=F.final)),v.call(this)}function p(F,j,X,N,q,G,H){j.writelen=N,j.writecb=H,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new h("write")):X?F._writev(q,j.onwrite):F._write(q,G,j.onwrite),j.sync=!1}function I(F,j,X,N){var q,G;X||(q=F,0===(G=j).length&&G.needDrain&&(G.needDrain=!1,q.emit("drain"))),j.pendingcb--,N(),P(F,j)}function k(F,j){j.bufferProcessing=!0;var X=j.bufferedRequest;if(F._writev&&X&&X.next){var q=new Array(j.bufferedRequestCount),G=j.corkedRequestsFree;G.entry=X;for(var H=0,Z=!0;X;)q[H]=X,X.isBuf||(Z=!1),X=X.next,H+=1;q.allBuffers=Z,p(F,j,!0,j.length,q,"",G.finish),j.pendingcb++,j.lastBufferedRequest=null,G.next?(j.corkedRequestsFree=G.next,G.next=null):j.corkedRequestsFree=new d(j),j.bufferedRequestCount=0}else{for(;X;){var $=X.chunk;if(p(F,j,!1,j.objectMode?1:$.length,$,X.encoding,X.callback),X=X.next,j.bufferedRequestCount--,j.writing)break}null===X&&(j.lastBufferedRequest=null)}j.bufferedRequest=X,j.bufferProcessing=!1}function L(F){return F.ending&&0===F.length&&null===F.bufferedRequest&&!F.finished&&!F.writing}function O(F,j){F._final(function(X){j.pendingcb--,X&&b(F,X),j.prefinished=!0,F.emit("prefinish"),P(F,j)})}function P(F,j){var q,G,X=L(j);if(X&&(q=F,(G=j).prefinished||G.finalCalled||("function"!=typeof q._final||G.destroyed?(G.prefinished=!0,q.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,E.nextTick(O,q,G))),0===j.pendingcb&&(j.finished=!0,F.emit("finish"),j.autoDestroy))){var N=F._readableState;(!N||N.autoDestroy&&N.endEmitted)&&F.destroy()}return X}r(42018)(A,v),w.prototype.getBuffer=function(){for(var F=this.bufferedRequest,j=[];F;)j.push(F),F=F.next;return j},function(){try{Object.defineProperty(w.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(F){return!!S.call(this,F)||this===A&&F&&F._writableState instanceof w}})):S=function(F){return F instanceof this},A.prototype.pipe=function(){b(this,new g)},A.prototype.write=function(F,j,X){var N,Z,$,se,q=this._writableState,G=!1,H=!q.objectMode&&(u.isBuffer(N=F)||N instanceof i);return H&&!u.isBuffer(F)&&(F=u.from(F)),"function"==typeof j&&(X=j,j=null),H?j="buffer":j||(j=q.defaultEncoding),"function"!=typeof X&&(X=_),q.ending?(Z=this,$=X,se=new x,b(Z,se),E.nextTick($,se)):(H||function(Z,$,se,ne){var re;return null===se?re=new T:"string"==typeof se||$.objectMode||(re=new l("chunk",["string","Buffer"],se)),!re||(b(Z,re),E.nextTick(ne,re),!1)}(this,q,F,X))&&(q.pendingcb++,G=function(Z,$,se,ne,re,Q){if(!se){var ee=(ve=ne,(he=$).objectMode||!1===he.decodeStrings||"string"!=typeof ve||(ve=u.from(ve,re)),ve);ne!==ee&&(se=!0,re="buffer",ne=ee)}var he,ve,oe=$.objectMode?1:ne.length;$.length+=oe;var ce=$.length<$.highWaterMark;if(ce||($.needDrain=!0),$.writing||$.corked){var ue=$.lastBufferedRequest;$.lastBufferedRequest={chunk:ne,encoding:re,isBuf:se,callback:Q,next:null},ue?ue.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else p(Z,$,!1,oe,ne,re,Q);return ce}(this,q,H,F,j,X)),G},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var F=this._writableState;F.corked&&(F.corked--,F.writing||F.corked||F.bufferProcessing||!F.bufferedRequest||k(this,F))},A.prototype.setDefaultEncoding=function(F){if("string"==typeof F&&(F=F.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F+"").toLowerCase())>-1))throw new m(F);return this._writableState.defaultEncoding=F,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(F,j,X){X(new c("_write()"))},A.prototype._writev=null,A.prototype.end=function(F,j,X){var q,G,H,N=this._writableState;return"function"==typeof F?(X=F,F=null,j=null):"function"==typeof j&&(X=j,j=null),null!=F&&this.write(F,j),N.corked&&(N.corked=1,this.uncork()),N.ending||(q=this,H=X,(G=N).ending=!0,P(q,G),H&&(G.finished?E.nextTick(H):q.once("finish",H)),G.ended=!0,q.writable=!1),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}}),A.prototype.destroy=s.destroy,A.prototype._undestroy=s.undestroy,A.prototype._destroy=function(F,j){j(F)}},68221:function(ae,B,r){"use strict";var D,E=r(90386);function d(T,x,m){return x in T?Object.defineProperty(T,x,{value:m,enumerable:!0,configurable:!0,writable:!0}):T[x]=m,T}var S=r(12726),M=Symbol("lastResolve"),v=Symbol("lastReject"),u=Symbol("error"),i=Symbol("ended"),s=Symbol("lastPromise"),a=Symbol("handlePromise"),o=Symbol("stream");function l(T,x){return{value:T,done:x}}function c(T){var x=T[M];if(null!==x){var m=T[o].read();null!==m&&(T[s]=null,T[M]=null,T[v]=null,x(l(m,!1)))}}function f(T){E.nextTick(c,T)}var g=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((d(D={get stream(){return this[o]},next:function(){var T=this,x=this[u];if(null!==x)return Promise.reject(x);if(this[i])return Promise.resolve(l(void 0,!0));if(this[o].destroyed)return new Promise(function(w,A){E.nextTick(function(){T[u]?A(T[u]):w(l(void 0,!0))})});var m,w,A,b=this[s];if(b)m=new Promise((w=b,A=this,function(p,I){w.then(function(){A[i]?p(l(void 0,!0)):A[a](p,I)},I)}));else{var _=this[o].read();if(null!==_)return Promise.resolve(l(_,!1));m=new Promise(this[a])}return this[s]=m,m}},Symbol.asyncIterator,function(){return this}),d(D,"return",function(){var T=this;return new Promise(function(x,m){T[o].destroy(null,function(b){b?m(b):x(l(void 0,!0))})})}),D),g);ae.exports=function(T){var x,m=Object.create(h,(d(x={},o,{value:T,writable:!0}),d(x,M,{value:null,writable:!0}),d(x,v,{value:null,writable:!0}),d(x,u,{value:null,writable:!0}),d(x,i,{value:T._readableState.endEmitted,writable:!0}),d(x,a,{value:function(b,_){var w=m[o].read();w?(m[s]=null,m[M]=null,m[v]=null,b(l(w,!1))):(m[M]=b,m[v]=_)},writable:!0}),x));return m[s]=null,S(T,function(b){if(b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code){var _=m[v];return null!==_&&(m[s]=null,m[M]=null,m[v]=null,_(b)),void(m[u]=b)}var w=m[M];null!==w&&(m[s]=null,m[M]=null,m[v]=null,w(l(void 0,!0))),m[i]=!0}),T.on("readable",f.bind(null,m)),m}},31125:function(ae,B,r){"use strict";function D(u,i){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(u);i&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(u,o).enumerable})),s.push.apply(s,a)}return s}function E(u,i,s){return i in u?Object.defineProperty(u,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[i]=s,u}var S=r(12856).Buffer,M=r(69862).inspect,v=M&&M.custom||"inspect";ae.exports=function(){function u(){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var s;return s=[{key:"push",value:function(a){var o={data:a,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:"unshift",value:function(a){var o={data:a,next:this.head};0===this.length&&(this.tail=o),this.head=o,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var o=this.head,l=""+o.data;o=o.next;)l+=a+o.data;return l}},{key:"concat",value:function(a){if(0===this.length)return S.alloc(0);for(var f=S.allocUnsafe(a>>>0),g=this.head,h=0;g;)S.prototype.copy.call(g.data,f,h),h+=g.data.length,g=g.next;return f}},{key:"consume",value:function(a,o){var l;return a<this.head.data.length?(l=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):l=a===this.head.data.length?this.shift():o?this._getString(a):this._getBuffer(a),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var o=this.head,l=1,c=o.data;for(a-=c.length;o=o.next;){var f=o.data,g=a>f.length?f.length:a;if(c+=g===f.length?f:f.slice(0,a),0==(a-=g)){g===f.length?(++l,this.head=o.next?o.next:this.tail=null):(this.head=o,o.data=f.slice(g));break}++l}return this.length-=l,c}},{key:"_getBuffer",value:function(a){var o=S.allocUnsafe(a),l=this.head,c=1;for(l.data.copy(o),a-=l.data.length;l=l.next;){var f=l.data,g=a>f.length?f.length:a;if(f.copy(o,o.length-a,0,g),0==(a-=g)){g===f.length?(++c,this.head=l.next?l.next:this.tail=null):(this.head=l,l.data=f.slice(g));break}++c}return this.length-=c,o}},{key:v,value:function(a,o){return M(this,function(l){for(var c=1;c<arguments.length;c++){var f=null!=arguments[c]?arguments[c]:{};c%2?D(Object(f),!0).forEach(function(g){E(l,g,f[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(f)):D(Object(f)).forEach(function(g){Object.defineProperty(l,g,Object.getOwnPropertyDescriptor(f,g))})}return l}({},o,{depth:0,customInspect:!1}))}}],s&&function d(u,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}(u.prototype,s),u}()},65756:function(ae,B,r){"use strict";var D=r(90386);function E(M,v){S(M,v),d(M)}function d(M){M._writableState&&!M._writableState.emitClose||M._readableState&&!M._readableState.emitClose||M.emit("close")}function S(M,v){M.emit("error",v)}ae.exports={destroy:function(M,v){var u=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(v?v(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,D.nextTick(S,this,M)):D.nextTick(S,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(a){!v&&a?u._writableState?u._writableState.errorEmitted?D.nextTick(d,u):(u._writableState.errorEmitted=!0,D.nextTick(E,u,a)):D.nextTick(E,u,a):v?(D.nextTick(d,u),v(a)):D.nextTick(d,u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(M,v){var u=M._readableState,i=M._writableState;u&&u.autoDestroy||i&&i.autoDestroy?M.destroy(v):M.emit("error",v)}}},12726:function(ae,B,r){"use strict";var D=r(74322).q.ERR_STREAM_PREMATURE_CLOSE;function E(){}ae.exports=function d(S,M,v){if("function"==typeof M)return d(S,null,M);var T,x;M||(M={}),T=v||E,x=!1,v=function(){if(!x){x=!0;for(var m=arguments.length,b=new Array(m),_=0;_<m;_++)b[_]=arguments[_];T.apply(this,b)}};var u=M.readable||!1!==M.readable&&S.readable,i=M.writable||!1!==M.writable&&S.writable,s=function(){S.writable||o()},a=S._writableState&&S._writableState.finished,o=function(){i=!1,a=!0,u||v.call(S)},l=S._readableState&&S._readableState.endEmitted,c=function(){u=!1,l=!0,i||v.call(S)},f=function(T){v.call(S,T)},g=function(){var T;return u&&!l?(S._readableState&&S._readableState.ended||(T=new D),v.call(S,T)):i&&!a?(S._writableState&&S._writableState.ended||(T=new D),v.call(S,T)):void 0},h=function(){S.req.on("finish",o)};return function(T){return T.setHeader&&"function"==typeof T.abort}(S)?(S.on("complete",o),S.on("abort",g),S.req?h():S.on("request",h)):i&&!S._writableState&&(S.on("end",s),S.on("close",s)),S.on("end",c),S.on("finish",o),!1!==M.error&&S.on("error",f),S.on("close",g),function(){S.removeListener("complete",o),S.removeListener("abort",g),S.removeListener("request",h),S.req&&S.req.removeListener("finish",o),S.removeListener("end",s),S.removeListener("close",s),S.removeListener("finish",o),S.removeListener("end",c),S.removeListener("error",f),S.removeListener("close",g)}}},31748:function(ae){ae.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(ae,B,r){"use strict";var D,E=r(74322).q,d=E.ERR_MISSING_ARGS,S=E.ERR_STREAM_DESTROYED;function M(i){if(i)throw i}function v(i){i()}function u(i,s){return i.pipe(s)}ae.exports=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var o,f,l=(f=s).length?"function"!=typeof f[f.length-1]?M:f.pop():M;if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new d("streams");var c=s.map(function(f,g){var h=g<s.length-1;return function(T,x,m,b){var A,p;A=b,p=!1,b=function(){p||(p=!0,A.apply(void 0,arguments))};var _=!1;T.on("close",function(){_=!0}),void 0===D&&(D=r(12726)),D(T,{readable:x,writable:m},function(A){if(A)return b(A);_=!0,b()});var w=!1;return function(A){if(!_&&!w)return w=!0,function(p){return p.setHeader&&"function"==typeof p.abort}(T)?T.abort():"function"==typeof T.destroy?T.destroy():void b(A||new S("pipe"))}}(f,h,g>0,function(T){o||(o=T),T&&c.forEach(v),h||(c.forEach(v),l(o))})});return s.reduce(u)}},56306:function(ae,B,r){"use strict";var D=r(74322).q.ERR_INVALID_OPT_VALUE;ae.exports={getHighWaterMark:function(E,d,S,M){var u,v=null!=(u=d).highWaterMark?u.highWaterMark:M?u[S]:null;if(null!=v){if(!isFinite(v)||Math.floor(v)!==v||v<0)throw new D(M?S:"highWaterMark",v);return Math.floor(v)}return E.objectMode?16:16384}}},71405:function(ae,B,r){ae.exports=r(15398).EventEmitter},68019:function(ae,B,r){"use strict";var D=r(71665).Buffer,E=D.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(l){var c;switch(this.encoding=function(f){var g=function(h){if(!h)return"utf8";for(var T;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(T)return;h=(""+h).toLowerCase(),T=!0}}(f);if("string"!=typeof g&&(D.isEncoding===E||!E(f)))throw new Error("Unknown encoding: "+f);return g||f}(l),this.encoding){case"utf16le":this.text=v,this.end=u,c=4;break;case"utf8":this.fillLast=M,c=4;break;case"base64":this.text=i,this.end=s,c=3;break;default:return this.write=a,void(this.end=o)}this.lastNeed=0,this.lastTotal=0,this.lastChar=D.allocUnsafe(c)}function S(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function M(l){var c=this.lastTotal-this.lastNeed,f=function(g,h,T){if(128!=(192&h[0]))return g.lastNeed=0,"\ufffd";if(g.lastNeed>1&&h.length>1){if(128!=(192&h[1]))return g.lastNeed=1,"\ufffd";if(g.lastNeed>2&&h.length>2&&128!=(192&h[2]))return g.lastNeed=2,"\ufffd"}}(this,l);return void 0!==f?f:this.lastNeed<=l.length?(l.copy(this.lastChar,c,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,c,0,l.length),void(this.lastNeed-=l.length))}function v(l,c){if((l.length-c)%2==0){var f=l.toString("utf16le",c);if(f){var g=f.charCodeAt(f.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],f.slice(0,-1)}return f}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",c,l.length-1)}function u(l){var c=l&&l.length?this.write(l):"";return this.lastNeed?c+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):c}function i(l,c){var f=(l.length-c)%3;return 0===f?l.toString("base64",c):(this.lastNeed=3-f,this.lastTotal=3,1===f?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",c,l.length-f))}function s(l){var c=l&&l.length?this.write(l):"";return this.lastNeed?c+this.lastChar.toString("base64",0,3-this.lastNeed):c}function a(l){return l.toString(this.encoding)}function o(l){return l&&l.length?this.write(l):""}B.s=d,d.prototype.write=function(l){if(0===l.length)return"";var c,f;if(this.lastNeed){if(void 0===(c=this.fillLast(l)))return"";f=this.lastNeed,this.lastNeed=0}else f=0;return f<l.length?c?c+this.text(l,f):this.text(l,f):c||""},d.prototype.end=function(l){var c=l&&l.length?this.write(l):"";return this.lastNeed?c+"\ufffd":c},d.prototype.text=function(l,c){var f=function(h,T,x){var m=T.length-1;if(m<x)return 0;var b=S(T[m]);return b>=0?(b>0&&(h.lastNeed=b-1),b):--m<x||-2===b?0:(b=S(T[m]))>=0?(b>0&&(h.lastNeed=b-2),b):--m<x||-2===b?0:(b=S(T[m]))>=0?(b>0&&(2===b?b=0:h.lastNeed=b-3),b):0}(this,l,c);if(!this.lastNeed)return l.toString("utf8",c);this.lastTotal=f;var g=l.length-(f-this.lastNeed);return l.copy(this.lastChar,0,g),l.toString("utf8",c,g)},d.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},90715:function(ae,B,r){var D=r(32791),E=r(41633)("stream-parser");ae.exports=function(h){var T=h&&"function"==typeof h._transform;if(!(T||h&&"function"==typeof h._write))throw new Error("must pass a Writable or Transform stream in");E("extending Parser into stream"),h._bytes=i,h._skipBytes=s,T&&(h._passthrough=a),T?h._transform=l:h._write=o};var d=-1,S=0,M=1,v=2;function u(h){E("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=d,h._parserCallback=null,"function"==typeof h.push&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function i(h,T){D(!this._parserCallback,'there is already a "callback" set!'),D(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||u(this),E("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=T,this._parserState=S}function s(h,T){D(!this._parserCallback,'there is already a "callback" set!'),D(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||u(this),E("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=T,this._parserState=M}function a(h,T){D(!this._parserCallback,'There is already a "callback" set!'),D(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||u(this),E("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=T,this._parserState=v}function o(h,T,x){this._parserInit||u(this),E("write(%o bytes)",h.length),"function"==typeof T&&(x=T),f(this,h,null,x)}function l(h,T,x){this._parserInit||u(this),E("transform(%o bytes)",h.length),"function"!=typeof T&&(T=this._parserOutput),f(this,h,T,x)}function c(h,T,x,m){if(h._parserBytesLeft-=T.length,E("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===S?(h._parserBuffers.push(T),h._parserBuffered+=T.length):h._parserState===v&&x(T),0!==h._parserBytesLeft)return m;var b=h._parserCallback;if(b&&h._parserState===S&&h._parserBuffers.length>1&&(T=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==S&&(T=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=d,h._parserBuffers.splice(0),b){var _=[];T&&_.push(T),x&&_.push(x);var w=b.length>_.length;w&&_.push(g(m));var A=b.apply(h,_);if(!w||m===A)return m}}var f=g(function h(T,x,m,b){return T._parserBytesLeft<=0?b(new Error("got data but not currently parsing anything")):x.length<=T._parserBytesLeft?function(){return c(T,x,m,b)}:function(){var _=x.slice(0,T._parserBytesLeft);return c(T,_,m,function(w){return w?b(w):x.length>_.length?function(){return h(T,x.slice(_.length),m,b)}:void 0})}});function g(h){return function(){for(var T=h.apply(this,arguments);"function"==typeof T;)T=T();return T}}},41633:function(ae,B,r){var D=r(90386);function E(){var d;try{d=B.storage.debug}catch{}return!d&&void 0!==D&&"env"in D&&(d=D.env.DEBUG),d}(B=ae.exports=r(74469)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},B.formatArgs=function(d){var S=this.useColors;if(d[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+d[0]+(S?"%c ":" ")+"+"+B.humanize(this.diff),S){var M="color: "+this.color;d.splice(1,0,M,"color: inherit");var v=0,u=0;d[0].replace(/%[a-zA-Z%]/g,function(i){"%%"!==i&&(v++,"%c"===i&&(u=v))}),d.splice(u,0,M)}},B.save=function(d){try{null==d?B.storage.removeItem("debug"):B.storage.debug=d}catch{}},B.load=E,B.useColors=function(){return!(typeof window>"u"||!window.process||"renderer"!==window.process.type)||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},B.storage=typeof chrome<"u"&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],B.formatters.j=function(d){try{return JSON.stringify(d)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}},B.enable(E())},74469:function(ae,B,r){var D;function E(d){function S(){if(S.enabled){var M=S,v=+new Date;M.diff=v-(D||v),M.prev=D,M.curr=v,D=v;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=B.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(o,l){if("%%"===o)return o;a++;var c=B.formatters[l];return"function"==typeof c&&(o=c.call(M,i[a]),i.splice(a,1),a--),o}),B.formatArgs.call(M,i),(S.log||B.log||console.log.bind(console)).apply(M,i)}}return S.namespace=d,S.enabled=B.enabled(d),S.useColors=B.useColors(),S.color=function(M){var v,u=0;for(v in M)u=(u<<5)-u+M.charCodeAt(v),u|=0;return B.colors[Math.abs(u)%B.colors.length]}(d),"function"==typeof B.init&&B.init(S),S}(B=ae.exports=E.debug=E.default=E).coerce=function(d){return d instanceof Error?d.stack||d.message:d},B.disable=function(){B.enable("")},B.enable=function(d){B.save(d),B.names=[],B.skips=[];for(var S=("string"==typeof d?d:"").split(/[\s,]+/),M=S.length,v=0;v<M;v++)S[v]&&("-"===(d=S[v].replace(/\*/g,".*?"))[0]?B.skips.push(new RegExp("^"+d.substr(1)+"$")):B.names.push(new RegExp("^"+d+"$")))},B.enabled=function(d){var S,M;for(S=0,M=B.skips.length;S<M;S++)if(B.skips[S].test(d))return!1;for(S=0,M=B.names.length;S<M;S++)if(B.names[S].test(d))return!0;return!1},B.humanize=r(11375),B.names=[],B.skips=[],B.formatters={}},11375:function(ae){var B=1e3,r=60*B,D=60*r,E=24*D;function d(S,M,v){if(!(S<M))return S<1.5*M?Math.floor(S/M)+" "+v:Math.ceil(S/M)+" "+v+"s"}ae.exports=function(S,M){M=M||{};var v,i,u=typeof S;if("string"===u&&S.length>0)return function(i){if(!((i=String(i)).length>100)){var s=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(i);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*E;case"hours":case"hour":case"hrs":case"hr":case"h":return a*D;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(S);if("number"===u&&!1===isNaN(S))return M.long?d(v=S,E,"day")||d(v,D,"hour")||d(v,r,"minute")||d(v,B,"second")||v+" ms":(i=S)>=E?Math.round(i/E)+"d":i>=D?Math.round(i/D)+"h":i>=r?Math.round(i/r)+"m":i>=B?Math.round(i/B)+"s":i+"ms";throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(S))}},99011:function(ae,B,r){"use strict";var D=r(88641);ae.exports=function(E,d,S){if(null==E)throw Error("First argument should be a string");if(null==d)throw Error("Separator should be a string or a RegExp");S?("string"==typeof S||Array.isArray(S))&&(S={ignore:S}):S={},null==S.escape&&(S.escape=!0),null==S.ignore?S.ignore=["[]","()","{}","<>",'""',"''","``","\u201c\u201d","\xab\xbb"]:("string"==typeof S.ignore&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(o){return 1===o.length&&(o+=o),o}));var M=D.parse(E,{flat:!0,brackets:S.ignore}),v=M[0].split(d);if(S.escape){for(var u=[],i=0;i<v.length;i++){var s=v[i];"\\"===s[s.length-1]&&"\\"!==s[s.length-2]?(u.push(s+d+v[i+1]),i++):u.push(s)}v=u}for(i=0;i<v.length;i++)M[0]=v[i],v[i]=D.stringify(M,{flat:!0});return v}},68664:function(ae){"use strict";ae.exports=function(B){for(var r=B.length,D=new Array(r),E=new Array(r),d=new Array(r),S=new Array(r),M=new Array(r),v=new Array(r),u=0;u<r;++u)D[u]=-1,E[u]=0,d[u]=!1,S[u]=0,M[u]=-1,v[u]=[];var i,s=0,a=[],o=[];function l(g){var h=[g],T=[g];for(D[g]=E[g]=s,d[g]=!0,s+=1;T.length>0;){var x=B[g=T[T.length-1]];if(S[g]<x.length){for(var m=S[g];m<x.length;++m){var b=x[m];if(D[b]<0){D[b]=E[b]=s,d[b]=!0,s+=1,h.push(b),T.push(b);break}d[b]&&(E[g]=0|Math.min(E[g],E[b])),M[b]>=0&&v[g].push(M[b])}S[g]=m}else{if(E[g]===D[g]){var _=[],w=[],A=0;for(m=h.length-1;m>=0;--m){var p=h[m];if(d[p]=!1,_.push(p),w.push(v[p]),A+=v[p].length,M[p]=a.length,p===g){h.length=m;break}}a.push(_);var I=new Array(A);for(m=0;m<w.length;m++)for(var k=0;k<w[m].length;k++)I[--A]=w[m][k];o.push(I)}T.pop()}}}for(u=0;u<r;++u)D[u]<0&&l(u);for(u=0;u<o.length;u++){var c=o[u];if(0!==c.length){c.sort(function(g,h){return g-h}),i=[c[0]];for(var f=1;f<c.length;f++)c[f]!==c[f-1]&&i.push(c[f]);o[u]=i}}return{components:a,adjacencyList:o}}},7095:function(ae,B,r){"use strict";r.r(B);var D=2*Math.PI,E=function(M,v,u,i,s,a,o){var l=M.x,c=M.y;return{x:i*(l*=v)-s*(c*=u)+a,y:s*l+i*c+o}},d=function(M,v){var u=1.5707963267948966===v?.551915024494:-1.5707963267948966===v?-.551915024494:1.3333333333333333*Math.tan(v/4),i=Math.cos(M),s=Math.sin(M),a=Math.cos(M+v),o=Math.sin(M+v);return[{x:i-s*u,y:s+i*u},{x:a+o*u,y:o-a*u},{x:a,y:o}]},S=function(M,v,u,i){var s=M*u+v*i;return s>1&&(s=1),s<-1&&(s=-1),(M*i-v*u<0?-1:1)*Math.acos(s)};B.default=function(M){var v=M.px,u=M.py,i=M.cx,s=M.cy,a=M.rx,o=M.ry,l=M.xAxisRotation,c=void 0===l?0:l,f=M.largeArcFlag,g=void 0===f?0:f,h=M.sweepFlag,T=void 0===h?0:h,x=[];if(0===a||0===o)return[];var m=Math.sin(c*D/360),b=Math.cos(c*D/360),_=b*(v-i)/2+m*(u-s)/2,w=-m*(v-i)/2+b*(u-s)/2;if(0===_&&0===w)return[];a=Math.abs(a),o=Math.abs(o);var A=Math.pow(_,2)/Math.pow(a,2)+Math.pow(w,2)/Math.pow(o,2);A>1&&(a*=Math.sqrt(A),o*=Math.sqrt(A));var I=function(N,q){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function(G,H){var Z=[],$=!0,se=!1,ne=void 0;try{for(var re,Q=G[Symbol.iterator]();!($=(re=Q.next()).done)&&(Z.push(re.value),4!==Z.length);$=!0);}catch(ee){se=!0,ne=ee}finally{try{!$&&Q.return&&Q.return()}finally{if(se)throw ne}}return Z}(N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(function(N,q,G,H,Z,$,se,ne,re,Q,ee,oe){var ce=Math.pow(Z,2),ue=Math.pow($,2),he=Math.pow(ee,2),ve=Math.pow(oe,2),ke=ce*ue-ce*ve-ue*he;ke<0&&(ke=0),ke/=ce*ve+ue*he;var Ie=(ke=Math.sqrt(ke)*(se===ne?-1:1))*Z/$*oe,Me=ke*-$/Z*ee,_e=Q*Ie-re*Me+(N+G)/2,we=re*Ie+Q*Me+(q+H)/2,ze=(ee-Ie)/Z,Ee=(oe-Me)/$,Se=(-ee-Ie)/Z,me=(-oe-Me)/$,fe=S(1,0,ze,Ee),le=S(ze,Ee,Se,me);return 0===ne&&le>0&&(le-=D),1===ne&&le<0&&(le+=D),[_e,we,fe,le]}(v,u,i,s,a,o,g,T,m,b,_,w)),k=I[0],L=I[1],O=I[2],P=I[3],F=Math.abs(P)/(D/4);Math.abs(1-F)<1e-7&&(F=1);var j=Math.max(Math.ceil(F),1);P/=j;for(var X=0;X<j;X++)x.push(d(O,P)),O+=P;return x.map(function(N){var q=E(N[0],a,o,b,m,k,L),G=q.x,H=q.y,Z=E(N[1],a,o,b,m,k,L),$=Z.x,se=Z.y,ne=E(N[2],a,o,b,m,k,L);return{x1:G,y1:H,x2:$,y2:se,x:ne.x,y:ne.y}})}},1750:function(ae,B,r){"use strict";var D=r(95616),E=r(65185),d=r(29988),S=r(89546),M=r(32791);ae.exports=function(v){if(Array.isArray(v)&&1===v.length&&"string"==typeof v[0]&&(v=v[0]),"string"==typeof v&&(M(S(v),"String is not an SVG path."),v=D(v)),M(Array.isArray(v),"Argument should be a string or an array of path segments."),v=E(v),!(v=d(v)).length)return[0,0,0,0];for(var u=[1/0,1/0,-1/0,-1/0],i=0,s=v.length;i<s;i++)for(var a=v[i].slice(1),o=0;o<a.length;o+=2)a[o+0]<u[0]&&(u[0]=a[o+0]),a[o+1]<u[1]&&(u[1]=a[o+1]),a[o+0]>u[2]&&(u[2]=a[o+0]),a[o+1]>u[3]&&(u[3]=a[o+1]);return u}},29988:function(ae,B,r){"use strict";ae.exports=function(S){for(var M,v=[],u=0,i=0,s=0,a=0,o=null,l=null,c=0,f=0,g=0,h=S.length;g<h;g++){var T=S[g],x=T[0];switch(x){case"M":s=T[1],a=T[2];break;case"A":var m=D({px:c,py:f,cx:T[6],cy:T[7],rx:T[1],ry:T[2],xAxisRotation:T[3],largeArcFlag:T[4],sweepFlag:T[5]});if(!m.length)continue;for(var b,_=0;_<m.length;_++)T=["C",(b=m[_]).x1,b.y1,b.x2,b.y2,b.x,b.y],_<m.length-1&&v.push(T);break;case"S":var w=c,A=f;"C"!=M&&"S"!=M||(w+=w-u,A+=A-i),T=["C",w,A,T[1],T[2],T[3],T[4]];break;case"T":"Q"==M||"T"==M?(o=2*c-o,l=2*f-l):(o=c,l=f),T=d(c,f,o,l,T[1],T[2]);break;case"Q":o=T[1],l=T[2],T=d(c,f,T[1],T[2],T[3],T[4]);break;case"L":T=E(c,f,T[1],T[2]);break;case"H":T=E(c,f,T[1],f);break;case"V":T=E(c,f,c,T[1]);break;case"Z":T=E(c,f,s,a)}M=x,c=T[T.length-2],f=T[T.length-1],T.length>4?(u=T[T.length-4],i=T[T.length-3]):(u=c,i=f),v.push(T)}return v};var D=r(7095);function E(S,M,v,u){return["C",S,M,v,u,v,u]}function d(S,M,v,u,i,s){return["C",S/3+.6666666666666666*v,M/3+.6666666666666666*u,i/3+.6666666666666666*v,s/3+.6666666666666666*u,i,s]}},82019:function(ae,B,r){"use strict";var D,E=r(1750),d=r(95616),S=r(31457),M=r(89546),v=r(44781),u=document.createElement("canvas"),i=u.getContext("2d");ae.exports=function(s,a){if(!M(s))throw Error("Argument should be valid svg path string");var o,l;a||(a={}),a.shape?(o=a.shape[0],l=a.shape[1]):(o=u.width=a.w||a.width||200,l=u.height=a.h||a.height||200);var c=Math.min(o,l),f=a.stroke||0,g=a.viewbox||a.viewBox||E(s),h=[o/(g[2]-g[0]),l/(g[3]-g[1])],T=Math.min(h[0]||0,h[1]||0)/2;if(i.fillStyle="black",i.fillRect(0,0,o,l),i.fillStyle="white",f&&("number"!=typeof f&&(f=1),i.strokeStyle=f>0?"white":"black",i.lineWidth=Math.abs(f)),i.translate(.5*o,.5*l),i.scale(T,T),function(){if(null!=D)return D;var b=document.createElement("canvas").getContext("2d");if(b.canvas.width=b.canvas.height=1,!window.Path2D)return D=!1;var _=new Path2D("M0,0h1v1h-1v-1Z");b.fillStyle="black",b.fill(_);var w=b.getImageData(0,0,1,1);return D=w&&w.data&&255===w.data[3]}()){var x=new Path2D(s);i.fill(x),f&&i.stroke(x)}else{var m=d(s);S(i,m),i.fill(),f&&i.stroke()}return i.setTransform(1,0,0,1,0,0),v(i,{cutoff:null!=a.cutoff?a.cutoff:.5,radius:null!=a.radius?a.radius:.5*c})}},84267:function(ae,B,r){var D;!function(E){var d=/^\s+/,S=/\s+$/,M=0,v=E.round,u=E.min,i=E.max,s=E.random;function a(ee,oe){if(oe=oe||{},(ee=ee||"")instanceof a)return ee;if(!(this instanceof a))return new a(ee,oe);var ue,ve,ke,Ie,Me,_e,we,ze,Ee,Se,ce=(Ie={r:0,g:0,b:0},Me=1,_e=null,we=null,ze=null,Ee=!1,Se=!1,"string"==typeof(ue=ee)&&(ue=function(me){me=me.replace(d,"").replace(S,"").toLowerCase();var fe,le=!1;if(O[me])me=O[me],le=!0;else if("transparent"==me)return{r:0,g:0,b:0,a:0,format:"name"};return(fe=re.rgb.exec(me))?{r:fe[1],g:fe[2],b:fe[3]}:(fe=re.rgba.exec(me))?{r:fe[1],g:fe[2],b:fe[3],a:fe[4]}:(fe=re.hsl.exec(me))?{h:fe[1],s:fe[2],l:fe[3]}:(fe=re.hsla.exec(me))?{h:fe[1],s:fe[2],l:fe[3],a:fe[4]}:(fe=re.hsv.exec(me))?{h:fe[1],s:fe[2],v:fe[3]}:(fe=re.hsva.exec(me))?{h:fe[1],s:fe[2],v:fe[3],a:fe[4]}:(fe=re.hex8.exec(me))?{r:N(fe[1]),g:N(fe[2]),b:N(fe[3]),a:Z(fe[4]),format:le?"name":"hex8"}:(fe=re.hex6.exec(me))?{r:N(fe[1]),g:N(fe[2]),b:N(fe[3]),format:le?"name":"hex"}:(fe=re.hex4.exec(me))?{r:N(fe[1]+""+fe[1]),g:N(fe[2]+""+fe[2]),b:N(fe[3]+""+fe[3]),a:Z(fe[4]+""+fe[4]),format:le?"name":"hex8"}:!!(fe=re.hex3.exec(me))&&{r:N(fe[1]+""+fe[1]),g:N(fe[2]+""+fe[2]),b:N(fe[3]+""+fe[3]),format:le?"name":"hex"}}(ue)),"object"==typeof ue&&(Q(ue.r)&&Q(ue.g)&&Q(ue.b)?(ve=ue.g,ke=ue.b,Ie={r:255*j(ue.r,255),g:255*j(ve,255),b:255*j(ke,255)},Ee=!0,Se="%"===String(ue.r).substr(-1)?"prgb":"rgb"):Q(ue.h)&&Q(ue.s)&&Q(ue.v)?(_e=G(ue.s),we=G(ue.v),Ie=function(me,fe,le){me=6*j(me,360),fe=j(fe,100),le=j(le,100);var Te=E.floor(me),Re=me-Te,De=le*(1-fe),Ue=le*(1-Re*fe),Ze=le*(1-(1-Re)*fe),xe=Te%6;return{r:255*[le,Ue,De,De,Ze,le][xe],g:255*[Ze,le,le,Ue,De,De][xe],b:255*[De,De,Ze,le,le,Ue][xe]}}(ue.h,_e,we),Ee=!0,Se="hsv"):Q(ue.h)&&Q(ue.s)&&Q(ue.l)&&(_e=G(ue.s),ze=G(ue.l),Ie=function(me,fe,le){var Te,Re,De;function Ue(Oe,Ce,Be){return Be<0&&(Be+=1),Be>1&&(Be-=1),Be<1/6?Oe+6*(Ce-Oe)*Be:Be<.5?Ce:Be<2/3?Oe+(Ce-Oe)*(2/3-Be)*6:Oe}if(me=j(me,360),fe=j(fe,100),le=j(le,100),0===fe)Te=Re=De=le;else{var Ze=le<.5?le*(1+fe):le+fe-le*fe,xe=2*le-Ze;Te=Ue(xe,Ze,me+1/3),Re=Ue(xe,Ze,me),De=Ue(xe,Ze,me-1/3)}return{r:255*Te,g:255*Re,b:255*De}}(ue.h,_e,ze),Ee=!0,Se="hsl"),ue.hasOwnProperty("a")&&(Me=ue.a)),Me=F(Me),{ok:Ee,format:ue.format||Se,r:u(255,i(Ie.r,0)),g:u(255,i(Ie.g,0)),b:u(255,i(Ie.b,0)),a:Me});this._originalInput=ee,this._r=ce.r,this._g=ce.g,this._b=ce.b,this._a=ce.a,this._roundA=v(100*this._a)/100,this._format=oe.format||ce.format,this._gradientType=oe.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ce.ok,this._tc_id=M++}function o(ee,oe,ce){ee=j(ee,255),oe=j(oe,255),ce=j(ce,255);var ue,he,ve=i(ee,oe,ce),ke=u(ee,oe,ce),Ie=(ve+ke)/2;if(ve==ke)ue=he=0;else{var Me=ve-ke;switch(he=Ie>.5?Me/(2-ve-ke):Me/(ve+ke),ve){case ee:ue=(oe-ce)/Me+(oe<ce?6:0);break;case oe:ue=(ce-ee)/Me+2;break;case ce:ue=(ee-oe)/Me+4}ue/=6}return{h:ue,s:he,l:Ie}}function l(ee,oe,ce){ee=j(ee,255),oe=j(oe,255),ce=j(ce,255);var ue,he,ve=i(ee,oe,ce),ke=u(ee,oe,ce),Ie=ve,Me=ve-ke;if(he=0===ve?0:Me/ve,ve==ke)ue=0;else{switch(ve){case ee:ue=(oe-ce)/Me+(oe<ce?6:0);break;case oe:ue=(ce-ee)/Me+2;break;case ce:ue=(ee-oe)/Me+4}ue/=6}return{h:ue,s:he,v:Ie}}function c(ee,oe,ce,ue){var he=[q(v(ee).toString(16)),q(v(oe).toString(16)),q(v(ce).toString(16))];return ue&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0):he.join("")}function f(ee,oe,ce,ue){return[q(H(ue)),q(v(ee).toString(16)),q(v(oe).toString(16)),q(v(ce).toString(16))].join("")}function g(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toHsl();return ce.s-=oe/100,ce.s=X(ce.s),a(ce)}function h(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toHsl();return ce.s+=oe/100,ce.s=X(ce.s),a(ce)}function T(ee){return a(ee).desaturate(100)}function x(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toHsl();return ce.l+=oe/100,ce.l=X(ce.l),a(ce)}function m(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toRgb();return ce.r=i(0,u(255,ce.r-v(-oe/100*255))),ce.g=i(0,u(255,ce.g-v(-oe/100*255))),ce.b=i(0,u(255,ce.b-v(-oe/100*255))),a(ce)}function b(ee,oe){oe=0===oe?0:oe||10;var ce=a(ee).toHsl();return ce.l-=oe/100,ce.l=X(ce.l),a(ce)}function _(ee,oe){var ce=a(ee).toHsl(),ue=(ce.h+oe)%360;return ce.h=ue<0?360+ue:ue,a(ce)}function w(ee){var oe=a(ee).toHsl();return oe.h=(oe.h+180)%360,a(oe)}function A(ee){var oe=a(ee).toHsl(),ce=oe.h;return[a(ee),a({h:(ce+120)%360,s:oe.s,l:oe.l}),a({h:(ce+240)%360,s:oe.s,l:oe.l})]}function p(ee){var oe=a(ee).toHsl(),ce=oe.h;return[a(ee),a({h:(ce+90)%360,s:oe.s,l:oe.l}),a({h:(ce+180)%360,s:oe.s,l:oe.l}),a({h:(ce+270)%360,s:oe.s,l:oe.l})]}function I(ee){var oe=a(ee).toHsl(),ce=oe.h;return[a(ee),a({h:(ce+72)%360,s:oe.s,l:oe.l}),a({h:(ce+216)%360,s:oe.s,l:oe.l})]}function k(ee,oe,ce){oe=oe||6,ce=ce||30;var ue=a(ee).toHsl(),he=360/ce,ve=[a(ee)];for(ue.h=(ue.h-(he*oe>>1)+720)%360;--oe;)ue.h=(ue.h+he)%360,ve.push(a(ue));return ve}function L(ee,oe){oe=oe||6;for(var ce=a(ee).toHsv(),ue=ce.h,he=ce.s,ve=ce.v,ke=[],Ie=1/oe;oe--;)ke.push(a({h:ue,s:he,v:ve})),ve=(ve+Ie)%1;return ke}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ee=this.toRgb();return(299*ee.r+587*ee.g+114*ee.b)/1e3},getLuminance:function(){var ee,oe,ce,ue=this.toRgb();return oe=ue.g/255,ce=ue.b/255,.2126*((ee=ue.r/255)<=.03928?ee/12.92:E.pow((ee+.055)/1.055,2.4))+.7152*(oe<=.03928?oe/12.92:E.pow((oe+.055)/1.055,2.4))+.0722*(ce<=.03928?ce/12.92:E.pow((ce+.055)/1.055,2.4))},setAlpha:function(ee){return this._a=F(ee),this._roundA=v(100*this._a)/100,this},toHsv:function(){var ee=l(this._r,this._g,this._b);return{h:360*ee.h,s:ee.s,v:ee.v,a:this._a}},toHsvString:function(){var ee=l(this._r,this._g,this._b),oe=v(360*ee.h),ce=v(100*ee.s),ue=v(100*ee.v);return 1==this._a?"hsv("+oe+", "+ce+"%, "+ue+"%)":"hsva("+oe+", "+ce+"%, "+ue+"%, "+this._roundA+")"},toHsl:function(){var ee=o(this._r,this._g,this._b);return{h:360*ee.h,s:ee.s,l:ee.l,a:this._a}},toHslString:function(){var ee=o(this._r,this._g,this._b),oe=v(360*ee.h),ce=v(100*ee.s),ue=v(100*ee.l);return 1==this._a?"hsl("+oe+", "+ce+"%, "+ue+"%)":"hsla("+oe+", "+ce+"%, "+ue+"%, "+this._roundA+")"},toHex:function(ee){return c(this._r,this._g,this._b,ee)},toHexString:function(ee){return"#"+this.toHex(ee)},toHex8:function(ee){return ce=this._g,ue=this._b,he=this._a,ve=ee,ke=[q(v(this._r).toString(16)),q(v(ce).toString(16)),q(v(ue).toString(16)),q(H(he))],ve&&ke[0].charAt(0)==ke[0].charAt(1)&&ke[1].charAt(0)==ke[1].charAt(1)&&ke[2].charAt(0)==ke[2].charAt(1)&&ke[3].charAt(0)==ke[3].charAt(1)?ke[0].charAt(0)+ke[1].charAt(0)+ke[2].charAt(0)+ke[3].charAt(0):ke.join("");var ce,ue,he,ve,ke},toHex8String:function(ee){return"#"+this.toHex8(ee)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(100*j(this._r,255))+"%",g:v(100*j(this._g,255))+"%",b:v(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+v(100*j(this._r,255))+"%, "+v(100*j(this._g,255))+"%, "+v(100*j(this._b,255))+"%)":"rgba("+v(100*j(this._r,255))+"%, "+v(100*j(this._g,255))+"%, "+v(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(ee){var oe="#"+f(this._r,this._g,this._b,this._a),ce=oe,ue=this._gradientType?"GradientType = 1, ":"";if(ee){var he=a(ee);ce="#"+f(he._r,he._g,he._b,he._a)}return"progid:DXImageTransform.Microsoft.gradient("+ue+"startColorstr="+oe+",endColorstr="+ce+")"},toString:function(ee){var oe=!!ee;ee=ee||this._format;var ce=!1;return oe||!(this._a<1&&this._a>=0)||"hex"!==ee&&"hex6"!==ee&&"hex3"!==ee&&"hex4"!==ee&&"hex8"!==ee&&"name"!==ee?("rgb"===ee&&(ce=this.toRgbString()),"prgb"===ee&&(ce=this.toPercentageRgbString()),"hex"!==ee&&"hex6"!==ee||(ce=this.toHexString()),"hex3"===ee&&(ce=this.toHexString(!0)),"hex4"===ee&&(ce=this.toHex8String(!0)),"hex8"===ee&&(ce=this.toHex8String()),"name"===ee&&(ce=this.toName()),"hsl"===ee&&(ce=this.toHslString()),"hsv"===ee&&(ce=this.toHsvString()),ce||this.toHexString()):"name"===ee&&0===this._a?this.toName():this.toRgbString()},clone:function(){return a(this.toString())},_applyModification:function(ee,oe){var ce=ee.apply(null,[this].concat([].slice.call(oe)));return this._r=ce._r,this._g=ce._g,this._b=ce._b,this.setAlpha(ce._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(ee,oe){return ee.apply(null,[this].concat([].slice.call(oe)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(p,arguments)}},a.fromRatio=function(ee,oe){if("object"==typeof ee){var ce={};for(var ue in ee)ee.hasOwnProperty(ue)&&(ce[ue]="a"===ue?ee[ue]:G(ee[ue]));ee=ce}return a(ee,oe)},a.equals=function(ee,oe){return!(!ee||!oe)&&a(ee).toRgbString()==a(oe).toRgbString()},a.random=function(){return a.fromRatio({r:s(),g:s(),b:s()})},a.mix=function(ee,oe,ce){ce=0===ce?0:ce||50;var ue=a(ee).toRgb(),he=a(oe).toRgb(),ve=ce/100;return a({r:(he.r-ue.r)*ve+ue.r,g:(he.g-ue.g)*ve+ue.g,b:(he.b-ue.b)*ve+ue.b,a:(he.a-ue.a)*ve+ue.a})},a.readability=function(ee,oe){var ce=a(ee),ue=a(oe);return(E.max(ce.getLuminance(),ue.getLuminance())+.05)/(E.min(ce.getLuminance(),ue.getLuminance())+.05)},a.isReadable=function(ee,oe,ce){var ue,he,ve,ke,Ie,Me=a.readability(ee,oe);switch(he=!1,(ve=ce,"AA"!==(ke=((ve=ve||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ke&&(ke="AA"),"small"!==(Ie=(ve.size||"small").toLowerCase())&&"large"!==Ie&&(Ie="small"),ue={level:ke,size:Ie}).level+ue.size){case"AAsmall":case"AAAlarge":he=Me>=4.5;break;case"AAlarge":he=Me>=3;break;case"AAAsmall":he=Me>=7}return he},a.mostReadable=function(ee,oe,ce){var ue,he,ve,ke,Ie=null,Me=0;he=(ce=ce||{}).includeFallbackColors,ve=ce.level,ke=ce.size;for(var _e=0;_e<oe.length;_e++)(ue=a.readability(ee,oe[_e]))>Me&&(Me=ue,Ie=a(oe[_e]));return a.isReadable(ee,Ie,{level:ve,size:ke})||!he?Ie:(ce.includeFallbackColors=!1,a.mostReadable(ee,["#fff","#000"],ce))};var O=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=a.hexNames=function(ee){var oe={};for(var ce in ee)ee.hasOwnProperty(ce)&&(oe[ee[ce]]=ce);return oe}(O);function F(ee){return ee=parseFloat(ee),(isNaN(ee)||ee<0||ee>1)&&(ee=1),ee}function j(ee,oe){var ue;"string"==typeof(ue=ee)&&-1!=ue.indexOf(".")&&1===parseFloat(ue)&&(ee="100%");var ce=function(ue){return"string"==typeof ue&&-1!=ue.indexOf("%")}(ee);return ee=u(oe,i(0,parseFloat(ee))),ce&&(ee=parseInt(ee*oe,10)/100),E.abs(ee-oe)<1e-6?1:ee%oe/parseFloat(oe)}function X(ee){return u(1,i(0,ee))}function N(ee){return parseInt(ee,16)}function q(ee){return 1==ee.length?"0"+ee:""+ee}function G(ee){return ee<=1&&(ee=100*ee+"%"),ee}function H(ee){return E.round(255*parseFloat(ee)).toString(16)}function Z(ee){return N(ee)/255}var $,se,ne,re=(se="[\\s|\\(]+("+($="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+$+")[,|\\s]+("+$+")\\s*\\)?",ne="[\\s|\\(]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")[,|\\s]+("+$+")\\s*\\)?",{CSS_UNIT:new RegExp($),rgb:new RegExp("rgb"+se),rgba:new RegExp("rgba"+ne),hsl:new RegExp("hsl"+se),hsla:new RegExp("hsla"+ne),hsv:new RegExp("hsv"+se),hsva:new RegExp("hsva"+ne),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Q(ee){return!!re.CSS_UNIT.exec(ee)}ae.exports?ae.exports=a:void 0===(D=function(){return a}.call(B,r,B,ae))||(ae.exports=D)}(Math)},57060:function(ae){"use strict";ae.exports=r,ae.exports.float32=ae.exports.float=r,ae.exports.fract32=ae.exports.fract=function(D,E){if(D.length){if(D instanceof Float32Array)return new Float32Array(D.length);E instanceof Float32Array||(E=r(D));for(var d=0,S=E.length;d<S;d++)E[d]=D[d]-E[d];return E}return r(D-r(D))};var B=new Float32Array(1);function r(D){return D.length?D instanceof Float32Array?D:new Float32Array(D):(B[0]=D,B[0])}},75686:function(ae,B,r){"use strict";var D=r(25677);ae.exports=S;var E=96;function d(M,v){var u=D(getComputedStyle(M).getPropertyValue(v));return u[0]*S(u[1],M)}function S(M,v){switch(v=v||document.body,M=(M||"px").trim().toLowerCase(),v!==window&&v!==document||(v=document.body),M){case"%":return v.clientHeight/100;case"ch":case"ex":return function(u,i){var s=document.createElement("div");s.style["font-size"]="128"+u,i.appendChild(s);var a=d(s,"font-size")/128;return i.removeChild(s),a}(M,v);case"em":return d(v,"font-size");case"rem":return d(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return E;case"cm":return E/2.54;case"mm":return E/25.4;case"pt":return E/72;case"pc":return E/6}return 1}},96892:function(ae,B,r){"use strict";function D(S){return S}function E(S,M){return"string"==typeof M&&(M=S.objects[M]),"GeometryCollection"===M.type?{type:"FeatureCollection",features:M.geometries.map(function(v){return d(S,v)})}:d(S,M)}function d(S,M){var v=M.id,u=M.bbox,i=null==M.properties?{}:M.properties,s=function(a,o){var l=function(m){if(null==m)return D;var b,_,w=m.scale[0],A=m.scale[1],p=m.translate[0],I=m.translate[1];return function(k,L){L||(b=_=0);var O=2,P=k.length,F=new Array(P);for(F[0]=(b+=k[0])*w+p,F[1]=(_+=k[1])*A+I;O<P;)F[O]=k[O],++O;return F}}(a.transform),c=a.arcs;function f(m,b){b.length&&b.pop();for(var _=c[m<0?~m:m],w=0,A=_.length;w<A;++w)b.push(l(_[w],w));m<0&&function(p,I){for(var k,L=p.length,O=L-I;O<--L;)k=p[O],p[O++]=p[L],p[L]=k}(b,A)}function g(m){return l(m)}function h(m){for(var b=[],_=0,w=m.length;_<w;++_)f(m[_],b);return b.length<2&&b.push(b[0]),b}function T(m){for(var b=h(m);b.length<4;)b.push(b[0]);return b}function x(m){return m.map(T)}return function m(b){var _,w=b.type;switch(w){case"GeometryCollection":return{type:w,geometries:b.geometries.map(m)};case"Point":_=g(b.coordinates);break;case"MultiPoint":_=b.coordinates.map(g);break;case"LineString":_=h(b.arcs);break;case"MultiLineString":_=b.arcs.map(h);break;case"Polygon":_=x(b.arcs);break;case"MultiPolygon":_=b.arcs.map(x);break;default:return null}return{type:w,coordinates:_}}(o)}(S,M);return null==v&&null==u?{type:"Feature",properties:i,geometry:s}:null==u?{type:"Feature",id:v,properties:i,geometry:s}:{type:"Feature",id:v,bbox:u,properties:i,geometry:s}}r.d(B,{zL:function(){return E}})},73116:function(ae,B,r){"use strict";var D=r(24511);ae.exports=function(E){if("function"!=typeof E||!hasOwnProperty.call(E,"length"))return!1;try{if("number"!=typeof E.length||"function"!=typeof E.call||"function"!=typeof E.apply)return!1}catch{return!1}return!D(E)}},69190:function(ae,B,r){"use strict";var D=r(24582),E=r(47403),d=r(9234),S=r(6048),M=function(v,u){return v.replace("%v",S(u))};ae.exports=function(v,u,i){if(!E(i))throw new TypeError(M(u,v));if(!D(v)){if("default"in i)return i.default;if(i.isOptional)return null}var s=d(i.errorMessage);throw D(s)||(s=u),new TypeError(M(s,v))}},18497:function(ae){"use strict";ae.exports=function(B){try{return B.toString()}catch{try{return String(B)}catch{return null}}}},6048:function(ae,B,r){"use strict";var D=r(18497),E=/[\n\r\u2028\u2029]/g;ae.exports=function(d){var S=D(d);return null===S?"<Non-coercible to string value>":(S.length>100&&(S=S.slice(0,99)+"\u2026"),S=S.replace(E,function(M){switch(M){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(ae,B,r){"use strict";var D=r(24582),E={object:!0,function:!0,undefined:!0};ae.exports=function(d){return!!D(d)&&hasOwnProperty.call(E,typeof d)}},82527:function(ae,B,r){"use strict";var D=r(69190),E=r(84985);ae.exports=function(d){return E(d)?d:D(d,"%v is not a plain function",arguments[1])}},84985:function(ae,B,r){"use strict";var D=r(73116),E=/^\s*class[\s{/}]/,d=Function.prototype.toString;ae.exports=function(S){return!!D(S)&&!E.test(d.call(S))}},24511:function(ae,B,r){"use strict";var D=r(47403);ae.exports=function(E){if(!D(E))return!1;try{return!!E.constructor&&E.constructor.prototype===E}catch{return!1}}},9234:function(ae,B,r){"use strict";var D=r(24582),E=r(47403),d=Object.prototype.toString;ae.exports=function(S){if(!D(S))return null;if(E(S)){var M=S.toString;if("function"!=typeof M||M===d)return null}try{return""+S}catch{return null}}},10424:function(ae,B,r){"use strict";var D=r(69190),E=r(24582);ae.exports=function(d){return E(d)?d:D(d,"Cannot use %v",arguments[1])}},24582:function(ae){"use strict";ae.exports=function(B){return null!=B}},58404:function(ae,B,r){"use strict";var D=r(13547),E=r(12129),d=r(12856).Buffer;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),BIGUINT64:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),BIGINT64:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var S=typeof Uint8ClampedArray<"u",M=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",u=r.g.__TYPEDARRAY_POOL;u.UINT8C||(u.UINT8C=E([32,0])),u.BIGUINT64||(u.BIGUINT64=E([32,0])),u.BIGINT64||(u.BIGINT64=E([32,0])),u.BUFFER||(u.BUFFER=E([32,0]));var i=u.DATA,s=u.BUFFER;function a(I){if(I){var L=D.log2(I.length||I.byteLength);i[L].push(I)}}function o(I){I=D.nextPow2(I);var k=D.log2(I),L=i[k];return L.length>0?L.pop():new ArrayBuffer(I)}function l(I){return new Uint8Array(o(I),0,I)}function c(I){return new Uint16Array(o(2*I),0,I)}function f(I){return new Uint32Array(o(4*I),0,I)}function g(I){return new Int8Array(o(I),0,I)}function h(I){return new Int16Array(o(2*I),0,I)}function T(I){return new Int32Array(o(4*I),0,I)}function x(I){return new Float32Array(o(4*I),0,I)}function m(I){return new Float64Array(o(8*I),0,I)}function b(I){return S?new Uint8ClampedArray(o(I),0,I):l(I)}function _(I){return M?new BigUint64Array(o(8*I),0,I):null}function w(I){return v?new BigInt64Array(o(8*I),0,I):null}function A(I){return new DataView(o(I),0,I)}function p(I){I=D.nextPow2(I);var k=D.log2(I),L=s[k];return L.length>0?L.pop():new d(I)}B.free=function(I){if(d.isBuffer(I))s[D.log2(I.length)].push(I);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(I)&&(I=I.buffer),!I)return;var L=0|D.log2(I.length||I.byteLength);i[L].push(I)}},B.freeUint8=B.freeUint16=B.freeUint32=B.freeBigUint64=B.freeInt8=B.freeInt16=B.freeInt32=B.freeBigInt64=B.freeFloat32=B.freeFloat=B.freeFloat64=B.freeDouble=B.freeUint8Clamped=B.freeDataView=function(I){a(I.buffer)},B.freeArrayBuffer=a,B.freeBuffer=function(I){s[D.log2(I.length)].push(I)},B.malloc=function(I,k){if(void 0===k||"arraybuffer"===k)return o(I);switch(k){case"uint8":return l(I);case"uint16":return c(I);case"uint32":return f(I);case"int8":return g(I);case"int16":return h(I);case"int32":return T(I);case"float":case"float32":return x(I);case"double":case"float64":return m(I);case"uint8_clamped":return b(I);case"bigint64":return w(I);case"biguint64":return _(I);case"buffer":return p(I);case"data":case"dataview":return A(I);default:return null}return null},B.mallocArrayBuffer=o,B.mallocUint8=l,B.mallocUint16=c,B.mallocUint32=f,B.mallocInt8=g,B.mallocInt16=h,B.mallocInt32=T,B.mallocFloat32=B.mallocFloat=x,B.mallocFloat64=B.mallocDouble=m,B.mallocUint8Clamped=b,B.mallocBigUint64=_,B.mallocBigInt64=w,B.mallocDataView=A,B.mallocBuffer=p,B.clearCache=function(){for(var I=0;I<32;++I)u.UINT8[I].length=0,u.UINT16[I].length=0,u.UINT32[I].length=0,u.INT8[I].length=0,u.INT16[I].length=0,u.INT32[I].length=0,u.FLOAT[I].length=0,u.DOUBLE[I].length=0,u.BIGUINT64[I].length=0,u.BIGINT64[I].length=0,u.UINT8C[I].length=0,i[I].length=0,s[I].length=0}},90448:function(ae){var B=/[\'\"]/;ae.exports=function(r){return r?(B.test(r.charAt(0))&&(r=r.substr(1)),B.test(r.charAt(r.length-1))&&(r=r.substr(0,r.length-1)),r):""}},93447:function(ae){"use strict";ae.exports=function(B,r,D){Array.isArray(D)||(D=[].slice.call(arguments,2));for(var E=0,d=D.length;E<d;E++){var S=D[E];for(var M in S)if((void 0===r[M]||Array.isArray(r[M])||B[M]!==r[M])&&M in r){var v;if(!0===S[M])v=r[M];else if(!1===S[M]||"function"==typeof S[M]&&void 0===(v=S[M](r[M],B,r)))continue;B[M]=v}}return B}},20588:function(ae,B,r){function D(E){try{if(!r.g.localStorage)return!1}catch{return!1}var d=r.g.localStorage[E];return null!=d&&"true"===String(d).toLowerCase()}ae.exports=function(E,d){if(D("noDeprecation"))return E;var S=!1;return function(){if(!S){if(D("throwDeprecation"))throw new Error(d);D("traceDeprecation")?console.trace(d):console.warn(d),S=!0}return E.apply(this,arguments)}}},45920:function(ae){ae.exports=function(B){return B&&"object"==typeof B&&"function"==typeof B.copy&&"function"==typeof B.fill&&"function"==typeof B.readUInt8}},4936:function(ae,B,r){"use strict";var D=r(47216),E=r(65481),d=r(21099),S=r(9187);function M(j){return j.call.bind(j)}var v=typeof BigInt<"u",u=typeof Symbol<"u",i=M(Object.prototype.toString),s=M(Number.prototype.valueOf),a=M(String.prototype.valueOf),o=M(Boolean.prototype.valueOf);if(v)var l=M(BigInt.prototype.valueOf);if(u)var c=M(Symbol.prototype.valueOf);function f(j,X){if("object"!=typeof j)return!1;try{return X(j),!0}catch{return!1}}function g(j){return"[object Map]"===i(j)}function h(j){return"[object Set]"===i(j)}function T(j){return"[object WeakMap]"===i(j)}function x(j){return"[object WeakSet]"===i(j)}function m(j){return"[object ArrayBuffer]"===i(j)}function b(j){return typeof ArrayBuffer<"u"&&(m.working?m(j):j instanceof ArrayBuffer)}function _(j){return"[object DataView]"===i(j)}function w(j){return typeof DataView<"u"&&(_.working?_(j):j instanceof DataView)}B.isArgumentsObject=D,B.isGeneratorFunction=E,B.isTypedArray=S,B.isPromise=function(j){return typeof Promise<"u"&&j instanceof Promise||null!==j&&"object"==typeof j&&"function"==typeof j.then&&"function"==typeof j.catch},B.isArrayBufferView=function(j){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(j):S(j)||w(j)},B.isUint8Array=function(j){return"Uint8Array"===d(j)},B.isUint8ClampedArray=function(j){return"Uint8ClampedArray"===d(j)},B.isUint16Array=function(j){return"Uint16Array"===d(j)},B.isUint32Array=function(j){return"Uint32Array"===d(j)},B.isInt8Array=function(j){return"Int8Array"===d(j)},B.isInt16Array=function(j){return"Int16Array"===d(j)},B.isInt32Array=function(j){return"Int32Array"===d(j)},B.isFloat32Array=function(j){return"Float32Array"===d(j)},B.isFloat64Array=function(j){return"Float64Array"===d(j)},B.isBigInt64Array=function(j){return"BigInt64Array"===d(j)},B.isBigUint64Array=function(j){return"BigUint64Array"===d(j)},g.working=typeof Map<"u"&&g(new Map),B.isMap=function(j){return typeof Map<"u"&&(g.working?g(j):j instanceof Map)},h.working=typeof Set<"u"&&h(new Set),B.isSet=function(j){return typeof Set<"u"&&(h.working?h(j):j instanceof Set)},T.working=typeof WeakMap<"u"&&T(new WeakMap),B.isWeakMap=function(j){return typeof WeakMap<"u"&&(T.working?T(j):j instanceof WeakMap)},x.working=typeof WeakSet<"u"&&x(new WeakSet),B.isWeakSet=function(j){return x(j)},m.working=typeof ArrayBuffer<"u"&&m(new ArrayBuffer),B.isArrayBuffer=b,_.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_(new DataView(new ArrayBuffer(1),0,1)),B.isDataView=w;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function p(j){return"[object SharedArrayBuffer]"===i(j)}function I(j){return void 0!==A&&(void 0===p.working&&(p.working=p(new A)),p.working?p(j):j instanceof A)}function k(j){return f(j,s)}function L(j){return f(j,a)}function O(j){return f(j,o)}function P(j){return v&&f(j,l)}function F(j){return u&&f(j,c)}B.isSharedArrayBuffer=I,B.isAsyncFunction=function(j){return"[object AsyncFunction]"===i(j)},B.isMapIterator=function(j){return"[object Map Iterator]"===i(j)},B.isSetIterator=function(j){return"[object Set Iterator]"===i(j)},B.isGeneratorObject=function(j){return"[object Generator]"===i(j)},B.isWebAssemblyCompiledModule=function(j){return"[object WebAssembly.Module]"===i(j)},B.isNumberObject=k,B.isStringObject=L,B.isBooleanObject=O,B.isBigIntObject=P,B.isSymbolObject=F,B.isBoxedPrimitive=function(j){return k(j)||L(j)||O(j)||P(j)||F(j)},B.isAnyArrayBuffer=function(j){return typeof Uint8Array<"u"&&(b(j)||I(j))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(j){Object.defineProperty(B,j,{enumerable:!1,value:function(){throw new Error(j+" is not supported in userland")}})})},43827:function(ae,B,r){var D=r(90386),E=Object.getOwnPropertyDescriptors||function(F){for(var j=Object.keys(F),X={},N=0;N<j.length;N++)X[j[N]]=Object.getOwnPropertyDescriptor(F,j[N]);return X},d=/%[sdj%]/g;B.format=function(F){if(!T(F)){for(var j=[],X=0;X<arguments.length;X++)j.push(u(arguments[X]));return j.join(" ")}X=1;for(var N=arguments,q=N.length,G=String(F).replace(d,function(Z){if("%%"===Z)return"%";if(X>=q)return Z;switch(Z){case"%s":return String(N[X++]);case"%d":return Number(N[X++]);case"%j":try{return JSON.stringify(N[X++])}catch{return"[Circular]"}default:return Z}}),H=N[X];X<q;H=N[++X])g(H)||!b(H)?G+=" "+H:G+=" "+u(H);return G},B.deprecate=function(F,j){if(void 0!==D&&!0===D.noDeprecation)return F;if(void 0===D)return function(){return B.deprecate(F,j).apply(this,arguments)};var X=!1;return function(){if(!X){if(D.throwDeprecation)throw new Error(j);D.traceDeprecation?console.trace(j):console.error(j),X=!0}return F.apply(this,arguments)}};var S={},M=/^$/;if(D.env.NODE_DEBUG){var v=D.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+v+"$","i")}function u(F,j){var X={seen:[],stylize:s};return arguments.length>=3&&(X.depth=arguments[2]),arguments.length>=4&&(X.colors=arguments[3]),f(j)?X.showHidden=j:j&&B._extend(X,j),x(X.showHidden)&&(X.showHidden=!1),x(X.depth)&&(X.depth=2),x(X.colors)&&(X.colors=!1),x(X.customInspect)&&(X.customInspect=!0),X.colors&&(X.stylize=i),a(X,F,X.depth)}function i(F,j){var X=u.styles[j];return X?"\x1b["+u.colors[X][0]+"m"+F+"\x1b["+u.colors[X][1]+"m":F}function s(F,j){return F}function a(F,j,X){if(F.customInspect&&j&&A(j.inspect)&&j.inspect!==B.inspect&&(!j.constructor||j.constructor.prototype!==j)){var N=j.inspect(X,F);return T(N)||(N=a(F,N,X)),N}var q=function(Q,ee){if(x(ee))return Q.stylize("undefined","undefined");if(T(ee)){var oe="'"+JSON.stringify(ee).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Q.stylize(oe,"string")}return h(ee)?Q.stylize(""+ee,"number"):f(ee)?Q.stylize(""+ee,"boolean"):g(ee)?Q.stylize("null","null"):void 0}(F,j);if(q)return q;var ee,G=Object.keys(j),H=(ee={},G.forEach(function(oe,ce){ee[oe]=!0}),ee);if(F.showHidden&&(G=Object.getOwnPropertyNames(j)),w(j)&&(G.indexOf("message")>=0||G.indexOf("description")>=0))return o(j);if(0===G.length){if(A(j))return F.stylize("[Function"+(j.name?": "+j.name:"")+"]","special");if(m(j))return F.stylize(RegExp.prototype.toString.call(j),"regexp");if(_(j))return F.stylize(Date.prototype.toString.call(j),"date");if(w(j))return o(j)}var $,se="",ne=!1,re=["{","}"];return c(j)&&(ne=!0,re=["[","]"]),A(j)&&(se=" [Function"+(j.name?": "+j.name:"")+"]"),m(j)&&(se=" "+RegExp.prototype.toString.call(j)),_(j)&&(se=" "+Date.prototype.toUTCString.call(j)),w(j)&&(se=" "+o(j)),0!==G.length||ne&&0!=j.length?X<0?m(j)?F.stylize(RegExp.prototype.toString.call(j),"regexp"):F.stylize("[Object]","special"):(F.seen.push(j),$=ne?function(Q,ee,oe,ce,ue){for(var he=[],ve=0,ke=ee.length;ve<ke;++ve)L(ee,String(ve))?he.push(l(Q,ee,oe,ce,String(ve),!0)):he.push("");return ue.forEach(function(Ie){Ie.match(/^\d+$/)||he.push(l(Q,ee,oe,ce,Ie,!0))}),he}(F,j,X,H,G):G.map(function(Q){return l(F,j,X,H,Q,ne)}),F.seen.pop(),function(Q,ee,oe){return Q.reduce(function(ce,ue){return ue.indexOf("\n"),ce+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?oe[0]+(""===ee?"":ee+"\n ")+" "+Q.join(",\n  ")+" "+oe[1]:oe[0]+ee+" "+Q.join(", ")+" "+oe[1]}($,se,re)):re[0]+se+re[1]}function o(F){return"["+Error.prototype.toString.call(F)+"]"}function l(F,j,X,N,q,G){var H,Z,$;if(($=Object.getOwnPropertyDescriptor(j,q)||{value:j[q]}).get?Z=F.stylize($.set?"[Getter/Setter]":"[Getter]","special"):$.set&&(Z=F.stylize("[Setter]","special")),L(N,q)||(H="["+q+"]"),Z||(F.seen.indexOf($.value)<0?(Z=g(X)?a(F,$.value,null):a(F,$.value,X-1)).indexOf("\n")>-1&&(Z=G?Z.split("\n").map(function(se){return"  "+se}).join("\n").slice(2):"\n"+Z.split("\n").map(function(se){return"   "+se}).join("\n")):Z=F.stylize("[Circular]","special")),x(H)){if(G&&q.match(/^\d+$/))return Z;(H=JSON.stringify(""+q)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=F.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=F.stylize(H,"string"))}return H+": "+Z}function c(F){return Array.isArray(F)}function f(F){return"boolean"==typeof F}function g(F){return null===F}function h(F){return"number"==typeof F}function T(F){return"string"==typeof F}function x(F){return void 0===F}function m(F){return b(F)&&"[object RegExp]"===p(F)}function b(F){return"object"==typeof F&&null!==F}function _(F){return b(F)&&"[object Date]"===p(F)}function w(F){return b(F)&&("[object Error]"===p(F)||F instanceof Error)}function A(F){return"function"==typeof F}function p(F){return Object.prototype.toString.call(F)}function I(F){return F<10?"0"+F.toString(10):F.toString(10)}B.debuglog=function(F){if(F=F.toUpperCase(),!S[F])if(M.test(F)){var j=D.pid;S[F]=function(){var X=B.format.apply(B,arguments);console.error("%s %d: %s",F,j,X)}}else S[F]=function(){};return S[F]},B.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},B.types=r(4936),B.isArray=c,B.isBoolean=f,B.isNull=g,B.isNullOrUndefined=function(F){return null==F},B.isNumber=h,B.isString=T,B.isSymbol=function(F){return"symbol"==typeof F},B.isUndefined=x,B.isRegExp=m,B.types.isRegExp=m,B.isObject=b,B.isDate=_,B.types.isDate=_,B.isError=w,B.types.isNativeError=w,B.isFunction=A,B.isPrimitive=function(F){return null===F||"boolean"==typeof F||"number"==typeof F||"string"==typeof F||"symbol"==typeof F||void 0===F},B.isBuffer=r(45920);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(F,j){return Object.prototype.hasOwnProperty.call(F,j)}B.log=function(){var F,j;console.log("%s - %s",(j=[I((F=new Date).getHours()),I(F.getMinutes()),I(F.getSeconds())].join(":"),[F.getDate(),k[F.getMonth()],j].join(" ")),B.format.apply(B,arguments))},B.inherits=r(42018),B._extend=function(F,j){if(!j||!b(j))return F;for(var X=Object.keys(j),N=X.length;N--;)F[X[N]]=j[X[N]];return F};var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function P(F,j){if(!F){var X=new Error("Promise was rejected with a falsy value");X.reason=F,F=X}return j(F)}B.promisify=function(F){if("function"!=typeof F)throw new TypeError('The "original" argument must be of type Function');if(O&&F[O]){var j;if("function"!=typeof(j=F[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(j,O,{value:j,enumerable:!1,writable:!1,configurable:!0}),j}function j(){for(var X,N,q=new Promise(function(Z,$){X=Z,N=$}),G=[],H=0;H<arguments.length;H++)G.push(arguments[H]);G.push(function(Z,$){Z?N(Z):X($)});try{F.apply(this,G)}catch(Z){N(Z)}return q}return Object.setPrototypeOf(j,Object.getPrototypeOf(F)),O&&Object.defineProperty(j,O,{value:j,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(j,E(F))},B.promisify.custom=O,B.callbackify=function(F){if("function"!=typeof F)throw new TypeError('The "original" argument must be of type Function');function j(){for(var X=[],N=0;N<arguments.length;N++)X.push(arguments[N]);var q=X.pop();if("function"!=typeof q)throw new TypeError("The last argument must be of type Function");var G=this,H=function(){return q.apply(G,arguments)};F.apply(this,X).then(function(Z){D.nextTick(H.bind(null,null,Z))},function(Z){D.nextTick(P.bind(null,Z,H))})}return Object.setPrototypeOf(j,Object.getPrototypeOf(F)),Object.defineProperties(j,E(F)),j}},40372:function(ae,B,r){var D=r(86249);ae.exports=function(E){return D("webgl",E)}},21099:function(ae,B,r){"use strict";var D=r(31353),E=r(72077),d=r(6614),S=r(40383),M=d("Object.prototype.toString"),v=r(84543)(),u=typeof globalThis>"u"?r.g:globalThis,i=E(),s=d("String.prototype.slice"),a={},o=Object.getPrototypeOf;v&&S&&o&&D(i,function(c){if("function"==typeof u[c]){var f=new u[c];if(Symbol.toStringTag in f){var g=o(f),h=S(g,Symbol.toStringTag);if(!h){var T=o(g);h=S(T,Symbol.toStringTag)}a[c]=h.get}}});var l=r(9187);ae.exports=function(c){return!!l(c)&&(v&&Symbol.toStringTag in c?(f=c,g=!1,D(a,function(h,T){if(!g)try{var x=h.call(f);x===T&&(g=x)}catch{}}),g):s(M(c),8,-1));var f,g}},3961:function(ae,B,r){var D=r(63489),E=r(56131),d=D.instance();function S(o){this.local=this.regionalOptions[o||""]||this.regionalOptions[""]}E(S.prototype=new D.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(o,l){if("string"==typeof o){var c=o.match(v);return c?c[0]:""}var f=this._validateYear(o),g=o.month(),h=""+this.toChineseMonth(f,g);return l&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(f,g)&&(h+="i"),h},monthNames:function(o){if("string"==typeof o){var l=o.match(u);return l?l[0]:""}var c=this._validateYear(o),f=o.month(),g=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(c,f)-1];return this.isIntercalaryMonth(c,f)&&(g="\u95f0"+g),g},monthNamesShort:function(o){if("string"==typeof o){var l=o.match(i);return l?l[0]:""}var c=this._validateYear(o),f=o.month(),g=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(c,f)-1];return this.isIntercalaryMonth(c,f)&&(g="\u95f0"+g),g},parseMonth:function(o,l){o=this._validateYear(o);var c,f=parseInt(l);if(isNaN(f))"\u95f0"===l[0]&&(c=!0,l=l.substring(1)),"\u6708"===l[l.length-1]&&(l=l.substring(0,l.length-1)),f=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(l);else{var g=l[l.length-1];c="i"===g||"I"===g}return this.toMonthIndex(o,f,c)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(o,l){if(o.year&&(o=o.year()),"number"!=typeof o||o<1888||o>2111)throw l.replace(/\{0\}/,this.local.name);return o},toMonthIndex:function(o,l,c){var f=this.intercalaryMonth(o);if(c&&l!==f||l<1||l>12)throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return f?!c&&l<=f?l-1:l:l-1},toChineseMonth:function(o,l){o.year&&(l=(o=o.year()).month());var c=this.intercalaryMonth(o);if(l<0||l>(c?12:11))throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return c?l<c?l+1:l:l+1},intercalaryMonth:function(o){return o=this._validateYear(o),s[o-s[0]]>>13},isIntercalaryMonth:function(o,l){o.year&&(l=(o=o.year()).month());var c=this.intercalaryMonth(o);return!!c&&c===l},leapYear:function(o){return 0!==this.intercalaryMonth(o)},weekOfYear:function(o,l,c){var f,g=this._validateYear(o,D.local.invalidyear),h=a[g-a[0]];(f=d.newDate(h>>9&4095,h>>5&15,31&h)).add(4-(f.dayOfWeek()||7),"d");var b=this.toJD(o,l,c)-f.toJD();return 1+Math.floor(b/7)},monthsInYear:function(o){return this.leapYear(o)?13:12},daysInMonth:function(o,l){o.year&&(l=o.month(),o=o.year()),o=this._validateYear(o);var c=s[o-s[0]];if(l>(c>>13?12:11))throw D.local.invalidMonth.replace(/\{0\}/,this.local.name);return c&1<<12-l?30:29},weekDay:function(o,l,c){return(this.dayOfWeek(o,l,c)||7)<6},toJD:function(o,l,c){var f=this._validate(o,h,c,D.local.invalidDate);o=this._validateYear(f.year()),l=f.month(),c=f.day();var g=this.isIntercalaryMonth(o,l),h=this.toChineseMonth(o,l),T=function(x,m,b,_,w){var A,p,I;if("object"==typeof x)p=x,A=m||{};else{var k;if(!("number"==typeof x&&x>=1888&&x<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof m&&m>=1&&m<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof b&&b>=1&&b<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof _?(k=!1,A=_):(k=!!_,A={}),p={year:x,month:m,day:b,isIntercalary:k}}I=p.day-1;var L,O=s[p.year-s[0]],P=O>>13;L=P&&(p.month>P||p.isIntercalary)?p.month:p.month-1;for(var F=0;F<L;F++)I+=O&1<<12-F?30:29;var j=a[p.year-a[0]],X=new Date(j>>9&4095,(j>>5&15)-1,(31&j)+I);return A.year=X.getFullYear(),A.month=1+X.getMonth(),A.day=X.getDate(),A}(o,h,c,g);return d.toJD(T.year,T.month,T.day)},fromJD:function(o){var l=d.fromJD(o),c=function(g,h,T,x){var m,b;if("object"==typeof g)m=g,b=h||{};else{if(!("number"==typeof g&&g>=1888&&g<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof h&&h>=1&&h<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof T&&T>=1&&T<=31))throw new Error("Solar day outside range 1 - 31");m={year:g,month:h,day:T},b={}}var _=a[m.year-a[0]];b.year=(m.year<<9|m.month<<5|m.day)>=_?m.year:m.year-1,_=a[b.year-a[0]];var A,p=new Date(_>>9&4095,(_>>5&15)-1,31&_),I=new Date(m.year,m.month-1,m.day);A=Math.round((I-p)/864e5);var k,L=s[b.year-s[0]];for(k=0;k<13;k++){var O=L&1<<12-k?30:29;if(A<O)break;A-=O}var P=L>>13;return!P||k<P?(b.isIntercalary=!1,b.month=1+k):k===P?(b.isIntercalary=!0,b.month=k):(b.isIntercalary=!1,b.month=k),b.day=1+A,b}(l.year(),l.month(),l.day()),f=this.toMonthIndex(c.year,c.month,c.isIntercalary);return this.newDate(c.year,f,c.day)},fromString:function(o){var l=o.match(M),c=this._validateYear(+l[1]),h=this.toMonthIndex(c,+l[2],!!l[3]);return this.newDate(c,h,+l[4])},add:function(o,l,c){var f=o.year(),g=o.month(),h=this.isIntercalaryMonth(f,g),T=this.toChineseMonth(f,g),x=Object.getPrototypeOf(S.prototype).add.call(this,o,l,c);if("y"===c){var m=x.year(),b=x.month(),_=this.isIntercalaryMonth(m,T),w=this.toMonthIndex(m,T,!(!h||!_));w!==b&&x.month(w)}return x}});var M=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,u=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,i=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;D.calendars.chinese=S;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(ae,B,r){var D=r(63489);function d(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(d.prototype=new D.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,D.local.invalidYear);return(S=M.year()+(M.year()<0?1:0))%4==3||S%4==-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear),13},weekOfYear:function(S,M,v){var u=this.newDate(S,M,v);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(13===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var u=this._validate(S,M,v,D.local.invalidDate);return(S=u.year())<0&&S++,u.day()+30*(u.month()-1)+365*(S-1)+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var M=Math.floor(S)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(S)+.5-this.newDate(v,1,1).toJD();var u=Math.floor(M/30)+1;return this.newDate(v,u,M-30*(u-1)+1)}}),D.calendars.coptic=d},86825:function(ae,B,r){var D=r(63489);function d(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(d.prototype=new D.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),!1},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),13},daysInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),400},weekOfYear:function(M,v,u){var i=this.newDate(M,v,u);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/8)+1},daysInMonth:function(M,v){var u=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[u.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(M,v,u){return(this._validate(M,v,u,D.local.invalidDate).day()+1)%8},weekDay:function(M,v,u){var i=this.dayOfWeek(M,v,u);return i>=2&&i<=6},extraInfo:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidDate);return{century:S[Math.floor((i.year()-1)/100)+1]||""}},toJD:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidDate);return M=i.year()+(i.year()<0?1:0),v=i.month(),(u=i.day())+(v>1?16:0)+(v>2?32*(v-2):0)+400*(M-1)+this.jdEpoch-1},fromJD:function(M){M=Math.floor(M+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(M/400)+1;M-=400*(v-1),M+=M>15?16:0;var u=Math.floor(M/32)+1;return this.newDate(v<=0?v-1:v,u,M-32*(u-1)+1)}});var S={20:"Fruitbat",21:"Anchovy"};D.calendars.discworld=d},37715:function(ae,B,r){var D=r(63489);function d(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(d.prototype=new D.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,D.local.invalidYear);return(S=M.year()+(M.year()<0?1:0))%4==3||S%4==-1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear),13},weekOfYear:function(S,M,v){var u=this.newDate(S,M,v);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(13===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var u=this._validate(S,M,v,D.local.invalidDate);return(S=u.year())<0&&S++,u.day()+30*(u.month()-1)+365*(S-1)+Math.floor(S/4)+this.jdEpoch-1},fromJD:function(S){var M=Math.floor(S)+.5-this.jdEpoch,v=Math.floor((M-Math.floor((M+366)/1461))/365)+1;v<=0&&v--,M=Math.floor(S)+.5-this.newDate(v,1,1).toJD();var u=Math.floor(M/30)+1;return this.newDate(v,u,M-30*(u-1)+1)}}),D.calendars.ethiopian=d},99384:function(ae,B,r){var D=r(63489);function d(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function S(M,v){return M-v*Math.floor(M/v)}r(56131)(d.prototype=new D.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(M){return S(7*(M=M<0?M+1:M)+1,19)<7},monthsInYear:function(M){return this._validate(M,this.minMonth,this.minDay,D.local.invalidYear),this._leapYear(M.year?M.year():M)?13:12},weekOfYear:function(M,v,u){var i=this.newDate(M,v,u);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){return M=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear).year(),this.toJD(-1===M?1:M+1,7,1)-this.toJD(M,7,1)},daysInMonth:function(M,v){return M.year&&(v=M.month(),M=M.year()),this._validate(M,v,this.minDay,D.local.invalidMonth),12===v&&this.leapYear(M)||8===v&&5===S(this.daysInYear(M),10)?30:9===v&&3===S(this.daysInYear(M),10)?29:this.daysPerMonth[v-1]},weekDay:function(M,v,u){return 6!==this.dayOfWeek(M,v,u)},extraInfo:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidDate);M=i.year(),v=i.month(),u=i.day();var s=M<=0?M+1:M,a=this.jdEpoch+this._delay1(s)+this._delay2(s)+u+1;if(v<7){for(var o=7;o<=this.monthsInYear(M);o++)a+=this.daysInMonth(M,o);for(o=1;o<v;o++)a+=this.daysInMonth(M,o)}else for(o=7;o<v;o++)a+=this.daysInMonth(M,o);return a},_delay1:function(M){var v=Math.floor((235*M-234)/19),i=29*v+Math.floor((12084+13753*v)/25920);return S(3*(i+1),7)<3&&i++,i},_delay2:function(M){var v=this._delay1(M-1),u=this._delay1(M);return this._delay1(M+1)-u==356?2:u-v==382?1:0},fromJD:function(M){M=Math.floor(M)+.5;for(var v=Math.floor(98496*(M-this.jdEpoch)/35975351)-1;M>=this.toJD(-1===v?1:v+1,7,1);)v++;for(var u=M<this.toJD(v,1,1)?7:1;M>this.toJD(v,u,this.daysInMonth(v,u));)u++;var i=M-this.toJD(v,u,1)+1;return this.newDate(v,u,i)}}),D.calendars.hebrew=d},43805:function(ae,B,r){var D=r(63489);function d(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(d.prototype=new D.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){return(11*this._validate(S,this.minMonth,this.minDay,D.local.invalidYear).year()+14)%30<11},weekOfYear:function(S,M,v){var u=this.newDate(S,M,v);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInYear:function(S){return this.leapYear(S)?355:354},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(12===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return 5!==this.dayOfWeek(S,M,v)},toJD:function(S,M,v){var u=this._validate(S,M,v,D.local.invalidDate);return S=u.year(),M=u.month(),S=S<=0?S+1:S,(v=u.day())+Math.ceil(29.5*(M-1))+354*(S-1)+Math.floor((3+11*S)/30)+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var M=Math.floor((30*(S-this.jdEpoch)+10646)/10631);M=M<=0?M-1:M;var v=Math.min(12,Math.ceil((S-29-this.toJD(M,1,1))/29.5)+1),u=S-this.toJD(M,v,1)+1;return this.newDate(M,v,u)}}),D.calendars.islamic=d},88874:function(ae,B,r){var D=r(63489);function d(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(d.prototype=new D.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var M=this._validate(S,this.minMonth,this.minDay,D.local.invalidYear);return(S=M.year()<0?M.year()+1:M.year())%4==0},weekOfYear:function(S,M,v){var u=this.newDate(S,M,v);return u.add(4-(u.dayOfWeek()||7),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(S,M){var v=this._validate(S,M,this.minDay,D.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(2===v.month()&&this.leapYear(v.year())?1:0)},weekDay:function(S,M,v){return(this.dayOfWeek(S,M,v)||7)<6},toJD:function(S,M,v){var u=this._validate(S,M,v,D.local.invalidDate);return S=u.year(),M=u.month(),v=u.day(),S<0&&S++,M<=2&&(S--,M+=12),Math.floor(365.25*(S+4716))+Math.floor(30.6001*(M+1))+v-1524.5},fromJD:function(S){var M=Math.floor(S+.5)+1524,v=Math.floor((M-122.1)/365.25),u=Math.floor(365.25*v),i=Math.floor((M-u)/30.6001),s=i-Math.floor(i<14?1:13),a=v-Math.floor(s>2?4716:4715),o=M-u-Math.floor(30.6001*i);return a<=0&&a--,this.newDate(a,s,o)}}),D.calendars.julian=d},83290:function(ae,B,r){var D=r(63489);function d(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}function S(v,u){return v-u*Math.floor(v/u)}function M(v,u){return S(v-1,u)+1}r(56131)(d.prototype=new D.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,D.local.invalidYear),!1},formatYear:function(v){v=this._validate(v,this.minMonth,this.minDay,D.local.invalidYear).year();var u=Math.floor(v/400);return v%=400,v+=v<0?400:0,u+"."+Math.floor(v/20)+"."+v%20},forYear:function(v){if((v=v.split(".")).length<3)throw"Invalid Mayan year";for(var u=0,i=0;i<v.length;i++){var s=parseInt(v[i],10);if(Math.abs(s)>19||i>0&&s<0)throw"Invalid Mayan year";u=20*u+s}return u},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,D.local.invalidYear),18},weekOfYear:function(v,u,i){return this._validate(v,u,i,D.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,D.local.invalidYear),360},daysInMonth:function(v,u){return this._validate(v,u,this.minDay,D.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,u,i){return this._validate(v,u,i,D.local.invalidDate).day()},weekDay:function(v,u,i){return this._validate(v,u,i,D.local.invalidDate),!0},extraInfo:function(v,u,i){var s=this._validate(v,u,i,D.local.invalidDate).toJD(),a=this._toHaab(s),o=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(v){var u=S(8+(v-=this.jdEpoch)+340,365);return[Math.floor(u/20)+1,S(u,20)]},_toTzolkin:function(v){return[M(20+(v-=this.jdEpoch),20),M(v+4,13)]},toJD:function(v,u,i){var s=this._validate(v,u,i,D.local.invalidDate);return s.day()+20*s.month()+360*s.year()+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var u=Math.floor(v/360);v%=360,v+=v<0?360:0;var i=Math.floor(v/20);return this.newDate(u,i,v%20)}}),D.calendars.mayan=d},29108:function(ae,B,r){var D=r(63489),E=r(56131);function d(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}d.prototype=new D.baseCalendar;var S=D.instance("gregorian");E(d.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear||D.regionalOptions[""].invalidYear);return S.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(M,v,u){var i=this.newDate(M,v,u);return i.add(1-(i.dayOfWeek()||7),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var u=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(12===u.month()&&this.leapYear(u.year())?1:0)},weekDay:function(M,v,u){return(this.dayOfWeek(M,v,u)||7)<6},toJD:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidMonth);(M=i.year())<0&&M++;for(var s=i.day(),a=1;a<i.month();a++)s+=this.daysPerMonth[a-1];return s+S.toJD(M+1468,3,13)},fromJD:function(M){M=Math.floor(M+.5);for(var v=Math.floor((M-(this.jdEpoch-1))/366);M>=this.toJD(v+1,1,1);)v++;for(var u=M-Math.floor(this.toJD(v,1,1)+.5)+1,i=1;u>this.daysInMonth(v,i);)u-=this.daysInMonth(v,i),i++;return this.newDate(v,i,u)}}),D.calendars.nanakshahi=d},55422:function(ae,B,r){var D=r(63489);function d(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}r(56131)(d.prototype=new D.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(S){return this.daysInYear(S)!==this.daysPerYear},weekOfYear:function(S,M,v){var u=this.newDate(S,M,v);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInYear:function(S){if(S=this._validate(S,this.minMonth,this.minDay,D.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[S])return this.daysPerYear;for(var M=0,v=this.minMonth;v<=12;v++)M+=this.NEPALI_CALENDAR_DATA[S][v];return M},daysInMonth:function(S,M){return S.year&&(M=S.month(),S=S.year()),this._validate(S,M,this.minDay,D.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[S]?this.daysPerMonth[M-1]:this.NEPALI_CALENDAR_DATA[S][M]},weekDay:function(S,M,v){return 6!==this.dayOfWeek(S,M,v)},toJD:function(S,M,v){var u=this._validate(S,M,v,D.local.invalidDate);S=u.year(),M=u.month(),v=u.day();var i=D.instance(),s=0,a=M,o=S;this._createMissingCalendarData(S);var l=S-(a>9||9===a&&v>=this.NEPALI_CALENDAR_DATA[o][0]?56:57);for(9!==M&&(s=v,a--);9!==a;)a<=0&&(a=12,o--),s+=this.NEPALI_CALENDAR_DATA[o][a],a--;return 9===M?(s+=v-this.NEPALI_CALENDAR_DATA[o][0])<0&&(s+=i.daysInYear(l)):s+=this.NEPALI_CALENDAR_DATA[o][9]-this.NEPALI_CALENDAR_DATA[o][0],i.newDate(l,1,1).add(s,"d").toJD()},fromJD:function(S){var M=D.instance().fromJD(S),v=M.year(),u=M.dayOfYear(),i=v+56;this._createMissingCalendarData(i);for(var s=9,o=this.NEPALI_CALENDAR_DATA[i][s]-this.NEPALI_CALENDAR_DATA[i][0]+1;u>o;)++s>12&&(s=1,i++),o+=this.NEPALI_CALENDAR_DATA[i][s];return this.newDate(i,s,this.NEPALI_CALENDAR_DATA[i][s]-(o-u))},_createMissingCalendarData:function(S){var M=this.daysPerMonth.slice(0);M.unshift(17);for(var v=S-1;v<S+2;v++)void 0===this.NEPALI_CALENDAR_DATA[v]&&(this.NEPALI_CALENDAR_DATA[v]=M)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),D.calendars.nepali=d},94320:function(ae,B,r){var D=r(63489);function d(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}function S(M,v){return M-v*Math.floor(M/v)}r(56131)(d.prototype=new D.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return 682*((v.year()-(v.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(M,v,u){var i=this.newDate(M,v,u);return i.add(-(i.dayOfWeek()+1)%7,"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInMonth:function(M,v){var u=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(12===u.month()&&this.leapYear(u.year())?1:0)},weekDay:function(M,v,u){return 5!==this.dayOfWeek(M,v,u)},toJD:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidDate);M=i.year(),v=i.month(),u=i.day();var s=M-(M>=0?474:473),a=474+S(s,2820);return u+(v<=7?31*(v-1):30*(v-1)+6)+Math.floor((682*a-110)/2816)+365*(a-1)+1029983*Math.floor(s/2820)+this.jdEpoch-1},fromJD:function(M){var v=(M=Math.floor(M)+.5)-this.toJD(475,1,1),u=Math.floor(v/1029983),i=S(v,1029983),s=2820;if(1029982!==i){var a=Math.floor(i/366),o=S(i,366);s=Math.floor((2134*a+2816*o+2815)/1028522)+a+1}var l=s+2820*u+474,c=M-this.toJD(l=l<=0?l-1:l,1,1)+1,f=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),g=M-this.toJD(l,f,1)+1;return this.newDate(l,f,g)}}),D.calendars.persian=d,D.calendars.jalali=d},31320:function(ae,B,r){var D=r(63489),E=r(56131),d=D.instance();function S(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(S.prototype=new D.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(v.year()),d.leapYear(M)},weekOfYear:function(M,v,u){var i=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(i.year()),d.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,v){var u=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(2===u.month()&&this.leapYear(u.year())?1:0)},weekDay:function(M,v,u){return(this.dayOfWeek(M,v,u)||7)<6},toJD:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidDate);return M=this._t2gYear(i.year()),d.toJD(M,i.month(),i.day())},fromJD:function(M){var v=d.fromJD(M),u=this._g2tYear(v.year());return this.newDate(u,v.month(),v.day())},_t2gYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)},_g2tYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)}}),D.calendars.taiwan=S},51367:function(ae,B,r){var D=r(63489),E=r(56131),d=D.instance();function S(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}E(S.prototype=new D.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(v.year()),d.leapYear(M)},weekOfYear:function(M,v,u){var i=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return M=this._t2gYear(i.year()),d.weekOfYear(M,i.month(),i.day())},daysInMonth:function(M,v){var u=this._validate(M,v,this.minDay,D.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(2===u.month()&&this.leapYear(u.year())?1:0)},weekDay:function(M,v,u){return(this.dayOfWeek(M,v,u)||7)<6},toJD:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidDate);return M=this._t2gYear(i.year()),d.toJD(M,i.month(),i.day())},fromJD:function(M){var v=d.fromJD(M),u=this._g2tYear(v.year());return this.newDate(u,v.month(),v.day())},_t2gYear:function(M){return M-this.yearsOffset-(M>=1&&M<=this.yearsOffset?1:0)},_g2tYear:function(M){return M+this.yearsOffset+(M>=-this.yearsOffset&&M<=-1?1:0)}}),D.calendars.thai=S},21457:function(ae,B,r){var D=r(63489);function d(M){this.local=this.regionalOptions[M||""]||this.regionalOptions[""]}r(56131)(d.prototype=new D.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(M){var v=this._validate(M,this.minMonth,this.minDay,D.local.invalidYear);return 355===this.daysInYear(v.year())},weekOfYear:function(M,v,u){var i=this.newDate(M,v,u);return i.add(-i.dayOfWeek(),"d"),Math.floor((i.dayOfYear()-1)/7)+1},daysInYear:function(M){for(var v=0,u=1;u<=12;u++)v+=this.daysInMonth(M,u);return v},daysInMonth:function(M,v){for(var u=this._validate(M,v,this.minDay,D.local.invalidMonth).toJD()-24e5+.5,i=0,s=0;s<S.length;s++){if(S[s]>u)return S[i]-S[i-1];i++}return 30},weekDay:function(M,v,u){return 5!==this.dayOfWeek(M,v,u)},toJD:function(M,v,u){var i=this._validate(M,v,u,D.local.invalidDate),s=12*(i.year()-1)+i.month()-15292;return i.day()+S[s-1]-1+24e5-.5},fromJD:function(M){for(var v=M-24e5+.5,u=0,i=0;i<S.length&&!(S[i]>v);i++)u++;var s=u+15292,a=Math.floor((s-1)/12);return this.newDate(a+1,s-12*a,v-S[u-1]+1)},isValid:function(M,v,u){var i=D.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(M=null!=M.year?M.year:M)>=1276&&M<=1500),i},_validate:function(M,v,u,i){var s=D.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw i.replace(/\{0\}/,this.local.name);return s}}),D.calendars.ummalqura=d;var S=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(ae,B,r){var D=r(56131);function E(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function d(i,s,a,o){if(this._calendar=i,this._year=s,this._month=a,this._day=o,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function S(i,s){return"000000".substring(0,s-(i=""+i).length)+i}function M(){this.shortYearCutoff="+10"}function v(i){this.local=this.regionalOptions[i]||this.regionalOptions[""]}D(E.prototype,{instance:function(i,s){i=(i||"gregorian").toLowerCase();var a=this._localCals[i+"-"+(s=s||"")];if(!a&&this.calendars[i]&&(a=new this.calendars[i](s),this._localCals[i+"-"+s]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,i);return a},newDate:function(i,s,a,o,l){return(o=(null!=i&&i.year?i.calendar():"string"==typeof o?this.instance(o,l):o)||this.instance()).newDate(i,s,a)},substituteDigits:function(i){return function(s){return(s+"").replace(/[0-9]/g,function(a){return i[a]})}},substituteChineseDigits:function(i,s){return function(a){for(var o="",l=0;a>0;){var c=a%10;o=(0===c?"":i[c]+s[l])+o,l++,a=Math.floor(a/10)}return 0===o.indexOf(i[1]+s[1])&&(o=o.substr(1)),o||i[0]}}}),D(d.prototype,{newDate:function(i,s,a){return this._calendar.newDate(i??this,s,a)},year:function(i){return 0===arguments.length?this._year:this.set(i,"y")},month:function(i){return 0===arguments.length?this._month:this.set(i,"m")},day:function(i){return 0===arguments.length?this._day:this.set(i,"d")},date:function(i,s,a){if(!this._calendar.isValid(i,s,a))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=i,this._month=s,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(i,s){return this._calendar.add(this,i,s)},set:function(i,s){return this._calendar.set(this,i,s)},compareTo:function(i){if(this._calendar.name!==i._calendar.name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,i._calendar.local.name);var s=this._year!==i._year?this._year-i._year:this._month!==i._month?this.monthOfYear()-i.monthOfYear():this._day-i._day;return 0===s?0:s<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(i){return this._calendar.fromJD(i)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(i){return this._calendar.fromJSDate(i)},toString:function(){return(this.year()<0?"-":"")+S(Math.abs(this.year()),4)+"-"+S(this.month(),2)+"-"+S(this.day(),2)}}),D(M.prototype,{_validateLevel:0,newDate:function(i,s,a){return null==i?this.today():(i.year&&(this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate),a=i.day(),s=i.month(),i=i.year()),new d(this,i,s,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(i){return this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return(s.year()<0?"-":"")+S(Math.abs(s.year()),4)},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear),12},monthOfYear:function(i,s){var a=this._validate(i,s,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(i,s){var a=(s+this.firstMonth-2*this.minMonth)%this.monthsInYear(i)+this.minMonth;return this._validate(i,a,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth),a},daysInYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return this.leapYear(s)?366:365},dayOfYear:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate);return o.toJD()-this.newDate(o.year(),this.fromMonthOfYear(o.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(o))+2)%this.daysInWeek()},extraInfo:function(i,s,a){return this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate),{}},add:function(i,s,a){return this._validate(i,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate),this._correctAdd(i,this._add(i,s,a),s,a)},_add:function(i,s,a){if(this._validateLevel++,"d"===a||"w"===a){var o=i.toJD()+s*("w"===a?this.daysInWeek():1),l=i.calendar().fromJD(o);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var c=i.year()+("y"===a?s:0),f=i.monthOfYear()+("m"===a?s:0);l=i.day(),"y"===a?(i.month()!==this.fromMonthOfYear(c,f)&&(f=this.newDate(c,i.month(),this.minDay).monthOfYear()),f=Math.min(f,this.monthsInYear(c)),l=Math.min(l,this.daysInMonth(c,this.fromMonthOfYear(c,f)))):"m"===a&&(function(h){for(;f<h.minMonth;)c--,f+=h.monthsInYear(c);for(var T=h.monthsInYear(c);f>T-1+h.minMonth;)c++,f-=T,T=h.monthsInYear(c)}(this),l=Math.min(l,this.daysInMonth(c,this.fromMonthOfYear(c,f))));var g=[c,this.fromMonthOfYear(c,f),l];return this._validateLevel--,g}catch(h){throw this._validateLevel--,h}},_correctAdd:function(i,s,a,o){if(!(this.hasYearZero||"y"!==o&&"m"!==o||0!==s[0]&&i.year()>0==s[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[o];s=this._add(i,a*l[0]+(a<0?-1:1)*l[1],l[2])}return i.date(s[0],s[1],s[2])},set:function(i,s,a){this._validate(i,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate);var o="y"===a?s:i.year(),l="m"===a?s:i.month(),c="d"===a?s:i.day();return"y"!==a&&"m"!==a||(c=Math.min(c,this.daysInMonth(o,l))),i.date(o,l,c)},isValid:function(i,s,a){this._validateLevel++;var o=this.hasYearZero||0!==i;if(o){var l=this.newDate(i,s,this.minDay);o=s>=this.minMonth&&s-this.minMonth<this.monthsInYear(l)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(l)}return this._validateLevel--,o},toJSDate:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate);return u.instance().fromJD(this.toJD(o)).toJSDate()},fromJSDate:function(i){return this.fromJD(u.instance().fromJSDate(i).toJD())},_validate:function(i,s,a,o){if(i.year){if(0===this._validateLevel&&this.name!==i.calendar().name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,i.calendar().local.name);return i}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(i,s,a))throw o.replace(/\{0\}/,this.local.name);var l=this.newDate(i,s,a);return this._validateLevel--,l}catch(c){throw this._validateLevel--,c}}}),D(v.prototype=new M,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var s=this._validate(i,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return(i=s.year()+(s.year()<0?1:0))%4==0&&(i%100!=0||i%400==0)},weekOfYear:function(i,s,a){var o=this.newDate(i,s,a);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,s){var a=this._validate(i,s,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(2===a.month()&&this.leapYear(a.year())?1:0)},weekDay:function(i,s,a){return(this.dayOfWeek(i,s,a)||7)<6},toJD:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate);i=o.year(),s=o.month(),a=o.day(),i<0&&i++,s<3&&(s+=12,i--);var l=Math.floor(i/100),c=2-l+Math.floor(l/4);return Math.floor(365.25*(i+4716))+Math.floor(30.6001*(s+1))+a+c-1524.5},fromJD:function(i){var s=Math.floor(i+.5),a=Math.floor((s-1867216.25)/36524.25),o=1524+(a=s+1+a-Math.floor(a/4)),l=Math.floor((o-122.1)/365.25),c=Math.floor(365.25*l),f=Math.floor((o-c)/30.6001),g=o-c-Math.floor(30.6001*f),h=f-(f>13.5?13:1),T=l-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,g)},toJSDate:function(i,s,a){var o=this._validate(i,s,a,u.local.invalidDate||u.regionalOptions[""].invalidDate),l=new Date(o.year(),o.month()-1,o.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(i){return this.newDate(i.getFullYear(),i.getMonth()+1,i.getDate())}});var u=ae.exports=new E;u.cdate=d,u.baseCalendar=M,u.calendars.gregorian=v},94338:function(ae,B,r){var D=r(56131),E=r(63489);D(E.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),E.local=E.regionalOptions[""],D(E.cdate.prototype,{formatDate:function(d,S){return"string"!=typeof d&&(S=d,d=""),this._calendar.formatDate(d||"",this,S)}}),D(E.baseCalendar.prototype,{UNIX_EPOCH:E.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:E.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(d,S,M){if("string"!=typeof d&&(M=S,S=d,d=""),!S)return"";if(S.calendar()!==this)throw E.local.invalidFormat||E.regionalOptions[""].invalidFormat;d=d||this.local.dateFormat;for(var v,u,i,s=(M=M||{}).dayNamesShort||this.local.dayNamesShort,a=M.dayNames||this.local.dayNames,o=M.monthNumbers||this.local.monthNumbers,l=M.monthNamesShort||this.local.monthNamesShort,c=M.monthNames||this.local.monthNames,f=function(p,I){for(var k=1;A+k<d.length&&d.charAt(A+k)===p;)k++;return A+=k-1,Math.floor(k/(I||1))>1},g=function(p,I,k,L){var O=""+I;if(f(p,L))for(;O.length<k;)O="0"+O;return O},h=this,x=function(p,I){return I?"function"==typeof c?c.call(h,p):c[p.month()-h.minMonth]:"function"==typeof l?l.call(h,p):l[p.month()-h.minMonth]},m=this.local.digits,b=function(p){return M.localNumbers&&m?m(p):p},_="",w=!1,A=0;A<d.length;A++)if(w)"'"!==d.charAt(A)||f("'")?_+=d.charAt(A):w=!1;else switch(d.charAt(A)){case"d":_+=b(g("d",S.day(),2));break;case"D":_+=(v=S.dayOfWeek(),u=s,i=a,f("D")?i[v]:u[v]);break;case"o":_+=g("o",S.dayOfYear(),3);break;case"w":_+=g("w",S.weekOfYear(),2);break;case"m":_+=(p=S,"function"==typeof o?o.call(h,p,f("m")):b(g("m",p.month(),2)));break;case"M":_+=x(S,f("M"));break;case"y":_+=f("y",2)?S.year():(S.year()%100<10?"0":"")+S.year()%100;break;case"Y":f("Y",2),_+=S.formatYear();break;case"J":_+=S.toJD();break;case"@":_+=(S.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":_+=(S.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":f("'")?_+="'":w=!0;break;default:_+=d.charAt(A)}var p;return _},parseDate:function(d,S,M){if(null==S)throw E.local.invalidArguments||E.regionalOptions[""].invalidArguments;if(""===(S="object"==typeof S?S.toString():S+""))return null;d=d||this.local.dateFormat;var v=(M=M||{}).shortYearCutoff||this.shortYearCutoff;v="string"!=typeof v?v:this.today().year()%100+parseInt(v,10);for(var u=M.dayNamesShort||this.local.dayNamesShort,i=M.dayNames||this.local.dayNames,s=M.parseMonth||this.local.parseMonth,a=M.monthNumbers||this.local.monthNumbers,o=M.monthNamesShort||this.local.monthNamesShort,l=M.monthNames||this.local.monthNames,c=-1,f=-1,g=-1,h=-1,T=-1,x=!1,m=!1,b=function(j,X){for(var N=1;O+N<d.length&&d.charAt(O+N)===j;)N++;return O+=N-1,Math.floor(N/(X||1))>1},_=function(j,X){var N=b(j,X),q=[2,3,N?4:2,N?4:2,10,11,20]["oyYJ@!".indexOf(j)+1],G=new RegExp("^-?\\d{1,"+q+"}"),H=S.substring(L).match(G);if(!H)throw(E.local.missingNumberAt||E.regionalOptions[""].missingNumberAt).replace(/\{0\}/,L);return L+=H[0].length,parseInt(H[0],10)},w=this,A=function(){if("function"==typeof a){b("m");var j=a.call(w,S.substring(L));return L+=j.length,j}return _("m")},p=function(j,X,N,q){for(var G=b(j,q)?N:X,H=0;H<G.length;H++)if(S.substr(L,G[H].length).toLowerCase()===G[H].toLowerCase())return L+=G[H].length,H+w.minMonth;throw(E.local.unknownNameAt||E.regionalOptions[""].unknownNameAt).replace(/\{0\}/,L)},I=function(){if("function"==typeof l){var j=b("M")?l.call(w,S.substring(L)):o.call(w,S.substring(L));return L+=j.length,j}return p("M",o,l)},k=function(){if(S.charAt(L)!==d.charAt(O))throw(E.local.unexpectedLiteralAt||E.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,L);L++},L=0,O=0;O<d.length;O++)if(m)"'"!==d.charAt(O)||b("'")?k():m=!1;else switch(d.charAt(O)){case"d":h=_("d");break;case"D":p("D",u,i);break;case"o":T=_("o");break;case"w":_("w");break;case"m":g=A();break;case"M":g=I();break;case"y":var P=O;x=!b("y",2),O=P,f=_("y",2);break;case"Y":f=_("Y",2);break;case"J":c=_("J")+.5,"."===S.charAt(L)&&(L++,_("J"));break;case"@":c=_("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=_("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":L=S.length;break;case"'":b("'")?k():m=!0;break;default:k()}if(L<S.length)throw E.local.unexpectedText||E.regionalOptions[""].unexpectedText;if(-1===f?f=this.today().year():f<100&&x&&(f+=-1===v?1900:this.today().year()-this.today().year()%100-(f<=v?0:100)),"string"==typeof g&&(g=s.call(this,f,g)),T>-1){h=T;for(var F=this.daysInMonth(f,g=1);h>F;F=this.daysInMonth(f,g))g++,h-=F}return c>-1?this.fromJD(c):this.newDate(f,g,h)},determineDate:function(d,S,M,v,u){M&&"object"!=typeof M&&(u=v,v=M,M=null),"string"!=typeof v&&(u=v,v="");var i=this;return S=S?S.newDate():null,null==d?S:"string"==typeof d?function(s){try{return i.parseDate(v,s,u)}catch{}for(var a=((s=s.toLowerCase()).match(/^c/)&&M?M.newDate():null)||i.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=o.exec(s);l;)a.add(parseInt(l[1],10),l[2]||"d"),l=o.exec(s);return a}(d):"number"==typeof d?isNaN(d)||d===1/0||d===-1/0?S:i.today().add(d,"d"):i.newDate(d)}})},69862:function(){},40964:function(){},72077:function(ae,B,r){"use strict";var D=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],E=typeof globalThis>"u"?r.g:globalThis;ae.exports=function(){for(var d=[],S=0;S<D.length;S++)"function"==typeof E[D[S]]&&(d[d.length]=D[S]);return d}},81684:function(ae,B,r){"use strict";function D(Me,_e,we){Me.prototype=_e.prototype=we,we.constructor=Me}function E(Me,_e){var we=Object.create(Me.prototype);for(var ze in _e)we[ze]=_e[ze];return we}function d(){}r.d(B,{sX:function(){return Ie},k4:function(){return Q}});var S=.7,M=1/S,v="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),o=new RegExp("^rgb\\(".concat(i,",").concat(i,",").concat(i,"\\)$")),l=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(u,"\\)$")),c=new RegExp("^rgba\\(".concat(i,",").concat(i,",").concat(i,",").concat(u,"\\)$")),f=new RegExp("^hsl\\(".concat(u,",").concat(i,",").concat(i,"\\)$")),g=new RegExp("^hsla\\(".concat(u,",").concat(i,",").concat(i,",").concat(u,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function T(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function m(Me){var _e,we;return Me=(Me+"").trim().toLowerCase(),(_e=s.exec(Me))?(we=_e[1].length,_e=parseInt(_e[1],16),6===we?b(_e):3===we?new A(_e>>8&15|_e>>4&240,_e>>4&15|240&_e,(15&_e)<<4|15&_e,1):8===we?_(_e>>24&255,_e>>16&255,_e>>8&255,(255&_e)/255):4===we?_(_e>>12&15|_e>>8&240,_e>>8&15|_e>>4&240,_e>>4&15|240&_e,((15&_e)<<4|15&_e)/255):null):(_e=a.exec(Me))?new A(_e[1],_e[2],_e[3],1):(_e=o.exec(Me))?new A(255*_e[1]/100,255*_e[2]/100,255*_e[3]/100,1):(_e=l.exec(Me))?_(_e[1],_e[2],_e[3],_e[4]):(_e=c.exec(Me))?_(255*_e[1]/100,255*_e[2]/100,255*_e[3]/100,_e[4]):(_e=f.exec(Me))?P(_e[1],_e[2]/100,_e[3]/100,1):(_e=g.exec(Me))?P(_e[1],_e[2]/100,_e[3]/100,_e[4]):h.hasOwnProperty(Me)?b(h[Me]):"transparent"===Me?new A(NaN,NaN,NaN,0):null}function b(Me){return new A(Me>>16&255,Me>>8&255,255&Me,1)}function _(Me,_e,we,ze){return ze<=0&&(Me=_e=we=NaN),new A(Me,_e,we,ze)}function w(Me,_e,we,ze){return 1===arguments.length?((Ee=Me)instanceof d||(Ee=m(Ee)),Ee?new A((Ee=Ee.rgb()).r,Ee.g,Ee.b,Ee.opacity):new A):new A(Me,_e,we,ze??1);var Ee}function A(Me,_e,we,ze){this.r=+Me,this.g=+_e,this.b=+we,this.opacity=+ze}function p(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b))}function I(){var Me=k(this.opacity);return"".concat(1===Me?"rgb(":"rgba(").concat(L(this.r),", ").concat(L(this.g),", ").concat(L(this.b)).concat(1===Me?")":", ".concat(Me,")"))}function k(Me){return isNaN(Me)?1:Math.max(0,Math.min(1,Me))}function L(Me){return Math.max(0,Math.min(255,Math.round(Me)||0))}function O(Me){return((Me=L(Me))<16?"0":"")+Me.toString(16)}function P(Me,_e,we,ze){return ze<=0?Me=_e=we=NaN:we<=0||we>=1?Me=_e=NaN:_e<=0&&(Me=NaN),new j(Me,_e,we,ze)}function F(Me){if(Me instanceof j)return new j(Me.h,Me.s,Me.l,Me.opacity);if(Me instanceof d||(Me=m(Me)),!Me)return new j;if(Me instanceof j)return Me;var _e=(Me=Me.rgb()).r/255,we=Me.g/255,ze=Me.b/255,Ee=Math.min(_e,we,ze),Se=Math.max(_e,we,ze),me=NaN,fe=Se-Ee,le=(Se+Ee)/2;return fe?(me=_e===Se?(we-ze)/fe+6*(we<ze):we===Se?(ze-_e)/fe+2:(_e-we)/fe+4,fe/=le<.5?Se+Ee:2-Se-Ee,me*=60):fe=le>0&&le<1?0:me,new j(me,fe,le,Me.opacity)}function j(Me,_e,we,ze){this.h=+Me,this.s=+_e,this.l=+we,this.opacity=+ze}function X(Me){return(Me=(Me||0)%360)<0?Me+360:Me}function N(Me){return Math.max(0,Math.min(1,Me||0))}function q(Me,_e,we){return 255*(Me<60?_e+(we-_e)*Me/60:Me<180?we:Me<240?_e+(we-_e)*(240-Me)/60:_e)}function G(Me,_e,we,ze,Ee){var Se=Me*Me,me=Se*Me;return((1-3*Me+3*Se-me)*_e+(4-6*Se+3*me)*we+(1+3*Me+3*Se-3*me)*ze+me*Ee)/6}D(d,m,{copy:function(Me){return Object.assign(new this.constructor,this,Me)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return F(this).formatHsl()},formatRgb:x,toString:x}),D(A,w,E(d,{brighter:function(Me){return Me=null==Me?M:Math.pow(M,Me),new A(this.r*Me,this.g*Me,this.b*Me,this.opacity)},darker:function(Me){return Me=null==Me?S:Math.pow(S,Me),new A(this.r*Me,this.g*Me,this.b*Me,this.opacity)},rgb:function(){return this},clamp:function(){return new A(L(this.r),L(this.g),L(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p,formatHex:p,formatHex8:function(){return"#".concat(O(this.r)).concat(O(this.g)).concat(O(this.b)).concat(O(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:I,toString:I})),D(j,function(Me,_e,we,ze){return 1===arguments.length?F(Me):new j(Me,_e,we,ze??1)},E(d,{brighter:function(Me){return Me=null==Me?M:Math.pow(M,Me),new j(this.h,this.s,this.l*Me,this.opacity)},darker:function(Me){return Me=null==Me?S:Math.pow(S,Me),new j(this.h,this.s,this.l*Me,this.opacity)},rgb:function(){var Me=this.h%360+360*(this.h<0),_e=isNaN(Me)||isNaN(this.s)?0:this.s,we=this.l,ze=we+(we<.5?we:1-we)*_e,Ee=2*we-ze;return new A(q(Me>=240?Me-240:Me+120,Ee,ze),q(Me,Ee,ze),q(Me<120?Me+240:Me-120,Ee,ze),this.opacity)},clamp:function(){return new j(X(this.h),N(this.s),N(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Me=k(this.opacity);return"".concat(1===Me?"hsl(":"hsla(").concat(X(this.h),", ").concat(100*N(this.s),"%, ").concat(100*N(this.l),"%").concat(1===Me?")":", ".concat(Me,")"))}}));var H=function(Me){return function(){return Me}};function Z(Me,_e){var ze,Ee,we=_e-Me;return we?(ze=Me,Ee=we,function(Se){return ze+Se*Ee}):H(isNaN(Me)?_e:Me)}var $=function Me(_e){var Ee,we=1==(Ee=+(Ee=_e))?Z:function(Se,me){return me-Se?(fe=Se,le=me,Te=Ee,fe=Math.pow(fe,Te),le=Math.pow(le,Te)-fe,Te=1/Te,function(Re){return Math.pow(fe+Re*le,Te)}):H(isNaN(Se)?me:Se);var fe,le,Te};function ze(Ee,Se){var me=we((Ee=w(Ee)).r,(Se=w(Se)).r),fe=we(Ee.g,Se.g),le=we(Ee.b,Se.b),Te=Z(Ee.opacity,Se.opacity);return function(Re){return Ee.r=me(Re),Ee.g=fe(Re),Ee.b=le(Re),Ee.opacity=Te(Re),Ee+""}}return ze.gamma=Me,ze}(1);function se(Me){return function(_e){var we,ze,Ee=_e.length,Se=new Array(Ee),me=new Array(Ee),fe=new Array(Ee);for(we=0;we<Ee;++we)ze=w(_e[we]),Se[we]=ze.r||0,me[we]=ze.g||0,fe[we]=ze.b||0;return Se=Me(Se),me=Me(me),fe=Me(fe),ze.opacity=1,function(le){return ze.r=Se(le),ze.g=me(le),ze.b=fe(le),ze+""}}}function ne(Me,_e){var we,ze=_e?_e.length:0,Ee=Me?Math.min(ze,Me.length):0,Se=new Array(Ee),me=new Array(ze);for(we=0;we<Ee;++we)Se[we]=Ie(Me[we],_e[we]);for(;we<ze;++we)me[we]=_e[we];return function(fe){for(we=0;we<Ee;++we)me[we]=Se[we](fe);return me}}function re(Me,_e){var we=new Date;return Me=+Me,_e=+_e,function(ze){return we.setTime(Me*(1-ze)+_e*ze),we}}function Q(Me,_e){return Me=+Me,_e=+_e,function(we){return Me*(1-we)+_e*we}}function ee(Me){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(Me)}function oe(Me,_e){var we,ze={},Ee={};for(we in null!==Me&&"object"===ee(Me)||(Me={}),null!==_e&&"object"===ee(_e)||(_e={}),_e)we in Me?ze[we]=Ie(Me[we],_e[we]):Ee[we]=_e[we];return function(Se){for(we in ze)Ee[we]=ze[we](Se);return Ee}}se(function(Me){var _e=Me.length-1;return function(we){var ze=we<=0?we=0:we>=1?(we=1,_e-1):Math.floor(we*_e),Ee=Me[ze],Se=Me[ze+1];return G((we-ze/_e)*_e,ze>0?Me[ze-1]:2*Ee-Se,Ee,Se,ze<_e-1?Me[ze+2]:2*Se-Ee)}}),se(function(Me){var _e=Me.length;return function(we){var ze=Math.floor(((we%=1)<0?++we:we)*_e);return G((we-ze/_e)*_e,Me[(ze+_e-1)%_e],Me[ze%_e],Me[(ze+1)%_e],Me[(ze+2)%_e])}});var ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ue=new RegExp(ce.source,"g");function he(Me,_e){var we,ze,Ee,Te,Se=ce.lastIndex=ue.lastIndex=0,me=-1,fe=[],le=[];for(Me+="",_e+="";(we=ce.exec(Me))&&(ze=ue.exec(_e));)(Ee=ze.index)>Se&&(Ee=_e.slice(Se,Ee),fe[me]?fe[me]+=Ee:fe[++me]=Ee),(we=we[0])===(ze=ze[0])?fe[me]?fe[me]+=ze:fe[++me]=ze:(fe[++me]=null,le.push({i:me,x:Q(we,ze)})),Se=ue.lastIndex;return Se<_e.length&&(Ee=_e.slice(Se),fe[me]?fe[me]+=Ee:fe[++me]=Ee),fe.length<2?le[0]?(Te=le[0].x,function(Re){return Te(Re)+""}):function(Te){return function(){return Te}}(_e):(_e=le.length,function(Te){for(var Re,De=0;De<_e;++De)fe[(Re=le[De]).i]=Re.x(Te);return fe.join("")})}function ve(Me,_e){_e||(_e=[]);var we,ze=Me?Math.min(_e.length,Me.length):0,Ee=_e.slice();return function(Se){for(we=0;we<ze;++we)Ee[we]=Me[we]*(1-Se)+_e[we]*Se;return Ee}}function ke(Me){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(Me)}function Ie(Me,_e){var we,ze,Ee=ke(_e);return null==_e||"boolean"===Ee?H(_e):("number"===Ee?Q:"string"===Ee?(we=m(_e))?(_e=we,$):he:_e instanceof m?$:_e instanceof Date?re:(ze=_e,!ArrayBuffer.isView(ze)||ze instanceof DataView?Array.isArray(_e)?ne:"function"!=typeof _e.valueOf&&"function"!=typeof _e.toString||isNaN(_e)?oe:Q:ve))(Me,_e)}},40402:function(ae){"use strict";ae.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(ae){"use strict";ae.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(ae){"use strict";ae.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(ae){"use strict";ae.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(ae){"use strict";ae.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(ae){"use strict";ae.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Jf={};function xo(ae){var B=Jf[ae];if(void 0!==B)return B.exports;var r=Jf[ae]={exports:{}};return km[ae].call(r.exports,r,r.exports,xo),r.exports}return xo.n=function(ae){var B=ae&&ae.__esModule?function(){return ae.default}:function(){return ae};return xo.d(B,{a:B}),B},xo.d=function(ae,B){for(var r in B)xo.o(B,r)&&!xo.o(ae,r)&&Object.defineProperty(ae,r,{enumerable:!0,get:B[r]})},xo.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),xo.o=function(ae,B){return Object.prototype.hasOwnProperty.call(ae,B)},xo.r=function(ae){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})},xo(27909)}()}},Am=>{Am(Am.s=154)}]);